"use strict";(self.webpackChunknewsApp=self.webpackChunknewsApp||[]).push([[179],{6304:(ht,Ce,L)=>{L.d(Ce,{Dh:()=>Me,GT:()=>te,cc:()=>Ae,hO:()=>He,on:()=>j,pX:()=>fe,xv:()=>me});var d=L(5879),ie=L(120),B=L(5497);ht=L.hmd(ht);const oe=["ngOnDestroy"],fe=(Ne,mt,pt,ce={})=>new Proxy(Ne,{get:(xe,re)=>pt.runOutsideAngular(()=>{var Te;if(Ne[re])return!(null===(Te=ce?.spy)||void 0===Te)&&Te.get&&ce.spy.get(re,Ne[re]),Ne[re];if(oe.indexOf(re)>-1)return()=>{};const Be=mt.toPromise().then(ue=>{const Y=ue&&ue[re];return"function"==typeof Y?Y.bind(ue):Y&&Y.then?Y.then(qe=>pt.run(()=>qe)):pt.run(()=>Y)});return new Proxy(()=>{},{get:(ue,Y)=>Be[Y],apply:(ue,Y,qe)=>Be.then(_t=>{var bn;const Vn=_t&&_t(...qe);return!(null===(bn=ce?.spy)||void 0===bn)&&bn.apply&&ce.spy.apply(re,qe,Vn),Vn})})})}),te=(Ne,mt)=>{mt.forEach(pt=>{Object.getOwnPropertyNames(pt.prototype||pt).forEach(ce=>{Object.defineProperty(Ne.prototype,ce,Object.getOwnPropertyDescriptor(pt.prototype||pt,ce))})})};class _e{constructor(mt){return mt}}const Me=new d.OlP("angularfire2.app.options"),me=new d.OlP("angularfire2.app.name");function j(Ne,mt,pt){const xe="object"==typeof pt&&pt||{};xe.name=xe.name||"string"==typeof pt&&pt||"[DEFAULT]";const Te=ie.Z.apps.filter(Be=>Be&&Be.name===xe.name)[0]||mt.runOutsideAngular(()=>ie.Z.initializeApp(Ne,xe));try{JSON.stringify(Ne)!==JSON.stringify(Te.options)&&G("error",`${Te.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(Te)}const G=(Ne,...mt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ne](...mt)},J={provide:_e,useFactory:j,deps:[Me,d.R0b,[new d.FiY,me]]};let He=(()=>{class Ne{constructor(pt){ie.Z.registerVersion("angularfire",B.q4.full,"core"),ie.Z.registerVersion("angularfire",B.q4.full,"app-compat"),ie.Z.registerVersion("angular",d.q4F.full,pt.toString())}static initializeApp(pt,ce){return{ngModule:Ne,providers:[{provide:Me,useValue:pt},{provide:me,useValue:ce}]}}}return Ne.\u0275fac=function(pt){return new(pt||Ne)(d.LFG(d.Lbi))},Ne.\u0275mod=d.oAB({type:Ne}),Ne.\u0275inj=d.cJS({providers:[J]}),Ne})();function Ae(Ne,mt,pt,ce,xe){const[,re,Te]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===Ne)||[];if(re)return function Ye(Ne,mt){try{return Ne.toString()===mt.toString()}catch{return Ne===mt}}(xe,Te)||(Qe("error",`${mt} was already initialized on the ${pt} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),Qe("warn",{is:xe,was:Te})),re;{const Be=ce();return globalThis.\u0275AngularfireInstanceCache.push([Ne,Be,xe]),Be}}const Le=!!ht.hot,Qe=(Ne,...mt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ne](...mt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5497:(ht,Ce,L)=>{L.d(Ce,{q4:()=>tu,iC:()=>Sg,fc:()=>gm,HU:()=>Ha,vb:()=>ja,JM:()=>Ss});var d=L(5879),ie=L(4097),B=L(5861),oe=L(4537),fe=L(7879),te=L(9058),_e=L(1878);class Me{constructor(I){this.container=I}getPlatformInfoString(){return this.container.getProviders().map(S=>{if(function me(x){const I=x.getComponent();return"VERSION"===I?.type}(S)){const N=S.getImmediate();return`${N.library}/${N.version}`}return null}).filter(S=>S).join(" ")}}const j="@firebase/app",G="0.9.25",J=new fe.Yd("@firebase/app"),be={[j]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},we=new Map,Ie=new Map;function at(x,I){try{x.container.addComponent(I)}catch(S){J.debug(`Component ${I.name} failed to register with FirebaseApp ${x.name}`,S)}}function Cn(x){const I=x.name;if(Ie.has(I))return J.debug(`There were multiple attempts to register component ${I}.`),!1;Ie.set(I,x);for(const S of we.values())at(S,x);return!0}function vt(x,I){const S=x.container.getProvider("heartbeat").getImmediate({optional:!0});return S&&S.triggerHeartbeat(),x.container.getProvider(I)}const cn=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});function Xi(x,I,S){var N;let H=null!==(N=be[x])&&void 0!==N?N:x;S&&(H+=`-${S}`);const K=H.match(/\s|\//),le=I.match(/\s|\//);if(K||le){const Ue=[`Unable to register library "${H}" with version "${I}":`];return K&&Ue.push(`library name "${H}" contains illegal characters (whitespace or "/")`),K&&le&&Ue.push("and"),le&&Ue.push(`version name "${I}" contains illegal characters (whitespace or "/")`),void J.warn(Ue.join(" "))}Cn(new oe.wA(`${H}-version`,()=>({library:H,version:I}),"VERSION"))}const Lt="firebase-heartbeat-database",$t=1,Hn="firebase-heartbeat-store";let xi=null;function Ji(){return xi||(xi=(0,_e.X3)(Lt,$t,{upgrade:(x,I)=>{0===I&&x.createObjectStore(Hn)}}).catch(x=>{throw cn.create("idb-open",{originalErrorMessage:x.message})})),xi}function di(){return(di=(0,B.Z)(function*(x){try{return yield(yield Ji()).transaction(Hn).objectStore(Hn).get(us(x))}catch(I){if(I instanceof te.ZR)J.warn(I.message);else{const S=cn.create("idb-get",{originalErrorMessage:I?.message});J.warn(S.message)}}})).apply(this,arguments)}function _a(x,I){return ct.apply(this,arguments)}function ct(){return(ct=(0,B.Z)(function*(x,I){try{const N=(yield Ji()).transaction(Hn,"readwrite");yield N.objectStore(Hn).put(I,us(x)),yield N.done}catch(S){if(S instanceof te.ZR)J.warn(S.message);else{const N=cn.create("idb-set",{originalErrorMessage:S?.message});J.warn(N.message)}}})).apply(this,arguments)}function us(x){return`${x.name}!${x.options.appId}`}class Uo{constructor(I){this.container=I,this._heartbeatsCache=null;const S=this.container.getProvider("app").getImmediate();this._storage=new lc(S),this._heartbeatsCachePromise=this._storage.read().then(N=>(this._heartbeatsCache=N,N))}triggerHeartbeat(){var I=this;return(0,B.Z)(function*(){var S,N;const K=I.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),le=cc();if((null!=(null===(S=I._heartbeatsCache)||void 0===S?void 0:S.heartbeats)||(I._heartbeatsCache=yield I._heartbeatsCachePromise,null!=(null===(N=I._heartbeatsCache)||void 0===N?void 0:N.heartbeats)))&&I._heartbeatsCache.lastSentHeartbeatDate!==le&&!I._heartbeatsCache.heartbeats.some(Ue=>Ue.date===le))return I._heartbeatsCache.heartbeats.push({date:le,agent:K}),I._heartbeatsCache.heartbeats=I._heartbeatsCache.heartbeats.filter(Ue=>{const $e=new Date(Ue.date).valueOf();return Date.now()-$e<=2592e6}),I._storage.overwrite(I._heartbeatsCache)})()}getHeartbeatsHeader(){var I=this;return(0,B.Z)(function*(){var S;if(null===I._heartbeatsCache&&(yield I._heartbeatsCachePromise),null==(null===(S=I._heartbeatsCache)||void 0===S?void 0:S.heartbeats)||0===I._heartbeatsCache.heartbeats.length)return"";const N=cc(),{heartbeatsToSend:H,unsentEntries:K}=function jo(x,I=1024){const S=[];let N=x.slice();for(const H of x){const K=S.find(le=>le.agent===H.agent);if(K){if(K.dates.push(H.date),rt(S)>I){K.dates.pop();break}}else if(S.push({agent:H.agent,dates:[H.date]}),rt(S)>I){S.pop();break}N=N.slice(1)}return{heartbeatsToSend:S,unsentEntries:N}}(I._heartbeatsCache.heartbeats),le=(0,te.L)(JSON.stringify({version:2,heartbeats:H}));return I._heartbeatsCache.lastSentHeartbeatDate=N,K.length>0?(I._heartbeatsCache.heartbeats=K,yield I._storage.overwrite(I._heartbeatsCache)):(I._heartbeatsCache.heartbeats=[],I._storage.overwrite(I._heartbeatsCache)),le})()}}function cc(){return(new Date).toISOString().substring(0,10)}class lc{constructor(I){this.app=I,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,B.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var I=this;return(0,B.Z)(function*(){if(yield I._canUseIndexedDBPromise){const N=yield function wn(x){return di.apply(this,arguments)}(I.app);return N?.heartbeats?N:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(I){var S=this;return(0,B.Z)(function*(){var N;if(yield S._canUseIndexedDBPromise){const K=yield S.read();return _a(S.app,{lastSentHeartbeatDate:null!==(N=I.lastSentHeartbeatDate)&&void 0!==N?N:K.lastSentHeartbeatDate,heartbeats:I.heartbeats})}})()}add(I){var S=this;return(0,B.Z)(function*(){var N;if(yield S._canUseIndexedDBPromise){const K=yield S.read();return _a(S.app,{lastSentHeartbeatDate:null!==(N=I.lastSentHeartbeatDate)&&void 0!==N?N:K.lastSentHeartbeatDate,heartbeats:[...K.heartbeats,...I.heartbeats]})}})()}}function rt(x){return(0,te.L)(JSON.stringify({version:2,heartbeats:x})).length}!function De(x){Cn(new oe.wA("platform-logger",I=>new Me(I),"PRIVATE")),Cn(new oe.wA("heartbeat",I=>new Uo(I),"PRIVATE")),Xi(j,G,x),Xi(j,G,"esm2017"),Xi("fire-js","")}("");const nt=(x,I)=>I.some(S=>x instanceof S);let Pt,At;const $=new WeakMap,z=new WeakMap,Q=new WeakMap,Ee=new WeakMap,se=new WeakMap;let Jt={get(x,I,S){if(x instanceof IDBTransaction){if("done"===I)return z.get(x);if("objectStoreNames"===I)return x.objectStoreNames||Q.get(x);if("store"===I)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return Gt(x[I])},set:(x,I,S)=>(x[I]=S,!0),has:(x,I)=>x instanceof IDBTransaction&&("done"===I||"store"===I)||I in x};function Bt(x){return"function"==typeof x?function Ui(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qn(){return At||(At=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...I){return x.apply(pr(this),I),Gt($.get(this))}:function(...I){return Gt(x.apply(pr(this),I))}:function(I,...S){const N=x.call(pr(this),I,...S);return Q.set(N,I.sort?I.sort():[I]),Gt(N)}}(x):(x instanceof IDBTransaction&&function Ct(x){if(z.has(x))return;const I=new Promise((S,N)=>{const H=()=>{x.removeEventListener("complete",K),x.removeEventListener("error",le),x.removeEventListener("abort",le)},K=()=>{S(),H()},le=()=>{N(x.error||new DOMException("AbortError","AbortError")),H()};x.addEventListener("complete",K),x.addEventListener("error",le),x.addEventListener("abort",le)});z.set(x,I)}(x),nt(x,function _n(){return Pt||(Pt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,Jt):x)}function Gt(x){if(x instanceof IDBRequest)return function ut(x){const I=new Promise((S,N)=>{const H=()=>{x.removeEventListener("success",K),x.removeEventListener("error",le)},K=()=>{S(Gt(x.result)),H()},le=()=>{N(x.error),H()};x.addEventListener("success",K),x.addEventListener("error",le)});return I.then(S=>{S instanceof IDBCursor&&$.set(S,x)}).catch(()=>{}),se.set(I,x),I}(x);if(Ee.has(x))return Ee.get(x);const I=Bt(x);return I!==x&&(Ee.set(x,I),se.set(I,x)),I}const pr=x=>se.get(x),eg=["get","getKey","getAll","getAllKeys","count"],Ff=["put","add","delete","clear"],$r=new Map;function va(x,I){if(!(x instanceof IDBDatabase)||I in x||"string"!=typeof I)return;if($r.get(I))return $r.get(I);const S=I.replace(/FromIndex$/,""),N=I!==S,H=Ff.includes(S);if(!(S in(N?IDBIndex:IDBObjectStore).prototype)||!H&&!eg.includes(S))return;const K=function(){var le=(0,B.Z)(function*(Ue,...$e){const lt=this.transaction(Ue,H?"readwrite":"readonly");let Mt=lt.store;return N&&(Mt=Mt.index($e.shift())),(yield Promise.all([Mt[S](...$e),H&&lt.done]))[0]});return function($e){return le.apply(this,arguments)}}();return $r.set(I,K),K}!function vn(x){Jt=x(Jt)}(x=>({...x,get:(I,S,N)=>va(I,S)||x.get(I,S,N),has:(I,S)=>!!va(I,S)||x.has(I,S)}));const Ho="@firebase/installations",Ar="0.6.4",Qt=1e4,$s=`w:${Ar}`,dc="FIS_v2",Yu="https://firebaseinstallations.googleapis.com/v1",Qu=36e5,zo=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function il(x){return x instanceof te.ZR&&x.code.includes("request-failed")}function io({projectId:x}){return`${Yu}/projects/${x}/installations`}function rl(x){return{token:x.token,requestStatus:2,expiresIn:wd(x.expiresIn),creationTime:Date.now()}}function wo(x,I){return ol.apply(this,arguments)}function ol(){return(ol=(0,B.Z)(function*(x,I){const N=(yield I.json()).error;return zo.create("request-failed",{requestName:x,serverCode:N.code,serverMessage:N.message,serverStatus:N.status})})).apply(this,arguments)}function zn({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function yd(x){return bd.apply(this,arguments)}function bd(){return(bd=(0,B.Z)(function*(x){const I=yield x();return I.status>=500&&I.status<600?x():I})).apply(this,arguments)}function wd(x){return Number(x.replace("s","000"))}function sl(){return(sl=(0,B.Z)(function*({appConfig:x,heartbeatServiceProvider:I},{fid:S}){const N=io(x),H=zn(x),K=I.getImmediate({optional:!0});if(K){const lt=yield K.getHeartbeatsHeader();lt&&H.append("x-firebase-client",lt)}const Ue={method:"POST",headers:H,body:JSON.stringify({fid:S,authVersion:dc,appId:x.appId,sdkVersion:$s})},$e=yield yd(()=>fetch(N,Ue));if($e.ok){const lt=yield $e.json();return{fid:lt.fid||S,registrationStatus:2,refreshToken:lt.refreshToken,authToken:rl(lt.authToken)}}throw yield wo("Create Installation",$e)})).apply(this,arguments)}function tg(x){return new Promise(I=>{setTimeout(I,x)})}const Bf=/^[cdef][\w-]{21}$/,al="";function cl(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const S=function Vf(x){return function ba(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return Bf.test(S)?S:al}catch{return al}}function er(x){return`${x.appName}!${x.appId}`}const Gs=new Map;function ll(x,I){const S=er(x);wa(S,I),function eh(x,I){const S=function dl(){return!fs&&"BroadcastChannel"in self&&(fs=new BroadcastChannel("[Firebase] FID Change"),fs.onmessage=x=>{wa(x.data.key,x.data.fid)}),fs}();S&&S.postMessage({key:x,fid:I}),function ul(){0===Gs.size&&fs&&(fs.close(),fs=null)}()}(S,I)}function wa(x,I){const S=Gs.get(x);if(S)for(const N of S)N(I)}let fs=null;const Ed="firebase-installations-database",Xt=1,$n="firebase-installations-store";let ui=null;function qs(){return ui||(ui=function no(x,I,{blocked:S,upgrade:N,blocking:H,terminated:K}={}){const le=indexedDB.open(x,I),Ue=Gt(le);return N&&le.addEventListener("upgradeneeded",$e=>{N(Gt(le.result),$e.oldVersion,$e.newVersion,Gt(le.transaction))}),S&&le.addEventListener("blocked",()=>S()),Ue.then($e=>{K&&$e.addEventListener("close",()=>K()),H&&$e.addEventListener("versionchange",()=>H())}).catch(()=>{}),Ue}(Ed,Xt,{upgrade:(x,I)=>{0===I&&x.createObjectStore($n)}})),ui}function Ti(x,I){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,B.Z)(function*(x,I){const S=er(x),H=(yield qs()).transaction($n,"readwrite"),K=H.objectStore($n),le=yield K.get(S);return yield K.put(I,S),yield H.done,(!le||le.fid!==I.fid)&&ll(x,I.fid),I})).apply(this,arguments)}function uc(x){return $o.apply(this,arguments)}function $o(){return($o=(0,B.Z)(function*(x){const I=er(x),N=(yield qs()).transaction($n,"readwrite");yield N.objectStore($n).delete(I),yield N.done})).apply(this,arguments)}function Gr(x,I){return hc.apply(this,arguments)}function hc(){return(hc=(0,B.Z)(function*(x,I){const S=er(x),H=(yield qs()).transaction($n,"readwrite"),K=H.objectStore($n),le=yield K.get(S),Ue=I(le);return void 0===Ue?yield K.delete(S):yield K.put(Ue,S),yield H.done,Ue&&(!le||le.fid!==Ue.fid)&&ll(x,Ue.fid),Ue})).apply(this,arguments)}function Ln(x){return Ze.apply(this,arguments)}function Ze(){return Ze=(0,B.Z)(function*(x){let I;const S=yield Gr(x.appConfig,N=>{const H=function Vt(x){return ms(x||{fid:cl(),registrationStatus:0})}(N),K=function xn(x,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(zo.create("app-offline"))};const S={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},N=function qr(x,I){return Ws.apply(this,arguments)}(x,S);return{installationEntry:S,registrationPromise:N}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:_r(x)}:{installationEntry:I}}(x,H);return I=K.registrationPromise,K.installationEntry});return S.fid===al?{installationEntry:yield I}:{installationEntry:S,registrationPromise:I}}),Ze.apply(this,arguments)}function Ws(){return Ws=(0,B.Z)(function*(x,I){try{const S=yield function Lf(x,I){return sl.apply(this,arguments)}(x,I);return Ti(x.appConfig,S)}catch(S){throw il(S)&&409===S.customData.serverCode?yield uc(x.appConfig):yield Ti(x.appConfig,{fid:I.fid,registrationStatus:0}),S}}),Ws.apply(this,arguments)}function _r(x){return Di.apply(this,arguments)}function Di(){return(Di=(0,B.Z)(function*(x){let I=yield Gn(x.appConfig);for(;1===I.registrationStatus;)yield tg(100),I=yield Gn(x.appConfig);if(0===I.registrationStatus){const{installationEntry:S,registrationPromise:N}=yield Ln(x);return N||S}return I})).apply(this,arguments)}function Gn(x){return Gr(x,I=>{if(!I)throw zo.create("installation-not-found");return ms(I)})}function ms(x){return function Zs(x){return 1===x.registrationStatus&&x.registrationTime+Qt<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function xa(){return(xa=(0,B.Z)(function*({appConfig:x,heartbeatServiceProvider:I},S){const N=function hl(x,{fid:I}){return`${io(x)}/${I}/authTokens:generate`}(x,S),H=function ro(x,{refreshToken:I}){const S=zn(x);return S.append("Authorization",function gr(x){return`${dc} ${x}`}(I)),S}(x,S),K=I.getImmediate({optional:!0});if(K){const lt=yield K.getHeartbeatsHeader();lt&&H.append("x-firebase-client",lt)}const Ue={method:"POST",headers:H,body:JSON.stringify({installation:{sdkVersion:$s,appId:x.appId}})},$e=yield yd(()=>fetch(N,Ue));if($e.ok)return rl(yield $e.json());throw yield wo("Generate Auth Token",$e)})).apply(this,arguments)}function xo(x){return ni.apply(this,arguments)}function ni(){return ni=(0,B.Z)(function*(x,I=!1){let S;const N=yield Gr(x.appConfig,K=>{if(!Eo(K))throw zo.create("not-registered");const le=K.authToken;if(!I&&function ps(x){return 2===x.requestStatus&&!function Ea(x){const I=Date.now();return I<x.creationTime||x.creationTime+x.expiresIn<I+Qu}(x)}(le))return K;if(1===le.requestStatus)return S=function fc(x,I){return tr.apply(this,arguments)}(x,I),K;{if(!navigator.onLine)throw zo.create("app-offline");const Ue=function gs(x){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:I})}(K);return S=function Go(x,I){return Id.apply(this,arguments)}(x,Ue),Ue}});return S?yield S:N.authToken}),ni.apply(this,arguments)}function tr(){return(tr=(0,B.Z)(function*(x,I){let S=yield nr(x.appConfig);for(;1===S.authToken.requestStatus;)yield tg(100),S=yield nr(x.appConfig);const N=S.authToken;return 0===N.requestStatus?xo(x,I):N})).apply(this,arguments)}function nr(x){return Gr(x,I=>{if(!Eo(I))throw zo.create("not-registered");return function Kt(x){return 1===x.requestStatus&&x.requestTime+Qt<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Id(){return Id=(0,B.Z)(function*(x,I){try{const S=yield function It(x,I){return xa.apply(this,arguments)}(x,I),N=Object.assign(Object.assign({},I),{authToken:S});return yield Ti(x.appConfig,N),S}catch(S){if(!il(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const N=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Ti(x.appConfig,N)}else yield uc(x.appConfig);throw S}}),Id.apply(this,arguments)}function Eo(x){return void 0!==x&&2===x.registrationStatus}function mc(){return(mc=(0,B.Z)(function*(x){const I=x,{installationEntry:S,registrationPromise:N}=yield Ln(I);return N?N.catch(console.error):xo(I).catch(console.error),S.fid})).apply(this,arguments)}function kr(){return kr=(0,B.Z)(function*(x,I=!1){const S=x;return yield function Mr(x){return _s.apply(this,arguments)}(S),(yield xo(S,I)).token}),kr.apply(this,arguments)}function _s(){return(_s=(0,B.Z)(function*(x){const{registrationPromise:I}=yield Ln(x);I&&(yield I)})).apply(this,arguments)}function vr(x){return zo.create("missing-app-config-values",{valueName:x})}const Ia="installations",ng=x=>{const I=x.getProvider("app").getImmediate(),S=function ml(x){if(!x||!x.options)throw vr("App Configuration");if(!x.name)throw vr("App Name");const I=["projectId","apiKey","appId"];for(const S of I)if(!x.options[S])throw vr(S);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(I);return{app:I,appConfig:S,heartbeatServiceProvider:vt(I,"heartbeat"),_delete:()=>Promise.resolve()}},ig=x=>{const S=vt(x.getProvider("app").getImmediate(),Ia).getImmediate();return{getId:()=>function th(x){return mc.apply(this,arguments)}(S),getToken:H=>function Ks(x){return kr.apply(this,arguments)}(S,H)}};(function Hf(){Cn(new oe.wA(Ia,ng,"PUBLIC")),Cn(new oe.wA("installations-internal",ig,"PRIVATE"))})(),Xi(Ho,Ar),Xi(Ho,Ar,"esm2017");const pl="@firebase/remote-config",Wr=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class dg{constructor(I,S,N,H){this.client=I,this.storage=S,this.storageCache=N,this.logger=H}isCachedDataFresh(I,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const N=Date.now()-S,H=N<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${N}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${H}.`),H}fetch(I){var S=this;return(0,B.Z)(function*(){const[N,H]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(H&&S.isCachedDataFresh(I.cacheMaxAgeMillis,N))return H;I.eTag=H&&H.eTag;const K=yield S.client.fetch(I),le=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===K.status&&le.push(S.storage.setLastSuccessfulFetchResponse(K)),yield Promise.all(le),K})()}}function oh(x=navigator){return x.languages&&x.languages[0]||x.language}class $f{constructor(I,S,N,H,K,le){this.firebaseInstallations=I,this.sdkVersion=S,this.namespace=N,this.projectId=H,this.apiKey=K,this.appId=le}fetch(I){var S=this;return(0,B.Z)(function*(){const[N,H]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),le=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Ue={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},$e={sdk_version:S.sdkVersion,app_instance_id:N,app_instance_id_token:H,app_id:S.appId,language_code:oh()},lt={method:"POST",headers:Ue,body:JSON.stringify($e)},Mt=fetch(le,lt),gt=new Promise((Er,Do)=>{I.signal.addEventListener(()=>{const la=new Error("The operation was aborted.");la.name="AbortError",Do(la)})});let mi;try{yield Promise.race([Mt,gt]),mi=yield Mt}catch(Er){let Do="fetch-client-network";throw"AbortError"===Er?.name&&(Do="fetch-timeout"),Wr.create(Do,{originalErrorMessage:Er?.message})}let dn=mi.status;const ts=mi.headers.get("ETag")||void 0;let Bl,sr;if(200===mi.status){let Er;try{Er=yield mi.json()}catch(Do){throw Wr.create("fetch-client-parse",{originalErrorMessage:Do?.message})}Bl=Er.entries,sr=Er.state}if("INSTANCE_STATE_UNSPECIFIED"===sr?dn=500:"NO_CHANGE"===sr?dn=304:("NO_TEMPLATE"===sr||"EMPTY_CONFIG"===sr)&&(Bl={}),304!==dn&&200!==dn)throw Wr.create("fetch-status",{httpStatus:dn});return{status:dn,eTag:ts,config:Bl}})()}}class ug{constructor(I,S){this.client=I,this.storage=S}fetch(I){var S=this;return(0,B.Z)(function*(){const N=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(I,N)})()}attemptFetch(I,{throttleEndTimeMillis:S,backoffCount:N}){var H=this;return(0,B.Z)(function*(){yield function sh(x,I){return new Promise((S,N)=>{const H=Math.max(I-Date.now(),0),K=setTimeout(S,H);x.addEventListener(()=>{clearTimeout(K),N(Wr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,S);try{const K=yield H.client.fetch(I);return yield H.storage.deleteThrottleMetadata(),K}catch(K){if(!function Sd(x){if(!(x instanceof te.ZR&&x.customData))return!1;const I=Number(x.customData.httpStatus);return 429===I||500===I||503===I||504===I}(K))throw K;const le={throttleEndTimeMillis:Date.now()+(0,te.$s)(N),backoffCount:N+1};return yield H.storage.setThrottleMetadata(le),H.attemptFetch(I,le)}})()}}class hg{constructor(I,S,N,H,K){this.app=I,this._client=S,this._storageCache=N,this._storage=H,this._logger=K,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pc(x,I){const S=x.target.error||void 0;return Wr.create(I,{originalErrorMessage:S&&S?.message})}const Ta="app_namespace_store";class qf{constructor(I,S,N,H=function Da(){return new Promise((x,I)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=N=>{I(pc(N,"storage-open"))},S.onsuccess=N=>{x(N.target.result)},S.onupgradeneeded=N=>{0===N.oldVersion&&N.target.result.createObjectStore(Ta,{keyPath:"compositeKey"})}}catch(S){I(Wr.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=I,this.appName=S,this.namespace=N,this.openDbPromise=H}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var S=this;return(0,B.Z)(function*(){const N=yield S.openDbPromise;return new Promise((H,K)=>{const Ue=N.transaction([Ta],"readonly").objectStore(Ta),$e=S.createCompositeKey(I);try{const lt=Ue.get($e);lt.onerror=Mt=>{K(pc(Mt,"storage-get"))},lt.onsuccess=Mt=>{const gt=Mt.target.result;H(gt?gt.value:void 0)}}catch(lt){K(Wr.create("storage-get",{originalErrorMessage:lt?.message}))}})})()}set(I,S){var N=this;return(0,B.Z)(function*(){const H=yield N.openDbPromise;return new Promise((K,le)=>{const $e=H.transaction([Ta],"readwrite").objectStore(Ta),lt=N.createCompositeKey(I);try{const Mt=$e.put({compositeKey:lt,value:S});Mt.onerror=gt=>{le(pc(gt,"storage-set"))},Mt.onsuccess=()=>{K()}}catch(Mt){le(Wr.create("storage-set",{originalErrorMessage:Mt?.message}))}})})()}delete(I){var S=this;return(0,B.Z)(function*(){const N=yield S.openDbPromise;return new Promise((H,K)=>{const Ue=N.transaction([Ta],"readwrite").objectStore(Ta),$e=S.createCompositeKey(I);try{const lt=Ue.delete($e);lt.onerror=Mt=>{K(pc(Mt,"storage-delete"))},lt.onsuccess=()=>{H()}}catch(lt){K(Wr.create("storage-delete",{originalErrorMessage:lt?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Wf{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,B.Z)(function*(){const S=I.storage.getLastFetchStatus(),N=I.storage.getLastSuccessfulFetchTimestampMillis(),H=I.storage.getActiveConfig(),K=yield S;K&&(I.lastFetchStatus=K);const le=yield N;le&&(I.lastSuccessfulFetchTimestampMillis=le);const Ue=yield H;Ue&&(I.activeConfig=Ue)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Kf(){return fg.apply(this,arguments)}function fg(){return(fg=(0,B.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch{return!1}})).apply(this,arguments)}!function nw(){Cn(new oe.wA("remote-config",function x(I,{instanceIdentifier:S}){const N=I.getProvider("app").getImmediate(),H=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Wr.create("registration-window");if(!(0,te.hl)())throw Wr.create("indexed-db-unavailable");const{projectId:K,apiKey:le,appId:Ue}=N.options;if(!K)throw Wr.create("registration-project-id");if(!le)throw Wr.create("registration-api-key");if(!Ue)throw Wr.create("registration-app-id");const $e=new qf(Ue,N.name,S=S||"firebase"),lt=new Wf($e),Mt=new fe.Yd(pl);Mt.logLevel=fe.in.ERROR;const gt=new $f(H,"10.7.1",S,K,le,Ue),mi=new ug(gt,$e),dn=new dg(mi,$e,lt,Mt),ts=new hg(N,dn,lt,$e,Mt);return function ew(x){const I=(0,te.m9)(x);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ts),ts},"PUBLIC").setMultipleInstances(!0)),Xi(pl,"0.4.4"),Xi(pl,"0.4.4","esm2017")}();const mg=(x,I)=>I.some(S=>x instanceof S);let kd,ah;const bl=new WeakMap,Qf=new WeakMap,ch=new WeakMap,gc=new WeakMap,Sa=new WeakMap;let Xf={get(x,I,S){if(x instanceof IDBTransaction){if("done"===I)return Qf.get(x);if("objectStoreNames"===I)return x.objectStoreNames||ch.get(x);if("store"===I)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return Xs(x[I])},set:(x,I,S)=>(x[I]=S,!0),has:(x,I)=>x instanceof IDBTransaction&&("done"===I||"store"===I)||I in x};function em(x){return"function"==typeof x?function Jf(x){return x!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Md(){return ah||(ah=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(x)?function(...I){return x.apply(dh(this),I),Xs(bl.get(this))}:function(...I){return Xs(x.apply(dh(this),I))}:function(I,...S){const N=x.call(dh(this),I,...S);return ch.set(N,I.sort?I.sort():[I]),Xs(N)}}(x):(x instanceof IDBTransaction&&function lh(x){if(Qf.has(x))return;const I=new Promise((S,N)=>{const H=()=>{x.removeEventListener("complete",K),x.removeEventListener("error",le),x.removeEventListener("abort",le)},K=()=>{S(),H()},le=()=>{N(x.error||new DOMException("AbortError","AbortError")),H()};x.addEventListener("complete",K),x.addEventListener("error",le),x.addEventListener("abort",le)});Qf.set(x,I)}(x),mg(x,function Yf(){return kd||(kd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(x,Xf):x)}function Xs(x){if(x instanceof IDBRequest)return function pg(x){const I=new Promise((S,N)=>{const H=()=>{x.removeEventListener("success",K),x.removeEventListener("error",le)},K=()=>{S(Xs(x.result)),H()},le=()=>{N(x.error),H()};x.addEventListener("success",K),x.addEventListener("error",le)});return I.then(S=>{S instanceof IDBCursor&&bl.set(S,x)}).catch(()=>{}),Sa.set(I,x),I}(x);if(gc.has(x))return gc.get(x);const I=em(x);return I!==x&&(gc.set(x,I),Sa.set(I,x)),I}const dh=x=>Sa.get(x);function wl(x,I,{blocked:S,upgrade:N,blocking:H,terminated:K}={}){const le=indexedDB.open(x,I),Ue=Xs(le);return N&&le.addEventListener("upgradeneeded",$e=>{N(Xs(le.result),$e.oldVersion,$e.newVersion,Xs(le.transaction))}),S&&le.addEventListener("blocked",()=>S()),Ue.then($e=>{K&&$e.addEventListener("close",()=>K()),H&&$e.addEventListener("versionchange",()=>H())}).catch(()=>{}),Ue}function Rd(x,{blocked:I}={}){const S=indexedDB.deleteDatabase(x);return I&&S.addEventListener("blocked",()=>I()),Xs(S).then(()=>{})}const xl=["get","getKey","getAll","getAllKeys","count"],ys=["put","add","delete","clear"],Aa=new Map;function uh(x,I){if(!(x instanceof IDBDatabase)||I in x||"string"!=typeof I)return;if(Aa.get(I))return Aa.get(I);const S=I.replace(/FromIndex$/,""),N=I!==S,H=ys.includes(S);if(!(S in(N?IDBIndex:IDBObjectStore).prototype)||!H&&!xl.includes(S))return;const K=function(){var le=(0,B.Z)(function*(Ue,...$e){const lt=this.transaction(Ue,H?"readwrite":"readonly");let Mt=lt.store;return N&&(Mt=Mt.index($e.shift())),(yield Promise.all([Mt[S](...$e),H&&lt.done]))[0]});return function($e){return le.apply(this,arguments)}}();return Aa.set(I,K),K}!function gg(x){Xf=x(Xf)}(x=>({...x,get:(I,S,N)=>uh(I,S)||x.get(I,S,N),has:(I,S)=>!!uh(I,S)||x.has(I,S)}));var Od=L(7592);const hh="/firebase-messaging-sw.js",Yv="/firebase-cloud-messaging-push-scope",Co="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",tm="https://fcmregistrations.googleapis.com/v1",_c="google.c.a.c_id",fn="google.c.a.c_l",El="google.c.a.ts";var Cl=function(x){return x.PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",x}(Cl||{});function qo(x){const I=new Uint8Array(x);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Js(x){const S=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),N=atob(S),H=new Uint8Array(N.length);for(let K=0;K<N.length;++K)H[K]=N.charCodeAt(K);return H}const br="fcm_token_details_db",Nd=5,nm="fcm_token_object_Store";function Wo(){return Wo=(0,B.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(K=>K.name).includes(br))return null;let I=null;return(yield wl(br,Nd,{upgrade:(N=(0,B.Z)(function*(H,K,le,Ue){var $e;if(K<2||!H.objectStoreNames.contains(nm))return;const lt=Ue.objectStore(nm),Mt=yield lt.index("fcmSenderId").get(x);if(yield lt.clear(),Mt)if(2===K){const gt=Mt;if(!gt.auth||!gt.p256dh||!gt.endpoint)return;I={token:gt.fcmToken,createTime:null!==($e=gt.createTime)&&void 0!==$e?$e:Date.now(),subscriptionOptions:{auth:gt.auth,p256dh:gt.p256dh,endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:"string"==typeof gt.vapidKey?gt.vapidKey:qo(gt.vapidKey)}}}else if(3===K){const gt=Mt;I={token:gt.fcmToken,createTime:gt.createTime,subscriptionOptions:{auth:qo(gt.auth),p256dh:qo(gt.p256dh),endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:qo(gt.vapidKey)}}}else if(4===K){const gt=Mt;I={token:gt.fcmToken,createTime:gt.createTime,subscriptionOptions:{auth:qo(gt.auth),p256dh:qo(gt.p256dh),endpoint:gt.endpoint,swScope:gt.swScope,vapidKey:qo(gt.vapidKey)}}}}),function(K,le,Ue,$e){return N.apply(this,arguments)})})).close(),yield Rd(br),yield Rd("fcm_vapid_details_db"),yield Rd("undefined"),function im(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:I}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var N}),Wo.apply(this,arguments)}const Pd="firebase-messaging-database",_g=1,En="firebase-messaging-store";let fh=null;function Il(){return fh||(fh=wl(Pd,_g,{upgrade:(x,I)=>{0===I&&x.createObjectStore(En)}})),fh}function kt(x){return vc.apply(this,arguments)}function vc(){return vc=(0,B.Z)(function*(x){const I=ta(x),N=yield(yield Il()).transaction(En).objectStore(En).get(I);if(N)return N;{const H=yield function ea(x){return Wo.apply(this,arguments)}(x.appConfig.senderId);if(H)return yield mh(x,H),H}}),vc.apply(this,arguments)}function mh(x,I){return ph.apply(this,arguments)}function ph(){return(ph=(0,B.Z)(function*(x,I){const S=ta(x),H=(yield Il()).transaction(En,"readwrite");return yield H.objectStore(En).put(I,S),yield H.done,I})).apply(this,arguments)}function Fd(){return(Fd=(0,B.Z)(function*(x){const I=ta(x),N=(yield Il()).transaction(En,"readwrite");yield N.objectStore(En).delete(I),yield N.done})).apply(this,arguments)}function ta({appConfig:x}){return x.appId}const fi=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ld(x,I){return om.apply(this,arguments)}function om(){return(om=(0,B.Z)(function*(x,I){const S=yield Dl(x),N=Bd(I),H={method:"POST",headers:S,body:JSON.stringify(N)};let K;try{K=yield(yield fetch(yc(x.appConfig),H)).json()}catch(le){throw fi.create("token-subscribe-failed",{errorInfo:le?.toString()})}if(K.error)throw fi.create("token-subscribe-failed",{errorInfo:K.error.message});if(!K.token)throw fi.create("token-subscribe-no-token");return K.token})).apply(this,arguments)}function Tl(){return(Tl=(0,B.Z)(function*(x,I){const S=yield Dl(x),N=Bd(I.subscriptionOptions),H={method:"PATCH",headers:S,body:JSON.stringify(N)};let K;try{K=yield(yield fetch(`${yc(x.appConfig)}/${I.token}`,H)).json()}catch(le){throw fi.create("token-update-failed",{errorInfo:le?.toString()})}if(K.error)throw fi.create("token-update-failed",{errorInfo:K.error.message});if(!K.token)throw fi.create("token-update-no-token");return K.token})).apply(this,arguments)}function Se(x,I){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,B.Z)(function*(x,I){const N={method:"DELETE",headers:yield Dl(x)};try{const K=yield(yield fetch(`${yc(x.appConfig)}/${I}`,N)).json();if(K.error)throw fi.create("token-unsubscribe-failed",{errorInfo:K.error.message})}catch(H){throw fi.create("token-unsubscribe-failed",{errorInfo:H?.toString()})}})).apply(this,arguments)}function yc({projectId:x}){return`${tm}/projects/${x}/registrations`}function Dl(x){return ri.apply(this,arguments)}function ri(){return(ri=(0,B.Z)(function*({appConfig:x,installations:I}){const S=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Bd({p256dh:x,auth:I,endpoint:S,vapidKey:N}){const H={web:{endpoint:S,auth:I,p256dh:x}};return N!==Co&&(H.web.applicationPubKey=N),H}const _h=6048e5;function Vd(){return Vd=(0,B.Z)(function*(x){const I=yield function vg(x,I){return Ko.apply(this,arguments)}(x.swRegistration,x.vapidKey),S={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:I.endpoint,auth:qo(I.getKey("auth")),p256dh:qo(I.getKey("p256dh"))},N=yield kt(x.firebaseDependencies);if(N){if(function Io(x,I){return I.vapidKey===x.vapidKey&&I.endpoint===x.endpoint&&I.auth===x.auth&&I.p256dh===x.p256dh}(N.subscriptionOptions,S))return Date.now()>=N.createTime+_h?function iw(x,I){return vh.apply(this,arguments)}(x,{token:N.token,createTime:Date.now(),subscriptionOptions:S}):N.token;try{yield Se(x.firebaseDependencies,N.token)}catch(H){console.warn(H)}return Ai(x.firebaseDependencies,S)}return Ai(x.firebaseDependencies,S)}),Vd.apply(this,arguments)}function sm(){return sm=(0,B.Z)(function*(x){const I=yield kt(x.firebaseDependencies);I&&(yield Se(x.firebaseDependencies,I.token),yield function rm(x){return Fd.apply(this,arguments)}(x.firebaseDependencies));const S=yield x.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),sm.apply(this,arguments)}function vh(){return vh=(0,B.Z)(function*(x,I){try{const S=yield function gh(x,I){return Tl.apply(this,arguments)}(x.firebaseDependencies,I),N=Object.assign(Object.assign({},I),{token:S,createTime:Date.now()});return yield mh(x.firebaseDependencies,N),S}catch(S){throw yield function Ud(x){return sm.apply(this,arguments)}(x),S}}),vh.apply(this,arguments)}function Ai(x,I){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,B.Z)(function*(x,I){const N={token:yield Ld(x,I),createTime:Date.now(),subscriptionOptions:I};return yield mh(x,N),N.token})).apply(this,arguments)}function Ko(){return(Ko=(0,B.Z)(function*(x,I){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Js(I)})})).apply(this,arguments)}function yh(x){const I={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function bh(x,I){if(!I.notification)return;x.notification={};const S=I.notification.title;S&&(x.notification.title=S);const N=I.notification.body;N&&(x.notification.body=N);const H=I.notification.image;H&&(x.notification.image=H);const K=I.notification.icon;K&&(x.notification.icon=K)}(I,x),function Qv(x,I){I.data&&(x.data=I.data)}(I,x),function Xv(x,I){var S,N,H,K,le;if(!(I.fcmOptions||null!==(S=I.notification)&&void 0!==S&&S.click_action))return;x.fcmOptions={};const Ue=null!==(H=null===(N=I.fcmOptions)||void 0===N?void 0:N.link)&&void 0!==H?H:null===(K=I.notification)||void 0===K?void 0:K.click_action;Ue&&(x.fcmOptions.link=Ue);const $e=null===(le=I.fcmOptions)||void 0===le?void 0:le.analytics_label;$e&&(x.fcmOptions.analyticsLabel=$e)}(I,x),I}function jd(x,I){const S=[];for(let N=0;N<x.length;N++)S.push(x.charAt(N)),N<I.length&&S.push(I.charAt(N));return S.join("")}function Hd(x){return fi.create("missing-app-config-values",{valueName:x})}jd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Jv{constructor(I,S,N){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const H=function yg(x){if(!x||!x.options)throw Hd("App Configuration Object");if(!x.name)throw Hd("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:S}=x;for(const N of I)if(!S[N])throw Hd(N);return{appName:x.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:H,installations:S,analyticsProvider:N}}_delete(){return Promise.resolve()}}function bs(){return(bs=(0,B.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(hh,{scope:Yv}),x.swRegistration.update().catch(()=>{})}catch(I){throw fi.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function mn(){return(mn=(0,B.Z)(function*(x,I){if(!I&&!x.swRegistration&&(yield function Ei(x){return bs.apply(this,arguments)}(x)),I||!x.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw fi.create("invalid-sw-registration");x.swRegistration=I}})).apply(this,arguments)}function ir(){return(ir=(0,B.Z)(function*(x,I){I?x.vapidKey=I:x.vapidKey||(x.vapidKey=Co)})).apply(this,arguments)}function wc(){return wc=(0,B.Z)(function*(x,I){if(!navigator)throw fi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw fi.create("permission-blocked");return yield function ot(x,I){return ir.apply(this,arguments)}(x,I?.vapidKey),yield function zd(x,I){return mn.apply(this,arguments)}(x,I?.serviceWorkerRegistration),function Nr(x){return Vd.apply(this,arguments)}(x)}),wc.apply(this,arguments)}function ji(){return(ji=(0,B.Z)(function*(x,I,S){const N=function Yo(x){switch(x){case Cl.NOTIFICATION_CLICKED:return"notification_open";case Cl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(N,{message_id:S[_c],message_name:S[fn],message_time:S[El],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Pr(){return Pr=(0,B.Z)(function*(x,I){const S=I.data;if(!S.isFirebaseMessaging)return;x.onMessageHandler&&S.messageType===Cl.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(yh(S)):x.onMessageHandler.next(yh(S)));const N=S.data;(function am(x){return"object"==typeof x&&!!x&&_c in x})(N)&&"1"===N["google.c.a.e"]&&(yield function wh(x,I,S){return ji.apply(this,arguments)}(x,S.messageType,N))}),Pr.apply(this,arguments)}const ft="@firebase/messaging",bg=x=>{const I=new Jv(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function Tn(x,I){return Pr.apply(this,arguments)}(I,S)),I},Eh=x=>{const I=x.getProvider("messaging").getImmediate();return{getToken:N=>function bc(x,I){return wc.apply(this,arguments)}(I,N)}};function Ma(){return An.apply(this,arguments)}function An(){return(An=(0,B.Z)(function*(){try{yield(0,te.eu)()}catch{return!1}return typeof window<"u"&&(0,te.hl)()&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ws(){(0,Od._registerComponent)(new oe.wA("messaging",bg,"PUBLIC")),(0,Od._registerComponent)(new oe.wA("messaging-internal",Eh,"PRIVATE")),(0,Od.registerVersion)(ft,"0.12.4"),(0,Od.registerVersion)(ft,"0.12.4","esm2017")}();const rr="analytics",Es="firebase_id",lm="origin",dm=6e4,oo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",so="https://www.googletagmanager.com/gtag/js",Nn=new fe.Yd("@firebase/analytics"),Hi=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function um(x){if(!x.startsWith(so)){const I=Hi.create("invalid-gtag-resource",{gtagURL:x});return Nn.warn(I.message),""}return x}function yn(x){return Promise.all(x.map(I=>I.catch(S=>S)))}function Xn(){return(Xn=(0,B.Z)(function*(x,I,S,N,H,K){const le=N[H];try{if(le)yield I[le];else{const $e=(yield yn(S)).find(lt=>lt.measurementId===H);$e&&(yield I[$e.appId])}}catch(Ue){Nn.error(Ue)}x("config",H,K)})).apply(this,arguments)}function Sl(){return(Sl=(0,B.Z)(function*(x,I,S,N,H){try{let K=[];if(H&&H.send_to){let le=H.send_to;Array.isArray(le)||(le=[le]);const Ue=yield yn(S);for(const $e of le){const lt=Ue.find(gt=>gt.measurementId===$e),Mt=lt&&I[lt.appId];if(!Mt){K=[];break}K.push(Mt)}}0===K.length&&(K=Object.values(I)),yield Promise.all(K),x("event",N,H||{})}catch(K){Nn.error(K)}})).apply(this,arguments)}const Wn=30,Xo=new class qd{constructor(I={},S=1e3){this.throttleMetadata=I,this.intervalMillis=S}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,S){this.throttleMetadata[I]=S}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Ec(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Zd(){return(Zd=(0,B.Z)(function*(x){var I;const{appId:S,apiKey:N}=x,H={method:"GET",headers:Ec(N)},K=oo.replace("{app-id}",S),le=yield fetch(K,H);if(200!==le.status&&304!==le.status){let Ue="";try{const $e=yield le.json();null!==(I=$e.error)&&void 0!==I&&I.message&&(Ue=$e.error.message)}catch{}throw Hi.create("config-fetch-failed",{httpStatus:le.status,responseMessage:Ue})}return le.json()})).apply(this,arguments)}function Al(){return(Al=(0,B.Z)(function*(x,I=Xo,S){const{appId:N,apiKey:H,measurementId:K}=x.options;if(!N)throw Hi.create("no-app-id");if(!H){if(K)return{measurementId:K,appId:N};throw Hi.create("no-api-key")}const le=I.getThrottleMetadata(N)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new co;return setTimeout((0,B.Z)(function*(){Ue.abort()}),void 0!==S?S:dm),ao({appId:N,apiKey:H,measurementId:K},le,Ue,I)})).apply(this,arguments)}function ao(x,I,S){return Rt.apply(this,arguments)}function Rt(){return Rt=(0,B.Z)(function*(x,{throttleEndTimeMillis:I,backoffCount:S},N,H=Xo){var K;const{appId:le,measurementId:Ue}=x;try{yield function kl(x,I){return new Promise((S,N)=>{const H=Math.max(I-Date.now(),0),K=setTimeout(S,H);x.addEventListener(()=>{clearTimeout(K),N(Hi.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(N,I)}catch($e){if(Ue)return Nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${$e?.message}]`),{appId:le,measurementId:Ue};throw $e}try{const $e=yield function Wd(x){return Zd.apply(this,arguments)}(x);return H.deleteThrottleMetadata(le),$e}catch($e){const lt=$e;if(!function Kd(x){if(!(x instanceof te.ZR&&x.customData))return!1;const I=Number(x.customData.httpStatus);return 429===I||500===I||503===I||504===I}(lt)){if(H.deleteThrottleMetadata(le),Ue)return Nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${lt?.message}]`),{appId:le,measurementId:Ue};throw $e}const Mt=503===Number(null===(K=lt?.customData)||void 0===K?void 0:K.httpStatus)?(0,te.$s)(S,H.intervalMillis,Wn):(0,te.$s)(S,H.intervalMillis),gt={throttleEndTimeMillis:Date.now()+Mt,backoffCount:S+1};return H.setThrottleMetadata(le,gt),Nn.debug(`Calling attemptFetch again in ${Mt} millis`),ao(x,gt,N,H)}}),Rt.apply(this,arguments)}class co{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Ml,Ts;function Zr(){return(Zr=(0,B.Z)(function*(x,I,S,N,H){if(H&&H.global)x("event",S,N);else{const K=yield I;x("event",S,Object.assign(Object.assign({},N),{send_to:K}))}})).apply(this,arguments)}function uo(){return(uo=(0,B.Z)(function*(){if(!(0,te.hl)())return Nn.warn(Hi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(x){return Nn.warn(Hi.create("indexeddb-unavailable",{errorInfo:x?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ds(){return Ds=(0,B.Z)(function*(x,I,S,N,H,K,le){var Ue;const $e=function ra(x){return Al.apply(this,arguments)}(x);$e.then(dn=>{S[dn.measurementId]=dn.appId,x.options.measurementId&&dn.measurementId!==x.options.measurementId&&Nn.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${dn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(dn=>Nn.error(dn)),I.push($e);const lt=function ln(){return uo.apply(this,arguments)}().then(dn=>{if(dn)return N.getId()}),[Mt,gt]=yield Promise.all([$e,lt]);(function $i(x){const I=window.document.getElementsByTagName("script");for(const S of Object.values(I))if(S.src&&S.src.includes(so)&&S.src.includes(x))return S;return null})(K)||function Qo(x,I){const S=function kn(x,I){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(x,I)),S}("firebase-js-sdk-policy",{createScriptURL:um}),N=document.createElement("script"),H=`${so}?l=${x}&id=${I}`;N.src=S?S?.createScriptURL(H):H,N.async=!0,document.head.appendChild(N)}(K,Mt.measurementId),Ts&&(H("consent","default",Ts),function lo(x){Ts=x}(void 0)),H("js",new Date);const mi=null!==(Ue=le?.config)&&void 0!==Ue?Ue:{};return mi[lm]="firebase",mi.update=!0,null!=gt&&(mi[Es]=gt),H("config",Mt.measurementId,mi),Ml&&(H("set",Ml),function oa(x){Ml=x}(void 0)),Mt.measurementId}),Ds.apply(this,arguments)}class Eg{constructor(I){this.app=I}_delete(){return delete Kr[this.app.options.appId],Promise.resolve()}}let Kr={},Sh=[];const Cg={};let Jo,xr,Ic="dataLayer",Ah=!1;function Na(x,I,S){!function Qd(){const x=[];if((0,te.ru)()&&x.push("This is a browser extension environment."),(0,te.zI)()||x.push("Cookies are not available."),x.length>0){const I=x.map((N,H)=>`(${H+1}) ${N}`).join(" "),S=Hi.create("invalid-analytics-context",{errorInfo:I});Nn.warn(S.message)}}();const N=x.options.appId;if(!N)throw Hi.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Hi.create("no-api-key");Nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Kr[N])throw Hi.create("already-exists",{id:N});if(!Ah){!function Cs(x){let I=[];Array.isArray(window[x])?I=window[x]:window[x]=I}(Ic);const{wrappedGtag:K,gtagCore:le}=function ia(x,I,S,N,H){let K=function(...le){window[N].push(arguments)};return window[H]&&"function"==typeof window[H]&&(K=window[H]),window[H]=function Gd(x,I,S,N){function K(){return K=(0,B.Z)(function*(le,...Ue){try{if("event"===le){const[$e,lt]=Ue;yield function Ch(x,I,S,N,H){return Sl.apply(this,arguments)}(x,I,S,$e,lt)}else if("config"===le){const[$e,lt]=Ue;yield function zi(x,I,S,N,H,K){return Xn.apply(this,arguments)}(x,I,S,N,$e,lt)}else if("consent"===le){const[$e]=Ue;x("consent","update",$e)}else if("get"===le){const[$e,lt,Mt]=Ue;x("get",$e,lt,Mt)}else if("set"===le){const[$e]=Ue;x("set",$e)}else x(le,...Ue)}catch($e){Nn.error($e)}}),K.apply(this,arguments)}return function H(le){return K.apply(this,arguments)}}(K,x,I,S),{gtagCore:K,wrappedGtag:window[H]}}(Kr,Sh,Cg,Ic,"gtag");xr=K,Jo=le,Ah=!0}return Kr[N]=function ty(x,I,S,N,H,K,le){return Ds.apply(this,arguments)}(x,Sh,Cg,I,Jo,Ic,S),new Eg(x)}function Tc(){return kh.apply(this,arguments)}function kh(){return(kh=(0,B.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch{return!1}})).apply(this,arguments)}const fm="@firebase/analytics";!function Fa(){Cn(new oe.wA(rr,(I,{options:S})=>Na(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),Cn(new oe.wA("analytics-internal",function x(I){try{const S=I.getProvider(rr).getImmediate();return{logEvent:(N,H,K)=>function Mh(x,I,S,N){x=(0,te.m9)(x),function hm(x,I,S,N,H){return Zr.apply(this,arguments)}(xr,Kr[x.app.options.appId],I,S,N).catch(H=>Nn.error(H))}(S,N,H,K)}}catch(S){throw Hi.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),Xi(fm,"0.10.0"),Xi(fm,"0.10.0","esm2017")}();var iy=L(1954),mm=L(2631);const La=new class Jd extends mm.v{}(class sa extends iy.o{constructor(I,S){super(I,S),this.scheduler=I,this.work=S}schedule(I,S=0){return S>0?super.schedule(I,S):(this.delay=S,this.state=I,this.scheduler.flush(this),this)}execute(I,S){return S>0||this.closed?super.execute(I,S):this._execute(I,S)}requestAsyncId(I,S,N=0){return null!=N&&N>0||null==N&&this.delay>0?super.requestAsyncId(I,S,N):(I.flush(this),0)}});var Ba=L(6321),pm=L(9397),Pl=L(3093),Ac=L(5137);const tu=new d.GfV("7.6.1"),Rh="__angularfire_symbol__analyticsIsSupportedValue",kc="__angularfire_symbol__analyticsIsSupported",Mc="__angularfire_symbol__remoteConfigIsSupportedValue",es="__angularfire_symbol__remoteConfigIsSupported",nu="__angularfire_symbol__messagingIsSupportedValue",Fl="__angularfire_symbol__messagingIsSupported";function Ss(x,I,S){if(I){if(1===I.length)return I[0];const K=I.filter(le=>le.app===S);if(1===K.length)return K[0]}return S.container.getProvider(x).getImmediate({optional:!0})}globalThis[kc]||(globalThis[kc]=Tc().then(x=>globalThis[Rh]=x).catch(()=>globalThis[Rh]=!1)),globalThis[Fl]||(globalThis[Fl]=Ma().then(x=>globalThis[nu]=x).catch(()=>globalThis[nu]=!1)),globalThis[es]||(globalThis[es]=Kf().then(x=>globalThis[Mc]=x).catch(()=>globalThis[Mc]=!1));const ja=(x,I)=>{const S=I?[I]:(0,ie.C6)(),N=[];return S.forEach(H=>{H.container.getProvider(x).instances.forEach(le=>{N.includes(le)||N.push(le)})}),N};function or(){}class Ll{constructor(I,S=La){this.zone=I,this.delegate=S}now(){return this.delegate.now()}schedule(I,S,N){const H=this.zone;return this.delegate.schedule(function(le){H.runGuarded(()=>{I.apply(this,[le])})},S,N)}}class Rc{constructor(I){this.zone=I,this.task=null}call(I,S){const N=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",or,{},or,or)),S.pipe((0,pm.b)({next:N,complete:N,error:N})).subscribe(I).add(N)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ha=(()=>{class x{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Ll(Zone.current)),this.insideAngular=S.run(()=>new Ll(Zone.current,Ba.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(S){return new(S||x)(d.LFG(d.R0b))},x.\u0275prov=d.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function aa(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function gm(x){return x.pipe((0,Pl.Q)(aa().outsideAngular))}function Sg(x){return aa(),function _m(x){return function(S){return(S=S.lift(new Rc(x.ngZone))).pipe((0,Ac.R)(x.outsideAngular),(0,Pl.Q)(x.insideAngular))}}(aa())(x)}},9058:(ht,Ce,L)=>{L.d(Ce,{$s:()=>Pt,BH:()=>re,DV:()=>Qi,Dv:()=>_a,G6:()=>mr,GJ:()=>Vi,L:()=>me,LL:()=>Ie,Pz:()=>xe,Sg:()=>Te,UG:()=>Y,UI:()=>ds,US:()=>te,Wj:()=>rn,Wl:()=>vt,Yr:()=>ti,ZB:()=>J,ZR:()=>we,aH:()=>ce,b$:()=>bn,cI:()=>Cn,dS:()=>Uo,eu:()=>pe,g5:()=>B,gK:()=>ct,gQ:()=>$t,h$:()=>Me,hl:()=>de,hu:()=>ie,jU:()=>qe,lb:()=>hs,m9:()=>Qn,ne:()=>Hn,p$:()=>G,pd:()=>Lt,r3:()=>In,ru:()=>_t,tV:()=>j,uI:()=>ue,ug:()=>cc,vZ:()=>zr,w1:()=>Un,w9:()=>cn,xO:()=>vd,xb:()=>to,z$:()=>Be,zI:()=>ge,zd:()=>St});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ie=function($,z){if(!$)throw B(z)},B=function($){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+$)},oe=function($){const z=[];let Q=0;for(let Ee=0;Ee<$.length;Ee++){let se=$.charCodeAt(Ee);se<128?z[Q++]=se:se<2048?(z[Q++]=se>>6|192,z[Q++]=63&se|128):55296==(64512&se)&&Ee+1<$.length&&56320==(64512&$.charCodeAt(Ee+1))?(se=65536+((1023&se)<<10)+(1023&$.charCodeAt(++Ee)),z[Q++]=se>>18|240,z[Q++]=se>>12&63|128,z[Q++]=se>>6&63|128,z[Q++]=63&se|128):(z[Q++]=se>>12|224,z[Q++]=se>>6&63|128,z[Q++]=63&se|128)}return z},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,z){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let se=0;se<$.length;se+=3){const ut=$[se],Ct=se+1<$.length,Jt=Ct?$[se+1]:0,vn=se+2<$.length,Ui=vn?$[se+2]:0;let pr=(15&Jt)<<2|Ui>>6,no=63&Ui;vn||(no=64,Ct||(pr=64)),Ee.push(Q[ut>>2],Q[(3&ut)<<4|Jt>>4],Q[pr],Q[no])}return Ee.join("")},encodeString($,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa($):this.encodeByteArray(oe($),z)},decodeString($,z){return this.HAS_NATIVE_SUPPORT&&!z?atob($):function($){const z=[];let Q=0,Ee=0;for(;Q<$.length;){const se=$[Q++];if(se<128)z[Ee++]=String.fromCharCode(se);else if(se>191&&se<224){const ut=$[Q++];z[Ee++]=String.fromCharCode((31&se)<<6|63&ut)}else if(se>239&&se<365){const vn=((7&se)<<18|(63&$[Q++])<<12|(63&$[Q++])<<6|63&$[Q++])-65536;z[Ee++]=String.fromCharCode(55296+(vn>>10)),z[Ee++]=String.fromCharCode(56320+(1023&vn))}else{const ut=$[Q++],Ct=$[Q++];z[Ee++]=String.fromCharCode((15&se)<<12|(63&ut)<<6|63&Ct)}}return z.join("")}(this.decodeStringToByteArray($,z))},decodeStringToByteArray($,z){this.init_();const Q=z?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let se=0;se<$.length;){const ut=Q[$.charAt(se++)],Jt=se<$.length?Q[$.charAt(se)]:0;++se;const Ui=se<$.length?Q[$.charAt(se)]:64;++se;const Gt=se<$.length?Q[$.charAt(se)]:64;if(++se,null==ut||null==Jt||null==Ui||null==Gt)throw new _e;Ee.push(ut<<2|Jt>>4),64!==Ui&&(Ee.push(Jt<<4&240|Ui>>2),64!==Gt&&Ee.push(Ui<<6&192|Gt))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function($){const z=oe($);return te.encodeByteArray(z,!0)},me=function($){return Me($).replace(/\./g,"")},j=function($){try{return te.decodeString($,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function G($){return J(void 0,$)}function J($,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return z}for(const Q in z)!z.hasOwnProperty(Q)||!He(Q)||($[Q]=J($[Q],z[Q]));return $}function He($){return"__proto__"!==$}const Ne=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=$&&j($[1]);return z&&JSON.parse(z)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},ce=()=>{var $;return null===($=Ne())||void 0===$?void 0:$.config},xe=$=>{var z;return null===(z=Ne())||void 0===z?void 0:z[`_${$}`]};class re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,Q)=>{this.resolve=z,this.reject=Q})}wrapCallback(z){return(Q,Ee)=>{Q?this.reject(Q):this.resolve(Ee),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(Q):z(Q,Ee))}}}function Te($,z){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=z||"demo-project",se=$.iat||0,ut=$.sub||$.user_id;if(!ut)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ct=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:se,exp:se+3600,auth_time:se,sub:ut,user_id:ut,firebase:{sign_in_provider:"custom",identities:{}}},$);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(Ct)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function Y(){var $;const z=null===($=Ne())||void 0===$?void 0:$.forceEnvironment;if("node"===z)return!0;if("browser"===z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function qe(){return"object"==typeof self&&self.self===self}function _t(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function bn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Un(){const $=Be();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function ti(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function mr(){return!Y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){try{return"object"==typeof indexedDB}catch{return!1}}function pe(){return new Promise(($,z)=>{try{let Q=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(Ee);se.onsuccess=()=>{se.result.close(),Q||self.indexedDB.deleteDatabase(Ee),$(!0)},se.onupgradeneeded=()=>{Q=!1},se.onerror=()=>{var ut;z((null===(ut=se.error)||void 0===ut?void 0:ut.message)||"")}}catch(Q){z(Q)}})}function ge(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class we extends Error{constructor(z,Q,Ee){super(Q),this.code=z,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,we.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ie.prototype.create)}}class Ie{constructor(z,Q,Ee){this.service=z,this.serviceName=Q,this.errors=Ee}create(z,...Q){const Ee=Q[0]||{},se=`${this.service}/${z}`,ut=this.errors[z],Ct=ut?function at($,z){return $.replace(Ke,(Q,Ee)=>{const se=z[Ee];return null!=se?String(se):`<${Ee}?>`})}(ut,Ee):"Error";return new we(se,`${this.serviceName}: ${Ct} (${se}).`,Ee)}}const Ke=/\{\$([^}]+)}/g;function Cn($){return JSON.parse($)}function vt($){return JSON.stringify($)}const hn=function($){let z={},Q={},Ee={},se="";try{const ut=$.split(".");z=Cn(j(ut[0])||""),Q=Cn(j(ut[1])||""),se=ut[2],Ee=Q.d||{},delete Q.d}catch{}return{header:z,claims:Q,data:Ee,signature:se}},cn=function($){const Q=hn($).claims;return!!Q&&"object"==typeof Q&&Q.hasOwnProperty("iat")},Vi=function($){const z=hn($).claims;return"object"==typeof z&&!0===z.admin};function In($,z){return Object.prototype.hasOwnProperty.call($,z)}function Qi($,z){if(Object.prototype.hasOwnProperty.call($,z))return $[z]}function to($){for(const z in $)if(Object.prototype.hasOwnProperty.call($,z))return!1;return!0}function ds($,z,Q){const Ee={};for(const se in $)Object.prototype.hasOwnProperty.call($,se)&&(Ee[se]=z.call(Q,$[se],se,$));return Ee}function zr($,z){if($===z)return!0;const Q=Object.keys($),Ee=Object.keys(z);for(const se of Q){if(!Ee.includes(se))return!1;const ut=$[se],Ct=z[se];if(Sr(ut)&&Sr(Ct)){if(!zr(ut,Ct))return!1}else if(ut!==Ct)return!1}for(const se of Ee)if(!Q.includes(se))return!1;return!0}function Sr($){return null!==$&&"object"==typeof $}function vd($){const z=[];for(const[Q,Ee]of Object.entries($))Array.isArray(Ee)?Ee.forEach(se=>{z.push(encodeURIComponent(Q)+"="+encodeURIComponent(se))}):z.push(encodeURIComponent(Q)+"="+encodeURIComponent(Ee));return z.length?"&"+z.join("&"):""}function St($){const z={};return $.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[se,ut]=Ee.split("=");z[decodeURIComponent(se)]=decodeURIComponent(ut)}}),z}function Lt($){const z=$.indexOf("?");if(!z)return"";const Q=$.indexOf("#",z);return $.substring(z,Q>0?Q:void 0)}class $t{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let z=1;z<this.blockSize;++z)this.pad_[z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(z,Q){Q||(Q=0);const Ee=this.W_;if("string"==typeof z)for(let Gt=0;Gt<16;Gt++)Ee[Gt]=z.charCodeAt(Q)<<24|z.charCodeAt(Q+1)<<16|z.charCodeAt(Q+2)<<8|z.charCodeAt(Q+3),Q+=4;else for(let Gt=0;Gt<16;Gt++)Ee[Gt]=z[Q]<<24|z[Q+1]<<16|z[Q+2]<<8|z[Q+3],Q+=4;for(let Gt=16;Gt<80;Gt++){const pr=Ee[Gt-3]^Ee[Gt-8]^Ee[Gt-14]^Ee[Gt-16];Ee[Gt]=4294967295&(pr<<1|pr>>>31)}let Ui,Bt,se=this.chain_[0],ut=this.chain_[1],Ct=this.chain_[2],Jt=this.chain_[3],vn=this.chain_[4];for(let Gt=0;Gt<80;Gt++){Gt<40?Gt<20?(Ui=Jt^ut&(Ct^Jt),Bt=1518500249):(Ui=ut^Ct^Jt,Bt=1859775393):Gt<60?(Ui=ut&Ct|Jt&(ut|Ct),Bt=2400959708):(Ui=ut^Ct^Jt,Bt=3395469782);const pr=(se<<5|se>>>27)+Ui+vn+Bt+Ee[Gt]&4294967295;vn=Jt,Jt=Ct,Ct=4294967295&(ut<<30|ut>>>2),ut=se,se=pr}this.chain_[0]=this.chain_[0]+se&4294967295,this.chain_[1]=this.chain_[1]+ut&4294967295,this.chain_[2]=this.chain_[2]+Ct&4294967295,this.chain_[3]=this.chain_[3]+Jt&4294967295,this.chain_[4]=this.chain_[4]+vn&4294967295}update(z,Q){if(null==z)return;void 0===Q&&(Q=z.length);const Ee=Q-this.blockSize;let se=0;const ut=this.buf_;let Ct=this.inbuf_;for(;se<Q;){if(0===Ct)for(;se<=Ee;)this.compress_(z,se),se+=this.blockSize;if("string"==typeof z){for(;se<Q;)if(ut[Ct]=z.charCodeAt(se),++Ct,++se,Ct===this.blockSize){this.compress_(ut),Ct=0;break}}else for(;se<Q;)if(ut[Ct]=z[se],++Ct,++se,Ct===this.blockSize){this.compress_(ut),Ct=0;break}}this.inbuf_=Ct,this.total_+=Q}digest(){const z=[];let Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let se=this.blockSize-1;se>=56;se--)this.buf_[se]=255&Q,Q/=256;this.compress_(this.buf_);let Ee=0;for(let se=0;se<5;se++)for(let ut=24;ut>=0;ut-=8)z[Ee]=this.chain_[se]>>ut&255,++Ee;return z}}function Hn($,z){const Q=new xi($,z);return Q.subscribe.bind(Q)}class xi{constructor(z,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{z(this)}).catch(Ee=>{this.error(Ee)})}next(z){this.forEachObserver(Q=>{Q.next(z)})}error(z){this.forEachObserver(Q=>{Q.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,Q,Ee){let se;if(void 0===z&&void 0===Q&&void 0===Ee)throw new Error("Missing Observer.");se=function wn($,z){if("object"!=typeof $||null===$)return!1;for(const Q of z)if(Q in $&&"function"==typeof $[Q])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:Q,complete:Ee},void 0===se.next&&(se.next=di),void 0===se.error&&(se.error=di),void 0===se.complete&&(se.complete=di);const ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch{}}),this.observers.push(se),ut}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,z)}sendOne(z,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{Q(this.observers[z])}catch(Ee){typeof console<"u"&&console.error&&console.error(Ee)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function di(){}const _a=function($,z,Q,Ee){let se;if(Ee<z?se="at least "+z:Ee>Q&&(se=0===Q?"none":"no more than "+Q),se)throw new Error($+" failed: Was called with "+Ee+(1===Ee?" argument.":" arguments.")+" Expects "+se+".")};function ct($,z){return`${$} failed: ${z} argument `}function rn($,z,Q,Ee){if((!Ee||Q)&&"function"!=typeof Q)throw new Error(ct($,z)+"must be a valid function.")}function hs($,z,Q,Ee){if((!Ee||Q)&&("object"!=typeof Q||null===Q))throw new Error(ct($,z)+"must be a valid context object.")}const Uo=function($){const z=[];let Q=0;for(let Ee=0;Ee<$.length;Ee++){let se=$.charCodeAt(Ee);if(se>=55296&&se<=56319){const ut=se-55296;Ee++,ie(Ee<$.length,"Surrogate pair missing trail surrogate."),se=65536+(ut<<10)+($.charCodeAt(Ee)-56320)}se<128?z[Q++]=se:se<2048?(z[Q++]=se>>6|192,z[Q++]=63&se|128):se<65536?(z[Q++]=se>>12|224,z[Q++]=se>>6&63|128,z[Q++]=63&se|128):(z[Q++]=se>>18|240,z[Q++]=se>>12&63|128,z[Q++]=se>>6&63|128,z[Q++]=63&se|128)}return z},cc=function($){let z=0;for(let Q=0;Q<$.length;Q++){const Ee=$.charCodeAt(Q);Ee<128?z++:Ee<2048?z+=2:Ee>=55296&&Ee<=56319?(z+=4,Q++):z+=3}return z},lc=1e3,rt=2,De=144e5,nt=.5;function Pt($,z=lc,Q=rt){const Ee=z*Math.pow(Q,$),se=Math.round(nt*Ee*(Math.random()-.5)*2);return Math.min(De,Ee+se)}function Qn($){return $&&$._delegate?$._delegate:$}},6817:(ht,Ce,L)=>{var d=L(5879);let ie=null;function B(){return ie}class fe{}const te=new d.OlP("DocumentToken");let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(me)},providedIn:"platform"})}return n})();const Me=new d.OlP("Location Initialized");let me=(()=>{class n extends _e{constructor(){super(),this._doc=(0,d.f3M)(te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function j(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function G(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function J(n){return n&&"?"!==n[0]?"?"+n:n}let He=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Ye)},providedIn:"root"})}return n})();const Ae=new d.OlP("appBaseHref");let Ye=(()=>{class n extends He{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return j(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+J(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const c=this.prepareExternalUrl(r+J(s));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){const c=this.prepareExternalUrl(r+J(s));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(_e),d.LFG(Ae,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Le=(()=>{class n extends He{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=j(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let c=this.prepareExternalUrl(r+J(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){let c=this.prepareExternalUrl(r+J(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(_e),d.LFG(Ae,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})(),Qe=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function ce(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(G(pt(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+J(i))}normalize(t){return n.stripTrailingSlash(function mt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,pt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+J(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+J(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=J;static#t=this.joinWithSlash=j;static#n=this.stripTrailingSlash=G;static#i=this.\u0275fac=function(i){return new(i||n)(d.LFG(He))};static#r=this.\u0275prov=d.Yz7({token:n,factory:function(){return function Ne(){return new Qe((0,d.LFG)(He))}()},providedIn:"root"})}return n})();function pt(n){return n.replace(/\/index.html$/,"")}var Be=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Be||{}),ue=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ue||{}),Y=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Y||{}),qe=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(qe||{});function pe(n,e){return In((0,d.cg1)(n)[d.wAp.DateFormat],e)}function ge(n,e){return In((0,d.cg1)(n)[d.wAp.TimeFormat],e)}function be(n,e){return In((0,d.cg1)(n)[d.wAp.DateTimeFormat],e)}function we(n,e){const t=(0,d.cg1)(n),i=t[d.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===qe.CurrencyDecimal)return t[d.wAp.NumberSymbols][qe.Decimal];if(e===qe.CurrencyGroup)return t[d.wAp.NumberSymbols][qe.Group]}return i}function Dt(n){if(!n[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function In(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Qi(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Sr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Xi={},vd=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var St=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(St||{}),Lt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Lt||{}),$t=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}($t||{});function Hn(n,e,t,i){let r=function z(n){if(Ee(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,c=1]=n.split("-").map(h=>+h);return xi(r,s-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Sr))return function Q(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,h=Number(n[5]||0)-i,p=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,c,h,p,v),e}(i)}const e=new Date(n);if(!Ee(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ji(t,e)||e;let h,c=[];for(;e;){if(h=vd.exec(e),!h){c.push(e);break}{c=c.concat(h.slice(1));const C=c.pop();if(!C)break;e=C}}let p=r.getTimezoneOffset();i&&(p=_n(i,p),r=function $(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function Qn(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(_n(e,r)-r))}(r,i,!0));let v="";return c.forEach(C=>{const D=function At(n){if(Pt[n])return Pt[n];let e;switch(n){case"G":case"GG":case"GGG":e=rn($t.Eras,ue.Abbreviated);break;case"GGGG":e=rn($t.Eras,ue.Wide);break;case"GGGGG":e=rn($t.Eras,ue.Narrow);break;case"y":e=ct(Lt.FullYear,1,0,!1,!0);break;case"yy":e=ct(Lt.FullYear,2,0,!0,!0);break;case"yyy":e=ct(Lt.FullYear,3,0,!1,!0);break;case"yyyy":e=ct(Lt.FullYear,4,0,!1,!0);break;case"Y":e=nt(1);break;case"YY":e=nt(2,!0);break;case"YYY":e=nt(3);break;case"YYYY":e=nt(4);break;case"M":case"L":e=ct(Lt.Month,1,1);break;case"MM":case"LL":e=ct(Lt.Month,2,1);break;case"MMM":e=rn($t.Months,ue.Abbreviated);break;case"MMMM":e=rn($t.Months,ue.Wide);break;case"MMMMM":e=rn($t.Months,ue.Narrow);break;case"LLL":e=rn($t.Months,ue.Abbreviated,Be.Standalone);break;case"LLLL":e=rn($t.Months,ue.Wide,Be.Standalone);break;case"LLLLL":e=rn($t.Months,ue.Narrow,Be.Standalone);break;case"w":e=De(1);break;case"ww":e=De(2);break;case"W":e=De(1,!0);break;case"d":e=ct(Lt.Date,1);break;case"dd":e=ct(Lt.Date,2);break;case"c":case"cc":e=ct(Lt.Day,1);break;case"ccc":e=rn($t.Days,ue.Abbreviated,Be.Standalone);break;case"cccc":e=rn($t.Days,ue.Wide,Be.Standalone);break;case"ccccc":e=rn($t.Days,ue.Narrow,Be.Standalone);break;case"cccccc":e=rn($t.Days,ue.Short,Be.Standalone);break;case"E":case"EE":case"EEE":e=rn($t.Days,ue.Abbreviated);break;case"EEEE":e=rn($t.Days,ue.Wide);break;case"EEEEE":e=rn($t.Days,ue.Narrow);break;case"EEEEEE":e=rn($t.Days,ue.Short);break;case"a":case"aa":case"aaa":e=rn($t.DayPeriods,ue.Abbreviated);break;case"aaaa":e=rn($t.DayPeriods,ue.Wide);break;case"aaaaa":e=rn($t.DayPeriods,ue.Narrow);break;case"b":case"bb":case"bbb":e=rn($t.DayPeriods,ue.Abbreviated,Be.Standalone,!0);break;case"bbbb":e=rn($t.DayPeriods,ue.Wide,Be.Standalone,!0);break;case"bbbbb":e=rn($t.DayPeriods,ue.Narrow,Be.Standalone,!0);break;case"B":case"BB":case"BBB":e=rn($t.DayPeriods,ue.Abbreviated,Be.Format,!0);break;case"BBBB":e=rn($t.DayPeriods,ue.Wide,Be.Format,!0);break;case"BBBBB":e=rn($t.DayPeriods,ue.Narrow,Be.Format,!0);break;case"h":e=ct(Lt.Hours,1,-12);break;case"hh":e=ct(Lt.Hours,2,-12);break;case"H":e=ct(Lt.Hours,1);break;case"HH":e=ct(Lt.Hours,2);break;case"m":e=ct(Lt.Minutes,1);break;case"mm":e=ct(Lt.Minutes,2);break;case"s":e=ct(Lt.Seconds,1);break;case"ss":e=ct(Lt.Seconds,2);break;case"S":e=ct(Lt.FractionalSeconds,1);break;case"SS":e=ct(Lt.FractionalSeconds,2);break;case"SSS":e=ct(Lt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Uo(St.Short);break;case"ZZZZZ":e=Uo(St.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Uo(St.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Uo(St.Long);break;default:return null}return Pt[n]=e,e}(C);v+=D?D(r,t,p):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function xi(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Ji(n,e){const t=function bn(n){return(0,d.cg1)(n)[d.wAp.LocaleId]}(n);if(Xi[t]=Xi[t]||{},Xi[t][e])return Xi[t][e];let i="";switch(e){case"shortDate":i=pe(n,Y.Short);break;case"mediumDate":i=pe(n,Y.Medium);break;case"longDate":i=pe(n,Y.Long);break;case"fullDate":i=pe(n,Y.Full);break;case"shortTime":i=ge(n,Y.Short);break;case"mediumTime":i=ge(n,Y.Medium);break;case"longTime":i=ge(n,Y.Long);break;case"fullTime":i=ge(n,Y.Full);break;case"short":const r=Ji(n,"shortTime"),s=Ji(n,"shortDate");i=wn(be(n,Y.Short),[r,s]);break;case"medium":const c=Ji(n,"mediumTime"),h=Ji(n,"mediumDate");i=wn(be(n,Y.Medium),[c,h]);break;case"long":const p=Ji(n,"longTime"),v=Ji(n,"longDate");i=wn(be(n,Y.Long),[p,v]);break;case"full":const C=Ji(n,"fullTime"),D=Ji(n,"fullDate");i=wn(be(n,Y.Full),[C,D])}return i&&(Xi[t][e]=i),i}function wn(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function di(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let c=String(n);for(;c.length<e;)c="0"+c;return i&&(c=c.slice(c.length-e)),s+c}function ct(n,e,t=0,i=!1,r=!1){return function(s,c){let h=function us(n,e){switch(n){case Lt.FullYear:return e.getFullYear();case Lt.Month:return e.getMonth();case Lt.Date:return e.getDate();case Lt.Hours:return e.getHours();case Lt.Minutes:return e.getMinutes();case Lt.Seconds:return e.getSeconds();case Lt.FractionalSeconds:return e.getMilliseconds();case Lt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||h>-t)&&(h+=t),n===Lt.Hours)0===h&&-12===t&&(h=12);else if(n===Lt.FractionalSeconds)return function _a(n,e){return di(n,3).substring(0,e)}(h,e);const p=we(c,qe.MinusSign);return di(h,e,p,i,r)}}function rn(n,e,t=Be.Format,i=!1){return function(r,s){return function hs(n,e,t,i,r,s){switch(t){case $t.Months:return function Ii(n,e,t){const i=(0,d.cg1)(n),s=In([i[d.wAp.MonthsFormat],i[d.wAp.MonthsStandalone]],e);return In(s,t)}(e,r,i)[n.getMonth()];case $t.Days:return function Un(n,e,t){const i=(0,d.cg1)(n),s=In([i[d.wAp.DaysFormat],i[d.wAp.DaysStandalone]],e);return In(s,t)}(e,r,i)[n.getDay()];case $t.DayPeriods:const c=n.getHours(),h=n.getMinutes();if(s){const v=function jn(n){const e=(0,d.cg1)(n);return Dt(e),(e[d.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Qi(i):[Qi(i[0]),Qi(i[1])])}(e),C=function cn(n,e,t){const i=(0,d.cg1)(n);Dt(i);const s=In([i[d.wAp.ExtraData][0],i[d.wAp.ExtraData][1]],e)||[];return In(s,t)||[]}(e,r,i),D=v.findIndex(M=>{if(Array.isArray(M)){const[F,U]=M,W=c>=F.hours&&h>=F.minutes,ee=c<U.hours||c===U.hours&&h<U.minutes;if(F.hours<U.hours){if(W&&ee)return!0}else if(W||ee)return!0}else if(M.hours===c&&M.minutes===h)return!0;return!1});if(-1!==D)return C[D]}return function Vn(n,e,t){const i=(0,d.cg1)(n),s=In([i[d.wAp.DayPeriodsFormat],i[d.wAp.DayPeriodsStandalone]],e);return In(s,t)}(e,r,i)[c<12?0:1];case $t.Eras:return function ti(n,e){return In((0,d.cg1)(n)[d.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function Uo(n){return function(e,t,i){const r=-1*i,s=we(t,qe.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case St.Short:return(r>=0?"+":"")+di(c,2,s)+di(Math.abs(r%60),2,s);case St.ShortGMT:return"GMT"+(r>=0?"+":"")+di(c,1,s);case St.Long:return"GMT"+(r>=0?"+":"")+di(c,2,s)+":"+di(Math.abs(r%60),2,s);case St.Extended:return 0===i?"Z":(r>=0?"+":"")+di(c,2,s)+":"+di(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const cc=0,jo=4;function rt(n){return xi(n.getFullYear(),n.getMonth(),n.getDate()+(jo-n.getDay()))}function De(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();r=1+Math.floor((c+s)/7)}else{const s=rt(t),c=function lc(n){const e=xi(n,cc,1).getDay();return xi(n,0,1+(e<=jo?jo:jo+7)-e)}(s.getFullYear()),h=s.getTime()-c.getTime();r=1+Math.round(h/6048e5)}return di(r,n,we(i,qe.MinusSign))}}function nt(n,e=!1){return function(t,i){return di(rt(t).getFullYear(),n,we(i,qe.MinusSign),e)}}const Pt={};function _n(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ee(n){return n instanceof Date&&!isNaN(n.valueOf())}function bo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}class rl{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wo=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new rl(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,c),ol(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{ol(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function ol(n,e){n.context.$implicit=e.item}let ro=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new yd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bd("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bd("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b),d.Y36(d.Rgc))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class yd{constructor(){this.$implicit=null,this.ngIf=null}}function bd(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class wd{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let gr=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),Lf=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new wd(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(gr,9))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),cl=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:c}=this;this._viewRef=i.createEmbeddedView(r,s,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]})}return n})();function er(n,e){return new d.vHH(2100,!1)}class Gs{createSubscription(e,t){return(0,d.rg0)(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){(0,d.rg0)(()=>e.unsubscribe())}}class ll{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const Ju=new ll,xd=new Gs;let wa=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,d.QGY)(t))return Ju;if((0,d.F4k)(t))return xd;throw er()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.sBO,16))};static#t=this.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Xt=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),$n=new d.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ui=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,s){if(null==t||""===t||t!=t)return null;try{return Hn(t,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(c){throw er()}}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.soG,16),d.Y36(Xt,24),d.Y36($n,24))};static#t=this.\u0275pipe=d.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),Di=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();const Gn="browser";function hl(n){return"server"===n}let tr=(()=>{class n{static#e=this.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new nr((0,d.LFG)(te),window)})}return n})();class nr{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Go(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Eo{}class ch extends fe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class gc extends ch{static makeCurrent(){!function oe(n){ie||(ie=n)}(new gc)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function pg(){return Sa=Sa||document.querySelector("base"),Sa?Sa.getAttribute("href"):null}();return null==t?null:function Xf(n){lh=lh||document.createElement("a"),lh.setAttribute("href",n);const e=lh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return bo(document.cookie,e)}}let lh,Sa=null,Jf=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const em=new d.OlP("EventManagerPlugins");let Xs=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(em),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();class dh{constructor(e){this._doc=e}}const wl="ng-app-id";let Rd=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=hl(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${wl}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(wl),s;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(wl,this.appId),c}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,c=s.get(i)?.elements;c?c.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(te),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const xl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ys=/%COMP%/g,Yv=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function _c(n,e){return e.map(t=>t.replace(ys,n))}let fn=(()=>{class n{constructor(t,i,r,s,c,h,p,v=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=h,this.ngZone=p,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=hl(h),this.defaultRenderer=new El(t,c,p,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===d.ifc.ShadowDom&&(i={...i,encapsulation:d.ifc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof br?r.applyToHost(t):r instanceof Js&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const c=this.doc,h=this.ngZone,p=this.eventManager,v=this.sharedStylesHost,C=this.removeStylesOnCompDestroy,D=this.platformIsServer;switch(i.encapsulation){case d.ifc.Emulated:s=new br(p,v,i,this.appId,C,c,h,D);break;case d.ifc.ShadowDom:return new qo(p,v,t,i,c,h,this.nonce,D);default:s=new Js(p,v,i,C,c,h,D)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Xs),d.LFG(Rd),d.LFG(d.AFp),d.LFG(Yv),d.LFG(te),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();class El{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(xl[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Cl(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Cl(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new d.vHH(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=xl[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=xl[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,i,r&d.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=B().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Cl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class qo extends El{constructor(e,t,i,r,s,c,h,p){super(e,s,c,p),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=_c(r.id,r.styles);for(const C of v){const D=document.createElement("style");h&&D.setAttribute("nonce",h),D.textContent=C,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Js extends El{constructor(e,t,i,r,s,c,h,p){super(e,s,c,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=p?_c(p,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class br extends Js{constructor(e,t,i,r,s,c,h,p){const v=r+"-"+i.id;super(e,t,i,s,c,h,p,v),this.contentAttr=function Co(n){return"_ngcontent-%COMP%".replace(ys,n)}(v),this.hostAttr=function tm(n){return"_nghost-%COMP%".replace(ys,n)}(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Nd=(()=>{class n extends dh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(te))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const nm=["alt","control","meta","shift"],ea={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wo={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let im=(()=>{class n extends dh{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),c="code."),nm.forEach(v=>{const C=i.indexOf(v);C>-1&&(i.splice(C,1),c+=v+".")}),c+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=c,p}static matchEventFullKeyCode(t,i){let r=ea[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),nm.forEach(c=>{c!==r&&(0,Wo[c])(t)&&(s+=c+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(te))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const ph=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:Gn},{provide:d.g9A,useValue:function Il(){gc.makeCurrent()},multi:!0},{provide:te,useFactory:function vc(){return(0,d.RDi)(document),document},deps:[]}]),rm=new d.OlP(""),Fd=[{provide:d.rWj,useClass:class gg{addToWindow(e){d.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new d.vHH(5103,!1);return s},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(i=>{const r=d.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const h=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(p=>{p.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],ta=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function kt(){return new d.qLn},deps:[]},{provide:em,useClass:Nd,multi:!0,deps:[te,d.R0b,d.Lbi]},{provide:em,useClass:im,multi:!0,deps:[te]},fn,Rd,Xs,{provide:d.FYo,useExisting:fn},{provide:Eo,useClass:Jf,deps:[]},[]];let na=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(rm,12))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[...ta,...Fd],imports:[Di,d.hGG]})}return n})(),Tl=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(te))};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function gh(){return new Tl((0,d.LFG)(te))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let Ko=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(i){let r=null;return r=i?new(i||n):d.LFG(yh),r},providedIn:"root"})}return n})(),yh=(()=>{class n extends Ko{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case d.q3G.NONE:return i;case d.q3G.HTML:return(0,d.qzn)(i,"HTML")?(0,d.z3N)(i):(0,d.EiD)(this._doc,String(i)).toString();case d.q3G.STYLE:return(0,d.qzn)(i,"Style")?(0,d.z3N)(i):i;case d.q3G.SCRIPT:if((0,d.qzn)(i,"Script"))return(0,d.z3N)(i);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(i,"URL")?(0,d.z3N)(i):(0,d.mCW)(String(i));case d.q3G.RESOURCE_URL:if((0,d.qzn)(i,"ResourceURL"))return(0,d.z3N)(i);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(te))};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function Io(n){return new yh(n.get(te))}(d.LFG(d.zs3)),r},providedIn:"root"})}return n})();var Ei=L(5592),bs=L(4674),mn=L(2459),ot=L(2096),ir=L(5619);const{isArray:bc}=Array,{getPrototypeOf:wc,prototype:wh,keys:ji}=Object;function Yo(n){if(1===n.length){const e=n[0];if(bc(e))return{args:e,keys:null};if(function Tn(n){return n&&"object"==typeof n&&wc(n)===wh}(e)){const t=ji(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Pr=L(2737),ft=L(7398);const{isArray:xh}=Array;function Eh(n){return(0,ft.U)(e=>function bg(n,e){return xh(e)?n(...e):n(e)}(n,e))}var ws=L(4564);function Ma(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var An=L(8251),wg=L(7103);function To(...n){const e=(0,ws.yG)(n),t=(0,ws.jO)(n),{args:i,keys:r}=Yo(n);if(0===i.length)return(0,mn.D)([],e);const s=new Ei.y(function $d(n,e,t=Pr.y){return i=>{xc(e,()=>{const{length:r}=n,s=new Array(r);let c=r,h=r;for(let p=0;p<r;p++)xc(e,()=>{const v=(0,mn.D)(n[p],e);let C=!1;v.subscribe((0,An.x)(i,D=>{s[p]=D,C||(C=!0,h--),h||i.next(t(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>Ma(r,c):Pr.y));return t?s.pipe(Eh(t)):s}function xc(n,e,t){n?(0,wg.f)(t,n,e):e()}const xs=(0,L(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ra=L(7537);function rr(...n){return function ey(){return(0,Ra.J)(1)}()((0,mn.D)(n,(0,ws.yG)(n)))}var Es=L(4829);function lm(n){return new Ei.y(e=>{(0,Es.Xf)(n()).subscribe(e)})}var dm=L(8407);function oo(n,e){const t=(0,bs.m)(n)?n:()=>n,i=r=>r.error(t());return new Ei.y(e?r=>e.schedule(i,0,r):i)}var so=L(6232),Nn=L(7394),ki=L(9360);function Hi(){return(0,ki.e)((n,e)=>{let t=null;n._refCount++;const i=(0,An.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class um extends Ei.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ki.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Nn.w0;const t=this.getSubject();e.add(this.source.subscribe((0,An.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Nn.w0.EMPTY)}return e}refCount(){return Hi()(this)}}var yn=L(8645),kn=L(4664);function Qo(n){return n<=0?()=>so.E:(0,ki.e)((e,t)=>{let i=0;e.subscribe((0,An.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Cs(...n){const e=(0,ws.yG)(n);return(0,ki.e)((t,i)=>{(e?rr(n,t,e):rr(n,t)).subscribe(i)})}function zi(n,e){return(0,ki.e)((t,i)=>{let r=0;t.subscribe((0,An.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var Xn=L(1631);function Ch(n){return(0,ki.e)((e,t)=>{let i=!1;e.subscribe((0,An.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Sl(n=Gd){return(0,ki.e)((e,t)=>{let i=!1;e.subscribe((0,An.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Gd(){return new xs}function ia(n,e){const t=arguments.length>=2;return i=>i.pipe(n?zi((r,s)=>n(r,s,i)):Pr.y,Qo(1),t?Ch(e):Sl(()=>new xs))}function $i(n,e){return(0,bs.m)(e)?(0,Xn.z)(n,e,1):(0,Xn.z)(n,1)}var Wn=L(9397);function wr(n){return(0,ki.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,An.x)(t,void 0,void 0,c=>{s=(0,Es.Xf)(n(c,wr(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Xo(n,e){return(0,ki.e)(function qd(n,e,t,i,r){return(s,c)=>{let h=t,p=e,v=0;s.subscribe((0,An.x)(c,C=>{const D=v++;p=h?n(p,C,D):(h=!0,C),i&&c.next(p)},r&&(()=>{h&&c.next(p),c.complete()})))}}(n,e,arguments.length>=2,!0))}function Ec(n){return n<=0?()=>so.E:(0,ki.e)((e,t)=>{let i=[];e.subscribe((0,An.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function ra(n){return(0,ki.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Al=L(2420);function ao(n){return(0,ki.e)((e,t)=>{(0,Es.Xf)(n).subscribe((0,An.x)(t,()=>t.complete(),Al.Z)),!t.closed&&e.subscribe(t)})}const Rt="primary",kl=Symbol("RouteTitle");class Kd{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function co(n){return new Kd(n)}function Ml(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],h=n[s];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Zr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!Oa(n[r],e[r]))return!1;return!0}function Oa(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function Yd(n){return n.length>0?n[n.length-1]:null}function Pn(n){return function zd(n){return!!n&&(n instanceof Ei.y||(0,bs.m)(n.lift)&&(0,bs.m)(n.subscribe))}(n)?n:(0,d.QGY)(n)?(0,mn.D)(Promise.resolve(n)):(0,ot.of)(n)}const Ih={exact:function Rl(n,e,t){if(!Ds(n.segments,e.segments)||!lo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Rl(n.children[i],e.children[i],t))return!1;return!0},subset:Is},Th={exact:function xg(n,e){return Zr(n,e)},subset:function Dh(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Oa(n[t],e[t]))},ignored:()=>!0};function Cc(n,e,t){return Ih[t.paths](n.root,e.root,t.matrixParams)&&Th[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Is(n,e,t){return Ts(n,e,e.segments,t)}function Ts(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ds(r,t)||e.hasChildren()||!lo(r,t,i))}if(n.segments.length===t.length){if(!Ds(n.segments,t)||!lo(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Is(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ds(n.segments,r)&&lo(n.segments,r,i)&&n.children[Rt])&&Ts(n.children[Rt],e,s,i)}}function lo(n,e,t){return e.every((i,r)=>Th[t](n[r].parameters,i.parameters))}class oa{constructor(e=new ln([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=co(this.queryParams)),this._queryParamMap}toString(){return Cg.serialize(this)}}class ln{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ic(this)}}class uo{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=co(this.parameters)),this._parameterMap}toString(){return Ig(this)}}function Ds(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Kr=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return new Sh},providedIn:"root"})}return n})();class Sh{parse(e){const t=new Mh(e);return new oa(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ol(e.root,!0)}`,i=function Tc(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${xr(t)}=${xr(r)}`).join("&"):`${xr(t)}=${xr(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Ah(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Cg=new Sh;function Ic(n){return n.segments.map(e=>Ig(e)).join("/")}function Ol(n,e){if(!n.hasChildren())return Ic(n);if(e){const t=n.children[Rt]?Ol(n.children[Rt],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Rt&&i.push(`${r}:${Ol(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Eg(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Rt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Rt&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Rt?[Ol(n.children[Rt],!1)]:[`${r}:${Ol(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rt]?`${Ic(n)}/${t[0]}`:`${Ic(n)}/(${t.join("//")})`}}function Jo(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xr(n){return Jo(n).replace(/%3B/gi,";")}function Jn(n){return Jo(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qd(n){return decodeURIComponent(n)}function Na(n){return Qd(n.replace(/\+/g,"%20"))}function Ig(n){return`${Jn(n.path)}${function Fr(n){return Object.keys(n).map(e=>`;${Jn(e)}=${Jn(n[e])}`).join("")}(n.parameters)}`}const kh=/^[^\/()?;#]+/;function Pa(n){const e=n.match(kh);return e?e[0]:""}const Nl=/^[^\/()?;=#]+/,ny=/^[^=?&#]+/,rw=/^[^&#]+/;class Mh{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ln([],{}):new ln([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Rt]=new ln(e,t)),i}parseSegment(){const e=Pa(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new uo(Qd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Dc(n){const e=n.match(Nl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Pa(this.remaining);r&&(i=r,this.capture(i))}e[Qd(t)]=Qd(i)}parseQueryParam(e){const t=function Tg(n){const e=n.match(ny);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function ho(n){const e=n.match(rw);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Na(t),s=Na(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Pa(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new d.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Rt);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[Rt]:new ln([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function Sc(n){return n.segments.length>0?new ln([],{[Rt]:n}):n}function fm(n){const e={};for(const i of Object.keys(n.children)){const s=fm(n.children[i]);if(i===Rt&&0===s.segments.length&&s.hasChildren())for(const[c,h]of Object.entries(s.children))e[c]=h;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function Xd(n){if(1===n.numberOfChildren&&n.children[Rt]){const e=n.children[Rt];return new ln(n.segments.concat(e.segments),e.children)}return n}(new ln(n.segments,e))}function Fa(n){return n instanceof oa}function sa(n){let e;const r=Sc(function t(s){const c={};for(const p of s.children){const v=t(p);c[p.outlet]=v}const h=new ln(s.url,c);return s===n&&(e=h),h}(n.root));return e??r}function mm(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return eu(r,r,r,t,i);const s=function Pl(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pm(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Object.entries(s.outlets).forEach(([p,v])=>{h[p]="string"==typeof v?v.split("/"):v}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new pm(t,e,i)}(e);if(s.toRoot())return eu(r,r,new ln([],{}),t,i);const c=function tu(n,e,t){if(n.isAbsolute)return new Ac(e,!0,0);if(!t)return new Ac(e,!1,NaN);if(null===t.parent)return new Ac(t,!0,0);const i=Jd(n.commands[0])?0:1;return function Rh(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new d.vHH(4005,!1);r=i.segments.length}return new Ac(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),h=c.processChildren?es(c.segmentGroup,c.index,s.commands):Mc(c.segmentGroup,c.index,s.commands);return eu(r,c.segmentGroup,h,t,i)}function Jd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function La(n){return"object"==typeof n&&null!=n&&n.outlets}function eu(n,e,t,i,r){let c,s={};i&&Object.entries(i).forEach(([p,v])=>{s[p]=Array.isArray(v)?v.map(C=>`${C}`):`${v}`}),c=n===e?t:Ba(n,e,t);const h=Sc(fm(c));return new oa(h,s,r)}function Ba(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:Ba(s,e,t)}),new ln(n.segments,i)}class pm{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Jd(i[0]))throw new d.vHH(4003,!1);const r=i.find(La);if(r&&r!==Yd(i))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ac{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Mc(n,e,t){if(n||(n=new ln([],{})),0===n.segments.length&&n.hasChildren())return es(n,e,t);const i=function nu(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const c=n.segments[r],h=t[i];if(La(h))break;const p=`${h}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&v&&"object"==typeof v&&void 0===v.outlets){if(!Ua(p,v,c))return s;i+=2}else{if(!Ua(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new ln(n.segments.slice(0,i.pathIndex),{});return s.children[Rt]=new ln(n.segments.slice(i.pathIndex),n.children),es(s,0,r)}return i.match&&0===r.length?new ln(n.segments,{}):i.match&&!n.hasChildren()?Fl(n,e,t):i.match?es(n,0,r):Fl(n,e,t)}function es(n,e,t){if(0===t.length)return new ln(n.segments,{});{const i=function kc(n){return La(n[0])?n[0].outlets:{[Rt]:n}}(t),r={};if(Object.keys(i).some(s=>s!==Rt)&&n.children[Rt]&&1===n.numberOfChildren&&0===n.children[Rt].segments.length){const s=es(n.children[Rt],e,t);return new ln(n.segments,s.children)}return Object.entries(i).forEach(([s,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(r[s]=Mc(n.children[s],e,c))}),Object.entries(n.children).forEach(([s,c])=>{void 0===i[s]&&(r[s]=c)}),new ln(n.segments,r)}}function Fl(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(La(s)){const p=Oh(s.outlets);return new ln(i,p)}if(0===r&&Jd(t[0])){i.push(new uo(n.segments[e].path,Va(t[0]))),r++;continue}const c=La(s)?s.outlets[Rt]:`${s}`,h=r<t.length-1?t[r+1]:null;c&&h&&Jd(h)?(i.push(new uo(c,Va(h))),r+=2):(i.push(new uo(c,{})),r++)}return new ln(i,{})}function Oh(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=Fl(new ln([],{}),0,i))}),e}function Va(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function Ua(n,e,t){return n==t.path&&Zr(e,t.parameters)}const iu="imperative";class Ss{constructor(e,t){this.id=e,this.url=t}}class ja extends Ss{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class or extends Ss{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ll extends Ss{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rc extends Ss{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Ha extends Ss{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class aa extends Ss{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ru extends Ss{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ca extends Ss{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gm extends Ss{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dg extends Ss{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _m{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ry{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ou{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class x{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class N{}class H{constructor(e){this.url=e}}class le{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ue,this.attachRef=null}}let Ue=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new le,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class $e{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=lt(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=lt(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Mt(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Mt(e,this._root).map(t=>t.value)}}function lt(n,e){if(n===e.value)return e;for(const t of e.children){const i=lt(n,t);if(i)return i}return null}function Mt(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Mt(n,t);if(i.length)return i.unshift(e),i}return[]}class gt{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function mi(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class dn extends $e{constructor(e,t){super(e),this.snapshot=t,au(this,e)}toString(){return this.snapshot.toString()}}function ts(n,e){const t=function Bl(n,e){const c=new la([],{},{},"",{},Rt,e,null,{});return new su("",new gt(c,[]))}(0,e),i=new ir.X([new uo("",{})]),r=new ir.X({}),s=new ir.X({}),c=new ir.X({}),h=new ir.X(""),p=new sr(i,r,c,h,s,Rt,e,t.root);return p.snapshot=t.root,new dn(new gt(p,[]),t)}class sr{constructor(e,t,i,r,s,c,h,p){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=c,this.component=h,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,ft.U)(v=>v[kl]))??(0,ot.of)(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(e=>co(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(e=>co(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Er(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Do(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class la{get title(){return this.data?.[kl]}constructor(e,t,i,r,s,c,h,p,v){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=h,this.routeConfig=p,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=co(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=co(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class su extends $e{constructor(e,t){super(t),this.url=e,au(this,t)}toString(){return za(this._root)}}function au(n,e){e.value._routerState=n,e.children.forEach(t=>au(n,t))}function za(n){const e=n.children.length>0?` { ${n.children.map(za).join(", ")} } `:"";return`${n.value}${e}`}function vm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Zr(e.params,t.params)||n.paramsSubject.next(t.params),function hm(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Zr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ag(n,e){const t=Zr(n.params,e.params)&&function ty(n,e){return Ds(n,e)&&n.every((t,i)=>Zr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ag(n.parent,e.parent))}let ym=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Rt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Ue),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(Nh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=t;const r=this.location,c=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new kg(t,h,r.injector);this.activated=r.createComponent(c,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]})}return n})();class kg{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===sr?this.route:e===Ue?this.childContexts:this.parent.get(e,t)}}const Nh=new d.OlP("");let Yr=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=To([i.queryParams,i.params,i.data]).pipe((0,kn.w)(([s,c,h],p)=>(h={...s,...c,...h},0===p?(0,ot.of)(h):Promise.resolve(h)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const c=(0,d.qFp)(i.component);if(c)for(const{templateName:h}of c.inputs)t.activatedComponentRef.setInput(h,s[h]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function Oc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function ow(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Oc(n,i,r);return Oc(n,i)})}(n,e,t);return new gt(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>Oc(n,h)),c}}const i=function $a(n){return new sr(new ir.X(n.url),new ir.X(n.params),new ir.X(n.queryParams),new ir.X(n.fragment),new ir.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Oc(n,s));return new gt(i,r)}}const Mi="ngNavigationCancelingError";function Ph(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Fa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=bm(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function bm(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Mi]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Gi(n){return n&&n[Mi]}let cu=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(i,r){1&i&&d._UZ(0,"router-outlet")},dependencies:[ym],encapsulation:2})}return n})();function q(n){const e=n.children&&n.children.map(q),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Rt&&(t.component=cu),t}function X(n){return n.outlet||Rt}function Ge(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class oi{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),vm(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=mi(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=mi(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=mi(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=mi(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new I(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ou(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(vm(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),vm(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=Ge(r.snapshot);c.attachRef=null,c.route=r,c.injector=h,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class So{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Nc{constructor(e,t){this.component=e,this.route=t}}function Og(n,e,t){const i=n._root;return Vl(i,e?e._root:null,t,[i.value])}function da(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:i}function Vl(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=mi(e);return n.children.forEach(c=>{(function Fh(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function Lh(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ds(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ds(n.url,e.url)||!Zr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ag(n,e)||!Zr(n.queryParams,e.queryParams);default:return!Ag(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new So(i)):(s.data=c.data,s._resolvedData=c._resolvedData),Vl(n,e,s.component?h?h.children:null:t,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Nc(h.outlet.component,c))}else c&&lu(e,h,r),r.canActivateChecks.push(new So(i)),Vl(n,null,s.component?h?h.children:null:t,i,r)})(c,s[c.value.outlet],t,i.concat([c.value]),r),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,h])=>lu(h,t.getContext(c),r)),r}function lu(n,e,t){const i=mi(n),r=n.value;Object.entries(i).forEach(([s,c])=>{lu(c,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Nc(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Ul(n){return"function"==typeof n}function VI(n){return n instanceof xs||"EmptyError"===n?.name}const cy=Symbol("INITIAL_VALUE");function du(){return(0,kn.w)(n=>To(n.map(e=>e.pipe(Qo(1),Cs(cy)))).pipe((0,ft.U)(e=>{for(const t of e)if(!0!==t){if(t===cy)return cy;if(!1===t||t instanceof oa)return t}return!0}),zi(e=>e!==cy),Qo(1)))}function dw(n){return(0,dm.z)((0,Wn.b)(e=>{if(Fa(e))throw Ph(0,e)}),(0,ft.U)(e=>!0===e))}class wm{constructor(e){this.segmentGroup=e||null}}class uw{constructor(e){this.urlTree=e}}function jl(n){return oo(new wm(n))}function xm(n){return oo(new uw(n))}class dy{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new d.vHH(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,ot.of)(i);if(r.numberOfChildren>1||!r.children[Rt])return oo(new d.vHH(4e3,!1));r=r.children[Rt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new oa(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);i[r]=t[h]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let c={};return Object.entries(t.children).forEach(([h,p])=>{c[h]=this.createSegmentGroup(e,p,i,r)}),new ln(s,c)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new d.vHH(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const uy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fw(n,e,t,i,r){const s=Vh(n,e,t);return s.matched?(i=function oy(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function $I(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,ot.of)(!0);const s=r.map(c=>{const h=da(c,n);return Pn(function ay(n){return n&&Ul(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))});return(0,ot.of)(s).pipe(du(),dw())}(i,e,t).pipe((0,ft.U)(c=>!0===c?s:{...uy}))):(0,ot.of)(s)}function Vh(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...uy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Ml)(t,n,e);if(!r)return{...uy};const s={};Object.entries(r.posParams??{}).forEach(([h,p])=>{s[h]=p.path});const c=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function qI(n,e,t,i){return t.length>0&&function zM(n,e,t){return t.some(i=>Pg(n,e,i)&&X(i)!==Rt)}(n,t,i)?{segmentGroup:new ln(e,HM(i,new ln(t,n.children))),slicedSegments:[]}:0===t.length&&function $M(n,e,t){return t.some(i=>Pg(n,e,i))}(n,t,i)?{segmentGroup:new ln(n.segments,WI(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new ln(n.segments,n.children),slicedSegments:t}}function WI(n,e,t,i,r){const s={};for(const c of i)if(Pg(n,t,c)&&!r[X(c)]){const h=new ln([],{});s[X(c)]=h}return{...r,...s}}function HM(n,e){const t={};t[Rt]=e;for(const i of n)if(""===i.path&&X(i)!==Rt){const r=new ln([],{});t[X(i)]=r}return t}function Pg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Em{constructor(e,t,i,r,s,c,h){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new dy(this.urlSerializer,this.urlTree)}noMatchError(e){return new d.vHH(4002,!1)}recognize(){const e=qI(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Rt).pipe(wr(t=>{if(t instanceof uw)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof wm?this.noMatchError(t):t}),(0,ft.U)(t=>{const i=new la([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rt,this.rootComponentType,null,{}),r=new gt(i,t),s=new su("",r),c=function iy(n,e,t=null,i=null){return mm(sa(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(s._root),{state:s,tree:c}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Rt).pipe(wr(i=>{throw i instanceof wm?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=Er(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,mn.D)(r).pipe($i(s=>{const c=i.children[s],h=function Pe(n,e){const t=n.filter(i=>X(i)===e);return t.push(...n.filter(i=>X(i)!==e)),t}(t,s);return this.processSegmentGroup(e,h,c,s)}),Xo((s,c)=>(s.push(...c),s)),Ch(null),function Wd(n,e){const t=arguments.length>=2;return i=>i.pipe(n?zi((r,s)=>n(r,s,i)):Pr.y,Ec(1),t?Ch(e):Sl(()=>new xs))}(),(0,Xn.z)(s=>{if(null===s)return jl(i);const c=WM(s);return function GM(n){n.sort((e,t)=>e.value.outlet===Rt?-1:t.value.outlet===Rt?1:e.value.outlet.localeCompare(t.value.outlet))}(c),(0,ot.of)(c)}))}processSegment(e,t,i,r,s,c){return(0,mn.D)(t).pipe($i(h=>this.processSegmentAgainstRoute(h._injector??e,t,h,i,r,s,c).pipe(wr(p=>{if(p instanceof wm)return(0,ot.of)(null);throw p}))),ia(h=>!!h),wr(h=>{if(VI(h))return function hy(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?(0,ot.of)([]):jl(i);throw h}))}processSegmentAgainstRoute(e,t,i,r,s,c,h){return function ZI(n,e,t,i){return!!(X(n)===i||i!==Rt&&Pg(e,t,n))&&("**"===n.path||Vh(e,n,t).matched)}(i,r,s,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,c,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,c):jl(r):jl(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?xm(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,Xn.z)(c=>{const h=new ln(c,{});return this.processSegment(e,t,h,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){const{matched:h,consumedSegments:p,remainingSegments:v,positionalParamSegments:C}=Vh(t,r,s);if(!h)return jl(t);const D=this.applyRedirects.applyRedirectCommands(p,r.redirectTo,C);return r.redirectTo.startsWith("/")?xm(D):this.applyRedirects.lineralizeSegments(r,D).pipe((0,Xn.z)(M=>this.processSegment(e,i,t,M.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,s,c){let h;if("**"===i.path){const p=r.length>0?Yd(r).parameters:{},v=new la(r,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fy(i),X(i),i.component??i._loadedComponent??null,i,KI(i));h=(0,ot.of)({snapshot:v,consumedSegments:[],remainingSegments:[]}),t.children={}}else h=fw(t,i,r,e).pipe((0,ft.U)(({matched:p,consumedSegments:v,remainingSegments:C,parameters:D})=>p?{snapshot:new la(v,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fy(i),X(i),i.component??i._loadedComponent??null,i,KI(i)),consumedSegments:v,remainingSegments:C}:null));return h.pipe((0,kn.w)(p=>null===p?jl(t):this.getChildConfig(e=i._injector??e,i,r).pipe((0,kn.w)(({routes:v})=>{const C=i._loadedInjector??e,{snapshot:D,consumedSegments:M,remainingSegments:F}=p,{segmentGroup:U,slicedSegments:W}=qI(t,M,F,v);if(0===W.length&&U.hasChildren())return this.processChildren(C,v,U).pipe((0,ft.U)(ke=>null===ke?null:[new gt(D,ke)]));if(0===v.length&&0===W.length)return(0,ot.of)([new gt(D,[])]);const ee=X(i)===s;return this.processSegment(C,v,U,W,ee?Rt:s,!0).pipe((0,ft.U)(ke=>[new gt(D,ke)]))}))))}getChildConfig(e,t,i){return t.children?(0,ot.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,ot.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function zI(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,ot.of)(!0);const s=r.map(c=>{const h=da(c,n);return Pn(function aw(n){return n&&Ul(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))});return(0,ot.of)(s).pipe(du(),dw())}(e,t,i).pipe((0,Xn.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Wn.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function hw(n){return oo(bm(!1,3))}())):(0,ot.of)({routes:[],injector:e})}}function qM(n){const e=n.value.routeConfig;return e&&""===e.path}function WM(n){const e=[],t=new Set;for(const i of n){if(!qM(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=WM(i.children);e.push(new gt(i.value,r))}return e.filter(i=>!t.has(i))}function fy(n){return n.data||{}}function KI(n){return n.resolve||{}}function uu(n){return"string"==typeof n.title||null===n.title}function gw(n){return(0,kn.w)(e=>{const t=n(e);return t?(0,mn.D)(t).pipe((0,ft.U)(()=>e)):(0,ot.of)(e)})}const Im=new d.OlP("ROUTES");let _w=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,ot.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Pn(t.loadComponent()).pipe((0,ft.U)(Fc),(0,Wn.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),ra(()=>{this.componentLoaders.delete(t)})),r=new um(i,()=>new yn.x).pipe(Hi());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,ot.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function ZM(n,e,t,i){return Pn(n.loadChildren()).pipe((0,ft.U)(Fc),(0,Xn.z)(r=>r instanceof d.YKP||Array.isArray(r)?(0,ot.of)(r):(0,mn.D)(e.compileModuleAsync(r))),(0,ft.U)(r=>{i&&i(n);let s,c,h=!1;return Array.isArray(r)?(c=r,!0):(s=r.create(t).injector,c=s.get(Im,[],{optional:!0,self:!0}).flat()),{routes:c.map(q),injector:s}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(ra(()=>{this.childrenLoaders.delete(i)})),c=new um(s,()=>new yn.x).pipe(Hi());return this.childrenLoaders.set(i,c),c}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fc(n){return function KM(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Hl=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new yn.x,this.transitionAbortSubject=new yn.x,this.configLoader=(0,d.f3M)(_w),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Kr),this.rootContexts=(0,d.f3M)(Ue),this.inputBindingEnabled=null!==(0,d.f3M)(Nh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ot.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new _m(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Sg(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new ir.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:iu,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(zi(s=>0!==s.id),(0,ft.U)(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),(0,kn.w)(s=>{this.currentTransition=s;let c=!1,h=!1;return(0,ot.of)(s).pipe((0,Wn.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,kn.w)(p=>{const v=p.currentBrowserUrl.toString(),C=!t.navigated||p.extractedUrl.toString()!==v||v!==p.currentUrlTree.toString();if(!C&&"reload"!==(p.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const M="";return this.events.next(new Rc(p.id,this.urlSerializer.serialize(p.rawUrl),M,0)),p.resolve(null),so.E}if(t.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return(0,ot.of)(p).pipe((0,kn.w)(M=>{const F=this.transitions?.getValue();return this.events.next(new ja(M.id,this.urlSerializer.serialize(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions?.getValue()?so.E:Promise.resolve(M)}),function Cm(n,e,t,i,r,s){return(0,Xn.z)(c=>function mw(n,e,t,i,r,s,c="emptyOnly"){return new Em(n,e,t,i,r,c,s).recognize()}(n,e,t,i,c.extractedUrl,r,s).pipe((0,ft.U)(({state:h,tree:p})=>({...c,targetSnapshot:h,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Wn.b)(M=>{s.targetSnapshot=M.targetSnapshot,s.urlAfterRedirects=M.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects};const F=new aa(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(F)}));if(C&&t.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){const{id:M,extractedUrl:F,source:U,restoredState:W,extras:ee}=p,ke=new ja(M,this.urlSerializer.serialize(F),U,W);this.events.next(ke);const ze=ts(0,this.rootComponentType).snapshot;return this.currentTransition=s={...p,targetSnapshot:ze,urlAfterRedirects:F,extras:{...ee,skipLocationChange:!1,replaceUrl:!1}},(0,ot.of)(s)}{const M="";return this.events.next(new Rc(p.id,this.urlSerializer.serialize(p.extractedUrl),M,1)),p.resolve(null),so.E}}),(0,Wn.b)(p=>{const v=new ru(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}),(0,ft.U)(p=>(this.currentTransition=s={...p,guards:Og(p.targetSnapshot,p.currentSnapshot,this.rootContexts)},s)),function UI(n,e){return(0,Xn.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?(0,ot.of)({...t,guardsResult:!0}):function Bh(n,e,t,i){return(0,mn.D)(n).pipe((0,Xn.z)(r=>function jM(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,ot.of)(!0);const c=s.map(h=>{const p=Ge(e)??r,v=da(h,p);return Pn(function LI(n){return n&&Ul(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,i):p.runInContext(()=>v(n,e,t,i))).pipe(ia())});return(0,ot.of)(c).pipe(du())}(r.component,r.route,t,e,i)),ia(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Xn.z)(h=>h&&function sy(n){return"boolean"==typeof n}(h)?function jI(n,e,t,i){return(0,mn.D)(e).pipe($i(r=>rr(function UM(n,e){return null!==n&&e&&e(new ry(n)),(0,ot.of)(!0)}(r.route.parent,i),function HI(n,e){return null!==n&&e&&e(new x(n)),(0,ot.of)(!0)}(r.route,i),function ly(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function Pc(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>lm(()=>{const h=c.guards.map(p=>{const v=Ge(c.node)??t,C=da(p,v);return Pn(function cw(n){return n&&Ul(n.canActivateChild)}(C)?C.canActivateChild(i,n):v.runInContext(()=>C(i,n))).pipe(ia())});return(0,ot.of)(h).pipe(du())}));return(0,ot.of)(s).pipe(du())}(n,r.path,t),function jF(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,ot.of)(!0);const r=i.map(s=>lm(()=>{const c=Ge(e)??t,h=da(s,c);return Pn(function Ng(n){return n&&Ul(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe(ia())}));return(0,ot.of)(r).pipe(du())}(n,r.route,t))),ia(r=>!0!==r,!0))}(i,s,n,e):(0,ot.of)(h)),(0,ft.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,p=>this.events.next(p)),(0,Wn.b)(p=>{if(s.guardsResult=p.guardsResult,Fa(p.guardsResult))throw Ph(0,p.guardsResult);const v=new ca(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(v)}),zi(p=>!!p.guardsResult||(this.cancelNavigationTransition(p,"",3),!1)),gw(p=>{if(p.guards.canActivateChecks.length)return(0,ot.of)(p).pipe((0,Wn.b)(v=>{const C=new gm(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(C)}),(0,kn.w)(v=>{let C=!1;return(0,ot.of)(v).pipe(function my(n,e){return(0,Xn.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,ot.of)(t);let s=0;return(0,mn.D)(r).pipe($i(c=>function pw(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!uu(r)&&(s[kl]=r.title),function YI(n,e,t,i){const r=function QI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,ot.of)({});const s={};return(0,mn.D)(r).pipe((0,Xn.z)(c=>function XI(n,e,t,i){const r=Ge(e)??i,s=da(n,r);return Pn(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[c],e,t,i).pipe(ia(),(0,Wn.b)(h=>{s[c]=h}))),Ec(1),function Zd(n){return(0,ft.U)(()=>n)}(s),wr(c=>VI(c)?so.E:oo(c)))}(s,n,e,i).pipe((0,ft.U)(c=>(n._resolvedData=c,n.data=Er(n,t).resolve,r&&uu(r)&&(n.data[kl]=r.title),null)))}(c.route,i,n,e)),(0,Wn.b)(()=>s++),Ec(1),(0,Xn.z)(c=>s===r.length?(0,ot.of)(t):so.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Wn.b)({next:()=>C=!0,complete:()=>{C||this.cancelNavigationTransition(v,"",2)}}))}),(0,Wn.b)(v=>{const C=new Dg(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(C)}))}),gw(p=>{const v=C=>{const D=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(C.routeConfig).pipe((0,Wn.b)(M=>{C.component=M}),(0,ft.U)(()=>{})));for(const M of C.children)D.push(...v(M));return D};return To(v(p.targetSnapshot.root)).pipe(Ch(),Qo(1))}),gw(()=>this.afterPreactivation()),(0,ft.U)(p=>{const v=function Mg(n,e,t){const i=Oc(n,e._root,t?t._root:void 0);return new dn(i,e)}(t.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=s={...p,targetRouterState:v},s}),(0,Wn.b)(()=>{this.events.next(new N)}),((n,e,t,i)=>(0,ft.U)(r=>(new oi(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),Qo(1),(0,Wn.b)({next:p=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new or(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),t.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{c=!0}}),ao(this.transitionAbortSubject.pipe((0,Wn.b)(p=>{throw p}))),ra(()=>{c||h||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),wr(p=>{if(h=!0,Gi(p))this.events.next(new Ll(s.id,this.urlSerializer.serialize(s.extractedUrl),p.message,p.cancellationCode)),function Rg(n){return Gi(n)&&Fa(n.url)}(p)?this.events.next(new H(p.url)):s.resolve(!1);else{this.events.next(new Ha(s.id,this.urlSerializer.serialize(s.extractedUrl),p,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(p))}catch(v){s.reject(v)}}return so.E}))}))}cancelNavigationTransition(t,i,r){const s=new Ll(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JI(n){return n!==iu}let eT=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Rt);return i}getResolvedTitleForRoute(t){return t.data[kl]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(YM)},providedIn:"root"})}return n})(),YM=(()=>{class n extends eT{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Tl))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(JM)},providedIn:"root"})}return n})();class XM{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let JM=(()=>{class n extends XM{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=d.n5z(n)))(r||n)}}();static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Fg=new d.OlP("",{providedIn:"root",factory:()=>({})});let e1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(t1)},providedIn:"root"})}return n})(),t1=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Lg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Lg||{});function tT(n,e){n.events.pipe(zi(t=>t instanceof or||t instanceof Ll||t instanceof Ha||t instanceof Rc),(0,ft.U)(t=>t instanceof or||t instanceof Rc?Lg.COMPLETE:t instanceof Ll&&(0===t.code||1===t.code)?Lg.REDIRECTING:Lg.FAILED),zi(t=>t!==Lg.REDIRECTING),Qo(1)).subscribe(()=>{e()})}function py(n){throw n}function zl(n,e,t){return e.parse("/")}const Bg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this._events=new yn.x,this.options=(0,d.f3M)(Fg,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||py,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zl,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(e1),this.routeReuseStrategy=(0,d.f3M)(QM),this.titleStrategy=(0,d.f3M)(eT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(Im,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(Hl),this.urlSerializer=(0,d.f3M)(Kr),this.location=(0,d.f3M)(Qe),this.componentInputBindingEnabled=!!(0,d.f3M)(Nh,{optional:!0}),this.eventsSubscription=new Nn.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new oa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ts(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(n1(i)&&this._events.next(i));if(i instanceof ja)JI(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Rc)this.rawUrlTree=r.rawUrl;else if(i instanceof aa){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof N)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Ll)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof H){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||JI(r.source)};this.scheduleNavigation(s,iu,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof Ha&&this.restoreHistory(r,!0),i instanceof or&&(this.navigated=!0),n1(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),iu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},c=r?.navigationId?r:null;if(r){const p={...r};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const h=this.parseUrl(t);this.scheduleNavigation(h,i,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(q),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:h,preserveFragment:p}=i,v=p?this.currentUrlTree.fragment:c;let D,C=null;switch(h){case"merge":C={...this.currentUrlTree.queryParams,...s};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=s||null}null!==C&&(C=this.removeEmptyProps(C));try{D=sa(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),D=this.currentUrlTree.root}return mm(D,t,C,v??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Fa(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,iu,null,i)}navigate(t,i={skipLocationChange:!1}){return function iT(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new d.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...Bg}:!1===i?{...nT}:i,Fa(t))return Cc(this.currentUrlTree,t,r);const s=this.parseUrl(t);return Cc(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,c){if(this.disposed)return Promise.resolve(!1);let h,p,v;c?(h=c.resolve,p=c.reject,v=c.promise):v=new Promise((D,M)=>{h=D,p=M});const C=this.pendingTasks.add();return tT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(C))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:h,reject:p,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(D=>Promise.reject(D))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const c={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",c)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function n1(n){return!(n instanceof N||n instanceof H)}let Tm=(()=>{class n{constructor(t,i,r,s,c,h){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.locationStrategy=h,this.href=null,this.commands=null,this.onChanges=new yn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const p=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof or&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Cr),d.Y36(sr),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(He))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&d.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&i&&d.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]})}return n})();class gy{}let rT=(()=>{class n{constructor(t,i,r,s,c){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(zi(t=>t instanceof or),$i(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,d.MMx)(s.providers,t,`Route: ${s.path}`));const c=s._injector??t,h=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,mn.D)(r).pipe((0,Ra.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,ot.of)(null);const s=r.pipe((0,Xn.z)(c=>null===c?(0,ot.of)(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,mn.D)([s,c]).pipe((0,Ra.J)())}return s})}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Cr),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(gy),d.LFG(_w))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const yw=new d.OlP("");let oT=(()=>{class n{constructor(t,i,r,s,c={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ja?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof or?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Rc&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof S&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new S(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){d.$Z()};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function Lc(n,e){return{\u0275kind:n,\u0275providers:e}}function hu(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const i=n.get(Cr),r=n.get(cT);1===n.get(bw)&&i.initialNavigation(),n.get(dT,null,d.XFs.Optional)?.setUpPreloading(),n.get(yw,null,d.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const cT=new d.OlP("",{factory:()=>new yn.x}),bw=new d.OlP("",{providedIn:"root",factory:()=>1}),dT=new d.OlP("");function o1(n){return Lc(0,[{provide:dT,useExisting:rT},{provide:gy,useExisting:n}])}const Dm=new d.OlP("ROUTER_FORROOT_GUARD"),uT=[Qe,{provide:Kr,useClass:Sh},Cr,Ue,{provide:sr,useFactory:function sT(n){return n.routerState.root},deps:[Cr]},_w,[]];function hT(){return new d.PXZ("Router",Cr)}let yy=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[uT,[],{provide:Im,multi:!0,useValue:t},{provide:Dm,useFactory:mT,deps:[[Cr,new d.FiY,new d.tp0]]},{provide:Fg,useValue:i||{}},i?.useHash?{provide:He,useClass:Le}:{provide:He,useClass:Ye},{provide:yw,useFactory:()=>{const n=(0,d.f3M)(tr),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(Fg),i=(0,d.f3M)(Hl),r=(0,d.f3M)(Kr);return t.scrollOffset&&n.setOffset(t.scrollOffset),new oT(r,i,n,e,t)}},i?.preloadingStrategy?o1(i.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:hT},i?.initialNavigation?by(i):[],i?.bindToComponentInputs?Lc(8,[Yr,{provide:Nh,useExisting:Yr}]).\u0275providers:[],[{provide:c1,useFactory:hu},{provide:d.tb,multi:!0,useExisting:c1}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Im,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Dm,8))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();function mT(n){return"guarded"}function by(n){return["disabled"===n.initialNavigation?Lc(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Cr);return()=>{e.setUpLocationChangeListener()}}},{provide:bw,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Lc(2,[{provide:bw,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(Me,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Cr),s=e.get(cT);tT(r,()=>{i(!0)}),e.get(Hl).afterPreactivation=()=>(i(!0),s.closed?(0,ot.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const c1=new d.OlP("");class wy{}class xy{}const $l="*";function ns(n,e){return{type:7,name:n,definitions:e,options:{}}}function pi(n,e=null){return{type:4,styles:e,timings:n}}function Uh(n,e=null){return{type:2,steps:n,options:e}}function on(n){return{type:6,styles:n,offset:null}}function jh(n,e,t){return{type:0,name:n,styles:e,options:t}}function Ri(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class Am{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class _T{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}var Ug=L(6321),Dn=L(5497);function Cw(){return(0,ki.e)((n,e)=>{let t,i=!1;n.subscribe((0,An.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}var Je,Iw=L(3997),Ir=L(6304),vT=(L(8977),L(3399)),ve=L(5861),Ao=L(7592),As=L(4537),ks=L(7879),P=L(9058),Tw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ms={},km=km||{},Nt=Tw||self;function Mm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Hh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yT="closure_uid_"+(1e9*Math.random()>>>0),Dw=0;function jg(n,e,t){return n.call.apply(n.bind,arguments)}function u1(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Qr(n,e,t){return(Qr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jg:u1).apply(null,arguments)}function Iy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Lr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[r].apply(i,c)}}function Bc(){this.s=this.s,this.o=this.o}Bc.prototype.s=!1,Bc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Cy(n){Object.prototype.hasOwnProperty.call(n,yT)&&n[yT]||(n[yT]=++Dw)}(this)},Bc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Sw(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function h1(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Mm(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let c=0;c<s;c++)n[r+c]=i[c]}else n.push(i)}}function fo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}fo.prototype.h=function(){this.defaultPrevented=!0};var Ty=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Nt.addEventListener("test",()=>{},e),Nt.removeEventListener("test",()=>{},e)}catch{}return n}();function zh(n){return/^[\s\xa0]*$/.test(n)}function Dy(){var n=Nt.navigator;return n&&(n=n.userAgent)?n:""}function Ga(n){return-1!=Dy().indexOf(n)}function Hg(n){return Hg[" "](n),n}Hg[" "]=function(){};var Aw,n,f1=Ga("Opera"),$h=Ga("Trident")||Ga("MSIE"),xT=Ga("Edge"),Ay=xT||$h,m1=Ga("Gecko")&&!(-1!=Dy().toLowerCase().indexOf("webkit")&&!Ga("Edge"))&&!(Ga("Trident")||Ga("MSIE"))&&!Ga("Edge"),p1=-1!=Dy().toLowerCase().indexOf("webkit")&&!Ga("Edge");function zg(){var n=Nt.document;return n?n.documentMode:void 0}e:{var fu="",Gh=(n=Dy(),m1?/rv:([^\);]+)(\)|;)/.exec(n):xT?/Edge\/([\d\.]+)/.exec(n):$h?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):p1?/WebKit\/(\S+)/.exec(n):f1?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Gh&&(fu=Gh?Gh[1]:""),$h){var kw=zg();if(null!=kw&&kw>parseFloat(fu)){Aw=String(kw);break e}}Aw=fu}var g1=Nt.document&&$h&&(zg()||parseInt(Aw,10))||void 0;function $g(n,e){if(fo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(m1){e:{try{Hg(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:CT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&$g.$.h.call(this)}}Lr($g,fo);var CT={2:"touch",3:"pen",4:"mouse"};$g.prototype.h=function(){$g.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Rm="closure_listenable_"+(1e6*Math.random()|0),Mw=0;function tL(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++Mw,this.fa=this.ia=!1}function Om(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function My(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function IT(n){const e={};for(const t in n)e[t]=n[t];return e}const Rw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TT(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<Rw.length;s++)t=Rw[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Gg(n){this.src=n,this.g={},this.h=0}function Ow(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=wT(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Om(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Nw(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}Gg.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=Nw(n,e,i,r);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new tL(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var DT="closure_lm_"+(1e6*Math.random()|0),Ry={};function Pw(n,e,t,i,r){if(i&&i.once)return v1(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Pw(n,e[s],t,i,r);return null}return t=qg(t),n&&n[Rm]?n.O(e,t,Hh(i)?!!i.capture:!!i,r):ua(n,e,t,!1,i,r)}function ua(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var c=Hh(r)?!!r.capture:!!r,h=AT(n);if(h||(n[DT]=h=new Gg(n)),(t=h.add(e,t,i,c,s)).proxy)return t;if(i=function ST(){const e=y1;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Ty||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Ny(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function v1(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)v1(n,e[s],t,i,r);return null}return t=qg(t),n&&n[Rm]?n.P(e,t,Hh(i)?!!i.capture:!!i,r):ua(n,e,t,!0,i,r)}function Oy(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Oy(n,e[s],t,i,r);else i=Hh(i)?!!i.capture:!!i,t=qg(t),n&&n[Rm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Nw(s=n.g[e],t,i,r))&&(Om(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=AT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Nw(e,t,i,r)),(t=-1<n?e[n]:null)&&Vc(t))}function Vc(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Rm])Ow(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Ny(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=AT(e))?(Ow(t,n),0==t.h&&(t.src=null,e[DT]=null)):Om(n)}}}function Ny(n){return n in Ry?Ry[n]:Ry[n]="on"+n}function y1(n,e){if(n.fa)n=!0;else{e=new $g(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Vc(n),n=t.call(i,e)}return n}function AT(n){return(n=n[DT])instanceof Gg?n:null}var Fw="__closure_events_fn_"+(1e9*Math.random()>>>0);function qg(n){return"function"==typeof n?n:(n[Fw]||(n[Fw]=function(e){return n.handleEvent(e)}),n[Fw])}function Zn(){Bc.call(this),this.i=new Gg(this),this.S=this,this.J=null}function Br(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new fo(e,n);else if(e instanceof fo)e.target=e.target||n;else{var r=e;TT(e=new fo(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];r=Py(c,i,!0,e)&&r}if(r=Py(c=e.g=n,i,!0,e)&&r,r=Py(c,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=Py(c=e.g=t[s],i,!1,e)&&r}function Py(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.fa&&c.capture==t){var h=c.listener,p=c.la||c.src;c.ia&&Ow(n.i,c),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}Lr(Zn,Bc),Zn.prototype[Rm]=!0,Zn.prototype.removeEventListener=function(n,e,t,i){Oy(this,n,e,t,i)},Zn.prototype.N=function(){if(Zn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Om(t[i]);delete n.g[e],n.h--}}this.J=null},Zn.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Zn.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var kT=Nt.JSON.stringify;function b1(){var n=Fy;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var MT=new class Vr{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new w1,n=>n.reset());class w1{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Bw(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function RT(n){Nt.setTimeout(()=>{throw n},0)}let Nm,Wg=!1,Fy=new class Lw{constructor(){this.h=this.g=null}add(e,t){const i=MT.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Vw=()=>{const n=Nt.Promise.resolve(void 0);Nm=()=>{n.then(x1)}};var x1=()=>{for(var n;n=b1();){try{n.h.call(n.g)}catch(t){RT(t)}var e=MT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Wg=!1};function Zg(n,e){Zn.call(this),this.h=n||1,this.g=e||Nt,this.j=Qr(this.qb,this),this.l=Date.now()}function Uw(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Ly(n,e,t){if("function"==typeof n)t&&(n=Qr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Nt.setTimeout(n,e||0)}function qh(n){n.g=Ly(()=>{n.g=null,n.i&&(n.i=!1,qh(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Lr(Zg,Zn),(Je=Zg.prototype).ga=!1,Je.T=null,Je.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Br(this,"tick"),this.ga&&(Uw(this),this.start()))}},Je.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Je.N=function(){Zg.$.N.call(this),Uw(this),delete this.g};class ql extends Bc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qh(this)}N(){super.N(),this.g&&(Nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uc(n){Bc.call(this),this.h=n,this.g={}}Lr(Uc,Bc);var OT=[];function NT(n,e,t,i){Array.isArray(t)||(t&&(OT[0]=t.toString()),t=OT);for(var r=0;r<t.length;r++){var s=Pw(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function jw(n){My(n.g,function(e,t){this.g.hasOwnProperty(t)&&Vc(e)},n),n.g={}}function Kg(){this.g=!0}function Wl(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function FT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return kT(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Uc.prototype.N=function(){Uc.$.N.call(this),jw(this)},Uc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kg.prototype.Ea=function(){this.g=!1},Kg.prototype.info=function(){};var Wh={},LT=null;function By(){return LT=LT||new Zn}function BT(n){fo.call(this,Wh.Ta,n)}function Pm(n){const e=By();Br(e,new BT(e))}function E1(n,e){fo.call(this,Wh.STAT_EVENT,n),this.stat=e}function ko(n){const e=By();Br(e,new E1(e,n))}function C1(n,e){fo.call(this,Wh.Ua,n),this.size=e}function Vy(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Nt.setTimeout(function(){n()},e)}Wh.Ta="serverreachability",Lr(BT,fo),Wh.STAT_EVENT="statevent",Lr(E1,fo),Wh.Ua="timingevent",Lr(C1,fo);var Qg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function VT(){}function $w(){}VT.prototype.h=null;var jy,Fm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gw(){fo.call(this,"d")}function Uy(){fo.call(this,"c")}function jt(){}function Lm(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Uc(this),this.P=Bm,this.V=new Zg(n=Ay?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qw}function qw(){this.i=null,this.g="",this.h=!1}Lr(Gw,fo),Lr(Uy,fo),Lr(jt,VT),jt.prototype.g=function(){return new XMLHttpRequest},jt.prototype.i=function(){return{}},jy=new jt;var Bm=45e3,Hy={},zy={};function Vm(n,e,t){n.L=1,n.v=mo(Kl(e)),n.s=t,n.S=!0,Zh(n,null)}function Zh(n,e){n.G=Date.now(),Kh(n),n.A=Kl(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),GT(t.i,"t",i),n.C=0,t=n.l.J,n.h=new qw,n.g=iD(n.l,t?e:null,!n.s),0<n.O&&(n.M=new ql(Qr(n.Pa,n,n.g),n.O)),NT(n.U,n.g,"readystatechange",n.nb),e=n.I?IT(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Pm(),function Hw(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),p=0;p<h.length;p++){var v=h[p].split("=");if(1<v.length){var C=v[0];v=v[1];var D=C.split("_");c=2<=D.length&&"type"==D[1]?c+(C+"=")+v+"&":c+(C+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function $y(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Um(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=UT(n,t),r==zy){4==e&&(n.o=4,ko(14),i=!1),Wl(n.j,n.m,null,"[Incomplete Response]");break}if(r==Hy){n.o=4,ko(15),Wl(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Wl(n.j,n.m,r,null),Ww(n,r)}$y(n)&&r!=zy&&r!=Hy&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ko(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ox(e),e.M=!0,ko(11))):(Wl(n.j,n.m,t,"[Invalid Chunked Response]"),Zl(n),Hm(n))}function UT(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?zy:(t=Number(e.substring(t,i)),isNaN(t)?Hy:(i+=1)+t>e.length?zy:(e=e.slice(i,i+t),n.C=i+t,e))}function Kh(n){n.Y=Date.now()+n.P,Gy(n,n.P)}function Gy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Vy(Qr(n.lb,n),e)}function jm(n){n.B&&(Nt.clearTimeout(n.B),n.B=null)}function Hm(n){0==n.l.H||n.J||sx(n.l,n)}function Zl(n){jm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Uw(n.V),jw(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Ww(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Ky(t.i,n)))if(!n.K&&Ky(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;nb(t),d_(t)}rx(t),ko(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Vy(Qr(t.ib,t),6e3));if(1>=WT(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Qh(t,11)}else if((n.K||t.g==n)&&nb(t),!zh(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const C=v[3];null!=C&&(t.ra=C,t.l.info("VER="+t.ra));const D=v[4];null!=D&&(t.Ga=D,t.l.info("SVER="+t.Ga));const M=v[5];null!=M&&"number"==typeof M&&0<M&&(t.L=i=1.5*M,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const F=n.g;if(F){const U=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var s=i.i;s.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Kw(s,s.h),s.h=null))}if(i.F){const W=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;W&&(i.Da=W,si(i.I,i.F,W))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((i=t).wa=nD(i,i.J?i.pa:null,i.Y),c.K){Yw(i.i,c);var h=c,p=i.L;p&&h.setTimeout(p),h.B&&(jm(h),Kh(h)),i.g=c}else eD(i);0<t.j.length&&tb(t)}else"stop"!=v[0]&&"close"!=v[0]||Qh(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Qh(t,7):eb(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}Pm()}catch{}}function Zw(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Mm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function T1(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Mm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function I1(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Mm(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(Je=Lm.prototype).setTimeout=function(n){this.P=n},Je.nb=function(n){n=n.target;const e=this.M;e&&3==qa(n)?e.l():this.Pa(n)},Je.Pa=function(n){try{if(n==this.g)e:{const C=qa(this.g);var e=this.g.Ia();if(this.g.da(),!(3>C)&&(3!=C||Ay||this.g&&(this.h.h||this.g.ja()||KT(this.g)))){this.J||4!=C||7==e||Pm(),jm(this);var t=this.g.da();this.ca=t;t:if($y(this)){var i=KT(this.g);n="";var r=i.length,s=4==qa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zl(this),Hm(this);var c="";break t}this.h.i=new Nt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function Yg(n,e,t,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.W,C,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zh(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,ko(12),Zl(this),Hm(this);break e}Wl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ww(this,t)}this.S?(Um(this,C,c),Ay&&this.i&&3==C&&(NT(this.U,this.V,"tick",this.mb),this.V.start())):(Wl(this.j,this.m,c,null),Ww(this,c)),4==C&&Zl(this),this.i&&!this.J&&(4==C?sx(this.l,this):(this.i=!1,Kh(this)))}else(function P1(n){const e={};n=(n.g&&2<=qa(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(zh(n[i]))continue;var t=Bw(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function _1(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,ko(12)):(this.o=0,ko(13)),Zl(this),Hm(this)}}}catch{}},Je.mb=function(){if(this.g){var n=qa(this.g),e=this.g.ja();this.C<e.length&&(jm(this),Um(this,n,e),this.i&&4!=n&&Kh(this))}},Je.cancel=function(){this.J=!0,Zl(this)},Je.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function PT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Pm(),ko(17)),Zl(this),this.o=2,Hm(this)):Gy(this,this.Y-n)};var jT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yh(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Yh){this.h=n.h,Jg(this,n.j),this.s=n.s,this.g=n.g,e_(this,n.m),this.l=n.l;var e=n.i,t=new zm;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),HT(this,t),this.o=n.o}else n&&(e=String(n).match(jT))?(this.h=!1,Jg(this,e[1]||"",!0),this.s=t_(e[2]||""),this.g=t_(e[3]||"",!0),e_(this,e[4]),this.l=t_(e[5]||"",!0),HT(this,e[6]||"",!0),this.o=t_(e[7]||"")):(this.h=!1,this.i=new zm(null,this.h))}function Kl(n){return new Yh(n)}function Jg(n,e,t){n.j=t?t_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function e_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function HT(n,e,t){e instanceof zm?(n.i=e,function M1(n,e){e&&!n.j&&(mu(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&($T(this,i),GT(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=n_(e,A1)),n.i=new zm(e,n.h))}function si(n,e,t){n.i.set(e,t)}function mo(n){return si(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function t_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function n_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,nL),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function nL(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Yh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(n_(e,qy,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(n_(e,qy,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(n_(t,"/"==t.charAt(0)?S1:zT,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",n_(t,k1)),n.join("")};var qy=/[#\/\?@]/g,zT=/[#\?:]/g,S1=/[#\?]/g,A1=/[#\?@]/g,k1=/#/g;function zm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function mu(n){n.g||(n.g=new Map,n.h=0,n.i&&function D1(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function $T(n,e){mu(n),e=$m(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Wy(n,e){return mu(n),e=$m(n,e),n.g.has(e)}function GT(n,e,t){$T(n,e),0<t.length&&(n.i=null,n.g.set($m(n,e),Sw(t)),n.h+=t.length)}function $m(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function qT(n){this.l=n||jc,n=Nt.PerformanceNavigationTiming?0<(n=Nt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Nt.g&&Nt.g.Ka&&Nt.g.Ka()&&Nt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Je=zm.prototype).add=function(n,e){mu(this),this.i=null,n=$m(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Je.forEach=function(n,e){mu(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Je.ta=function(){mu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},Je.Z=function(n){mu(this);let e=[];if("string"==typeof n)Wy(this,n)&&(e=e.concat(this.g.get($m(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Je.set=function(n,e){return mu(this),this.i=null,Wy(this,n=$m(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Je.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Je.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),c=this.Z(i);for(i=0;i<c.length;i++){var r=s;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var jc=10;function Zy(n){return!!n.h||!!n.g&&n.g.size>=n.j}function WT(n){return n.h?1:n.g?n.g.size:0}function Ky(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Kw(n,e){n.g?n.g.add(e):n.h=e}function Yw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Qw(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Sw(n.i)}qT.prototype.cancel=function(){if(this.i=Qw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Yy=class{stringify(n){return Nt.JSON.stringify(n,void 0)}parse(n){return Nt.JSON.parse(n,void 0)}};function Xw(){this.g=new Yy}function iL(n,e,t){const i=t||"";try{Zw(n,function(r,s){let c=r;Hh(r)&&(c=kT(r)),e.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function i_(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Gm(n){this.l=n.fc||null,this.j=n.ob||!1}function r_(n,e){Zn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=o_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lr(Gm,VT),Gm.prototype.g=function(){return new r_(this.l,this.j)},Gm.prototype.i=function(n){return function(){return n}}({}),Lr(r_,Zn);var o_=0;function Hc(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function s_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,a_(n)}function a_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Je=r_.prototype).open=function(n,e){if(this.readyState!=o_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,a_(this)},Je.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Nt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,s_(this)),this.readyState=o_},Je.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,a_(this)),this.g&&(this.readyState=3,a_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Nt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hc(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Je.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?s_(this):a_(this),3==this.readyState&&Hc(this)}},Je.Za=function(n){this.g&&(this.response=this.responseText=n,s_(this))},Je.Ya=function(n){this.g&&(this.response=n,s_(this))},Je.ka=function(){this.g&&s_(this)},Je.setRequestHeader=function(n,e){this.v.append(n,e)},Je.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Je.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(r_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Jw=Nt.JSON.parse;function Oi(n){Zn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ex,this.L=this.M=!1}Lr(Oi,Zn);var ex="",O1=/^https?$/i,Qy=["POST","PUT"];function tx(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,l_(n),Xy(n)}function l_(n){n.F||(n.F=!0,Br(n,"complete"),Br(n,"error"))}function N1(n){if(n.h&&typeof km<"u"&&(!n.C[1]||4!=qa(n)||2!=n.da()))if(n.v&&4==qa(n))Ly(n.La,0,n);else if(Br(n,"readystatechange"),4==qa(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===c){var r=String(n.I).match(jT)[1]||null;!r&&Nt.self&&Nt.self.location&&(r=Nt.self.location.protocol.slice(0,-1)),i=!O1.test(r?r.toLowerCase():"")}t=i}if(t)Br(n,"complete"),Br(n,"success");else{n.m=6;try{var s=2<qa(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",l_(n)}}finally{Xy(n)}}}function Xy(n,e){if(n.g){nx(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Br(n,"ready");try{t.onreadystatechange=i}catch{}}}function nx(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Nt.clearTimeout(n.A),n.A=null)}function qa(n){return n.g?n.g.readyState:0}function KT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case ex:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ix(n){let e="";return My(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Jy(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=ix(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):si(n,e,t))}function Yl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function YT(n){this.Ga=0,this.j=[],this.l=new Kg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Yl("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Yl("baseRetryDelayMs",5e3,n),this.hb=Yl("retryDelaySeedMs",1e4,n),this.eb=Yl("forwardChannelMaxRetries",2,n),this.xa=Yl("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new qT(n&&n.concurrentRequestLimit),this.Ja=new Xw,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function eb(n){if(QT(n),3==n.H){var e=n.W++,t=Kl(n.I);if(si(t,"SID",n.K),si(t,"RID",e),si(t,"TYPE","terminate"),h_(n,t),(e=new Lm(n,n.l,e)).L=2,e.v=mo(Kl(t)),t=!1,Nt.navigator&&Nt.navigator.sendBeacon)try{t=Nt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Nt.Image&&((new Image).src=e.v,t=!0),t||(e.g=iD(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Kh(e)}f_(n)}function d_(n){n.g&&(ox(n),n.g.cancel(),n.g=null)}function QT(n){d_(n),n.u&&(Nt.clearTimeout(n.u),n.u=null),nb(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Nt.clearTimeout(n.m),n.m=null)}function tb(n){if(!Zy(n.i)&&!n.m){n.m=!0;var e=n.Na;Nm||Vw(),Wg||(Nm(),Wg=!0),Fy.add(e,n),n.C=0}}function XT(n,e){var t;t=e?e.m:n.W++;const i=Kl(n.I);si(i,"SID",n.K),si(i,"RID",t),si(i,"AID",n.V),h_(n,i),n.o&&n.s&&Jy(i,n.o,n.s),t=new Lm(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=JT(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Kw(n.i,t),Vm(t,i,e)}function h_(n,e){n.na&&My(n.na,function(t,i){si(e,i,t)}),n.h&&Zw({},function(t,i){si(e,i,t)})}function JT(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Qr(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=r[0].g,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let v=r[p].g;const C=r[p].map;if(v-=s,0>v)s=Math.max(0,r[p].g-100),h=!1;else try{iL(C,c,"req"+v+"_")}catch{i&&i(C)}}if(h){i=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function eD(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Nm||Vw(),Wg||(Nm(),Wg=!0),Fy.add(e,n),n.A=0}}function rx(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Vy(Qr(n.Ma,n),ib(n,n.A)),n.A++,0))}function ox(n){null!=n.B&&(Nt.clearTimeout(n.B),n.B=null)}function tD(n){n.g=new Lm(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Kl(n.wa);si(e,"RID","rpc"),si(e,"SID",n.K),si(e,"AID",n.V),si(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&si(e,"TO",n.qa),si(e,"TYPE","xmlhttp"),h_(n,e),n.o&&n.s&&Jy(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=mo(Kl(e)),t.s=null,t.S=!0,Zh(t,n)}function nb(n){null!=n.v&&(Nt.clearTimeout(n.v),n.v=null)}function sx(n,e){var t=null;if(n.g==e){nb(n),ox(n),n.g=null;var i=2}else{if(!Ky(n.i,e))return;t=e.F,Yw(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Br(i=By(),new C1(i,t)),tb(n)}else eD(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function u_(n,e){return!(WT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Vy(Qr(n.Na,n,e),ib(n,n.C)),n.C++,0)))}(n,e)||2==i&&rx(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Qh(n,5);break;case 4:Qh(n,10);break;case 3:Qh(n,6);break;default:Qh(n,2)}}function ib(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Qh(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Qr(n.pb,n);t||(t=new Yh("//www.google.com/images/cleardot.gif"),Nt.location&&"http"==Nt.location.protocol||Jg(t,"https"),mo(t)),function ZT(n,e){const t=new Kg;if(Nt.Image){const i=new Image;i.onload=Iy(i_,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Iy(i_,t,i,"TestLoadImage: error",!1,e),i.onabort=Iy(i_,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Iy(i_,t,i,"TestLoadImage: timeout",!1,e),Nt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ko(2);n.H=0,n.h&&n.h.za(e),f_(n),QT(n)}function f_(n){if(n.H=0,n.ma=[],n.h){const e=Qw(n.i);(0!=e.length||0!=n.j.length)&&(h1(n.ma,e),h1(n.ma,n.j),n.i.i.length=0,Sw(n.j),n.j.length=0),n.h.ya()}}function nD(n,e,t){var i=t instanceof Yh?Kl(t):new Yh(t);if(""!=i.g)e&&(i.g=e+"."+i.g),e_(i,i.m);else{var r=Nt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Yh(null);i&&Jg(s,i),e&&(s.g=e),r&&e_(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&si(i,t,e),si(i,"VER",n.ra),h_(n,i),i}function iD(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Oi(t&&n.Ha&&!n.va?new Gm({ob:!0}):n.va)).Oa(n.J),e}function rD(){}function rb(){if($h&&!(10<=Number(g1)))throw Error("Environmental error: no available transport.")}function Rs(n,e){Zn.call(this),this.g=new YT(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!zh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Xh(this)}function oD(n){Gw.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function sD(){Uy.call(this),this.status=1}function Xh(n){this.g=n}function Wa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function cD(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],c=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;c=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(c<<7&4294967295|c>>>25))+((c=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((s=(e=t+((c=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((r=s+((c=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Mn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(Je=Oi.prototype).Oa=function(n){this.M=n},Je.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jy.g(),this.C=function Xg(n){return n.h||(n.h=n.i())}(this.u?this.u:jy),this.g.onreadystatechange=Qr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void tx(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Nt.FormData&&n instanceof Nt.FormData,!(0<=wT(Qy,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of t)this.g.setRequestHeader(s,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nx(this),0<this.B&&((this.L=function c_(n){return $h&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qr(this.ua,this)):this.A=Ly(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){tx(this,s)}},Je.ua=function(){typeof km<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Br(this,"timeout"),this.abort(8))},Je.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Br(this,"complete"),Br(this,"abort"),Xy(this))},Je.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xy(this,!0)),Oi.$.N.call(this)},Je.La=function(){this.s||(this.G||this.v||this.l?N1(this):this.kb())},Je.kb=function(){N1(this)},Je.isActive=function(){return!!this.g},Je.da=function(){try{return 2<qa(this)?this.g.status:-1}catch{return-1}},Je.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Je.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Jw(e)}},Je.Ia=function(){return this.m},Je.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Je=YT.prototype).ra=8,Je.H=1,Je.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Lm(this,this.l,n);let s=this.s;if(this.U&&(s?(s=IT(s),TT(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=JT(this,r,e),si(t=Kl(this.I),"RID",n),si(t,"CVER",22),this.F&&si(t,"X-HTTP-Session-Id",this.F),h_(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(ix(s)))+"&"+e:this.o&&Jy(t,this.o,s)),Kw(this.i,r),this.bb&&si(t,"TYPE","init"),this.P?(si(t,"$req",e),si(t,"SID","null"),r.aa=!0,Vm(r,t,null)):Vm(r,t,e),this.H=2}}else 3==this.H&&(n?XT(this,n):0==this.j.length||Zy(this.i)||XT(this))},Je.Ma=function(){if(this.u=null,tD(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Vy(Qr(this.jb,this),n)}},Je.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ko(10),d_(this),tD(this))},Je.ib=function(){null!=this.v&&(this.v=null,d_(this),rx(this),ko(19))},Je.pb=function(n){n?(this.l.info("Successfully pinged google.com"),ko(2)):(this.l.info("Failed to ping google.com"),ko(1))},Je.isActive=function(){return!!this.h&&this.h.isActive(this)},(Je=rD.prototype).Ba=function(){},Je.Aa=function(){},Je.za=function(){},Je.ya=function(){},Je.isActive=function(){return!0},Je.Va=function(){},rb.prototype.g=function(n,e){return new Rs(n,e)},Lr(Rs,Zn),Rs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;ko(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=nD(n,null,n.Y),tb(n)},Rs.prototype.close=function(){eb(this.g)},Rs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=kT(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&tb(e)},Rs.prototype.N=function(){this.g.h=null,delete this.j,eb(this.g),delete this.g,Rs.$.N.call(this)},Lr(oD,Gw),Lr(sD,Uy),Lr(Xh,rD),Xh.prototype.Ba=function(){Br(this.g,"a")},Xh.prototype.Aa=function(n){Br(this.g,new oD(n))},Xh.prototype.za=function(n){Br(this.g,new sD)},Xh.prototype.ya=function(){Br(this.g,"b")},Lr(Wa,function aD(){this.blockSize=-1}),Wa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Wa.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)cD(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){cD(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){cD(this,i),r=0;break}}this.h=r,this.i+=e},Wa.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var lD={};function dD(n){return-128<=n&&128>n?function Sy(n,e){var t=lD;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Mn([0|e],0>e?-1:0)}):new Mn([0|n],0>n?-1:0)}function Os(n){if(isNaN(n)||!isFinite(n))return pu;if(0>n)return Ci(Os(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=ax;return new Mn(e,0)}var ax=4294967296,pu=dD(0),cx=dD(1),Za=dD(16777216);function Ns(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Kn(n){return-1==n.h}function Ci(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Mn(t,~n.h).add(cx)}function Jh(n,e){return n.add(Ci(e))}function Mo(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ef(n,e){this.g=n,this.h=e}function Ql(n,e){if(Ns(e))throw Error("division by zero");if(Ns(n))return new ef(pu,pu);if(Kn(n))return e=Ql(Ci(n),e),new ef(Ci(e.g),Ci(e.h));if(Kn(e))return e=Ql(n,Ci(e)),new ef(Ci(e.g),e.h);if(30<n.g.length){if(Kn(n)||Kn(e))throw Error("slowDivide_ only works with positive integers.");for(var t=cx,i=e;0>=i.X(n);)t=tf(t),i=tf(i);var r=Ka(t,1),s=Ka(i,1);for(i=Ka(i,2),t=Ka(t,2);!Ns(i);){var c=s.add(i);0>=c.X(n)&&(r=r.add(t),s=c),i=Ka(i,1),t=Ka(t,1)}return e=Jh(n,r.R(e)),new ef(r,e)}for(r=pu;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),c=(s=Os(t)).R(e);Kn(c)||0<c.X(n);)c=(s=Os(t-=i)).R(e);Ns(s)&&(s=cx),r=r.add(s),n=Jh(n,c)}return new ef(r,n)}function tf(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Mn(t,n.h)}function Ka(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Mn(r,n.h)}(Je=Mn.prototype).ea=function(){if(Kn(this))return-Ci(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:ax+i)*e,e*=ax}return n},Je.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ns(this))return"0";if(Kn(this))return"-"+Ci(this).toString(n);for(var e=Os(Math.pow(n,6)),t=this,i="";;){var r=Ql(t,e).g,s=((0<(t=Jh(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ns(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},Je.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Je.X=function(n){return Kn(n=Jh(this,n))?-1:Ns(n)?0:1},Je.abs=function(){return Kn(this)?Ci(this):this},Je.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),c=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=c>>>16,t[r]=(c&=65535)<<16|(s&=65535)}return new Mn(t,-2147483648&t[t.length-1]?-1:0)},Je.R=function(n){if(Ns(this)||Ns(n))return pu;if(Kn(this))return Kn(n)?Ci(this).R(Ci(n)):Ci(Ci(this).R(n));if(Kn(n))return Ci(this.R(Ci(n)));if(0>this.X(Za)&&0>n.X(Za))return Os(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,c=65535&this.D(i),h=n.D(r)>>>16,p=65535&n.D(r);t[2*i+2*r]+=c*p,Mo(t,2*i+2*r),t[2*i+2*r+1]+=s*p,Mo(t,2*i+2*r+1),t[2*i+2*r+1]+=c*h,Mo(t,2*i+2*r+1),t[2*i+2*r+2]+=s*h,Mo(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Mn(t,0)},Je.gb=function(n){return Ql(this,n).h},Je.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Mn(t,this.h&n.h)},Je.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Mn(t,this.h|n.h)},Je.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Mn(t,this.h^n.h)},rb.prototype.createWebChannel=rb.prototype.g,Rs.prototype.send=Rs.prototype.u,Rs.prototype.open=Rs.prototype.m,Rs.prototype.close=Rs.prototype.close,Qg.NO_ERROR=0,Qg.TIMEOUT=8,Qg.HTTP_ERROR=6,zw.COMPLETE="complete",$w.EventType=Fm,Fm.OPEN="a",Fm.CLOSE="b",Fm.ERROR="c",Fm.MESSAGE="d",Zn.prototype.listen=Zn.prototype.O,Oi.prototype.listenOnce=Oi.prototype.P,Oi.prototype.getLastError=Oi.prototype.Sa,Oi.prototype.getLastErrorCode=Oi.prototype.Ia,Oi.prototype.getStatus=Oi.prototype.da,Oi.prototype.getResponseJson=Oi.prototype.Wa,Oi.prototype.getResponseText=Oi.prototype.ja,Oi.prototype.send=Oi.prototype.ha,Oi.prototype.setWithCredentials=Oi.prototype.Oa,Wa.prototype.digest=Wa.prototype.l,Wa.prototype.reset=Wa.prototype.reset,Wa.prototype.update=Wa.prototype.j,Mn.prototype.add=Mn.prototype.add,Mn.prototype.multiply=Mn.prototype.R,Mn.prototype.modulo=Mn.prototype.gb,Mn.prototype.compare=Mn.prototype.X,Mn.prototype.toNumber=Mn.prototype.ea,Mn.prototype.toString=Mn.prototype.toString,Mn.prototype.getBits=Mn.prototype.D,Mn.fromNumber=Os,Mn.fromString=function uD(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ci(uD(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Os(Math.pow(e,8)),i=pu,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),c=parseInt(n.substring(r,r+s),e);8>s?(s=Os(Math.pow(e,s)),i=i.R(s).add(Os(c))):i=(i=i.R(t)).add(Os(c))}return i};var qm=Ms.createWebChannelTransport=function(){return new rb},Wm=Ms.getStatEventTarget=function(){return By()},gu=Ms.ErrorCode=Qg,Zm=Ms.EventType=zw,Km=Ms.Event=Wh,nf=Ms.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},hD=Ms.FetchXmlHttpFactory=Gm,m_=Ms.WebChannel=$w,fD=Ms.XhrIo=Oi,mD=Ms.Md5=Wa,rf=Ms.Integer=Mn;const lx="@firebase/firestore";class Tr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tr.UNAUTHENTICATED=new Tr(null),Tr.GOOGLE_CREDENTIALS=new Tr("google-credentials-uid"),Tr.FIRST_PARTY=new Tr("first-party-uid"),Tr.MOCK_USER=new Tr("mock-user");let sf="9.23.0";const Xl=new ks.Yd("@firebase/firestore");function p_(){return Xl.logLevel}function je(n,...e){if(Xl.logLevel<=ks.in.DEBUG){const t=e.map(dx);Xl.debug(`Firestore (${sf}): ${n}`,...t)}}function ar(n,...e){if(Xl.logLevel<=ks.in.ERROR){const t=e.map(dx);Xl.error(`Firestore (${sf}): ${n}`,...t)}}function ha(n,...e){if(Xl.logLevel<=ks.in.WARN){const t=e.map(dx);Xl.warn(`Firestore (${sf}): ${n}`,...t)}}function dx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${sf}) INTERNAL ASSERTION FAILED: `+n;throw ar(e),new Error(e)}function yt(n,e){n||dt()}function et(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends P.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ym{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ux{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tr.UNAUTHENTICATED))}shutdown(){}}class ob{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pD{constructor(e){this.t=e,this.currentUser=Tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let c=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new qi,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const v=c;e.enqueueRetryable((0,ve.Z)(function*(){yield v.promise,yield s(i.currentUser)}))},p=v=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new qi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yt("string"==typeof i.accessToken),new Ym(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(null===e||"string"==typeof e),new Tr(e)}}class g_{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Tr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class gD{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new g_(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _D{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.T;return this.T=s.token,je("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yt("string"==typeof t.token),this.T=t.token,new _D(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function L1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class vD{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=L1(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function zt(n,e){return n<e?-1:n>e?1:0}function _u(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function v_(n){return n+"\0"}class Yn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yn.fromMillis(Date.now())}static fromDate(e){return Yn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Yn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xt(e)}static min(){return new xt(new Yn(0,0))}static max(){return new xt(new Yn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class y_{constructor(e,t,i){void 0===t?t=0:t>e.length&&dt(),void 0===i?i=e.length-t:i>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===y_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof y_?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),c=t.get(r);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pn extends y_{construct(e,t,i){return new pn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Re(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new pn(t)}static emptyPath(){return new pn([])}}const hx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ni extends y_{construct(e,t,i){return new Ni(e,t,i)}static isValidIdentifier(e){return hx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ni(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Re(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Re(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Re(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(s(),r++)}if(s(),c)throw new Re(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ni(t)}static emptyPath(){return new Ni([])}}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(pn.fromString(e))}static fromName(e){return new Xe(pn.fromString(e).popFirst(5))}static empty(){return new Xe(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new pn(e.slice()))}}class sb{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function fx(n){return n.fields.find(e=>2===e.kind)}function vu(n){return n.fields.filter(e=>2!==e.kind)}sb.UNKNOWN_ID=-1;class b_{constructor(e,t){this.fieldPath=e,this.kind=t}}class w_{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new w_(0,Ro.min())}}function bD(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xt.fromTimestamp(1e9===i?new Yn(t+1,0):new Yn(t,i));return new Ro(r,Xe.empty(),e)}function mx(n){return new Ro(n.readTime,n.key,-1)}class Ro{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ro(xt.min(),Xe.empty(),-1)}static max(){return new Ro(xt.max(),Xe.empty(),-1)}}function x_(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xe.comparator(n.documentKey,e.documentKey),0!==t?t:zt(n.largestBatchId,e.largestBatchId))}const wD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ya(n){return C_.apply(this,arguments)}function C_(){return C_=(0,ve.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==wD)throw n;je("LocalStore","Unexpectedly lost primary lease")}),C_.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let r=0,s=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++s,c&&s===r&&t()},p=>i(p))}),c=!0,s===r&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(r=>r?ae.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new ae((i,r)=>{const s=e.length,c=new Array(s);let h=0;for(let p=0;p<s;p++){const v=p;t(e[v]).next(C=>{c[v]=C,++h,h===s&&i(c)},C=>r(C))}})}static doWhile(e,t){return new ae((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class ab{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new qi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new af(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=px(i.target.error);this.v.reject(new af(e,r))}}static open(e,t,i,r){try{return new ab(t,e.transaction(r,i))}catch(s){throw new af(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(je("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new xD(t)}}class Qa{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Qa.S((0,P.z$)())&&ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return je("SimpleDb","Removing database:",e),yu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,P.hl)())return!1;if(Qa.C())return!0;const e=(0,P.z$)(),t=Qa.S(e),i=0<t&&t<10,r=Qa.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,ve.Z)(function*(){return t.db||(je("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new af(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new Re(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Re(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new af(e,h))},s.onupgradeneeded=c=>{je("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.O(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{je("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,ve.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.$(e);const p=ab.open(s.db,e,c?"readonly":"readwrite",i),v=r(p).next(C=>(p.P(),C)).catch(C=>(p.abort(C),ae.reject(C))).toPromise();return v.catch(()=>{}),yield p.R,v}catch(p){const v=p,C="FirebaseError"!==v.name&&h<3;if(je("SimpleDb","Transaction failed with error:",v.message,"Retrying:",C),s.close(),!C)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class V1{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return yu(this.L.delete())}}class af extends Re{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function zc(n){return"IndexedDbTransactionError"===n.name}class xD{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(je("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(je("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),yu(i)}add(e){return je("SimpleDb","ADD",this.store.name,e,e),yu(this.store.add(e))}get(e){return yu(this.store.get(e)).next(t=>(void 0===t&&(t=null),je("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return je("SimpleDb","DELETE",this.store.name,e),yu(this.store.delete(e))}count(){return je("SimpleDb","COUNT",this.store.name),yu(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(c,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ae((s,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ae((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}J(e,t){je("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,c,h)=>h.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new ae((i,r)=>{t.onerror=s=>{const c=px(s.target.error);r(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}W(e,t){const i=[];return new ae((r,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const p=new V1(h),v=t(h.primaryKey,h.value,p);if(v instanceof ae){const C=v.catch(D=>(p.done(),ae.reject(D)));i.push(C)}p.isDone?r():null===p.K?h.continue():h.continue(p.K)}}).next(()=>ae.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function yu(n){return new ae((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=px(i.target.error);t(r)}})}let ED=!1;function px(n){const e=Qa.S((0,P.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ED||(ED=!0,setTimeout(()=>{throw i},0)),i}}return n}class CD{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;je("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{je("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){zc(i)?je("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ya(i)}yield t.et(6e4)}))}}class gx{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,s=!0;return ae.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return je("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,r).next(h=>{r-=h,i.add(c)});s=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(r,s)).next(h=>(je("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,s)=>{const c=mx(s);x_(c,i)>0&&(i=c)}),new Ro(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let is=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function cf(n){return null==n}function Qm(n){return 0===n&&1/n==-1/0}function ID(n){return"number"==typeof n&&Number.isInteger(n)&&!Qm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Xr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=_x(e)),e=TD(n.get(t),e);return _x(e)}function TD(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function _x(n){return n+"\x01\x01"}function Xa(n){const e=n.length;if(yt(e>=2),2===e)return yt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),pn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&dt(),n.charAt(c+1)){case"\x01":const h=n.substring(s,c);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:dt()}s=c+2}return new pn(i)}const DD=["userId","batchId"];function I_(n,e){return[n,Xr(e)]}function vx(n,e,t){return[n,Xr(e),t]}const yx={},bx=["prefixPath","collectionGroup","readTime","documentId"],SD=["prefixPath","collectionGroup","documentId"],AD=["collectionGroup","readTime","prefixPath","documentId"],kD=["canonicalId","targetId"],MD=["targetId","path"],RD=["path","targetId"],OD=["collectionId","parent"],ND=["indexId","uid"],PD=["uid","sequenceNumber"],cb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bu=["indexId","uid","orderedDocumentKey"],U1=["userId","collectionPath","documentId"],j1=["userId","collectionPath","largestBatchId"],wx=["userId","collectionGroup","largestBatchId"],wu=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xx=[...wu,"documentOverlays"],FD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lb=FD,sL=[...lb,"indexConfiguration","indexState","indexEntries"];class LD extends E_{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ur(n,e){const t=et(n);return Qa.M(t.ht,e)}function BD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Jl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function VD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class qt{constructor(e,t){this.comparator=e,this.root=t||Jr.EMPTY}insert(e,t){return new qt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jr.BLACK,null,null))}remove(e){return new qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new T_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new T_(this.root,e,this.comparator,!1)}getReverseIterator(){return new T_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new T_(this.root,e,this.comparator,!0)}}class T_{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Jr.RED,this.left=r??Jr.EMPTY,this.right=s??Jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Jr(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Jr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}Jr.EMPTY=null,Jr.RED=!0,Jr.BLACK=!1,Jr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Jr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ai{constructor(e){this.comparator=e,this.data=new qt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ex(this.data.getIterator())}getIteratorFrom(e){return new Ex(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ai)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ai(this.comparator);return t.data=e,t}}class Ex{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xm(n){return n.hasNext()?n.getNext():void 0}class Oo{constructor(e){this.fields=e,e.sort(Ni.comparator)}static empty(){return new Oo([])}unionWith(e){let t=new ai(Ni.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Oo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _u(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Cx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Cx("Invalid base64 string: "+r):r}}(e);return new Dr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Dr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dr.EMPTY_BYTE_STRING=new Dr("");const H1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ed(n){if(yt(!!n),"string"==typeof n){let e=0;const t=H1.exec(n);if(yt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pi(n.seconds),nanos:Pi(n.nanos)}}function Pi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function $c(n){return"string"==typeof n?Dr.fromBase64String(n):Dr.fromUint8Array(n)}function Ix(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ep(n){const e=n.mapValue.fields.__previous_value__;return Ix(e)?ep(e):e}function lf(n){const e=ed(n.mapValue.fields.__local_write_time__.timestampValue);return new Yn(e.seconds,e.nanos)}class Gc{constructor(e,t,i,r,s,c,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=v}}class xu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xu&&e.projectId===this.projectId&&e.database===this.database}}const Eu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ps={nullValue:"NULL_VALUE"};function jr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ix(n)?4:Sx(n)?9007199254740991:10:dt()}function cr(n,e){if(n===e)return!0;const t=jr(n);if(t!==jr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lf(n).isEqual(lf(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=ed(i.timestampValue),c=ed(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,$c(n.bytesValue).isEqual($c(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Pi(i.geoPointValue.latitude)===Pi(r.geoPointValue.latitude)&&Pi(i.geoPointValue.longitude)===Pi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Pi(i.integerValue)===Pi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Pi(i.doubleValue),c=Pi(r.doubleValue);return s===c?Qm(s)===Qm(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return _u(n.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(BD(s)!==BD(c))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===c[h]||!cr(s[h],c[h])))return!1;return!0}(n,e);default:return dt()}var r}function tp(n,e){return void 0!==(n.values||[]).find(t=>cr(t,e))}function td(n,e){if(n===e)return 0;const t=jr(n),i=jr(e);if(t!==i)return zt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const c=Pi(r.integerValue||r.doubleValue),h=Pi(s.integerValue||s.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return UD(n.timestampValue,e.timestampValue);case 4:return UD(lf(n),lf(e));case 5:return zt(n.stringValue,e.stringValue);case 6:return function(r,s){const c=$c(r),h=$c(s);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const c=r.split("/"),h=s.split("/");for(let p=0;p<c.length&&p<h.length;p++){const v=zt(c[p],h[p]);if(0!==v)return v}return zt(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const c=zt(Pi(r.latitude),Pi(s.latitude));return 0!==c?c:zt(Pi(r.longitude),Pi(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const c=r.values||[],h=s.values||[];for(let p=0;p<c.length&&p<h.length;++p){const v=td(c[p],h[p]);if(v)return v}return zt(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Eu.mapValue&&s===Eu.mapValue)return 0;if(r===Eu.mapValue)return 1;if(s===Eu.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),p=s.fields||{},v=Object.keys(p);h.sort(),v.sort();for(let C=0;C<h.length&&C<v.length;++C){const D=zt(h[C],v[C]);if(0!==D)return D;const M=td(c[h[C]],p[v[C]]);if(0!==M)return M}return zt(h.length,v.length)}(n.mapValue,e.mapValue);default:throw dt()}}function UD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return zt(n,e);const t=ed(n),i=ed(e),r=zt(t.seconds,i.seconds);return 0!==r?r:zt(t.nanos,i.nanos)}function np(n){return Tx(n)}function Tx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=ed(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$c(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=Tx(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const h of r)c?c=!1:s+=",",s+=`${h}:${Tx(i.fields[h])}`;return s+"}"}(n.mapValue):dt();var e}function nd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function df(n){return!!n&&"integerValue"in n}function D_(n){return!!n&&"arrayValue"in n}function Dx(n){return!!n&&"nullValue"in n}function jD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ub(n){return!!n&&"mapValue"in n}function ip(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Jl(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ip(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ip(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Sx(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function hb(n){return"nullValue"in n?Ps:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?nd(xu.empty(),Xe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:dt()}function z1(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?nd(xu.empty(),Xe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Eu:dt()}function Ax(n,e){const t=td(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function kx(n,e){const t=td(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ub(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ip(t)}setAll(e){let t=Ni.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=ip(c):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());ub(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];ub(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Jl(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Hr(ip(this.value))}}function HD(n){const e=[];return Jl(n.fields,(t,i)=>{const r=new Ni([t]);if(ub(i)){const s=HD(i.mapValue).fields;if(0===s.length)e.push(r);else for(const c of s)e.push(r.child(c))}else e.push(r)}),new Oo(e)}class ci{constructor(e,t,i,r,s,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=c,this.documentState=h}static newInvalidDocument(e){return new ci(e,0,xt.min(),xt.min(),xt.min(),Hr.empty(),0)}static newFoundDocument(e,t,i,r){return new ci(e,1,t,xt.min(),i,r,0)}static newNoDocument(e,t){return new ci(e,2,t,xt.min(),xt.min(),Hr.empty(),0)}static newUnknownDocument(e,t){return new ci(e,3,t,xt.min(),xt.min(),Hr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qc{constructor(e,t){this.position=e,this.inclusive=t}}function S_(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],c=n.position[r];if(i=s.field.isKeyField()?Xe.comparator(Xe.fromName(c.referenceValue),t.key):td(c,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function Mx(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cr(n.position[t],e.position[t]))return!1;return!0}class Cu{constructor(e,t="asc"){this.field=e,this.dir=t}}function zD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Rx{}class en extends Rx{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new $1(e,t,i):"array-contains"===t?new W1(e,i):"in"===t?new KD(e,i):"not-in"===t?new Z1(e,i):"array-contains-any"===t?new K1(e,i):new en(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new G1(e,i):new q1(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(td(t,this.value)):null!==t&&jr(this.value)===jr(t)&&this.matchesComparison(td(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Rn extends Rx{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Rn(e,t)}matches(e){return uf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function uf(n){return"and"===n.op}function fb(n){return"or"===n.op}function Ox(n){return $D(n)&&uf(n)}function $D(n){for(const e of n.filters)if(e instanceof Rn)return!1;return!0}function Nx(n){if(n instanceof en)return n.field.canonicalString()+n.op.toString()+np(n.value);if(Ox(n))return n.filters.map(e=>Nx(e)).join(",");{const e=n.filters.map(t=>Nx(t)).join(",");return`${n.op}(${e})`}}function GD(n,e){return n instanceof en?(t=n,(i=e)instanceof en&&t.op===i.op&&t.field.isEqual(i.field)&&cr(t.value,i.value)):n instanceof Rn?function(t,i){return i instanceof Rn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,c)=>r&&GD(s,i.filters[c]),!0)}(n,e):void dt();var t,i}function qD(n,e){const t=n.filters.concat(e);return Rn.create(t,n.op)}function WD(n){return n instanceof en?`${(e=n).field.canonicalString()} ${e.op} ${np(e.value)}`:n instanceof Rn?function(e){return e.op.toString()+" {"+e.getFilters().map(WD).join(" ,")+"}"}(n):"Filter";var e}class $1 extends en{constructor(e,t,i){super(e,t,i),this.key=Xe.fromName(i.referenceValue)}matches(e){const t=Xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class G1 extends en{constructor(e,t){super(e,"in",t),this.keys=ZD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class q1 extends en{constructor(e,t){super(e,"not-in",t),this.keys=ZD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Xe.fromName(i.referenceValue))}class W1 extends en{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return D_(t)&&tp(t.arrayValue,this.value)}}class KD extends en{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&tp(this.value.arrayValue,t)}}class Z1 extends en{constructor(e,t){super(e,"not-in",t)}matches(e){if(tp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!tp(this.value.arrayValue,t)}}class K1 extends en{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!D_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>tp(this.value.arrayValue,i))}}class Y1{constructor(e,t=null,i=[],r=[],s=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=h,this.dt=null}}function Px(n,e=null,t=[],i=[],r=null,s=null,c=null){return new Y1(n,e,t,i,r,s,c)}function hf(n){const e=et(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Nx(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),cf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>np(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>np(i)).join(",")),e.dt=t}return e.dt}function A_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!GD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Mx(n.startAt,e.startAt)&&Mx(n.endAt,e.endAt)}function k_(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function M_(n,e){return n.filters.filter(t=>t instanceof en&&t.field.isEqual(e))}function Fx(n,e,t){let i=Ps,r=!0;for(const s of M_(n,e)){let c=Ps,h=!0;switch(s.op){case"<":case"<=":c=hb(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,h=!1;break;case"!=":case"not-in":c=Ps}Ax({value:i,inclusive:r},{value:c,inclusive:h})<0&&(i=c,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];Ax({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function Lx(n,e,t){let i=Eu,r=!0;for(const s of M_(n,e)){let c=Eu,h=!0;switch(s.op){case">=":case">":c=z1(s.value),h=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,h=!1;break;case"!=":case"not-in":c=Eu}kx({value:i,inclusive:r},{value:c,inclusive:h})>0&&(i=c,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];kx({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class Wc{constructor(e,t=null,i=[],r=[],s=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=h,this.endAt=p,this.wt=null,this._t=null}}function Bx(n,e,t,i,r,s,c,h){return new Wc(n,e,t,i,r,s,c,h)}function ff(n){return new Wc(n)}function Vx(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function mb(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function rp(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function pb(n){return null!==n.collectionGroup}function Fs(n){const e=et(n);if(null===e.wt){e.wt=[];const t=rp(e),i=mb(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Cu(t)),e.wt.push(new Cu(Ni.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Cu(Ni.keyField(),s))}}}return e.wt}function No(n){const e=et(n);if(!e._t)if("F"===e.limitType)e._t=Px(e.path,e.collectionGroup,Fs(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Fs(e))t.push(new Cu(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new qc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new qc(e.startAt.position,e.startAt.inclusive):null;e._t=Px(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function Ux(n,e){e.getFirstInequalityField(),rp(n);const t=n.filters.concat([e]);return new Wc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function id(n,e,t){return new Wc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function gb(n,e){return A_(No(n),No(e))&&n.limitType===e.limitType}function _b(n){return`${hf(No(n))}|lt:${n.limitType}`}function YD(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>WD(i)).join(", ")}]`),cf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>np(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>np(i)).join(",")),`Target(${t})`}(No(n))}; limitType=${n.limitType})`}function op(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Xe.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Fs(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,c){const h=S_(r,s,c);return r.inclusive?h<=0:h<0}(t.startAt,Fs(t),i)||t.endAt&&!function(r,s,c){const h=S_(r,s,c);return r.inclusive?h>=0:h>0}(t.endAt,Fs(t),i)));var t,i}function jx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Q1(n){return(e,t)=>{let i=!1;for(const r of Fs(n)){const s=sp(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function sp(n,e,t){const i=n.field.isKeyField()?Xe.comparator(e.key,t.key):function(r,s,c){const h=s.data.field(r),p=c.data.field(r);return null!==h&&null!==p?td(h,p):dt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt()}}class rd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Jl(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return VD(this.inner)}size(){return this.innerSize}}const X1=new qt(Xe.comparator);function rs(){return X1}const mf=new qt(Xe.comparator);function R_(...n){let e=mf;for(const t of n)e=e.insert(t.key,t);return e}function O_(n){let e=mf;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ls(){return vb()}function Po(){return vb()}function vb(){return new rd(n=>n.toString(),(n,e)=>n.isEqual(e))}const QD=new qt(Xe.comparator),XD=new ai(Xe.comparator);function Zt(...n){let e=XD;for(const t of n)e=e.add(t);return e}const JD=new ai(zt);function yb(){return JD}function Hx(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qm(e)?"-0":e}}function zx(n){return{integerValue:""+n}}function eS(n,e){return ID(e)?zx(e):Hx(n,e)}class bb{constructor(){this._=void 0}}function J1(n,e,t){return n instanceof ap?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Ix(r)&&(r=ep(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof pf?P_(n,e):n instanceof Iu?$x(n,e):function(i,r){const s=tS(i,r),c=nS(s)+nS(i.gt);return df(s)&&df(i.gt)?zx(c):Hx(i.serializer,c)}(n,e)}function N_(n,e,t){return n instanceof pf?P_(n,e):n instanceof Iu?$x(n,e):t}function tS(n,e){return n instanceof gf?df(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class ap extends bb{}class pf extends bb{constructor(e){super(),this.elements=e}}function P_(n,e){const t=cp(e);for(const i of n.elements)t.some(r=>cr(r,i))||t.push(i);return{arrayValue:{values:t}}}class Iu extends bb{constructor(e){super(),this.elements=e}}function $x(n,e){let t=cp(e);for(const i of n.elements)t=t.filter(r=>!cr(r,i));return{arrayValue:{values:t}}}class gf extends bb{constructor(e,t){super(),this.serializer=e,this.gt=t}}function nS(n){return Pi(n.integerValue||n.doubleValue)}function cp(n){return D_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class od{constructor(e,t){this.field=e,this.transform=t}}class tR{constructor(e,t){this.version=e,this.transformResults=t}}class gi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function F_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class L_{}function Gx(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new sd(n.key,gi.none()):new B_(n.key,n.data,gi.none());{const t=n.data,i=Hr.empty();let r=new ai(Ni.comparator);for(let s of e.fields)if(!r.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new Tu(n.key,i,new Oo(r.toArray()),gi.none())}}function nR(n,e,t){n instanceof B_?function(i,r,s){const c=i.value.clone(),h=oR(i.fieldTransforms,r,s.transformResults);c.setAll(h),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Tu?function(i,r,s){if(!F_(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=oR(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(rR(i)),h.setAll(c),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function lp(n,e,t,i){return n instanceof B_?function(r,s,c,h){if(!F_(r.precondition,s))return c;const p=r.value.clone(),v=qx(r.fieldTransforms,h,s);return p.setAll(v),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Tu?function(r,s,c,h){if(!F_(r.precondition,s))return c;const p=qx(r.fieldTransforms,h,s),v=s.data;return v.setAll(rR(r)),v.setAll(p),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,e,t,i):(c=t,F_(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function iR(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=tS(i.transform,r||null);null!=s&&(null===t&&(t=Hr.empty()),t.set(i.field,s))}return t||null}function iS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&_u(t,i,(r,s)=>function eR(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof pf&&i instanceof pf||t instanceof Iu&&i instanceof Iu?_u(t.elements,i.elements,cr):t instanceof gf&&i instanceof gf?cr(t.gt,i.gt):t instanceof ap&&i instanceof ap);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class B_ extends L_{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Tu extends L_{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function oR(n,e,t){const i=new Map;yt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],c=s.transform,h=e.data.field(s.field);i.set(s.field,N_(c,h,t[r]))}return i}function qx(n,e,t){const i=new Map;for(const r of n){const s=r.transform,c=t.data.field(r.field);i.set(r.field,J1(s,c,e))}return i}class sd extends L_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wx extends L_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Zx{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&nR(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=lp(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=lp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Po();return this.mutations.forEach(r=>{const s=e.get(r.key),c=s.overlayedDocument;let h=this.applyToLocalView(c,s.mutatedFields);h=t.has(r.key)?null:h;const p=Gx(c,h);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(xt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&_u(this.mutations,e.mutations,(t,i)=>iS(t,i))&&_u(this.baseMutations,e.baseMutations,(t,i)=>iS(t,i))}}class wb{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){yt(e.mutations.length===i.length);let r=QD;const s=e.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new wb(e,t,i,r)}}class _f{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class aR{constructor(e,t){this.count=e,this.unchangedNames=t}}var lr,gn;function cR(n){switch(n){default:return dt();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function rS(n){if(void 0===n)return ar("GRPC error has no .code"),he.UNKNOWN;switch(n){case lr.OK:return he.OK;case lr.CANCELLED:return he.CANCELLED;case lr.UNKNOWN:return he.UNKNOWN;case lr.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case lr.INTERNAL:return he.INTERNAL;case lr.UNAVAILABLE:return he.UNAVAILABLE;case lr.UNAUTHENTICATED:return he.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case lr.NOT_FOUND:return he.NOT_FOUND;case lr.ALREADY_EXISTS:return he.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return he.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case lr.ABORTED:return he.ABORTED;case lr.OUT_OF_RANGE:return he.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return he.UNIMPLEMENTED;case lr.DATA_LOSS:return he.DATA_LOSS;default:return dt()}}(gn=lr||(lr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class xb{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Eb}static getOrCreateInstance(){return null===Eb&&(Eb=new xb),Eb}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Eb=null;function oS(){return new TextEncoder}const V_=new rf([4294967295,4294967295],0);function sS(n){const e=oS().encode(n),t=new mD;return t.update(e),new Uint8Array(t.digest())}function Kx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new rf([t,i],0),new rf([r,s],0)]}class Yx{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new dp(`Invalid padding: ${t}`);if(i<0)throw new dp(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new dp(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new dp(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=rf.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(rf.fromNumber(i)));return 1===r.compare(V_)&&(r=new rf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=sS(e),[i,r]=Kx(t);for(let s=0;s<this.hashCount;s++){const c=this.Et(i,r,s);if(!this.At(c))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new Yx(s,r,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(0===this.It)return;const t=sS(e),[i,r]=Kx(t);for(let s=0;s<this.hashCount;s++){const c=this.Et(i,r,s);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class dp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class U_{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,up.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new U_(xt.min(),r,new qt(zt),rs(),Zt())}}class up{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new up(i,t,Zt(),Zt(),Zt())}}class Cb{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class Ib{constructor(e,t){this.targetId=e,this.Vt=t}}class aS{constructor(e,t,i=Dr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Qx{constructor(){this.St=0,this.Dt=dS(),this.Ct=Dr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Zt(),t=Zt(),i=Zt();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:dt()}}),new up(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=dS()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class cS{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=rs(),this.zt=lS(),this.Wt=new qt(zt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const c=s.target;if(k_(c))if(0===r){const h=new Xe(c.path);this.Yt(i,h,ci.newNoDocument(h,xt.min()))}else yt(1===r);else{const h=this.ie(i);if(h!==r){const p=this.re(e,h);0!==p&&(this.ee(i),this.Wt=this.Wt.insert(i,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=xb.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,C,D){var M,F,U,W,ee,ke;const ze={localCacheCount:C,existenceFilterCount:D.count},Fe=D.unchangedNames;return Fe&&(ze.bloomFilter={applied:0===v,hashCount:null!==(M=Fe?.hashCount)&&void 0!==M?M:0,bitmapLength:null!==(W=null===(U=null===(F=Fe?.bits)||void 0===F?void 0:F.bitmap)||void 0===U?void 0:U.length)&&void 0!==W?W:0,padding:null!==(ke=null===(ee=Fe?.bits)||void 0===ee?void 0:ee.padding)&&void 0!==ke?ke:0}),ze}(p,h,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:c=0},hashCount:h=0}=i;let p,v;try{p=$c(s).toUint8Array()}catch(C){if(C instanceof Cx)return ha("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw C}try{v=new Yx(p,c,h)}catch(C){return ha(C instanceof dp?"BloomFilter error: ":"Applying bloom filter failed: ",C),1}return 0===v.It?1:r!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const c=this.Gt.ue(),h=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;t.vt(h)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,c)=>{const h=this.se(c);if(h){if(s.current&&k_(h.target)){const p=new Xe(h.target.path);null!==this.jt.get(p)||this.ae(c,p)||this.Yt(c,p,ci.newNoDocument(p,e))}s.Mt&&(t.set(c,s.Ot()),s.Ft())}});let i=Zt();this.zt.forEach((s,c)=>{let h=!0;c.forEachWhile(p=>{const v=this.se(p);return!v||"TargetPurposeLimboResolution"===v.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.jt.forEach((s,c)=>c.setReadTime(e));const r=new U_(e,t,this.Wt,this.jt,i);return this.jt=rs(),this.zt=lS(),this.Wt=new qt(zt),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Qx,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ai(zt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||je("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Qx),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function lS(){return new qt(Xe.comparator)}function dS(){return new qt(Xe.comparator)}const lR={asc:"ASCENDING",desc:"DESCENDING"},Xx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dR={and:"AND",or:"OR"};class uS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Jx(n,e){return n.useProto3Json||cf(e)?e:{value:e}}function hp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uR(n,e){return hp(n,e.toTimestamp())}function Wi(n){return yt(!!n),xt.fromTimestamp(function(e){const t=ed(e);return new Yn(t.seconds,t.nanos)}(n))}function eE(n,e){return(t=n,new pn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function fS(n){const e=pn.fromString(n);return yt(xS(e)),e}function j_(n,e){return eE(n.databaseId,e.path)}function Ja(n,e){const t=fS(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xe(tE(t))}function Tb(n,e){return eE(n.databaseId,e)}function mS(n){const e=fS(n);return 4===e.length?pn.emptyPath():tE(e)}function H_(n){return new pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tE(n){return yt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function pS(n,e,t){return{name:j_(n,e),fields:t.value.mapValue.fields}}function gS(n,e,t){const i=Ja(n,e.name),r=Wi(e.updateTime),s=e.createTime?Wi(e.createTime):xt.min(),c=new Hr({mapValue:{fields:e.fields}}),h=ci.newFoundDocument(i,r,s,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function vf(n,e){let t;if(e instanceof B_)t={update:pS(n,e.key,e.value)};else if(e instanceof sd)t={delete:j_(n,e.key)};else if(e instanceof Tu)t={update:pS(n,e.key,e.data),updateMask:rE(e.fieldMask)};else{if(!(e instanceof Wx))return dt();t={verify:j_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof ap)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof pf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Iu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof gf)return{fieldPath:s.field.canonicalString(),increment:c.gt};throw dt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:uR(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:dt()),t;var r}function z_(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?gi.updateTime(Wi(r.updateTime)):void 0!==r.exists?gi.exists(r.exists):gi.none():gi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,c){let h=null;"setToServerValue"in c?(yt("REQUEST_TIME"===c.setToServerValue),h=new ap):"appendMissingElements"in c?h=new pf(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Iu(c.removeAllFromArray.values||[]):"increment"in c?h=new gf(s,c.increment):dt();const p=Ni.fromServerFormat(c.fieldPath);return new od(p,h)}(n,r)):[];var r;if(e.update){const r=Ja(n,e.update.name),s=new Hr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Oo((e.updateMask.fieldPaths||[]).map(v=>Ni.fromServerFormat(v)));return new Tu(r,s,c,t,i)}return new B_(r,s,t,i)}if(e.delete){const r=Ja(n,e.delete);return new sd(r,t)}if(e.verify){const r=Ja(n,e.verify);return new Wx(r,t)}return dt()}function Db(n,e){return{documents:[Tb(n,e.path)]}}function nE(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Tb(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Tb(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0!==p.length)return Sb(Rn.create(p,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(v=>{return{field:Du((C=v).field),direction:bS(C.dir)};var C})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=Jx(n,e.limit);var h,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function vS(n){let e=mS(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){yt(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let s=[];t.where&&(s=function(C){const D=yS(C);return D instanceof Rn&&Ox(D)?D.getFilters():[D]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(C=>{return new Cu($_((D=C).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let h=null;t.limit&&(h=function(C){let D;return D="object"==typeof C?C.value:C,cf(D)?null:D}(t.limit));let p=null;var C;t.startAt&&(p=new qc((C=t.startAt).values||[],!!C.before));let v=null;return t.endAt&&(v=function(C){return new qc(C.values||[],!C.before)}(t.endAt)),Bx(e,r,c,s,h,"F",p,v)}function yS(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=$_(e.unaryFilter.field);return en.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=$_(e.unaryFilter.field);return en.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=$_(e.unaryFilter.field);return en.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=$_(e.unaryFilter.field);return en.create(s,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(n):void 0!==n.fieldFilter?en.create($_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Rn.create(e.compositeFilter.filters.map(t=>yS(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return dt()}}(e.compositeFilter.op))}(n):dt();var e}function bS(n){return lR[n]}function yf(n){return Xx[n]}function wS(n){return dR[n]}function Du(n){return{fieldPath:n.canonicalString()}}function $_(n){return Ni.fromServerFormat(n.fieldPath)}function Sb(n){return n instanceof en?function(e){if("=="===e.op){if(jD(e.value))return{unaryFilter:{field:Du(e.field),op:"IS_NAN"}};if(Dx(e.value))return{unaryFilter:{field:Du(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(jD(e.value))return{unaryFilter:{field:Du(e.field),op:"IS_NOT_NAN"}};if(Dx(e.value))return{unaryFilter:{field:Du(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Du(e.field),op:yf(e.op),value:e.value}}}(n):n instanceof Rn?function(e){const t=e.getFilters().map(i=>Sb(i));return 1===t.length?t[0]:{compositeFilter:{op:wS(e.op),filters:t}}}(n):dt()}function rE(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xS(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Zc{constructor(e,t,i,r,s=xt.min(),c=xt.min(),h=Dr.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Zc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class oE{constructor(e){this.fe=e}}function sE(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:fp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:j_(r=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:hp(r,s.version.toTimestamp()),createTime:hp(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Su(e.version)};else{if(!e.isUnknownDocument())return dt();i.unknownDocument={path:t.path.toArray(),version:Su(e.version)}}var r,s;return i}function fp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Su(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Au(n){const e=new Yn(n.seconds,n.nanoseconds);return xt.fromTimestamp(e)}function ku(n,e){const t=(e.baseMutations||[]).map(s=>z_(n.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>z_(n.fe,s)),r=Yn.fromMillis(e.localWriteTimeMs);return new Zx(e.batchId,r,t,i)}function mp(n){const e=Au(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Au(n.lastLimboFreeSnapshotVersion):xt.min();let i;var r;return void 0!==n.query.documents?(yt(1===(r=n.query).documents.length),i=No(ff(mS(r.documents[0])))):i=No(vS(n.query)),new Zc(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Dr.fromBase64String(n.resumeToken))}function ES(n,e){const t=Su(e.snapshotVersion),i=Su(e.lastLimboFreeSnapshotVersion);let r;r=k_(e.target)?Db(n.fe,e.target):nE(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:hf(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function aE(n){const e=vS({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?id(e,e.limit,"L"):e}function cE(n,e){return new _f(e.largestBatchId,z_(n.fe,e.overlayMutation))}function CS(n,e){const t=e.path.lastSegment();return[n,Xr(e.path.popLast()),t]}function lE(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Su(i.readTime),documentKey:Xr(i.documentKey.path),largestBatchId:i.largestBatchId}}class aL{getBundleMetadata(e,t){return dE(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Au(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return dE(e).put({bundleId:(i=t).id,createTime:Su(Wi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return IS(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:aE(r.bundledQuery),readTime:Au(r.readTime)};var r})}saveNamedQuery(e,t){return IS(e).put({name:(i=t).name,readTime:Su(Wi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function dE(n){return Ur(n,"bundles")}function IS(n){return Ur(n,"namedQueries")}class Ab{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Ab(e,t.uid||"")}getOverlay(e,t){return kb(e).get(CS(this.userId,t)).next(i=>i?cE(this.serializer,i):null)}getOverlays(e,t){const i=Ls();return ae.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,c)=>{const h=new _f(t,c);r.push(this.we(e,h))}),ae.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(Xr(c.getCollectionPath())));const s=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(kb(e).J("collectionPathOverlayIndex",h))}),ae.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Ls(),s=Xr(t),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return kb(e).j("collectionPathOverlayIndex",c).next(h=>{for(const p of h){const v=cE(this.serializer,p);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Ls();let c;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kb(e).X({index:"collectionGroupOverlayIndex",range:h},(p,v,C)=>{const D=cE(this.serializer,v);s.size()<r||D.largestBatchId===c?(s.set(D.getKey(),D),c=D.largestBatchId):C.done()}).next(()=>s)}we(e,t){return kb(e).put(function(i,r,s){const[c,h,p]=CS(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:vf(i.fe,s.mutation)}}(this.serializer,this.userId,t))}}function kb(n){return Ur(n,"documentOverlays")}class bf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Pi(e.integerValue));else if("doubleValue"in e){const i=Pi(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Qm(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae($c(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?Sx(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):dt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),Xe.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function pR(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function TS(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=pR(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}bf.Ve=new bf;class gR{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=TS(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=TS(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class _R{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class vR{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class G_{constructor(){this.je=new gR,this.ze=new _R(this.je),this.We=new vR(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class wf{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new wf(this.indexId,this.documentKey,this.arrayValue,i)}}function Mu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=DS(n.arrayValue,e.arrayValue),0!==t?t:(t=DS(n.directionalValue,e.directionalValue),0!==t?t:Xe.comparator(n.documentKey,e.documentKey)))}function DS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class yR{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){yt(e.collectionGroup===this.collectionId);const t=fx(e);if(void 0!==t&&!this.en(t))return!1;const i=vu(e);let r=new Set,s=0,c=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const h=i[s];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[c++],h))return!1}++s}for(;s<i.length;++s)if(c>=this.Ye.length||!this.sn(this.Ye[c++],i[s]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function SS(n){var e,t;if(yt(n instanceof en||n instanceof Rn),n instanceof en){if(n instanceof KD){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>en.create(n.field,"==",s)))||[];return Rn.create(r,"or")}return n}const i=n.filters.map(r=>SS(r));return Rn.create(i,n.op)}function q_(n){if(0===n.getFilters().length)return[];const e=Ob(SS(n));return yt(uE(e)),Mb(e)||Rb(e)?[e]:e.getFilters()}function Mb(n){return n instanceof en}function Rb(n){return n instanceof Rn&&Ox(n)}function uE(n){return Mb(n)||Rb(n)||function(e){if(e instanceof Rn&&fb(e)){for(const t of e.getFilters())if(!Mb(t)&&!Rb(t))return!1;return!0}return!1}(n)}function Ob(n){if(yt(n instanceof en||n instanceof Rn),n instanceof en)return n;if(1===n.filters.length)return Ob(n.filters[0]);const e=n.filters.map(i=>Ob(i));let t=Rn.create(e,n.op);return t=Pb(t),uE(t)?t:(yt(t instanceof Rn),yt(uf(t)),yt(t.filters.length>1),t.filters.reduce((i,r)=>Nb(i,r)))}function Nb(n,e){let t;return yt(n instanceof en||n instanceof Rn),yt(e instanceof en||e instanceof Rn),t=n instanceof en?e instanceof en?Rn.create([n,e],"and"):hE(n,e):e instanceof en?hE(e,n):function(i,r){if(yt(i.filters.length>0&&r.filters.length>0),uf(i)&&uf(r))return qD(i,r.getFilters());const s=fb(i)?i:r,c=fb(i)?r:i,h=s.filters.map(p=>Nb(p,c));return Rn.create(h,"or")}(n,e),Pb(t)}function hE(n,e){if(uf(e))return qD(e,n.getFilters());{const t=e.filters.map(i=>Nb(n,i));return Rn.create(t,"or")}}function Pb(n){if(yt(n instanceof en||n instanceof Rn),n instanceof en)return n;const e=n.getFilters();if(1===e.length)return Pb(e[0]);if($D(n))return n;const t=e.map(r=>Pb(r)),i=[];return t.forEach(r=>{r instanceof en?i.push(r):r instanceof Rn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Rn.create(i,n.op)}class cL{constructor(){this.rn=new AS}addToCollectionParentIndex(e,t){return this.rn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Ro.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class AS{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ai(pn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ai(pn.comparator)).toArray()}}const W_=new Uint8Array(0);class kS{constructor(e,t){this.user=e,this.databaseId=t,this.on=new AS,this.un=new rd(i=>hf(i),(i,r)=>A_(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:i,parent:Xr(r)};return MS(e).put(s)}return ae.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[v_(t),""],!1,!0);return MS(e).j(r).next(s=>{for(const c of s){if(c.collectionId!==t)break;i.push(Xa(c.parent))}return i})}addFieldIndex(e,t){const i=Fb(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete r.indexId;const s=i.add(r);if(t.indexState){const c=ad(e);return s.next(h=>{c.put(lE(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=Fb(e),r=ad(e),s=Z_(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Z_(e);let r=!0;const s=new Map;return ae.forEach(this.cn(t),c=>this.an(e,c).next(h=>{r&&(r=!!h),s.set(c,h)})).next(()=>{if(r){let c=Zt();const h=[];return ae.forEach(s,(p,v)=>{var C;je("IndexedDbIndexManager",`Using index ${C=p,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(Fe=>`${Fe.fieldPath}:${Fe.kind}`).join(",")}`} to execute ${hf(t)}`);const D=function(Fe,We){const Et=fx(We);if(void 0===Et)return null;for(const Tt of M_(Fe,Et.fieldPath))switch(Tt.op){case"array-contains-any":return Tt.value.arrayValue.values||[];case"array-contains":return[Tt.value]}return null}(v,p),M=function(Fe,We){const Et=new Map;for(const Tt of vu(We))for(const un of M_(Fe,Tt.fieldPath))switch(un.op){case"==":case"in":Et.set(Tt.fieldPath.canonicalString(),un.value);break;case"not-in":case"!=":return Et.set(Tt.fieldPath.canonicalString(),un.value),Array.from(Et.values())}return null}(v,p),F=function(Fe,We){const Et=[];let Tt=!0;for(const un of vu(We)){const Bi=0===un.kind?Fx(Fe,un.fieldPath,Fe.startAt):Lx(Fe,un.fieldPath,Fe.startAt);Et.push(Bi.value),Tt&&(Tt=Bi.inclusive)}return new qc(Et,Tt)}(v,p),U=function(Fe,We){const Et=[];let Tt=!0;for(const un of vu(We)){const Bi=0===un.kind?Lx(Fe,un.fieldPath,Fe.endAt):Fx(Fe,un.fieldPath,Fe.endAt);Et.push(Bi.value),Tt&&(Tt=Bi.inclusive)}return new qc(Et,Tt)}(v,p),W=this.hn(p,v,F),ee=this.hn(p,v,U),ke=this.ln(p,v,M),ze=this.fn(p.indexId,D,W,F.inclusive,ee,U.inclusive,ke);return ae.forEach(ze,Fe=>i.H(Fe,t.limit).next(We=>{We.forEach(Et=>{const Tt=Xe.fromSegments(Et.documentKey);c.has(Tt)||(c=c.add(Tt),h.push(Tt))})}))}).next(()=>h)}return ae.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:q_(Rn.create(e.filters,"and")).map(i=>Px(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,s,c,h){const p=(null!=t?t.length:1)*Math.max(i.length,s.length),v=p/(null!=t?t.length:1),C=[];for(let D=0;D<p;++D){const M=t?this.dn(t[D/v]):W_,F=this.wn(e,M,i[D%v],r),U=this._n(e,M,s[D%v],c),W=h.map(ee=>this.wn(e,M,ee,!0));C.push(...this.createRange(F,U,W))}return C}wn(e,t,i,r){const s=new wf(e,Xe.empty(),t,i);return r?s:s.Je()}_n(e,t,i,r){const s=new wf(e,Xe.empty(),t,i);return r?s.Je():s}an(e,t){const i=new yR(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let c=null;for(const h of s)i.tn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let i=2;const r=this.cn(t);return ae.forEach(r,s=>this.an(e,s).next(c=>{c?0!==i&&c.fields.length<function(h){let p=new ai(Ni.comparator),v=!1;for(const C of h.filters)for(const D of C.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?v=!0:p=p.add(D.field));for(const C of h.orderBy)C.field.isKeyField()||(p=p.add(C.field));return p.size+(v?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new G_;for(const r of vu(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const c=i.He(r.kind);bf.Ve._e(s,c)}return i.Qe()}dn(e){const t=new G_;return bf.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new G_;return bf.Ve._e(nd(this.databaseId,t),i.He(function(r){const s=vu(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new G_);let s=0;for(const c of vu(e)){const h=i[s++];for(const p of r)if(this.yn(t,c.fieldPath)&&D_(h))r=this.pn(r,c,h);else{const v=p.He(c.kind);bf.Ve._e(h,v)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],s=[];for(const c of i.arrayValue.values||[])for(const h of r){const p=new G_;p.seed(h.Qe()),bf.Ve._e(c,p.He(t.kind)),s.push(p)}return s}yn(e,t){return!!e.filters.find(i=>i instanceof en&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Fb(e),r=ad(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(s=>{const c=[];return ae.forEach(s,h=>r.get([h.indexId,this.uid]).next(p=>{c.push(function(v,C){const D=C?new w_(C.sequenceNumber,new Ro(Au(C.readTime),new Xe(Xa(C.documentKey)),C.largestBatchId)):w_.empty(),M=v.fields.map(([F,U])=>new b_(Ni.fromServerFormat(F),U));return new sb(v.indexId,v.collectionGroup,M,D)}(h,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:zt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Fb(e),s=ad(e);return this.Tn(e).next(c=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>ae.forEach(h,p=>s.put(lE(p.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return ae.forEach(t,(r,s)=>{const c=i.get(r.collectionGroup);return(c?ae.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ae.forEach(h,p=>this.En(e,r,p).next(v=>{const C=this.An(s,p);return v.isEqual(C)?ae.resolve():this.vn(e,s,p,v,C)}))))})}Rn(e,t,i,r){return Z_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return Z_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=Z_(e);let s=new ai(Mu);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(c,h)=>{s=s.add(new wf(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}An(e,t){let i=new ai(Mu);const r=this.mn(t,e);if(null==r)return i;const s=fx(t);if(null!=s){const c=e.data.field(s.fieldPath);if(D_(c))for(const h of c.arrayValue.values||[])i=i.add(new wf(t.indexId,e.key,this.dn(h),r))}else i=i.add(new wf(t.indexId,e.key,W_,r));return i}vn(e,t,i,r,s){je("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,p,v,C,D){const M=h.getIterator(),F=p.getIterator();let U=Xm(M),W=Xm(F);for(;U||W;){let ee=!1,ke=!1;if(U&&W){const ze=v(U,W);ze<0?ke=!0:ze>0&&(ee=!0)}else null!=U?ke=!0:ee=!0;ee?(C(W),W=Xm(F)):ke?(D(U),U=Xm(M)):(U=Xm(M),W=Xm(F))}}(r,s,Mu,h=>{c.push(this.Rn(e,t,i,h))},h=>{c.push(this.Pn(e,t,i,h))}),ae.waitFor(c)}Tn(e){let t=1;return ad(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,h)=>Mu(c,h)).filter((c,h,p)=>!h||0!==Mu(c,p[h-1]));const r=[];r.push(e);for(const c of i){const h=Mu(c,e),p=Mu(c,t);if(0===h)r[0]=e.Je();else if(h>0&&p<0)r.push(c),r.push(c.Je());else if(p>0)break}r.push(t);const s=[];for(let c=0;c<r.length;c+=2){if(this.bn(r[c],r[c+1]))return[];s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,W_,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,W_,[]]))}return s}bn(e,t){return Mu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(RS)}getMinOffset(e,t){return ae.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||dt())).next(RS)}}function MS(n){return Ur(n,"collectionParents")}function Z_(n){return Ur(n,"indexEntries")}function Fb(n){return Ur(n,"indexConfiguration")}function ad(n){return Ur(n,"indexState")}function RS(n){yt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;x_(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Ro(e.readTime,e.documentKey,t)}const K_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class po{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new po(e,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bR(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let h=0;const p=i.X({range:c},(C,D,M)=>(h++,M.delete()));s.push(p.next(()=>{yt(1===h)}));const v=[];for(const C of t.mutations){const D=vx(e,C.key.path,t.batchId);s.push(r.delete(D)),v.push(C.key)}return ae.waitFor(s).next(()=>v)}function Lb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}po.DEFAULT_COLLECTION_PERCENTILE=10,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,po.DEFAULT=new po(41943040,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),po.DISABLED=new po(-1,0,0);class fE{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){yt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new fE(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ru(e).X({index:"userMutationsIndex",range:i},(r,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=gp(e),c=Ru(e);return c.add({}).next(h=>{yt("number"==typeof h);const p=new Zx(h,t,i,r),v=function(M,F,U){const W=U.baseMutations.map(ke=>vf(M.fe,ke)),ee=U.mutations.map(ke=>vf(M.fe,ke));return{userId:F,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:W,mutations:ee}}(this.serializer,this.userId,p),C=[];let D=new ai((M,F)=>zt(M.canonicalString(),F.canonicalString()));for(const M of r){const F=vx(this.userId,M.key.path,h);D=D.add(M.key.path.popLast()),C.push(c.put(v)),C.push(s.put(F,yx))}return D.forEach(M=>{C.push(this.indexManager.addToCollectionParentIndex(e,M))}),e.addOnCommittedListener(()=>{this.Vn[h]=p.keys()}),ae.waitFor(C).next(()=>p)})}lookupMutationBatch(e,t){return Ru(e).get(t).next(i=>i?(yt(i.userId===this.userId),ku(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?ae.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Ru(e).X({index:"userMutationsIndex",range:r},(c,h,p)=>{h.userId===this.userId&&(yt(h.batchId>=i),s=ku(this.serializer,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ru(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ru(e).j("userMutationsIndex",t).next(i=>i.map(r=>ku(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=I_(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return gp(e).X({range:r},(c,h,p)=>{const[v,C,D]=c,M=Xa(C);if(v===this.userId&&t.path.isEqual(M))return Ru(e).get(D).next(F=>{if(!F)throw dt();yt(F.userId===this.userId),s.push(ku(this.serializer,F))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ai(zt);const r=[];return t.forEach(s=>{const c=I_(this.userId,s.path),h=IDBKeyRange.lowerBound(c),p=gp(e).X({range:h},(v,C,D)=>{const[M,F,U]=v,W=Xa(F);M===this.userId&&s.path.isEqual(W)?i=i.add(U):D.done()});r.push(p)}),ae.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=I_(this.userId,i),c=IDBKeyRange.lowerBound(s);let h=new ai(zt);return gp(e).X({range:c},(p,v,C)=>{const[D,M,F]=p,U=Xa(M);D===this.userId&&i.isPrefixOf(U)?U.length===r&&(h=h.add(F)):C.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Ru(e).get(s).next(c=>{if(null===c)throw dt();yt(c.userId===this.userId),i.push(ku(this.serializer,c))}))}),ae.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return bR(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return gp(e).X({range:i},(s,c,h)=>{if(s[0]===this.userId){const p=Xa(s[1]);r.push(p)}else h.done()}).next(()=>{yt(0===r.length)})})}containsKey(e,t){return pp(e,this.userId,t)}xn(e){return OS(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function pp(n,e,t){const i=I_(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return gp(n).X({range:s,Y:!0},(h,p,v)=>{const[C,D,M]=h;C===e&&D===r&&(c=!0),v.done()}).next(()=>c)}function Ru(n){return Ur(n,"mutations")}function gp(n){return Ur(n,"documentMutations")}function OS(n){return Ur(n,"mutationQueues")}class Kc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Kc(0)}static Mn(){return new Kc(-1)}}class NS{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new Kc(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>xt.fromTimestamp(new Yn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>_p(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(yt(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return _p(e).X((c,h)=>{const p=mp(h);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>ae.waitFor(s)).next(()=>r)}forEachTarget(e,t){return _p(e).X((i,r)=>{const s=mp(r);t(s)})}$n(e){return mE(e).get("targetGlobalKey").next(t=>(yt(null!==t),t))}On(e,t){return mE(e).put("targetGlobalKey",t)}Fn(e,t){return _p(e).put(ES(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=hf(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return _p(e).X({range:r,index:"queryTargetsIndex"},(c,h,p)=>{const v=mp(h);A_(t,v.target)&&(s=v,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=ec(e);return t.forEach(c=>{const h=Xr(c.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,c))}),ae.waitFor(r)}removeMatchingKeys(e,t,i){const r=ec(e);return ae.forEach(t,s=>{const c=Xr(s.path);return ae.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=ec(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=ec(e);let s=Zt();return r.X({range:i,Y:!0},(c,h,p)=>{const v=Xa(c[1]),C=new Xe(v);s=s.add(C)}).next(()=>s)}containsKey(e,t){const i=Xr(t.path),r=IDBKeyRange.bound([i],[v_(i)],!1,!0);let s=0;return ec(e).X({index:"documentTargetsIndex",Y:!0,range:r},([c,h],p,v)=>{0!==c&&(s++,v.done())}).next(()=>s>0)}le(e,t){return _p(e).get(t).next(i=>i?mp(i):null)}}function _p(n){return Ur(n,"targets")}function mE(n){return Ur(n,"targetGlobal")}function ec(n){return Ur(n,"targetDocuments")}function PS([n,e],[t,i]){const r=zt(n,t);return 0===r?zt(e,i):r}class wR{constructor(e){this.Ln=e,this.buffer=new ai(PS),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();PS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pE{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;je("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){zc(i)?je("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ya(i)}yield t.Qn(3e5)}))}}class xR{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(is.ct);const i=new wR(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(K_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K_):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,s,c,h,p,v;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,c=Date.now(),this.nthSequenceNumber(e,r))).next(D=>(i=D,h=Date.now(),this.removeTargets(e,i,t))).next(D=>(s=D,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(D=>(v=Date.now(),p_()<=ks.in.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-C}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${D} documents in `+(v-p)+`ms\nTotal Duration: ${v-C}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:D})))}}class LS{constructor(e,t){this.db=e,this.garbageCollector=function FS(n,e){return new xR(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return xf(e,i)}removeReference(e,t,i){return xf(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return xf(e,t)}Xn(e,t){return function(i,r){let s=!1;return OS(i).Z(c=>pp(i,c,r).next(h=>(h&&(s=!0),ae.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(e,(c,h)=>{if(h<=t){const p=this.Xn(e,c).next(v=>{if(!v)return s++,i.getEntry(e,c).next(()=>(i.removeEntry(c,xt.min()),ec(e).delete([0,Xr(c.path)])))});r.push(p)}}).next(()=>ae.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return xf(e,t)}Yn(e,t){const i=ec(e);let r,s=is.ct;return i.X({index:"documentTargetsIndex"},([c,h],{path:p,sequenceNumber:v})=>{0===c?(s!==is.ct&&t(new Xe(Xa(r)),s),s=v,r=p):s=is.ct}).next(()=>{s!==is.ct&&t(new Xe(Xa(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xf(n,e){return ec(n).put((i=n.currentSequenceNumber,{targetId:0,path:Xr(e.path),sequenceNumber:i}));var i}class BS{constructor(){this.changes=new rd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ci.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ER{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ou(e).put(i)}removeEntry(e,t,i){return Ou(e).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],fp(s),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=ci.newInvalidDocument(t);return Ou(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Y_(t))},(r,s)=>{i=this.ts(t,s)}).next(()=>i)}es(e,t){let i={size:0,document:ci.newInvalidDocument(t)};return Ou(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Y_(t))},(r,s)=>{i={document:this.ts(t,s),size:Lb(s)}}).next(()=>i)}getEntries(e,t){let i=rs();return this.ns(e,t,(r,s)=>{const c=this.ts(r,s);i=i.insert(r,c)}).next(()=>i)}ss(e,t){let i=rs(),r=new qt(Xe.comparator);return this.ns(e,t,(s,c)=>{const h=this.ts(s,c);i=i.insert(s,h),r=r.insert(s,Lb(c))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return ae.resolve();let r=new ai(vE);t.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(Y_(r.first()),Y_(r.last())),c=r.getIterator();let h=c.getNext();return Ou(e).X({index:"documentKeyIndex",range:s},(p,v,C)=>{const D=Xe.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&vE(h,D)<0;)i(h,null),h=c.getNext();h&&h.isEqual(D)&&(i(h,v),h=c.hasNext()?c.getNext():null),h?C.G(Y_(h)):C.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const s=t.path,c=[s.popLast().toArray(),s.lastSegment(),fp(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ou(e).j(IDBKeyRange.bound(c,h,!0)).next(p=>{let v=rs();for(const C of p){const D=this.ts(Xe.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);D.isFoundDocument()&&(op(t,D)||r.has(D.key))&&(v=v.insert(D.key,D))}return v})}getAllFromCollectionGroup(e,t,i,r){let s=rs();const c=_E(t,i),h=_E(t,Ro.max());return Ou(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(p,v,C)=>{const D=this.ts(Xe.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);s=s.insert(D.key,D),s.size===r&&C.done()}).next(()=>s)}newChangeBuffer(e){return new VS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Bb(e).get("remoteDocumentGlobalKey").next(t=>(yt(!!t),t))}Zn(e,t){return Bb(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function mR(n,e){let t;if(e.document)t=gS(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Xe.fromSegments(e.noDocument.path),r=Au(e.noDocument.readTime);t=ci.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const i=Xe.fromSegments(e.unknownDocument.path),r=Au(e.unknownDocument.version);t=ci.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Yn(i[0],i[1]);return xt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(xt.min()))return i}return ci.newInvalidDocument(e)}}function gE(n){return new ER(n)}class VS extends BS{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new rd(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new ai((s,c)=>zt(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const h=this.us.get(s);if(t.push(this.os.removeEntry(e,s,h.readTime)),c.isValidDocument()){const p=sE(this.os.serializer,c);r=r.add(s.path.popLast());const v=Lb(p);i+=v-h.size,t.push(this.os.addEntry(e,s,p))}else if(i-=h.size,this.trackRemovals){const p=sE(this.os.serializer,c.convertToNoDocument(xt.min()));t.push(this.os.addEntry(e,s,p))}}),r.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,i)),ae.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((s,c)=>{this.us.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function Bb(n){return Ur(n,"remoteDocumentGlobal")}function Ou(n){return Ur(n,"remoteDocumentsV14")}function Y_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _E(n,e){const t=e.documentKey.path.toArray();return[n,fp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function vE(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=zt(t[s],i[s]),r)return r;return r=zt(t.length,i.length),r||(r=zt(t[t.length-2],i[i.length-2]),r||zt(t[t.length-1],i[i.length-1]))}class CR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class US{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&lp(i.mutation,r,Oo.empty(),Yn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Zt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Zt()){const r=Ls();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let c=R_();return s.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Ls();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Zt()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,r){let s=rs();const c=vb(),h=vb();return t.forEach((p,v)=>{const C=i.get(v.key);r.has(v.key)&&(void 0===C||C.mutation instanceof Tu)?s=s.insert(v.key,v):void 0!==C?(c.set(v.key,C.mutation.getFieldMask()),lp(C.mutation,v,C.mutation.getFieldMask(),Yn.now())):c.set(v.key,Oo.empty())}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((v,C)=>c.set(v,C)),t.forEach((v,C)=>{var D;return h.set(v,new CR(C,null!==(D=c.get(v))&&void 0!==D?D:null))}),h))}recalculateAndSaveOverlays(e,t){const i=vb();let r=new qt((c,h)=>c-h),s=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const v=t.get(p);if(null===v)return;let C=i.get(p)||Oo.empty();C=h.applyToLocalView(v,C),i.set(p,C);const D=(r.get(h.batchId)||Zt()).add(p);r=r.insert(h.batchId,D)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),v=p.key,C=p.value,D=Po();C.forEach(M=>{if(!s.has(M)){const F=Gx(t.get(M),i.get(M));null!==F&&D.set(M,F),s=s.add(M)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,D))}return ae.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Xe.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):pb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):ae.resolve(Ls());let h=-1,p=s;return c.next(v=>ae.forEach(v,(C,D)=>(h<D.largestBatchId&&(h=D.largestBatchId),s.get(C)?ae.resolve():this.remoteDocumentCache.getEntry(e,C).next(M=>{p=p.insert(C,M)}))).next(()=>this.populateOverlays(e,v,s)).next(()=>this.computeViews(e,p,v,Zt())).next(C=>({batchId:h,changes:O_(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xe(t)).next(i=>{let r=R_();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=R_();return this.indexManager.getCollectionParents(e,r).next(c=>ae.forEach(c,h=>{const p=(v=t,C=h.child(r),new Wc(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,C;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(v=>{v.forEach((C,D)=>{s=s.insert(C,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((h,p)=>{const v=p.getKey();null===s.get(v)&&(s=s.insert(v,ci.newInvalidDocument(v)))});let c=R_();return s.forEach((h,p)=>{const v=r.get(h);void 0!==v&&lp(v.mutation,p,Oo.empty(),Yn.now()),op(t,p)&&(c=c.insert(h,p))}),c})}}class yE{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ae.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Wi(i.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:aE(i.bundledQuery),readTime:Wi(i.readTime)}),ae.resolve();var i}}class bE{constructor(){this.overlays=new qt(Xe.comparator),this.ls=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ls();return ae.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const r=Ls(),s=t.length+1,c=new Xe(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return ae.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new qt((v,C)=>v-C);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let C=s.get(v.largestBatchId);null===C&&(C=Ls(),s=s.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const h=Ls(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,C)=>h.set(v,C)),!(h.size()>=r)););return ae.resolve(h)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new _f(t,i));let s=this.ls.get(t);void 0===s&&(s=Zt(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class Vb{constructor(){this.fs=new ai(dr.ds),this.ws=new ai(dr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new dr(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new dr(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Xe(new pn([])),i=new dr(t,e),r=new dr(t,e+1),s=[];return this.ws.forEachInRange([i,r],c=>{this.ys(c),s.push(c.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Xe(new pn([])),i=new dr(t,e),r=new dr(t,e+1);let s=Zt();return this.ws.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new dr(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class dr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Xe.comparator(e.key,t.key)||zt(e.As,t.As)}static _s(e,t){return zt(e.As,t.As)||Xe.comparator(e.key,t.key)}}class wE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ai(dr.ds)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const c=new Zx(s,t,i,r);this.mutationQueue.push(c);for(const h of r)this.Rs=this.Rs.add(new dr(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new dr(t,0),r=new dr(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],c=>{const h=this.Ps(c.As);s.push(h)}),ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ai(zt);return t.forEach(r=>{const s=new dr(r,0),c=new dr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,c],h=>{i=i.add(h.As)})}),ae.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Xe.isDocumentKey(s)||(s=s.child(""));const c=new dr(new Xe(s),0);let h=new ai(zt);return this.Rs.forEachWhile(p=>{const v=p.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(p.As)),!0)},c),ae.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){yt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ae.forEach(t.mutations,r=>{const s=new dr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new dr(t,0),r=this.Rs.firstAfterOrEqual(i);return ae.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ae.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class IR{constructor(e){this.Ds=e,this.docs=new qt(Xe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,c=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():ci.newInvalidDocument(t))}getEntries(e,t){let i=rs();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ci.newInvalidDocument(r))}),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=rs();const c=t.path,h=new Xe(c.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:v,value:{document:C}}=p.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||x_(mx(C),i)<=0||(r.has(C.key)||op(t,C))&&(s=s.insert(C.key,C.mutableCopy()))}return ae.resolve(s)}getAllFromCollectionGroup(e,t,i,r){dt()}Cs(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new TR(this)}getSize(e){return ae.resolve(this.size)}}class TR extends BS{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class DR{constructor(e){this.persistence=e,this.xs=new rd(t=>hf(t),A_),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Vb,this.targetCount=0,this.Ms=Kc.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),ae.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Kc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Fn(t),ae.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((c,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.xs.delete(c),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),ae.waitFor(s).next(()=>r)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(c=>{s.push(r.markPotentiallyOrphaned(e,c))}),ae.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.ks.containsKey(t))}}class xE{constructor(e,t){this.$s={},this.overlays={},this.Os=new is(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new DR(this),this.indexManager=new cL,this.remoteDocumentCache=new IR(i=>this.referenceDelegate.Ls(i)),this.serializer=new oE(t),this.qs=new yE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new wE(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){je("MemoryPersistence","Starting transaction:",e);const r=new jS(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return ae.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class jS extends E_{constructor(e){super(),this.currentSequenceNumber=e}}class vp{constructor(e){this.persistence=e,this.Qs=new Vb,this.js=null}static zs(e){return new vp(e)}get Ws(){if(this.js)return this.js;throw dt()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ws,i=>{const r=Xe.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,xt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ae.or([()=>ae.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class HS{constructor(e){this.serializer=e}O(e,t,i,r){const s=new ab("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DD,{unique:!0}),h.createObjectStore("documentMutations"),EE(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=ae.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),EE(e)),c=c.next(()=>function(h){const p=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",v)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,p){return p.store("mutations").j().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DD,{unique:!0});const C=p.store("mutations"),D=v.map(M=>C.put(M));return ae.waitFor(D)})}(e,s))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Ys(s))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),i<7&&r>=7&&(c=c.next(()=>this.Zs(s))),i<8&&r>=8&&(c=c.next(()=>this.ti(e,s))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.ei(s))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:U1});p.createIndex("collectionPathOverlayIndex",j1,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",wx,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:bx});p.createIndex("documentKeyIndex",SD),p.createIndex("collectionGroupIndex",AD)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.si(e,s))),i<15&&r>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:ND}).createIndex("sequenceNumberIndex",PD,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:cb}).createIndex("documentKeyIndex",bu,{unique:!1})}(e))),c}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=Lb(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>ae.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",c).next(h=>ae.forEach(h,p=>{yt(p.userId===s.userId);const v=ku(this.serializer,p);return bR(e,s.userId,v).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((c,h)=>{const p=new pn(c),v=[0,Xr(p)];s.push(t.get(v).next(C=>C?ae.resolve():t.put({targetId:0,path:Xr(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ae.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:OD});const i=t.store("collectionParents"),r=new AS,s=c=>{if(r.add(c)){const h=c.lastSegment(),p=c.popLast();return i.put({collectionId:h,parent:Xr(p)})}};return t.store("remoteDocuments").X({Y:!0},(c,h)=>{const p=new pn(c);return s(p.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,h,p],v)=>{const C=Xa(h);return s(C.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const s=mp(r),c=ES(this.serializer,s);return t.put(c)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((s,c)=>{const h=t.store("remoteDocumentsV14"),p=(v=c,v.document?new Xe(pn.fromString(v.document.name).popFirst(5)):v.noDocument?Xe.fromSegments(v.noDocument.path):v.unknownDocument?Xe.fromSegments(v.unknownDocument.path):dt()).path.toArray();var v;const C={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(C))}).next(()=>ae.waitFor(r))}si(e,t){const i=t.store("mutations"),r=gE(this.serializer),s=new xE(vp.zs,this.serializer.fe);return i.j().next(c=>{const h=new Map;return c.forEach(p=>{var v;let C=null!==(v=h.get(p.userId))&&void 0!==v?v:Zt();ku(this.serializer,p).keys().forEach(D=>C=C.add(D)),h.set(p.userId,C)}),ae.forEach(h,(p,v)=>{const C=new Tr(v),D=Ab.de(this.serializer,C),M=s.getIndexManager(C),F=fE.de(C,this.serializer,M,s.referenceDelegate);return new US(r,F,D,M).recalculateAndSaveOverlaysForDocumentKeys(new LD(t,is.ct),p).next()})})}}function EE(n){n.createObjectStore("targetDocuments",{keyPath:MD}).createIndex("documentTargetsIndex",RD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kD,{unique:!0}),n.createObjectStore("targetGlobal")}const Ub="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class CE{constructor(e,t,i,r,s,c,h,p,v,C,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=s,this.window=c,this.document=h,this.ri=v,this.oi=C,this.ui=D,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=M=>Promise.resolve(),!CE.D())throw new Re(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LS(this,r),this.di=t+"main",this.serializer=new oE(p),this.wi=new Qa(this.di,this.ui,new HS(this.serializer)),this.Bs=new NS(this.referenceDelegate,this.serializer),this.remoteDocumentCache=gE(this.serializer),this.qs=new aL,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===C&&ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(he.FAILED_PRECONDITION,Ub);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new is(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,ve.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ve.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>X_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(zc(e))return je("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return je("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return yp(e).get("owner").next(t=>ae.resolve(this.Ri(t)))}Pi(e){return X_(e).delete(this.clientId)}bi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ur(i,"clientMetadata");return r.j().next(s=>{const c=e.Si(s,18e5),h=s.filter(p=>-1===c.indexOf(p));return ae.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ae.resolve(!0):yp(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Re(he.FAILED_PRECONDITION,Ub);return!1}}return!(!this.networkEnabled||!this.inForeground)||X_(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&je("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new LD(t,is.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>X_(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return fE.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new kS(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Ab.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){je("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(c=this.ui)?sL:14===c?lb:13===c?FD:12===c?xx:11===c?wu:void dt();var c;let h;return this.wi.runTransaction(e,r,s,p=>(h=new LD(p,this.Os?this.Os.next():is.ct),"readwrite-primary"===t?this.Ti(h).next(v=>!!v||this.Ei(h)).next(v=>{if(!v)throw ar(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Re(he.FAILED_PRECONDITION,wD);return i(h)}).next(v=>this.vi(h).next(()=>v)):this.Oi(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Oi(e){return yp(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(he.FAILED_PRECONDITION,Ub)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yp(e).put("owner",t)}static D(){return Qa.D()}Ai(e){const t=yp(e);return t.get("owner").next(i=>this.Ri(i)?(je("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(ar(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,P.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return je("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ar("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){ar("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function yp(n){return Ur(n,"owner")}function X_(n){return Ur(n,"clientMetadata")}function IE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class jb{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=Zt(),r=Zt();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new jb(e,t.fromCache,i,r)}}class TE{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(Vx(t))return ae.resolve(null);let i=No(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=id(t,null,"F"),i=No(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const c=Zt(...s);return this.Ui.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const v=this.ji(t,h);return this.zi(t,v,c,p.readTime)?this.Ki(e,id(t,null,"F")):this.Wi(e,v,t,p)}))})))}Gi(e,t,i,r){return Vx(t)||r.isEqual(xt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const c=this.ji(t,s);return this.zi(t,c,i,r)?this.Qi(e,t):(p_()<=ks.in.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),YD(t)),this.Wi(e,c,t,bD(r,-1)))})}ji(e,t){let i=new ai(Q1(e));return t.forEach((r,s)=>{op(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return p_()<=ks.in.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",YD(t)),this.Ui.getDocumentsMatchingQuery(e,t,Ro.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class Fo{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new qt(zt),this.Yi=new rd(s=>hf(s),A_),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new US(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Ef(n,e,t,i){return new Fo(n,e,t,i)}function zS(n,e){return DE.apply(this,arguments)}function DE(){return DE=(0,ve.Z)(function*(n,e){const t=et(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],h=[];let p=Zt();for(const v of r){c.push(v.batchId);for(const C of v.mutations)p=p.add(C.key)}for(const v of s){h.push(v.batchId);for(const C of v.mutations)p=p.add(C.key)}return t.localDocuments.getDocuments(i,p).next(v=>({er:v,removedBatchIds:c,addedBatchIds:h}))})})}),DE.apply(this,arguments)}function SR(n){const e=et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Hb(n,e,t){let i=Zt(),r=Zt();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let c=rs();return t.forEach((h,p)=>{const v=s.get(h);p.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(h)),p.isNoDocument()&&p.version.isEqual(xt.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||0===p.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):je("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",p.version)}),{nr:c,sr:r}})}function dL(n,e){const t=et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function J_(n,e){const t=et(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,ae.resolve(r)):t.Bs.allocateTargetId(i).next(c=>(r=new Zc(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function ev(n,e,t){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,ve.Z)(function*(n,e,t){const i=et(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!zc(c))throw c;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),Cf.apply(this,arguments)}function zb(n,e,t){const i=et(n);let r=xt.min(),s=Zt();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,p,v){const C=et(h),D=C.Yi.get(v);return void 0!==D?ae.resolve(C.Ji.get(D)):C.Bs.getTargetData(p,v)}(i,c,No(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(c,h.targetId).next(p=>{s=p})}).next(()=>i.Hi.getDocumentsMatchingQuery(c,e,t?r:xt.min(),t?s:Zt())).next(h=>(SE(i,jx(e),h),{documents:h,ir:s})))}function $b(n,e){const t=et(n),i=et(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.le(s,e).next(c=>c?c.target:null))}function GS(n,e){const t=et(n),i=t.Xi.get(e)||xt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,bD(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(SE(t,e,r),r))}function SE(n,e,t){let i=n.Xi.get(e)||xt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}function AE(){return AE=(0,ve.Z)(function*(n,e,t,i){const r=et(n);let s=Zt(),c=rs();for(const v of t){const C=e.rr(v.metadata.name);v.document&&(s=s.add(C));const D=e.ur(v);D.setReadTime(e.cr(v.metadata.readTime)),c=c.insert(C,D)}const h=r.Zi.newChangeBuffer({trackRemovals:!0}),p=yield J_(r,(v=i,No(ff(pn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>Hb(v,h,c).next(C=>(h.apply(v),C)).next(C=>r.Bs.removeMatchingKeysForTargetId(v,p.targetId).next(()=>r.Bs.addMatchingKeys(v,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,C.nr,C.sr)).next(()=>C.nr)))}),AE.apply(this,arguments)}function kR(n,e){return tv.apply(this,arguments)}function tv(){return tv=(0,ve.Z)(function*(n,e,t=Zt()){const i=yield J_(n,No(aE(e.bundledQuery))),r=et(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=Wi(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.qs.saveNamedQuery(s,e);const h=i.withResumeToken(Dr.EMPTY_BYTE_STRING,c);return r.Ji=r.Ji.insert(h.targetId,h),r.Bs.updateTargetData(s,h).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,t,i.targetId)).next(()=>r.qs.saveNamedQuery(s,e))})}),tv.apply(this,arguments)}function kE(n,e){return`firestore_clients_${n}_${e}`}function qS(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function bp(n,e){return`firestore_targets_${n}_${e}`}class wp{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Re(r.error.code,r.error.message))),c?new wp(e,t,r.state,s):(ar("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gb{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Re(i.error.code,i.error.message))),s?new Gb(e,i.state,r):(ar("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=yb();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=ID(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new nv(e,s):(ar("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ME{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ME(t.clientId,t.onlineState):(ar("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qb{constructor(){this.activeTargetIds=yb()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nu{constructor(e,t,i,r,s){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new qt(zt),this.started=!1,this.yr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=kE(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new qb),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const s=e.getItem(kE(e.persistenceKey,r));if(s){const c=nv.ar(r,s);c&&(e.gr=e.gr.insert(c.clientId,c))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(bp(this.persistenceKey,e));if(i){const r=Gb.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(bp(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return je("SharedClientState","READ",e,t),t}setItem(e,t){je("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){je("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(je("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(s){let c=is.ct;if(null!=s)try{const h=JSON.parse(s);yt("number"==typeof h),c=h}catch(h){ar("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==is.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new wp(this.currentUser,e,t,i),s=qS(this.persistenceKey,this.currentUser,e);this.setItem(s,r.hr())}Cr(e){const t=qS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=bp(this.persistenceKey,e),s=new Gb(e,t,i);this.setItem(r,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return nv.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return wp.ar(new Tr(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return Gb.ar(r,t)}br(e){return ME.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);je("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),s=this.Sr(i),c=[],h=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Wr(c,h).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=yb();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class WS{constructor(){this.Hr=new qb,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new qb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ZS{Yr(e){}shutdown(){}}class Wb{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let RE=null;function OE(){return null===RE?RE=268435456+Math.round(2147483648*Math.random()):RE++,"0x"+RE.toString(16)}const uL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MR{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const go="WebChannelConnection";class RR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const c=OE(),h=this.To(e,t);je("RestConnection",`Sending RPC '${e}' ${c}:`,h,i);const p={};return this.Eo(p,r,s),this.Ao(e,h,p,i).then(v=>(je("RestConnection",`Received RPC '${e}' ${c}: `,v),v),v=>{throw ha("RestConnection",`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",i),v})}vo(e,t,i,r,s,c){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+sf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${uL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=OE();return new Promise((c,h)=>{const p=new fD;p.setWithCredentials(!0),p.listenOnce(Zm.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case gu.NO_ERROR:const C=p.getResponseJson();je(go,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(C)),c(C);break;case gu.TIMEOUT:je(go,`RPC '${e}' ${s} timed out`),h(new Re(he.DEADLINE_EXCEEDED,"Request time out"));break;case gu.HTTP_ERROR:const D=p.getStatus();if(je(go,`RPC '${e}' ${s} failed with status:`,D,"response text:",p.getResponseText()),D>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const F=M?.error;if(F&&F.status&&F.message){const U=function(W){const ee=W.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(ee)>=0?ee:he.UNKNOWN}(F.status);h(new Re(U,F.message))}else h(new Re(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Re(he.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{je(go,`RPC '${e}' ${s} completed.`)}});const v=JSON.stringify(r);je(go,`RPC '${e}' ${s} sending request:`,r),p.send(t,"POST",v,i,15)})}Ro(e,t,i){const r=OE(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=qm(),h=Wm(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.xmlHttpFactory=new hD({})),this.Eo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const C=s.join("");je(go,`Creating RPC '${e}' stream ${r}: ${C}`,p);const D=c.createWebChannel(C,p);let M=!1,F=!1;const U=new MR({ro:ee=>{F?je(go,`Not sending because RPC '${e}' stream ${r} is closed:`,ee):(M||(je(go,`Opening RPC '${e}' stream ${r} transport.`),D.open(),M=!0),je(go,`RPC '${e}' stream ${r} sending:`,ee),D.send(ee))},oo:()=>D.close()}),W=(ee,ke,ze)=>{ee.listen(ke,Fe=>{try{ze(Fe)}catch(We){setTimeout(()=>{throw We},0)}})};return W(D,m_.EventType.OPEN,()=>{F||je(go,`RPC '${e}' stream ${r} transport opened.`)}),W(D,m_.EventType.CLOSE,()=>{F||(F=!0,je(go,`RPC '${e}' stream ${r} transport closed`),U.wo())}),W(D,m_.EventType.ERROR,ee=>{F||(F=!0,ha(go,`RPC '${e}' stream ${r} transport errored:`,ee),U.wo(new Re(he.UNAVAILABLE,"The operation could not be completed")))}),W(D,m_.EventType.MESSAGE,ee=>{var ke;if(!F){const ze=ee.data[0];yt(!!ze);const We=ze.error||(null===(ke=ze[0])||void 0===ke?void 0:ke.error);if(We){je(go,`RPC '${e}' stream ${r} received error:`,We);const Et=We.status;let Tt=function(Bi){const cs=lr[Bi];if(void 0!==cs)return rS(cs)}(Et),un=We.message;void 0===Tt&&(Tt=he.INTERNAL,un="Unknown error status: "+Et+" with message "+We.message),F=!0,U.wo(new Re(Tt,un)),D.close()}else je(go,`RPC '${e}' stream ${r} received:`,ze),U._o(ze)}}),W(h,Km.STAT_EVENT,ee=>{ee.stat===nf.PROXY?je(go,`RPC '${e}' stream ${r} detected buffering proxy`):ee.stat===nf.NOPROXY&&je(go,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{U.fo()},0),U}}function NE(){return typeof window<"u"?window:null}function iv(){return typeof document<"u"?document:null}function rv(n){return new uS(n,!0)}class Zb{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&je("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class PE{constructor(e,t,i,r,s,c,h,p){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Zb(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ve.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ve.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,ve.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===he.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Re(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,ve.Z)(function*(){e.state=0,e.start()}))}tu(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OR extends PE{constructor(e,t,i,r,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function fR(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:dt(),r=e.targetChange.targetIds||[],s=function(p,v){return p.useProto3Json?(yt(void 0===v||"string"==typeof v),Dr.fromBase64String(v||"")):(yt(void 0===v||v instanceof Uint8Array),Dr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const v=void 0===p.code?he.UNKNOWN:rS(p.code);return new Re(v,p.message||"")}(c);t=new aS(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=Ja(n,i.document.name),s=Wi(i.document.updateTime),c=i.document.createTime?Wi(i.document.createTime):xt.min(),h=new Hr({mapValue:{fields:i.document.fields}}),p=ci.newFoundDocument(r,s,c,h);t=new Cb(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const i=e.documentDelete,r=Ja(n,i.document),s=i.readTime?Wi(i.readTime):xt.min(),c=ci.newNoDocument(r,s);t=new Cb([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=Ja(n,i.document);t=new Cb([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return dt();{const i=e.filter,{count:r=0,unchangedNames:s}=i,c=new aR(r,s);t=new Ib(i.targetId,c)}}var p;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return xt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?xt.min():s.readTime?Wi(s.readTime):xt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=H_(this.serializer),t.addTarget=function(r,s){let c;const h=s.target;if(c=k_(h)?{documents:Db(r,h)}:{query:nE(r,h)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=hS(r,s.resumeToken);const p=Jx(r,s.expectedCount);null!==p&&(c.expectedCount=p)}else if(s.snapshotVersion.compareTo(xt.min())>0){c.readTime=hp(r,s.snapshotVersion.toTimestamp());const p=Jx(r,s.expectedCount);null!==p&&(c.expectedCount=p)}return c}(this.serializer,e);const i=function iE(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=H_(this.serializer),t.removeTarget=e,this.Wo(t)}}class NR extends PE{constructor(e,t,i,r,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function _S(n,e){return n&&n.length>0?(yt(void 0!==e),n.map(t=>function(i,r){let s=Wi(i.updateTime?i.updateTime:r);return s.isEqual(xt.min())&&(s=Wi(r)),new tR(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Wi(e.commitTime);return this.listener.cu(i,t)}return yt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=H_(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>vf(this.serializer,i))};this.Wo(t)}}class KS extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(he.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.vo(e,t,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Re(he.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class YS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ar(t),this.mu=!1):je("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class QS{constructor(e,t,i,r,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(h=>{i.enqueueAndForget((0,ve.Z)(function*(){var p;If(c)&&(je("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,ve.Z)(function*(v){const C=et(v);C.vu.add(4),yield Ep(C),C.bu.set("Unknown"),C.vu.delete(4),yield xp(C)}),function(v){return p.apply(this,arguments)})(c))}))}),this.bu=new YS(i,r)}}function xp(n){return FE.apply(this,arguments)}function FE(){return FE=(0,ve.Z)(function*(n){if(If(n))for(const e of n.Ru)yield e(!0)}),FE.apply(this,arguments)}function Ep(n){return XS.apply(this,arguments)}function XS(){return XS=(0,ve.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),XS.apply(this,arguments)}function ov(n,e){const t=et(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),tA(t)?eA(t):Ip(t).Ko()&&JS(t,e))}function Yb(n,e){const t=et(n),i=Ip(t);t.Au.delete(e),i.Ko()&&FR(t,e),0===t.Au.size&&(i.Ko()?i.jo():If(t)&&t.bu.set("Unknown"))}function JS(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ip(n).su(e)}function FR(n,e){n.Vu.qt(e),Ip(n).iu(e)}function eA(n){n.Vu=new cS({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Ip(n).start(),n.bu.gu()}function tA(n){return If(n)&&!Ip(n).Uo()&&n.Au.size>0}function If(n){return 0===et(n).vu.size}function LR(n){n.Vu=void 0}function hL(n){return nA.apply(this,arguments)}function nA(){return nA=(0,ve.Z)(function*(n){n.Au.forEach((e,t)=>{JS(n,e)})}),nA.apply(this,arguments)}function iA(n,e){return sv.apply(this,arguments)}function sv(){return sv=(0,ve.Z)(function*(n,e){LR(n),tA(n)?(n.bu.Iu(e),eA(n)):n.bu.set("Unknown")}),sv.apply(this,arguments)}function rA(n,e,t){return LE.apply(this,arguments)}function LE(){return LE=(0,ve.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof aS&&2===e.state&&e.cause)try{yield(i=(0,ve.Z)(function*(r,s){const c=s.cause;for(const h of s.targetIds)r.Au.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r.Au.delete(h),r.Vu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Tf(n,i)}else if(e instanceof Cb?n.Vu.Ht(e):e instanceof Ib?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(xt.min()))try{const i=yield SR(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const c=r.Vu.ce(s);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const v=r.Au.get(p);v&&r.Au.set(p,v.withResumeToken(h.resumeToken,s))}}),c.targetMismatches.forEach((h,p)=>{const v=r.Au.get(h);if(!v)return;r.Au.set(h,v.withResumeToken(Dr.EMPTY_BYTE_STRING,v.snapshotVersion)),FR(r,h);const C=new Zc(v.target,h,p,v.sequenceNumber);JS(r,C)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){je("RemoteStore","Failed to raise snapshot:",i),yield Tf(n,i)}var i}),LE.apply(this,arguments)}function Tf(n,e,t){return BE.apply(this,arguments)}function BE(){return BE=(0,ve.Z)(function*(n,e,t){if(!zc(e))throw e;n.vu.add(1),yield Ep(n),n.bu.set("Offline"),t||(t=()=>SR(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){je("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield xp(n)}))}),BE.apply(this,arguments)}function BR(n,e){return e().catch(t=>Tf(n,t,e))}function av(n){return VE.apply(this,arguments)}function VE(){return VE=(0,ve.Z)(function*(n){const e=et(n),t=Pu(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;oA(e);)try{const r=yield dL(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,VR(e,r)}catch(r){yield Tf(e,r)}sA(e)&&aA(e)}),VE.apply(this,arguments)}function oA(n){return If(n)&&n.Eu.length<10}function VR(n,e){n.Eu.push(e);const t=Pu(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function sA(n){return If(n)&&!Pu(n).Uo()&&n.Eu.length>0}function aA(n){Pu(n).start()}function fL(n){return UE.apply(this,arguments)}function UE(){return UE=(0,ve.Z)(function*(n){Pu(n).hu()}),UE.apply(this,arguments)}function cv(n){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,ve.Z)(function*(n){const e=Pu(n);for(const t of n.Eu)e.uu(t.mutations)}),Cp.apply(this,arguments)}function UR(n,e,t){return jE.apply(this,arguments)}function jE(){return jE=(0,ve.Z)(function*(n,e,t){const i=n.Eu.shift(),r=wb.from(i,e,t);yield BR(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield av(n)}),jE.apply(this,arguments)}function jR(n,e){return HE.apply(this,arguments)}function HE(){return HE=(0,ve.Z)(function*(n,e){var t;e&&Pu(n).ou&&(yield(t=(0,ve.Z)(function*(i,r){if(cR(s=r.code)&&s!==he.ABORTED){const c=i.Eu.shift();Pu(i).Qo(),yield BR(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield av(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),sA(n)&&aA(n)}),HE.apply(this,arguments)}function cA(n,e){return zE.apply(this,arguments)}function zE(){return zE=(0,ve.Z)(function*(n,e){const t=et(n);t.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const i=If(t);t.vu.add(3),yield Ep(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield xp(t)}),zE.apply(this,arguments)}function lv(n,e){return $E.apply(this,arguments)}function $E(){return $E=(0,ve.Z)(function*(n,e){const t=et(n);e?(t.vu.delete(2),yield xp(t)):e||(t.vu.add(2),yield Ep(t),t.bu.set("Unknown"))}),$E.apply(this,arguments)}function Ip(n){return n.Su||(n.Su=function(e,t,i){const r=et(e);return r.fu(),new OR(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:hL.bind(null,n),ao:iA.bind(null,n),nu:rA.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Su.Qo(),tA(n)?eA(n):n.bu.set("Unknown")):(yield n.Su.stop(),LR(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Pu(n){return n.Du||(n.Du=function(e,t,i){const r=et(e);return r.fu(),new NR(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:fL.bind(null,n),ao:jR.bind(null,n),au:cv.bind(null,n),cu:UR.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Du.Qo(),yield av(n)):(yield n.Du.stop(),n.Eu.length>0&&(je("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class GE{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,s){const c=Date.now()+i,h=new GE(e,t,c,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tp(n,e){if(ar("AsyncQueue",`${e}: ${n}`),zc(n))return new Re(he.UNAVAILABLE,`${e}: ${n}`);throw n}class Dp{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Xe.comparator(t.key,i.key):(t,i)=>Xe.comparator(t.key,i.key),this.keyedMap=R_(),this.sortedSet=new qt(this.comparator)}static emptySet(e){return new Dp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Dp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Dp;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class lA{constructor(){this.Cu=new qt(Xe.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):dt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Sp{constructor(e,t,i,r,s,c,h,p,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,r,s){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Sp(e,t,Dp.emptySet(t),c,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class HR{constructor(){this.Nu=void 0,this.listeners=[]}}class zR{constructor(){this.queries=new rd(e=>_b(e),gb),this.onlineState="Unknown",this.ku=new Set}}function qE(n,e){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,ve.Z)(function*(n,e){const t=et(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new HR),r)try{s.Nu=yield t.onListen(i)}catch(c){const h=Tp(c,`Initialization of query '${YD(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&Xb(t)}),Qb.apply(this,arguments)}function dv(n,e){return WE.apply(this,arguments)}function WE(){return WE=(0,ve.Z)(function*(n,e){const t=et(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),WE.apply(this,arguments)}function $R(n,e){const t=et(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const h of c.listeners)h.$u(r)&&(i=!0);c.Nu=r}}i&&Xb(t)}function dA(n,e,t){const i=et(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function Xb(n){n.ku.forEach(e=>{e.next()})}class uA{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Sp(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Sp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class os{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class ZE{constructor(e){this.serializer=e}rr(e){return Ja(this.serializer,e)}ur(e){return e.metadata.exists?gS(this.serializer,e.document,!1):ci.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Wi(e)}}class hA{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fA(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=pn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new ZE(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const c of r.metadata.queries){const h=(t.get(c)||Zt()).add(s);t.set(c,h)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function AR(n,e,t,i){return AE.apply(this,arguments)}(e.localStore,new ZE(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield kR(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function fA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class KE{constructor(e){this.key=e}}class mA{constructor(e){this.key=e}}class Jb{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Zt(),this.mutatedKeys=Zt(),this.tc=Q1(e),this.ec=new Dp(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new lA,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,D)=>{const M=r.get(C),F=op(this.query,D)?D:null,U=!!M&&this.mutatedKeys.has(M.key),W=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let ee=!1;M&&F?M.data.isEqual(F.data)?U!==W&&(i.track({type:3,doc:F}),ee=!0):this.rc(M,F)||(i.track({type:2,doc:F}),ee=!0,(p&&this.tc(F,p)>0||v&&this.tc(F,v)<0)&&(h=!0)):!M&&F?(i.track({type:0,doc:F}),ee=!0):M&&!F&&(i.track({type:1,doc:M}),ee=!0,(p||v)&&(h=!0)),ee&&(F?(c=c.add(F),s=W?s.add(C):s.delete(C)):(c=c.delete(C),s=s.delete(C)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const C="F"===this.query.limitType?c.last():c.first();c=c.delete(C.key),s=s.delete(C.key),i.track({type:1,doc:C})}return{ec:c,ic:i,zi:h,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((v,C)=>function(D,M){const F=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return F(D)-F(M)}(v.type,C.type)||this.tc(v.doc,C.doc)),this.oc(i);const c=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,p=h!==this.Xu;return this.Xu=h,0!==s.length||p?{snapshot:new Sp(this.query,e.ec,r,s,e.mutatedKeys,0===h,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new lA,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Zt(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new mA(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new KE(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Zt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Sp.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Fu{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class pA{constructor(e){this.key=e,this.fc=!1}}class YE{constructor(e,t,i,r,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new rd(h=>_b(h),gb),this._c=new Map,this.mc=new Set,this.gc=new qt(Xe.comparator),this.yc=new Map,this.Ic=new Vb,this.Tc={},this.Ec=new Map,this.Ac=Kc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function QE(n,e){return XE.apply(this,arguments)}function XE(){return XE=(0,ve.Z)(function*(n,e){const t=ld(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const c=yield J_(t.localStore,No(e)),h=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield gA(t,e,i,"current"===h,c.resumeToken),t.isPrimaryClient&&ov(t.remoteStore,c)}return r}),XE.apply(this,arguments)}function gA(n,e,t,i,r){return e0.apply(this,arguments)}function e0(){return e0=(0,ve.Z)(function*(n,e,t,i,r){n.Rc=(D,M,F)=>{return(U=(0,ve.Z)(function*(W,ee,ke,ze){let Fe=ee.view.sc(ke);Fe.zi&&(Fe=yield zb(W.localStore,ee.query,!1).then(({documents:Tt})=>ee.view.sc(Tt,Fe)));const We=ze&&ze.targetChanges.get(ee.targetId),Et=ee.view.applyChanges(Fe,W.isPrimaryClient,We);return s0(W,ee.targetId,Et.cc),Et.snapshot}),function(W,ee,ke,ze){return U.apply(this,arguments)})(n,D,M,F);var U};const s=yield zb(n.localStore,e,!0),c=new Jb(e,s.ir),h=c.sc(s.documents),p=up.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),v=c.applyChanges(h,n.isPrimaryClient,p);s0(n,t,v.cc);const C=new Fu(e,t,c);return n.wc.set(e,C),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),e0.apply(this,arguments)}function GR(n,e){return JE.apply(this,arguments)}function JE(){return JE=(0,ve.Z)(function*(n,e){const t=et(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!gb(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ev(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Yb(t.remoteStore,i.targetId),cd(t,i.targetId)}).catch(Ya))):(cd(t,i.targetId),yield ev(t.localStore,i.targetId,!0))}),JE.apply(this,arguments)}function eC(){return eC=(0,ve.Z)(function*(n,e,t){const i=d0(n);try{const r=yield function(s,c){const h=et(s),p=Yn.now(),v=c.reduce((M,F)=>M.add(F.key),Zt());let C,D;return h.persistence.runTransaction("Locally write mutations","readwrite",M=>{let F=rs(),U=Zt();return h.Zi.getEntries(M,v).next(W=>{F=W,F.forEach((ee,ke)=>{ke.isValidDocument()||(U=U.add(ee))})}).next(()=>h.localDocuments.getOverlayedDocuments(M,F)).next(W=>{C=W;const ee=[];for(const ke of c){const ze=iR(ke,C.get(ke.key).overlayedDocument);null!=ze&&ee.push(new Tu(ke.key,ze,HD(ze.value.mapValue),gi.exists(!0)))}return h.mutationQueue.addMutationBatch(M,p,ee,c)}).next(W=>{D=W;const ee=W.applyToLocalDocumentSet(C,U);return h.documentOverlayCache.saveOverlays(M,W.batchId,ee)})}).then(()=>({batchId:D.batchId,changes:O_(C)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,h){let p=s.Tc[s.currentUser.toKey()];p||(p=new qt(zt)),p=p.insert(c,h),s.Tc[s.currentUser.toKey()]=p}(i,r.batchId,t),yield Bu(i,r.changes),yield av(i.remoteStore)}catch(r){const s=Tp(r,"Failed to persist write");t.reject(s)}}),eC.apply(this,arguments)}function tC(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,ve.Z)(function*(n,e){const t=et(n);try{const i=yield function $S(n,e){const t=et(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const h=[];e.targetChanges.forEach((C,D)=>{const M=r.get(D);if(!M)return;h.push(t.Bs.removeMatchingKeys(s,C.removedDocuments,D).next(()=>t.Bs.addMatchingKeys(s,C.addedDocuments,D)));let F=M.withSequenceNumber(s.currentSequenceNumber);var U,W,ee;null!==e.targetMismatches.get(D)?F=F.withResumeToken(Dr.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):C.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(C.resumeToken,i)),r=r.insert(D,F),W=F,ee=C,(0===(U=M).resumeToken.approximateByteSize()||W.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(s,F))});let p=rs(),v=Zt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,C))}),h.push(Hb(s,c,e.documentUpdates).next(C=>{p=C.nr,v=C.sr})),!i.isEqual(xt.min())){const C=t.Bs.getLastRemoteSnapshotVersion(s).next(D=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(C)}return ae.waitFor(h).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,v)).next(()=>p)}).then(s=>(t.Ji=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const c=t.yc.get(s);c&&(yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.fc=!0:r.modifiedDocuments.size>0?yt(c.fc):r.removedDocuments.size>0&&(yt(c.fc),c.fc=!1))}),yield Bu(t,i,e)}catch(i){yield Ya(i)}}),_A.apply(this,arguments)}function nC(n,e,t){const i=et(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,c)=>{const h=c.view.Mu(e);h.snapshot&&r.push(h.snapshot)}),function(s,c){const h=et(s);h.onlineState=c;let p=!1;h.queries.forEach((v,C)=>{for(const D of C.listeners)D.Mu(c)&&(p=!0)}),p&&Xb(h)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function WR(n,e,t){return t0.apply(this,arguments)}function t0(){return t0=(0,ve.Z)(function*(n,e,t){const i=et(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let c=new qt(Xe.comparator);c=c.insert(s,ci.newNoDocument(s,xt.min()));const h=Zt().add(s),p=new U_(xt.min(),new Map,new qt(zt),c,h);yield tC(i,p),i.gc=i.gc.remove(s),i.yc.delete(e),rC(i)}else yield ev(i.localStore,e,!1).then(()=>cd(i,e,t)).catch(Ya)}),t0.apply(this,arguments)}function mL(n,e){return uv.apply(this,arguments)}function uv(){return uv=(0,ve.Z)(function*(n,e){const t=et(n),i=e.batch.batchId;try{const r=yield function lL(n,e){const t=et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,h,p,v){const C=p.batch,D=C.keys();let M=ae.resolve();return D.forEach(F=>{M=M.next(()=>v.getEntry(h,F)).next(U=>{const W=p.docVersions.get(F);yt(null!==W),U.version.compareTo(W)<0&&(C.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),v.addEntry(U)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(h,C))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Zt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);Lu(t,i,null),o0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Bu(t,r)}catch(r){yield Ya(r)}}),uv.apply(this,arguments)}function vA(n,e,t){return n0.apply(this,arguments)}function n0(){return n0=(0,ve.Z)(function*(n,e,t){const i=et(n);try{const r=yield function(s,c){const h=et(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return h.mutationQueue.lookupMutationBatch(p,c).next(C=>(yt(null!==C),v=C.keys(),h.mutationQueue.removeMutationBatch(p,C))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,v,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>h.localDocuments.getDocuments(p,v))})}(i.localStore,e);Lu(i,e,t),o0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Bu(i,r)}catch(r){yield Ya(r)}}),n0.apply(this,arguments)}function r0(){return r0=(0,ve.Z)(function*(n,e){const t=et(n);If(t.remoteStore)||je("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=et(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=Tp(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),r0.apply(this,arguments)}function o0(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function Lu(n,e,t){const i=et(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function cd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||iC(n,i)})}function iC(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Yb(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),rC(n))}function s0(n,e,t){for(const i of t)i instanceof KE?(n.Ic.addReference(i.key,e),KR(n,i)):i instanceof mA?(je("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||iC(n,i.key)):dt()}function KR(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(je("SyncEngine","New document in limbo: "+t),n.mc.add(i),rC(n))}function rC(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Xe(pn.fromString(e)),i=n.Ac.next();n.yc.set(i,new pA(t)),n.gc=n.gc.insert(t,i),ov(n.remoteStore,new Zc(No(ff(t.path)),i,"TargetPurposeLimboResolution",is.ct))}}function Bu(n,e,t){return a0.apply(this,arguments)}function a0(){return a0=(0,ve.Z)(function*(n,e,t){const i=et(n),r=[],s=[],c=[];var h;i.wc.isEmpty()||(i.wc.forEach((h,p)=>{c.push(i.Rc(p,e,t).then(v=>{if((v||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const C=jb.Li(p.targetId,v);s.push(C)}}))}),yield Promise.all(c),i.dc.nu(r),yield(h=(0,ve.Z)(function*(p,v){const C=et(p);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>ae.forEach(v,M=>ae.forEach(M.Fi,F=>C.persistence.referenceDelegate.addReference(D,M.targetId,F)).next(()=>ae.forEach(M.Bi,F=>C.persistence.referenceDelegate.removeReference(D,M.targetId,F)))))}catch(D){if(!zc(D))throw D;je("LocalStore","Failed to update sequence numbers: "+D)}for(const D of v){const M=D.targetId;if(!D.fromCache){const F=C.Ji.get(M),W=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);C.Ji=C.Ji.insert(M,W)}}}),function(p,v){return h.apply(this,arguments)})(i.localStore,s))}),a0.apply(this,arguments)}function YR(n,e){return oC.apply(this,arguments)}function oC(){return oC=(0,ve.Z)(function*(n,e){const t=et(n);if(!t.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const i=yield zS(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(c=>{c.forEach(h=>{h.reject(new Re(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Bu(t,i.er)}var r}),oC.apply(this,arguments)}function pL(n,e){const t=et(n),i=t.yc.get(e);if(i&&i.fc)return Zt().add(i.key);{let r=Zt();const s=t._c.get(e);if(!s)return r;for(const c of s){const h=t.wc.get(c);r=r.unionWith(h.view.nc)}return r}}function gL(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,ve.Z)(function*(n,e){const t=et(n),i=yield zb(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&s0(t,e.targetId,r.cc),r}),yA.apply(this,arguments)}function bA(n,e){return sC.apply(this,arguments)}function sC(){return sC=(0,ve.Z)(function*(n,e){const t=et(n);return GS(t.localStore,e).then(i=>Bu(t,i))}),sC.apply(this,arguments)}function QR(n,e,t,i){return aC.apply(this,arguments)}function aC(){return aC=(0,ve.Z)(function*(n,e,t,i){const r=et(n),s=yield function(c,h){const p=et(c),v=et(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",C=>v.Sn(C,h).next(D=>D?p.localDocuments.getDocuments(C,D):ae.resolve(null)))}(r.localStore,e);var h;null!==s?("pending"===t?yield av(r.remoteStore):"acknowledged"===t||"rejected"===t?(Lu(r,e,i||null),o0(r,e),h=e,et(et(r.localStore).mutationQueue).Cn(h)):dt(),yield Bu(r,s)):je("SyncEngine","Cannot apply mutation batch with id: "+e)}),aC.apply(this,arguments)}function wA(){return wA=(0,ve.Z)(function*(n,e){const t=et(n);if(ld(t),d0(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield XR(t,i.toArray());t.vc=!0,yield lv(t.remoteStore,!0);for(const s of r)ov(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(cd(t,c),ev(t.localStore,c,!0))),Yb(t.remoteStore,c)}),yield r,yield XR(t,i),function(s){const c=et(s);c.yc.forEach((h,p)=>{Yb(c.remoteStore,p)}),c.Ic.Ts(),c.yc=new Map,c.gc=new qt(Xe.comparator)}(t),t.vc=!1,yield lv(t.remoteStore,!1)}}),wA.apply(this,arguments)}function XR(n,e,t){return xA.apply(this,arguments)}function xA(){return xA=(0,ve.Z)(function*(n,e,t){const i=et(n),r=[],s=[];for(const c of e){let h;const p=i._c.get(c);if(p&&0!==p.length){h=yield J_(i.localStore,No(p[0]));for(const v of p){const C=i.wc.get(v),D=yield gL(i,C);D.snapshot&&s.push(D.snapshot)}}else{const v=yield $b(i.localStore,c);h=yield J_(i.localStore,v),yield gA(i,JR(v),c,!1,h.resumeToken)}r.push(h)}return i.dc.nu(s),r}),xA.apply(this,arguments)}function JR(n){return Bx(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function eO(n){const e=et(n);return et(et(e.localStore).persistence).$i()}function c0(n,e,t,i){return cC.apply(this,arguments)}function cC(){return cC=(0,ve.Z)(function*(n,e,t,i){const r=et(n);if(r.vc)return void je("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield GS(r.localStore,jx(s[0])),h=U_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Dr.EMPTY_BYTE_STRING);yield Bu(r,c,h);break}case"rejected":yield ev(r.localStore,e,!0),cd(r,e,i);break;default:dt()}}),cC.apply(this,arguments)}function tO(n,e,t){return l0.apply(this,arguments)}function l0(){return l0=(0,ve.Z)(function*(n,e,t){const i=ld(n);if(i.vc){for(const r of e){if(i._c.has(r)){je("SyncEngine","Adding an already active target "+r);continue}const s=yield $b(i.localStore,r),c=yield J_(i.localStore,s);yield gA(i,JR(s),c.targetId,!1,c.resumeToken),ov(i.remoteStore,c)}for(const r of t)i._c.has(r)&&(yield ev(i.localStore,r,!1).then(()=>{Yb(i.remoteStore,r),cd(i,r)}).catch(Ya))}}),l0.apply(this,arguments)}function ld(n){const e=et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WR.bind(null,e),e.dc.nu=$R.bind(null,e.eventManager),e.dc.Pc=dA.bind(null,e.eventManager),e}function d0(n){const e=et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vA.bind(null,e),e}class Df{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.serializer=rv(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ef(this.persistence,new TE,e.initialUser,this.serializer)}createPersistence(e){return new xE(vp.zs,this.serializer)}createSharedClientState(e){return new WS}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hv extends Df{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield d0(i.Vc.syncEngine),yield av(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ef(this.persistence,new TE,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new pE(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new gx(t,this.persistence);return new CD(e.asyncQueue,i)}createPersistence(e){const t=IE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?po.withCacheSize(this.cacheSizeBytes):po.DEFAULT;return new CE(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,NE(),iv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new WS}}class u0 extends hv{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof Nu&&(i.sharedClientState.syncEngine={jr:QR.bind(null,r),zr:c0.bind(null,r),Wr:tO.bind(null,r),$i:eO.bind(null,r),Qr:bA.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,ve.Z)(function*(c){yield function _L(n,e){return wA.apply(this,arguments)}(i.Vc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=NE();if(!Nu.D(t))throw new Re(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=IE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Nu(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class dd{initialize(e,t){var i=this;return(0,ve.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>nC(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=YR.bind(null,i.syncEngine),yield lv(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new zR}createDatastore(e){const t=rv(e.databaseInfo.databaseId),i=new RR(e.databaseInfo);return new KS(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>nC(this.syncEngine,h,0),c=Wb.D()?new Wb:new ZS,new QS(t,i,r,s,c);var t,i,r,s,c}createSyncEngine(e,t){return function(i,r,s,c,h,p,v){const C=new YE(i,r,s,c,h,p);return v&&(C.vc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const i=et(t);je("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Ep(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function iO(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class dC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class vL{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new qi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const s=yield e.$c(r);return new os(JSON.parse(s),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ve.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class EA{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ve.Z)(function*(s,c){const h=et(s),p=H_(h.serializer)+"/documents",v={documents:c.map(F=>j_(h.serializer,F))},C=yield h.vo("BatchGetDocuments",p,v,c.length),D=new Map;C.forEach(F=>{const U=function hR(n,e){return"found"in e?function(t,i){yt(!!i.found);const r=Ja(t,i.found.name),s=Wi(i.found.updateTime),c=i.found.createTime?Wi(i.found.createTime):xt.min(),h=new Hr({mapValue:{fields:i.found.fields}});return ci.newFoundDocument(r,s,c,h)}(n,e):"missing"in e?function(t,i){yt(!!i.missing),yt(!!i.readTime);const r=Ja(t,i.missing),s=Wi(i.readTime);return ci.newNoDocument(r,s)}(n,e):dt()}(h.serializer,F);D.set(U.key.toString(),U)});const M=[];return c.forEach(F=>{const U=D.get(F.toString());yt(!!U),M.push(U)}),M}),function(s,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new sd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=Xe.fromPath(r);e.mutations.push(new Wx(s,e.precondition(s)))}),yield(i=(0,ve.Z)(function*(r,s){const c=et(r),h=H_(c.serializer)+"/documents",p={writes:s.map(v=>vf(c.serializer,v))};yield c.Io("Commit",h,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=xt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Re(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(xt.min())?gi.exists(!1):gi.updateTime(t):gi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xt.min()))throw new Re(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gi.updateTime(t)}return gi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class rO{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new Zb(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ve.Z)(function*(){const t=new EA(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Uc(s)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!cf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!cR(t)}return!1}}class oO{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Tr.UNAUTHENTICATED,this.clientId=vD.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,ve.Z)(function*(h){je("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(je("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Tp(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function h0(n,e){return uC.apply(this,arguments)}function uC(){return uC=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ve.Z)(function*(s){i.isEqual(s)||(yield zS(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),uC.apply(this,arguments)}function f0(n,e){return m0.apply(this,arguments)}function m0(){return m0=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield fC(n);je("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>cA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>cA(e.remoteStore,s)),n._onlineComponents=e}),m0.apply(this,arguments)}function hC(n){return"FirebaseError"===n.name?n.code===he.FAILED_PRECONDITION||n.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function fC(n){return mC.apply(this,arguments)}function mC(){return mC=(0,ve.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){je("FirestoreClient","Using user provided OfflineComponentProvider");try{yield h0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!hC(t))throw t;ha("Error using user provided cache. Falling back to memory cache: "+t),yield h0(n,new Df)}}else je("FirestoreClient","Using default OfflineComponentProvider"),yield h0(n,new Df);return n._offlineComponents}),mC.apply(this,arguments)}function fv(n){return mv.apply(this,arguments)}function mv(){return mv=(0,ve.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(je("FirestoreClient","Using user provided OnlineComponentProvider"),yield f0(n,n._uninitializedComponentsProvider._online)):(je("FirestoreClient","Using default OnlineComponentProvider"),yield f0(n,new dd))),n._onlineComponents}),mv.apply(this,arguments)}function sO(n){return fC(n).then(e=>e.persistence)}function pv(n){return fC(n).then(e=>e.localStore)}function p0(n){return fv(n).then(e=>e.remoteStore)}function pC(n){return fv(n).then(e=>e.syncEngine)}function gv(n){return IA.apply(this,arguments)}function IA(){return IA=(0,ve.Z)(function*(n){const e=yield fv(n),t=e.eventManager;return t.onListen=QE.bind(null,e.syncEngine),t.onUnlisten=GR.bind(null,e.syncEngine),t}),IA.apply(this,arguments)}function TA(n,e,t={}){const i=new qi;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,s,c,h,p){const v=new dC({next:D=>{s.enqueueAndForget(()=>dv(r,C));const M=D.docs.has(c);!M&&D.fromCache?p.reject(new Re(he.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&D.fromCache&&h&&"server"===h.source?p.reject(new Re(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),C=new uA(ff(c.path),v,{includeMetadataChanges:!0,Ku:!0});return qE(r,C)}(yield gv(n),n.asyncQueue,e,t,i)})),i.promise}function gC(n,e,t={}){const i=new qi;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,s,c,h,p){const v=new dC({next:D=>{s.enqueueAndForget(()=>dv(r,C)),D.fromCache&&"server"===h.source?p.reject(new Re(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),C=new uA(c,v,{includeMetadataChanges:!0,Ku:!0});return qE(r,C)}(yield gv(n),n.asyncQueue,e,t,i)})),i.promise}function kA(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const g0=new Map;function _0(n,e,t){if(!t)throw new Re(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function _C(n,e,t,i){if(!0===e&&!0===i)throw new Re(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function MA(n){if(!Xe.isDocumentKey(n))throw new Re(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _v(n){if(Xe.isDocumentKey(n))throw new Re(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function v0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=v0(n);throw new Re(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function vC(n,e){if(e<=0)throw new Re(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class yC{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_C("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=kA(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Re(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class y0{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yC({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yC(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ux;switch(t.type){case"firstParty":return new gD(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=g0.get(e);t&&(je("ComponentProvider","Removing Datastore"),g0.delete(e),t.terminate())}(this),Promise.resolve()}}class _i{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ud(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _i(this.firestore,e,this._key)}}class eo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class ud extends eo{constructor(e,t,i){super(e,t,ff(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _i(this.firestore,null,new Xe(e))}withConverter(e){return new ud(this.firestore,e,this._path)}}function uO(n,e,...t){if(n=(0,P.m9)(n),_0("collection","path",e),n instanceof y0){const i=pn.fromString(e,...t);return _v(i),new ud(n,null,i)}{if(!(n instanceof _i||n instanceof ud))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pn.fromString(e,...t));return _v(i),new ud(n.firestore,null,i)}}function b0(n,e,...t){if(n=(0,P.m9)(n),1===arguments.length&&(e=vD.A()),_0("doc","path",e),n instanceof y0){const i=pn.fromString(e,...t);return MA(i),new _i(n,null,new Xe(i))}{if(!(n instanceof _i||n instanceof ud))throw new Re(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pn.fromString(e,...t));return MA(i),new _i(n.firestore,n instanceof ud?n.converter:null,new Xe(i))}}function fO(n,e){return n=(0,P.m9)(n),e=(0,P.m9)(e),(n instanceof _i||n instanceof ud)&&(e instanceof _i||e instanceof ud)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function OA(n,e){return n=(0,P.m9)(n),e=(0,P.m9)(e),n instanceof eo&&e instanceof eo&&n.firestore===e.firestore&&gb(n._query,e._query)&&n.converter===e.converter}class bL{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Zb(this,"async_queue_retry"),this.Xc=()=>{const t=iv();t&&je("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=iv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=iv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new qi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!zc(t))throw t;je("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,ar("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=GE.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&dt()}verifyOperationInProgress(){}sa(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function NA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class wL{constructor(){this._progressObserver={},this._taskCompletionResolver=new qi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class vi extends y0{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new bL,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pO(this),this._firestoreClient.terminate()}}function ur(n){return n._firestoreClient||pO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function pO(n){var e,t,i;const r=n._freezeSettings(),s=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Gc(n._databaseId,h,n._persistenceKey,(v=r).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,kA(v.experimentalLongPollingOptions),v.useFetchStreams));var h,v;n._firestoreClient=new oO(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function o(n,e,t){const i=new qi;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield h0(n,t),yield f0(n,e),i.resolve()}catch(r){const s=r;if(!hC(s))throw s;ha("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function T(n){if(n._initialized||n._terminated)throw new Re(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class V{constructor(e){this._byteString=e}static fromBase64String(e){try{return new V(Dr.fromBase64String(e))}catch(t){throw new Re(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new V(Dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Z{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ye{constructor(e){this._methodName=e}}class Ve{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}const tt=/^__.*__$/;class wt{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Tu(e,this.data,this.fieldMask,t,this.fieldTransforms):new B_(e,this.data,t,this.fieldTransforms)}}class Oe{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Tu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ft(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class Wt{constructor(e,t,i,r,s,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Wt(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return FA(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ft(this.ca)&&tt.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Fn{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||rv(e)}ya(e,t,i,r=!1){return new Wt({ca:e,methodName:t,ga:i,path:Ni.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hr(n){const e=n._freezeSettings(),t=rv(n._databaseId);return new Fn(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fa(n,e,t,i,r,s={}){const c=n.ya(s.merge||s.mergeFields?2:0,e,t,r);bO("Data must be an object, but it was:",c,i);const h=CL(i,c);let p,v;if(s.merge)p=new Oo(c.fieldMask),v=c.fieldTransforms;else if(s.mergeFields){const C=[];for(const D of s.mergeFields){const M=wC(e,D,t);if(!c.contains(M))throw new Re(he.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);TL(C,M)||C.push(M)}p=new Oo(C),v=c.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,v=c.fieldTransforms;return new wt(new Hr(h),p,v)}class Yc extends ye{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yc}}function w0(n,e,t){return new Wt({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bC extends ye{_toFieldTransform(e){return new od(e.path,new ap)}isEqual(e){return e instanceof bC}}class _O extends ye{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=w0(this,e,!0),i=this.pa.map(s=>vv(s,t)),r=new pf(i);return new od(e.path,r)}isEqual(e){return this===e}}class cH extends ye{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=w0(this,e,!0),i=this.pa.map(s=>vv(s,t)),r=new Iu(i);return new od(e.path,r)}isEqual(e){return this===e}}class lH extends ye{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new gf(e.serializer,eS(e.serializer,this.Ia));return new od(e.path,t)}isEqual(e){return this===e}}function vO(n,e,t,i){const r=n.ya(1,e,t);bO("Data must be an object, but it was:",r,i);const s=[],c=Hr.empty();Jl(i,(p,v)=>{const C=PA(e,p,t);v=(0,P.m9)(v);const D=r.da(C);if(v instanceof Yc)s.push(C);else{const M=vv(v,D);null!=M&&(s.push(C),c.set(C,M))}});const h=new Oo(s);return new Oe(c,h,r.fieldTransforms)}function yO(n,e,t,i,r,s){const c=n.ya(1,e,t),h=[wC(e,i,t)],p=[r];if(s.length%2!=0)throw new Re(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<s.length;M+=2)h.push(wC(e,s[M])),p.push(s[M+1]);const v=[],C=Hr.empty();for(let M=h.length-1;M>=0;--M)if(!TL(v,h[M])){const F=h[M];let U=p[M];U=(0,P.m9)(U);const W=c.da(F);if(U instanceof Yc)v.push(F);else{const ee=vv(U,W);null!=ee&&(v.push(F),C.set(F,ee))}}const D=new Oo(v);return new Oe(C,D,c.fieldTransforms)}function EL(n,e,t,i=!1){return vv(t,n.ya(i?4:3,e))}function vv(n,e){if(IL(n=(0,P.m9)(n)))return bO("Unsupported field value:",e,n),CL(n,e);if(n instanceof ye)return function(t,i){if(!Ft(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const c of t){let h=vv(c,i.wa(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,P.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return eS(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Yn.fromDate(t);return{timestampValue:hp(i.serializer,r)}}if(t instanceof Yn){const r=new Yn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:hp(i.serializer,r)}}if(t instanceof Ve)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof V)return{bytesValue:hS(i.serializer,t._byteString)};if(t instanceof _i){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:eE(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${v0(t)}`)}(n,e)}function CL(n,e){const t={};return VD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jl(n,(i,r)=>{const s=vv(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function IL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Yn||n instanceof Ve||n instanceof V||n instanceof _i||n instanceof ye)}function bO(n,e,t){if(!IL(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=v0(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function wC(n,e,t){if((e=(0,P.m9)(e))instanceof Z)return e._internalPath;if("string"==typeof e)return PA(n,e);throw FA("Field path arguments must be of type string or ",n,!1,void 0,t)}const dH=new RegExp("[~\\*/\\[\\]]");function PA(n,e,t){if(e.search(dH)>=0)throw FA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Z(...e.split("."))._internalPath}catch{throw FA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function FA(n,e,t,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Re(he.INVALID_ARGUMENT,h+n+p)}function TL(n,e){return n.some(t=>t.isEqual(e))}class xC{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _i(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new uH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(LA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class uH extends xC{data(){return super.data()}}function LA(n,e){return"string"==typeof e?PA(n,e):e instanceof Z?e._internalPath:e._delegate._internalPath}function DL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wO{}class EC extends wO{}function Ap(n,e,...t){let i=[];e instanceof wO&&i.push(e),i=i.concat(t),function(r){const s=r.filter(h=>h instanceof x0).length,c=r.filter(h=>h instanceof CC).length;if(s>1||s>0&&c>0)throw new Re(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class CC extends EC{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new CC(e,t,i)}_apply(e){const t=this._parse(e);return ML(e._query,t),new eo(e.firestore,e.converter,Ux(e._query,t))}_parse(e){const t=hr(e.firestore);return function(r,s,c,h,p,v,C){let D;if(p.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Re(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){kL(C,v);const M=[];for(const F of C)M.push(AL(h,r,F));D={arrayValue:{values:M}}}else D=AL(h,r,C)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||kL(C,v),D=EL(c,"where",C,"in"===v||"not-in"===v);return en.create(p,v,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class x0 extends wO{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new x0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Rn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const c=r.getFlattenedFilters();for(const h of c)ML(s,h),s=Ux(s,h)}(e._query,t),new eo(e.firestore,e.converter,Ux(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class xO extends EC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new xO(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Re(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Re(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Cu(r,s);return function(h,p){if(null===mb(h)){const v=rp(h);null!==v&&RL(0,v,p.field)}}(i,c),c}(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Wc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class BA extends EC{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new BA(e,t,i)}_apply(e){return new eo(e.firestore,e.converter,id(e._query,this._limit,this._limitType))}}class VA extends EC{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new VA(e,t,i)}_apply(e){const t=SL(e,this.type,this._docOrFields,this._inclusive);return new eo(e.firestore,e.converter,(r=t,new Wc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class UA extends EC{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new UA(e,t,i)}_apply(e){const t=SL(e,this.type,this._docOrFields,this._inclusive);return new eo(e.firestore,e.converter,(r=t,new Wc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function SL(n,e,t,i){if(t[0]=(0,P.m9)(t[0]),t[0]instanceof xC)return function(r,s,c,h,p){if(!h)throw new Re(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const C of Fs(r))if(C.field.isKeyField())v.push(nd(s,h.key));else{const D=h.data.field(C.field);if(Ix(D))throw new Re(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const M=C.field.canonicalString();throw new Re(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}v.push(D)}return new qc(v,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=hr(n.firestore);return function(s,c,h,p,v,C){const D=s.explicitOrderBy;if(v.length>D.length)throw new Re(he.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let F=0;F<v.length;F++){const U=v[F];if(D[F].field.isKeyField()){if("string"!=typeof U)throw new Re(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof U}`);if(!pb(s)&&-1!==U.indexOf("/"))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${U}' contains a slash.`);const W=s.path.child(pn.fromString(U));if(!Xe.isDocumentKey(W))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${W}' is not because it contains an odd number of segments.`);const ee=new Xe(W);M.push(nd(c,ee))}else{const W=EL(h,p,U);M.push(W)}}return new qc(M,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function AL(n,e,t){if("string"==typeof(t=(0,P.m9)(t))){if(""===t)throw new Re(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pb(e)&&-1!==t.indexOf("/"))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(pn.fromString(t));if(!Xe.isDocumentKey(i))throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return nd(n,new Xe(i))}if(t instanceof _i)return nd(n,t._key);throw new Re(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${v0(t)}.`)}function kL(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ML(n,e){if(e.isInequality()){const i=rp(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Re(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=mb(n);null!==s&&RL(0,r,s)}const t=function(i,r){for(const s of i)for(const c of s.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Re(he.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function RL(n,e,t){if(!t.isEqual(e))throw new Re(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class EO{convertValue(e,t="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($c(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Jl(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new Ve(Pi(e.latitude),Pi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ep(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(lf(e));default:return null}}convertTimestamp(e){const t=ed(e);return new Yn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=pn.fromString(e);yt(xS(i));const r=new xu(i.get(1),i.get(3)),s=new Xe(i.popFirst(5));return r.isEqual(t)||ar(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function jA(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class bH extends EO{constructor(e){super(),this.firestore=e}convertBytes(e){return new V(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _i(this.firestore,null,t)}}class yv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sf extends xC{constructor(e,t,i,r,s,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new IC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(LA("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class IC extends Sf{data(e={}){return super.data(e)}}class kp{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new yv(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new IC(this._firestore,this._userDataWriter,i.key,i,new yv(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new IC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yv(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new IC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yv(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,v=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),v=s.indexOf(c.doc.key)),{type:xH(c.type),doc:h,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function NL(n,e){return n instanceof Sf&&e instanceof Sf?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof kp&&e instanceof kp&&n._firestore===e._firestore&&OA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Mp extends EO{constructor(e){super(),this.firestore=e}convertBytes(e){return new V(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _i(this.firestore,null,t)}}function PL(n,e,t){n=sn(n,_i);const i=sn(n.firestore,vi),r=jA(n.converter,e,t);return E0(i,[fa(hr(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,gi.none())])}function FL(n,e,t,...i){n=sn(n,_i);const r=sn(n.firestore,vi),s=hr(r);let c;return c="string"==typeof(e=(0,P.m9)(e))||e instanceof Z?yO(s,"updateDoc",n._key,e,t,i):vO(s,"updateDoc",n._key,e),E0(r,[c.toMutation(n._key,gi.exists(!0))])}function LL(n,...e){var t,i,r;n=(0,P.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||NA(e[c])||(s=e[c],c++);const h={includeMetadataChanges:s.includeMetadataChanges};if(NA(e[c])){const D=e[c];e[c]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[c+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),e[c+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let p,v,C;if(n instanceof _i)v=sn(n.firestore,vi),C=ff(n._key.path),p={next:D=>{e[c]&&e[c](CO(v,n,D))},error:e[c+1],complete:e[c+2]};else{const D=sn(n,eo);v=sn(D.firestore,vi),C=D._query;const M=new Mp(v);p={next:F=>{e[c]&&e[c](new kp(v,M,D,F))},error:e[c+1],complete:e[c+2]},DL(n._query)}return function(D,M,F,U){const W=new dC(U),ee=new uA(M,W,F);return D.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return qE(yield gv(D),ee)})),()=>{W.Dc(),D.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return dv(yield gv(D),ee)}))}}(ur(v),C,h,p)}function E0(n,e){return function(t,i){const r=new qi;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function qR(n,e,t){return eC.apply(this,arguments)}(yield pC(t),i,r)})),r.promise}(ur(n),e)}function CO(n,e,t){const i=t.docs.get(e._key),r=new Mp(n);return new Sf(n,r,e._key,i,new yv(t.hasPendingWrites,t.fromCache),e.converter)}const UH={maxAttempts:5};class BL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hr(e)}set(e,t,i){this._verifyNotCommitted();const r=Rp(e,this._firestore),s=jA(r.converter,t,i),c=fa(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,gi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Rp(e,this._firestore);let c;return c="string"==typeof(t=(0,P.m9)(t))||t instanceof Z?yO(this._dataReader,"WriteBatch.update",s._key,t,i,r):vO(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,gi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Rp(e,this._firestore);return this._mutations=this._mutations.concat(new sd(t._key,gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rp(n,e){if((n=(0,P.m9)(n)).firestore!==e)throw new Re(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class jH extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hr(e)}get(e){const t=Rp(e,this._firestore),i=new bH(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return dt();const s=r[0];if(s.isFoundDocument())return new xC(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new xC(this._firestore,i,t._key,null,t.converter);throw dt()})}set(e,t,i){const r=Rp(e,this._firestore),s=jA(r.converter,t,i),c=fa(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const s=Rp(e,this._firestore);let c;return c="string"==typeof(t=(0,P.m9)(t))||t instanceof Z?yO(this._dataReader,"Transaction.update",s._key,t,i,r):vO(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=Rp(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Rp(e,this._firestore),i=new Mp(this._firestore);return super.get(e).then(r=>new Sf(this._firestore,i,t._key,r._document,new yv(!1,!1),t.converter))}}function IO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function UL(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function jL(){if(!function Jm(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){sf=Ao.SDK_VERSION,(0,Ao._registerComponent)(new As.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),c=new vi(new pD(t.getProvider("auth-internal")),new __(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(h.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Ao.registerVersion)(lx,"3.13.0",n),(0,Ao.registerVersion)(lx,"3.13.0","esm2017")}();class TC{constructor(e){this._delegate=e}static fromBase64String(e){return jL(),new TC(V.fromBase64String(e))}static fromUint8Array(e){return UL(),new TC(V.fromUint8Array(e))}toBase64(){return jL(),this._delegate.toBase64()}toUint8Array(){return UL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function TO(n){return function YH(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class QH{enableIndexedDbPersistence(e,t){return function gO(n,e){T(n=sn(n,vi));const t=ur(n);if(t._uninitializedComponentsProvider)throw new Re(he.FAILED_PRECONDITION,"SDK cache is already specified.");ha("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new dd;return o(t,r,new hv(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function xL(n){T(n=sn(n,vi));const e=ur(n);if(e._uninitializedComponentsProvider)throw new Re(he.FAILED_PRECONDITION,"SDK cache is already specified.");ha("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new dd;return o(e,i,new u0(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function a(n){if(n._initialized&&!n._terminated)throw new Re(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new qi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(i){if(!Qa.D())return Promise.resolve();const r=i+"main";yield Qa.delete(r)}),function(i){return t.apply(this,arguments)})(IE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class HL{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof xu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ha("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function RA(n,e,t,i={}){var r;const s=(n=sn(n,y0))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==c&&ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:c,ssl:!1})),i.mockUserToken){let h,p;if("string"==typeof i.mockUserToken)h=i.mockUserToken,p=Tr.MOCK_USER;else{h=(0,P.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Re(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Tr(v)}n._authCredentials=new ob(new Ym(h,p))}}(this._delegate,e,t,i)}enableNetwork(){return function u(n){return function aO(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield sO(n),t=yield p0(n);return e.setNetworkEnabled(!0),function(i){const r=et(i);return r.vu.delete(0),xp(r)}(t)}))}(ur(n=sn(n,vi)))}(this._delegate)}disableNetwork(){return function f(n){return function cO(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield sO(n),t=yield p0(n);return e.setNetworkEnabled(!1),(i=(0,ve.Z)(function*(r){const s=et(r);s.vu.add(0),yield Ep(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(ur(n=sn(n,vi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,_C("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function l(n){return function(e){const t=new qi;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function ZR(n,e){return r0.apply(this,arguments)}(yield pC(e),t)})),t.promise}(ur(n=sn(n,vi)))}(this._delegate)}onSnapshotsInSync(e){return function MH(n,e){return function dO(n,e){const t=new dC(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield gv(n),r=t,et(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield gv(n),r=t,void et(i).ku.delete(r);var i,r}))}}(ur(n=sn(n,vi)),NA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new C0(this,uO(this._delegate,e))}catch(t){throw Bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Qc(this,b0(this._delegate,e))}catch(t){throw Bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vs(this,function hO(n,e){if(n=sn(n,y0),_0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new eo(n,null,(t=e,new Wc(pn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function HH(n,e,t){n=sn(n,vi);const i=Object.assign(Object.assign({},UH),t);return function(r){if(r.maxAttempts<1)throw new Re(he.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,c){const h=new qi;return r.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const p=yield function CA(n){return fv(n).then(e=>e.datastore)}(r);new rO(r.asyncQueue,p,c,s,h).run()})),h.promise}(ur(n),r=>e(new jH(n,r)),i)}(this._delegate,t=>e(new zL(this,t)))}batch(){return ur(this._delegate),new $L(new BL(this._delegate,e=>E0(this._delegate,e)))}loadBundle(e){return function y(n,e){const t=ur(n=sn(n,vi)),i=new wL;return function SA(n,e,t,i){const r=function(s,c){let h;return h="string"==typeof s?oS().encode(s):s,p=function(p,v){if(p instanceof Uint8Array)return iO(p,v);if(p instanceof ArrayBuffer)return iO(new Uint8Array(p),v);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new vL(p,c);var p}(t,rv(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function lC(n,e,t){const i=et(n);var r;(r=(0,ve.Z)(function*(s,c,h){try{const p=yield c.getMetadata();if(yield function(M,F){const U=et(M),W=Wi(F.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",ee=>U.qs.getBundleMetadata(ee,F.id)).then(ee=>!!ee&&ee.createTime.compareTo(W)>=0)}(s.localStore,p))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(M=p).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);h._updateProgress(fA(p));const v=new hA(p,s.localStore,c.serializer);let C=yield c.bc();for(;C;){const M=yield v.zu(C);M&&h._updateProgress(M),C=yield c.bc()}const D=yield v.complete();return yield Bu(s,D.Ju,void 0),yield function(M,F){const U=et(M);return U.persistence.runTransaction("Save bundle","readwrite",W=>U.qs.saveBundleMetadata(W,F))}(s.localStore,p),h._completeWith(D.progress),Promise.resolve(D.Hu)}catch(p){return ha("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var M}),function(s,c,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield pC(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function E(n,e){return function AA(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,i){const r=et(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield pv(n),e)}))}(ur(n=sn(n,vi)),e).then(t=>t?new eo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Vs(this,t):null)}}class HA extends EO{constructor(e){super(),this.firestore=e}convertBytes(e){return new TC(new V(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Qc.forKey(t,this.firestore,null)}}class zL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new HA(e)}get(e){const t=wv(e);return this._delegate.get(t).then(i=>new DC(this._firestore,new Sf(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=wv(e);return i?(IO("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=wv(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=wv(e);return this._delegate.delete(t),this}}class $L{constructor(e){this._delegate=e}set(e,t,i){const r=wv(e);return i?(IO("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=wv(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=wv(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class bv{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new IC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new SC(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=bv.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new bv(e,new HA(e),t),r.set(t,s)),s}}bv.INSTANCES=new WeakMap;class Qc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new HA(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qc(t,new _i(t._delegate,i,new Xe(e)))}static forKey(e,t,i){return new Qc(t,new _i(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new C0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new C0(this.firestore,uO(this._delegate,e))}catch(t){throw Bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,P.m9)(e))instanceof _i&&fO(this._delegate,e)}set(e,t){t=IO("DocumentReference.set",t);try{return t?PL(this._delegate,e,t):PL(this._delegate,e)}catch(i){throw Bs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?FL(this._delegate,e):FL(this._delegate,e,t,...i)}catch(r){throw Bs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function AH(n){return E0(sn(n.firestore,vi),[new sd(n._key,gi.none())])}(this._delegate)}onSnapshot(...e){const t=GL(e),i=qL(e,r=>new DC(this.firestore,new Sf(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return LL(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function CH(n){n=sn(n,_i);const e=sn(n.firestore,vi),t=ur(e),i=new Mp(e);return function lO(n,e){const t=new qi;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,s,c){try{const h=yield function(p,v){const C=et(p);return C.persistence.runTransaction("read document","readonly",D=>C.localDocuments.getDocument(D,v))}(r,s);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Re(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=Tp(h,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield pv(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Sf(e,i,n._key,r,new yv(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function IH(n){n=sn(n,_i);const e=sn(n.firestore,vi);return TA(ur(e),n._key,{source:"server"}).then(t=>CO(e,n,t))}(this._delegate):function EH(n){n=sn(n,_i);const e=sn(n.firestore,vi);return TA(ur(e),n._key).then(t=>CO(e,n,t))}(this._delegate),t.then(i=>new DC(this.firestore,new Sf(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Qc(this.firestore,this._delegate.withConverter(e?bv.getInstance(this.firestore,e):null))}}function Bs(n,e,t){return n.message=n.message.replace(e,t),n}function GL(n){for(const e of n)if("object"==typeof e&&!TO(e))return e;return{}}function qL(n,e){var t,i;let r;return r=TO(n[0])?n[0]:TO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class DC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Qc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return NL(this._delegate,e._delegate)}}class SC extends DC{data(e){const t=this._delegate.data(e);return function rL(n,e){n||dt()}(void 0!==t),t}}class Vs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new HA(e)}where(e,t,i){try{return new Vs(this.firestore,Ap(this._delegate,function hH(n,e,t){const i=e,r=LA("where",n);return CC._create(r,i,t)}(e,t,i)))}catch(r){throw Bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Vs(this.firestore,Ap(this._delegate,function fH(n,e="asc"){const t=e,i=LA("orderBy",n);return xO._create(i,t)}(e,t)))}catch(i){throw Bs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vs(this.firestore,Ap(this._delegate,function mH(n){return vC("limit",n),BA._create("limit",n,"F")}(e)))}catch(t){throw Bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Vs(this.firestore,Ap(this._delegate,function pH(n){return vC("limitToLast",n),BA._create("limitToLast",n,"L")}(e)))}catch(t){throw Bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Vs(this.firestore,Ap(this._delegate,function gH(...n){return VA._create("startAt",n,!0)}(...e)))}catch(t){throw Bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Vs(this.firestore,Ap(this._delegate,function _H(...n){return VA._create("startAfter",n,!1)}(...e)))}catch(t){throw Bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Vs(this.firestore,Ap(this._delegate,function vH(...n){return UA._create("endBefore",n,!1)}(...e)))}catch(t){throw Bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Vs(this.firestore,Ap(this._delegate,function yH(...n){return UA._create("endAt",n,!0)}(...e)))}catch(t){throw Bs(t,"endAt()","Query.endAt()")}}isEqual(e){return OA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function DH(n){n=sn(n,eo);const e=sn(n.firestore,vi),t=ur(e),i=new Mp(e);return function DA(n,e){const t=new qi;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,s,c){try{const h=yield zb(r,s,!0),p=new Jb(s,h.ir),v=p.sc(h.documents),C=p.applyChanges(v,!1);c.resolve(C.snapshot)}catch(h){const p=Tp(h,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield pv(n),e,t);var i})),t.promise}(t,n._query).then(r=>new kp(e,i,n,r))}(this._delegate):"server"===e?.source?function SH(n){n=sn(n,eo);const e=sn(n.firestore,vi),t=ur(e),i=new Mp(e);return gC(t,n._query,{source:"server"}).then(r=>new kp(e,i,n,r))}(this._delegate):function TH(n){n=sn(n,eo);const e=sn(n.firestore,vi),t=ur(e),i=new Mp(e);return DL(n._query),gC(t,n._query).then(r=>new kp(e,i,n,r))}(this._delegate),t.then(i=>new DO(this.firestore,new kp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=GL(e),i=qL(e,r=>new DO(this.firestore,new kp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return LL(this._delegate,t,i)}withConverter(e){return new Vs(this.firestore,this._delegate.withConverter(e?bv.getInstance(this.firestore,e):null))}}class JH{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new SC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class DO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Vs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new SC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new JH(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new SC(this._firestore,i))})}isEqual(e){return NL(this._delegate,e._delegate)}}class C0 extends Vs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qc(this.firestore,e):null}doc(e){try{return new Qc(this.firestore,void 0===e?b0(this._delegate):b0(this._delegate,e))}catch(t){throw Bs(t,"doc()","CollectionReference.doc()")}}add(e){return function kH(n,e){const t=sn(n.firestore,vi),i=b0(n),r=jA(n.converter,e);return E0(t,[fa(hr(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,gi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Qc(this.firestore,t))}isEqual(e){return fO(this._delegate,e._delegate)}withConverter(e){return new C0(this.firestore,this._delegate.withConverter(e?bv.getInstance(this.firestore,e):null))}}function wv(n){return sn(n,_i)}class SO{constructor(...e){this._delegate=new Z(...e)}static documentId(){return new SO(Ni.keyField().canonicalString())}isEqual(e){return(e=(0,P.m9)(e))instanceof Z&&this._delegate._internalPath.isEqual(e._internalPath)}}class xv{constructor(e){this._delegate=e}static serverTimestamp(){const e=function $H(){return new bC("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new xv(e)}static delete(){const e=function zH(){return new Yc("deleteField")}();return e._methodName="FieldValue.delete",new xv(e)}static arrayUnion(...e){const t=function GH(...n){return new _O("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new xv(t)}static arrayRemove(...e){const t=function qH(...n){return new cH("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new xv(t)}static increment(e){const t=function WH(n){return new lH("increment",n)}(e);return t._methodName="FieldValue.increment",new xv(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ez={Firestore:HL,GeoPoint:Ve,Timestamp:Yn,Blob:TC,Transaction:zL,WriteBatch:$L,DocumentReference:Qc,DocumentSnapshot:DC,Query:Vs,QueryDocumentSnapshot:SC,QuerySnapshot:DO,CollectionReference:C0,FieldPath:SO,FieldValue:xv,setLogLevel:function XH(n){!function F1(n){Xl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function nz(n){(function tz(n,e){n.INTERNAL.registerComponent(new As.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},ez)))})(n,(e,t)=>new HL(e,t,new QH)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(vT.Z);var AC=L(3019),zA=L(3093),iz=L(4552);class rz extends yn.x{constructor(e=1/0,t=1/0,i=iz.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;t||(i.push(e),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!e.closed;c+=i?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=t.now();let h=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)h=p;h&&i.splice(0,h+1)}}}var AO=L(3020);function kO(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,AO.B)({connector:()=>new rz(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function WL(n,e){return(0,bs.m)(e)?(0,kn.w)(()=>n,e):(0,kn.w)(()=>n)}var MO=L(5137);L(4097);const OO=new Map,KL={activated:!1,tokenObservers:[]},lz={initialized:!1,enabled:!1};function fr(n){return OO.get(n)||Object.assign({},KL)}function GA(){return lz}const NO="https://content-firebaseappcheck.googleapis.com/v1",fz="exchangeDebugToken",YL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class pz{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new P.BH,yield function gz(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new P.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Lo=new P.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function PO(n){if(!fr(n).activated)throw Lo.create("use-before-activation",{appName:n.name})}function ZA(n,e){return LO.apply(this,arguments)}function LO(){return LO=(0,ve.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const D=yield r.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const s={method:"POST",body:JSON.stringify(e),headers:i};let c,h;try{c=yield fetch(n,s)}catch(D){throw Lo.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==c.status)throw Lo.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(D){throw Lo.create("fetch-parse-error",{originalErrorMessage:D?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Lo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(p[1]),C=Date.now();return{token:h.token,expireTimeMillis:C+v,issuedAtTimeMillis:C}}),LO.apply(this,arguments)}function QL(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${NO}/projects/${t}/apps/${i}:${fz}?key=${r}`,body:{debug_token:e}}}const bz="firebase-app-check-database",wz=1,kC="firebase-app-check-store";let KA=null;function BO(){return BO=(0,ve.Z)(function*(n,e){const i=(yield function JL(){return KA||(KA=new Promise((n,e)=>{try{const t=indexedDB.open(bz,wz);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Lo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(kC,{keyPath:"compositeKey"})}}catch(t){e(Lo.create("storage-open",{originalErrorMessage:t?.message}))}}),KA)}()).transaction(kC,"readwrite"),s=i.objectStore(kC).put({compositeKey:n,value:e});return new Promise((c,h)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var v;h(Lo.create("storage-set",{originalErrorMessage:null===(v=p.target.error)||void 0===v?void 0:v.message}))}})}),BO.apply(this,arguments)}const MC=new ks.Yd("@firebase/app-check");function jO(n,e){return(0,P.hl)()?function Ez(n,e){return function e2(n,e){return BO.apply(this,arguments)}(function n2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{MC.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function zO(){return GA().enabled}function $O(){return GO.apply(this,arguments)}function GO(){return GO=(0,ve.Z)(function*(){const n=GA();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),GO.apply(this,arguments)}const Az={error:"UNKNOWN_ERROR"};function kz(n){return P.US.encodeString(JSON.stringify(n),!1)}function YA(n){return qO.apply(this,arguments)}function qO(){return qO=(0,ve.Z)(function*(n,e=!1){const t=n.app;PO(t);const i=fr(t);let s,r=i.token;if(r&&!I0(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(I0(p)?r=p:yield jO(t,void 0))}if(!e&&r&&I0(r))return{token:r.token};let h,c=!1;if(zO()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ZA(QL(t,yield $O()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const p=yield i.exchangeTokenPromise;return yield jO(t,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield fr(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?MC.warn(p.message):MC.error(p),s=p}return r?s?h=I0(r)?{token:r.token,internalError:s}:a2(s):(h={token:r.token},i.token=r,yield jO(t,r)):h=a2(s),c&&function s2(n,e){const t=fr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,h),h}),qO.apply(this,arguments)}function WO(){return WO=(0,ve.Z)(function*(n){const e=n.app;PO(e);const{provider:t}=fr(e);if(zO()){const i=yield $O(),{token:r}=yield ZA(QL(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}}),WO.apply(this,arguments)}function KO(n,e){const t=fr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function o2(n){const{app:e}=n,t=fr(e);let i=t.tokenRefresher;i||(i=function Mz(n){const{app:e}=n;return new pz((0,ve.Z)(function*(){let i;if(i=fr(e).token?yield YA(n,!0):yield YA(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=fr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},YL.RETRIAL_MIN_WAIT,YL.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function I0(n){return n.expireTimeMillis-Date.now()>0}function a2(n){return{token:kz(Az),error:n}}class Rz{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=fr(this.app);for(const t of e)KO(this.app,t.next);return Promise.resolve()}}const p2="app-check-internal";!function qz(){(0,Ao._registerComponent)(new As.wA("app-check",n=>function Oz(n,e){return new Rz(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(p2).initialize()})),(0,Ao._registerComponent)(new As.wA(p2,n=>function Nz(n){return{getToken:e=>YA(n,e),getLimitedUseToken:()=>function r2(n){return WO.apply(this,arguments)}(n),addTokenListener:e=>function ZO(n,e,t,i){const{app:r}=n,s=fr(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&I0(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),o2(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>o2(n))}(n,"INTERNAL",e),removeTokenListener:e=>KO(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ao.registerVersion)("@firebase/app-check","0.8.0")}();class RC{constructor(){return(0,Dn.vb)("app-check")}}typeof window<"u"&&window;var XA=L(120);const eN=new d.OlP("angularfire2.auth.use-emulator"),tN=new d.OlP("angularfire2.auth.settings"),nN=new d.OlP("angularfire2.auth.tenant-id"),iN=new d.OlP("angularfire2.auth.langugage-code"),rN=new d.OlP("angularfire2.auth.use-device-language"),oN=new d.OlP("angularfire.auth.persistence"),sN=(n,e,t,i,r,s,c,h)=>(0,Ir.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[v,C]of Object.entries(c))p.settings[v]=C;return h&&p.setPersistence(h),p},[t,i,r,s,c,h]);let OC=(()=>{class n{constructor(t,i,r,s,c,h,p,v,C,D,M,F){const U=new yn.x,W=(0,ot.of)(void 0).pipe((0,zA.Q)(c.outsideAngular),(0,kn.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,8977)))),(0,ft.U)(()=>(0,Ir.on)(t,s,i)),(0,ft.U)(ee=>sN(ee,s,h,v,C,D,p,M)),kO({bufferSize:1,refCount:!1}));if(hl(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ot.of)(null);else{W.pipe(ia()).subscribe();const ke=W.pipe((0,kn.w)(We=>We.getRedirectResult().then(Et=>Et,()=>null)),Dn.iC,kO({bufferSize:1,refCount:!1})),ze=W.pipe((0,kn.w)(We=>new Ei.y(Et=>({unsubscribe:s.runOutsideAngular(()=>We.onAuthStateChanged(Tt=>Et.next(Tt),Tt=>Et.error(Tt),()=>Et.complete()))})))),Fe=W.pipe((0,kn.w)(We=>new Ei.y(Et=>({unsubscribe:s.runOutsideAngular(()=>We.onIdTokenChanged(Tt=>Et.next(Tt),Tt=>Et.error(Tt),()=>Et.complete()))}))));this.authState=ke.pipe(WL(ze),(0,MO.R)(c.outsideAngular),(0,zA.Q)(c.insideAngular)),this.user=ke.pipe(WL(Fe),(0,MO.R)(c.outsideAngular),(0,zA.Q)(c.insideAngular)),this.idToken=this.user.pipe((0,kn.w)(We=>We?(0,mn.D)(We.getIdToken()):(0,ot.of)(null))),this.idTokenResult=this.user.pipe((0,kn.w)(We=>We?(0,mn.D)(We.getIdTokenResult()):(0,ot.of)(null))),this.credential=(0,AC.T)(ke,U,this.authState.pipe(zi(We=>!We))).pipe((0,ft.U)(We=>We?.user?We:null),(0,MO.R)(c.outsideAngular),(0,zA.Q)(c.insideAngular))}return(0,Ir.pX)(this,W,s,{spy:{apply:(ee,ke,ze)=>{(ee.startsWith("signIn")||ee.startsWith("createUser"))&&ze.then(Fe=>U.next(Fe))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ir.Dh),d.LFG(Ir.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Dn.HU),d.LFG(eN,8),d.LFG(tN,8),d.LFG(nN,8),d.LFG(iN,8),d.LFG(rN,8),d.LFG(oN,8),d.LFG(RC,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Xz=(()=>{class n{constructor(){XA.Z.registerVersion("angularfire",Dn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[OC]}),n})();function _2(n,e){return function Jz(n,e=Ug.z){return new Ei.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function aN(n,e){return _2(n,e).pipe((0,ft.U)(t=>({payload:t,type:"query"})))}function JA(n,e){return aN(n,e).pipe(Cs(void 0),Cw(),(0,ft.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const p=r.find(C=>C.doc.ref.isEqual(c.ref)),v=t?.payload.docs.find(C=>C.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),s}))}function v2(n,e,t){return JA(n,t).pipe(Xo((i,r)=>function t6(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function n6(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return cN(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return cN(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cN(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),(0,Iw.x)(),(0,ft.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function cN(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function y2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class b2{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=JA(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ft.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Cs(void 0),Cw(),zi(([i,r])=>r.length>0||!i),(0,ft.U)(([i,r])=>r),Dn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Xo((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=y2(e);return v2(this.query,t,this.afs.schedulers.outsideAngular).pipe(Dn.iC)}valueChanges(e={}){return aN(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Dn.iC)}get(e){return(0,mn.D)(this.query.get(e)).pipe(Dn.iC)}add(e){return this.ref.add(e)}doc(e){return new w2(this.ref.doc(e),this.afs)}}class w2{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=C2(i,t);return new b2(r,s,this.afs)}snapshotChanges(){return function e6(n,e){return _2(n,e).pipe(Cs(void 0),Cw(),(0,ft.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Dn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ft.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,mn.D)(this.ref.get(e)).pipe(Dn.iC)}}class i6{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?JA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),zi(t=>t.length>0),Dn.iC):JA(this.query,this.afs.schedulers.outsideAngular).pipe(Dn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Xo((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=y2(e);return v2(this.query,t,this.afs.schedulers.outsideAngular).pipe(Dn.iC)}valueChanges(e={}){return aN(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Dn.iC)}get(e){return(0,mn.D)(this.query.get(e)).pipe(Dn.iC)}}const x2=new d.OlP("angularfire2.enableFirestorePersistence"),E2=new d.OlP("angularfire2.firestore.persistenceSettings"),r6=new d.OlP("angularfire2.firestore.settings"),o6=new d.OlP("angularfire2.firestore.use-emulator");function C2(n,e=(t=>t)){return{query:e(n),ref:n}}let lN,I2=(()=>{class n{constructor(t,i,r,s,c,h,p,v,C,D,M,F,U,W,ee,ke,ze){this.schedulers=p;const Fe=(0,Ir.on)(t,h,i),We=C;D&&sN(Fe,h,M,U,W,ee,F,ke),[this.firestore,this.persistenceEnabled$]=(0,Ir.cc)(`${Fe.name}.firestore`,"AngularFirestore",Fe.name,()=>{const Et=h.runOutsideAngular(()=>Fe.firestore());if(s&&Et.settings(s),We&&Et.useEmulator(...We),r&&!hl(c)){const Tt=()=>{try{return(0,mn.D)(Et.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(un){return typeof console<"u"&&console.warn(un),(0,ot.of)(!1)}};return[Et,h.runOutsideAngular(Tt)]}return[Et,(0,ot.of)(!1)]},[s,We,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=C2(r,i),h=this.schedulers.ngZone.run(()=>s);return new b2(h,c,this)}collectionGroup(t,i){const r=i||(c=>c),s=this.firestore.collectionGroup(t);return new i6(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new w2(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ir.Dh),d.LFG(Ir.xv,8),d.LFG(x2,8),d.LFG(r6,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Dn.HU),d.LFG(E2,8),d.LFG(o6,8),d.LFG(OC,8),d.LFG(eN,8),d.LFG(tN,8),d.LFG(nN,8),d.LFG(iN,8),d.LFG(rN,8),d.LFG(oN,8),d.LFG(RC,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),s6=(()=>{class n{constructor(){XA.Z.registerVersion("angularfire",Dn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:x2,useValue:!0},{provide:E2,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[I2]}),n})(),Op=(()=>{class n{constructor(t,i,r,s){this.afs=t,this.afAuth=i,this.router=r,this.ngZone=s,this.isAuthenticatedSubject=new ir.X(!1),this.isLoading=new yn.x,this.isLoading$=this.isLoading.asObservable(),this.afAuth.authState.subscribe(c=>{c?(this.userData=c,localStorage.setItem("user",JSON.stringify(this.userData)),this.isAuthenticatedSubject.next(!0),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),this.isAuthenticatedSubject.next(!1),JSON.parse(localStorage.getItem("user")))})}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}SignIn(t,i){setTimeout(()=>(this.isLoading.next(!1),this.afAuth.signInWithEmailAndPassword(t,i).then(r=>{this.SetUserData(r.user),this.afAuth.authState.subscribe(s=>{s&&this.router.navigate(["top-headlines"])})}).catch(r=>{window.alert(r.message)})),2e3)}SignUp(t,i){setTimeout(()=>(this.isLoading.next(!1),this.afAuth.createUserWithEmailAndPassword(t,i).then(r=>{this.SendVerificationMail(),this.SetUserData(r.user)}).catch(r=>{window.alert(r.message)})),2e3)}SendVerificationMail(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(t){setTimeout(()=>(this.isLoading.next(!1),this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(i=>{window.alert(i)})),2e3)}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified,likedArticles:[]},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["login"])})}isAuthenticated(){return this.isAuthenticatedSubject.asObservable()}getUserData(){return this.afAuth.authState.pipe((0,kn.w)(t=>t?this.afs.doc(`users/${t.uid}`).valueChanges():(0,ot.of)(null)))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(I2),d.LFG(OC),d.LFG(Cr),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{lN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{lN=!1}let T0,ma=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function xa(n){return n===Gn}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!lN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(d.Lbi))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const T2=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function D2(){if(T0)return T0;if("object"!=typeof document||!document)return T0=new Set(T2),T0;let n=document.createElement("input");return T0=new Set(T2.filter(e=>(n.setAttribute("type",e),n.type===e))),T0}let NC,dN;function PC(n){return function a6(){if(null==NC&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>NC=!0}))}finally{NC=NC||!1}return NC}()?n:!!n.capture}function D0(n){return n.composedPath?n.composedPath()[0]:n.target}function tk(n,e=Ug.z){return(0,ki.e)((t,i)=>{let r=null,s=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=s;s=null,i.next(v)}};function p(){const v=c+n,C=e.now();if(C<v)return r=this.schedule(void 0,v-C),void i.add(r);h()}t.subscribe((0,An.x)(i,v=>{s=v,c=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}function k2(n){return zi((e,t)=>n<=t)}function ei(n){return null!=n&&"false"!=`${n}`}function FC(n,e=0){return function M6(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function M2(n){return Array.isArray(n)?n:[n]}function Np(n){return n instanceof d.SBq?n.nativeElement:n}const R2=new Set;let Cv,R6=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):N6}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function O6(n,e){if(!R2.has(n))try{Cv||(Cv=document.createElement("style"),e&&(Cv.nonce=e),Cv.setAttribute("type","text/css"),document.head.appendChild(Cv)),Cv.sheet&&(Cv.sheet.insertRule(`@media ${n} {body{ }}`,0),R2.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ma),d.LFG(d.Ojb,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function N6(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let P6=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new yn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return O2(M2(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=To(O2(M2(t)).map(c=>this._registerQuery(c).observable));return s=rr(s.pipe(Qo(1)),s.pipe(k2(1),tk(0))),s.pipe((0,ft.U)(c=>{const h={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:v})=>{h.matches=h.matches||p,h.breakpoints[v]=p}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new Ei.y(c=>{const h=p=>this._zone.run(()=>c.next(p));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Cs(i),(0,ft.U)(({matches:c})=>({query:t,matches:c})),ao(this._destroySubject)),mql:i};return this._queries.set(t,s),s}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(R6),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function O2(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function L2(n){return 0===n.buttons||0===n.detail}function B2(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const G6=new d.OlP("cdk-input-modality-detector-options"),q6={ignoreKeys:[18,17,224,91,16]},S0=PC({passive:!0,capture:!0});let W6=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new ir.X(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(h=>h===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=D0(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(L2(c)?"keyboard":"mouse"),this._mostRecentTarget=D0(c))},this._onTouchstart=c=>{B2(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=D0(c))},this._options={...q6,...s},this.modalityDetected=this._modality.pipe(k2(1)),this.modalityChanged=this.modalityDetected.pipe((0,Iw.x)()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,S0),r.addEventListener("mousedown",this._onMousedown,S0),r.addEventListener("touchstart",this._onTouchstart,S0)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,S0),document.removeEventListener("mousedown",this._onMousedown,S0),document.removeEventListener("touchstart",this._onTouchstart,S0))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ma),d.LFG(d.R0b),d.LFG(te),d.LFG(G6,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const K6=new d.OlP("cdk-focus-monitor-default-options"),nk=PC({passive:!0,capture:!0});let uN=(()=>{class n{constructor(t,i,r,s,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new yn.x,this._rootNodeFocusAndBlurListener=h=>{for(let v=D0(h);v;v=v.parentElement)"focus"===h.type?this._onFocus(h,v):this._onBlur(h,v)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(t,i=!1){const r=Np(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,ot.of)();const s=function l6(n){if(function c6(){if(null==dN){const n=typeof document<"u"?document.head:null;dN=!(!n||!n.createShadowRoot&&!n.attachShadow)}return dN}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const h={checkChildren:i,subject:new yn.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=Np(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Np(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,p])=>this._originChanged(h,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=D0(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,nk),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,nk)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ao(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,nk),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,nk),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(d.R0b),d.LFG(ma),d.LFG(W6),d.LFG(te,8),d.LFG(K6,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const U2="cdk-high-contrast-black-on-white",j2="cdk-high-contrast-white-on-black",hN="cdk-high-contrast-active";let Y6=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,d.f3M)(P6).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(hN,U2,j2),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(hN,U2):2===i&&t.add(hN,j2)}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ma),d.LFG(te))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Q6=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function X6(){return(0,d.f3M)(te)}}),J6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let t$=(()=>{class n{constructor(t){this.value="ltr",this.change=new d.vpe,t&&(this.value=function e$(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?J6.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Q6,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),H2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();const i$=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function n$(){return!0}});let yi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function u6(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Y6),d.LFG(i$,8),d.LFG(te))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[H2,H2]})}return n})();function G2(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=ei(e)}constructor(...e){super(...e),this._disabled=!1}}}function LC(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function fN(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ei(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function o$(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let a$=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class c${constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const q2=PC({passive:!0,capture:!0});class l${constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=D0(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const c=s.get(i);c?c.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,q2)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,q2)))}}const W2={enterDuration:225,exitDuration:150},Z2=PC({passive:!0,capture:!0}),K2=["mousedown","touchstart"],Y2=["mouseup","mouseleave","touchend","touchcancel"];class VC{static#e=this._eventManager=new l$;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Np(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...W2,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function u$(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,p=t-r.top,v=s.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=h-c+"px",C.style.top=p-c+"px",C.style.height=2*c+"px",C.style.width=2*c+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(C);const D=window.getComputedStyle(C),F=D.transitionDuration,U="none"===D.transitionProperty||"0s"===F||"0s, 0s"===F||0===r.width&&0===r.height,W=new c$(this,C,i,U);C.style.transform="scale3d(1, 1, 1)",W.state=0,i.persistent||(this._mostRecentTransientRipple=W);let ee=null;return!U&&(v||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ke=()=>this._finishRippleTransition(W),ze=()=>this._destroyRipple(W);C.addEventListener("transitionend",ke),C.addEventListener("transitioncancel",ze),ee={onTransitionEnd:ke,onTransitionCancel:ze}}),this._activeRipples.set(W,ee),(U||!v)&&this._finishRippleTransition(W),W}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...W2,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Np(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,K2.forEach(i=>{VC._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Y2.forEach(t=>{this._triggerElement.addEventListener(t,this,Z2)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=L2(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!B2(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(K2.forEach(t=>VC._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Y2.forEach(t=>e.removeEventListener(t,this,Z2)))}}const ik=new d.OlP("mat-ripple-global-options");let mN=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new VC(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(ma),d.Y36(ik,8),d.Y36(d.QbO,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&d.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),rk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[yi,yi]})}return n})(),h$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[yi]})}return n})();const Q2={capture:!0},X2=["focus","click","mouseenter","touchstart"],pN="mat-ripple-loader-uninitialized",gN="mat-ripple-loader-class-name",J2="mat-ripple-loader-centered",ok="mat-ripple-loader-disabled";let f$=(()=>{class n{constructor(){this._document=(0,d.f3M)(te,{optional:!0}),this._animationMode=(0,d.f3M)(d.QbO,{optional:!0}),this._globalRippleOptions=(0,d.f3M)(ik,{optional:!0}),this._platform=(0,d.f3M)(ma),this._ngZone=(0,d.f3M)(d.R0b),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${pN}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of X2)this._document?.addEventListener(t,this._onInteraction,Q2)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of X2)this._document?.removeEventListener(i,this._onInteraction,Q2)}configureRipple(t,i){t.setAttribute(pN,""),(i.className||!t.hasAttribute(gN))&&t.setAttribute(gN,i.className||""),i.centered&&t.setAttribute(J2,""),i.disabled&&t.setAttribute(ok,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const r=this._hosts.get(t);r?r.disabled=i:i?t.setAttribute(ok,""):t.removeAttribute(ok)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(gN)),t.append(r);const s=new mN(new d.SBq(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=t,s.centered=t.hasAttribute(J2),s.disabled=t.hasAttribute(ok),this.attachRipple(t,s),s}attachRipple(t,i){t.removeAttribute(pN),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const eB=["mat-button",""],tB=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],nB=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],g$=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],_$=LC(G2(fN(class{constructor(n){this._elementRef=n}})));let iB=(()=>{class n extends _${get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ei(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=ei(t),this._updateRippleDisabled()}constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,d.f3M)(uN),this._rippleLoader=(0,d.f3M)(f$),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const c=t.nativeElement.classList;for(const h of g$)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(p=>{c.add(p)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){d.$Z()};static#t=this.\u0275dir=d.lG2({type:n,features:[d.qOj]})}return n})(),y$=(()=>{class n extends iB{constructor(t,i,r,s){super(t,i,r,s),this._haltDisabledEvents=c=>{this.disabled&&(c.preventDefault(),c.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}static#e=this.\u0275fac=function(i){d.$Z()};static#t=this.\u0275dir=d.lG2({type:n,features:[d.qOj]})}return n})(),A0=(()=>{class n extends iB{constructor(t,i,r,s){super(t,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(ma),d.Y36(d.R0b),d.Y36(d.QbO,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(d.uIk("disabled",r.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:eB,ngContentSelectors:nB,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(d.F$t(tB),d._UZ(0,"span",0),d.Hsn(1),d.TgZ(2,"span",1),d.Hsn(3,1),d.qZA(),d.Hsn(4,2),d._UZ(5,"span",2)(6,"span",3)),2&i&&d.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),b$=(()=>{class n extends y${constructor(t,i,r,s){super(t,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(ma),d.Y36(d.R0b),d.Y36(d.QbO,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(i,r){2&i&&(d.uIk("disabled",r.disabled||null)("tabindex",r.disabled?-1:r.tabIndex)("aria-disabled",r.disabled.toString()),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[d.qOj],attrs:eB,ngContentSelectors:nB,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(d.F$t(tB),d._UZ(0,"span",0),d.Hsn(1),d.TgZ(2,"span",1),d.Hsn(3,1),d.qZA(),d.Hsn(4,2),d._UZ(5,"span",2)(6,"span",3)),2&i&&d.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),sk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[yi,rk,yi]})}return n})(),k0=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=ei(t)}get inset(){return this._inset}set inset(t){this._inset=ei(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){2&i&&(d.uIk("aria-orientation",r.vertical?"vertical":"horizontal"),d.ekj("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{--mat-divider-width:1px;display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return n})(),ak=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[yi,yi]})}return n})();const x$=["*"],I$=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],T$=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],D$=new d.OlP("MAT_CARD_CONFIG");let Pp=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(D$,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&d.ekj("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:x$,decls:1,vars:0,template:function(i,r){1&i&&(d.F$t(),d.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),ck=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})(),M0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),lk=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){2&i&&d.ekj("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})(),Iv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:T$,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(d.F$t(I$),d.Hsn(0),d.TgZ(1,"div",0),d.Hsn(2,1),d.qZA(),d.Hsn(3,2))},encapsulation:2,changeDetection:0})}return n})(),UC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return n})(),rB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[yi,Di,yi]})}return n})();class k${constructor(e){this._box=e,this._destroyed=new yn.x,this._resizeSubject=new yn.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Ei.y(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(zi(t=>t.some(i=>i.target===e)),kO({bufferSize:1,refCount:!0}),ao(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let M$=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,d.f3M)(d.R0b)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new k$(r)),this._observers.get(r).observe(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oB=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[oB]})}return n})();const N$=["notch"],P$=["matFormFieldNotchedOutline",""],F$=["*"],L$=["textField"],B$=["iconPrefixContainer"],V$=["textPrefixContainer"];function U$(n,e){1&n&&d._UZ(0,"span",19)}function j$(n,e){if(1&n&&(d.TgZ(0,"label",17),d.Hsn(1,1),d.YNc(2,U$,1,0,"span",18),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),d.uIk("for",t._control.id),d.xp6(2),d.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function H$(n,e){if(1&n&&d.YNc(0,j$,3,5,"label",16),2&n){const t=d.oxw();d.Q6J("ngIf",t._hasFloatingLabel())}}function z$(n,e){1&n&&d._UZ(0,"div",20)}function $$(n,e){}function G$(n,e){if(1&n&&d.YNc(0,$$,0,0,"ng-template",22),2&n){d.oxw(2);const t=d.MAs(1);d.Q6J("ngTemplateOutlet",t)}}function q$(n,e){if(1&n&&(d.TgZ(0,"div",21),d.YNc(1,G$,1,1,"ng-template",9),d.qZA()),2&n){const t=d.oxw();d.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),d.xp6(1),d.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function W$(n,e){1&n&&(d.TgZ(0,"div",23,24),d.Hsn(2,2),d.qZA())}function Z$(n,e){1&n&&(d.TgZ(0,"div",25,26),d.Hsn(2,3),d.qZA())}function K$(n,e){}function Y$(n,e){if(1&n&&d.YNc(0,K$,0,0,"ng-template",22),2&n){d.oxw();const t=d.MAs(1);d.Q6J("ngTemplateOutlet",t)}}function Q$(n,e){1&n&&(d.TgZ(0,"div",27),d.Hsn(1,4),d.qZA())}function X$(n,e){1&n&&(d.TgZ(0,"div",28),d.Hsn(1,5),d.qZA())}function J$(n,e){1&n&&d._UZ(0,"div",29)}function e5(n,e){if(1&n&&(d.TgZ(0,"div",30),d.Hsn(1,6),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function t5(n,e){if(1&n&&(d.TgZ(0,"mat-hint",34),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(1),d.Oqu(t.hintLabel)}}function n5(n,e){if(1&n&&(d.TgZ(0,"div",31),d.YNc(1,t5,2,2,"mat-hint",32),d.Hsn(2,7),d._UZ(3,"div",33),d.Hsn(4,8),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",t.hintLabel)}}const r5=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],o5=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let R0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-label"]]})}return n})();const s5=new d.OlP("MatError");let a5=0,_N=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+a5++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(d.Ikx("id",r.id),d.uIk("align",null),d.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const c5=new d.OlP("MatPrefix"),aB=new d.OlP("MatSuffix");let l5=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[d._Bn([{provide:aB,useExisting:n}])]})}return n})();const cB=new d.OlP("FloatingLabelParent");let lB=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,d.f3M)(M$),this._ngZone=(0,d.f3M)(d.R0b),this._parent=(0,d.f3M)(cB),this._resizeSubscription=new Nn.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function d5(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&d.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const dB="mdc-line-ripple--active",dk="mdc-line-ripple--deactivating";let uB=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,c=s.contains(dk);"opacity"===r.propertyName&&c&&s.remove(dB,dk)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(dk),t.add(dB)}deactivate(){this._elementRef.nativeElement.classList.add(dk)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),hB=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&d.Gf(N$,5),2&i){let s;d.iGM(s=d.CRH())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&d.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:P$,ngContentSelectors:F$,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(d.F$t(),d._UZ(0,"div",0),d.TgZ(1,"div",1,2),d.Hsn(3),d.qZA(),d._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const u5={transitionMessages:ns("transitionMessages",[jh("enter",on({opacity:1,transform:"translateY(0%)"})),Ri("void => enter",[on({opacity:0,transform:"translateY(-5px)"}),pi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let fB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n})}return n})();const mB=new d.OlP("MatFormField"),h5=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let pB=0,uk=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ei(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,c,h,p,v){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=c,this._defaults=h,this._animationMode=p,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+pB++,this._hintLabelId="mat-mdc-hint-"+pB++,this._subscriptAnimationState="",this._destroyed=new yn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,h&&(h.appearance&&(this.appearance=h.appearance),this._hideRequiredMarker=!!h?.hideRequiredMarker,h.color&&(this.color=h.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ao(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,AC.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ao(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(ao(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+c}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(t$),d.Y36(ma),d.Y36(h5,8),d.Y36(d.QbO,8),d.Y36(te))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(d.Suo(s,R0,5),d.Suo(s,R0,7),d.Suo(s,fB,5),d.Suo(s,c5,5),d.Suo(s,aB,5),d.Suo(s,s5,5),d.Suo(s,_N,5)),2&i){let c;d.iGM(c=d.CRH())&&(r._labelChildNonStatic=c.first),d.iGM(c=d.CRH())&&(r._labelChildStatic=c.first),d.iGM(c=d.CRH())&&(r._formFieldControl=c.first),d.iGM(c=d.CRH())&&(r._prefixChildren=c),d.iGM(c=d.CRH())&&(r._suffixChildren=c),d.iGM(c=d.CRH())&&(r._errorChildren=c),d.iGM(c=d.CRH())&&(r._hintChildren=c)}},viewQuery:function(i,r){if(1&i&&(d.Gf(L$,5),d.Gf(B$,5),d.Gf(V$,5),d.Gf(lB,5),d.Gf(hB,5),d.Gf(uB,5)),2&i){let s;d.iGM(s=d.CRH())&&(r._textField=s.first),d.iGM(s=d.CRH())&&(r._iconPrefixContainer=s.first),d.iGM(s=d.CRH())&&(r._textPrefixContainer=s.first),d.iGM(s=d.CRH())&&(r._floatingLabel=s.first),d.iGM(s=d.CRH())&&(r._notchedOutline=s.first),d.iGM(s=d.CRH())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&d.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:mB,useExisting:n},{provide:cB,useExisting:n}])],ngContentSelectors:o5,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(d.F$t(r5),d.YNc(0,H$,1,1,"ng-template",null,0,d.W1O),d.TgZ(2,"div",1,2),d.NdJ("click",function(c){return r._control.onContainerClick(c)}),d.YNc(4,z$,1,0,"div",3),d.TgZ(5,"div",4),d.YNc(6,q$,2,2,"div",5),d.YNc(7,W$,3,0,"div",6),d.YNc(8,Z$,3,0,"div",7),d.TgZ(9,"div",8),d.YNc(10,Y$,1,1,"ng-template",9),d.Hsn(11),d.qZA(),d.YNc(12,Q$,2,0,"div",10),d.YNc(13,X$,2,0,"div",11),d.qZA(),d.YNc(14,J$,1,0,"div",12),d.qZA(),d.TgZ(15,"div",13),d.YNc(16,e5,2,1,"div",14),d.YNc(17,n5,5,2,"div",15),d.qZA()),2&i&&(d.xp6(2),d.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),d.xp6(2),d.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),d.xp6(2),d.Q6J("ngIf",r._hasOutline()),d.xp6(1),d.Q6J("ngIf",r._hasIconPrefix),d.xp6(1),d.Q6J("ngIf",r._hasTextPrefix),d.xp6(2),d.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),d.xp6(2),d.Q6J("ngIf",r._hasTextSuffix),d.xp6(1),d.Q6J("ngIf",r._hasIconSuffix),d.xp6(1),d.Q6J("ngIf",!r._hasOutline()),d.xp6(1),d.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),d.Q6J("ngSwitch",r._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},dependencies:[ro,cl,gr,Lf,_N,lB,hB,uB],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[u5.transitionMessages]},changeDetection:0})}return n})(),jC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[yi,Di,sB,yi]})}return n})();const vB=PC({passive:!0});let p5=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return so.E;const i=Np(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new yn.x,c="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,vB),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,vB)}}),s}stopMonitoring(t){const i=Np(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ma),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),g5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();function yB(...n){const e=(0,ws.jO)(n),{args:t,keys:i}=Yo(n),r=new Ei.y(s=>{const{length:c}=t;if(!c)return void s.complete();const h=new Array(c);let p=c,v=c;for(let C=0;C<c;C++){let D=!1;(0,Es.Xf)(t[C]).subscribe((0,An.x)(s,M=>{D||(D=!0,v--),h[C]=M},()=>p--,void 0,()=>{(!p||!D)&&(v||s.next(i?Ma(i,h):h),s.complete())}))}});return e?r.pipe(Eh(e)):r}let bB=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.Qsj),d.Y36(d.SBq))};static#t=this.\u0275dir=d.lG2({type:n})}return n})(),Tv=(()=>{class n extends bB{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=d.n5z(n)))(r||n)}}();static#t=this.\u0275dir=d.lG2({type:n,features:[d.qOj]})}return n})();const tc=new d.OlP("NgValueAccessor"),v5={provide:tc,useExisting:(0,d.Gpc)(()=>vN),multi:!0},b5=new d.OlP("CompositionEventMode");let vN=(()=>{class n extends bB{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function y5(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(b5,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&d.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[d._Bn([v5]),d.qOj]})}return n})();function Fp(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function xB(n){return null!=n&&"number"==typeof n.length}const Bo=new d.OlP("NgValidators"),Lp=new d.OlP("NgAsyncValidators"),w5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class x5{static min(e){return function EB(n){return e=>{if(Fp(e.value)||Fp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function CB(n){return e=>{if(Fp(e.value)||Fp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function IB(n){return Fp(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function TB(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function DB(n){return Fp(n.value)||w5.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function SB(n){return e=>Fp(e.value)||!xB(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function AB(n){return e=>xB(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function kB(n){if(!n)return hk;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Fp(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return FB(e)}static composeAsync(e){return LB(e)}}function hk(n){return null}function MB(n){return null!=n}function RB(n){return(0,d.QGY)(n)?(0,mn.D)(n):n}function OB(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function NB(n,e){return e.map(t=>t(n))}function PB(n){return n.map(e=>function E5(n){return!n.validate}(e)?e:t=>e.validate(t))}function FB(n){if(!n)return null;const e=n.filter(MB);return 0==e.length?null:function(t){return OB(NB(t,e))}}function yN(n){return null!=n?FB(PB(n)):null}function LB(n){if(!n)return null;const e=n.filter(MB);return 0==e.length?null:function(t){return yB(NB(t,e).map(RB)).pipe((0,ft.U)(OB))}}function bN(n){return null!=n?LB(PB(n)):null}function BB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function VB(n){return n._rawValidators}function UB(n){return n._rawAsyncValidators}function wN(n){return n?Array.isArray(n)?n:[n]:[]}function fk(n,e){return Array.isArray(n)?n.includes(e):n===e}function jB(n,e){const t=wN(e);return wN(n).forEach(r=>{fk(t,r)||t.push(r)}),t}function HB(n,e){return wN(e).filter(t=>!fk(n,t))}class zB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Us extends zB{get formDirective(){return null}get path(){return null}}class Af extends zB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $B{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let GB=(()=>{class n extends $B{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Af,2))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]})}return n})();const HC="VALID",pk="INVALID",O0="PENDING",zC="DISABLED";function CN(n){return(gk(n)?n.validators:n)||null}function IN(n,e){return(gk(e)?e.asyncValidators:n)||null}function gk(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class KB{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===HC}get invalid(){return this.status===pk}get pending(){return this.status==O0}get disabled(){return this.status===zC}get enabled(){return this.status!==zC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(HB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(HB(e,this._rawAsyncValidators))}hasValidator(e){return fk(this._rawValidators,e)}hasAsyncValidator(e){return fk(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=O0,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zC,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=HC,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===HC||this.status===O0)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zC:HC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=O0,this._hasOwnPendingAsyncValidator=!0;const t=RB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?zC:this.errors?pk:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(O0)?O0:this._anyControlsHaveStatus(pk)?pk:HC}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){gk(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function S5(n){return Array.isArray(n)?yN(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function A5(n){return Array.isArray(n)?bN(n):n||null}(this._rawAsyncValidators)}}class TN extends KB{constructor(e,t,i){super(CN(t),IN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function ZB(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new d.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function WB(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new d.vHH(1e3,"");if(!i[t])throw new d.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Dv=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>$C}),$C="always";function GC(n,e,t=$C){DN(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function R5(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&YB(n,e)})}(n,e),function N5(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function O5(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&YB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function M5(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function vk(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),bk(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function yk(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function DN(n,e){const t=VB(n);null!==e.validator?n.setValidators(BB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=UB(n);null!==e.asyncValidator?n.setAsyncValidators(BB(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();yk(e._rawValidators,r),yk(e._rawAsyncValidators,r)}function bk(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=VB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=UB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return yk(e._rawValidators,i),yk(e._rawAsyncValidators,i),t}function YB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function QB(n,e){DN(n,e)}function XB(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const V5={provide:Us,useExisting:(0,d.Gpc)(()=>wk)},qC=(()=>Promise.resolve())();let wk=(()=>{class n extends Us{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new TN({},yN(t),bN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){qC.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),GC(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){qC.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){qC.then(()=>{const i=this._findContainer(t.path),r=new TN({});QB(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){qC.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){qC.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,XB(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Bo,10),d.Y36(Lp,10),d.Y36(Dv,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&d.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([V5]),d.qOj]})}return n})();function JB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function eV(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const tV=class extends KB{constructor(e=null,t,i){super(CN(t),IN(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gk(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=eV(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){JB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){JB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){eV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},H5={provide:Af,useExisting:(0,d.Gpc)(()=>MN)},rV=(()=>Promise.resolve())();let MN=(()=>{class n extends Af{constructor(t,i,r,s,c,h){super(),this._changeDetectorRef=c,this.callSetDisabledState=h,this.control=new tV,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function kN(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===vN?t=s:function L5(n){return Object.getPrototypeOf(n.constructor)===Tv}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function AN(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){GC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){rV.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,d.VuI)(i);rV.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function _k(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Us,9),d.Y36(Bo,10),d.Y36(Lp,10),d.Y36(tc,10),d.Y36(d.sBO,8),d.Y36(Dv,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([H5]),d.qOj,d.TTD]})}return n})(),sV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();const RN=new d.OlP("NgModelWithFormControlWarning"),K5={provide:Us,useExisting:(0,d.Gpc)(()=>xk)};let xk=(()=>{class n extends Us{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bk(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return GC(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){vk(t.control||null,t,!1),function B5(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,XB(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(vk(i||null,t),(n=>n instanceof tV)(r)&&(GC(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);QB(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function P5(n,e){return bk(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){DN(this.form,this),this._oldForm&&bk(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Bo,10),d.Y36(Lp,10),d.Y36(Dv,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&d.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([K5]),d.qOj,d.TTD]})}return n})(),xV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[sV]})}return n})(),VN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Dv,useValue:t.callSetDisabledState??$C}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[xV]})}return n})(),mG=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:RN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Dv,useValue:t.callSetDisabledState??$C}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[xV]})}return n})();const pG=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),gG=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let _G=0;const vG=o$(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new yn.x}});let Ek=(()=>{class n extends vG{get disabled(){return this._disabled}set disabled(t){this._disabled=ei(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(x5.required)??!1}set required(t){this._required=ei(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&D2().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ei(t)}constructor(t,i,r,s,c,h,p,v,C,D){super(h,s,c,r),this._elementRef=t,this._platform=i,this._autofillMonitor=v,this._formField=D,this._uid="mat-input-"+_G++,this.focused=!1,this.stateChanges=new yn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>D2().has(U)),this._iOSKeyupListener=U=>{const W=U.target;!W.value&&0===W.selectionStart&&0===W.selectionEnd&&(W.setSelectionRange(1,1),W.setSelectionRange(0,0))};const M=this._elementRef.nativeElement,F=M.nodeName.toLowerCase();this._inputValueAccessor=p||M,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===F,this._isTextarea="textarea"===F,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=M.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){gG.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(ma),d.Y36(Af,10),d.Y36(wk,8),d.Y36(xk,8),d.Y36(a$),d.Y36(pG,10),d.Y36(p5),d.Y36(d.R0b),d.Y36(mB,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&d.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(d.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),d.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),d.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:fB,useExisting:n}]),d.qOj,d.TTD]})}return n})(),WC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[yi,jC,jC,g5,yi]})}return n})();const yG=new d.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),wG=LC(class{constructor(n){this._elementRef=n}},"primary");let UN=(()=>{class n extends wG{constructor(t,i,r,s,c){super(t),this._ngZone=i,this._changeDetectorRef=r,this._animationMode=s,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new d.vpe,this._mode="determinate",this._transitionendHandler=h=>{0===this.animationEnd.observers.length||!h.target||!h.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===s,c&&(c.color&&(this.color=this.defaultColor=c.color),this.mode=c.mode||this.mode)}get value(){return this._value}set value(t){this._value=EV(FC(t)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=EV(FC(t)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(d.sBO),d.Y36(d.QbO,8),d.Y36(yG,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(i,r){2&i&&(d.uIk("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),d.ekj("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[d.qOj],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0),d._UZ(1,"div",1)(2,"div",2),d.qZA(),d.TgZ(3,"div",3),d._UZ(4,"span",4),d.qZA(),d.TgZ(5,"div",5),d._UZ(6,"span",4),d.qZA()),2&i&&(d.xp6(1),d.Udp("flex-basis",r._getBufferBarFlexBasis()),d.xp6(2),d.Udp("transform",r._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill=''/%3E%3C/svg%3E\")}}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{--mdc-linear-progress-active-indicator-height:4px;--mdc-linear-progress-track-height:4px;--mdc-linear-progress-track-shape:0}.mat-mdc-progress-bar{display:block;text-align:left;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}[dir=rtl] .mat-mdc-progress-bar{text-align:right}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0})}return n})();function EV(n,e=0,t=100){return Math.max(e,Math.min(t,n))}let CV=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[yi]})}return n})();function xG(n,e){1&n&&d._UZ(0,"mat-progress-bar",12)}let EG=(()=>{class n{constructor(t){this.authService=t,this.isLoading=!1}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Op))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:32,vars:4,consts:[[1,"container"],[1,"login-card"],["src","./assets/infohub_logo.png","alt","logo","width","400"],[1,"example-full-width"],["matInput","","type","text"],["userName",""],["matInput","","type","password"],["userPassword",""],["mat-raised-button","","color","primary",3,"click"],["routerLink","/forgot-password",1,"forgotPassword"],["routerLink","/register",1,"SignUp"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(i,r){if(1&i){const s=d.EpF();d.TgZ(0,"div",0)(1,"mat-card",1),d._UZ(2,"img",2),d.TgZ(3,"mat-card-header")(4,"h2"),d._uU(5,"Login"),d.qZA(),d.TgZ(6,"mat-form-field",3)(7,"mat-label"),d._uU(8,"Username"),d.qZA(),d._UZ(9,"input",4,5),d.qZA(),d.TgZ(11,"mat-form-field",3)(12,"mat-label"),d._uU(13,"Password"),d.qZA(),d._UZ(14,"input",6,7),d.qZA()(),d.TgZ(16,"mat-card-content"),d._UZ(17,"mat-divider"),d.qZA(),d.TgZ(18,"mat-card-actions")(19,"button",8),d.NdJ("click",function(){d.CHM(s);const h=d.MAs(10),p=d.MAs(15);return r.authService.show(),d.KtG(r.authService.SignIn(h.value,p.value))}),d._uU(20," Login "),d.qZA()(),d.TgZ(21,"mat-card-footer")(22,"span"),d._uU(23," Or "),d.TgZ(24,"span",9),d._uU(25,"Forgot Password?"),d.qZA()(),d.TgZ(26,"span"),d._uU(27," Don't have an account? "),d.TgZ(28,"span",10),d._uU(29,"Sign Up"),d.qZA()(),d.YNc(30,xG,1,0,"mat-progress-bar",11),d.ALo(31,"async"),d.qZA()()()}2&i&&(d.xp6(1),d.Q6J("@myInsertRemoveTrigger",void 0),d.xp6(29),d.Q6J("ngIf",d.lcZ(31,2,r.authService.isLoading$)))},dependencies:[ro,Tm,A0,k0,Pp,lk,M0,UC,Iv,uk,R0,Ek,UN,wa],styles:["body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{height:80%;display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{display:block;margin:0 auto;padding:0;overflow:hidden}h2[_ngcontent-%COMP%]{text-align:center}.login-card[_ngcontent-%COMP%]{width:400px;padding:0}button[_ngcontent-%COMP%]{display:block;margin:0 auto}.mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}.forgotPassword[_ngcontent-%COMP%], .SignUp[_ngcontent-%COMP%]{text-align:center;color:#4dd5fe;font-size:14px;cursor:pointer;margin-top:10px}"],data:{animation:[ns("myInsertRemoveTrigger",[Ri(":enter",[on({opacity:0}),pi("1s",on({opacity:1}))]),Ri(":leave",[pi("1s",on({opacity:0}))])]),ns("myOtherInsertRemoveTrigger",[Ri(":enter",[on({transform:"translateX(-100%)"}),pi("0.5s",on({transform:"translateX(0)"}))]),Ri(":leave",[pi("0.5s",on({transform:"translateX(100%)"}))])])]}})}return n})();const IV_newsApiFive_apiKey="0266bc550d3e46f9893b52815d2118f2",IV_firebase={apiKey:"AIzaSyCRNjlAyNOhhSpCayhj8FGHHhbw4MtkpKA",authDomain:"news-project-579a3.firebaseapp.com",projectId:"news-project-579a3",storageBucket:"news-project-579a3.appspot.com",messagingSenderId:"700119532137",appId:"1:700119532137:web:9fd58caf58aa49ded8d8f8",measurementId:"G-DNL6PZSD2R"};class Ck{}class Ik{}class Vu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Vu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Vu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Vu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===s.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class CG{encodeKey(e){return TV(e)}encodeValue(e){return TV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const TG=/%(\d[a-f0-9])/gi,DG={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function TV(n){return encodeURIComponent(n).replace(TG,(e,t)=>DG[t]??e)}function Tk(n){return`${n}`}class Bp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new CG,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function IG(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,h]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(c)||[];p.push(h),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Tk):[Tk(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Bp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Tk(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Tk(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class SG{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function DV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function SV(n){return typeof Blob<"u"&&n instanceof Blob}function AV(n){return typeof FormData<"u"&&n instanceof FormData}class ZC{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function AG(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Vu),this.context||(this.context=new SG),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new Bp,this.urlWithParams=t}serializeBody(){return null===this.body?null:DV(this.body)||SV(this.body)||AV(this.body)||function kG(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Bp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AV(this.body)?null:SV(this.body)?this.body.type||null:DV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Bp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,v=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((D,M)=>D.set(M,e.setHeaders[M]),p)),e.setParams&&(v=Object.keys(e.setParams).reduce((D,M)=>D.set(M,e.setParams[M]),v)),new ZC(t,i,s,{params:v,headers:p,context:C,reportProgress:h,responseType:r,withCredentials:c})}}var N0=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(N0||{});class jN{constructor(e,t=200,i="OK"){this.headers=e.headers||new Vu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class HN extends jN{constructor(e={}){super(e),this.type=N0.ResponseHeader}clone(e={}){return new HN({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class P0 extends jN{constructor(e={}){super(e),this.type=N0.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new P0({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class kV extends jN{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function zN(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Dk=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof ZC)s=t;else{let p,v;p=r.headers instanceof Vu?r.headers:new Vu(r.headers),r.params&&(v=r.params instanceof Bp?r.params:new Bp({fromObject:r.params})),s=new ZC(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=(0,ot.of)(s).pipe($i(p=>this.handler.handle(p)));if(t instanceof ZC||"events"===r.observe)return c;const h=c.pipe(zi(p=>p instanceof P0));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,ft.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,ft.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,ft.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,ft.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Bp).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,zN(r,i))}post(t,i,r={}){return this.request("POST",t,zN(r,i))}put(t,i,r={}){return this.request("PUT",t,zN(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Ck))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function OV(n,e){return e(n)}function RG(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const NG=new d.OlP(""),KC=new d.OlP(""),NV=new d.OlP("");function PG(){let n=null;return(e,t)=>{null===n&&(n=((0,d.f3M)(NG,{optional:!0})??[]).reduceRight(RG,OV));const i=(0,d.f3M)(d.HDt),r=i.add();return n(e,t).pipe(ra(()=>i.remove(r)))}}let PV=(()=>{class n extends Ck{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=(0,d.f3M)(d.HDt)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(KC),...this.injector.get(NV,[])]));this.chain=r.reduceRight((s,c)=>function OG(n,e,t){return(i,r)=>t.runInContext(()=>e(i,s=>n(s,r)))}(s,c,this.injector),OV)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(ra(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Ik),d.LFG(d.lqb))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const VG=/^\)\]\}',?\n/;let LV=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new d.vHH(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?(0,mn.D)(i.\u0275loadImpl()):(0,ot.of)(null)).pipe((0,kn.w)(()=>new Ei.y(s=>{const c=i.build();if(c.open(t.method,t.urlWithParams),t.withCredentials&&(c.withCredentials=!0),t.headers.forEach((W,ee)=>c.setRequestHeader(W,ee.join(","))),t.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const W=t.detectContentTypeHeader();null!==W&&c.setRequestHeader("Content-Type",W)}if(t.responseType){const W=t.responseType.toLowerCase();c.responseType="json"!==W?W:"text"}const h=t.serializeBody();let p=null;const v=()=>{if(null!==p)return p;const W=c.statusText||"OK",ee=new Vu(c.getAllResponseHeaders()),ke=function UG(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(c)||t.url;return p=new HN({headers:ee,status:c.status,statusText:W,url:ke}),p},C=()=>{let{headers:W,status:ee,statusText:ke,url:ze}=v(),Fe=null;204!==ee&&(Fe=typeof c.response>"u"?c.responseText:c.response),0===ee&&(ee=Fe?200:0);let We=ee>=200&&ee<300;if("json"===t.responseType&&"string"==typeof Fe){const Et=Fe;Fe=Fe.replace(VG,"");try{Fe=""!==Fe?JSON.parse(Fe):null}catch(Tt){Fe=Et,We&&(We=!1,Fe={error:Tt,text:Fe})}}We?(s.next(new P0({body:Fe,headers:W,status:ee,statusText:ke,url:ze||void 0})),s.complete()):s.error(new kV({error:Fe,headers:W,status:ee,statusText:ke,url:ze||void 0}))},D=W=>{const{url:ee}=v(),ke=new kV({error:W,status:c.status||0,statusText:c.statusText||"Unknown Error",url:ee||void 0});s.error(ke)};let M=!1;const F=W=>{M||(s.next(v()),M=!0);let ee={type:N0.DownloadProgress,loaded:W.loaded};W.lengthComputable&&(ee.total=W.total),"text"===t.responseType&&c.responseText&&(ee.partialText=c.responseText),s.next(ee)},U=W=>{let ee={type:N0.UploadProgress,loaded:W.loaded};W.lengthComputable&&(ee.total=W.total),s.next(ee)};return c.addEventListener("load",C),c.addEventListener("error",D),c.addEventListener("timeout",D),c.addEventListener("abort",D),t.reportProgress&&(c.addEventListener("progress",F),null!==h&&c.upload&&c.upload.addEventListener("progress",U)),c.send(h),s.next({type:N0.Sent}),()=>{c.removeEventListener("error",D),c.removeEventListener("abort",D),c.removeEventListener("load",C),c.removeEventListener("timeout",D),t.reportProgress&&(c.removeEventListener("progress",F),null!==h&&c.upload&&c.upload.removeEventListener("progress",U)),c.readyState!==c.DONE&&c.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Eo))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const $N=new d.OlP("XSRF_ENABLED"),BV=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),VV=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class UV{}let zG=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=bo(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(te),d.LFG(d.Lbi),d.LFG(BV))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function $G(n,e){const t=n.url.toLowerCase();if(!(0,d.f3M)($N)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,d.f3M)(UV).getToken(),r=(0,d.f3M)(VV);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Vp=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Vp||{});function GG(...n){const e=[Dk,LV,PV,{provide:Ck,useExisting:PV},{provide:Ik,useExisting:LV},{provide:KC,useValue:$G,multi:!0},{provide:$N,useValue:!0},{provide:UV,useClass:zG}];for(const t of n)e.push(...t.\u0275providers);return(0,d.MR2)(e)}const jV=new d.OlP("LEGACY_INTERCEPTOR_FN");function qG(){return function Av(n,e){return{\u0275kind:n,\u0275providers:e}}(Vp.LegacyInterceptors,[{provide:jV,useFactory:PG},{provide:KC,useExisting:jV,multi:!0}])}let WG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[GG(qG())]})}return n})(),Ak=(()=>{class n{constructor(t){this.http=t,this.apiKey=IV_newsApiFive_apiKey,this.selectedCategory=new yn.x,this.selectedCategory$=this.selectedCategory.asObservable()}show(t){this.selectedCategory.next(t),console.log(typeof t)}getTopHeadlines(t){return this.http.get(`https://newsapi.org/v2/top-headlines?country=US&category=${t}&apiKey=${this.apiKey}`).pipe(wr(i=>(console.error("Error:",i),oo(i))))}searchArticles(t){return this.http.get(`https://newsapi.org/v2/everything?q=${t}&sortBy=publishedAt&apiKey=${this.apiKey}`).pipe(wr(i=>(console.error("API request failed:",i),oo(i))))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Dk))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GN=(()=>{class n{constructor(){this.categories=[{name:"General",icon:"description"},{name:"Business",icon:"add_business"},{name:"Entertainment",icon:"theater_comedy"},{name:"Health",icon:"health_and_safety"},{name:"Science",icon:"biotech"},{name:"Sports",icon:"sports_football"},{name:"Technology",icon:"important_devices"},{name:"Search",icon:"search"},{name:"Liked",icon:"favorite"}]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HV=(()=>{class n{constructor(){this.likedArticles=[]}addLikedArticle(t){this.likedArticles.push(t)}getLikedArticles(){return this.likedArticles}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const JG=["*"];let kk;function YC(n){return function eq(){if(void 0===kk&&(kk=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(kk=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return kk}()?.createHTML(n)||n}function zV(n){return Error(`Unable to find icon with the name "${n}"`)}function $V(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function GV(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class kv{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let Mk=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new kv(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const c=this._sanitizer.sanitize(d.q3G.HTML,r);if(!c)throw GV(r);const h=YC(c);return this._addSvgIconConfig(t,i,new kv("",h,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new kv(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(d.q3G.HTML,i);if(!s)throw GV(i);const c=YC(s);return this._addSvgIconSetConfig(t,new kv("",c,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,t);if(!i)throw $V(t);const r=this._cachedIconsByUrl.get(i);return r?(0,ot.of)(Rk(r)):this._loadSvgIconFromConfig(new kv(t,null)).pipe((0,Wn.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,ft.U)(s=>Rk(s)))}getNamedSvgIcon(t,i=""){const r=qV(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(t,c):oo(zV(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,ot.of)(Rk(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,ft.U)(i=>Rk(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?(0,ot.of)(r):yB(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(wr(h=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,c.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(v)),(0,ot.of)(null)})))).pipe((0,ft.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,i);if(!c)throw zV(t);return c}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(c,t,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Wn.b)(i=>t.svgText=i),(0,ft.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,ot.of)(null):this._fetchIcon(t).pipe((0,Wn.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const h=this._svgElementFromString(YC("<svg></svg>"));return h.appendChild(c),this._setSvgAttributes(h,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(YC("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:c,value:h}=r[s];"id"!==c&&i.setAttribute(c,h)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function tq(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,i);if(!c)throw $V(i);const h=this._inProgressUrlFetches.get(c);if(h)return h;const p=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe((0,ft.U)(v=>YC(v)),ra(()=>this._inProgressUrlFetches.delete(c)),(0,AO.B)());return this._inProgressUrlFetches.set(c,p),p}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(qV(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return iq(s)?new kv(s.url,null,s.options):new kv(s,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Dk,8),d.LFG(Ko),d.LFG(te,8),d.LFG(d.qLn))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rk(n){return n.cloneNode(!0)}function qV(n,e){return n+":"+e}function iq(n){return!(!n.url||!n.options)}const rq=LC(class{constructor(n){this._elementRef=n}}),oq=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),sq=new d.OlP("mat-icon-location",{providedIn:"root",factory:function aq(){const n=(0,d.f3M)(te),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),WV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],cq=WV.map(n=>`[${n}]`).join(", "),lq=/^url\(['"]?#(.*?)['"]?\)$/;let Ok=(()=>{class n extends rq{get inline(){return this._inline}set inline(t){this._inline=ei(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,c,h){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Nn.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(cq),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)WV.forEach(c=>{const h=i[s],p=h.getAttribute(c),v=p?p.match(lq):null;if(v){let C=r.get(h);C||(C=[],r.set(h,C)),C.push({name:c,value:v[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Qo(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(Mk),d.$8M("aria-hidden"),d.Y36(sq),d.Y36(d.qLn),d.Y36(oq,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(d.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),d.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:JG,decls:1,vars:0,template:function(i,r){1&i&&(d.F$t(),d.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),Nk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[yi,yi]})}return n})();function dq(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"mat-card",6)(1,"a",7)(2,"div",8),d._UZ(3,"img",9),d.qZA()(),d.TgZ(4,"mat-card-header")(5,"mat-card-title")(6,"h3")(7,"a",10),d._uU(8),d.qZA()(),d.TgZ(9,"p",11)(10,"em"),d._uU(11),d.qZA()()()(),d.TgZ(12,"a",12),d.NdJ("click",function(){const s=d.CHM(t).$implicit,c=d.oxw();return d.KtG(c.likedArticles(s.url))}),d._UZ(13,"mat-icon",13),d.qZA()()}if(2&n){const t=e.$implicit,i=d.oxw();d.xp6(1),d.s9C("href",t.url,d.LSH),d.xp6(2),d.s9C("src",t.urlToImage?t.urlToImage:i.defaultImage,d.LSH),d.xp6(5),d.Oqu(t.title),d.xp6(3),d.Oqu(t.publishedAt)}}let uq=(()=>{class n{constructor(t,i,r){this.newsService=t,this.categoryService=i,this.likedService=r,this.selectedCategory="business",this.categories=this.categoryService.categories,this.selectedCategory$=this.newsService.selectedCategory$,console.log(this.selectedCategory)}ngOnInit(){this.getNews(this.selectedCategory),this.selectedCategory$.subscribe(t=>{console.log(t),this.selectedCategory=t,this.getNews(this.selectedCategory)})}getNews(t){this.newsService.getTopHeadlines(t).subscribe(i=>{this.headlines=i.articles,console.log(i)})}onCategoryChange(t){console.log(t,"received"),this.selectedCategory=t,this.getNews(this.selectedCategory)}truncatedText(t){return t.length>60?t.substring(0,60)+"...":t}likedArticles(t){this.likedService.addLikedArticle({url:t,title:"title",description:"description"}),console.log(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Ak),d.Y36(GN),d.Y36(HV))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-news-list"]],inputs:{selectedCategory:"selectedCategory"},decls:10,vars:2,consts:[[1,"news-list"],["id","topHeadlinesTitle"],[1,"h1Headlines"],[1,"custom-divider"],[1,"news-items"],["class","news-item",4,"ngFor","ngForOf"],[1,"news-item"],["target","_blank",3,"href"],[1,"image-container"],["alt","img","id","snapshotImg",3,"src"],["id","subtitler"],["id","articlePublished"],["target","_blank",1,"like",3,"href","click"],["aria-hidden","false","aria-label","icon","fontIcon","favorite",2,"font-size","20px"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"mat-card-title",1)(2,"h1",2),d._uU(3,"Top Headlines: "),d.TgZ(4,"small"),d._uU(5),d.qZA()(),d._UZ(6,"mat-divider",3),d.qZA(),d.TgZ(7,"div",4),d.YNc(8,dq,14,4,"mat-card",5),d._UZ(9,"mat-divider"),d.qZA()()),2&i&&(d.xp6(5),d.Oqu(r.selectedCategory),d.xp6(3),d.Q6J("ngForOf",r.headlines))},dependencies:[wo,k0,Pp,Iv,ck,Ok],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-top:1rem;font-weight:700;text-align:center;text-transform:uppercase;color:#fff;padding:1vh;margin:0}h3[_ngcontent-%COMP%]{line-height:3vh}.h1Headlines[_ngcontent-%COMP%]{background-color:#0a3161;font-size:2.5vw}.custom-divider[_ngcontent-%COMP%]{height:2px;background-color:#d90429}.news-list[_ngcontent-%COMP%]{width:90%!important;margin:0 auto;width:auto}.news-items[_ngcontent-%COMP%]{width:100%;margin:0;padding:0;display:flex;flex-wrap:wrap;justify-content:space-between}mat-card[_ngcontent-%COMP%]{width:20em;overflow:hidden;margin:5px 5px 10px;padding:0;background-color:#d1d7dc;flex:0 0 calc(20% - 10px)}.mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;padding:0 10px;line-height:0}#snapshotImg[_ngcontent-%COMP%]{width:100%;padding-bottom:0}#actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0;padding:0}.cardButton[_ngcontent-%COMP%]{background-color:#003566;padding:5px 10px;text-decoration:none;border:none}#subtitler[_ngcontent-%COMP%]{color:#000!important;font-weight:bolder;font-size:14px;padding:0;margin:0}#articleDescription[_ngcontent-%COMP%], #articlePublished[_ngcontent-%COMP%]{font-size:12px;padding:0;margin:0}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:0;padding:0}.like[_ngcontent-%COMP%]{color:#0862b5;position:absolute;top:0;right:0;background:transparent;border:none;cursor:pointer}.like[_ngcontent-%COMP%]:hover{color:#d90429}"]})}return n})();function hq(n,e){1&n&&d._UZ(0,"mat-progress-bar",10)}let fq=(()=>{class n{constructor(t){this.authService=t,this.isLoading=!1}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Op))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-registration"]],decls:27,vars:4,consts:[[1,"container"],[1,"login-card"],[1,"example-full-width"],["matInput","","type","email"],["userEmail",""],["matInput","","type","password"],["userPwd",""],["mat-raised-button","","color","primary",3,"click"],["routerLink","/login",1,"redirect"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(i,r){if(1&i){const s=d.EpF();d.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"h2"),d._uU(4,"Register"),d.qZA(),d.TgZ(5,"mat-form-field",2)(6,"mat-label"),d._uU(7,"Email"),d.qZA(),d._UZ(8,"input",3,4),d.qZA(),d.TgZ(10,"mat-form-field",2)(11,"mat-label"),d._uU(12,"Password"),d.qZA(),d._UZ(13,"input",5,6),d.qZA()(),d.TgZ(15,"mat-card-content"),d._UZ(16,"mat-divider"),d.qZA(),d.TgZ(17,"mat-card-actions")(18,"button",7),d.NdJ("click",function(){d.CHM(s);const h=d.MAs(9),p=d.MAs(14);return d.KtG([r.authService.show(),r.authService.SignUp(h.value,p.value)])}),d._uU(19," Sign Up "),d.qZA()(),d.TgZ(20,"mat-card-footer")(21,"span"),d._uU(22,"Already have an account? "),d.TgZ(23,"span",8),d._uU(24,"Log In"),d.qZA()()(),d.YNc(25,hq,1,0,"mat-progress-bar",9),d.ALo(26,"async"),d.qZA()()}2&i&&(d.xp6(1),d.Q6J("@myInsertRemoveTrigger",void 0),d.xp6(24),d.Q6J("ngIf",d.lcZ(26,2,r.authService.isLoading$)))},dependencies:[ro,Tm,A0,k0,Pp,lk,M0,UC,Iv,uk,R0,Ek,UN,wa],styles:[".container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}h2[_ngcontent-%COMP%]{text-align:center}.login-card[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin:0 auto}span[_ngcontent-%COMP%]{padding:.5em;text-align:center;display:block}.mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}.redirect[_ngcontent-%COMP%]{display:inline-block;text-align:center;color:#4dd5fe;font-size:14px;cursor:pointer}.redirect[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[ns("myInsertRemoveTrigger",[Ri(":enter",[on({opacity:0}),pi("1s",on({opacity:1}))]),Ri(":leave",[pi("1s",on({opacity:0}))])]),ns("myOtherInsertRemoveTrigger",[Ri(":enter",[on({transform:"translateX(-100%)"}),pi("0.5s",on({transform:"translateX(0)"}))]),Ri(":leave",[pi("0.5s",on({transform:"translateX(100%)"}))])])]}})}return n})();function mq(n,e){1&n&&d._UZ(0,"mat-progress-bar",11)}let pq=(()=>{class n{constructor(t){this.authService=t,this.isLoading=!1}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Op))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-forgot-password"]],decls:24,vars:4,consts:[[1,"container"],[1,"displayTable"],[1,"displayTableCell"],[1,"text-center"],[1,"formGroup"],["matInput","","type","email","placeholder","Email Address","required","",1,"formControl"],["passwordResetEmail",""],["mat-raised-button","","color","primary","type","submit",1,"btn","btnPrimary",3,"click"],[1,"redirectToLogin"],["routerLink","/login",1,"redirect"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(i,r){if(1&i){const s=d.EpF();d.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"mat-card-header",2)(4,"h3"),d._uU(5,"Reset Password"),d.qZA(),d.TgZ(6,"p",3),d._uU(7," Please enter your email address to request a password reset. "),d.qZA()(),d.TgZ(8,"mat-form-field",4)(9,"mat-label"),d._uU(10,"Email"),d.qZA(),d._UZ(11,"input",5,6),d.qZA(),d._UZ(13,"mat-divider"),d.TgZ(14,"mat-card-actions",4)(15,"button",7),d.NdJ("click",function(){d.CHM(s);const h=d.MAs(12);return d.KtG([r.authService.show(),r.authService.ForgotPassword(h.value)])}),d._uU(16," Reset Password "),d.qZA()(),d.TgZ(17,"mat-card-footer",8)(18,"span"),d._uU(19,"Go back to ? "),d.TgZ(20,"span",9),d._uU(21," Log In"),d.qZA()()()(),d.YNc(22,mq,1,0,"mat-progress-bar",10),d.ALo(23,"async"),d.qZA()()}2&i&&(d.xp6(1),d.Q6J("@myInsertRemoveTrigger",void 0),d.xp6(21),d.Q6J("ngIf",d.lcZ(23,2,r.authService.isLoading$)))},dependencies:[ro,Tm,A0,k0,Pp,lk,M0,UC,Iv,uk,R0,Ek,UN,wa],styles:[".redirect[_ngcontent-%COMP%], .btnPrimary[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{width:500px;padding:1em;display:flex;flex-direction:column;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{margin:.5em}mat-form-field[_ngcontent-%COMP%]{width:100%}input.formControl[_ngcontent-%COMP%]{width:90%}mat-card-header[_ngcontent-%COMP%], mat-card-footer[_ngcontent-%COMP%], mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.redirect[_ngcontent-%COMP%]{display:inline-block;text-align:center;color:#4dd5fe;font-size:14px;cursor:pointer}"],data:{animation:[ns("myInsertRemoveTrigger",[Ri(":enter",[on({opacity:0}),pi("1s",on({opacity:1}))]),Ri(":leave",[pi("1s",on({opacity:0}))])]),ns("myOtherInsertRemoveTrigger",[Ri(":enter",[on({transform:"translateX(-100%)"}),pi("0.5s",on({transform:"translateX(0)"}))]),Ri(":leave",[pi("0.5s",on({transform:"translateX(100%)"}))])])]}})}return n})();function gq(n,e){if(1&n&&(d.TgZ(0,"div",9)(1,"p",10),d._uU(2," We have sent a confirmation email to "),d.TgZ(3,"strong"),d._uU(4),d.qZA(),d._uU(5,". "),d.qZA(),d.TgZ(6,"p",10),d._uU(7," Please check your email and click on the link to verify your email address. "),d.qZA()()),2&n){const t=e.ngIf;d.xp6(4),d.Oqu(t.email)}}let _q=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Op))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-verify-email"]],decls:15,vars:2,consts:[[1,"container"],[1,"displayTableCell"],[1,"authBlock"],["class","formGroup",4,"ngIf"],[1,"button"],["type","button","mat-raised-button","","color","primary",3,"click"],[1,"fas","fa-redo-alt"],[1,"redirectToLogin"],["routerLink","/login",1,"redirect"],[1,"formGroup"],[1,"text-center"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content",2)(3,"h3"),d._uU(4,"Thank You for Registering"),d.qZA(),d.YNc(5,gq,8,1,"div",3),d.TgZ(6,"div",4)(7,"button",5),d.NdJ("click",function(){return r.authService.SendVerificationMail()}),d._UZ(8,"i",6),d._uU(9," Resend Verification Email "),d.qZA()()(),d.TgZ(10,"mat-card-footer",7)(11,"span"),d._uU(12,"Go back to? "),d.TgZ(13,"span",8),d._uU(14," Sign in"),d.qZA()()()()()),2&i&&(d.xp6(1),d.Q6J("@myInsertRemoveTrigger",void 0),d.xp6(4),d.Q6J("ngIf",r.authService.userData))},dependencies:[ro,Tm,A0,Pp,M0,UC],styles:[".container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}h3[_ngcontent-%COMP%]{text-align:center}mat-card[_ngcontent-%COMP%]{width:500px;padding:1em;display:flex;flex-direction:column;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{margin:.5em}mat-card-header[_ngcontent-%COMP%], mat-card-footer[_ngcontent-%COMP%], mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.redirect[_ngcontent-%COMP%]{display:inline-block;text-align:center;color:#4dd5fe;font-size:14px;cursor:pointer}.button[_ngcontent-%COMP%]{display:flex;justify-content:center}"],data:{animation:[ns("myInsertRemoveTrigger",[Ri(":enter",[on({opacity:0}),pi("1s",on({opacity:1}))]),Ri(":leave",[pi("1s",on({opacity:0}))])]),ns("myOtherInsertRemoveTrigger",[Ri(":enter",[on({transform:"translateX(-100%)"}),pi("0.5s",on({transform:"translateX(0)"}))]),Ri(":leave",[pi("0.5s",on({transform:"translateX(100%)"}))])])]}})}return n})();function vq(n,e){if(1&n&&(d.TgZ(0,"mat-card",9)(1,"mat-card-header")(2,"mat-card-title")(3,"h3")(4,"a",10),d._uU(5),d.qZA()(),d.TgZ(6,"p"),d._uU(7),d.qZA()()(),d.TgZ(8,"mat-card-content",11)(9,"a",12),d._UZ(10,"mat-icon",13),d.qZA()()()),2&n){const t=e.$implicit,i=d.oxw();d.xp6(4),d.s9C("href",t.url,d.LSH),d.xp6(1),d.hij(" ",i.truncatedText(t.title)," "),d.xp6(2),d.Oqu(t.description)}}let yq=(()=>{class n{constructor(t,i){this.newsService=t,this.router=i,this.searchResults=[],this.searchFilter=""}ngOnInit(){this.getSearchResults()}getSearchResults(){""!==this.searchFilter.trim()&&this.newsService.searchArticles(this.searchFilter).subscribe(t=>{this.headlines=t.articles,console.log(this.headlines),this.searchResults=this.headlines.map(i=>({title:i.title,url:i.url}))},t=>{console.error("Error on API request:",t)})}onFilterChange(t){this.searchFilter=t.target.value,this.getSearchResults()}goBackToTopHeadlines(){this.router.navigate(["top-headlines"])}truncatedText(t){return t.length>60?t.substring(0,60)+"...":t}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Ak),d.Y36(Cr))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-search"]],inputs:{searchFilter:"searchFilter"},decls:24,vars:1,consts:[[1,"searchInput"],["appearance","outline"],["matInput","",3,"input"],["matSuffix",""],["mat-button","",1,"cardButton","goBackButton",3,"click"],["aria-hidden","false","aria-label","icon"],["id","searchTitler"],[1,"news-list"],["class","searchResults",4,"ngFor","ngForOf"],[1,"searchResults"],["id","subtitler","target","_blank",3,"href"],["id","actions"],["mat-button","","target","_blank",1,"cardButton",3,"href"],["aria-hidden","false","aria-label","icon","fontIcon","thumb_up"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"h2"),d._uU(2,"Search by keyword"),d.qZA(),d.TgZ(3,"mat-form-field",1)(4,"mat-label"),d._uU(5,"Type a keyword to find"),d.qZA(),d.TgZ(6,"input",2),d.NdJ("input",function(c){return r.onFilterChange(c)}),d.qZA(),d.TgZ(7,"mat-icon",3),d._uU(8,"search"),d.qZA(),d.TgZ(9,"mat-hint"),d._uU(10,"can use AND / OR / NOT keywords"),d.qZA()(),d._UZ(11,"br"),d.TgZ(12,"button",4),d.NdJ("click",function(){return r.goBackToTopHeadlines()}),d.TgZ(13,"mat-icon",5),d._uU(14,"arrow_back"),d.qZA(),d.TgZ(15,"span"),d._uU(16,"Go Back"),d.qZA()(),d._UZ(17,"br"),d.qZA(),d._UZ(18,"mat-divider"),d.TgZ(19,"h2",6),d._uU(20,"Your Search Results"),d.qZA(),d.TgZ(21,"div",7),d.YNc(22,vq,11,3,"mat-card",8),d._UZ(23,"mat-divider"),d.qZA()),2&i&&(d.xp6(22),d.Q6J("ngForOf",r.searchResults))},dependencies:[wo,b$,A0,k0,Pp,M0,Iv,ck,Ok,uk,R0,_N,l5,Ek],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:1rem;font-weight:700;text-align:center;text-transform:uppercase;color:#0a3161;padding:1vh;margin:0}h3[_ngcontent-%COMP%]   #searchTitler[_ngcontent-%COMP%]{margin:0 auto}.news-list[_ngcontent-%COMP%]{margin:0 auto;width:90%;display:flex;flex-wrap:wrap;justify-content:space-between}mat-card[_ngcontent-%COMP%]{width:15em;height:12rem;overflow:hidden;margin:10px 10px 20px;padding:10px;background-color:#d1d7dc;flex:0 0 calc(25% - 20px)}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0;padding:0}mat-icon[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;text-align:center}.cardButton[_ngcontent-%COMP%]{margin:0 auto;background-color:#003566;padding:5px 10px;text-decoration:none;border:none;color:#d1d7dc!important}#subtitler[_ngcontent-%COMP%]{color:#000!important;font-weight:bolder}.cardButton[_ngcontent-%COMP%]:hover{background-color:#d90429}.searchInput[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 auto;width:40%}.goBackButton[_ngcontent-%COMP%]{margin:0 auto;width:40%}"]})}return n})();function bq(n,e){if(1&n&&(d.TgZ(0,"mat-card",5)(1,"mat-card-header")(2,"mat-card-title")(3,"h3")(4,"a",6),d._uU(5),d.qZA()(),d.TgZ(6,"p"),d._uU(7),d.qZA()()()()),2&n){const t=e.$implicit;d.xp6(4),d.Q6J("href",t.url,d.LSH),d.xp6(1),d.hij(" ",t.title," "),d.xp6(2),d.Oqu(t.description)}}const wq=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:EG},{path:"register",component:fq},{path:"top-headlines",component:uq,canActivate:[(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return!0!==this.authService.isLoggedIn&&this.router.navigate(["login"]),!0}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Op),d.LFG(Cr))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()]},{path:"forgot-password",component:pq},{path:"verify-email-address",component:_q},{path:"search",component:yq},{path:"Liked",component:(()=>{class n{constructor(t,i,r){this.authService=t,this.likedService=i,this.router=r,this.likedArticles=[]}ngOnInit(){this.authService.getUserData().subscribe(t=>{this.likedArticles=this.likedService.getLikedArticles()})}goBackToTopHeadlines(){this.router.navigate(["top-headlines"])}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Op),d.Y36(HV),d.Y36(Cr))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-liked"]],decls:13,vars:1,consts:[[1,"likedSection"],["mat-button","",1,"cardButton","goBackButton",3,"click"],["aria-hidden","false","aria-label","icon"],[1,"news-list"],["class","searchResults",4,"ngFor","ngForOf"],[1,"searchResults"],["id","subtitler","target","_blank",3,"href"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"h1"),d._uU(2,"User liked articles"),d.qZA(),d.TgZ(3,"button",1),d.NdJ("click",function(){return r.goBackToTopHeadlines()}),d.TgZ(4,"mat-icon",2),d._uU(5,"arrow_back"),d.qZA(),d.TgZ(6,"span"),d._uU(7,"Go Back"),d.qZA()(),d._UZ(8,"br")(9,"mat-divider"),d.qZA(),d.TgZ(10,"div",3),d.YNc(11,bq,8,3,"mat-card",4),d._UZ(12,"mat-divider"),d.qZA()),2&i&&(d.xp6(11),d.Q6J("ngForOf",r.likedArticles))},dependencies:[wo,A0,k0,Pp,Iv,ck,Ok],styles:["h1[_ngcontent-%COMP%]{margin:0 auto;text-align:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:1rem;font-weight:700;text-align:center;text-transform:uppercase;color:#0a3161;padding:1vh;margin:0}.news-list[_ngcontent-%COMP%]{margin:0 auto;width:90%;display:flex;flex-wrap:wrap;justify-content:space-between}mat-card[_ngcontent-%COMP%]{width:15em;height:12rem;overflow:hidden;margin:10px 10px 20px;padding:10px;background-color:#d1d7dc;flex:0 0 calc(25% - 20px)}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0;padding:0}mat-icon[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;text-align:center}.cardButton[_ngcontent-%COMP%]{margin:0 auto;background-color:#003566;padding:5px 10px;text-decoration:none;border:none;color:#d1d7dc!important}#subtitler[_ngcontent-%COMP%]{color:#000!important;font-weight:bolder}.cardButton[_ngcontent-%COMP%]:hover{background-color:#d90429}.likedSection[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 auto;width:40%}.goBackButton[_ngcontent-%COMP%]{margin:0 auto;width:40%}"]})}return n})()}];let xq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[yy.forRoot(wq),yy]})}return n})();const Eq=["*",[["mat-toolbar-row"]]],Cq=["*","mat-toolbar-row"],Iq=LC(class{constructor(n){this._elementRef=n}});let Tq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),Dq=(()=>{class n extends Iq{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(ma),d.Y36(te))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,s){if(1&i&&d.Suo(s,Tq,5),2&i){let c;d.iGM(c=d.CRH())&&(r._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&d.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:Cq,decls:2,vars:0,template:function(i,r){1&i&&(d.F$t(Eq),d.Hsn(0),d.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),qN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[yi,yi]})}return n})();class WN{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new yn.x,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}const Sq=["button"],Aq=["*"],ZV=new d.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),KV=new d.OlP("MatButtonToggleGroup"),kq={provide:tc,useExisting:(0,d.Gpc)(()=>XV),multi:!0};let YV=0;class QV{constructor(e,t){this.source=e,this.value=t}}let XV=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(t){this._vertical=ei(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(i=>i.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=ei(t),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=ei(t),this._markButtonsForCheck()}constructor(t,i){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+YV++,this.valueChange=new d.vpe,this.change=new d.vpe,this.appearance=i&&i.appearance?i.appearance:"standard"}ngOnInit(){this._selectionModel=new WN(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(t){const i=new QV(t,this.value);this._rawValue=i.value,this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(t,i,r=!1,s=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(t):this._selectionModel.deselect(t):s=!0,s?Promise.resolve().then(()=>this._updateModelValue(t,r)):this._updateModelValue(t,r)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=t.value&&i===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const i=this._buttonToggles.find(r=>null!=r.value&&r.value===t);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(t,i){i&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.sBO),d.Y36(ZV,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(i,r,s){if(1&i&&d.Suo(s,JV,5),2&i){let c;d.iGM(c=d.CRH())&&(r._buttonToggles=c)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(i,r){2&i&&(d.uIk("aria-disabled",r.disabled),d.ekj("mat-button-toggle-vertical",r.vertical)("mat-button-toggle-group-appearance-standard","standard"===r.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[d._Bn([kq,{provide:KV,useExisting:n}])]})}return n})();const Mq=fN(class{});let JV=(()=>{class n extends Mq{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const i=ei(t);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=ei(t)}constructor(t,i,r,s,c,h){super(),this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=s,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new d.vpe;const p=Number(c);this.tabIndex=p||0===p?p:null,this.buttonToggleGroup=t,this.appearance=h&&h.appearance?h.appearance:"standard"}ngOnInit(){const t=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+YV++,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector()||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new QV(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(KV,8),d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(uN),d.$8M("tabindex"),d.Y36(ZV,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(i,r){if(1&i&&d.Gf(Sq,5),2&i){let s;d.iGM(s=d.CRH())&&(r._buttonElement=s.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(i,r){1&i&&d.NdJ("focus",function(){return r.focus()}),2&i&&(d.uIk("aria-label",null)("aria-labelledby",null)("id",r.id)("name",null),d.ekj("mat-button-toggle-standalone",!r.buttonToggleGroup)("mat-button-toggle-checked",r.checked)("mat-button-toggle-disabled",r.disabled)("mat-button-toggle-appearance-standard","standard"===r.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[d.qOj],ngContentSelectors:Aq,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){if(1&i&&(d.F$t(),d.TgZ(0,"button",0,1),d.NdJ("click",function(){return r._onButtonClick()}),d.TgZ(2,"span",2),d.Hsn(3),d.qZA()(),d._UZ(4,"span",3)(5,"span",4)),2&i){const s=d.MAs(1);d.Q6J("id",r.buttonId)("disabled",r.disabled||null),d.uIk("tabindex",r.disabled?-1:r.tabIndex)("aria-pressed",r.checked)("name",r._getButtonName())("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),d.xp6(5),d.Q6J("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)}},dependencies:[mN],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{--mat-legacy-button-toggle-height:36px;--mat-legacy-button-toggle-shape:2px;--mat-legacy-button-toggle-focus-state-layer-opacity:1;position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-text-font)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-text-font)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0})}return n})(),eU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[yi,rk,yi]})}return n})();function Rq(n,e){if(1&n&&(d.TgZ(0,"mat-icon"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.Oqu(t.icon)}}function Oq(n,e){if(1&n&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.Oqu(t.name)}}function Nq(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"mat-button-toggle",3),d.NdJ("click",function(){const s=d.CHM(t).$implicit,c=d.oxw();return d.KtG(c.newsService.show(s.name))}),d.YNc(1,Rq,2,1,"mat-icon",4),d.YNc(2,Oq,2,1,"span",4),d.qZA()}if(2&n){const t=e.$implicit,i=d.oxw();d.Q6J("value",t.name),d.xp6(1),d.Q6J("ngIf",i.isSmallScreen),d.xp6(1),d.Q6J("ngIf",!i.isSmallScreen)}}function Pq(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"span",5),d.NdJ("click",function(){d.CHM(t);const r=d.oxw();return d.KtG(r.authService.SignOut())}),d._UZ(1,"mat-icon",6),d._uU(2," logout "),d.qZA()}}let Fq=(()=>{class n{onResize(t){this.isSmallScreen=t.target.innerWidth<860,this.windowInnerWidth=window.innerWidth}constructor(t,i,r,s){this.router=t,this.authService=i,this.categoryService=r,this.newsService=s,this.isSmallScreen=!1,this.isAuthenticated=!1,this.categories=this.categoryService.categories,this.showSearchComponent=!1,this.newsListComponent=!1,this.selectedCategory="general",this.categoryChanged=new d.vpe,this.windowInnerWidth=window.innerWidth}onCategoryChange(t){this.selectedCategory=t.value,this.categoryChanged.emit(this.selectedCategory),"Search"===t.value?this.router.navigate(["search"]):"Start"===t.value?this.router.navigate(["top-headlines"]):"Liked"===t.value&&this.router.navigate(["Liked"])}ngOnInit(){this.authService.isAuthenticated().subscribe(t=>{this.isAuthenticated=t})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Cr),d.Y36(Op),d.Y36(GN),d.Y36(Ak))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-toolbar"]],hostBindings:function(i,r){1&i&&d.NdJ("resize",function(c){return r.onResize(c)},!1,d.Jf7)},outputs:{categoryChanged:"categoryChanged"},decls:4,vars:3,consts:[[3,"ngModel","ngModelChange","change"],[3,"value","click",4,"ngFor","ngForOf"],["class","material-symbols-outlined logout",3,"click",4,"ngIf"],[3,"value","click"],[4,"ngIf"],[1,"material-symbols-outlined","logout",3,"click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","logout","id","logout"]],template:function(i,r){1&i&&(d.TgZ(0,"mat-toolbar")(1,"mat-button-toggle-group",0),d.NdJ("ngModelChange",function(c){return r.selectedCategory=c})("change",function(c){return r.onCategoryChange(c)}),d.YNc(2,Nq,3,3,"mat-button-toggle",1),d.qZA(),d.YNc(3,Pq,3,0,"span",2),d.qZA()),2&i&&(d.xp6(1),d.Q6J("ngModel",r.selectedCategory),d.xp6(1),d.Q6J("ngForOf",r.categories),d.xp6(1),d.Q6J("ngIf",r.authService.isLoggedIn))},dependencies:[wo,ro,GB,MN,Dq,XV,JV,Ok],styles:["mat-toolbar[_ngcontent-%COMP%]{font-size:15px!important;padding:0;display:flex;justify-content:space-between;background-color:transparent;border:none}mat-button-toggle-group[_ngcontent-%COMP%]{flex-direction:row;align-items:center;width:100%;margin:0 auto;height:2rem}mat-button-toggle[_ngcontent-%COMP%]:hover{background-color:#ced4da}.material-symbols-outlined[_ngcontent-%COMP%]{cursor:pointer;margin:0 auto}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto;padding:0 1rem}.api[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{font-size:10px;margin:0 auto;padding:0}.logout[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}return n})(),Lq=(()=>{class n{constructor(){this.currentDay="",this.currentDate=new Date,this.currentTime=new Date}ngOnInit(){this.updateTime(),setInterval(()=>this.updateTime(),1e3)}updateTime(){const t=new Date;this.currentDay=this.getDayOfWeek(t.getDay()),this.currentDate=t,this.currentTime=t}getDayOfWeek(t){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-header"]],decls:14,vars:9,consts:[[1,"header"],[1,"clock"],[1,"api"],["href","https://newsapi.org/","target","_blank"],["src","./assets/news_logo.png","alt","logo","width","50"],[1,"banner"],[1,"theHeader"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"div",1)(2,"p"),d._uU(3),d.ALo(4,"date"),d.ALo(5,"date"),d.qZA()(),d.TgZ(6,"div",2)(7,"p"),d._uU(8," Powered by: "),d.TgZ(9,"a",3),d._UZ(10,"img",4),d.qZA()()()(),d.TgZ(11,"div",5)(12,"h1",6),d._uU(13,"InfoHub News: Bringing the World to Your Screen"),d.qZA()()),2&i&&(d.xp6(3),d.lnq(" ",r.currentDay," ",d.xi3(4,3,r.currentTime,"HH:mm:ss")," MST, ",d.xi3(5,6,r.currentDate,"MM-dd-yyyy")," "))},dependencies:[ui],styles:[".clock[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:500}.header[_ngcontent-%COMP%]{background-color:#000;color:#fca311;text-align:center;display:flex;justify-content:space-between;padding:0 2rem}p[_ngcontent-%COMP%]{margin:0;padding:0}.api[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1vh;display:flex;justify-content:center;align-items:center;line-height:0;padding-top:2px}.banner[_ngcontent-%COMP%]{background-image:url(/assets/header.jpg);background-color:#023e8a;background-size:cover;background-repeat:no-repeat;background-position:center;width:100%;height:2em}.theHeader[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#f8edeb;margin:0;padding:0 2rem;font-size:1rem;display:flex;justify-content:flex-end;font-weight:bolder;align-items:center;text-transform:uppercase}"]})}return n})();function Bq(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"app-toolbar",2),d.NdJ("categoryChanged",function(r){d.CHM(t);const s=d.oxw();return d.KtG(s.onCategoryChanged(r))}),d.qZA()}}let Vq=(()=>{class n{constructor(t,i){this.activatedRoute=t,this.router=i,this.title="newsApp",this.selectedCategory="general",this.isLoggedIn=!1,this.isLoginPage=!1,this.activatedRoute.url.subscribe(r=>{this.isLoginPage=r.some(s=>"login"===s.path)}),this.router.events.subscribe(r=>{r instanceof or&&(this.isLoggedIn="/login"!==r.url)})}onCategoryChanged(t){this.selectedCategory=t}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(sr),d.Y36(Cr))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:1,consts:[[1,"container"],[3,"categoryChanged",4,"ngIf"],[3,"categoryChanged"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0),d._UZ(1,"app-header"),d.YNc(2,Bq,1,0,"app-toolbar",1),d._UZ(3,"router-outlet"),d.qZA()),2&i&&(d.xp6(2),d.Q6J("ngIf",r.isLoggedIn&&!r.isLoginPage))},dependencies:[ro,ym,Fq,Lq],styles:[".container[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}"]})}return n})();function tU(n){return new d.vHH(3e3,!1)}function Up(n){switch(n.length){case 0:return new Am;case 1:return n[0];default:return new _T(n)}}function nU(n,e,t=new Map,i=new Map){const r=[],s=[];let c=-1,h=null;if(e.forEach(p=>{const v=p.get("offset"),C=v==c,D=C&&h||new Map;p.forEach((M,F)=>{let U=F,W=M;if("offset"!==F)switch(U=n.normalizePropertyName(U,r),W){case"!":W=t.get(F);break;case $l:W=i.get(F);break;default:W=n.normalizeStyleValue(F,U,W,r)}D.set(U,W)}),C||s.push(D),h=D,c=v}),r.length)throw function c8(n){return new d.vHH(3502,!1)}();return s}function ZN(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&KN(t,"start",n)));break;case"done":n.onDone(()=>i(t&&KN(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&KN(t,"destroy",n)))}}function KN(n,e,t){const s=YN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function YN(n,e,t,i,r="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function nc(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function iU(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const b8=(()=>typeof document>"u"?null:document.documentElement)();function QN(n){const e=n.parentNode||n.host||null;return e===b8?null:e}let Mv=null,rU=!1;function oU(n,e){for(;e;){if(e===n)return!0;e=QN(e)}return!1}function sU(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let aU=(()=>{class n{validateStyleProperty(t){return function x8(n){Mv||(Mv=function E8(){return typeof document<"u"?document.body:null}()||{},rU=!!Mv.style&&"WebkitAppearance"in Mv.style);let e=!0;return Mv.style&&!function w8(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Mv.style,!e&&rU&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Mv.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return oU(t,i)}getParentElement(t){return QN(t)}query(t,i,r){return sU(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,c,h=[],p){return new Am(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})(),XN=(()=>{class n{static#e=this.NOOP=new aU}return n})();const C8=1e3,JN="ng-enter",Pk="ng-leave",Fk="ng-trigger",Lk=".ng-trigger",lU="ng-animating",eP=".ng-animating";function kf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:tP(parseFloat(e[1]),e[2])}function tP(n,e){return"s"===e?n*C8:n}function Bk(n,e,t){return n.hasOwnProperty("duration")?n:function T8(n,e,t){let r,s=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(tU()),{duration:0,delay:0,easing:""};r=tP(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=tP(parseFloat(p),h[4]));const v=h[5];v&&(c=v)}else r=n;if(!t){let h=!1,p=e.length;r<0&&(e.push(function Uq(){return new d.vHH(3100,!1)}()),h=!0),s<0&&(e.push(function jq(){return new d.vHH(3101,!1)}()),h=!0),h&&e.splice(p,0,tU())}return{duration:r,delay:s,easing:c}}(n,e,t)}function QC(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function dU(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function jp(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Uu(n,e,t){e.forEach((i,r)=>{const s=iP(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function Rv(n,e){e.forEach((t,i)=>{const r=iP(i);n.style[r]=""})}function XC(n){return Array.isArray(n)?1==n.length?n[0]:Uh(n):n}const nP=new RegExp("{{\\s*(.+?)\\s*}}","g");function hU(n){let e=[];if("string"==typeof n){let t;for(;t=nP.exec(n);)e.push(t[1]);nP.lastIndex=0}return e}function JC(n,e,t){const i=n.toString(),r=i.replace(nP,(s,c)=>{let h=e[c];return null==h&&(t.push(function zq(n){return new d.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function Vk(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const A8=/-+([a-z0-9])/g;function iP(n){return n.replace(A8,(...e)=>e[1].toUpperCase())}function ic(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function $q(n){return new d.vHH(3004,!1)}()}}function fU(n,e){return window.getComputedStyle(n)[e]}const Uk="*";function R8(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function O8(n,e,t){if(":"==n[0]){const p=function N8(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function r8(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function i8(n){return new d.vHH(3015,!1)}()),e;const r=i[1],s=i[2],c=i[3];e.push(mU(r,c));"<"==s[0]&&!(r==Uk&&c==Uk)&&e.push(mU(c,r))}(i,t,e)):t.push(n),t}const jk=new Set(["true","1"]),Hk=new Set(["false","0"]);function mU(n,e){const t=jk.has(n)||Hk.has(n),i=jk.has(e)||Hk.has(e);return(r,s)=>{let c=n==Uk||n==r,h=e==Uk||e==s;return!c&&t&&"boolean"==typeof r&&(c=r?jk.has(n):Hk.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?jk.has(e):Hk.has(e)),c&&h}}const P8=new RegExp("s*:selfs*,?","g");function rP(n,e,t,i){return new F8(n).build(e,t,i)}class F8{constructor(e){this._driver=e}build(e,t,i){const r=new V8(t);return this._resetContextStyleTimingState(r),ic(this,XC(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function qq(){return new d.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,v=p.name;v.toString().split(/\s*,\s*/).forEach(C=>{p.name=C,s.push(this.visitState(p,t))}),p.name=v}else if(1==h.type){const p=this.visitTransition(h,t);i+=p.queryCount,r+=p.depCount,c.push(p)}else t.errors.push(function Wq(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{hU(p).forEach(v=>{c.hasOwnProperty(v)||s.add(v)})})}),s.size&&(Vk(s.values()),t.errors.push(function Zq(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=ic(this,XC(e.animation),t);return{type:1,matchers:R8(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ov(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>ic(this,i,t)),options:Ov(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(c=>{t.currentTime=i;const h=ic(this,c,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:Ov(e.options)}}visitAnimate(e,t){const i=function j8(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return oP(Bk(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=oP(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=Bk(t,e);return oP(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:on({});if(5==s.type)r=this.visitKeyframes(s,t);else{let c=e.styles,h=!1;if(!c){h=!0;const v={};i.easing&&(v.easing=i.easing),c=on(v)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,t);p.isEmptyStep=h,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===$l?i.push(h):t.errors.push(new d.vHH(3002,!1)):i.push(dU(h));let s=!1,c=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!s))for(let p of h.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,p)=>{const v=t.collectedStyles.get(t.currentQuerySelector),C=v.get(p);let D=!0;C&&(s!=r&&s>=C.startTime&&r<=C.endTime&&(t.errors.push(function Yq(n,e,t,i,r){return new d.vHH(3010,!1)}()),D=!1),s=C.startTime),D&&v.set(p,{startTime:s,endTime:r}),t.options&&function S8(n,e,t){const i=e.params||{},r=hU(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function Hq(n){return new d.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Qq(){return new d.vHH(3011,!1)}()),i;let s=0;const c=[];let h=!1,p=!1,v=0;const C=e.steps.map(ke=>{const ze=this._makeStyleAst(ke,t);let Fe=null!=ze.offset?ze.offset:function U8(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ze.styles),We=0;return null!=Fe&&(s++,We=ze.offset=Fe),p=p||We<0||We>1,h=h||We<v,v=We,c.push(We),ze});p&&t.errors.push(function Xq(){return new d.vHH(3012,!1)}()),h&&t.errors.push(function Jq(){return new d.vHH(3200,!1)}());const D=e.steps.length;let M=0;s>0&&s<D?t.errors.push(function e8(){return new d.vHH(3202,!1)}()):0==s&&(M=1/(D-1));const F=D-1,U=t.currentTime,W=t.currentAnimateTimings,ee=W.duration;return C.forEach((ke,ze)=>{const Fe=M>0?ze==F?1:M*ze:c[ze],We=Fe*ee;t.currentTime=U+W.delay+We,W.duration=We,this._validateStyleAst(ke,t),ke.offset=Fe,i.styles.push(ke)}),i}visitReference(e,t){return{type:8,animation:ic(this,XC(e.animation),t),options:Ov(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ov(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ov(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function L8(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(P8,"")),n=n.replace(/@\*/g,Lk).replace(/@\w+/g,t=>Lk+"-"+t.slice(1)).replace(/:animating/g,eP),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,nc(t.collectedStyles,t.currentQuerySelector,new Map);const h=ic(this,XC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:Ov(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function t8(){return new d.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Bk(e.timings,t.errors,!0);return{type:12,animation:ic(this,XC(e.animation),t),timings:i,options:null}}}class V8{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ov(n){return n?(n=QC(n)).params&&(n.params=function B8(n){return n?QC(n):null}(n.params)):n={},n}function oP(n,e,t){return{duration:n,delay:e,easing:t}}function sP(n,e,t,i,r,s,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:h}}class zk{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const $8=new RegExp(":enter","g"),q8=new RegExp(":leave","g");function aP(n,e,t,i,r,s=new Map,c=new Map,h,p,v=[]){return(new W8).buildKeyframes(n,e,t,i,r,s,c,h,p,v)}class W8{buildKeyframes(e,t,i,r,s,c,h,p,v,C=[]){v=v||new zk;const D=new cP(e,t,v,r,s,C,[]);D.options=p;const M=p.delay?kf(p.delay):0;D.currentTimeline.delayNextStep(M),D.currentTimeline.setStyles([c],null,D.errors,p),ic(this,i,D);const F=D.timelines.filter(U=>U.containsAnimation());if(F.length&&h.size){let U;for(let W=F.length-1;W>=0;W--){const ee=F[W];if(ee.element===t){U=ee;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([h],null,D.errors,p)}return F.length?F.map(U=>U.buildKeyframes()):[sP(t,[],[],[],0,M,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const c="number"==typeof s?s:kf(JC(s,r?.params??{},t.errors));i.delayNextStep(c)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const c=null!=i.duration?kf(i.duration):null,h=null!=i.delay?kf(i.delay):null;return 0!==c&&e.forEach(p=>{const v=t.appendInstructionToTimeline(p,c,h);s=Math.max(s,v.duration+v.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ic(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=$k);const c=kf(s.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>ic(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?kf(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),ic(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Bk(t.params?JC(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?kf(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=$k);let c=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((v,C)=>{t.currentQueryIndex=C;const D=t.createSubContext(e.options,v);s&&D.delayNextStep(s),v===t.element&&(p=D.currentTimeline),ic(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),h=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const C=t.currentTimeline;p&&C.delayNextStep(p);const D=C.currentTime;ic(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const $k={};class cP{constructor(e,t,i,r,s,c,h,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$k,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new Gk(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=kf(i.duration)),null!=i.delay&&(r.delay=kf(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=JC(s[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new cP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=$k,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new Z8(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,c){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace($8,"."+this._enterClassName)).replace(q8,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!s&&0==h.length&&c.push(function n8(n){return new d.vHH(3014,!1)}()),h}}class Gk{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Gk(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||$l),this._currentKeyframe.set(t,$l);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},c=function K8(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,$l)}else jp(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,p]of c){const v=JC(p,s,i);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??$l),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const v=jp(h,new Map,this._backFill);v.forEach((C,D)=>{"!"===C?e.add(D):C===$l&&t.add(D)}),i||v.set("offset",p/this.duration),r.push(v)});const s=e.size?Vk(e.values()):[],c=t.size?Vk(t.values()):[];if(i){const h=r[0],p=new Map(h);h.set("offset",0),p.set("offset",1),r=[h,p]}return sP(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class Z8 extends Gk{constructor(e,t,i,r,s,c,h=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=i+t,h=t/c,p=jp(e[0]);p.set("offset",0),s.push(p);const v=jp(e[0]);v.set("offset",_U(h)),s.push(v);const C=e.length-1;for(let D=1;D<=C;D++){let M=jp(e[D]);const F=M.get("offset");M.set("offset",_U((t+F*i)/c)),s.push(M)}i=c,t=0,r="",e=s}return sP(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function _U(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class lP{}const Y8=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Q8 extends lP{normalizePropertyName(e,t){return iP(e)}normalizeStyleValue(e,t,i,r){let s="";const c=i.toString().trim();if(Y8.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function Gq(n,e){return new d.vHH(3005,!1)}())}return c+s}}function vU(n,e,t,i,r,s,c,h,p,v,C,D,M){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:c,timelines:h,queriedElements:p,preStyleProps:v,postStyleProps:C,totalTime:D,errors:M}}const dP={};class yU{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function X8(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,c,h,p,v,C){const D=[],M=this.ast.options&&this.ast.options.params||dP,U=this.buildStyles(i,h&&h.params||dP,D),W=p&&p.params||dP,ee=this.buildStyles(r,W,D),ke=new Set,ze=new Map,Fe=new Map,We="void"===r,Et={params:J8(W,M),delay:this.ast.options?.delay},Tt=C?[]:aP(e,t,this.ast.animation,s,c,U,ee,Et,v,D);let un=0;if(Tt.forEach(cs=>{un=Math.max(cs.duration+cs.delay,un)}),D.length)return vU(t,this._triggerName,i,r,We,U,ee,[],[],ze,Fe,un,D);Tt.forEach(cs=>{const Pf=cs.element,X4=nc(ze,Pf,new Set);cs.preStyleProps.forEach(qv=>X4.add(qv));const PI=nc(Fe,Pf,new Set);cs.postStyleProps.forEach(qv=>PI.add(qv)),Pf!==t&&ke.add(Pf)});const Bi=Vk(ke.values());return vU(t,this._triggerName,i,r,We,U,ee,Tt,Bi,ze,Fe,un)}}function J8(n,e){const t=QC(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class eW{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=QC(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!==c&&(r[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,h)=>{c&&(c=JC(c,r,t));const p=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,p,c,t),i.set(h,c)})}),i}}class nW{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new eW(r.style,r.options&&r.options.params||{},i))}),bU(this.states,"true","1"),bU(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new yU(e,r,this.states))}),this.fallbackTransition=function iW(n,e,t){return new yU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function bU(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const rW=new zk;class oW{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=rP(this._driver,t,i,[]);if(i.length)throw function l8(n){return new d.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=nU(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let c;const h=new Map;if(s?(c=aP(this._driver,t,s,JN,Pk,new Map,new Map,i,rW,r),c.forEach(C=>{const D=nc(h,C.element,new Map);C.postStyleProps.forEach(M=>D.set(M,null))})):(r.push(function d8(){return new d.vHH(3300,!1)}()),c=[]),r.length)throw function u8(n){return new d.vHH(3504,!1)}();h.forEach((C,D)=>{C.forEach((M,F)=>{C.set(F,this._driver.computeStyle(D,F,$l))})});const v=Up(c.map(C=>{const D=h.get(C.element);return this._buildPlayer(C,new Map,D)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function h8(n){return new d.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=YN(t,"","","");return ZN(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const wU="ng-animate-queued",uP="ng-animate-disabled",dW=[],xU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hd="__ng_removed";class hP{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function pW(n){return n??null}(i?e.value:e),i){const s=QC(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const eI="void",fP=new hP(eI);class hW{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Xc(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function f8(n,e){return new d.vHH(3302,!1)}();if(null==i||0==i.length)throw function m8(n){return new d.vHH(3303,!1)}();if(!function gW(n){return"start"==n||"done"==n}(i))throw function p8(n,e){return new d.vHH(3400,!1)}();const s=nc(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};s.push(c);const h=nc(this._engine.statesByElement,e,new Map);return h.has(t)||(Xc(e,Fk),Xc(e,Fk+"-"+t),h.set(t,fP)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function g8(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),c=new mP(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Xc(e,Fk),Xc(e,Fk+"-"+t),this._engine.statesByElement.set(e,h=new Map));let p=h.get(t);const v=new hP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&v.absorbOptions(p.options),h.set(t,v),p||(p=fP),v.value!==eI&&p.value===v.value){if(!function yW(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,v.params)){const W=[],ee=s.matchStyles(p.value,p.params,W),ke=s.matchStyles(v.value,v.params,W);W.length?this._engine.reportError(W):this._engine.afterFlush(()=>{Rv(e,ee),Uu(e,ke)})}return}const M=nc(this._engine.playersByElement,e,[]);M.forEach(W=>{W.namespaceId==this.id&&W.triggerName==t&&W.queued&&W.destroy()});let F=s.matchTransition(p.value,v.value,e,v.params),U=!1;if(!F){if(!r)return;F=s.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:F,fromState:p,toState:v,player:c,isFallbackTransition:U}),U||(Xc(e,wU),c.onStart(()=>{F0(e,wU)})),c.onDone(()=>{let W=this.players.indexOf(c);W>=0&&this.players.splice(W,1);const ee=this._engine.playersByElement.get(e);if(ee){let ke=ee.indexOf(c);ke>=0&&ee.splice(ke,1)}}),this.players.push(c),M.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Lk,!0);i.forEach(r=>{if(r[hd])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const h=[];if(s.forEach((p,v)=>{if(c.set(v,p.value),this._triggers.has(v)){const C=this.trigger(e,v,eI,r);C&&h.push(C)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&Up(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,v=i.get(c)||fP,C=new hP(eI),D=new mP(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:v,toState:C,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[hd];(!s||s===xU)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Xc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(h=>{if(h.name==i.triggerName){const p=YN(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,ZN(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class fW{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new hW(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){const p=r.get(h);if(p){const v=i.indexOf(p);i.splice(v+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(qk(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!qk(t))return;const s=t[hd];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Xc(e,uP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),F0(e,uP))}removeNode(e,t,i){if(qk(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[hd]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return qk(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Lk,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,eP,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Up(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[hd];if(t&&t.setForRemoval){if(e[hd]=xU,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(uP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Xc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Up(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function _8(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new zk,r=[],s=new Map,c=[],h=new Map,p=new Map,v=new Map,C=new Set;this.disabledNodes.forEach(bt=>{C.add(bt);const Ot=this.driver.query(bt,".ng-animate-queued",!0);for(let Ht=0;Ht<Ot.length;Ht++)C.add(Ot[Ht])});const D=this.bodyNode,M=Array.from(this.statesByElement.keys()),F=IU(M,this.collectedEnterElements),U=new Map;let W=0;F.forEach((bt,Ot)=>{const Ht=JN+W++;U.set(Ot,Ht),bt.forEach(Sn=>Xc(Sn,Ht))});const ee=[],ke=new Set,ze=new Set;for(let bt=0;bt<this.collectedLeaveElements.length;bt++){const Ot=this.collectedLeaveElements[bt],Ht=Ot[hd];Ht&&Ht.setForRemoval&&(ee.push(Ot),ke.add(Ot),Ht.hasAnimation?this.driver.query(Ot,".ng-star-inserted",!0).forEach(Sn=>ke.add(Sn)):ze.add(Ot))}const Fe=new Map,We=IU(M,Array.from(ke));We.forEach((bt,Ot)=>{const Ht=Pk+W++;Fe.set(Ot,Ht),bt.forEach(Sn=>Xc(Sn,Ht))}),e.push(()=>{F.forEach((bt,Ot)=>{const Ht=U.get(Ot);bt.forEach(Sn=>F0(Sn,Ht))}),We.forEach((bt,Ot)=>{const Ht=Fe.get(Ot);bt.forEach(Sn=>F0(Sn,Ht))}),ee.forEach(bt=>{this.processLeaveNode(bt)})});const Et=[],Tt=[];for(let bt=this._namespaceList.length-1;bt>=0;bt--)this._namespaceList[bt].drainQueuedTransitions(t).forEach(Ht=>{const Sn=Ht.player,yo=Ht.element;if(Et.push(Sn),this.collectedEnterElements.length){const ls=yo[hd];if(ls&&ls.setForMove){if(ls.previousTriggersValues&&ls.previousTriggersValues.has(Ht.triggerName)){const Wv=ls.previousTriggersValues.get(Ht.triggerName),nl=this.statesByElement.get(Ht.element);if(nl&&nl.has(Ht.triggerName)){const VM=nl.get(Ht.triggerName);VM.value=Wv,nl.set(Ht.triggerName,VM)}}return void Sn.destroy()}}const Zu=!D||!this.driver.containsElement(D,yo),ac=Fe.get(yo),Jp=U.get(yo),Yi=this._buildInstruction(Ht,i,Jp,ac,Zu);if(Yi.errors&&Yi.errors.length)return void Tt.push(Yi);if(Zu)return Sn.onStart(()=>Rv(yo,Yi.fromStyles)),Sn.onDestroy(()=>Uu(yo,Yi.toStyles)),void r.push(Sn);if(Ht.isFallbackTransition)return Sn.onStart(()=>Rv(yo,Yi.fromStyles)),Sn.onDestroy(()=>Uu(yo,Yi.toStyles)),void r.push(Sn);const tH=[];Yi.timelines.forEach(ls=>{ls.stretchStartingKeyframe=!0,this.disabledNodes.has(ls.element)||tH.push(ls)}),Yi.timelines=tH,i.append(yo,Yi.timelines),c.push({instruction:Yi,player:Sn,element:yo}),Yi.queriedElements.forEach(ls=>nc(h,ls,[]).push(Sn)),Yi.preStyleProps.forEach((ls,Wv)=>{if(ls.size){let nl=p.get(Wv);nl||p.set(Wv,nl=new Set),ls.forEach((VM,UF)=>nl.add(UF))}}),Yi.postStyleProps.forEach((ls,Wv)=>{let nl=v.get(Wv);nl||v.set(Wv,nl=new Set),ls.forEach((VM,UF)=>nl.add(UF))})});if(Tt.length){const bt=[];Tt.forEach(Ot=>{bt.push(function v8(n,e){return new d.vHH(3505,!1)}())}),Et.forEach(Ot=>Ot.destroy()),this.reportError(bt)}const un=new Map,Bi=new Map;c.forEach(bt=>{const Ot=bt.element;i.has(Ot)&&(Bi.set(Ot,Ot),this._beforeAnimationBuild(bt.player.namespaceId,bt.instruction,un))}),r.forEach(bt=>{const Ot=bt.element;this._getPreviousPlayers(Ot,!1,bt.namespaceId,bt.triggerName,null).forEach(Sn=>{nc(un,Ot,[]).push(Sn),Sn.destroy()})});const cs=ee.filter(bt=>DU(bt,p,v)),Pf=new Map;CU(Pf,this.driver,ze,v,$l).forEach(bt=>{DU(bt,p,v)&&cs.push(bt)});const PI=new Map;F.forEach((bt,Ot)=>{CU(PI,this.driver,new Set(bt),p,"!")}),cs.forEach(bt=>{const Ot=Pf.get(bt),Ht=PI.get(bt);Pf.set(bt,new Map([...Ot?.entries()??[],...Ht?.entries()??[]]))});const qv=[],J4=[],eH={};c.forEach(bt=>{const{element:Ot,player:Ht,instruction:Sn}=bt;if(i.has(Ot)){if(C.has(Ot))return Ht.onDestroy(()=>Uu(Ot,Sn.toStyles)),Ht.disabled=!0,Ht.overrideTotalTime(Sn.totalTime),void r.push(Ht);let yo=eH;if(Bi.size>1){let ac=Ot;const Jp=[];for(;ac=ac.parentNode;){const Yi=Bi.get(ac);if(Yi){yo=Yi;break}Jp.push(ac)}Jp.forEach(Yi=>Bi.set(Yi,yo))}const Zu=this._buildAnimation(Ht.namespaceId,Sn,un,s,PI,Pf);if(Ht.setRealPlayer(Zu),yo===eH)qv.push(Ht);else{const ac=this.playersByElement.get(yo);ac&&ac.length&&(Ht.parentPlayer=Up(ac)),r.push(Ht)}}else Rv(Ot,Sn.fromStyles),Ht.onDestroy(()=>Uu(Ot,Sn.toStyles)),J4.push(Ht),C.has(Ot)&&r.push(Ht)}),J4.forEach(bt=>{const Ot=s.get(bt.element);if(Ot&&Ot.length){const Ht=Up(Ot);bt.setRealPlayer(Ht)}}),r.forEach(bt=>{bt.parentPlayer?bt.syncPlayerEvents(bt.parentPlayer):bt.destroy()});for(let bt=0;bt<ee.length;bt++){const Ot=ee[bt],Ht=Ot[hd];if(F0(Ot,Pk),Ht&&Ht.hasAnimation)continue;let Sn=[];if(h.size){let Zu=h.get(Ot);Zu&&Zu.length&&Sn.push(...Zu);let ac=this.driver.query(Ot,eP,!0);for(let Jp=0;Jp<ac.length;Jp++){let Yi=h.get(ac[Jp]);Yi&&Yi.length&&Sn.push(...Yi)}}const yo=Sn.filter(Zu=>!Zu.destroyed);yo.length?_W(this,Ot,yo):this.processLeaveNode(Ot)}return ee.length=0,qv.forEach(bt=>{this.players.push(bt),bt.onDone(()=>{bt.destroy();const Ot=this.players.indexOf(bt);this.players.splice(Ot,1)}),bt.play()}),qv}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==eI;h.forEach(v=>{v.queued||!p&&v.triggerName!=r||c.push(v)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(e,t,i){const s=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const v=p.element,C=v!==s,D=nc(i,v,[]);this._getPreviousPlayers(v,C,c,h,t.toState).forEach(F=>{const U=F.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),F.destroy(),D.push(F)})}Rv(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,c){const h=t.triggerName,p=t.element,v=[],C=new Set,D=new Set,M=t.timelines.map(U=>{const W=U.element;C.add(W);const ee=W[hd];if(ee&&ee.removedBeforeQueried)return new Am(U.duration,U.delay);const ke=W!==p,ze=function vW(n){const e=[];return TU(n,e),e}((i.get(W)||dW).map(un=>un.getRealPlayer())).filter(un=>!!un.element&&un.element===W),Fe=s.get(W),We=c.get(W),Et=nU(this._normalizer,U.keyframes,Fe,We),Tt=this._buildPlayer(U,Et,ze);if(U.subTimeline&&r&&D.add(W),ke){const un=new mP(e,h,W);un.setRealPlayer(Tt),v.push(un)}return Tt});v.forEach(U=>{nc(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function mW(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,U.element,U))}),C.forEach(U=>Xc(U,lU));const F=Up(M);return F.onDestroy(()=>{C.forEach(U=>F0(U,lU)),Uu(p,t.toStyles)}),D.forEach(U=>{nc(r,U,[]).push(F)}),F}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Am(e.duration,e.delay)}}class mP{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Am,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>ZN(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){nc(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function qk(n){return n&&1===n.nodeType}function EU(n,e){const t=n.style.display;return n.style.display=e??"none",t}function CU(n,e,t,i,r){const s=[];t.forEach(p=>s.push(EU(p)));const c=[];i.forEach((p,v)=>{const C=new Map;p.forEach(D=>{const M=e.computeStyle(v,D,r);C.set(D,M),(!M||0==M.length)&&(v[hd]=uW,c.push(v))}),n.set(v,C)});let h=0;return t.forEach(p=>EU(p,s[h++])),c}function IU(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function c(h){if(!h)return 1;let p=s.get(h);if(p)return p;const v=h.parentNode;return p=t.has(v)?v:r.has(v)?1:c(v),s.set(h,p),p}return e.forEach(h=>{const p=c(h);1!==p&&t.get(p).push(h)}),t}function Xc(n,e){n.classList?.add(e)}function F0(n,e){n.classList?.remove(e)}function _W(n,e,t){Up(t).onDone(()=>n.processLeaveNode(e))}function TU(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof _T?TU(i.players,e):e.push(i)}}function DU(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class Wk{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new fW(e,t,i),this._timelineEngine=new oW(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const c=e+"-"+r;let h=this._triggerCache[c];if(!h){const p=[],C=rP(this._driver,s,p,[]);if(p.length)throw function a8(n,e){return new d.vHH(3404,!1)}();h=function tW(n,e,t){return new nW(n,e,t)}(r,C,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,c]=iU(i);this._timelineEngine.command(s,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[c,h]=iU(i);return this._timelineEngine.listen(c,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let wW=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Uu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Uu(this._element,this._initialStyles),this._endStyles&&(Uu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Rv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rv(this._element,this._endStyles),this._endStyles=null),Uu(this._element,this._initialStyles),this._state=3)}}return n})();function pP(n){let e=null;return n.forEach((t,i)=>{(function xW(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class SU{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:fU(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class EW{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return oU(e,t)}getParentElement(e){return QN(e)}query(e,t,i){return sU(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const v=new Map,C=c.filter(F=>F instanceof SU);(function k8(n,e){return 0===n||0===e})(i,r)&&C.forEach(F=>{F.currentSnapshot.forEach((U,W)=>v.set(W,U))});let D=function D8(n){return n.length?n[0]instanceof Map?n:n.map(e=>dU(e)):[]}(t).map(F=>jp(F));D=function M8(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,c)=>{i.has(c)||r.push(c),i.set(c,s)}),r.length)for(let s=1;s<e.length;s++){let c=e[s];r.forEach(h=>c.set(h,fU(n,h)))}}return e}(e,D,v);const M=function bW(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=pP(e[0]),e.length>1&&(i=pP(e[e.length-1]))):e instanceof Map&&(t=pP(e)),t||i?new wW(n,t,i):null}(e,D);return new SU(e,D,p,M)}}let CW=(()=>{class n extends wy{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Uh(t):t;return AU(this._renderer,null,i,"register",[r]),new IW(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(d.FYo),d.LFG(te))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();class IW extends xy{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new TW(this._id,e,t||{},this._renderer)}}class TW{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return AU(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function AU(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const kU="@.disabled";let DW=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,c)=>{const h=c?.parentNode(s);h&&c.removeChild(h,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(s);return C||(C=new MU("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,C)),C}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=C=>{Array.isArray(C)?C.forEach(p):this.engine.registerTrigger(c,h,t,C.name,C)};return i.data.animation.forEach(p),new SW(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,h]=s;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(d.FYo),d.LFG(Wk),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();class MU{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==kU?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class SW extends MU{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==kU?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function AW(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function kW(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let MW=(()=>{class n extends Wk{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(te),d.LFG(XN),d.LFG(lP),d.LFG(d.z2F))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const RU=[{provide:wy,useClass:CW},{provide:lP,useFactory:function RW(){return new Q8}},{provide:Wk,useClass:MW},{provide:d.FYo,useFactory:function OW(n,e,t){return new DW(n,e,t)},deps:[fn,Wk,d.R0b]}],gP=[{provide:XN,useFactory:()=>new EW},{provide:d.QbO,useValue:"BrowserAnimations"},...RU],OU=[{provide:XN,useClass:aU},{provide:d.QbO,useValue:"NoopAnimations"},...RU];let NW=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?OU:gP}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:gP,imports:[na]})}return n})(),vP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[sB,Di,yi,rk,h$,ak]})}return n})(),d9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})(),m9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})(),VU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Di,yi,d9,m9]})}return n})(),p9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Di,qN,sk,eU,ak,vP,rB,Nk,VN,jC,WC,CV,WC,VU,Di,qN,sk,eU,ak,vP,rB,Nk,VN,jC,WC,CV,WC,VU]})}return n})();const UU="firebasestorage.googleapis.com",jU="storageBucket";class Zi extends P.ZR{constructor(e,t,i=0){super(yP(e),`Firebase Storage: ${t} (${yP(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Fi=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Fi||{});function yP(n){return"storage/"+n}function bP(){return new Zi(Fi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function HU(){return new Zi(Fi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zU(){return new Zi(Fi.CANCELED,"User canceled the upload/download.")}function $U(){return new Zi(Fi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function L0(n){return new Zi(Fi.INVALID_ARGUMENT,n)}function GU(){return new Zi(Fi.APP_DELETED,"The Firebase app was deleted.")}function qU(n){return new Zi(Fi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tI(n,e){return new Zi(Fi.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function nI(n){throw new Zi(Fi.INTERNAL_ERROR,"Internal error: "+n)}class ss{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ss.makeFromUrl(e,t)}catch{return new ss(e,"")}if(""===i.path)return i;throw function I9(n){return new Zi(Fi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(We){We.path_=decodeURIComponent(We.path)}const D=t.replace(/[.]/g,"\\."),Fe=[{regex:h,indices:{bucket:1,path:3},postModify:function s(We){"/"===We.path.charAt(We.path.length-1)&&(We.path_=We.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===UU?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let We=0;We<Fe.length;We++){const Et=Fe[We],Tt=Et.regex.exec(e);if(Tt){let Bi=Tt[Et.indices.path];Bi||(Bi=""),i=new ss(Tt[Et.indices.bucket],Bi),Et.postModify(i);break}}if(null==i)throw function C9(n){return new Zi(Fi.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class k9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Kk(n){return"string"==typeof n||n instanceof String}function WU(n){return wP()&&n instanceof Blob}function wP(){return typeof Blob<"u"&&!(0,P.UG)()}function xP(n,e,t,i){if(i<e)throw L0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw L0(`Invalid value for '${n}'. Expected ${t} or less.`)}function Mf(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function ZU(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var B0=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(B0||{});function KU(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class F9{constructor(e,t,i,r,s,c,h,p,v,C,D,M=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=C,this.connectionFactory_=D,this.retry=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,U)=>{this.resolve_=F,this.reject_=U,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function O9(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==h){const p=bP();p.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,p):p)}else c(r.canceled?this.appDelete_?GU():zU():HU())};this.canceled_?t(0,new Yk(!1,null,!0)):this.backoffId_=function M9(n,e,t){let i=1,r=null,s=null,c=!1,h=0;function p(){return 2===h}let v=!1;function C(...ee){v||(v=!0,e.apply(null,ee))}function D(ee){r=setTimeout(()=>{r=null,n(F,p())},ee)}function M(){s&&clearTimeout(s)}function F(ee,...ke){if(v)return void M();if(ee)return M(),void C.call(null,ee,...ke);if(p()||c)return M(),void C.call(null,ee,...ke);let Fe;i<64&&(i*=2),1===h?(h=2,Fe=0):Fe=1e3*(i+Math.random()),D(Fe)}let U=!1;function W(ee){U||(U=!0,M(),!v&&(null!==r?(ee||(h=2),clearTimeout(r),D(0)):ee||(h=1)))}return D(0),s=setTimeout(()=>{c=!0,W(!0)},t),W}((i,r)=>{if(r)return void i(!1,new Yk(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const h=s.getErrorCode()===B0.NO_ERROR,p=s.getStatus();if(!h||KU(p,this.additionalRetryCodes_)&&this.retry){const C=s.getErrorCode()===B0.ABORT;return void i(!1,new Yk(!1,null,C))}const v=-1!==this.successCodes_.indexOf(p);i(!0,new Yk(v,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function R9(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Yk{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function z9(...n){const e=function H9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(wP())return new Blob(n);throw new Zi(Fi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const rc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class EP{constructor(e,t){this.data=e,this.contentType=t||null}}function CP(n,e){switch(n){case rc.RAW:return new EP(YU(e));case rc.BASE64:case rc.BASE64URL:return new EP(QU(n,e));case rc.DATA_URL:return new EP(function W9(n){const e=new XU(n);return e.base64?QU(rc.BASE64,e.rest):function q9(n){let e;try{e=decodeURIComponent(n)}catch{throw tI(rc.DATA_URL,"Malformed data URL.")}return YU(e)}(e.rest)}(e),function Z9(n){return new XU(n).contentType}(e))}throw bP()}function YU(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function QU(n,e){switch(n){case rc.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw tI(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case rc.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw tI(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function G9(n){if(typeof atob>"u")throw function A9(n){return new Zi(Fi.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:tI(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class XU{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw tI(rc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function K9(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class ju{constructor(e,t){let i=0,r="";WU(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(WU(this.data_)){const r=function $9(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new ju(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new ju(i,!0)}}static getBlob(...e){if(wP()){const t=e.map(i=>i instanceof ju?i.data_:i);return new ju(z9.apply(null,t))}{const t=e.map(c=>Kk(c)?CP(rc.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)r[s++]=c[h]}),new ju(r,!0)}}uploadData(){return this.data_}}function IP(n){let e;try{e=JSON.parse(n)}catch{return null}return function P9(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function JU(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function X9(n,e){return e}class js{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||X9}}let Qk=null;function iI(){if(Qk)return Qk;const n=[];n.push(new js("bucket")),n.push(new js("generation")),n.push(new js("metageneration")),n.push(new js("name","fullPath",!0));const t=new js("name");t.xform=function e(s,c){return function J9(n){return!Kk(n)||n.length<2?n:JU(n)}(c)},n.push(t);const r=new js("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new js("timeCreated")),n.push(new js("updated")),n.push(new js("md5Hash",null,!0)),n.push(new js("cacheControl",null,!0)),n.push(new js("contentDisposition",null,!0)),n.push(new js("contentEncoding",null,!0)),n.push(new js("contentLanguage",null,!0)),n.push(new js("contentType",null,!0)),n.push(new js("metadata","customMetadata",!0)),Qk=n,Qk}function ej(n,e,t){const i=IP(e);return null===i?null:function t7(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const c=t[s];i[c.local]=c.xform(i,e[c.server])}return function e7(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new ss(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function TP(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const tj="prefixes",nj="items";class Hu{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function zu(n){if(!n)throw bP()}function Xk(n,e){return function t(i,r){const s=ej(n,r,e);return zu(null!==s),s}}function V0(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function x9(){return new Zi(Fi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function w9(){return new Zi(Fi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function b9(n){return new Zi(Fi.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function E9(n){return new Zi(Fi.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function rI(n){const e=V0(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function y9(n){return new Zi(Fi.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function ij(n,e,t){const r=Mf(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Hu(r,"GET",Xk(n,t),c);return h.errorHandler=rI(e),h}function a7(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const h=Mf(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,C=new Hu(h,"GET",function o7(n,e){return function t(i,r){const s=function r7(n,e,t){const i=IP(t);return null===i?null:function i7(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[tj])for(const r of t[tj]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new ss(e,s));i.prefixes.push(c)}if(t[nj])for(const r of t[nj]){const s=n._makeStorageReference(new ss(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return zu(null!==s),s}}(n,e.bucket),v);return C.urlParams=s,C.errorHandler=V0(e),C}function oj(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function u7(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class Jk{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function DP(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{zu(!1)}return zu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const p7={STATE_CHANGED:"state_changed"},Hs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function SP(n){switch(n){case"running":case"pausing":case"canceling":return Hs.RUNNING;case"paused":return Hs.PAUSED;case"success":return Hs.SUCCESS;case"canceled":return Hs.CANCELED;default:return Hs.ERROR}}class g7{constructor(e,t,i){if(function N9(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function U0(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let cj=null;class _7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=B0.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=B0.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=B0.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw nI("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nI("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nI("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nI("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nI("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class v7 extends _7{initXhr(){this.xhr_.responseType="text"}}function fd(){return cj?cj():new v7}class lj{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=iI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Fi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(KU(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=HU()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Fi.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function h7(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c=oj(e,i,r),h={name:c.fullPath},p=Mf(s,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},D=TP(c,t),U=new Hu(p,"POST",function F(W){let ee;DP(W);try{ee=W.getResponseHeader("X-Goog-Upload-URL")}catch{zu(!1)}return zu(Kk(ee)),ee},n.maxUploadRetryTime);return U.urlParams=h,U.headers=C,U.body=D,U.errorHandler=V0(e),U}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,fd,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function f7(n,e,t,i){const p=new Hu(t,"POST",function s(v){const C=DP(v,["active","final"]);let D=null;try{D=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{zu(!1)}D||zu(!1);const M=Number(D);return zu(!isNaN(M)),new Jk(M,i.size(),"final"===C)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=V0(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,fd,t,i);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new Jk(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function m7(n,e,t,i,r,s,c,h){const p=new Jk(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function D9(){return new Zi(Fi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=p.total-p.current;let C=v;r>0&&(C=Math.min(C,r));const D=p.current;let F="";F=0===C?"finalize":v===C?"upload, finalize":"upload";const U={"X-Goog-Upload-Command":F,"X-Goog-Upload-Offset":`${p.current}`},W=i.slice(D,D+C);if(null===W)throw $U();const Fe=new Hu(t,"POST",function ee(We,Et){const Tt=DP(We,["active","final"]),un=p.current+C,Bi=i.size();let cs;return cs="final"===Tt?Xk(e,s)(We,Et):null,new Jk(un,Bi,"final"===Tt,cs)},e.maxUploadRetryTime);return Fe.headers=U,Fe.body=W.uploadData(),Fe.progressCallback=h||null,Fe.errorHandler=V0(n),Fe}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(c,fd,r,s,!1);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=ij(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,fd,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function sj(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let Fe="";for(let We=0;We<2;We++)Fe+=Math.random().toString().slice(2);return Fe}();c["Content-Type"]="multipart/related; boundary="+p;const v=oj(e,i,r),C=TP(v,t),F=ju.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+p+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===F)throw $U();const U={name:v.fullPath},W=Mf(s,n.host,n._protocol),ke=n.maxUploadRetryTime,ze=new Hu(W,"POST",Xk(n,t),ke);return ze.urlParams=U,ze.headers=c,ze.body=F.uploadData(),ze.errorHandler=V0(e),ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,fd,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=zU(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=SP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new g7(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(SP(this._state)){case Hs.SUCCESS:U0(this._resolve.bind(null,this.snapshot))();break;case Hs.CANCELED:case Hs.ERROR:U0(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(SP(this._state)){case Hs.RUNNING:case Hs.PAUSED:e.next&&U0(e.next.bind(e,this.snapshot))();break;case Hs.SUCCESS:e.complete&&U0(e.complete.bind(e))();break;default:e.error&&U0(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Nv{constructor(e,t){this._service=e,this._location=t instanceof ss?t:ss.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Nv(e,t)}get root(){const e=new ss(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JU(this._location.path)}get storage(){return this._service}get parent(){const e=function Y9(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ss(this._location.bucket,e);return new Nv(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw qU(e)}}function uj(n,e,t){return AP.apply(this,arguments)}function AP(){return AP=(0,ve.Z)(function*(n,e,t){const r=yield hj(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield uj(n,e,r.nextPageToken))}),AP.apply(this,arguments)}function hj(n,e){null!=e&&"number"==typeof e.maxResults&&xP("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=a7(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,fd)}function k7(n){n._throwIfRoot("getDownloadURL");const e=function c7(n,e,t){const r=Mf(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Hu(r,"GET",function s7(n,e){return function t(i,r){const s=ej(n,r,e);return zu(null!==s),function n7(n,e,t,i){const r=IP(e);if(null===r||!Kk(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(v=>{const D=n.fullPath;return Mf("/b/"+c(n.bucket)+"/o/"+c(D),t,i)+ZU({alt:"media",token:v})})[0]}(s,r,n.host,n._protocol)}}(n,t),c);return h.errorHandler=rI(e),h}(n.storage,n._location,iI());return n.storage.makeRequestWithTokens(e,fd).then(t=>{if(null===t)throw function S9(){return new Zi(Fi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function fj(n,e){const t=function Q9(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new ss(n._location.bucket,t);return new Nv(n.storage,i)}function mj(n,e){if(n instanceof kP){const t=n;if(null==t._bucket)throw function T9(){return new Zi(Fi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jU+"' property when initializing the app?")}();const i=new Nv(t,t._bucket);return null!=e?mj(i,e):i}return void 0!==e?fj(n,e):n}function N7(n,e){if(e&&function R7(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof kP)return function O7(n,e){return new Nv(n,e)}(n,e);throw L0("To use ref(service, url), the first argument must be a Storage instance.")}return mj(n,e)}function pj(n,e){const t=e?.[jU];return null==t?null:ss.makeFromBucketSpec(t,n)}class kP{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=UU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ss.makeFromBucketSpec(r,this._host):pj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ss.makeFromBucketSpec(this._url,e):pj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ve.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ve.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Nv(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new k9(GU());{const c=function j9(n,e,t,i,r,s,c=!0){const h=ZU(n.urlParams),p=n.url+h,v=Object.assign({},n.headers);return function V9(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function L9(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function B9(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,s),function U9(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,i),new F9(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var i=this;return(0,ve.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const gj="@firebase/storage";function yj(n,e){return N7(n=(0,P.m9)(n),e)}function $7(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new kP(t,i,r,e,Ao.SDK_VERSION)}!function G7(){(0,Ao._registerComponent)(new As.wA("storage",$7,"PUBLIC").setMultipleInstances(!0)),(0,Ao.registerVersion)(gj,"0.11.2",""),(0,Ao.registerVersion)(gj,"0.11.2","esm2017")}();class eM{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class wj{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new eM(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new eM(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?c=>t(new eM(c,this,this._ref)):{next:t.next?c=>t.next(new eM(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class xj{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Rf(e,this._service))}get items(){return this._delegate.items.map(e=>new Rf(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Rf{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function z7(n,e){return fj(n,e)}(this._delegate,e);return new Rf(t,this.storage)}get root(){return new Rf(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Rf(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new wj(function F7(n,e,t){return function I7(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new lj(n,new ju(e),t)}(n=(0,P.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=rc.RAW,i){this._throwIfRoot("putString");const r=CP(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new wj(new lj(this._delegate,new ju(r.data,!0),s),this)}listAll(){return function U7(n){return function D7(n){const e={prefixes:[],items:[]};return uj(n,e).then(()=>e)}(n=(0,P.m9)(n))}(this._delegate).then(e=>new xj(e,this.storage))}list(e){return function V7(n,e){return hj(n=(0,P.m9)(n),e)}(this._delegate,e||void 0).then(t=>new xj(t,this.storage))}getMetadata(){return function L7(n){return function S7(n){n._throwIfRoot("getMetadata");const e=ij(n.storage,n._location,iI());return n.storage.makeRequestWithTokens(e,fd)}(n=(0,P.m9)(n))}(this._delegate)}updateMetadata(e){return function B7(n,e){return function A7(n,e){n._throwIfRoot("updateMetadata");const t=function l7(n,e,t,i){const s=Mf(e.fullServerUrl(),n.host,n._protocol),h=TP(t,i),v=n.maxOperationRetryTime,C=new Hu(s,"PATCH",Xk(n,i),v);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=h,C.errorHandler=rI(e),C}(n.storage,n._location,e,iI());return n.storage.makeRequestWithTokens(t,fd)}(n=(0,P.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function j7(n){return k7(n=(0,P.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function H7(n){return function M7(n){n._throwIfRoot("deleteObject");const e=function d7(n,e){const i=Mf(e.fullServerUrl(),n.host,n._protocol),h=new Hu(i,"DELETE",function c(p,v){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=rI(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,fd)}(n=(0,P.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw qU(e)}}class Ej{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Cj(e))throw L0("ref() expected a child path but got a URL, use refFromURL instead.");return new Rf(yj(this._delegate,e),this)}refFromURL(e){if(!Cj(e))throw L0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ss.makeFromUrl(e,this._delegate.host)}catch{throw L0("refFromUrl() expected a valid full URL but got an invalid one.")}return new Rf(yj(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function bj(n,e,t,i={}){!function P7(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,P.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function Cj(n){return/^[A-Za-z]+:\/\//.test(n)}function K7(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new Ej(t,i)}function Ij(n){const e=function Q7(n){return new Ei.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe(tk(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,ft.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function tM(n){return{getDownloadURL:()=>(0,ot.of)(void 0).pipe(Dn.fc,(0,kn.w)(()=>n.getDownloadURL()),Dn.iC),getMetadata:()=>(0,ot.of)(void 0).pipe(Dn.fc,(0,kn.w)(()=>n.getMetadata()),Dn.iC),delete:()=>(0,mn.D)(n.delete()),child:e=>tM(n.child(e)),updateMetadata:e=>(0,mn.D)(n.updateMetadata(e)),put:(e,t)=>Ij(n.put(e,t)),putString:(e,t,i)=>Ij(n.putString(e,t,i)),list:e=>(0,mn.D)(n.list(e)),listAll:()=>(0,mn.D)(n.listAll())}}!function Y7(n){const e={TaskState:Hs,TaskEvent:p7,StringFormat:rc,Storage:Ej,Reference:Rf};n.INTERNAL.registerComponent(new As.wA("storage-compat",K7,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(vT.Z);const X7=new d.OlP("angularfire2.storageBucket"),J7=new d.OlP("angularfire2.storage.maxUploadRetryTime"),eZ=new d.OlP("angularfire2.storage.maxOperationRetryTime"),tZ=new d.OlP("angularfire2.storage.use-emulator");let nZ=(()=>{class n{constructor(t,i,r,s,c,h,p,v,C,D){const M=(0,Ir.on)(t,c,i);this.storage=(0,Ir.cc)(`${M.name}.storage.${r}`,"AngularFireStorage",M.name,()=>{const F=c.runOutsideAngular(()=>M.storage(r||void 0)),U=C;return U&&F.useEmulator(...U),p&&F.setMaxUploadRetryTime(p),v&&F.setMaxOperationRetryTime(v),F},[p,v])}ref(t){return tM(this.storage.ref(t))}refFromURL(t){return tM(this.storage.refFromURL(t))}upload(t,i,r){return tM(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ir.Dh),d.LFG(Ir.xv,8),d.LFG(X7,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Dn.HU),d.LFG(J7,8),d.LFG(eZ,8),d.LFG(tZ,8),d.LFG(RC,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),iZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),rZ=(()=>{class n{constructor(){XA.Z.registerVersion("angularfire",Dn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[nZ],imports:[iZ]}),n})();const Tj="@firebase/database";let MP="";function Sj(n){MP=n}class aZ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,P.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,P.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class cZ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,P.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Aj=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new aZ(e)}}catch{}return new cZ},Pv=Aj("localStorage"),RP=Aj("sessionStorage"),j0=new ks.Yd("@firebase/database"),kj=function(){let n=1;return function(){return n++}}(),Mj=function(n){const e=(0,P.dS)(n),t=new P.gQ;t.update(e);const i=t.digest();return P.US.encodeByteArray(i)},oI=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=oI.apply(null,i):e+="object"==typeof i?(0,P.Wl)(i):i,e+=" "}return e};let Fv=null,Rj=!0;const Oj=function(n,e){(0,P.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(j0.logLevel=ks.in.VERBOSE,Fv=j0.log.bind(j0),e&&RP.set("logging_enabled",!0)):"function"==typeof n?Fv=n:(Fv=null,RP.remove("logging_enabled"))},_o=function(...n){if(!0===Rj&&(Rj=!1,null===Fv&&!0===RP.get("logging_enabled")&&Oj(!0)),Fv){const e=oI.apply(null,n);Fv(e)}},sI=function(n){return function(...e){_o(n,...e)}},OP=function(...n){const e="FIREBASE INTERNAL ERROR: "+oI(...n);j0.error(e)},$u=function(...n){const e=`FIREBASE FATAL ERROR: ${oI(...n)}`;throw j0.error(e),new Error(e)},as=function(...n){const e="FIREBASE WARNING: "+oI(...n);j0.warn(e)},nM=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Hp="[MIN_NAME]",Of="[MAX_NAME]",Lv=function(n,e){if(n===e)return 0;if(n===Hp||e===Of)return-1;if(e===Hp||n===Of)return 1;{const t=Fj(n),i=Fj(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},uZ=function(n,e){return n===e?0:n<e?-1:1},aI=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,P.Wl)(e))},NP=function(n){if("object"!=typeof n||null===n)return(0,P.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,P.Wl)(e[i]),t+=":",t+=NP(n[e[i]]);return t+="}",t},Nj=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function vo(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const Pj=function(n){(0,P.hu)(!nM(n),"Invalid JSON number");const i=1023;let r,s,c,h,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const v=[];for(p=52;p;p-=1)v.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)v.push(s%2?1:0),s=Math.floor(s/2);v.push(r?1:0),v.reverse();const C=v.join("");let D="";for(p=0;p<64;p+=8){let M=parseInt(C.substr(p,8),2).toString(16);1===M.length&&(M="0"+M),D+=M}return D.toLowerCase()},pZ=new RegExp("^-?(0*)\\d{1,10}$"),Fj=function(n){if(pZ.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},H0=function(n){try{n()}catch(e){setTimeout(()=>{throw as("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},cI=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class yZ{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){as(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class bZ{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(_o("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',as(e)}}let lI=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const jj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$j="websocket",Gj="long_polling";class FP{constructor(e,t,i,r,s=!1,c="",h=!1,p=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pv.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Pv.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function qj(n,e,t){let i;if((0,P.hu)("string"==typeof e,"typeof type must == string"),(0,P.hu)("object"==typeof t,"typeof params must == object"),e===$j)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==Gj)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function wZ(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return vo(t,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class xZ{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,P.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,P.p$)(this.counters_)}}const LP={},BP={};function VP(n){const e=n.toString();return LP[e]||(LP[e]=new xZ),LP[e]}class CZ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&H0(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class zp{constructor(e,t,i,r,s,c,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sI(e),this.stats_=VP(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),qj(t,Gj,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new CZ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,P.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new UP((...s)=>{const[c,h,p,v,C]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&jj.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zp.forceAllow_=!0}static forceDisallow(){zp.forceDisallow_=!0}static isAvailable(){return!((0,P.Yr)()||!zp.forceAllow_&&(zp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,P.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,P.h$)(t),r=Nj(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,P.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,P.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class UP{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,P.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=kj(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=UP.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){_o("frame writing exception"),h.stack&&_o(h.stack),_o(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||_o("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,P.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{_o("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let rM=null;typeof MozWebSocket<"u"?rM=MozWebSocket:typeof WebSocket<"u"&&(rM=WebSocket);let z0=(()=>{class n{constructor(t,i,r,s,c,h,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sI(this.connId),this.stats_=VP(i),this.connURL=n.connectionURL_(i,h,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,c){const h={v:"5"};return!(0,P.Yr)()&&typeof location<"u"&&location.hostname&&jj.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),s&&(h.ac=s),c&&(h.p=c),qj(t,$j,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pv.set("previous_websocket_failure",!0);try{let r;if((0,P.Yr)()){r={headers:{"User-Agent":`Firebase/5/${MP}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,h=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new rM(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==rM&&!n.forceDisallow_}static previouslyFailed(){return Pv.isInMemoryStorage||!0===Pv.get("previous_websocket_failure")}markConnectionHealthy(){Pv.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,P.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,P.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,P.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Nj(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Jj=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[zp,z0]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=z0&&z0.isAvailable();let r=i&&!z0.previouslyFailed();if(t.webSocketOnly&&(i||as("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[z0];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class a3{constructor(e,t,i,r,s,c,h,p,v,C){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=v,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sI("c:"+this.id+":"),this.transportManager_=new Jj(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=cI(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=aI("t",e),i=aI("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=aI("t",e),i=aI("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=aI("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?OP("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):OP("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&as("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),cI(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):cI(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pv.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class c3{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class l3{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,P.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,P.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class oM extends l3{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,P.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new oM}getInitialEvent(e){return(0,P.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Bn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function On(){return new Bn("")}function tn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function $p(n){return n.pieces_.length-n.pieceNum_}function li(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Bn(n.pieces_,e)}function HP(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function dI(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function h3(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Bn(e,0)}function Li(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Bn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Bn(t,0)}function nn(n){return n.pieceNum_>=n.pieces_.length}function zs(n,e){const t=tn(n),i=tn(e);if(null===t)return e;if(t===i)return zs(li(n),li(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function qZ(n,e){const t=dI(n,0),i=dI(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=Lv(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function zP(n,e){if($p(n)!==$p(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Jc(n,e){let t=n.pieceNum_,i=e.pieceNum_;if($p(n)>$p(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class WZ{constructor(e,t){this.errorPrefix_=t,this.parts_=dI(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,P.ug)(this.parts_[i]);f3(this)}}function f3(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Bv(n))}function Bv(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class $P extends l3{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new $P}getInitialEvent(e){return(0,P.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const uI=1e3;let aM,Vv=(()=>{class n extends c3{constructor(t,i,r,s,c,h,p,v){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=sI("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uI,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,P.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$P.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&oM.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,c={r:s,a:t,b:i};this.log_((0,P.Wl)(c)),(0,P.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new P.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const p=h.d;"ok"===h.s?i.resolve(p):i.reject(p)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,P.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,P.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(h).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,p=>{const v=p.d,C=p.s;n.warnOnListenWarnings_(v,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==C&&this.removeListen_(r,s),t.onComplete&&t.onComplete(C,v))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,P.r3)(t,"w")){const r=(0,P.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();as(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,P.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,P.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,h=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,P.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const c={p:t};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,c){this.initConnection_();const h={p:i,d:r};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,P.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):OP("Unrecognized action received from server: "+(0,P.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,P.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uI,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=uI,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=uI),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,ve.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,v=null;const C=function(){v?v.close():(p=!0,s())};t.realtime_={close:C,sendRequest:function(F){(0,P.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(F)}};const M=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[F,U]=yield Promise.all([t.authTokenProvider_.getToken(M),t.appCheckTokenProvider_.getToken(M)]);p?_o("getToken() completed but was canceled"):(_o("getToken() completed. Creating connection."),t.authToken_=F&&F.accessToken,t.appCheckToken_=U&&U.token,v=new a3(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,W=>{as(W+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(F){t.log_("Failed to get token: "+F),p||(t.repoInfo_.nodeAdmin&&as(F),C())}}})()}interrupt(t){_o("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){_o("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,P.xb)(this.interruptReasons_)&&(this.reconnectDelay_=uI,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>NP(c)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Bn(t).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){_o("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){_o("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,P.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+MP.replace(/\./g,"-")]=1,(0,P.uI)()?t["framework.cordova"]=1:(0,P.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=oM.getInstance().currentlyOnline();return(0,P.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class an{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new an(e,t)}}class sM{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new an(Hp,e),r=new an(Hp,t);return 0!==this.compare(i,r)}minPost(){return an.MIN}}class g3 extends sM{static get __EMPTY_NODE(){return aM}static set __EMPTY_NODE(e){aM=e}compare(e,t){return Lv(e.name,t.name)}isDefinedOn(e){throw(0,P.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return an.MIN}maxPost(){return new an(Of,aM)}makePost(e,t){return(0,P.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new an(e,aM)}toString(){return".key"}}const Gu=new g3;class cM{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let qP,md=(()=>{class n{constructor(t,i,r,s,c){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??pa.EMPTY_NODE,this.right=c??pa.EMPTY_NODE}copy(t,i,r,s,c){return new n(t??this.key,i??this.value,r??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const c=r(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return pa.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return pa.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class pa{constructor(e,t=pa.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new pa(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,md.BLACK,null,null))}remove(e){return new pa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,md.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new cM(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new cM(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new cM(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new cM(this.root_,null,this.comparator_,!0,e)}}function tK(n,e){return Lv(n.name,e.name)}function GP(n,e){return Lv(n,e)}pa.EMPTY_NODE=new class eK{copy(e,t,i,r,s){return this}insert(e,t,i){return new md(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const _3=function(n){return"number"==typeof n?"number:"+Pj(n):"string:"+n},v3=function(n){if(n.isLeafNode()){const e=n.val();(0,P.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,P.r3)(e,".sv"),"Priority must be a string or number.")}else(0,P.hu)(n===qP||n.isEmpty(),"priority of unexpected type.");(0,P.hu)(n===qP||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let y3,b3,w3,$0=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,P.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),v3(this.priorityNode_)}static set __childrenNodeConstructor(t){y3=t}static get __childrenNodeConstructor(){return y3}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return nn(t)?this:".priority"===tn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=tn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,P.hu)(".priority"!==r||1===$p(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(li(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+_3(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?Pj(this.value_):this.value_,this.lazyHash_=Mj(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,P.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,P.hu)(s>=0,"Unknown leaf type: "+i),(0,P.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const bi=new class oK extends sM{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Lv(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return an.MIN}maxPost(){return new an(Of,new $0("[PRIORITY-POST]",w3))}makePost(e,t){const i=b3(e);return new an(t,new $0("[PRIORITY-POST]",i))}toString(){return".priority"}},sK=Math.log(2);class aK{constructor(e){this.count=parseInt(Math.log(e+1)/sK,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const lM=function(n,e,t,i){n.sort(e);const r=function(p,v){const C=v-p;let D,M;if(0===C)return null;if(1===C)return D=n[p],M=t?t(D):D,new md(M,D.node,md.BLACK,null,null);{const F=parseInt(C/2,10)+p,U=r(p,F),W=r(F+1,v);return D=n[F],M=t?t(D):D,new md(M,D.node,md.BLACK,U,W)}},h=function(p){let v=null,C=null,D=n.length;const M=function(U,W){const ee=D-U,ke=D;D-=U;const ze=r(ee+1,ke),Fe=n[ee],We=t?t(Fe):Fe;F(new md(We,Fe.node,W,null,ze))},F=function(U){v?(v.left=U,v=U):(C=U,v=U)};for(let U=0;U<p.count;++U){const W=p.nextBitIsOne(),ee=Math.pow(2,p.count-(U+1));W?M(ee,md.BLACK):(M(ee,md.BLACK),M(ee,md.RED))}return C}(new aK(n.length));return new pa(i||e,h)};let WP;const G0={};class Nf{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,P.hu)(G0&&bi,"ChildrenNode.ts has not been loaded"),WP=WP||new Nf({".priority":G0},{".priority":bi}),WP}get(e){const t=(0,P.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof pa?t:null}hasIndex(e){return(0,P.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,P.hu)(e!==Gu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(an.Wrap);let h,c=s.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=s.getNext();h=r?lM(i,e.getCompare()):G0;const p=e.toString(),v=Object.assign({},this.indexSet_);v[p]=e;const C=Object.assign({},this.indexes_);return C[p]=h,new Nf(C,v)}addToIndexes(e,t){const i=(0,P.UI)(this.indexes_,(r,s)=>{const c=(0,P.DV)(this.indexSet_,s);if((0,P.hu)(c,"Missing index implementation for "+s),r===G0){if(c.isDefinedOn(e.node)){const h=[],p=t.getIterator(an.Wrap);let v=p.getNext();for(;v;)v.name!==e.name&&h.push(v),v=p.getNext();return h.push(e),lM(h,c.getCompare())}return G0}{const h=t.get(e.name);let p=r;return h&&(p=p.remove(new an(e.name,h))),p.insert(e,e.node)}});return new Nf(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,P.UI)(this.indexes_,r=>{if(r===G0)return r;{const s=t.get(e.name);return s?r.remove(new an(e.name,s)):r}});return new Nf(i,this.indexSet_)}}let hI,Yt=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&v3(this.priorityNode_),this.children_.isEmpty()&&(0,P.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hI||(hI=new n(new pa(GP),null,Nf.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hI}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?hI:i}}getChild(t){const i=tn(t);return null===i?this:this.getImmediateChild(i).getChild(li(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,P.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new an(t,i);let s,c;i.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?hI:this.priorityNode_;return new n(s,h,c)}}updateChild(t,i){const r=tn(t);if(null===r)return i;{(0,P.hu)(".priority"!==tn(t)||1===$p(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(li(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(bi,(h,p)=>{i[h]=p.val(t),r++,c&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):c=!1}),!t&&c&&s<2*r){const h=[];for(const p in i)h[p]=i[p];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+_3(this.getPriority().val())+":"),this.forEachChild(bi,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":Mj(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new an(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new an(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new an(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,an.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,an.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===fI?-1:0}withIndex(t){if(t===Gu||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Gu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(bi),s=i.getIterator(bi);let c=r.getNext(),h=s.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=s.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(t){return t===Gu?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const fI=new class cK extends Yt{constructor(){super(new pa(GP),Yt.EMPTY_NODE,Nf.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Yt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(an,{MIN:{value:new an(Hp,Yt.EMPTY_NODE)},MAX:{value:new an(Of,fI)}}),g3.__EMPTY_NODE=Yt.EMPTY_NODE,$0.__childrenNodeConstructor=Yt,function nK(n){qP=n}(fI),function rK(n){w3=n}(fI);const lK=!0;function Ki(n,e=null){if(null===n)return Yt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,P.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new $0(n,Ki(e));if(n instanceof Array||!lK){let t=Yt.EMPTY_NODE;return vo(n,(i,r)=>{if((0,P.r3)(n,i)&&"."!==i.substring(0,1)){const s=Ki(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Ki(e))}{const t=[];let i=!1;if(vo(n,(c,h)=>{if("."!==c.substring(0,1)){const p=Ki(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new an(c,p)))}}),0===t.length)return Yt.EMPTY_NODE;const s=lM(t,tK,c=>c.name,GP);if(i){const c=lM(t,bi.getCompare());return new Yt(s,Ki(e),new Nf({".priority":c},{".priority":bi}))}return new Yt(s,Ki(e),Nf.Default)}}!function iK(n){b3=n}(Ki);class ZP extends sM{constructor(e){super(),this.indexPath_=e,(0,P.hu)(!nn(e)&&".priority"!==tn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Lv(e.name,t.name):s}makePost(e,t){const i=Ki(e),r=Yt.EMPTY_NODE.updateChild(this.indexPath_,i);return new an(t,r)}maxPost(){const e=Yt.EMPTY_NODE.updateChild(this.indexPath_,fI);return new an(Of,e)}toString(){return dI(this.indexPath_,0).join("/")}}const KP=new class dK extends sM{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Lv(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return an.MIN}maxPost(){return an.MAX}makePost(e,t){const i=Ki(e);return new an(t,i)}toString(){return".value"}};function x3(n){return{type:"value",snapshotNode:n}}function q0(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function mI(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function pI(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class YP{constructor(e){this.index_=e}updateChild(e,t,i,r,s,c){(0,P.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(mI(t,h)):(0,P.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(q0(t,i)):c.trackChildChange(pI(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(bi,(r,s)=>{t.hasChild(r)||i.trackChildChange(mI(r,s))}),t.isLeafNode()||t.forEachChild(bi,(r,s)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(s)||i.trackChildChange(pI(r,s,c))}else i.trackChildChange(q0(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Yt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class gI{constructor(e){this.indexedFilter_=new YP(e.getIndex()),this.index_=e.getIndex(),this.startPost_=gI.getStartPost_(e),this.endPost_=gI.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,c){return this.matches(new an(t,i))||(i=Yt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Yt.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Yt.EMPTY_NODE);const s=this;return t.forEachChild(bi,(c,h)=>{s.matches(new an(c,h))||(r=r.updateImmediateChild(c,Yt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class hK{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new gI(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,c){return this.rangedFilter_.matches(new an(t,i))||(i=Yt.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,c):this.fullLimitUpdateChild_(e,t,i,s,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Yt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=Yt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const h=s.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;r=r.updateImmediateChild(h.name,h.node),c++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(Yt.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let c=0;for(;s.hasNext();){const h=s.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:r=r.updateImmediateChild(h.name,Yt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let c;if(this.reverse_){const D=this.index_.getCompare();c=(M,F)=>D(F,M)}else c=this.index_.getCompare();const h=e;(0,P.hu)(h.numChildren()===this.limit_,"");const p=new an(t,i),v=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),C=this.rangedFilter_.matches(p);if(h.hasChild(t)){const D=h.getImmediateChild(t);let M=r.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=M&&(M.name===t||h.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const F=null==M?1:c(M,p);if(C&&!i.isEmpty()&&F>=0)return s?.trackChildChange(pI(t,i,D)),h.updateImmediateChild(t,i);{s?.trackChildChange(mI(t,D));const W=h.updateImmediateChild(t,Yt.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(s?.trackChildChange(q0(M.name,M.node)),W.updateImmediateChild(M.name,M.node)):W}}return i.isEmpty()?e:C&&c(v,p)>=0?(null!=s&&(s.trackChildChange(mI(v.name,v.node)),s.trackChildChange(q0(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(v.name,Yt.EMPTY_NODE)):e}}class dM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=bi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hp}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Of}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,P.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===bi}copy(){const e=new dM;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function QP(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function XP(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function uM(n,e){const t=n.copy();return t.index_=e,t}function E3(n){const e={};if(n.isDefault())return e;let t;if(n.index_===bi?t="$priority":n.index_===KP?t="$value":n.index_===Gu?t="$key":((0,P.hu)(n.index_ instanceof ZP,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,P.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,P.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,P.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,P.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,P.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function C3(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==bi&&(e.i=n.index_.toString()),e}class hM extends c3{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=sI("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,P.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=hM.getListenId_(e,i),h={};this.listens_[c]=h;const p=E3(e._queryParams);this.restRequest_(s+".json",p,(v,C)=>{let D=C;if(404===v&&(D=null,v=null),null===v&&this.onDataUpdate_(s,D,!1,i),(0,P.DV)(this.listens_,c)===h){let M;M=v?401===v?"permission_denied":"rest_error:"+v:"ok",r(M,null)}})}unlisten(e,t){const i=hM.getListenId_(e,t);delete this.listens_[i]}get(e){const t=E3(e._queryParams),i=e._path.toString(),r=new P.BH;return this.restRequest_(i+".json",t,(s,c)=>{let h=c;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,P.xO)(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,P.cI)(h.responseText)}catch{as("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,p)}else 401!==h.status&&404!==h.status&&as("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class vK{constructor(){this.rootNode_=Yt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function fM(){return{value:null,children:new Map}}function W0(n,e,t){if(nn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=tn(e);n.children.has(i)||n.children.set(i,fM()),W0(n.children.get(i),e=li(e),t)}}function JP(n,e){if(nn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(bi,(i,r)=>{W0(n,new Bn(i),r)}),JP(n,e)}}if(n.children.size>0){const t=tn(e);return e=li(e),n.children.has(t)&&JP(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function eF(n,e,t){null!==n.value?t(e,n.value):function yK(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{eF(r,new Bn(e.toString()+"/"+i),t)})}class bK{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&vo(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class EK{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new bK(e);const i=1e4+2e4*Math.random();cI(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;vo(e,(r,s)=>{s>0&&(0,P.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),cI(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var qu=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(qu||{});function iF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class mM{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=qu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(nn(this.path)){if(null!=this.affectedTree.value)return(0,P.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Bn(e));return new mM(On(),t,this.revert)}}return(0,P.hu)(tn(this.path)===e,"operationForChild called for unrelated child."),new mM(li(this.path),this.affectedTree,this.revert)}}class _I{constructor(e,t){this.source=e,this.path=t,this.type=qu.LISTEN_COMPLETE}operationForChild(e){return nn(this.path)?new _I(this.source,On()):new _I(this.source,li(this.path))}}class Uv{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=qu.OVERWRITE}operationForChild(e){return nn(this.path)?new Uv(this.source,On(),this.snap.getImmediateChild(e)):new Uv(this.source,li(this.path),this.snap)}}class Z0{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=qu.MERGE}operationForChild(e){if(nn(this.path)){const t=this.children.subtree(new Bn(e));return t.isEmpty()?null:t.value?new Uv(this.source,On(),t.value):new Z0(this.source,On(),t)}return(0,P.hu)(tn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Z0(this.source,li(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Gp{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(nn(e))return this.isFullyInitialized()&&!this.filtered_;const t=tn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class CK{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function vI(n,e,t,i,r,s){const c=i.filter(h=>h.type===t);c.sort((h,p)=>function DK(n,e,t){if(null==e.childName||null==t.childName)throw(0,P.g5)("Should only compare child_ events.");const i=new an(e.childName,e.snapshotNode),r=new an(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,p)),c.forEach(h=>{const p=function TK(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);r.forEach(v=>{v.respondsTo(h.type)&&e.push(v.createEvent(p,n.query_))})})}function pM(n,e){return{eventCache:n,serverCache:e}}function yI(n,e,t,i){return pM(new Gp(e,t,i),n.serverCache)}function T3(n,e,t,i){return pM(n.eventCache,new Gp(e,t,i))}function gM(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function jv(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let rF;class wi{constructor(e,t=(()=>(rF||(rF=new pa(uZ)),rF))()){this.value=e,this.children=t}static fromObject(e){let t=new wi(null);return vo(e,(i,r)=>{t=t.set(new Bn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:On(),value:this.value};if(nn(e))return null;{const i=tn(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(li(e),t);return null!=s?{path:Li(new Bn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(nn(e))return this;{const t=tn(e),i=this.children.get(t);return null!==i?i.subtree(li(e)):new wi(null)}}set(e,t){if(nn(e))return new wi(t,this.children);{const i=tn(e),s=(this.children.get(i)||new wi(null)).set(li(e),t),c=this.children.insert(i,s);return new wi(this.value,c)}}remove(e){if(nn(e))return this.children.isEmpty()?new wi(null):new wi(null,this.children);{const t=tn(e),i=this.children.get(t);if(i){const r=i.remove(li(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new wi(null):new wi(this.value,s)}return this}}get(e){if(nn(e))return this.value;{const t=tn(e),i=this.children.get(t);return i?i.get(li(e)):null}}setTree(e,t){if(nn(e))return t;{const i=tn(e),s=(this.children.get(i)||new wi(null)).setTree(li(e),t);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new wi(this.value,c)}}fold(e){return this.fold_(On(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Li(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,On(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(nn(e))return null;{const s=tn(e),c=this.children.get(s);return c?c.findOnPath_(li(e),Li(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,On(),t)}foreachOnPath_(e,t,i){if(nn(e))return this;{this.value&&i(t,this.value);const r=tn(e),s=this.children.get(r);return s?s.foreachOnPath_(li(e),Li(t,r),i):new wi(null)}}foreach(e){this.foreach_(On(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Li(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class pd{constructor(e){this.writeTree_=e}static empty(){return new pd(new wi(null))}}function bI(n,e,t){if(nn(e))return new pd(new wi(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const c=zs(r,e);return s=s.updateChild(c,t),new pd(n.writeTree_.set(r,s))}{const r=new wi(t),s=n.writeTree_.setTree(e,r);return new pd(s)}}}function oF(n,e,t){let i=n;return vo(t,(r,s)=>{i=bI(i,Li(e,r),s)}),i}function D3(n,e){if(nn(e))return pd.empty();{const t=n.writeTree_.setTree(e,new wi(null));return new pd(t)}}function sF(n,e){return null!=Hv(n,e)}function Hv(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(zs(t.path,e)):null}function S3(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(bi,(i,r)=>{e.push(new an(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new an(i,r.value))}),e}function qp(n,e){if(nn(e))return n;{const t=Hv(n,e);return new pd(null!=t?new wi(t):n.writeTree_.subtree(e))}}function aF(n){return n.writeTree_.isEmpty()}function K0(n,e){return A3(On(),n.writeTree_,e)}function A3(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,P.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=A3(Li(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Li(n,".priority"),i)),t}}function _M(n,e){return N3(e,n)}function OK(n,e){if(n.snap)return Jc(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Jc(Li(n.path,t),e))return!0;return!1}function PK(n){return n.visible}function k3(n,e,t){let i=pd.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const c=s.path;let h;if(s.snap)Jc(t,c)?(h=zs(t,c),i=bI(i,h,s.snap)):Jc(c,t)&&(h=zs(c,t),i=bI(i,On(),s.snap.getChild(h)));else{if(!s.children)throw(0,P.g5)("WriteRecord should have .snap or .children");if(Jc(t,c))h=zs(t,c),i=oF(i,h,s.children);else if(Jc(c,t))if(h=zs(c,t),nn(h))i=oF(i,On(),s.children);else{const p=(0,P.DV)(s.children,tn(h));if(p){const v=p.getChild(li(h));i=bI(i,On(),v)}}}}}return i}function M3(n,e,t,i,r){if(i||r){const s=qp(n.visibleWrites,e);return!r&&aF(s)?t:r||null!=t||sF(s,On())?K0(k3(n.allWrites,function(v){return(v.visible||r)&&(!i||!~i.indexOf(v.writeId))&&(Jc(v.path,e)||Jc(e,v.path))},e),t||Yt.EMPTY_NODE):null}{const s=Hv(n.visibleWrites,e);if(null!=s)return s;{const c=qp(n.visibleWrites,e);return aF(c)?t:null!=t||sF(c,On())?K0(c,t||Yt.EMPTY_NODE):null}}}function vM(n,e,t,i){return M3(n.writeTree,n.treePath,e,t,i)}function cF(n,e){return function FK(n,e,t){let i=Yt.EMPTY_NODE;const r=Hv(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(bi,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(t){const s=qp(n.visibleWrites,e);return t.forEachChild(bi,(c,h)=>{const p=K0(qp(s,new Bn(c)),h);i=i.updateImmediateChild(c,p)}),S3(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return S3(qp(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function R3(n,e,t,i){return function LK(n,e,t,i,r){(0,P.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Li(e,t);if(sF(n.visibleWrites,s))return null;{const c=qp(n.visibleWrites,s);return aF(c)?r.getChild(t):K0(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function yM(n,e){return function VK(n,e){return Hv(n.visibleWrites,e)}(n.writeTree,Li(n.treePath,e))}function lF(n,e,t){return function BK(n,e,t,i){const r=Li(e,t),s=Hv(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?K0(qp(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function O3(n,e){return N3(Li(n.treePath,e),n.writeTree)}function N3(n,e){return{treePath:n,writeTree:e}}class zK{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,P.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,P.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,pI(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,mI(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,q0(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,P.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,pI(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const P3=new class $K{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class dF{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Gp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return lF(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:jv(this.viewCache_),s=function HK(n,e,t,i,r,s){return function UK(n,e,t,i,r,s,c){let h;const p=qp(n.visibleWrites,e),v=Hv(p,On());if(null!=v)h=v;else{if(null==t)return[];h=K0(p,t)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const C=[],D=c.getCompare(),M=s?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let F=M.getNext();for(;F&&C.length<r;)0!==D(F,i)&&C.push(F),F=M.getNext();return C}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function F3(n,e,t,i,r,s){const c=e.eventCache;if(null!=yM(i,t))return e;{let h,p;if(nn(t))if((0,P.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=jv(e),D=cF(i,v instanceof Yt?v:Yt.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),D,s)}else{const v=vM(i,jv(e));h=n.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const v=tn(t);if(".priority"===v){(0,P.hu)(1===$p(t),"Can't have a priority with additional path components");const C=c.getNode();p=e.serverCache.getNode();const D=R3(i,t,C,p);h=null!=D?n.filter.updatePriority(C,D):c.getNode()}else{const C=li(t);let D;if(c.isCompleteForChild(v)){p=e.serverCache.getNode();const M=R3(i,t,c.getNode(),p);D=null!=M?c.getNode().getImmediateChild(v).updateChild(C,M):c.getNode().getImmediateChild(v)}else D=lF(i,v,e.serverCache);h=null!=D?n.filter.updateChild(c.getNode(),v,D,C,r,s):c.getNode()}}return yI(e,h,c.isFullyInitialized()||nn(t),n.filter.filtersNodes())}}function bM(n,e,t,i,r,s,c,h){const p=e.serverCache;let v;const C=c?n.filter:n.filter.getIndexedFilter();if(nn(t))v=C.updateFullNode(p.getNode(),i,null);else if(C.filtersNodes()&&!p.isFiltered()){const F=p.getNode().updateChild(t,i);v=C.updateFullNode(p.getNode(),F,null)}else{const F=tn(t);if(!p.isCompleteForPath(t)&&$p(t)>1)return e;const U=li(t),ee=p.getNode().getImmediateChild(F).updateChild(U,i);v=".priority"===F?C.updatePriority(p.getNode(),ee):C.updateChild(p.getNode(),F,ee,U,P3,null)}const D=T3(e,v,p.isFullyInitialized()||nn(t),C.filtersNodes());return F3(n,D,t,r,new dF(r,D,s),h)}function uF(n,e,t,i,r,s,c){const h=e.eventCache;let p,v;const C=new dF(r,e,s);if(nn(t))v=n.filter.updateFullNode(e.eventCache.getNode(),i,c),p=yI(e,v,!0,n.filter.filtersNodes());else{const D=tn(t);if(".priority"===D)v=n.filter.updatePriority(e.eventCache.getNode(),i),p=yI(e,v,h.isFullyInitialized(),h.isFiltered());else{const M=li(t),F=h.getNode().getImmediateChild(D);let U;if(nn(M))U=i;else{const W=C.getCompleteChild(D);U=null!=W?".priority"===HP(M)&&W.getChild(h3(M)).isEmpty()?W:W.updateChild(M,i):Yt.EMPTY_NODE}p=F.equals(U)?e:yI(e,n.filter.updateChild(h.getNode(),D,U,M,C,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function L3(n,e){return n.eventCache.isCompleteForChild(e)}function B3(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function hF(n,e,t,i,r,s,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,p=e;v=nn(t)?i:new wi(null).setTree(t,i);const C=e.serverCache.getNode();return v.children.inorderTraversal((D,M)=>{if(C.hasChild(D)){const U=B3(0,e.serverCache.getNode().getImmediateChild(D),M);p=bM(n,p,new Bn(D),U,r,s,c,h)}}),v.children.inorderTraversal((D,M)=>{const F=!e.serverCache.isCompleteForChild(D)&&null===M.value;if(!C.hasChild(D)&&!F){const W=B3(0,e.serverCache.getNode().getImmediateChild(D),M);p=bM(n,p,new Bn(D),W,r,s,c,h)}}),p}class JK{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new YP(i.getIndex()),s=function fK(n){return n.loadsAllData()?new YP(n.getIndex()):n.hasLimit()?new hK(n):new gI(n)}(i);this.processor_=function GK(n){return{filter:n}}(s);const c=t.serverCache,h=t.eventCache,p=r.updateFullNode(Yt.EMPTY_NODE,c.getNode(),null),v=s.updateFullNode(Yt.EMPTY_NODE,h.getNode(),null),C=new Gp(p,c.isFullyInitialized(),r.filtersNodes()),D=new Gp(v,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=pM(D,C),this.eventGenerator_=new CK(this.query_)}get query(){return this.query_}}function nY(n,e){const t=jv(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!nn(e)&&!t.getImmediateChild(tn(e)).isEmpty())?t.getChild(e):null}function V3(n){return 0===n.eventRegistrations_.length}function U3(n,e,t){const i=[];if(t){(0,P.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function j3(n,e,t,i){e.type===qu.MERGE&&null!==e.source.queryId&&((0,P.hu)(jv(n.viewCache_),"We should always have a full cache before handling merges"),(0,P.hu)(gM(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function WK(n,e,t,i,r){const s=new zK;let c,h;if(t.type===qu.OVERWRITE){const v=t;v.source.fromUser?c=uF(n,e,v.path,v.snap,i,r,s):((0,P.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered()&&!nn(v.path),c=bM(n,e,v.path,v.snap,i,r,h,s))}else if(t.type===qu.MERGE){const v=t;v.source.fromUser?c=function KK(n,e,t,i,r,s,c){let h=e;return i.foreach((p,v)=>{const C=Li(t,p);L3(e,tn(C))&&(h=uF(n,h,C,v,r,s,c))}),i.foreach((p,v)=>{const C=Li(t,p);L3(e,tn(C))||(h=uF(n,h,C,v,r,s,c))}),h}(n,e,v.path,v.children,i,r,s):((0,P.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered(),c=hF(n,e,v.path,v.children,i,r,h,s))}else if(t.type===qu.ACK_USER_WRITE){const v=t;c=v.revert?function XK(n,e,t,i,r,s){let c;if(null!=yM(i,t))return e;{const h=new dF(i,e,r),p=e.eventCache.getNode();let v;if(nn(t)||".priority"===tn(t)){let C;if(e.serverCache.isFullyInitialized())C=vM(i,jv(e));else{const D=e.serverCache.getNode();(0,P.hu)(D instanceof Yt,"serverChildren would be complete if leaf node"),C=cF(i,D)}v=n.filter.updateFullNode(p,C,s)}else{const C=tn(t);let D=lF(i,C,e.serverCache);null==D&&e.serverCache.isCompleteForChild(C)&&(D=p.getImmediateChild(C)),v=null!=D?n.filter.updateChild(p,C,D,li(t),h,s):e.eventCache.getNode().hasChild(C)?n.filter.updateChild(p,C,Yt.EMPTY_NODE,li(t),h,s):p,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=vM(i,jv(e)),c.isLeafNode()&&(v=n.filter.updateFullNode(v,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=yM(i,On()),yI(e,v,c,n.filter.filtersNodes())}}(n,e,v.path,i,r,s):function YK(n,e,t,i,r,s,c){if(null!=yM(r,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(nn(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return bM(n,e,t,p.getNode().getChild(t),r,s,h,c);if(nn(t)){let v=new wi(null);return p.getNode().forEachChild(Gu,(C,D)=>{v=v.set(new Bn(C),D)}),hF(n,e,t,v,r,s,h,c)}return e}{let v=new wi(null);return i.foreach((C,D)=>{const M=Li(t,C);p.isCompleteForPath(M)&&(v=v.set(C,p.getNode().getChild(M)))}),hF(n,e,t,v,r,s,h,c)}}(n,e,v.path,v.affectedTree,i,r,s)}else{if(t.type!==qu.LISTEN_COMPLETE)throw(0,P.g5)("Unknown operation type: "+t.type);c=function QK(n,e,t,i,r){const s=e.serverCache;return F3(n,T3(e,s.getNode(),s.isFullyInitialized()||nn(t),s.isFiltered()),t,i,P3,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function ZK(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=gM(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(x3(gM(e)))}}(e,c,p),{viewCache:c,changes:p}}(n.processor_,r,e,t,i);return function qK(n,e){(0,P.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,P.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,P.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,H3(n,s.changes,s.viewCache.eventCache.getNode(),null)}function H3(n,e,t,i){return function IK(n,e,t,i){const r=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function uK(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),vI(n,r,"child_removed",e,i,t),vI(n,r,"child_added",e,i,t),vI(n,r,"child_moved",s,i,t),vI(n,r,"child_changed",e,i,t),vI(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let wM,EM;class z3{constructor(){this.views=new Map}}function fF(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,P.hu)(null!=s,"SyncTree gave us an op for an invalid query."),j3(s,e,t,i)}{let s=[];for(const c of n.views.values())s=s.concat(j3(c,e,t,i));return s}}function $3(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let h=vM(t,r?i:null),p=!1;h?p=!0:i instanceof Yt?(h=cF(t,i),p=!1):(h=Yt.EMPTY_NODE,p=!1);const v=pM(new Gp(h,p,!1),new Gp(i,r,!1));return new JK(e,v)}return c}function G3(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Wp(n,e){let t=null;for(const i of n.views.values())t=t||nY(i,e);return t}function q3(n,e){return e._queryParams.loadsAllData()?xM(n):n.views.get(e._queryIdentifier)}function W3(n,e){return null!=q3(n,e)}function Zp(n){return null!=xM(n)}function xM(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let hY=1;class Z3{constructor(e){this.listenProvider_=e,this.syncPointTree_=new wi(null),this.pendingWriteTree_=function jK(){return{visibleWrites:pd.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mF(n,e,t,i,r){return function AK(n,e,t,i,r){(0,P.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=bI(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Y0(n,new Uv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Kp(n,e,t=!1){const i=function MK(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function RK(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,P.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=t&&OK(h,i.path)?r=!1:Jc(i.path,h.path)&&(s=!0)),c--}return!!r&&(s?(function NK(n){n.visibleWrites=k3(n.allWrites,PK,On()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=D3(n.visibleWrites,i.path):vo(i.children,p=>{n.visibleWrites=D3(n.visibleWrites,Li(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new wi(null);return null!=i.snap?s=s.set(On(),!0):vo(i.children,c=>{s=s.set(new Bn(c),!0)}),Y0(n,new mM(i.path,s,t))}return[]}function wI(n,e,t){return Y0(n,new Uv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function CM(n,e,t,i,r=!1){const s=e._path,c=n.syncPointTree_.get(s);let h=[];if(c&&("default"===e._queryIdentifier||W3(c,e))){const p=function lY(n,e,t,i){const r=e._queryIdentifier,s=[];let c=[];const h=Zp(n);if("default"===r)for(const[p,v]of n.views.entries())c=c.concat(U3(v,t,i)),V3(v)&&(n.views.delete(p),v.query._queryParams.loadsAllData()||s.push(v.query));else{const p=n.views.get(r);p&&(c=c.concat(U3(p,t,i)),V3(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return h&&!Zp(n)&&s.push(new(function sY(){return(0,P.hu)(wM,"Reference.ts has not been loaded"),wM}())(e._repo,e._path)),{removed:s,events:c}}(c,e,t,i);(function aY(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const v=p.removed;if(h=p.events,!r){const C=-1!==v.findIndex(M=>M._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(s,(M,F)=>Zp(F));if(C&&!D){const M=n.syncPointTree_.subtree(s);if(!M.isEmpty()){const F=function yY(n){return n.fold((e,t,i)=>{if(t&&Zp(t))return[xM(t)];{let r=[];return t&&(r=G3(t)),vo(i,(s,c)=>{r=r.concat(c)}),r}})}(M);for(let U=0;U<F.length;++U){const W=F[U],ee=W.query,ke=X3(n,W);n.listenProvider_.startListening(EI(ee),xI(n,ee),ke.hashFn,ke.onComplete)}}}!D&&v.length>0&&!i&&(C?n.listenProvider_.stopListening(EI(e),null):v.forEach(M=>{const F=n.queryToTagMap.get(TM(M));n.listenProvider_.stopListening(EI(M),F)}))}!function bY(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=TM(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,v)}return h}function K3(n,e,t,i){const r=gF(n,i);if(null!=r){const s=_F(r),c=s.path,h=s.queryId,p=zs(c,e);return vF(n,c,new Uv(iF(h),p,t))}return[]}function pF(n,e,t,i=!1){const r=e._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(r,(M,F)=>{const U=zs(M,r);s=s||Wp(F,U),c=c||Zp(F)});let p,h=n.syncPointTree_.get(r);h?(c=c||Zp(h),s=s||Wp(h,On())):(h=new z3,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=s?p=!0:(p=!1,s=Yt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((F,U)=>{const W=Wp(U,On());W&&(s=s.updateImmediateChild(F,W))}));const v=W3(h,e);if(!v&&!e._queryParams.loadsAllData()){const M=TM(e);(0,P.hu)(!n.queryToTagMap.has(M),"View does not exist, but we have a tag");const F=function wY(){return hY++}();n.queryToTagMap.set(M,F),n.tagToQueryMap.set(F,M)}let D=function cY(n,e,t,i,r,s){const c=$3(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function iY(n,e){n.eventRegistrations_.push(e)}(c,t),function rY(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(bi,(s,c)=>{i.push(q0(s,c))}),t.isFullyInitialized()&&i.push(x3(t.getNode())),H3(n,i,t.getNode(),e)}(c,t)}(h,e,t,_M(n.pendingWriteTree_,r),s,p);if(!v&&!c&&!i){const M=q3(h,e);D=D.concat(function xY(n,e,t){const i=e._path,r=xI(n,e),s=X3(n,t),c=n.listenProvider_.startListening(EI(e),r,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,P.hu)(!Zp(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((v,C,D)=>{if(!nn(v)&&C&&Zp(C))return[xM(C).query];{let M=[];return C&&(M=M.concat(G3(C).map(F=>F.query))),vo(D,(F,U)=>{M=M.concat(U)}),M}});for(let v=0;v<p.length;++v){const C=p[v];n.listenProvider_.stopListening(EI(C),xI(n,C))}}return c}(n,e,M))}return D}function IM(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,h)=>{const v=Wp(h,zs(c,e));if(v)return v});return M3(r,e,s,t,!0)}function Y0(n,e){return Y3(e,n.syncPointTree_,null,_M(n.pendingWriteTree_,On()))}function Y3(n,e,t,i){if(nn(n.path))return Q3(n,e,t,i);{const r=e.get(On());null==t&&null!=r&&(t=Wp(r,On()));let s=[];const c=tn(n.path),h=n.operationForChild(c),p=e.children.get(c);if(p&&h){const v=t?t.getImmediateChild(c):null,C=O3(i,c);s=s.concat(Y3(h,p,v,C))}return r&&(s=s.concat(fF(r,n,i,t))),s}}function Q3(n,e,t,i){const r=e.get(On());null==t&&null!=r&&(t=Wp(r,On()));let s=[];return e.children.inorderTraversal((c,h)=>{const p=t?t.getImmediateChild(c):null,v=O3(i,c),C=n.operationForChild(c);C&&(s=s.concat(Q3(C,h,p,v)))}),r&&(s=s.concat(fF(r,n,i,t))),s}function X3(n,e){const t=e.query,i=xI(n,t);return{hashFn:()=>(function eY(n){return n.viewCache_.serverCache.getNode()}(e)||Yt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function gY(n,e,t){const i=gF(n,t);if(i){const r=_F(i),s=r.path,c=r.queryId,h=zs(s,e);return vF(n,s,new _I(iF(c),h))}return[]}(n,t._path,i):function pY(n,e){return Y0(n,new _I({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function mZ(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return CM(n,t,null,s)}}}}function xI(n,e){const t=TM(e);return n.queryToTagMap.get(t)}function TM(n){return n._path.toString()+"$"+n._queryIdentifier}function gF(n,e){return n.tagToQueryMap.get(e)}function _F(n){const e=n.indexOf("$");return(0,P.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Bn(n.substr(0,e))}}function vF(n,e,t){const i=n.syncPointTree_.get(e);return(0,P.hu)(i,"Missing sync point for query tag that we're tracking"),fF(i,t,_M(n.pendingWriteTree_,e),null)}function EI(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function uY(){return(0,P.hu)(EM,"Reference.ts has not been loaded"),EM}())(n._repo,n._path):n}class yF{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new yF(t)}node(){return this.node_}}class bF{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Li(this.path_,e);return new bF(this.syncTree_,t)}node(){return IM(this.syncTree_,this.path_)}}const EY=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},J3=function(n,e,t){return n&&"object"==typeof n?((0,P.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?CY(n[".sv"],e,t):"object"==typeof n[".sv"]?IY(n[".sv"],e):void(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},CY=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,P.hu)(!1,"Unexpected server value: "+n)},IY=function(n,e,t){n.hasOwnProperty("increment")||(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,P.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,P.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},e4=function(n,e,t,i){return xF(e,new bF(t,n),i)},wF=function(n,e,t){return xF(n,new yF(e),t)};function xF(n,e,t){const i=n.getPriority().val(),r=J3(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,h=J3(c.getValue(),e,t);return h!==c.getValue()||r!==c.getPriority().val()?new $0(h,Ki(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new $0(r))),c.forEachChild(bi,(h,p)=>{const v=xF(p,e.getImmediateChild(h),t);v!==p&&(s=s.updateImmediateChild(h,v))}),s}}class EF{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function DM(n,e){let t=e instanceof Bn?e:new Bn(e),i=n,r=tn(t);for(;null!==r;){const s=(0,P.DV)(i.node.children,r)||{children:{},childCount:0};i=new EF(r,i,s),t=li(t),r=tn(t)}return i}function zv(n){return n.node.value}function CF(n,e){n.node.value=e,IF(n)}function t4(n){return n.node.childCount>0}function SM(n,e){vo(n.node.children,(t,i)=>{e(new EF(t,n,i))})}function n4(n,e,t,i){t&&!i&&e(n),SM(n,r=>{n4(r,e,!0,i)}),t&&i&&e(n)}function CI(n){return new Bn(null===n.parent?n.name:CI(n.parent)+"/"+n.name)}function IF(n){null!==n.parent&&function SY(n,e,t){const i=function TY(n){return void 0===zv(n)&&!t4(n)}(t),r=(0,P.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,IF(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,IF(n))}(n.parent,n.name,n)}const AY=/[\[\].#$\/\u0000-\u001F\u007F]/,kY=/[\[\].#$\u0000-\u001F\u007F]/,TF=10485760,AM=function(n){return"string"==typeof n&&0!==n.length&&!AY.test(n)},r4=function(n){return"string"==typeof n&&0!==n.length&&!kY.test(n)},II=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!nM(n)||n&&"object"==typeof n&&(0,P.r3)(n,".sv")},Wu=function(n,e,t,i){i&&void 0===e||TI((0,P.gK)(n,"value"),e,t)},TI=function(n,e,t){const i=t instanceof Bn?new WZ(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Bv(i));if("function"==typeof e)throw new Error(n+"contains a function "+Bv(i)+" with contents = "+e.toString());if(nM(e))throw new Error(n+"contains "+e.toString()+" "+Bv(i));if("string"==typeof e&&e.length>TF/3&&(0,P.ug)(e)>TF)throw new Error(n+"contains a string greater than "+TF+" utf8 bytes "+Bv(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(vo(e,(c,h)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!AM(c)))throw new Error(n+" contains an invalid key ("+c+") "+Bv(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ZZ(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,P.ug)(e),f3(n)})(i,c),TI(n,h,i),function KZ(n){const e=n.parts_.pop();n.byteLength_-=(0,P.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Bv(i)+" in addition to actual children.")}},o4=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,P.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];vo(e,(c,h)=>{const p=new Bn(c);if(TI(r,h,Li(t,p)),".priority"===HP(p)&&!II(h))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=dI(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!AM(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(qZ);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&Jc(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},DF=function(n,e,t){if(!t||void 0!==e){if(nM(e))throw new Error((0,P.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!II(e))throw new Error((0,P.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},DI=function(n,e,t,i){if(!(i&&void 0===t||AM(t)))throw new Error((0,P.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},SI=function(n,e,t,i){if(!(i&&void 0===t||r4(t)))throw new Error((0,P.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},OY=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),SI(n,e,t,i)},el=function(n,e){if(".info"===tn(e))throw new Error(n+" failed = Can't modify data under /.info/")},s4=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!AM(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),r4(n)}(t))throw new Error((0,P.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class NY{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kM(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!zP(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function a4(n,e,t){kM(n,t),c4(n,i=>zP(i,e))}function oc(n,e,t){kM(n,t),c4(n,i=>Jc(i,e)||Jc(e,i))}function c4(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(PY(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function PY(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Fv&&_o("event: "+t.toString()),H0(i)}}}const l4="repo_interrupt",FY=25;class LY{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new NY,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fM(),this.transactionQueueTree_=new EF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function d4(n){const t=n.infoData_.getNode(new Bn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function AI(n){return EY({timestamp:d4(n)})}function u4(n,e,t,i,r){n.dataUpdateCount++;const s=new Bn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const p=(0,P.UI)(t,v=>Ki(v));c=function _Y(n,e,t,i){const r=gF(n,i);if(r){const s=_F(r),c=s.path,h=s.queryId,p=zs(c,e),v=wi.fromObject(t);return vF(n,c,new Z0(iF(h),p,v))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=Ki(t);c=K3(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,P.UI)(t,v=>Ki(v));c=function mY(n,e,t){const i=wi.fromObject(t);return Y0(n,new Z0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=Ki(t);c=wI(n.serverSyncTree_,s,p)}let h=s;c.length>0&&(h=X0(n,s)),oc(n.eventQueue_,h,c)}function h4(n,e){SF(n,"connected",e),!1===e&&function HY(n){Q0(n,"onDisconnectEvents");const e=AI(n),t=fM();eF(n.onDisconnect_,On(),(r,s)=>{const c=e4(r,s,n.serverSyncTree_,e);W0(t,r,c)});let i=[];eF(t,On(),(r,s)=>{i=i.concat(wI(n.serverSyncTree_,r,s));const c=RF(n,r);X0(n,c)}),n.onDisconnect_=fM(),oc(n.eventQueue_,On(),i)}(n)}function SF(n,e,t){const i=new Bn("/.info/"+e),r=Ki(t);n.infoData_.updateSnapshot(i,r);const s=wI(n.infoSyncTree_,i,r);oc(n.eventQueue_,i,s)}function MM(n){return n.nextWriteId_++}function AF(n,e,t,i,r){Q0(n,"set",{path:e.toString(),value:t,priority:i});const s=AI(n),c=Ki(t,i),h=IM(n.serverSyncTree_,e),p=wF(c,h,s),v=MM(n),C=mF(n.serverSyncTree_,e,p,v,!0);kM(n.eventQueue_,C),n.server_.put(e.toString(),c.val(!0),(M,F)=>{const U="ok"===M;U||as("set at "+e+" failed: "+M);const W=Kp(n.serverSyncTree_,v,!U);oc(n.eventQueue_,e,W),Yp(0,r,M,F)});const D=RF(n,e);X0(n,D),oc(n.eventQueue_,D,[])}function zY(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&JP(n.onDisconnect_,e),Yp(0,t,i,r)})}function f4(n,e,t,i){const r=Ki(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,c)=>{"ok"===s&&W0(n.onDisconnect_,e,r),Yp(0,i,s,c)})}function kF(n,e,t){let i;i=".info"===tn(e._path)?CM(n.infoSyncTree_,e,t):CM(n.serverSyncTree_,e,t),a4(n.eventQueue_,e._path,i)}function m4(n){n.persistentConnection_&&n.persistentConnection_.interrupt(l4)}function Q0(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),_o(t,...e)}function Yp(n,e,t,i){e&&H0(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,e(c)}})}function MF(n,e,t){return IM(n.serverSyncTree_,e,t)||Yt.EMPTY_NODE}function RM(n,e=n.transactionQueueTree_){if(e||OM(n,e),zv(e)){const t=g4(n,e);(0,P.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function KY(n,e,t){const i=t.map(v=>v.currentWriteId),r=MF(n,e,i);let s=r;const c=r.hash();for(let v=0;v<t.length;v++){const C=t[v];(0,P.hu)(0===C.status,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const D=zs(e,C.path);s=s.updateChild(D,C.currentOutputSnapshotRaw)}const h=s.val(!0),p=e;n.server_.put(p.toString(),h,v=>{Q0(n,"transaction put response",{path:p.toString(),status:v});let C=[];if("ok"===v){const D=[];for(let M=0;M<t.length;M++)t[M].status=2,C=C.concat(Kp(n.serverSyncTree_,t[M].currentWriteId)),t[M].onComplete&&D.push(()=>t[M].onComplete(null,!0,t[M].currentOutputSnapshotResolved)),t[M].unwatcher();OM(n,DM(n.transactionQueueTree_,e)),RM(n,n.transactionQueueTree_),oc(n.eventQueue_,e,C);for(let M=0;M<D.length;M++)H0(D[M])}else{if("datastale"===v)for(let D=0;D<t.length;D++)t[D].status=3===t[D].status?4:0;else{as("transaction at "+p.toString()+" failed: "+v);for(let D=0;D<t.length;D++)t[D].status=4,t[D].abortReason=v}X0(n,e)}},c)}(n,CI(e),t)}else t4(e)&&SM(e,t=>{RM(n,t)})}function X0(n,e){const t=p4(n,e),i=CI(t);return function YY(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],v=zs(t,p.path);let D,C=!1;if((0,P.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)C=!0,D=p.abortReason,r=r.concat(Kp(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=FY)C=!0,D="maxretry",r=r.concat(Kp(n.serverSyncTree_,p.currentWriteId,!0));else{const M=MF(n,p.path,c);p.currentInputSnapshot=M;const F=e[h].update(M.val());if(void 0!==F){TI("transaction failed: Data returned ",F,p.path);let U=Ki(F);"object"==typeof F&&null!=F&&(0,P.r3)(F,".priority")||(U=U.updatePriority(M.getPriority()));const ee=p.currentWriteId,ke=AI(n),ze=wF(U,M,ke);p.currentOutputSnapshotRaw=U,p.currentOutputSnapshotResolved=ze,p.currentWriteId=MM(n),c.splice(c.indexOf(ee),1),r=r.concat(mF(n.serverSyncTree_,p.path,ze,p.currentWriteId,p.applyLocally)),r=r.concat(Kp(n.serverSyncTree_,ee,!0))}else C=!0,D="nodata",r=r.concat(Kp(n.serverSyncTree_,p.currentWriteId,!0))}oc(n.eventQueue_,t,r),r=[],C&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===D?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(D),!1,null)))}OM(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)H0(i[h]);RM(n,n.transactionQueueTree_)}(n,g4(n,t),i),i}function p4(n,e){let t,i=n.transactionQueueTree_;for(t=tn(e);null!==t&&void 0===zv(i);)i=DM(i,t),t=tn(e=li(e));return i}function g4(n,e){const t=[];return _4(n,e,t),t.sort((i,r)=>i.order-r.order),t}function _4(n,e,t){const i=zv(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);SM(e,r=>{_4(n,r,t)})}function OM(n,e){const t=zv(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,CF(e,t.length>0?t:void 0)}SM(e,i=>{OM(n,i)})}function RF(n,e){const t=CI(p4(n,e)),i=DM(n.transactionQueueTree_,e);return function DY(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{OF(n,r)}),OF(n,i),n4(i,r=>{OF(n,r)}),t}function OF(n,e){const t=zv(e);if(t){const i=[];let r=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,P.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,P.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(Kp(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?CF(e,void 0):t.length=s+1,oc(n.eventQueue_,CI(e),r);for(let c=0;c<i.length;c++)H0(i[c])}}const NF=function(n,e){const t=JY(n),i=t.namespace;return"firebase.com"===t.domain&&$u(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&$u("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&as("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new FP(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Bn(t.pathString)}},JY=function(n){let e="",t="",i="",r="",s="",c=!0,h="https",p=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(h=n.substring(0,v-1),n=n.substring(v+2));let C=n.indexOf("/");-1===C&&(C=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),e=n.substring(0,Math.min(C,D)),C<D&&(r=function QY(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(C,D)));const M=function XY(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):as(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,D)));v=e.indexOf(":"),v>=0?(c="https"===h||"wss"===h,p=parseInt(e.substring(v+1),10)):v=e.length;const F=e.slice(0,v);if("localhost"===F.toLowerCase())t="localhost";else if(F.split(".").length<=2)t=F;else{const U=e.indexOf(".");i=e.substring(0,U).toLowerCase(),t=e.substring(U+1),s=i}"ns"in M&&(s=M.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:c,scheme:h,pathString:r,namespace:s}},v4="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",eQ=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=v4.charAt(t%64),t=Math.floor(t/64);(0,P.hu)(0===t,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=v4.charAt(e[r]);return(0,P.hu)(20===c.length,"nextPushId: Length should be 20."),c}}();class y4{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,P.Wl)(this.snapshot.exportVal())}}class b4{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class PF{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,P.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class w4{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new P.BH;return zY(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){el("OnDisconnect.remove",this._path);const e=new P.BH;return f4(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){el("OnDisconnect.set",this._path),Wu("OnDisconnect.set",e,this._path,!1);const t=new P.BH;return f4(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){el("OnDisconnect.setWithPriority",this._path),Wu("OnDisconnect.setWithPriority",e,this._path,!1),DF("OnDisconnect.setWithPriority",t,!1);const i=new P.BH;return function $Y(n,e,t,i,r){const s=Ki(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,h)=>{"ok"===c&&W0(n.onDisconnect_,e,s),Yp(0,r,c,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){el("OnDisconnect.update",this._path),o4("OnDisconnect.update",e,this._path,!1);const t=new P.BH;return function GY(n,e,t,i){if((0,P.xb)(t))return _o("onDisconnect().update() called with empty data.  Don't do anything."),void Yp(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&vo(t,(c,h)=>{const p=Ki(h);W0(n.onDisconnect_,Li(e,c),p)}),Yp(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class ga{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return nn(this._path)?null:HP(this._path)}get ref(){return new tl(this._repo,this._path)}get _queryIdentifier(){const e=C3(this._queryParams),t=NP(e);return"{}"===t?"default":t}get _queryObject(){return C3(this._queryParams)}isEqual(e){if(!((e=(0,P.m9)(e))instanceof ga))return!1;const t=this._repo===e._repo,i=zP(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function GZ(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function NM(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Qp(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Gu){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Hp)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Of)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===bi){if(null!=e&&!II(e)||null!=t&&!II(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,P.hu)(n.getIndex()instanceof ZP||n.getIndex()===KP,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function PM(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class tl extends ga{constructor(e,t){super(e,t,new dM,!1)}get parent(){const e=h3(this._path);return null===e?null:new tl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class $v{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Bn(e),i=Gv(this.ref,e);return new $v(this._node.getChild(t),i,bi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new $v(r,Gv(this.ref,i),bi)))}hasChild(e){const t=new Bn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function x4(n,e){return(n=(0,P.m9)(n))._checkNotDeleted("ref"),void 0!==e?Gv(n._root,e):n._root}function E4(n,e){(n=(0,P.m9)(n))._checkNotDeleted("refFromURL");const t=NF(e,n._repo.repoInfo_.nodeAdmin);s4("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&$u("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),x4(n,t.path.toString())}function Gv(n,e){return null===tn((n=(0,P.m9)(n))._path)?OY("child","path",e,!1):SI("child","path",e,!1),new tl(n._repo,Li(n._path,e))}function FF(n,e){n=(0,P.m9)(n),el("set",n._path),Wu("set",e,n._path,!1);const t=new P.BH;return AF(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function oQ(n,e){o4("update",e,n._path,!1);const t=new P.BH;return function jY(n,e,t,i){Q0(n,"update",{path:e.toString(),value:t});let r=!0;const s=AI(n),c={};if(vo(t,(h,p)=>{r=!1,c[h]=e4(Li(e,h),Ki(p),n.serverSyncTree_,s)}),r)_o("update() called with empty data.  Don't do anything."),Yp(0,i,"ok",void 0);else{const h=MM(n),p=function fY(n,e,t,i){!function kK(n,e,t,i){(0,P.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=oF(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=wi.fromObject(t);return Y0(n,new Z0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,h);kM(n.eventQueue_,p),n.server_.merge(e.toString(),t,(v,C)=>{const D="ok"===v;D||as("update at "+e+" failed: "+v);const M=Kp(n.serverSyncTree_,h,!D),F=M.length>0?X0(n,e):e;oc(n.eventQueue_,F,M),Yp(0,i,v,C)}),vo(t,v=>{const C=RF(n,Li(e,v));X0(n,C)}),oc(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function sQ(n){n=(0,P.m9)(n);const e=new PF(()=>{}),t=new kI(e);return function UY(n,e,t){const i=function vY(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(v,C)=>{const D=zs(v,t);i=i||Wp(C,D)});let r=n.syncPointTree_.get(t);r?i=i||Wp(r,On()):(r=new z3,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,c=s?new Gp(i,!0,!1):null;return function tY(n){return gM(n.viewCache_)}($3(r,e,_M(n.pendingWriteTree_,e._path),s?c.getNode():Yt.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=Ki(r).withIndex(e._queryParams.getIndex());let c;if(pF(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())c=wI(n.serverSyncTree_,e._path,s);else{const h=xI(n.serverSyncTree_,e);c=K3(n.serverSyncTree_,e._path,s,h)}return oc(n.eventQueue_,e._path,c),CM(n.serverSyncTree_,e,t,null,!0),s},r=>(Q0(n,"get for query "+(0,P.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new $v(i,new tl(n._repo,n._path),n._queryParams.getIndex()))}class kI{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new y4("value",this,new $v(e.snapshotNode,new tl(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new b4(this,e,t):null}matches(e){return e instanceof kI&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class FM{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new b4(this,e,t):null}createEvent(e,t){(0,P.hu)(null!=e.childName,"Child events should have a childName.");const i=Gv(new tl(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new y4(e.type,this,new $v(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof FM&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function MI(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,v=(C,D)=>{kF(n._repo,n,h),p(C,D)};v.userCallback=t.userCallback,v.context=t.context,t=v}const c=new PF(t,s||void 0),h="value"===e?new kI(c):new FM(e,c);return function qY(n,e,t){let i;i=".info"===tn(e._path)?pF(n.infoSyncTree_,e,t):pF(n.serverSyncTree_,e,t),a4(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>kF(n._repo,n,h)}function LF(n,e,t,i){return MI(n,"value",e,t,i)}function C4(n,e,t,i){return MI(n,"child_added",e,t,i)}function I4(n,e,t,i){return MI(n,"child_changed",e,t,i)}function T4(n,e,t,i){return MI(n,"child_moved",e,t,i)}function D4(n,e,t,i){return MI(n,"child_removed",e,t,i)}function S4(n,e,t){let i=null;const r=t?new PF(t):null;"value"===e?i=new kI(r):e&&(i=new FM(e,r)),kF(n._repo,n,i)}class gd{}class A4 extends gd{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Wu("endAt",this._value,e._path,!0);const t=XP(e._queryParams,this._value,this._key);if(PM(t),Qp(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ga(e._repo,e._path,t,e._orderByCalled)}}class cQ extends gd{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Wu("endBefore",this._value,e._path,!1);const t=function _K(n,e,t){let i;return i=XP(n,e,n.index_===Gu||t?t:Hp),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(PM(t),Qp(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ga(e._repo,e._path,t,e._orderByCalled)}}class k4 extends gd{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Wu("startAt",this._value,e._path,!0);const t=QP(e._queryParams,this._value,this._key);if(PM(t),Qp(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ga(e._repo,e._path,t,e._orderByCalled)}}class uQ extends gd{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Wu("startAfter",this._value,e._path,!1);const t=function gK(n,e,t){let i;return i=QP(n,e,n.index_===Gu||t?t:Of),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(PM(t),Qp(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ga(e._repo,e._path,t,e._orderByCalled)}}class fQ extends gd{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ga(e._repo,e._path,function mK(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class pQ extends gd{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ga(e._repo,e._path,function pK(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class _Q extends gd{constructor(e){super(),this._path=e}_apply(e){NM(e,"orderByChild");const t=new Bn(this._path);if(nn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new ZP(t),r=uM(e._queryParams,i);return Qp(r),new ga(e._repo,e._path,r,!0)}}class yQ extends gd{_apply(e){NM(e,"orderByKey");const t=uM(e._queryParams,Gu);return Qp(t),new ga(e._repo,e._path,t,!0)}}class wQ extends gd{_apply(e){NM(e,"orderByPriority");const t=uM(e._queryParams,bi);return Qp(t),new ga(e._repo,e._path,t,!0)}}class EQ extends gd{_apply(e){NM(e,"orderByValue");const t=uM(e._queryParams,KP);return Qp(t),new ga(e._repo,e._path,t,!0)}}class IQ extends gd{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Wu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new A4(this._value,this._key)._apply(new k4(this._value,this._key)._apply(e))}}function _d(n,...e){let t=(0,P.m9)(n);for(const i of e)t=i._apply(t);return t}(function oY(n){(0,P.hu)(!wM,"__referenceConstructor has already been defined"),wM=n})(tl),function dY(n){(0,P.hu)(!EM,"__referenceConstructor has already been defined"),EM=n}(tl);const BF={};function R4(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||$u("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_o("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,v,c=NF(s,r),h=c.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(p=!0,s=`http://${v}?ns=${h.namespace}`,c=NF(s,r),h=c.repoInfo):p=!c.repoInfo.secure;const C=r&&p?new lI(lI.OWNER):new bZ(n.name,n.options,e);s4("Invalid Firebase Database URL",c),nn(c.path)||$u("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function kQ(n,e,t,i){let r=BF[e.name];r||(r={},BF[e.name]=r);let s=r[n.toURLString()];return s&&$u("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new LY(n,false,t,i),r[n.toURLString()]=s,s}(h,n,C,new yZ(n.name,t));return new RQ(D,n)}class RQ{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function BY(n,e,t){if(n.stats_=VP(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new hM(n.repoInfo_,(i,r,s,c)=>{u4(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>h4(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,P.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Vv(n.repoInfo_,e,(i,r,s,c)=>{u4(n,i,r,s,c)},i=>{h4(n,i)},i=>{!function VY(n,e){vo(e,(t,i)=>{SF(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function EZ(n,e){const t=n.toString();return BP[t]||(BP[t]=e()),BP[t]}(n.repoInfo_,()=>new EK(n.stats_,n.server_)),n.infoData_=new vK,n.infoSyncTree_=new Z3({startListening:(i,r,s,c)=>{let h=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(h=wI(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),SF(n,"connected",!1),n.serverSyncTree_=new Z3({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(h,p)=>{const v=c(h,p);oc(n.eventQueue_,i._path,v)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new tl(this._repo,On())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function AQ(n,e){const t=BF[e];(!t||t[n.key]!==n)&&$u(`Database ${e}(${n.repoInfo_}) has already been deleted.`),m4(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&$u("Cannot call "+e+" on a deleted database.")}}function O4(){Jj.IS_TRANSPORT_INITIALIZED&&as("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function OQ(){O4(),zp.forceDisallow()}function NQ(){O4(),z0.forceDisallow(),zp.forceAllow()}function LQ(n,e){Oj(n,e)}const VQ={".sv":"timestamp"};class HQ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Vv.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Vv.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function BQ(n){Sj(Ao.SDK_VERSION),(0,Ao._registerComponent)(new As.wA("database",(e,{instanceIdentifier:t})=>R4(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Ao.registerVersion)(Tj,"0.14.4",n),(0,Ao.registerVersion)(Tj,"0.14.4","esm2017")}();const qQ=new ks.Yd("@firebase/database-compat"),P4=function(n){qQ.warn("FIREBASE WARNING: "+n)};class KQ{constructor(e){this._delegate=e}cancel(e){(0,P.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,P.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,P.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,P.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,P.Dv)("OnDisconnect.set",1,2,arguments.length),(0,P.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,P.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,P.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,P.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,P4("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,P.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class YQ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,P.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Xp{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,P.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,P.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,P.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,P.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,P.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),SI("DataSnapshot.child","path",e,!1),new Xp(this._database,this._delegate.child(e))}hasChild(e){return(0,P.Dv)("DataSnapshot.hasChild",1,1,arguments.length),SI("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,P.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,P.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,P.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Xp(this._database,t)))}hasChildren(){return(0,P.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,P.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,P.Dv)("DataSnapshot.ref",0,0,arguments.length),new sc(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Vo{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,P.Dv)("Query.on",2,4,arguments.length),(0,P.Wj)("Query.on","callback",t,!1);const c=Vo.getCancelAndContextArgs_("Query.on",i,r),h=(v,C)=>{t.call(c.context,new Xp(this.database,v),C)};h.userCallback=t,h.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return LF(this._delegate,h,p),t;case"child_added":return C4(this._delegate,h,p),t;case"child_removed":return D4(this._delegate,h,p),t;case"child_changed":return I4(this._delegate,h,p),t;case"child_moved":return T4(this._delegate,h,p),t;default:throw new Error((0,P.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,P.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,P.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,P.Wj)("Query.off","callback",t,!0),(0,P.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,S4(this._delegate,e,r)}else S4(this._delegate,e)}get(){return sQ(this._delegate).then(e=>new Xp(this.database,e))}once(e,t,i,r){(0,P.Dv)("Query.once",1,4,arguments.length),(0,P.Wj)("Query.once","callback",t,!0);const s=Vo.getCancelAndContextArgs_("Query.once",i,r),c=new P.BH,h=(v,C)=>{const D=new Xp(this.database,v);t&&t.call(s.context,D,C),c.resolve(D)};h.userCallback=t,h.context=s.context;const p=v=>{s.cancel&&s.cancel.call(s.context,v),c.reject(v)};switch(e){case"value":LF(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":C4(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":D4(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":I4(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":T4(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,P.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,P.Dv)("Query.limitToFirst",1,1,arguments.length),new Vo(this.database,_d(this._delegate,function mQ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new fQ(n)}(e)))}limitToLast(e){return(0,P.Dv)("Query.limitToLast",1,1,arguments.length),new Vo(this.database,_d(this._delegate,function gQ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new pQ(n)}(e)))}orderByChild(e){return(0,P.Dv)("Query.orderByChild",1,1,arguments.length),new Vo(this.database,_d(this._delegate,function vQ(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return SI("orderByChild","path",n,!1),new _Q(n)}(e)))}orderByKey(){return(0,P.Dv)("Query.orderByKey",0,0,arguments.length),new Vo(this.database,_d(this._delegate,function bQ(){return new yQ}()))}orderByPriority(){return(0,P.Dv)("Query.orderByPriority",0,0,arguments.length),new Vo(this.database,_d(this._delegate,function xQ(){return new wQ}()))}orderByValue(){return(0,P.Dv)("Query.orderByValue",0,0,arguments.length),new Vo(this.database,_d(this._delegate,function CQ(){return new EQ}()))}startAt(e=null,t){return(0,P.Dv)("Query.startAt",0,2,arguments.length),new Vo(this.database,_d(this._delegate,function dQ(n=null,e){return DI("startAt","key",e,!0),new k4(n,e)}(e,t)))}startAfter(e=null,t){return(0,P.Dv)("Query.startAfter",0,2,arguments.length),new Vo(this.database,_d(this._delegate,function hQ(n,e){return DI("startAfter","key",e,!0),new uQ(n,e)}(e,t)))}endAt(e=null,t){return(0,P.Dv)("Query.endAt",0,2,arguments.length),new Vo(this.database,_d(this._delegate,function aQ(n,e){return DI("endAt","key",e,!0),new A4(n,e)}(e,t)))}endBefore(e=null,t){return(0,P.Dv)("Query.endBefore",0,2,arguments.length),new Vo(this.database,_d(this._delegate,function lQ(n,e){return DI("endBefore","key",e,!0),new cQ(n,e)}(e,t)))}equalTo(e,t){return(0,P.Dv)("Query.equalTo",1,2,arguments.length),new Vo(this.database,_d(this._delegate,function TQ(n,e){return DI("equalTo","key",e,!0),new IQ(n,e)}(e,t)))}toString(){return(0,P.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,P.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,P.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Vo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,P.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,P.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,P.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new sc(this.database,new tl(this._delegate._repo,this._delegate._path))}}class sc extends Vo{constructor(e,t){super(e,new ga(t._repo,t._path,new dM,!1)),this.database=e,this._delegate=t}getKey(){return(0,P.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,P.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new sc(this.database,Gv(this._delegate,e))}getParent(){(0,P.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new sc(this.database,e):null}getRoot(){return(0,P.Dv)("Reference.root",0,0,arguments.length),new sc(this.database,this._delegate.root)}set(e,t){(0,P.Dv)("Reference.set",1,2,arguments.length),(0,P.Wj)("Reference.set","onComplete",t,!0);const i=FF(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,P.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,P4("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}el("Reference.update",this._delegate._path),(0,P.Wj)("Reference.update","onComplete",t,!0);const i=oQ(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,P.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,P.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function rQ(n,e,t){if(el("setWithPriority",n._path),Wu("setWithPriority",e,n._path,!1),DF("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new P.BH;return AF(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,P.Dv)("Reference.remove",0,1,arguments.length),(0,P.Wj)("Reference.remove","onComplete",e,!0);const t=function nQ(n){return el("remove",n._path),FF(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,P.Dv)("Reference.transaction",1,3,arguments.length),(0,P.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,P.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,P.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function zQ(n,e,t){var i;if(n=(0,P.m9)(n),el("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new P.BH,h=LF(n,()=>{});return function ZY(n,e,t,i,r,s){Q0(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:kj(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=MF(n,e,void 0);c.currentInputSnapshot=h;const p=c.update(h.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{TI("transaction failed: Data returned ",p,c.path),c.status=0;const v=DM(n.transactionQueueTree_,e),C=zv(v)||[];let D;C.push(c),CF(v,C),"object"==typeof p&&null!==p&&(0,P.r3)(p,".priority")?(D=(0,P.DV)(p,".priority"),(0,P.hu)(II(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(IM(n.serverSyncTree_,e)||Yt.EMPTY_NODE).getPriority().val();const M=AI(n),F=Ki(p,D),U=wF(F,h,M);c.currentOutputSnapshotRaw=F,c.currentOutputSnapshotResolved=U,c.currentWriteId=MM(n);const W=mF(n.serverSyncTree_,e,U,c.currentWriteId,c.applyLocally);oc(n.eventQueue_,e,W),RM(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,v,C)=>{let D=null;p?s.reject(p):(D=new $v(C,new tl(n._repo,n._path),bi),s.resolve(new HQ(v,D)))},h,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new YQ(s.committed,new Xp(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,P.Dv)("Reference.setPriority",1,2,arguments.length),(0,P.Wj)("Reference.setPriority","onComplete",t,!0);const i=function iQ(n,e){n=(0,P.m9)(n),el("setPriority",n._path),DF("setPriority",e,!1);const t=new P.BH;return AF(n._repo,Li(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,P.Dv)("Reference.push",0,2,arguments.length),(0,P.Wj)("Reference.push","onComplete",t,!0);const i=function tQ(n,e){n=(0,P.m9)(n),el("push",n._path),Wu("push",e,n._path,!0);const t=d4(n._repo),i=eQ(t),r=Gv(n,i),s=Gv(n,i);let c;return c=null!=e?FF(s,e).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new sc(this.database,c));t&&r.then(()=>t(null),c=>t(c));const s=new sc(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return el("Reference.onDisconnect",this._delegate._path),new KQ(new w4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class RI{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:OQ,forceLongPolling:NQ}}useEmulator(e,t,i={}){!function N4(n,e,t,i={}){(n=(0,P.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&$u("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&$u('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new lI(lI.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,P.Sg)(i.mockUserToken,n.app.options.projectId);s=new lI(c)}!function SQ(n,e,t,i){n.repoInfo_=new FP(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,P.Dv)("database.ref",0,1,arguments.length),e instanceof sc){const t=E4(this._delegate,e.toString());return new sc(this,t)}{const t=x4(this._delegate,e);return new sc(this,t)}}refFromURL(e){(0,P.Dv)("database.refFromURL",1,1,arguments.length);const i=E4(this._delegate,e);return new sc(this,i)}goOffline(){return(0,P.Dv)("database.goOffline",0,0,arguments.length),function PQ(n){(n=(0,P.m9)(n))._checkNotDeleted("goOffline"),m4(n._repo)}(this._delegate)}goOnline(){return(0,P.Dv)("database.goOnline",0,0,arguments.length),function FQ(n){(n=(0,P.m9)(n))._checkNotDeleted("goOnline"),function WY(n){n.persistentConnection_&&n.persistentConnection_.resume(l4)}(n._repo)}(this._delegate)}}RI.ServerValue={TIMESTAMP:function UQ(){return VQ}(),increment:n=>function jQ(n){return{".sv":{increment:n}}}(n)};var XQ=Object.freeze({__proto__:null,initStandalone:function QQ({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){Sj(t);const c=new As.zt("auth-internal",new As.H0("database-standalone"));return c.setComponent(new As.wA("auth-internal",()=>i,"PRIVATE")),{instance:new RI(R4(n,c,void 0,e,s),n),namespace:r}}});const JQ=RI.ServerValue;function F4(n){return null==n}function L4(n){return"function"==typeof n.set}function B4(n,e){return L4(e)?e:n.ref(e)}function V4(n,e){if(function tX(n){return"string"==typeof n}(n))return e.stringCase();if(L4(n))return e.firebaseCase();if(function nX(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function OI(n,e,t="on",i=Ug.z){return new Ei.y(r=>{let s=null;return s=n[t](e,(c,h)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,ft.U)(r=>{const{snapshot:s,prevKey:c}=r;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:c,key:h}}),(0,AO.B)())}function U4(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function oX(n,e){const{payload:t,prevKey:i,key:r}=e,s=U4(n,r),c=function rX(n,e){if(F4(e))return 0;{const t=U4(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(p=>{const v={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,v],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function j4(n){return(F4(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function H4(n,e,t){return function iX(n,e,t){return OI(n,"value","once",t).pipe((0,kn.w)(i=>{const r=[(0,ot.of)(i)];return e.forEach(s=>r.push(OI(n,s,"on",t))),(0,AC.T)(...r).pipe(Xo(oX,[]))}),(0,Iw.x)())}(n,e=j4(e),t)}function z4(n,e,t){const i=(e=j4(e)).map(r=>OI(n,r,"on",t));return(0,AC.T)(...i)}function $4(n,e){return function(i,r){return V4(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function lX(n){return function(t){return t?V4(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function G4(n,e){return function(){return OI(n,"value","on",e)}}!function eX(n){n.INTERNAL.registerComponent(new As.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new RI(r,i)},"PUBLIC").setServiceProps({Reference:sc,Query:Vo,Database:RI,DataSnapshot:Xp,enableLogging:LQ,INTERNAL:XQ,ServerValue:JQ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(vT.Z);const hX=new d.OlP("angularfire2.realtimeDatabaseURL"),fX=new d.OlP("angularfire2.database.use-emulator");let mX=(()=>{class n{constructor(t,i,r,s,c,h,p,v,C,D,M,F,U,W,ee){this.schedulers=h;const ke=p,ze=(0,Ir.on)(t,c,i);v&&sN(ze,c,C,M,F,U,D,W),this.database=(0,Ir.cc)(`${ze.name}.database.${r}`,"AngularFireDatabase",ze.name,()=>{const Fe=c.runOutsideAngular(()=>ze.database(r||void 0));return ke&&Fe.useEmulator(...ke),Fe},[ke])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>B4(this.database,t));let s=r;return i&&(s=i(r)),function dX(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:$4(i,"update"),set:$4(i,"set"),push:r=>i.push(r),remove:lX(i),snapshotChanges:r=>H4(n,r,t).pipe(Dn.iC),stateChanges:r=>z4(n,r,t).pipe(Dn.iC),auditTrail:r=>function sX(n,e,t){return function cX(n,e,t){return function aX(n,e){return OI(n,"value","on",e).pipe((0,ft.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function oZ(...n){const e=(0,ws.jO)(n);return(0,ki.e)((t,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),h=!1;for(let p=0;p<r;p++)(0,Es.Xf)(n[p]).subscribe((0,An.x)(i,v=>{s[p]=v,!h&&!c[p]&&(c[p]=!0,(h=c.every(Pr.y))&&(c=null))},Al.Z));t.subscribe((0,An.x)(i,p=>{if(h){const v=[p,...s];i.next(e?e(...v):v)}}))})}(e),(0,ft.U)(([r,s])=>{const c=r.lastKeyToLoad,h=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:h}}),function sZ(n){return(0,ki.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,An.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,ft.U)(r=>r.actions))}(n,z4(n,e).pipe(Xo((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(Dn.iC),valueChanges:(r,s)=>H4(n,r,t).pipe((0,ft.U)(h=>h.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),Dn.iC)}}(s,this)}object(t){return function uX(n,e){return{query:n,snapshotChanges:()=>G4(n,e.schedulers.outsideAngular)().pipe(Dn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>G4(n,e.schedulers.outsideAngular)().pipe(Dn.iC,(0,ft.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>B4(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ir.Dh),d.LFG(Ir.xv,8),d.LFG(hX,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Dn.HU),d.LFG(fX,8),d.LFG(OC,8),d.LFG(eN,8),d.LFG(tN,8),d.LFG(nN,8),d.LFG(iN,8),d.LFG(rN,8),d.LFG(oN,8),d.LFG(RC,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),pX=(()=>{class n{constructor(){XA.Z.registerVersion("angularfire",Dn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[mX]}),n})();var q4=L(1954);const NI={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=NI;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Nn.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=NI;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=NI;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var W4=L(2631);new class _X extends W4.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class gX extends q4.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=NI.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(NI.cancelAnimationFrame(t),e._scheduled=void 0)}});let VF,yX=1;const LM={};function Z4(n){return n in LM&&(delete LM[n],!0)}const bX={setImmediate(n){const e=yX++;return LM[e]=!0,VF||(VF=Promise.resolve()),VF.then(()=>Z4(e)&&n()),e},clearImmediate(n){Z4(n)}},{setImmediate:wX,clearImmediate:xX}=bX,BM={setImmediate(...n){const{delegate:e}=BM;return(e?.setImmediate||wX)(...n)},clearImmediate(n){const{delegate:e}=BM;return(e?.clearImmediate||xX)(n)},delegate:void 0};new class CX extends W4.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class EX extends q4.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=BM.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(BM.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});let K4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})(),DX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Di,yi,K4,K4,yi]})}return n})(),Q4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})(),VX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Q4,yi,rk,Di,Q4,yi]})}return n})(),UX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n,bootstrap:[Vq]});static#n=this.\u0275inj=d.cJS({providers:[Op,Ak,GN],imports:[na,xq,WG,NW,VN,p9,Ir.hO.initializeApp(IV_firebase),s6,Xz,rZ,pX,Nk,mG,WC,sk,Nk,jC,sk,qN,DX,vP,ak,VX]})}return n})();ph().bootstrapModule(UX).catch(n=>console.error(n))},5619:(ht,Ce,L)=>{L.d(Ce,{X:()=>ie});var d=L(8645);class ie extends d.x{constructor(oe){super(),this._value=oe}get value(){return this.getValue()}_subscribe(oe){const fe=super._subscribe(oe);return!fe.closed&&oe.next(this._value),fe}getValue(){const{hasError:oe,thrownError:fe,_value:te}=this;if(oe)throw fe;return this._throwIfClosed(),te}next(oe){super.next(this._value=oe)}}},5592:(ht,Ce,L)=>{L.d(Ce,{y:()=>Me});var d=L(305),ie=L(7394),B=L(4850),oe=L(8407),fe=L(2653),te=L(4674),_e=L(1441);let Me=(()=>{class J{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Ye=new J;return Ye.source=this,Ye.operator=Ae,Ye}subscribe(Ae,Ye,Le){const Qe=function G(J){return J&&J instanceof d.Lv||function j(J){return J&&(0,te.m)(J.next)&&(0,te.m)(J.error)&&(0,te.m)(J.complete)}(J)&&(0,ie.Nn)(J)}(Ae)?Ae:new d.Hp(Ae,Ye,Le);return(0,_e.x)(()=>{const{operator:Ne,source:mt}=this;Qe.add(Ne?Ne.call(Qe,mt):mt?this._subscribe(Qe):this._trySubscribe(Qe))}),Qe}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Ye){Ae.error(Ye)}}forEach(Ae,Ye){return new(Ye=me(Ye))((Le,Qe)=>{const Ne=new d.Hp({next:mt=>{try{Ae(mt)}catch(pt){Qe(pt),Ne.unsubscribe()}},error:Qe,complete:Le});this.subscribe(Ne)})}_subscribe(Ae){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(Ae)}[B.L](){return this}pipe(...Ae){return(0,oe.U)(Ae)(this)}toPromise(Ae){return new(Ae=me(Ae))((Ye,Le)=>{let Qe;this.subscribe(Ne=>Qe=Ne,Ne=>Le(Ne),()=>Ye(Qe))})}}return J.create=He=>new J(He),J})();function me(J){var He;return null!==(He=J??fe.config.Promise)&&void 0!==He?He:Promise}},8645:(ht,Ce,L)=>{L.d(Ce,{x:()=>_e});var d=L(5592),ie=L(7394);const oe=(0,L(2306).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=L(9039),te=L(1441);let _e=(()=>{class me extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const J=new Me(this,this);return J.operator=G,J}_throwIfClosed(){if(this.closed)throw new oe}next(G){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(G)}})}error(G){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:J}=this;for(;J.length;)J.shift().error(G)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:J,isStopped:He,observers:Ae}=this;return J||He?ie.Lc:(this.currentObservers=null,Ae.push(G),new ie.w0(()=>{this.currentObservers=null,(0,fe.P)(Ae,G)}))}_checkFinalizedStatuses(G){const{hasError:J,thrownError:He,isStopped:Ae}=this;J?G.error(He):Ae&&G.complete()}asObservable(){const G=new d.y;return G.source=this,G}}return me.create=(j,G)=>new Me(j,G),me})();class Me extends _e{constructor(j,G){super(),this.destination=j,this.source=G}next(j){var G,J;null===(J=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===J||J.call(G,j)}error(j){var G,J;null===(J=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===J||J.call(G,j)}complete(){var j,G;null===(G=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===G||G.call(j)}_subscribe(j){var G,J;return null!==(J=null===(G=this.source)||void 0===G?void 0:G.subscribe(j))&&void 0!==J?J:ie.Lc}}},305:(ht,Ce,L)=>{L.d(Ce,{Hp:()=>Le,Lv:()=>J});var d=L(4674),ie=L(7394),B=L(2653),oe=L(3894),fe=L(2420);const te=me("C",void 0,void 0);function me(ce,xe,re){return{kind:ce,value:xe,error:re}}var j=L(7599),G=L(1441);class J extends ie.w0{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,ie.Nn)(xe)&&xe.add(this)):this.destination=pt}static create(xe,re,Te){return new Le(xe,re,Te)}next(xe){this.isStopped?mt(function Me(ce){return me("N",ce,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?mt(function _e(ce){return me("E",void 0,ce)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?mt(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Ae(ce,xe){return He.call(ce,xe)}class Ye{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:re}=this;if(re.next)try{re.next(xe)}catch(Te){Qe(Te)}}error(xe){const{partialObserver:re}=this;if(re.error)try{re.error(xe)}catch(Te){Qe(Te)}else Qe(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch(re){Qe(re)}}}class Le extends J{constructor(xe,re,Te){let Be;if(super(),(0,d.m)(xe)||!xe)Be={next:xe??void 0,error:re??void 0,complete:Te??void 0};else{let ue;this&&B.config.useDeprecatedNextContext?(ue=Object.create(xe),ue.unsubscribe=()=>this.unsubscribe(),Be={next:xe.next&&Ae(xe.next,ue),error:xe.error&&Ae(xe.error,ue),complete:xe.complete&&Ae(xe.complete,ue)}):Be=xe}this.destination=new Ye(Be)}}function Qe(ce){B.config.useDeprecatedSynchronousErrorHandling?(0,G.O)(ce):(0,oe.h)(ce)}function mt(ce,xe){const{onStoppedNotification:re}=B.config;re&&j.z.setTimeout(()=>re(ce,xe))}const pt={closed:!0,next:fe.Z,error:function Ne(ce){throw ce},complete:fe.Z}},7394:(ht,Ce,L)=>{L.d(Ce,{Lc:()=>te,w0:()=>fe,Nn:()=>_e});var d=L(4674);const B=(0,L(2306).d)(me=>function(G){me(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((J,He)=>`${He+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var oe=L(9039);class fe{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ae of G)Ae.remove(this);else G.remove(this);const{initialTeardown:J}=this;if((0,d.m)(J))try{J()}catch(Ae){j=Ae instanceof B?Ae.errors:[Ae]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Ae of He)try{Me(Ae)}catch(Ye){j=j??[],Ye instanceof B?j=[...j,...Ye.errors]:j.push(Ye)}}if(j)throw new B(j)}}add(j){var G;if(j&&j!==this)if(this.closed)Me(j);else{if(j instanceof fe){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(j)}}_hasParent(j){const{_parentage:G}=this;return G===j||Array.isArray(G)&&G.includes(j)}_addParent(j){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(j),G):G?[G,j]:j}_removeParent(j){const{_parentage:G}=this;G===j?this._parentage=null:Array.isArray(G)&&(0,oe.P)(G,j)}remove(j){const{_finalizers:G}=this;G&&(0,oe.P)(G,j),j instanceof fe&&j._removeParent(this)}}fe.EMPTY=(()=>{const me=new fe;return me.closed=!0,me})();const te=fe.EMPTY;function _e(me){return me instanceof fe||me&&"closed"in me&&(0,d.m)(me.remove)&&(0,d.m)(me.add)&&(0,d.m)(me.unsubscribe)}function Me(me){(0,d.m)(me)?me():me.unsubscribe()}},2653:(ht,Ce,L)=>{L.d(Ce,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ht,Ce,L)=>{L.d(Ce,{E:()=>ie});const ie=new(L(5592).y)(fe=>fe.complete())},2459:(ht,Ce,L)=>{L.d(Ce,{D:()=>xe});var d=L(4829),ie=L(3093),B=L(5137),te=L(5592),Me=L(4971),me=L(4674),j=L(7103);function J(re,Te){if(!re)throw new Error("Iterable cannot be null");return new te.y(Be=>{(0,j.f)(Be,Te,()=>{const ue=re[Symbol.asyncIterator]();(0,j.f)(Be,Te,()=>{ue.next().then(Y=>{Y.done?Be.complete():Be.next(Y.value)})},0,!0)})})}var He=L(8382),Ae=L(4026),Ye=L(4266),Le=L(3664),Qe=L(5726),Ne=L(9853),mt=L(541);function xe(re,Te){return Te?function ce(re,Te){if(null!=re){if((0,He.c)(re))return function oe(re,Te){return(0,d.Xf)(re).pipe((0,B.R)(Te),(0,ie.Q)(Te))}(re,Te);if((0,Ye.z)(re))return function _e(re,Te){return new te.y(Be=>{let ue=0;return Te.schedule(function(){ue===re.length?Be.complete():(Be.next(re[ue++]),Be.closed||this.schedule())})})}(re,Te);if((0,Ae.t)(re))return function fe(re,Te){return(0,d.Xf)(re).pipe((0,B.R)(Te),(0,ie.Q)(Te))}(re,Te);if((0,Qe.D)(re))return J(re,Te);if((0,Le.T)(re))return function G(re,Te){return new te.y(Be=>{let ue;return(0,j.f)(Be,Te,()=>{ue=re[Me.h](),(0,j.f)(Be,Te,()=>{let Y,qe;try{({value:Y,done:qe}=ue.next())}catch(_t){return void Be.error(_t)}qe?Be.complete():Be.next(Y)},0,!0)}),()=>(0,me.m)(ue?.return)&&ue.return()})}(re,Te);if((0,mt.L)(re))return function pt(re,Te){return J((0,mt.Q)(re),Te)}(re,Te)}throw(0,Ne.z)(re)}(re,Te):(0,d.Xf)(re)}},4829:(ht,Ce,L)=>{L.d(Ce,{Xf:()=>He});var d=L(7582),ie=L(4266),B=L(4026),oe=L(5592),fe=L(8382),te=L(5726),_e=L(9853),Me=L(3664),me=L(541),j=L(4674),G=L(3894),J=L(4850);function He(ce){if(ce instanceof oe.y)return ce;if(null!=ce){if((0,fe.c)(ce))return function Ae(ce){return new oe.y(xe=>{const re=ce[J.L]();if((0,j.m)(re.subscribe))return re.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ce);if((0,ie.z)(ce))return function Ye(ce){return new oe.y(xe=>{for(let re=0;re<ce.length&&!xe.closed;re++)xe.next(ce[re]);xe.complete()})}(ce);if((0,B.t)(ce))return function Le(ce){return new oe.y(xe=>{ce.then(re=>{xe.closed||(xe.next(re),xe.complete())},re=>xe.error(re)).then(null,G.h)})}(ce);if((0,te.D)(ce))return Ne(ce);if((0,Me.T)(ce))return function Qe(ce){return new oe.y(xe=>{for(const re of ce)if(xe.next(re),xe.closed)return;xe.complete()})}(ce);if((0,me.L)(ce))return function mt(ce){return Ne((0,me.Q)(ce))}(ce)}throw(0,_e.z)(ce)}function Ne(ce){return new oe.y(xe=>{(function pt(ce,xe){var re,Te,Be,ue;return(0,d.mG)(this,void 0,void 0,function*(){try{for(re=(0,d.KL)(ce);!(Te=yield re.next()).done;)if(xe.next(Te.value),xe.closed)return}catch(Y){Be={error:Y}}finally{try{Te&&!Te.done&&(ue=re.return)&&(yield ue.call(re))}finally{if(Be)throw Be.error}}xe.complete()})})(ce,xe).catch(re=>xe.error(re))})}},3019:(ht,Ce,L)=>{L.d(Ce,{T:()=>te});var d=L(7537),ie=L(4829),B=L(6232),oe=L(4564),fe=L(2459);function te(..._e){const Me=(0,oe.yG)(_e),me=(0,oe._6)(_e,1/0),j=_e;return j.length?1===j.length?(0,ie.Xf)(j[0]):(0,d.J)(me)((0,fe.D)(j,Me)):B.E}},2096:(ht,Ce,L)=>{L.d(Ce,{of:()=>B});var d=L(4564),ie=L(2459);function B(...oe){const fe=(0,d.yG)(oe);return(0,ie.D)(oe,fe)}},8251:(ht,Ce,L)=>{L.d(Ce,{x:()=>ie});var d=L(305);function ie(oe,fe,te,_e,Me){return new B(oe,fe,te,_e,Me)}class B extends d.Lv{constructor(fe,te,_e,Me,me,j){super(fe),this.onFinalize=me,this.shouldUnsubscribe=j,this._next=te?function(G){try{te(G)}catch(J){fe.error(J)}}:super._next,this._error=Me?function(G){try{Me(G)}catch(J){fe.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(G){fe.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:te}=this;super.unsubscribe(),!te&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},3997:(ht,Ce,L)=>{L.d(Ce,{x:()=>oe});var d=L(2737),ie=L(9360),B=L(8251);function oe(te,_e=d.y){return te=te??fe,(0,ie.e)((Me,me)=>{let j,G=!0;Me.subscribe((0,B.x)(me,J=>{const He=_e(J);(G||!te(j,He))&&(G=!1,j=He,me.next(J))}))})}function fe(te,_e){return te===_e}},7398:(ht,Ce,L)=>{L.d(Ce,{U:()=>B});var d=L(9360),ie=L(8251);function B(oe,fe){return(0,d.e)((te,_e)=>{let Me=0;te.subscribe((0,ie.x)(_e,me=>{_e.next(oe.call(fe,me,Me++))}))})}},7537:(ht,Ce,L)=>{L.d(Ce,{J:()=>B});var d=L(1631),ie=L(2737);function B(oe=1/0){return(0,d.z)(ie.y,oe)}},1631:(ht,Ce,L)=>{L.d(Ce,{z:()=>Me});var d=L(7398),ie=L(4829),B=L(9360),oe=L(7103),fe=L(8251),_e=L(4674);function Me(me,j,G=1/0){return(0,_e.m)(j)?Me((J,He)=>(0,d.U)((Ae,Ye)=>j(J,Ae,He,Ye))((0,ie.Xf)(me(J,He))),G):("number"==typeof j&&(G=j),(0,B.e)((J,He)=>function te(me,j,G,J,He,Ae,Ye,Le){const Qe=[];let Ne=0,mt=0,pt=!1;const ce=()=>{pt&&!Qe.length&&!Ne&&j.complete()},xe=Te=>Ne<J?re(Te):Qe.push(Te),re=Te=>{Ae&&j.next(Te),Ne++;let Be=!1;(0,ie.Xf)(G(Te,mt++)).subscribe((0,fe.x)(j,ue=>{He?.(ue),Ae?xe(ue):j.next(ue)},()=>{Be=!0},void 0,()=>{if(Be)try{for(Ne--;Qe.length&&Ne<J;){const ue=Qe.shift();Ye?(0,oe.f)(j,Ye,()=>re(ue)):re(ue)}ce()}catch(ue){j.error(ue)}}))};return me.subscribe((0,fe.x)(j,xe,()=>{pt=!0,ce()})),()=>{Le?.()}}(J,He,me,G)))}},3093:(ht,Ce,L)=>{L.d(Ce,{Q:()=>oe});var d=L(7103),ie=L(9360),B=L(8251);function oe(fe,te=0){return(0,ie.e)((_e,Me)=>{_e.subscribe((0,B.x)(Me,me=>(0,d.f)(Me,fe,()=>Me.next(me),te),()=>(0,d.f)(Me,fe,()=>Me.complete(),te),me=>(0,d.f)(Me,fe,()=>Me.error(me),te)))})}},3020:(ht,Ce,L)=>{L.d(Ce,{B:()=>fe});var d=L(4829),ie=L(8645),B=L(305),oe=L(9360);function fe(_e={}){const{connector:Me=(()=>new ie.x),resetOnError:me=!0,resetOnComplete:j=!0,resetOnRefCountZero:G=!0}=_e;return J=>{let He,Ae,Ye,Le=0,Qe=!1,Ne=!1;const mt=()=>{Ae?.unsubscribe(),Ae=void 0},pt=()=>{mt(),He=Ye=void 0,Qe=Ne=!1},ce=()=>{const xe=He;pt(),xe?.unsubscribe()};return(0,oe.e)((xe,re)=>{Le++,!Ne&&!Qe&&mt();const Te=Ye=Ye??Me();re.add(()=>{Le--,0===Le&&!Ne&&!Qe&&(Ae=te(ce,G))}),Te.subscribe(re),!He&&Le>0&&(He=new B.Hp({next:Be=>Te.next(Be),error:Be=>{Ne=!0,mt(),Ae=te(pt,me,Be),Te.error(Be)},complete:()=>{Qe=!0,mt(),Ae=te(pt,j),Te.complete()}}),(0,d.Xf)(xe).subscribe(He))})(J)}}function te(_e,Me,...me){if(!0===Me)return void _e();if(!1===Me)return;const j=new B.Hp({next:()=>{j.unsubscribe(),_e()}});return(0,d.Xf)(Me(...me)).subscribe(j)}},5137:(ht,Ce,L)=>{L.d(Ce,{R:()=>ie});var d=L(9360);function ie(B,oe=0){return(0,d.e)((fe,te)=>{te.add(B.schedule(()=>fe.subscribe(te),oe))})}},4664:(ht,Ce,L)=>{L.d(Ce,{w:()=>oe});var d=L(4829),ie=L(9360),B=L(8251);function oe(fe,te){return(0,ie.e)((_e,Me)=>{let me=null,j=0,G=!1;const J=()=>G&&!me&&Me.complete();_e.subscribe((0,B.x)(Me,He=>{me?.unsubscribe();let Ae=0;const Ye=j++;(0,d.Xf)(fe(He,Ye)).subscribe(me=(0,B.x)(Me,Le=>Me.next(te?te(He,Le,Ye,Ae++):Le),()=>{me=null,J()}))},()=>{G=!0,J()}))})}},9397:(ht,Ce,L)=>{L.d(Ce,{b:()=>fe});var d=L(4674),ie=L(9360),B=L(8251),oe=L(2737);function fe(te,_e,Me){const me=(0,d.m)(te)||_e||Me?{next:te,error:_e,complete:Me}:te;return me?(0,ie.e)((j,G)=>{var J;null===(J=me.subscribe)||void 0===J||J.call(me);let He=!0;j.subscribe((0,B.x)(G,Ae=>{var Ye;null===(Ye=me.next)||void 0===Ye||Ye.call(me,Ae),G.next(Ae)},()=>{var Ae;He=!1,null===(Ae=me.complete)||void 0===Ae||Ae.call(me),G.complete()},Ae=>{var Ye;He=!1,null===(Ye=me.error)||void 0===Ye||Ye.call(me,Ae),G.error(Ae)},()=>{var Ae,Ye;He&&(null===(Ae=me.unsubscribe)||void 0===Ae||Ae.call(me)),null===(Ye=me.finalize)||void 0===Ye||Ye.call(me)}))}):oe.y}},1954:(ht,Ce,L)=>{L.d(Ce,{o:()=>fe});var d=L(7394);class ie extends d.w0{constructor(_e,Me){super()}schedule(_e,Me=0){return this}}const B={setInterval(te,_e,...Me){const{delegate:me}=B;return me?.setInterval?me.setInterval(te,_e,...Me):setInterval(te,_e,...Me)},clearInterval(te){const{delegate:_e}=B;return(_e?.clearInterval||clearInterval)(te)},delegate:void 0};var oe=L(9039);class fe extends ie{constructor(_e,Me){super(_e,Me),this.scheduler=_e,this.work=Me,this.pending=!1}schedule(_e,Me=0){var me;if(this.closed)return this;this.state=_e;const j=this.id,G=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(G,j,Me)),this.pending=!0,this.delay=Me,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(G,this.id,Me),this}requestAsyncId(_e,Me,me=0){return B.setInterval(_e.flush.bind(_e,this),me)}recycleAsyncId(_e,Me,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return Me;null!=Me&&B.clearInterval(Me)}execute(_e,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(_e,Me);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,Me){let j,me=!1;try{this.work(_e)}catch(G){me=!0,j=G||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:_e,scheduler:Me}=this,{actions:me}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(me,this),null!=_e&&(this.id=this.recycleAsyncId(Me,_e,null)),this.delay=null,super.unsubscribe()}}}},2631:(ht,Ce,L)=>{L.d(Ce,{v:()=>B});var d=L(4552);class ie{constructor(fe,te=ie.now){this.schedulerActionCtor=fe,this.now=te}schedule(fe,te=0,_e){return new this.schedulerActionCtor(this,fe).schedule(_e,te)}}ie.now=d.l.now;class B extends ie{constructor(fe,te=ie.now){super(fe,te),this.actions=[],this._active=!1}flush(fe){const{actions:te}=this;if(this._active)return void te.push(fe);let _e;this._active=!0;do{if(_e=fe.execute(fe.state,fe.delay))break}while(fe=te.shift());if(this._active=!1,_e){for(;fe=te.shift();)fe.unsubscribe();throw _e}}}},6321:(ht,Ce,L)=>{L.d(Ce,{z:()=>B});var d=L(1954);const B=new(L(2631).v)(d.o)},4552:(ht,Ce,L)=>{L.d(Ce,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(ht,Ce,L)=>{L.d(Ce,{z:()=>d});const d={setTimeout(ie,B,...oe){const{delegate:fe}=d;return fe?.setTimeout?fe.setTimeout(ie,B,...oe):setTimeout(ie,B,...oe)},clearTimeout(ie){const{delegate:B}=d;return(B?.clearTimeout||clearTimeout)(ie)},delegate:void 0}},4971:(ht,Ce,L)=>{L.d(Ce,{h:()=>ie});const ie=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ht,Ce,L)=>{L.d(Ce,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(ht,Ce,L)=>{L.d(Ce,{_6:()=>te,jO:()=>oe,yG:()=>fe});var d=L(4674);function B(_e){return _e[_e.length-1]}function oe(_e){return(0,d.m)(B(_e))?_e.pop():void 0}function fe(_e){return function ie(_e){return _e&&(0,d.m)(_e.schedule)}(B(_e))?_e.pop():void 0}function te(_e,Me){return"number"==typeof B(_e)?_e.pop():Me}},9039:(ht,Ce,L)=>{function d(ie,B){if(ie){const oe=ie.indexOf(B);0<=oe&&ie.splice(oe,1)}}L.d(Ce,{P:()=>d})},2306:(ht,Ce,L)=>{function d(ie){const oe=ie(fe=>{Error.call(fe),fe.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}L.d(Ce,{d:()=>d})},1441:(ht,Ce,L)=>{L.d(Ce,{O:()=>oe,x:()=>B});var d=L(2653);let ie=null;function B(fe){if(d.config.useDeprecatedSynchronousErrorHandling){const te=!ie;if(te&&(ie={errorThrown:!1,error:null}),fe(),te){const{errorThrown:_e,error:Me}=ie;if(ie=null,_e)throw Me}}else fe()}function oe(fe){d.config.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=fe)}},7103:(ht,Ce,L)=>{function d(ie,B,oe,fe=0,te=!1){const _e=B.schedule(function(){oe(),te?ie.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(ie.add(_e),!te)return _e}L.d(Ce,{f:()=>d})},2737:(ht,Ce,L)=>{function d(ie){return ie}L.d(Ce,{y:()=>d})},4266:(ht,Ce,L)=>{L.d(Ce,{z:()=>d});const d=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},5726:(ht,Ce,L)=>{L.d(Ce,{D:()=>ie});var d=L(4674);function ie(B){return Symbol.asyncIterator&&(0,d.m)(B?.[Symbol.asyncIterator])}},4674:(ht,Ce,L)=>{function d(ie){return"function"==typeof ie}L.d(Ce,{m:()=>d})},8382:(ht,Ce,L)=>{L.d(Ce,{c:()=>B});var d=L(4850),ie=L(4674);function B(oe){return(0,ie.m)(oe[d.L])}},3664:(ht,Ce,L)=>{L.d(Ce,{T:()=>B});var d=L(4971),ie=L(4674);function B(oe){return(0,ie.m)(oe?.[d.h])}},4026:(ht,Ce,L)=>{L.d(Ce,{t:()=>ie});var d=L(4674);function ie(B){return(0,d.m)(B?.then)}},541:(ht,Ce,L)=>{L.d(Ce,{L:()=>oe,Q:()=>B});var d=L(7582),ie=L(4674);function B(fe){return(0,d.FC)(this,arguments,function*(){const _e=fe.getReader();try{for(;;){const{value:Me,done:me}=yield(0,d.qq)(_e.read());if(me)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Me)}}finally{_e.releaseLock()}})}function oe(fe){return(0,ie.m)(fe?.getReader)}},9360:(ht,Ce,L)=>{L.d(Ce,{A:()=>ie,e:()=>B});var d=L(4674);function ie(oe){return(0,d.m)(oe?.lift)}function B(oe){return fe=>{if(ie(fe))return fe.lift(function(te){try{return oe(te,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(ht,Ce,L)=>{function d(){}L.d(Ce,{Z:()=>d})},8407:(ht,Ce,L)=>{L.d(Ce,{U:()=>B,z:()=>ie});var d=L(2737);function ie(...oe){return B(oe)}function B(oe){return 0===oe.length?d.y:1===oe.length?oe[0]:function(te){return oe.reduce((_e,Me)=>Me(_e),te)}}},3894:(ht,Ce,L)=>{L.d(Ce,{h:()=>B});var d=L(2653),ie=L(7599);function B(oe){ie.z.setTimeout(()=>{const{onUnhandledError:fe}=d.config;if(!fe)throw oe;fe(oe)})}},9853:(ht,Ce,L)=>{function d(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Ce,{z:()=>d})},5879:(ht,Ce,L)=>{L.d(Ce,{$8M:()=>Dh,$WT:()=>qs,$Z:()=>Hy,AFp:()=>Am,ALo:()=>hE,AaK:()=>J,CHM:()=>yc,CRH:()=>Ub,EJc:()=>BE,EiD:()=>r1,EpF:()=>CD,F$t:()=>I_,F4k:()=>is,FYo:()=>ky,FiY:()=>Pl,Gf:()=>HS,GfV:()=>CT,Gpc:()=>Ye,HDt:()=>oA,Hsn:()=>vx,Ikx:()=>rp,JOm:()=>au,JVY:()=>eT,JZr:()=>pt,Jf7:()=>Zg,KtG:()=>Dl,L6k:()=>YM,LAX:()=>XM,LFG:()=>vn,LSH:()=>ww,Lbi:()=>Ug,Lck:()=>Du,MAs:()=>mx,MMx:()=>oE,MR2:()=>xw,NdJ:()=>cf,O4$:()=>Pr,Ojb:()=>Iw,OlP:()=>ct,Oqu:()=>qc,P3R:()=>s1,PXZ:()=>JE,Q6J:()=>Ro,QGY:()=>gx,QbO:()=>Cw,Qsj:()=>ET,R0b:()=>Vr,RDi:()=>KI,Rgc:()=>pp,SBq:()=>Gh,Sil:()=>sA,Suo:()=>EE,TTD:()=>wl,TgZ:()=>E_,Udp:()=>ep,VuI:()=>b0,W1O:()=>TE,X6Q:()=>oC,XFs:()=>St,Xpm:()=>ll,Xq5:()=>lD,Xts:()=>Dm,Y36:()=>Bm,YKP:()=>wS,YNc:()=>vu,Yjl:()=>Ed,Yz7:()=>Dt,Z0I:()=>In,ZZ4:()=>mv,_Bn:()=>bS,_UZ:()=>C_,_c5:()=>aO,_uU:()=>kx,aQg:()=>p0,c2e:()=>rA,cJS:()=>cn,cg1:()=>_b,dDg:()=>fA,dqk:()=>wn,eBb:()=>QM,eFA:()=>nC,eJc:()=>Hb,ekj:()=>lf,eoX:()=>KE,f3M:()=>Bt,g9A:()=>Ey,h0i:()=>yf,hGG:()=>cO,hij:()=>S_,iGM:()=>Q_,ifc:()=>Ho,ip1:()=>iA,jDz:()=>sE,kL8:()=>op,kcU:()=>xh,lG2:()=>ul,lcZ:()=>W_,lnq:()=>Cu,lqb:()=>Gl,lri:()=>ZE,mCW:()=>py,n5z:()=>Th,n_E:()=>K_,oAB:()=>eh,oxw:()=>Xa,pB0:()=>JM,q3G:()=>hu,q4F:()=>Rm,qFp:()=>gO,qLn:()=>Vc,qOj:()=>ib,qZA:()=>Ya,qzn:()=>Hl,rWj:()=>hA,rg0:()=>Xf,s9C:()=>yx,sBO:()=>sC,s_b:()=>xf,soG:()=>Tf,tb:()=>QE,tp0:()=>tu,uIk:()=>ef,vHH:()=>ce,vpe:()=>Zn,wAp:()=>sp,xi3:()=>kS,xp6:()=>Lm,z2F:()=>Lu,z3N:()=>Fc,zSh:()=>wy,zs3:()=>ua});var d=L(8645),ie=L(7394),B=L(5592),oe=L(3019),fe=L(5619),te=L(2096),_e=L(3020),Me=L(4664),me=L(3997);function j(o){for(let a in o)if(o[a]===j)return a;throw Error("Could not find renamed property on target object.")}function G(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function J(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(J).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function He(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const Ae=j({__forward_ref__:j});function Ye(o){return o.__forward_ref__=Ye,o.toString=function(){return J(this())},o}function Le(o){return Qe(o)?o():o}function Qe(o){return"function"==typeof o&&o.hasOwnProperty(Ae)&&o.__forward_ref__===Ye}function Ne(o){return o&&!!o.\u0275providers}const pt="https://g.co/ng/security#xss";class ce extends Error{constructor(a,l){super(function xe(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,l)),this.code=a}}function re(o){return"string"==typeof o?o:null==o?"":String(o)}function qe(o,a){throw new ce(-201,!1)}function at(o,a){null==o&&function Ke(o,a,l,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${l} ${u} ${a} <=Actual]`))}(a,o,null,"!=")}function Dt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function cn(o){return{providers:o.providers||[],imports:o.imports||[]}}function Vi(o){return Qi(o,zr)||Qi(o,Xi)}function In(o){return null!==Vi(o)}function Qi(o,a){return o.hasOwnProperty(a)?o[a]:null}function ds(o){return o&&(o.hasOwnProperty(Sr)||o.hasOwnProperty(vd))?o[Sr]:null}const zr=j({\u0275prov:j}),Sr=j({\u0275inj:j}),Xi=j({ngInjectableDef:j}),vd=j({ngInjectorDef:j});var St=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(St||{});let Lt;function Hn(o){const a=Lt;return Lt=o,a}function xi(o,a,l){const u=Vi(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&St.Optional?null:void 0!==a?a:void qe(J(o))}const wn=globalThis;class ct{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Dt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const At={},_n="__NG_DI_FLAG__",Qn="ngTempTokenPath",z=/\n/gm,Ee="__source";let se;function Ct(o){const a=se;return se=o,a}function Jt(o,a=St.Default){if(void 0===se)throw new ce(-203,!1);return null===se?xi(o,void 0,a):se.get(o,a&St.Optional?null:void 0,a)}function vn(o,a=St.Default){return(function $t(){return Lt}()||Jt)(Le(o),a)}function Bt(o,a=St.Default){return vn(o,Gt(a))}function Gt(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function pr(o){const a=[];for(let l=0;l<o.length;l++){const u=Le(o[l]);if(Array.isArray(u)){if(0===u.length)throw new ce(900,!1);let f,g=St.Default;for(let y=0;y<u.length;y++){const E=u[y],T=Ku(E);"number"==typeof T?-1===T?f=E.token:g|=T:f=E}a.push(vn(f,g))}else a.push(vn(u))}return a}function no(o,a){return o[_n]=a,o.prototype[_n]=a,o}function Ku(o){return o[_n]}function $r(o){return{toString:o}.toString()}var va=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(va||{}),Ho=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(Ho||{});const Ar={},Qt=[],$s=j({\u0275cmp:j}),dc=j({\u0275dir:j}),Yu=j({\u0275pipe:j}),Qu=j({\u0275mod:j}),bo=j({\u0275fac:j}),ya=j({__NG_ELEMENT_ID__:j}),Xu=j({__NG_ENV_ID__:j});function zo(o,a,l){let u=o.length;for(;;){const f=o.indexOf(a,l);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=a.length;if(f+g===u||o.charCodeAt(f+g)<=32)return f}l=f+1}}function il(o,a,l){let u=0;for(;u<l.length;){const f=l[u];if("number"==typeof f){if(0!==f)break;u++;const g=l[u++],y=l[u++],E=l[u++];o.setAttribute(a,y,E,g)}else{const g=f,y=l[++u];rl(g)?o.setProperty(a,g,y):o.setAttribute(a,g,y),u++}}return u}function io(o){return 3===o||4===o||6===o}function rl(o){return 64===o.charCodeAt(0)}function wo(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let u=0;u<a.length;u++){const f=a[u];"number"==typeof f?l=f:0===l||ol(o,l,f,null,-1===l||2===l?a[++u]:null)}}return o}function ol(o,a,l,u,f){let g=0,y=o.length;if(-1===a)y=-1;else for(;g<o.length;){const E=o[g++];if("number"==typeof E){if(E===a){y=-1;break}if(E>a){y=g-1;break}}}for(;g<o.length;){const E=o[g];if("number"==typeof E)break;if(E===l){if(null===u)return void(null!==f&&(o[g+1]=f));if(u===o[g+1])return void(o[g+2]=f)}g++,null!==u&&g++,null!==f&&g++}-1!==y&&(o.splice(y,0,a),g=y+1),o.splice(g++,0,l),null!==u&&o.splice(g++,0,u),null!==f&&o.splice(g++,0,f)}const zn="ng-template";function ro(o,a,l){let u=0,f=!0;for(;u<o.length;){let g=o[u++];if("string"==typeof g&&f){const y=o[u++];if(l&&"class"===g&&-1!==zo(y.toLowerCase(),a,0))return!0}else{if(1===g){for(;u<o.length&&"string"==typeof(g=o[u++]);)if(g.toLowerCase()===a)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function yd(o){return 4===o.type&&o.value!==zn}function bd(o,a,l){return a===(4!==o.type||l?o.value:zn)}function wd(o,a,l){let u=4;const f=o.attrs||[],g=function ba(o){for(let a=0;a<o.length;a++)if(io(o[a]))return a;return o.length}(f);let y=!1;for(let E=0;E<a.length;E++){const T=a[E];if("number"!=typeof T){if(!y)if(4&u){if(u=2|1&u,""!==T&&!bd(o,T,l)||""===T&&1===a.length){if(gr(u))return!1;y=!0}}else{const k=8&u?T:a[++E];if(8&u&&null!==o.attrs){if(!ro(o.attrs,k,l)){if(gr(u))return!1;y=!0}continue}const V=Lf(8&u?"class":T,f,yd(o),l);if(-1===V){if(gr(u))return!1;y=!0;continue}if(""!==k){let Z;Z=V>g?"":f[V+1].toLowerCase();const ne=8&u?Z:null;if(ne&&-1!==zo(ne,k,0)||2&u&&k!==Z){if(gr(u))return!1;y=!0}}}}else{if(!y&&!gr(u)&&!gr(T))return!1;if(y&&gr(T))continue;y=!1,u=T|1&u}}return gr(u)||y}function gr(o){return 0==(1&o)}function Lf(o,a,l,u){if(null===a)return-1;let f=0;if(u||!l){let g=!1;for(;f<a.length;){const y=a[f];if(y===o)return f;if(3===y||6===y)g=!0;else{if(1===y||2===y){let E=a[++f];for(;"string"==typeof E;)E=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=g?1:2}return-1}return function Bf(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const u=o[l];if("number"==typeof u)return-1;if(u===a)return l;l++}return-1}(a,o)}function sl(o,a,l=!1){for(let u=0;u<a.length;u++)if(wd(o,a[u],l))return!0;return!1}function al(o,a){e:for(let l=0;l<a.length;l++){const u=a[l];if(o.length===u.length){for(let f=0;f<o.length;f++)if(o[f]!==u[f])continue e;return!0}}return!1}function cl(o,a){return o?":not("+a.trim()+")":a}function Vf(o){let a=o[0],l=1,u=2,f="",g=!1;for(;l<o.length;){let y=o[l];if("string"==typeof y)if(2&u){const E=o[++l];f+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?f+="."+y:4&u&&(f+=" "+y);else""!==f&&!gr(y)&&(a+=cl(g,f),f=""),u=y,g=g||!gr(u);l++}return""!==f&&(a+=cl(g,f)),a}function ll(o){return $r(()=>{const a=Cd(o),l={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===va.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||Ho.Emulated,styles:o.styles||Qt,_:null,schemas:o.schemas||null,tView:null,id:""};uc(l);const u=o.dependencies;return l.directiveDefs=$o(u,!1),l.pipeDefs=$o(u,!0),l.id=function hc(o){let a=0;const l=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const f of l)a=Math.imul(31,a)+f.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(l),l})}function xd(o){return Xt(o)||$n(o)}function wa(o){return null!==o}function eh(o){return $r(()=>({type:o.type,bootstrap:o.bootstrap||Qt,declarations:o.declarations||Qt,imports:o.imports||Qt,exports:o.exports||Qt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function dl(o,a){if(null==o)return Ar;const l={};for(const u in o)if(o.hasOwnProperty(u)){let f=o[u],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),l[f]=u,a&&(a[f]=g)}return l}function ul(o){return $r(()=>{const a=Cd(o);return uc(a),a})}function Ed(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Xt(o){return o[$s]||null}function $n(o){return o[dc]||null}function ui(o){return o[Yu]||null}function qs(o){const a=Xt(o)||$n(o)||ui(o);return null!==a&&a.standalone}function Ti(o,a){const l=o[Qu]||null;if(!l&&!0===a)throw new Error(`Type ${J(o)} does not have '\u0275mod' property.`);return l}function Cd(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||Ar,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Qt,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dl(o.inputs,a),outputs:dl(o.outputs)}}function uc(o){o.features?.forEach(a=>a(o))}function $o(o,a){if(!o)return null;const l=a?ui:xd;return()=>("function"==typeof o?o():o).map(u=>l(u)).filter(wa)}const Ln=0,Ze=1,Vt=2,xn=3,qr=4,Ws=5,_r=6,Di=7,Gn=8,ms=9,Zs=10,It=11,xa=12,hl=13,xo=14,ni=15,fc=16,tr=17,nr=18,Go=19,Id=20,Eo=21,ps=22,Ea=23,gs=24,Kt=25,mc=1,Ks=2,kr=7,_s=9,hi=11;function Rr(o){return Array.isArray(o)&&"object"==typeof o[mc]}function Si(o){return Array.isArray(o)&&!0===o[mc]}function jf(o){return 0!=(4&o.flags)}function Ca(o){return o.componentOffset>-1}function ml(o){return 1==(1&o.flags)}function vr(o){return!!o.template}function Ia(o){return 0!=(512&o[Vt])}function Qs(o,a){return o.hasOwnProperty(bo)?o[bo]:null}let ii=null,Dd=!1;function yr(o){const a=ii;return ii=o,a}const dg={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function $f(o){if(!yl(o)||o.dirty){if(!o.producerMustRecompute(o)&&!hg(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function ug(o){o.dirty=!0,function sh(o){if(void 0===o.liveConsumerNode)return;const a=Dd;Dd=!0;try{for(const l of o.liveConsumerNode)l.dirty||ug(l)}finally{Dd=a}}(o),o.consumerMarkedDirty?.(o)}function Gf(o){return o&&(o.nextProducerIndex=0),yr(o)}function Ad(o,a){if(yr(a),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(yl(o))for(let l=o.nextProducerIndex;l<o.producerNode.length;l++)vl(o.producerNode[l],o.producerIndexOfThis[l]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function hg(o){Da(o);for(let a=0;a<o.producerNode.length;a++){const l=o.producerNode[a],u=o.producerLastReadVersion[a];if(u!==l.version||($f(l),u!==l.version))return!0}return!1}function pc(o){if(Da(o),yl(o))for(let a=0;a<o.producerNode.length;a++)vl(o.producerNode[a],o.producerIndexOfThis[a]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function vl(o,a){if(function qf(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),Da(o),1===o.liveConsumerNode.length)for(let u=0;u<o.producerNode.length;u++)vl(o.producerNode[u],o.producerIndexOfThis[u]);const l=o.liveConsumerNode.length-1;if(o.liveConsumerNode[a]=o.liveConsumerNode[l],o.liveConsumerIndexOfThis[a]=o.liveConsumerIndexOfThis[l],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,a<o.liveConsumerNode.length){const u=o.liveConsumerIndexOfThis[a],f=o.liveConsumerNode[a];Da(f),f.producerIndexOfThis[u]=a}}function yl(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function Da(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let mg=null;function Xf(o){const a=yr(null);try{return o()}finally{yr(a)}}const Jf=()=>{},em=(()=>({...dg,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:Jf}))();class dh{constructor(a,l,u){this.previousValue=a,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function wl(){return Rd}function Rd(o){return o.type.prototype.ngOnChanges&&(o.setInput=ys),xl}function xl(){const o=uh(this),a=o?.current;if(a){const l=o.previous;if(l===Ar)o.previous=a;else for(let u in a)l[u]=a[u];o.current=null,this.ngOnChanges(a)}}function ys(o,a,l,u){const f=this.declaredInputs[l],g=uh(o)||function Od(o,a){return o[Aa]=a}(o,{previous:Ar,current:null}),y=g.current||(g.current={}),E=g.previous,T=E[f];y[f]=new dh(T&&T.currentValue,a,E===Ar),o[u]=a}wl.ngInherit=!0;const Aa="__ngSimpleChanges__";function uh(o){return o[Aa]||null}const Co=function(o,a,l){},tm="svg";function fn(o){for(;Array.isArray(o);)o=o[Ln];return o}function ka(o,a){return fn(a[o])}function Or(o,a){return fn(a[o.index])}function qo(o,a){return o.data[a]}function Js(o,a){return o[a]}function br(o,a){const l=a[o];return Rr(l)?l:l[Ln]}function Wo(o,a){return null==a?null:o[a]}function im(o){o[tr]=0}function Pd(o){1024&o[Vt]||(o[Vt]|=1024,En(o,1))}function _g(o){1024&o[Vt]&&(o[Vt]&=-1025,En(o,-1))}function En(o,a){let l=o[xn];if(null===l)return;l[Ws]+=a;let u=l;for(l=l[xn];null!==l&&(1===a&&1===u[Ws]||-1===a&&0===u[Ws]);)l[Ws]+=a,u=l,l=l[xn]}const kt={lFrame:mn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ta(){return kt.bindingsEnabled}function na(){return null!==kt.skipHydrationRootTNode}function Se(){return kt.lFrame.lView}function Ut(){return kt.lFrame.tView}function yc(o){return kt.lFrame.contextLView=o,o[Gn]}function Dl(o){return kt.lFrame.contextLView=null,o}function ri(){let o=Bd();for(;null!==o&&64===o.type;)o=o.parent;return o}function Bd(){return kt.lFrame.currentTNode}function Nr(o,a){const l=kt.lFrame;l.currentTNode=o,l.isParent=a}function Vd(){return kt.lFrame.isParent}function Ud(){kt.lFrame.isParent=!1}function Ai(){const o=kt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Ko(){return kt.lFrame.bindingIndex++}function Io(o){const a=kt.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}function Qv(o,a){const l=kt.lFrame;l.bindingIndex=l.bindingRootIndex=o,am(a)}function am(o){kt.lFrame.currentDirectiveIndex=o}function yg(){return kt.lFrame.currentQueryIndex}function Hd(o){kt.lFrame.currentQueryIndex=o}function Jv(o){const a=o[Ze];return 2===a.type?a.declTNode:1===a.type?o[_r]:null}function Ei(o,a,l){if(l&St.SkipSelf){let f=a,g=o;for(;!(f=f.parent,null!==f||l&St.Host||(f=Jv(g),null===f||(g=g[xo],10&f.type))););if(null===f)return!1;a=f,o=g}const u=kt.lFrame=zd();return u.currentTNode=a,u.lView=o,!0}function bs(o){const a=zd(),l=o[Ze];kt.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function zd(){const o=kt.lFrame,a=null===o?null:o.child;return null===a?mn(o):a}function mn(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function ot(){const o=kt.lFrame;return kt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const ir=ot;function bc(){const o=ot();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function ji(){return kt.lFrame.selectedIndex}function Yo(o){kt.lFrame.selectedIndex=o}function Tn(){const o=kt.lFrame;return qo(o.tView,o.selectedIndex)}function Pr(){kt.lFrame.currentNamespace=tm}function xh(){!function bg(){kt.lFrame.currentNamespace=null}()}let ws=!0;function Ma(){return ws}function An(o){ws=o}function To(o,a){for(let l=a.directiveStart,u=a.directiveEnd;l<u;l++){const g=o.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:k,ngOnDestroy:R}=g;y&&(o.contentHooks??=[]).push(-l,y),E&&((o.contentHooks??=[]).push(l,E),(o.contentCheckHooks??=[]).push(l,E)),T&&(o.viewHooks??=[]).push(-l,T),k&&((o.viewHooks??=[]).push(l,k),(o.viewCheckHooks??=[]).push(l,k)),null!=R&&(o.destroyHooks??=[]).push(l,R)}}function $d(o,a,l){xs(o,a,3,l)}function xc(o,a,l,u){(3&o[Vt])===l&&xs(o,a,l,u)}function cm(o,a){let l=o[Vt];(3&l)===a&&(l&=8191,l+=1,o[Vt]=l)}function xs(o,a,l,u){const g=u??-1,y=a.length-1;let E=0;for(let T=void 0!==u?65535&o[tr]:0;T<y;T++)if("number"==typeof a[T+1]){if(E=a[T],null!=u&&E>=u)break}else a[T]<0&&(o[tr]+=65536),(E<g||-1==g)&&(ey(o,l,a,T),o[tr]=(4294901760&o[tr])+T+2),T++}function Ra(o,a){Co(4,o,a);const l=yr(null);try{a.call(o)}finally{yr(l),Co(5,o,a)}}function ey(o,a,l,u){const f=l[u]<0,g=l[u+1],E=o[f?-l[u]:l[u]];f?o[Vt]>>13<o[tr]>>16&&(3&o[Vt])===a&&(o[Vt]+=8192,Ra(E,g)):Ra(E,g)}const rr=-1;class Es{constructor(a,l,u){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function yn(o){return o!==rr}function kn(o){return 32767&o}function Cs(o,a){let l=function Qo(o){return o>>16}(o),u=a;for(;l>0;)u=u[xo],l--;return u}let zi=!0;function Xn(o){const a=zi;return zi=o,a}const Sl=255,Gd=5;let ia=0;const $i={};function wr(o,a){const l=Xo(o,a);if(-1!==l)return l;const u=a[Ze];u.firstCreatePass&&(o.injectorIndex=a.length,qd(u.data,o),qd(a,null),qd(u.blueprint,null));const f=Ec(o,a),g=o.injectorIndex;if(yn(f)){const y=kn(f),E=Cs(f,a),T=E[Ze].data;for(let k=0;k<8;k++)a[g+k]=E[y+k]|T[y+k]}return a[g+8]=f,g}function qd(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Xo(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Ec(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,u=null,f=a;for(;null!==f;){if(u=Rl(f),null===u)return rr;if(l++,f=f[xo],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return rr}function Wd(o,a,l){!function Wn(o,a,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(ya)&&(u=l[ya]),null==u&&(u=l[ya]=ia++);const f=u&Sl;a.data[o+(f>>Gd)]|=1<<f}(o,a,l)}function ra(o,a,l){if(l&St.Optional||void 0!==o)return o;qe()}function Al(o,a,l,u){if(l&St.Optional&&void 0===u&&(u=null),!(l&(St.Self|St.Host))){const f=o[ms],g=Hn(void 0);try{return f?f.get(a,u,l&St.Optional):xi(a,u,l&St.Optional)}finally{Hn(g)}}return ra(u,0,l)}function ao(o,a,l,u=St.Default,f){if(null!==o){if(2048&a[Vt]&&!(u&St.Self)){const y=function xg(o,a,l,u,f){let g=o,y=a;for(;null!==g&&null!==y&&2048&y[Vt]&&!(512&y[Vt]);){const E=Rt(g,y,l,u|St.Self,$i);if(E!==$i)return E;let T=g.parent;if(!T){const k=y[Id];if(k){const R=k.get(l,$i,u);if(R!==$i)return R}T=Rl(y),y=y[xo]}g=T}return f}(o,a,l,u,$i);if(y!==$i)return y}const g=Rt(o,a,l,u,$i);if(g!==$i)return g}return Al(a,l,u,f)}function Rt(o,a,l,u,f){const g=function Ml(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(ya)?o[ya]:void 0;return"number"==typeof a?a>=0?a&Sl:Ih:a}(l);if("function"==typeof g){if(!Ei(a,o,u))return u&St.Host?ra(f,0,u):Al(a,l,u,f);try{let y;if(y=g(u),null!=y||u&St.Optional)return y;qe()}finally{ir()}}else if("number"==typeof g){let y=null,E=Xo(o,a),T=rr,k=u&St.Host?a[ni][_r]:null;for((-1===E||u&St.SkipSelf)&&(T=-1===E?Ec(o,a):a[E+8],T!==rr&&Zr(u,!1)?(y=a[Ze],E=kn(T),a=Cs(T,a)):E=-1);-1!==E;){const R=a[Ze];if(hm(g,E,R.data)){const V=kl(E,a,l,y,u,k);if(V!==$i)return V}T=a[E+8],T!==rr&&Zr(u,a[Ze].data[E+8]===k)&&hm(g,E,a)?(y=R,E=kn(T),a=Cs(T,a)):E=-1}}return f}function kl(o,a,l,u,f,g){const y=a[Ze],E=y.data[o+8],R=Kd(E,y,l,null==u?Ca(E)&&zi:u!=y&&0!=(3&E.type),f&St.Host&&g===E);return null!==R?co(a,y,R,E):$i}function Kd(o,a,l,u,f){const g=o.providerIndexes,y=a.data,E=1048575&g,T=o.directiveStart,R=g>>20,Z=f?E+R:o.directiveEnd;for(let ne=u?E:E+R;ne<Z;ne++){const ye=y[ne];if(ne<T&&l===ye||ne>=T&&ye.type===l)return ne}if(f){const ne=y[T];if(ne&&vr(ne)&&ne.type===l)return T}return null}function co(o,a,l,u){let f=o[l];const g=a.data;if(function lm(o){return o instanceof Es}(f)){const y=f;y.resolving&&function Be(o,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new ce(-200,`Circular dependency in DI detected for ${o}${l}`)}(function Te(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():re(o)}(g[l]));const E=Xn(y.canSeeViewProviders);y.resolving=!0;const k=y.injectImpl?Hn(y.injectImpl):null;Ei(o,u,St.Default);try{f=o[l]=y.factory(void 0,g,o,u),a.firstCreatePass&&l>=u.directiveStart&&function wg(o,a,l){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(u){const y=Rd(a);(l.preOrderHooks??=[]).push(o,y),(l.preOrderCheckHooks??=[]).push(o,y)}f&&(l.preOrderHooks??=[]).push(0-o,f),g&&((l.preOrderHooks??=[]).push(o,g),(l.preOrderCheckHooks??=[]).push(o,g))}(l,g[l],a)}finally{null!==k&&Hn(k),Xn(E),y.resolving=!1,ir()}}return f}function hm(o,a,l){return!!(l[a+(o>>Gd)]&1<<o)}function Zr(o,a){return!(o&St.Self||o&St.Host&&a)}class Pn{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,u){return ao(this._tNode,this._lView,a,Gt(u),l)}}function Ih(){return new Pn(ri(),Se())}function Th(o){return $r(()=>{const a=o.prototype.constructor,l=a[bo]||Cc(a),u=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==u;){const g=f[bo]||Cc(f);if(g&&g!==l)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Cc(o){return Qe(o)?()=>{const a=Cc(Le(o));return a&&a()}:Qs(o)}function Rl(o){const a=o[Ze],l=a.type;return 2===l?a.declTNode:1===l?o[_r]:null}function Dh(o){return function Zd(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const u=l.length;let f=0;for(;f<u;){const g=l[f];if(io(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<u&&"string"==typeof l[f];)f++;else{if(g===a)return l[f+1];f+=2}}}return null}(ri(),o)}const Ts="__parameters__";function uo(o,a,l){return $r(()=>{const u=function ln(o){return function(...l){if(o){const u=o(...l);for(const f in u)this[f]=u[f]}}}(a);function f(...g){if(this instanceof f)return u.apply(this,g),this;const y=new f(...g);return E.annotation=y,E;function E(T,k,R){const V=T.hasOwnProperty(Ts)?T[Ts]:Object.defineProperty(T,Ts,{value:[]})[Ts];for(;V.length<=R;)V.push(null);return(V[R]=V[R]||[]).push(y),T}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}function Tc(o,a){o.forEach(l=>Array.isArray(l)?Tc(l,a):a(l))}function kh(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function Pa(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Nl(o,a){const l=[];for(let u=0;u<o;u++)l.push(a);return l}function ho(o,a,l){let u=Sc(o,a);return u>=0?o[1|u]=l:(u=~u,function Tg(o,a,l,u){let f=o.length;if(f==a)o.push(l,u);else if(1===f)o.push(u,o[0]),o[0]=l;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=l,o[a+1]=u}}(o,u,a,l)),u}function Mh(o,a){const l=Sc(o,a);if(l>=0)return o[1|l]}function Sc(o,a){return function Xd(o,a,l){let u=0,f=o.length>>l;for(;f!==u;){const g=u+(f-u>>1),y=o[g<<l];if(a===y)return g<<l;y>a?f=g:u=g+1}return~(f<<l)}(o,a,1)}const Pl=no(uo("Optional"),8),tu=no(uo("SkipSelf"),4);function la(o){return 128==(128&o.flags)}var au=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(au||{});const kg=new Map;let Nh=0;const Rg="__ngContext__";function Gi(o,a){Rr(a)?(o[Rg]=a[Go],function Mg(o){kg.set(o[Go],o)}(a)):o[Rg]=a}let X;function Pe(o,a){return X(o,a)}function it(o){const a=o[xn];return Si(a)?a[xn]:a}function So(o){return Og(o[xa])}function Nc(o){return Og(o[qr])}function Og(o){for(;null!==o&&!Si(o);)o=o[qr];return o}function Pc(o,a,l,u,f){if(null!=u){let g,y=!1;Si(u)?g=u:Rr(u)&&(y=!0,u=u[Ln]);const E=fn(u);0===o&&null!==l?null==f?jI(a,l,E):Bh(a,l,E,f||null,!0):1===o&&null!==l?Bh(a,l,E,f||null,!0):2===o?function dy(o,a,l){const u=ly(o,a);u&&function UM(o,a,l,u){o.removeChild(a,l,u)}(o,u,a,l)}(a,E,y):3===o&&a.destroyNode(E),null!=g&&function HM(o,a,l,u,f){const g=l[kr];g!==fn(l)&&Pc(a,o,u,g,f);for(let E=hi;E<l.length;E++){const T=l[E];Vh(T[Ze],T,o,a,u,g)}}(a,o,g,l,f)}}function Lh(o,a,l){return o.createElement(a,l)}function LI(o,a){const l=o[_s],u=l.indexOf(a);_g(a),l.splice(u,1)}function ay(o,a){if(o.length<=hi)return;const l=hi+a,u=o[l];if(u){const f=u[fc];null!==f&&f!==o&&LI(f,u),a>0&&(o[l-1][qr]=u[qr]);const g=Pa(o,hi+a);!function lu(o,a){Vh(o,a,a[It],2,null,null),a[Ln]=null,a[_r]=null}(u[Ze],u);const y=g[nr];null!==y&&y.detachView(g[Ze]),u[xn]=null,u[qr]=null,u[Vt]&=-129}return u}function BI(o,a){if(!(256&a[Vt])){const l=a[It];a[Ea]&&pc(a[Ea]),a[gs]&&pc(a[gs]),l.destroyNode&&Vh(o,a,l,3,null,null),function aw(o){let a=o[xa];if(!a)return lw(o[Ze],o);for(;a;){let l=null;if(Rr(a))l=a[xa];else{const u=a[hi];u&&(l=u)}if(!l){for(;a&&!a[qr]&&a!==o;)Rr(a)&&lw(a[Ze],a),a=a[xn];null===a&&(a=o),Rr(a)&&lw(a[Ze],a),l=a&&a[qr]}a=l}}(a)}}function lw(o,a){if(!(256&a[Vt])){a[Vt]&=-129,a[Vt]|=256,function cy(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let u=0;u<l.length;u+=2){const f=a[l[u]];if(!(f instanceof Es)){const g=l[u+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const E=f[g[y]],T=g[y+1];Co(4,E,T);try{T.call(E)}finally{Co(5,E,T)}}else{Co(4,f,g);try{g.call(f)}finally{Co(5,f,g)}}}}}(o,a),function VI(o,a){const l=o.cleanup,u=a[Di];if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const y=l[g+3];y>=0?u[y]():u[-y].unsubscribe(),g+=2}else l[g].call(u[l[g+1]]);null!==u&&(a[Di]=null);const f=a[Eo];if(null!==f){a[Eo]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(o,a),1===a[Ze].type&&a[It].destroy();const l=a[fc];if(null!==l&&Si(a[xn])){l!==a[xn]&&LI(l,a);const u=a[nr];null!==u&&u.detachView(o)}!function ow(o){kg.delete(o[Go])}(a)}}function du(o,a,l){return function UI(o,a,l){let u=a;for(;null!==u&&40&u.type;)u=(a=u).parent;if(null===u)return l[Ln];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:g}=o.data[u.directiveStart+f];if(g===Ho.None||g===Ho.Emulated)return null}return Or(u,l)}}(o,a.parent,l)}function Bh(o,a,l,u,f){o.insertBefore(a,l,u,f)}function jI(o,a,l){o.appendChild(a,l)}function HI(o,a,l,u,f){null!==u?Bh(o,a,l,u,f):jI(o,a,l)}function ly(o,a){return o.parentNode(a)}function zI(o,a,l){return $I(o,a,l)}let wm,hy,fy,my,$I=function dw(o,a,l){return 40&o.type?Or(o,l):null};function jl(o,a,l,u){const f=du(o,u,a),g=a[It],E=zI(u.parent||a[_r],u,a);if(null!=f)if(Array.isArray(l))for(let T=0;T<l.length;T++)HI(g,f,l[T],E,!1);else HI(g,f,l,E,!1);void 0!==wm&&wm(g,u,a,l,f)}function xm(o,a){if(null!==a){const l=a.type;if(3&l)return Or(a,o);if(4&l)return hw(-1,o[a.index]);if(8&l){const u=a.child;if(null!==u)return xm(o,u);{const f=o[a.index];return Si(f)?hw(-1,f):fn(f)}}if(32&l)return Pe(a,o)()||fn(o[a.index]);{const u=GI(o,a);return null!==u?Array.isArray(u)?u[0]:xm(it(o[ni]),u):xm(o,a.next)}}return null}function GI(o,a){return null!==a?o[ni][_r].projection[a.projection]:null}function hw(o,a){const l=hi+o+1;if(l<a.length){const u=a[l],f=u[Ze].firstChild;if(null!==f)return xm(u,f)}return a[kr]}function fw(o,a,l,u,f,g,y){for(;null!=l;){const E=u[l.index],T=l.type;if(y&&0===a&&(E&&Gi(fn(E),u),l.flags|=2),32!=(32&l.flags))if(8&T)fw(o,a,l.child,u,f,g,!1),Pc(a,o,f,E,g);else if(32&T){const k=Pe(l,u);let R;for(;R=k();)Pc(a,o,f,R,g);Pc(a,o,f,E,g)}else 16&T?WI(o,a,u,l,f,g):Pc(a,o,f,E,g);l=y?l.projectionNext:l.next}}function Vh(o,a,l,u,f,g){fw(l,u,o.firstChild,a,f,g,!1)}function WI(o,a,l,u,f,g){const y=l[ni],T=y[_r].projection[u.projection];if(Array.isArray(T))for(let k=0;k<T.length;k++)Pc(a,o,f,T[k],g);else{let k=T;const R=y[xn];la(u)&&(k.flags|=128),fw(o,a,k,R,f,g,!0)}}function Pg(o,a,l){""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l)}function ZI(o,a,l){const{mergedAttrs:u,classes:f,styles:g}=l;null!==u&&il(o,a,u),null!==f&&Pg(o,a,f),null!==g&&function $M(o,a,l){o.setAttribute(a,"style",l)}(o,a,g)}function Em(o){return function mw(){if(void 0===hy&&(hy=null,wn.trustedTypes))try{hy=wn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return hy}()?.createHTML(o)||o}function KI(o){fy=o}function XI(o){return function pw(){if(void 0===my&&(my=null,wn.trustedTypes))try{my=wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return my}()?.createScriptURL(o)||o}class uu{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pt})`}}class gw extends uu{getTypeName(){return"HTML"}}class Im extends uu{getTypeName(){return"Style"}}class _w extends uu{getTypeName(){return"Script"}}class ZM extends uu{getTypeName(){return"URL"}}class KM extends uu{getTypeName(){return"ResourceURL"}}function Fc(o){return o instanceof uu?o.changingThisBreaksApplicationSecurity:o}function Hl(o,a){const l=function JI(o){return o instanceof uu&&o.getTypeName()||null}(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see ${pt})`)}return l===a}function eT(o){return new gw(o)}function YM(o){return new Im(o)}function QM(o){return new _w(o)}function XM(o){return new ZM(o)}function JM(o){return new KM(o)}class e1{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(Em(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch{return null}}}class t1{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const l=this.inertDocument.createElement("template");return l.innerHTML=Em(a),l}}const tT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function py(o){return(o=String(o)).match(tT)?o:"unsafe:"+o}function zl(o){const a={};for(const l of o.split(","))a[l]=!0;return a}function Bg(...o){const a={};for(const l of o)for(const u in l)l.hasOwnProperty(u)&&(a[u]=!0);return a}const nT=zl("area,br,col,hr,img,wbr"),Cr=zl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),iT=zl("rp,rt"),vw=Bg(nT,Bg(Cr,zl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bg(iT,zl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bg(iT,Cr)),gy=zl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rT=Bg(gy,zl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yw=zl("script,style,template");class oT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!vw.hasOwnProperty(l))return this.sanitizedSomething=!0,!yw.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=a.attributes;for(let f=0;f<u.length;f++){const g=u.item(f),y=g.name,E=y.toLowerCase();if(!rT.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=g.value;gy[E]&&(T=py(T)),this.buf.push(" ",y,'="',Lc(T),'"')}return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();vw.hasOwnProperty(l)&&!nT.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(Lc(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const $F=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sT=/([^\#-~ |!])/g;function Lc(o){return o.replace(/&/g,"&amp;").replace($F,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(sT,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _y;function r1(o,a){let l=null;try{_y=_y||function Fg(o){const a=new t1(o);return function Lg(){try{return!!(new window.DOMParser).parseFromString(Em(""),"text/html")}catch{return!1}}()?new e1(a):a}(o);let u=a?String(a):"";l=_y.getInertBodyElement(u);let f=5,g=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=g,g=l.innerHTML,l=_y.getInertBodyElement(u)}while(u!==g);return Em((new oT).sanitizeChildren(aT(l)||l))}finally{if(l){const u=aT(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function aT(o){return"content"in o&&function GF(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var hu=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(hu||{});function ww(o){const a=vy();return a?a.sanitize(hu.URL,o)||"":Hl(o,"URL")?Fc(o):py(re(o))}function lT(o){const a=vy();if(a)return XI(a.sanitize(hu.RESOURCE_URL,o)||"");if(Hl(o,"ResourceURL"))return XI(Fc(o));throw new ce(904,!1)}function s1(o,a,l){return function WF(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?lT:ww}(a,l)(o)}function vy(){const o=Se();return o&&o[Zs].sanitizer}const Dm=new ct("ENVIRONMENT_INITIALIZER"),uT=new ct("INJECTOR",-1),hT=new ct("INJECTOR_DEF_TYPES");class yy{get(a,l=At){if(l===At){const u=new Error(`NullInjectorError: No provider for ${J(a)}!`);throw u.name="NullInjectorError",u}return l}}function xw(o){return{\u0275providers:o}}function a1(...o){return{\u0275providers:fT(0,o),\u0275fromNgModule:!0}}function fT(o,...a){const l=[],u=new Set;let f;const g=y=>{l.push(y)};return Tc(a,y=>{const E=y;by(E,g,[],u)&&(f||=[],f.push(E))}),void 0!==f&&mT(f,g),l}function mT(o,a){for(let l=0;l<o.length;l++){const{ngModule:u,providers:f}=o[l];Ew(f,g=>{a(g,u)})}}function by(o,a,l,u){if(!(o=Le(o)))return!1;let f=null,g=ds(o);const y=!g&&Xt(o);if(g||y){if(y&&!y.standalone)return!1;f=o}else{const T=o.ngModule;if(g=ds(T),!g)return!1;f=T}const E=u.has(f);if(y){if(E)return!1;if(u.add(f),y.dependencies){const T="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const k of T)by(k,a,l,u)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let k;u.add(f);try{Tc(g.imports,R=>{by(R,a,l,u)&&(k||=[],k.push(R))})}finally{}void 0!==k&&mT(k,a)}if(!E){const k=Qs(f)||(()=>new f);a({provide:f,useFactory:k,deps:Qt},f),a({provide:hT,useValue:f,multi:!0},f),a({provide:Dm,useValue:()=>vn(f),multi:!0},f)}const T=g.providers;if(null!=T&&!E){const k=o;Ew(T,R=>{a(R,k)})}}}return f!==o&&void 0!==o.providers}function Ew(o,a){for(let l of o)Ne(l)&&(l=l.\u0275providers),Array.isArray(l)?Ew(l,a):a(l)}const KF=j({provide:String,useValue:j});function pT(o){return null!==o&&"object"==typeof o&&KF in o}function Sm(o){return"function"==typeof o}const wy=new ct("Set Injector scope."),xy={},$l={};let ns;function pi(){return void 0===ns&&(ns=new yy),ns}class Gl{}class Uh extends Gl{get destroyed(){return this._destroyed}constructor(a,l,u,f){super(),this.parent=l,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gT(a,y=>this.processProvider(y)),this.records.set(uT,Vg(void 0,this)),f.has("environment")&&this.records.set(Gl,Vg(void 0,this));const g=this.records.get(wy);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(hT.multi,Qt,St.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of a)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const l=Ct(this),u=Hn(void 0);try{return a()}finally{Ct(l),Hn(u)}}get(a,l=At,u=St.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(Xu))return a[Xu](this);u=Gt(u);const g=Ct(this),y=Hn(void 0);try{if(!(u&St.SkipSelf)){let T=this.records.get(a);if(void 0===T){const k=function eL(o){return"function"==typeof o||"object"==typeof o&&o instanceof ct}(a)&&Vi(a);T=k&&this.injectableDefInScope(k)?Vg(on(a),xy):null,this.records.set(a,T)}if(null!=T)return this.hydrate(a,T)}return(u&St.Self?pi():this.parent).get(a,l=u&St.Optional&&l===At?null:l)}catch(E){if("NullInjectorError"===E.name){if((E[Qn]=E[Qn]||[]).unshift(J(a)),g)throw E;return function eg(o,a,l,u){const f=o[Qn];throw a[Ee]&&f.unshift(a[Ee]),o.message=function Ff(o,a,l,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=J(a);if(Array.isArray(a))f=a.map(J).join(" -> ");else if("object"==typeof a){let g=[];for(let y in a)if(a.hasOwnProperty(y)){let E=a[y];g.push(y+":"+("string"==typeof E?JSON.stringify(E):J(E)))}f=`{${g.join(", ")}}`}return`${l}${u?"("+u+")":""}[${f}]: ${o.replace(z,"\n  ")}`}("\n"+o.message,f,l,u),o.ngTokenPath=f,o[Qn]=null,o}(E,a,"R3InjectorError",this.source)}throw E}finally{Hn(y),Ct(g)}}resolveInjectorInitializers(){const a=Ct(this),l=Hn(void 0);try{const f=this.get(Dm.multi,Qt,St.Self);for(const g of f)g()}finally{Ct(a),Hn(l)}}toString(){const a=[],l=this.records;for(const u of l.keys())a.push(J(u));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(a){let l=Sm(a=Le(a))?a:Le(a&&a.provide);const u=function QF(o){return pT(o)?Vg(void 0,o.useValue):Vg(Ri(o),xy)}(a);if(Sm(a)||!0!==a.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=Vg(void 0,xy,!0),f.factory=()=>pr(f.multi),this.records.set(l,f)),l=a,f.multi.push(a)}this.records.set(l,u)}hydrate(a,l){return l.value===xy&&(l.value=$l,l.value=l.factory()),"object"==typeof l.value&&l.value&&function JF(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=Le(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(a){const l=this._onDestroyHooks.indexOf(a);-1!==l&&this._onDestroyHooks.splice(l,1)}}function on(o){const a=Vi(o),l=null!==a?a.factory:Qs(o);if(null!==l)return l;if(o instanceof ct)throw new ce(204,!1);if(o instanceof Function)return function jh(o){const a=o.length;if(a>0)throw Nl(a,"?"),new ce(204,!1);const l=function to(o){return o&&(o[zr]||o[Xi])||null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new ce(204,!1)}function Ri(o,a,l){let u;if(Sm(o)){const f=Le(o);return Qs(f)||on(f)}if(pT(o))u=()=>Le(o.useValue);else if(function d1(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...pr(o.deps||[]));else if(function l1(o){return!(!o||!o.useExisting)}(o))u=()=>vn(Le(o.useExisting));else{const f=Le(o&&(o.useClass||o.provide));if(!function XF(o){return!!o.deps}(o))return Qs(f)||on(f);u=()=>new f(...pr(o.deps))}return u}function Vg(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function gT(o,a){for(const l of o)Array.isArray(l)?gT(l,a):l&&Ne(l)?gT(l.\u0275providers,a):a(l)}const Am=new ct("AppId",{providedIn:"root",factory:()=>_T}),_T="ng",Ey=new ct("Platform Initializer"),Ug=new ct("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Cw=new ct("AnimationModuleType"),Iw=new ct("CSP nonce",{providedIn:"root",factory:()=>function Cm(){if(void 0!==fy)return fy;if(typeof document<"u")return document;throw new ce(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Qr=(o,a,l)=>null;function Bc(o,a,l=!1){return Qr(o,a,l)}class f1{}class $h{}class p1{resolveComponentFactory(a){throw function xT(o){const a=Error(`No component factory found for ${J(o)}.`);return a.ngComponent=o,a}(a)}}let zg=(()=>{class o{static#e=this.NULL=new p1}return o})();function Aw(){return fu(ri(),Se())}function fu(o,a){return new Gh(Or(o,a))}let Gh=(()=>{class o{constructor(l){this.nativeElement=l}static#e=this.__NG_ELEMENT_ID__=Aw}return o})();function kw(o){return o instanceof Gh?o.nativeElement:o}class ky{}let ET=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function g1(){const o=Se(),l=br(ri().index,o);return(Rr(l)?l:o)[It]}()}return o})(),$g=(()=>{class o{static#e=this.\u0275prov=Dt({token:o,providedIn:"root",factory:()=>null})}return o})();class CT{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Rm=new CT("16.2.12"),Mw={};function Ry(o,a=null,l=null,u){const f=Pw(o,a,l,u);return f.resolveInjectorInitializers(),f}function Pw(o,a=null,l=null,u,f=new Set){const g=[l||Qt,a1(o)];return u=u||("object"==typeof o?void 0:J(o)),new Uh(g,a||pi(),u||null,f)}let ua=(()=>{class o{static#e=this.THROW_IF_NOT_FOUND=At;static#t=this.NULL=new yy;static create(l,u){if(Array.isArray(l))return Ry({name:""},u,l,"");{const f=l.name??"";return Ry({name:f},l.parent,l.providers,f)}}static#n=this.\u0275prov=Dt({token:o,providedIn:"any",factory:()=>vn(uT)});static#i=this.__NG_ELEMENT_ID__=-1}return o})();function Oy(o){return o.ngOriginalError}class Vc{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&Oy(a);for(;l&&Oy(l);)l=Oy(l);return l||null}}function qg(o){return a=>{setTimeout(o,void 0,a)}}const Zn=class Fw extends d.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,u){let f=a,g=l||(()=>null),y=u;if(a&&"object"==typeof a){const T=a;f=T.next?.bind(T),g=T.error?.bind(T),y=T.complete?.bind(T)}this.__isAsync&&(g=qg(g),f&&(f=qg(f)),y&&(y=qg(y)));const E=super.subscribe({next:f,error:g,complete:y});return a instanceof ie.w0&&a.add(E),E}};function Br(...o){}class Vr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zn(!1),this.onMicrotaskEmpty=new Zn(!1),this.onStable=new Zn(!1),this.onError=new Zn(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&l,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Py(){const o="function"==typeof wn.requestAnimationFrame;let a=wn[o?"requestAnimationFrame":"setTimeout"],l=wn[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function w1(o){const a=()=>{!function MT(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(wn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Bw(o),o.isCheckStableRunning=!0,Lw(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Bw(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,f,g,y,E)=>{if(function x1(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(E))return l.invokeTask(f,g,y,E);try{return RT(o),l.invokeTask(f,g,y,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),Nm(o)}},onInvoke:(l,u,f,g,y,E,T)=>{try{return RT(o),l.invoke(f,g,y,E,T)}finally{o.shouldCoalesceRunChangeDetection&&a(),Nm(o)}},onHasTask:(l,u,f,g)=>{l.hasTask(f,g),u===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,Bw(o),Lw(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,u,f,g)=>(l.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vr.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(Vr.isInAngularZone())throw new ce(909,!1)}run(a,l,u){return this._inner.run(a,l,u)}runTask(a,l,u,f){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+f,a,b1,Br,Br);try{return g.runTask(y,l,u)}finally{g.cancelTask(y)}}runGuarded(a,l,u){return this._inner.runGuarded(a,l,u)}runOutsideAngular(a){return this._outer.run(a)}}const b1={};function Lw(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Bw(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function RT(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Nm(o){o._nesting--,Lw(o)}class Wg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zn,this.onMicrotaskEmpty=new Zn,this.onStable=new Zn,this.onError=new Zn}run(a,l,u){return a.apply(l,u)}runGuarded(a,l,u){return a.apply(l,u)}runOutsideAngular(a){return a()}runTask(a,l,u,f){return a.apply(l,u)}}const Fy=new ct("",{providedIn:"root",factory:Vw});function Vw(){const o=Bt(Vr);let a=!0;const l=new B.y(f=>{a=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{f.next(a),f.complete()})}),u=new B.y(f=>{let g;o.runOutsideAngular(()=>{g=o.onStable.subscribe(()=>{Vr.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(a=!0,f.next(!0))})})});const y=o.onUnstable.subscribe(()=>{Vr.assertInAngularZone(),a&&(a=!1,o.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),y.unsubscribe()}});return(0,oe.T)(l,u.pipe((0,_e.B)()))}function Zg(o){return o.ownerDocument.defaultView}function ql(o){return o instanceof Function?o():o}let Hw=(()=>{class o{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Dt({token:o,providedIn:"root",factory:()=>new o})}return o})();function Yg(o){for(;o;){o[Vt]|=64;const a=it(o);if(Ia(o)&&!a)return o;o=a}return null}const FT=new ct("",{providedIn:"root",factory:()=>!1});let Xg=null;function $w(o,a){return o[a]??jy()}function Fm(o,a){const l=jy();l.producerNode?.length&&(o[a]=Xg,l.lView=o,Xg=Uy())}const Gw={...dg,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{Yg(o.lView)},lView:null};function Uy(){return Object.create(Gw)}function jy(){return Xg??=Uy(),Xg}const jt={};function Lm(o){qw(Ut(),Se(),ji()+o,!1)}function qw(o,a,l,u){if(!u)if(3==(3&a[Vt])){const g=o.preOrderCheckHooks;null!==g&&$d(a,g,l)}else{const g=o.preOrderHooks;null!==g&&xc(a,g,0,l)}Yo(l)}function Bm(o,a=St.Default){const l=Se();return null===l?vn(o,a):ao(ri(),l,Le(o),a)}function Hy(){throw new Error("invalid")}function Vm(o,a,l,u,f,g,y,E,T,k,R){const V=a.blueprint.slice();return V[Ln]=f,V[Vt]=140|u,(null!==k||o&&2048&o[Vt])&&(V[Vt]|=2048),im(V),V[xn]=V[xo]=o,V[Gn]=l,V[Zs]=y||o&&o[Zs],V[It]=E||o&&o[It],V[ms]=T||o&&o[ms]||null,V[_r]=g,V[Go]=function Yr(){return Nh++}(),V[ps]=R,V[Id]=k,V[ni]=2==a.type?o[ni]:V,V}function Zh(o,a,l,u,f){let g=o.data[a];if(null===g)g=function $y(o,a,l,u,f){const g=Bd(),y=Vd(),T=o.data[a]=function Kl(o,a,l,u,f,g){let y=a?a.injectorIndex:-1,E=0;return na()&&(E|=128),{type:l,index:u,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,l,a,u,f);return null===o.firstChild&&(o.firstChild=T),null!==g&&(y?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T,T.prev=g)),T}(o,a,l,u,f),function yh(){return kt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=l,g.value=u,g.attrs=f;const y=function _h(){const o=kt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return Nr(g,!0),g}function Um(o,a,l,u){if(0===l)return-1;const f=a.length;for(let g=0;g<l;g++)a.push(u),o.blueprint.push(u),o.data.push(null);return f}function UT(o,a,l,u,f){const g=$w(a,Ea),y=ji(),E=2&u;try{Yo(-1),E&&a.length>Kt&&qw(o,a,Kt,!1),Co(E?2:0,f);const k=E?g:null,R=Gf(k);try{null!==k&&(k.dirty=!1),l(u,f)}finally{Ad(k,R)}}finally{E&&null===a[Ea]&&Fm(a,Ea),Yo(y),Co(E?3:1,f)}}function Kh(o,a,l){if(jf(a)){const u=yr(null);try{const g=a.directiveEnd;for(let y=a.directiveStart;y<g;y++){const E=o.data[y];E.contentQueries&&E.contentQueries(1,l[y],y)}}finally{yr(u)}}}function Gy(o,a,l){ta()&&(function k1(o,a,l,u){const f=l.directiveStart,g=l.directiveEnd;Ca(l)&&function qT(o,a,l){const u=Or(a,o),f=Hm(l);let y=16;l.signals?y=4096:l.onPush&&(y=64);const E=Yy(o,Vm(o,f,null,y,u,a,null,o[Zs].rendererFactory.createRenderer(u,l),null,null,null));o[a.index]=E}(a,l,o.data[f+l.componentOffset]),o.firstCreatePass||wr(l,a),Gi(u,a);const y=l.initialInputs;for(let E=f;E<g;E++){const T=o.data[E],k=co(a,o,E,l);Gi(k,a),null!==y&&WT(0,E-f,k,T,0,y),vr(T)&&(br(l.index,a)[Gn]=co(a,o,E,l))}}(o,a,l,Or(l,a)),64==(64&l.flags)&&zm(o,a,l))}function jm(o,a,l=Or){const u=a.localNames;if(null!==u){let f=a.index+1;for(let g=0;g<u.length;g+=2){const y=u[g+1],E=-1===y?l(a,o):o[y];o[f++]=E}}}function Hm(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Zl(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function Zl(o,a,l,u,f,g,y,E,T,k,R){const V=Kt+u,Z=V+f,ne=function Ww(o,a){const l=[];for(let u=0;u<a;u++)l.push(u<o?null:jt);return l}(V,Z),ye="function"==typeof k?k():k;return ne[Ze]={type:o,blueprint:ne,template:l,queries:null,viewQuery:E,declTNode:a,data:ne.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:ye,incompleteFirstPass:!1,ssrId:R}}let Zw=o=>null;function Jg(o,a,l,u){for(let f in o)if(o.hasOwnProperty(f)){l=null===l?{}:l;const g=o[f];null===u?e_(l,a,f,g):u.hasOwnProperty(f)&&e_(l,a,u[f],g)}return l}function e_(o,a,l,u){o.hasOwnProperty(l)?o[l].push(a,u):o[l]=[a,u]}function mo(o,a,l,u,f,g,y,E){const T=Or(a,l);let R,k=a.inputs;!E&&null!=k&&(R=k[u])?(o_(o,l,R,u,f),Ca(a)&&function t_(o,a){const l=br(a,o);16&l[Vt]||(l[Vt]|=64)}(l,a.index)):3&a.type&&(u=function si(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),f=null!=y?y(f,a.value||"",u):f,g.setProperty(T,u,f))}function qy(o,a,l,u){if(ta()){const f=null===u?null:{"":-1},g=function $T(o,a){const l=o.directiveRegistry;let u=null,f=null;if(l)for(let g=0;g<l.length;g++){const y=l[g];if(sl(a,y.selectors,!1))if(u||(u=[]),vr(y))if(null!==y.findHostDirectiveDefs){const E=[];f=f||new Map,y.findHostDirectiveDefs(y,E,f),u.unshift(...E,y),Wy(o,a,E.length)}else u.unshift(y),Wy(o,a,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,u,f),u.push(y)}return null===u?null:[u,f]}(o,l);let y,E;null===g?y=E=null:[y,E]=g,null!==y&&zT(o,a,l,y,f,E),f&&function GT(o,a,l){if(a){const u=o.localNames=[];for(let f=0;f<a.length;f+=2){const g=l[a[f+1]];if(null==g)throw new ce(-301,!1);u.push(a[f],g)}}}(l,u,f)}l.mergedAttrs=wo(l.mergedAttrs,l.attrs)}function zT(o,a,l,u,f,g){for(let k=0;k<u.length;k++)Wd(wr(l,a),o,u[k].type);!function M1(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}(l,o.data.length,u.length);for(let k=0;k<u.length;k++){const R=u[k];R.providersResolver&&R.providersResolver(R)}let y=!1,E=!1,T=Um(o,a,u.length,null);for(let k=0;k<u.length;k++){const R=u[k];l.mergedAttrs=wo(l.mergedAttrs,R.hostAttrs),R1(o,l,a,T,R),$m(T,R,f),null!==R.contentQueries&&(l.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(l.flags|=64);const V=R.type.prototype;!y&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((o.preOrderHooks??=[]).push(l.index),y=!0),!E&&(V.ngOnChanges||V.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(l.index),E=!0),T++}!function HT(o,a,l){const f=a.directiveEnd,g=o.data,y=a.attrs,E=[];let T=null,k=null;for(let R=a.directiveStart;R<f;R++){const V=g[R],Z=l?l.get(V):null,ye=Z?Z.outputs:null;T=Jg(V.inputs,R,T,Z?Z.inputs:null),k=Jg(V.outputs,R,k,ye);const Ve=null===T||null===y||yd(a)?null:Kw(T,R,y);E.push(Ve)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=8),T.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=T,a.outputs=k}(o,l,g)}function zm(o,a,l){const u=l.directiveStart,f=l.directiveEnd,g=l.index,y=function Xv(){return kt.lFrame.currentDirectiveIndex}();try{Yo(g);for(let E=u;E<f;E++){const T=o.data[E],k=a[E];am(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&mu(T,k)}}finally{Yo(-1),am(y)}}function mu(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Wy(o,a,l){a.componentOffset=l,(o.components??=[]).push(a.index)}function $m(o,a,l){if(l){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)l[a.exportAs[u]]=o;vr(a)&&(l[""]=o)}}function R1(o,a,l,u,f){o.data[u]=f;const g=f.factory||(f.factory=Qs(f.type)),y=new Es(g,vr(f),Bm);o.blueprint[u]=y,l[u]=y,function S1(o,a,l,u,f){const g=f.hostBindings;if(g){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const E=~a.index;(function A1(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(y)!=E&&y.push(E),y.push(l,u,g)}}(o,a,u,Um(o,l,f.hostVars,jt),f)}function jc(o,a,l,u,f,g){const y=Or(o,a);!function Zy(o,a,l,u,f,g,y){if(null==g)o.removeAttribute(a,f,l);else{const E=null==y?re(g):y(g,u||"",f);o.setAttribute(a,f,E,l)}}(a[It],y,g,o.value,l,u,f)}function WT(o,a,l,u,f,g){const y=g[a];if(null!==y)for(let E=0;E<y.length;)Ky(u,l,y[E++],y[E++],y[E++])}function Ky(o,a,l,u,f){const g=yr(null);try{const y=o.inputTransforms;null!==y&&y.hasOwnProperty(u)&&(f=y[u].call(a,f)),null!==o.setInput?o.setInput(a,f,l,u):a[u]=f}finally{yr(g)}}function Kw(o,a,l){let u=null,f=0;for(;f<l.length;){const g=l[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===u&&(u=[]);const y=o[g];for(let E=0;E<y.length;E+=2)if(y[E]===a){u.push(g,y[E+1],l[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function Yw(o,a,l,u){return[o,!0,!1,a,null,0,u,l,null,null,null]}function Qw(o,a){const l=o.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const g=l[u+1];if(-1!==g){const y=o.data[g];Hd(l[u]),y.contentQueries(2,a[g],g)}}}function Yy(o,a){return o[xa]?o[hl][qr]=a:o[xa]=a,o[hl]=a,a}function Xw(o,a,l){Hd(0);const u=yr(null);try{a(o,l)}finally{yr(u)}}function ZT(o){return o[Di]||(o[Di]=[])}function i_(o){return o.cleanup||(o.cleanup=[])}function r_(o,a){const l=o[ms],u=l?l.get(Vc,null):null;u&&u.handleError(a)}function o_(o,a,l,u,f){for(let g=0;g<l.length;){const y=l[g++],E=l[g++];Ky(o.data[y],a[y],u,E,f)}}function Hc(o,a,l){const u=ka(a,o);!function Vl(o,a,l){o.setValue(a,l)}(o[It],u,l)}function s_(o,a){const l=br(a,o),u=l[Ze];!function a_(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])}(u,l);const f=l[Ln];null!==f&&null===l[ps]&&(l[ps]=Bc(f,l[ms])),Jw(u,l,l[Gn])}function Jw(o,a,l){bs(a);try{const u=o.viewQuery;null!==u&&Xw(1,u,l);const f=o.template;null!==f&&UT(o,a,f,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Qw(o,a),o.staticViewQueries&&Xw(2,o.viewQuery,l);const g=o.components;null!==g&&function Oi(o,a){for(let l=0;l<a.length;l++)s_(o,a[l])}(a,g)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{a[Vt]&=-5,bc()}}let ex=(()=>{class o{constructor(){this.all=new Set,this.queue=new Map}create(l,u,f){const g=typeof Zone>"u"?null:Zone.current,y=function gg(o,a,l){const u=Object.create(em);l&&(u.consumerAllowSignalWrites=!0),u.fn=o,u.schedule=a;const f=y=>{u.cleanupFn=y};return u.ref={notify:()=>ug(u),run:()=>{if(u.dirty=!1,u.hasRun&&!hg(u))return;u.hasRun=!0;const y=Gf(u);try{u.cleanupFn(),u.cleanupFn=Jf,u.fn(f)}finally{Ad(u,y)}},cleanup:()=>u.cleanupFn()},u.ref}(l,k=>{this.all.has(k)&&this.queue.set(k,g)},f);let E;this.all.add(y),y.notify();const T=()=>{y.cleanup(),E?.(),this.all.delete(y),this.queue.delete(y)};return E=u?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[l,u]of this.queue)this.queue.delete(l),u?u.run(()=>l.run()):l.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Dt({token:o,providedIn:"root",factory:()=>new o})}return o})();function Qy(o,a,l){let u=l?o.styles:null,f=l?o.classes:null,g=0;if(null!==a)for(let y=0;y<a.length;y++){const E=a[y];"number"==typeof E?g=E:1==g?f=He(f,E):2==g&&(u=He(u,E+": "+a[++y]+";"))}l?o.styles=u:o.stylesWithoutHost=u,l?o.classes=f:o.classesWithoutHost=f}function c_(o,a,l,u,f=!1){for(;null!==l;){const g=a[l.index];null!==g&&u.push(fn(g)),Si(g)&&tx(g,u);const y=l.type;if(8&y)c_(o,a,l.child,u);else if(32&y){const E=Pe(l,a);let T;for(;T=E();)u.push(T)}else if(16&y){const E=GI(a,l);if(Array.isArray(E))u.push(...E);else{const T=it(a[ni]);c_(T[Ze],T,E,u,!0)}}l=f?l.projectionNext:l.next}return u}function tx(o,a){for(let l=hi;l<o.length;l++){const u=o[l],f=u[Ze].firstChild;null!==f&&c_(u[Ze],u,f,a)}o[kr]!==o[Ln]&&a.push(o[kr])}function l_(o,a,l,u=!0){const f=a[Zs],g=f.rendererFactory,y=f.afterRenderEventManager;g.begin?.(),y?.begin();try{nx(o,a,o.template,l)}catch(T){throw u&&r_(a,T),T}finally{g.end?.(),f.effectManager?.flush(),y?.end()}}function nx(o,a,l,u){const f=a[Vt];if(256!=(256&f)){a[Zs].effectManager?.flush(),bs(a);try{im(a),function vg(o){return kt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&UT(o,a,l,2,u);const y=3==(3&f);if(y){const k=o.preOrderCheckHooks;null!==k&&$d(a,k,null)}else{const k=o.preOrderHooks;null!==k&&xc(a,k,0,null),cm(a,0)}if(function KT(o){for(let a=So(o);null!==a;a=Nc(a)){if(!a[Ks])continue;const l=a[_s];for(let u=0;u<l.length;u++){Pd(l[u])}}}(a),qa(a,2),null!==o.contentQueries&&Qw(o,a),y){const k=o.contentCheckHooks;null!==k&&$d(a,k)}else{const k=o.contentHooks;null!==k&&xc(a,k,1),cm(a,1)}!function zy(o,a){const l=o.hostBindingOpCodes;if(null===l)return;const u=$w(a,gs);try{for(let f=0;f<l.length;f++){const g=l[f];if(g<0)Yo(~g);else{const y=g,E=l[++f],T=l[++f];Qv(E,y),u.dirty=!1;const k=Gf(u);try{T(2,a[y])}finally{Ad(u,k)}}}}finally{null===a[gs]&&Fm(a,gs),Yo(-1)}}(o,a);const E=o.components;null!==E&&Jy(a,E,0);const T=o.viewQuery;if(null!==T&&Xw(2,T,u),y){const k=o.viewCheckHooks;null!==k&&$d(a,k)}else{const k=o.viewHooks;null!==k&&xc(a,k,2),cm(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Vt]&=-73,_g(a)}finally{bc()}}}function qa(o,a){for(let l=So(o);null!==l;l=Nc(l))for(let u=hi;u<l.length;u++)ix(l[u],a)}function P1(o,a,l){ix(br(a,o),l)}function ix(o,a){if(!function nm(o){return 128==(128&o[Vt])}(o))return;const l=o[Ze],u=o[Vt];if(80&u&&0===a||1024&u||2===a)nx(l,o,l.template,o[Gn]);else if(o[Ws]>0){qa(o,1);const f=l.components;null!==f&&Jy(o,f,1)}}function Jy(o,a,l){for(let u=0;u<a.length;u++)P1(o,a[u],l)}class Yl{get rootNodes(){const a=this._lView,l=a[Ze];return c_(l,a,l.firstChild,[])}constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gn]}set context(a){this._lView[Gn]=a}get destroyed(){return 256==(256&this._lView[Vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[xn];if(Si(a)){const l=a[8],u=l?l.indexOf(this):-1;u>-1&&(ay(a,u),Pa(l,u))}this._attachedToViewContainer=!1}BI(this._lView[Ze],this._lView)}onDestroy(a){!function fh(o,a){if(256==(256&o[Vt]))throw new ce(911,!1);null===o[Eo]&&(o[Eo]=[]),o[Eo].push(a)}(this._lView,a)}markForCheck(){Yg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Vt]&=-129}reattach(){this._lView[Vt]|=128}detectChanges(){l_(this._lView[Ze],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sy(o,a){Vh(o,a,a[It],2,null,null)}(this._lView[Ze],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=a}}class YT extends Yl{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;l_(a[Ze],a,a[Gn],!1)}checkNoChanges(){}get context(){return null}}class eb extends zg{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=Xt(a);return new u_(l,this.ngModule)}}function d_(o){const a=[];for(let l in o)o.hasOwnProperty(l)&&a.push({propName:o[l],templateName:l});return a}class tb{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,u){u=Gt(u);const f=this.injector.get(a,Mw,u);return f!==Mw||l===Mw?f:this.parentInjector.get(a,l,u)}}class u_ extends $h{get inputs(){const a=this.componentDef,l=a.inputTransforms,u=d_(a.inputs);if(null!==l)for(const f of u)l.hasOwnProperty(f.propName)&&(f.transform=l[f.propName]);return u}get outputs(){return d_(this.componentDef.outputs)}constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function er(o){return o.map(Vf).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}create(a,l,u,f){let g=(f=f||this.ngModule)instanceof Gl?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new tb(a,g):a,E=y.get(ky,null);if(null===E)throw new ce(407,!1);const V={rendererFactory:E,sanitizer:y.get($g,null),effectManager:y.get(ex,null),afterRenderEventManager:y.get(Hw,null)},Z=E.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",ye=u?function I1(o,a,l,u){const g=u.get(FT,!1)||l===Ho.ShadowDom,y=o.selectRootElement(a,g);return function T1(o){Zw(o)}(y),y}(Z,u,this.componentDef.encapsulation,y):Lh(Z,ne,function QT(o){const a=o.toLowerCase();return"svg"===a?tm:"math"===a?"math":null}(ne)),wt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Oe=null;null!==ye&&(Oe=Bc(ye,y,!0));const Ft=Zl(0,null,null,1,0,null,null,null,null,null,null),Wt=Vm(null,Ft,null,wt,null,null,V,Z,y,null,Oe);let Fn,hr;bs(Wt);try{const fa=this.componentDef;let Yc,w0=null;fa.findHostDirectiveDefs?(Yc=[],w0=new Map,fa.findHostDirectiveDefs(fa,Yc,w0),Yc.push(fa)):Yc=[fa];const bC=function h_(o,a){const l=o[Ze],u=Kt;return o[u]=a,Zh(l,u,2,"#host",null)}(Wt,ye),_O=function JT(o,a,l,u,f,g,y){const E=f[Ze];!function eD(o,a,l,u){for(const f of o)a.mergedAttrs=wo(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(Qy(a,a.mergedAttrs,!0),null!==l&&ZI(u,l,a))}(u,o,a,y);let T=null;null!==a&&(T=Bc(a,f[ms]));const k=g.rendererFactory.createRenderer(a,l);let R=16;l.signals?R=4096:l.onPush&&(R=64);const V=Vm(f,Hm(l),null,R,f[o.index],o,g,k,null,null,T);return E.firstCreatePass&&Wy(E,o,u.length-1),Yy(f,V),f[o.index]=V}(bC,ye,fa,Yc,Wt,V,Z);hr=qo(Ft,Kt),ye&&function ox(o,a,l,u){if(u)il(o,l,["ng-version",Rm.full]);else{const{attrs:f,classes:g}=function Gs(o){const a=[],l=[];let u=1,f=2;for(;u<o.length;){let g=o[u];if("string"==typeof g)2===f?""!==g&&a.push(g,o[++u]):8===f&&l.push(g);else{if(!gr(f))break;f=g}u++}return{attrs:a,classes:l}}(a.selectors[0]);f&&il(o,l,f),g&&g.length>0&&Pg(o,l,g.join(" "))}}(Z,fa,ye,u),void 0!==l&&function tD(o,a,l){const u=o.projection=[];for(let f=0;f<a.length;f++){const g=l[f];u.push(null!=g?Array.from(g):null)}}(hr,this.ngContentSelectors,l),Fn=function rx(o,a,l,u,f,g){const y=ri(),E=f[Ze],T=Or(y,f);zT(E,f,y,l,null,u);for(let R=0;R<l.length;R++)Gi(co(f,E,y.directiveStart+R,y),f);zm(E,f,y),T&&Gi(T,f);const k=co(f,E,y.directiveStart+y.componentOffset,y);if(o[Gn]=f[Gn]=k,null!==g)for(const R of g)R(k,a);return Kh(E,y,o),k}(_O,fa,Yc,w0,Wt,[nb]),Jw(Ft,Wt,null)}finally{bc()}return new XT(this.componentType,Fn,fu(hr,Wt),Wt,hr)}}class XT extends f1{constructor(a,l,u,f,g){super(),this.location=u,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new YT(f),this.componentType=a}setInput(a,l){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),l))return;const g=this._rootLView;o_(g[Ze],g,f,a,l),this.previousInputValues.set(a,l),Yg(br(this._tNode.index,g))}}get injector(){return new Pn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function nb(){const o=ri();To(Se()[Ze],o)}function ib(o){let a=function sx(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const u=[o];for(;a;){let f;if(vr(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ce(903,!1);f=a.\u0275dir}if(f){if(l){u.push(f);const y=o;y.inputs=f_(o.inputs),y.inputTransforms=f_(o.inputTransforms),y.declaredInputs=f_(o.declaredInputs),y.outputs=f_(o.outputs);const E=f.hostBindings;E&&rD(o,E);const T=f.viewQuery,k=f.contentQueries;if(T&&nD(o,T),k&&iD(o,k),G(o.inputs,f.inputs),G(o.declaredInputs,f.declaredInputs),G(o.outputs,f.outputs),null!==f.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),G(y.inputTransforms,f.inputTransforms)),vr(f)&&f.data.animation){const R=o.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let y=0;y<g.length;y++){const E=g[y];E&&E.ngInherit&&E(o),E===ib&&(l=!1)}}a=Object.getPrototypeOf(a)}!function Qh(o){let a=0,l=null;for(let u=o.length-1;u>=0;u--){const f=o[u];f.hostVars=a+=f.hostVars,f.hostAttrs=wo(f.hostAttrs,l=wo(l,f.hostAttrs))}}(u)}function f_(o){return o===Ar?{}:o===Qt?[]:o}function nD(o,a){const l=o.viewQuery;o.viewQuery=l?(u,f)=>{a(u,f),l(u,f)}:a}function iD(o,a){const l=o.contentQueries;o.contentQueries=l?(u,f,g)=>{a(u,f,g),l(u,f,g)}:a}function rD(o,a){const l=o.hostBindings;o.hostBindings=l?(u,f)=>{a(u,f),l(u,f)}:a}function lD(o){const a=o.inputConfig,l={};for(const u in a)if(a.hasOwnProperty(u)){const f=a[u];Array.isArray(f)&&f[2]&&(l[u]=f[2])}o.inputTransforms=l}function Os(o){return!!pu(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function pu(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Za(o,a,l){return o[a]=l}function Kn(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function Ci(o,a,l,u){const f=Kn(o,a,l);return Kn(o,a+1,u)||f}function ef(o,a,l,u){const f=Se();return Kn(f,Ko(),a)&&(Ut(),jc(Tn(),f,o,a,l,u)),ef}function tf(o,a,l,u){return Kn(o,Ko(),l)?a+re(l)+u:jt}function qm(o,a,l,u,f,g,y,E){const k=function Jh(o,a,l,u,f){const g=Ci(o,a,l,u);return Kn(o,a+2,f)||g}(o,function Zo(){return kt.lFrame.bindingIndex}(),l,f,y);return Io(3),k?a+re(l)+u+re(f)+g+re(y)+E:jt}function vu(o,a,l,u,f,g,y,E){const T=Se(),k=Ut(),R=o+Kt,V=k.firstCreatePass?function fx(o,a,l,u,f,g,y,E,T){const k=a.consts,R=Zh(a,o,4,y||null,Wo(k,E));qy(a,l,R,Wo(k,T)),To(a,R);const V=R.tView=Zl(2,R,u,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,k,null);return null!==a.queries&&(a.queries.template(a,R),V.queries=a.queries.embeddedTView(R)),R}(R,k,T,a,l,u,f,g,y):k.data[R];Nr(V,!1);const Z=yD(k,T,V,o);Ma()&&jl(k,T,Z,V),Gi(Z,T),Yy(T,T[R]=Yw(Z,T,Z,V)),ml(V)&&Gy(k,T,V),null!=y&&jm(T,V,E)}let yD=function b_(o,a,l,u){return An(!0),a[It].createComment("")};function mx(o){return Js(function sm(){return kt.lFrame.contextLView}(),Kt+o)}function Ro(o,a,l){const u=Se();return Kn(u,Ko(),a)&&mo(Ut(),Tn(),u,o,a,u[It],l,!1),Ro}function x_(o,a,l,u,f){const y=f?"class":"style";o_(o,l,a.inputs[y],y,u)}function E_(o,a,l,u){const f=Se(),g=Ut(),y=Kt+o,E=f[It],T=g.firstCreatePass?function wD(o,a,l,u,f,g){const y=a.consts,T=Zh(a,o,2,u,Wo(y,f));return qy(a,l,T,Wo(y,g)),null!==T.attrs&&Qy(T,T.attrs,!1),null!==T.mergedAttrs&&Qy(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(y,g,f,a,l,u):g.data[y],k=ae(g,f,T,E,a,o);f[y]=k;const R=ml(T);return Nr(T,!0),ZI(E,k,T),32!=(32&T.flags)&&Ma()&&jl(g,f,k,T),0===function ph(){return kt.lFrame.elementDepthCount}()&&Gi(k,f),function rm(){kt.lFrame.elementDepthCount++}(),R&&(Gy(g,f,T),Kh(g,T,f)),null!==u&&jm(f,T),E_}function Ya(){let o=ri();Vd()?Ud():(o=o.parent,Nr(o,!1));const a=o;(function fi(o){return kt.skipHydrationRootTNode===o})(a)&&function Tl(){kt.skipHydrationRootTNode=null}(),function Fd(){kt.lFrame.elementDepthCount--}();const l=Ut();return l.firstCreatePass&&(To(l,o),jf(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Nn(o){return 0!=(8&o.flags)}(a)&&x_(l,a,Se(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function ki(o){return 0!=(16&o.flags)}(a)&&x_(l,a,Se(),a.stylesWithoutHost,!1),Ya}function C_(o,a,l,u){return E_(o,a,l,u),Ya(),C_}let ae=(o,a,l,u,f,g)=>(An(!0),Lh(u,f,function Eh(){return kt.lFrame.currentNamespace}()));function CD(){return Se()}function gx(o){return!!o&&"function"==typeof o.then}function is(o){return!!o&&"function"==typeof o.subscribe}function cf(o,a,l,u){const f=Se(),g=Ut(),y=ri();return function Xr(o,a,l,u,f,g,y){const E=ml(u),k=o.firstCreatePass&&i_(o),R=a[Gn],V=ZT(a);let Z=!0;if(3&u.type||y){const Ve=Or(u,a),tt=y?y(Ve):Ve,wt=V.length,Oe=y?Wt=>y(fn(Wt[u.index])):u.index;let Ft=null;if(!y&&E&&(Ft=function ID(o,a,l,u){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const y=f[g];if(y===l&&f[g+1]===u){const E=a[Di],T=f[g+2];return E.length>T?E[T]:null}"string"==typeof y&&(g+=2)}return null}(o,a,f,u.index)),null!==Ft)(Ft.__ngLastListenerFn__||Ft).__ngNextListenerFn__=g,Ft.__ngLastListenerFn__=g,Z=!1;else{g=_x(u,a,R,g,!1);const Wt=l.listen(tt,f,g);V.push(g,Wt),k&&k.push(f,Oe,wt,wt+1)}}else g=_x(u,a,R,g,!1);const ne=u.outputs;let ye;if(Z&&null!==ne&&(ye=ne[f])){const Ve=ye.length;if(Ve)for(let tt=0;tt<Ve;tt+=2){const Fn=a[ye[tt]][ye[tt+1]].subscribe(g),hr=V.length;V.push(g,Fn),k&&k.push(f,u.index,hr,-(hr+1))}}}(g,f,f[It],y,o,a,u),cf}function TD(o,a,l,u){try{return Co(6,a,l),!1!==l(u)}catch(f){return r_(o,f),!1}finally{Co(7,a,l)}}function _x(o,a,l,u,f){return function g(y){if(y===Function)return u;Yg(o.componentOffset>-1?br(o.index,a):a);let T=TD(a,l,u,y),k=g.__ngNextListenerFn__;for(;k;)T=TD(a,l,k,y)&&T,k=k.__ngNextListenerFn__;return f&&!1===T&&y.preventDefault(),T}}function Xa(o=1){return function wc(o){return(kt.lFrame.contextLView=function wh(o,a){for(;o>0;)a=a[xo],o--;return a}(o,kt.lFrame.contextLView))[Gn]}(o)}function DD(o,a){let l=null;const u=function tg(o){const a=o.attrs;if(null!=a){const l=a.indexOf(5);if(!(1&l))return a[l+1]}return null}(o);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===u?sl(o,g,!0):al(u,g))return f}else l=f}return l}function I_(o){const a=Se()[ni][_r];if(!a.projection){const u=a.projection=Nl(o?o.length:1,null),f=u.slice();let g=a.child;for(;null!==g;){const y=o?DD(g,o):0;null!==y&&(f[y]?f[y].projectionNext=g:u[y]=g,f[y]=g),g=g.next}}}function vx(o,a=0,l){const u=Se(),f=Ut(),g=Zh(f,Kt+o,16,null,l||null);null===g.projection&&(g.projection=a),Ud(),(!u[ps]||na())&&32!=(32&g.flags)&&function qI(o,a,l){WI(a[It],0,a,l,du(o,l,a),zI(l.parent||a[_r],l,a))}(f,u,g)}function yx(o,a,l){return bx(o,"",a,"",l),yx}function bx(o,a,l,u,f){const g=Se(),y=tf(g,a,l,u);return y!==jt&&mo(Ut(),Tn(),g,o,y,g[It],f,!1),bx}function cb(o,a){return o<<17|a<<2}function bu(o){return o>>17&32767}function wx(o){return 2|o}function wu(o){return(131068&o)>>2}function xx(o,a){return-131069&o|a<<2}function lb(o){return 1|o}function Jl(o,a,l,u,f){const g=o[l+1],y=null===a;let E=u?bu(g):wu(g),T=!1;for(;0!==E&&(!1===T||y);){const R=o[E+1];VD(o[E],a)&&(T=!0,o[E+1]=u?lb(R):wx(R)),E=u?bu(R):wu(R)}T&&(o[l+1]=u?wx(g):lb(g))}function VD(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Sc(o,a)>=0}function ep(o,a,l){return jr(o,a,l,!1),ep}function lf(o,a){return jr(o,a,null,!0),lf}function jr(o,a,l,u){const f=Se(),g=Ut(),y=Io(2);g.firstUpdatePass&&function td(o,a,l,u){const f=o.data;if(null===f[l+1]){const g=f[ji()],y=function tp(o,a){return a>=o.expandoStartIndex}(o,l);(function Ax(o,a){return 0!=(o.flags&(a?8:16))})(g,u)&&null===a&&!y&&(a=!1),a=function UD(o,a,l,u){const f=function jd(o){const a=kt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let g=u?a.residualClasses:a.residualStyles;if(null===f)0===(u?a.classBindings:a.styleBindings)&&(l=df(l=nd(null,o,a,l,u),a.attrs,u),g=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==f)if(l=nd(f,o,a,l,u),null===g){let T=function np(o,a,l){const u=l?a.classBindings:a.styleBindings;if(0!==wu(u))return o[bu(u)]}(o,a,u);void 0!==T&&Array.isArray(T)&&(T=nd(null,o,a,T[1],u),T=df(T,a.attrs,u),function Tx(o,a,l,u){o[bu(l?a.classBindings:a.styleBindings)]=u}(o,a,u,T))}else g=function db(o,a,l){let u;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)u=df(u,o[g].hostAttrs,l);return df(u,a.attrs,l)}(o,a,u)}return void 0!==g&&(u?a.residualClasses=g:a.residualStyles=g),l}(f,g,a,u),function Ur(o,a,l,u,f,g){let y=g?a.classBindings:a.styleBindings,E=bu(y),T=wu(y);o[u]=l;let R,k=!1;if(Array.isArray(l)?(R=l[1],(null===R||Sc(l,R)>0)&&(k=!0)):R=l,f)if(0!==T){const Z=bu(o[E+1]);o[u+1]=cb(Z,E),0!==Z&&(o[Z+1]=xx(o[Z+1],u)),o[E+1]=function j1(o,a){return 131071&o|a<<17}(o[E+1],u)}else o[u+1]=cb(E,0),0!==E&&(o[E+1]=xx(o[E+1],u)),E=u;else o[u+1]=cb(T,0),0===E?E=u:o[T+1]=xx(o[T+1],u),T=u;k&&(o[u+1]=wx(o[u+1])),Jl(o,R,u,!0),Jl(o,R,u,!1),function BD(o,a,l,u,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&Sc(g,a)>=0&&(l[u+1]=lb(l[u+1]))}(a,R,o,u,g),y=cb(E,T),g?a.classBindings=y:a.styleBindings=y}(f,g,a,l,y,u)}}(g,o,y,u),a!==jt&&Kn(f,y,a)&&function ip(o,a,l,u,f,g,y,E){if(!(3&a.type))return;const T=o.data,k=T[E+1],R=function FD(o){return 1==(1&o)}(k)?Sx(T,a,l,f,wu(k),y):void 0;hb(R)||(hb(g)||function U1(o){return 2==(2&o)}(k)&&(g=Sx(T,null,l,f,E,y)),function zM(o,a,l,u,f){if(a)f?o.addClass(l,u):o.removeClass(l,u);else{let g=-1===u.indexOf("-")?void 0:au.DashCase;null==f?o.removeStyle(l,u,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=au.Important),o.setStyle(l,u,f,g))}}(u,y,ka(ji(),l),f,g))}(g,g.data[ji()],f,f[It],o,f[y+1]=function z1(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=J(Fc(o)))),o}(a,l),u,y)}function nd(o,a,l,u,f){let g=null;const y=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<y&&(g=a[E],u=df(u,g.hostAttrs,f),g!==o);)E++;return null!==o&&(l.directiveStylingLast=E),u}function df(o,a,l){const u=l?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const y=a[g];"number"==typeof y?f=y:f===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ho(o,y,!!l||a[++g]))}return void 0===o?null:o}function Sx(o,a,l,u,f,g){const y=null===a;let E;for(;f>0;){const T=o[f],k=Array.isArray(T),R=k?T[1]:T,V=null===R;let Z=l[f+1];Z===jt&&(Z=V?Qt:void 0);let ne=V?Mh(Z,u):R===u?Z:void 0;if(k&&!hb(ne)&&(ne=Mh(T,u)),hb(ne)&&(E=ne,y))return E;const ye=o[f+1];f=y?bu(ye):wu(ye)}if(null!==a){let T=g?a.residualClasses:a.residualStyles;null!=T&&(E=Mh(T,u))}return E}function hb(o){return void 0!==o}function kx(o,a=""){const l=Se(),u=Ut(),f=o+Kt,g=u.firstCreatePass?Zh(u,f,1,a,null):u.data[f],y=Hr(u,l,g,a,o);l[f]=y,Ma()&&jl(u,l,y,g),Nr(g,!1)}let Hr=(o,a,l,u,f)=>(An(!0),function da(o,a){return o.createText(a)}(a[It],u));function qc(o){return S_("",o,""),qc}function S_(o,a,l){const u=Se(),f=tf(u,o,a,l);return f!==jt&&Hc(u,ji(),f),S_}function Cu(o,a,l,u,f,g,y){const E=Se(),T=qm(E,o,a,l,u,f,g,y);return T!==jt&&Hc(E,ji(),T),Cu}function rp(o,a,l){const u=Se();return Kn(u,Ko(),a)&&mo(Ut(),Tn(),u,o,a,u[It],l,!0),rp}const Fs=void 0;var Ux=["en",[["a","p"],["AM","PM"],Fs],[["AM","PM"],Fs,Fs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fs,"{1} 'at' {0}",Fs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function No(o){const l=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let id={};function _b(o){const a=function rd(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=jx(a);if(l)return l;const u=a.split("-")[0];if(l=jx(u),l)return l;if("en"===u)return Ux;throw new ce(701,!1)}function op(o){return _b(o)[sp.PluralCase]}function jx(o){return o in id||(id[o]=wn.ng&&wn.ng.common&&wn.ng.common.locales&&wn.ng.common.locales[o]),id[o]}var sp=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(sp||{});const mf="en-US";let QD=mf;function vf(o,a,l,u,f){if(o=Le(o),Array.isArray(o))for(let g=0;g<o.length;g++)vf(o[g],a,l,u,f);else{const g=Ut(),y=Se(),E=ri();let T=Sm(o)?o:Le(o.provide);const k=Ri(o),R=1048575&E.providerIndexes,V=E.directiveStart,Z=E.providerIndexes>>20;if(Sm(o)||!o.multi){const ne=new Es(k,f,Bm),ye=Db(T,a,f?R:R+Z,V);-1===ye?(Wd(wr(E,y),g,T),z_(g,o,a.length),a.push(T),E.directiveStart++,E.directiveEnd++,f&&(E.providerIndexes+=1048576),l.push(ne),y.push(ne)):(l[ye]=ne,y[ye]=ne)}else{const ne=Db(T,a,R+Z,V),ye=Db(T,a,R,R+Z),tt=ye>=0&&l[ye];if(f&&!tt||!f&&!(ne>=0&&l[ne])){Wd(wr(E,y),g,T);const wt=function yS(o,a,l,u,f){const g=new Es(o,l,Bm);return g.multi=[],g.index=a,g.componentProviders=0,_S(g,f,u&&!l),g}(f?vS:nE,l.length,f,u,k);!f&&tt&&(l[ye].providerFactory=wt),z_(g,o,a.length,0),a.push(T),E.directiveStart++,E.directiveEnd++,f&&(E.providerIndexes+=1048576),l.push(wt),y.push(wt)}else z_(g,o,ne>-1?ne:ye,_S(l[f?ye:ne],k,!f&&u));!f&&u&&tt&&l[ye].componentProviders++}}}function z_(o,a,l,u){const f=Sm(a),g=function YF(o){return!!o.useClass}(a);if(f||g){const T=(g?Le(a.useClass):a).prototype.ngOnDestroy;if(T){const k=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const R=k.indexOf(l);-1===R?k.push(l,[u,T]):k[R+1].push(u,T)}else k.push(l,T)}}}function _S(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function Db(o,a,l,u){for(let f=l;f<u;f++)if(a[f]===o)return f;return-1}function nE(o,a,l,u){return iE(this.multi,[])}function vS(o,a,l,u){const f=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=co(l,l[Ze],this.providerFactory.index,u);g=E.slice(0,y),iE(f,g);for(let T=y;T<E.length;T++)g.push(E[T])}else g=[],iE(f,g);return g}function iE(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function bS(o,a=[]){return l=>{l.providersResolver=(u,f)=>function fR(o,a,l){const u=Ut();if(u.firstCreatePass){const f=vr(o);vf(l,u.data,u.blueprint,f,!0),vf(a,u.data,u.blueprint,f,!1)}}(u,f?f(o):o,a)}}class yf{}class wS{}function Du(o,a){return new Sb(o,a??null,[])}class Sb extends yf{constructor(a,l,u){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eb(this);const f=Ti(a);this._bootstrapComponents=ql(f.bootstrap),this._r3Injector=Pw(a,l,[{provide:yf,useValue:this},{provide:zg,useValue:this.componentFactoryResolver},...u],J(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class rE extends wS{constructor(a){super(),this.moduleType=a}create(a){return new Sb(this.moduleType,a,[])}}class Zc extends yf{constructor(a){super(),this.componentFactoryResolver=new eb(this),this.instance=null;const l=new Uh([...a.providers,{provide:yf,useValue:this},{provide:zg,useValue:this.componentFactoryResolver}],a.parent||pi(),a.debugName,new Set(["environment"]));this.injector=l,a.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function oE(o,a,l=null){return new Zc({providers:o,parent:a,debugName:l,runEnvironmentInitializers:!0}).injector}let mR=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const u=fT(0,l.type),f=u.length>0?oE([u],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,f)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Dt({token:o,providedIn:"environment",factory:()=>new o(vn(Gl))})}return o})();function sE(o){o.getStandaloneInjector=a=>a.get(mR).getOrCreateStandaloneInjector(o)}function q_(o,a){const l=o[a];return l===jt?void 0:l}function hE(o,a){const l=Ut();let u;const f=o+Kt;l.firstCreatePass?(u=function Pb(o,a){if(a)for(let l=a.length-1;l>=0;l--){const u=a[l];if(o===u.name)return u}}(a,l.pipeRegistry),l.data[f]=u,u.onDestroy&&(l.destroyHooks??=[]).push(f,u.onDestroy)):u=l.data[f];const g=u.factory||(u.factory=Qs(u.type)),E=Hn(Bm);try{const T=Xn(!1),k=g();return Xn(T),function bD(o,a,l,u){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),a[l]=u}(l,Se(),f,k),k}finally{Hn(E)}}function W_(o,a,l){const u=o+Kt,f=Se(),g=Js(f,u);return ad(f,u)?function Mb(o,a,l,u,f,g){const y=a+l;return Kn(o,y,f)?Za(o,y+1,g?u.call(g,f):u(f)):q_(o,y+1)}(f,Ai(),a,g.transform,l,g):g.transform(l)}function kS(o,a,l,u){const f=o+Kt,g=Se(),y=Js(g,f);return ad(g,f)?function Rb(o,a,l,u,f,g,y){const E=a+l;return Ci(o,E,f,g)?Za(o,E+2,y?u.call(y,f,g):u(f,g)):q_(o,E+2)}(g,Ai(),a,y.transform,l,u,y):y.transform(l,u)}function ad(o,a){return o[Ze].data[a].pure}function RS(){return this._results[Symbol.iterator]()}class K_{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Zn)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=K_.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=RS)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const u=this;u.dirty=!1;const f=function Fr(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Ig(o,a,l){if(o.length!==a.length)return!1;for(let u=0;u<o.length;u++){let f=o[u],g=a[u];if(l&&(f=l(f),g=l(g)),g!==f)return!1}return!0}(u._results,f,l))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Lb(o,a,l,u=!0){const f=a[Ze];if(function Ng(o,a,l,u){const f=hi+u,g=l.length;u>0&&(l[f-1][qr]=a),u<g-hi?(a[qr]=l[f],kh(l,hi+u,a)):(l.push(a),a[qr]=null),a[xn]=l;const y=a[fc];null!==y&&l!==y&&function cw(o,a){const l=o[_s];a[ni]!==a[xn][xn][ni]&&(o[Ks]=!0),null===l?o[_s]=[a]:l.push(a)}(y,a);const E=a[nr];null!==E&&E.insertView(o),a[Vt]|=128}(f,a,o,l),u){const g=hw(l,o),y=a[It],E=ly(y,o[kr]);null!==E&&function Ul(o,a,l,u,f,g){u[Ln]=f,u[_r]=a,Vh(o,u,l,1,f,g)}(f,o[_r],y,a,E,g)}}let pp=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=OS}return o})();const Ru=pp,gp=class extends Ru{constructor(a,l,u){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,l){return this.createEmbeddedViewImpl(a,l)}createEmbeddedViewImpl(a,l,u){const f=function po(o,a,l,u){const f=a.tView,E=Vm(o,f,l,4096&o[Vt]?4096:16,null,a,null,null,null,u?.injector??null,u?.hydrationInfo??null);E[fc]=o[a.index];const k=o[nr];return null!==k&&(E[nr]=k.createEmbeddedView(f)),Jw(f,E,l),E}(this._declarationLView,this._declarationTContainer,a,{injector:l,hydrationInfo:u});return new Yl(f)}};function OS(){return Kc(ri(),Se())}function Kc(o,a){return 4&o.type?new gp(a,o,fu(o,a)):null}let xf=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=BS}return o})();function BS(){return Ou(ri(),Se())}const ER=xf,gE=class extends ER{constructor(a,l,u){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=u}get element(){return fu(this._hostTNode,this._hostLView)}get injector(){return new Pn(this._hostTNode,this._hostLView)}get parentInjector(){const a=Ec(this._hostTNode,this._hostLView);if(yn(a)){const l=Cs(a,this._hostLView),u=kn(a);return new Pn(l[Ze].data[u+8],l)}return new Pn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=VS(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-hi}createEmbeddedView(a,l,u){let f,g;"number"==typeof u?f=u:null!=u&&(f=u.index,g=u.injector);const E=a.createEmbeddedViewImpl(l||{},g,null);return this.insertImpl(E,f,false),E}createComponent(a,l,u,f,g){const y=a&&!function Na(o){return"function"==typeof o}(a);let E;if(y)E=l;else{const Ve=l||{};E=Ve.index,u=Ve.injector,f=Ve.projectableNodes,g=Ve.environmentInjector||Ve.ngModuleRef}const T=y?a:new u_(Xt(a)),k=u||this.parentInjector;if(!g&&null==T.ngModule){const tt=(y?k:this.parentInjector).get(Gl,null);tt&&(g=tt)}Xt(T.componentType??{});const ne=T.create(k,f,null,g);return this.insertImpl(ne.hostView,E,false),ne}insert(a,l){return this.insertImpl(a,l,!1)}insertImpl(a,l,u){const f=a._lView;if(function ea(o){return Si(o[xn])}(f)){const T=this.indexOf(a);if(-1!==T)this.detach(T);else{const k=f[xn],R=new gE(k,k[_r],k[xn]);R.detach(R.indexOf(a))}}const y=this._adjustIndex(l),E=this._lContainer;return Lb(E,f,y,!u),a.attachToViewContainerRef(),kh(Bb(E),y,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=VS(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),u=ay(this._lContainer,l);u&&(Pa(Bb(this._lContainer),l),BI(u[Ze],u))}detach(a){const l=this._adjustIndex(a,-1),u=ay(this._lContainer,l);return u&&null!=Pa(Bb(this._lContainer),l)?new Yl(u):null}_adjustIndex(a,l=0){return a??this.length+l}};function VS(o){return o[8]}function Bb(o){return o[8]||(o[8]=[])}function Ou(o,a){let l;const u=a[o.index];return Si(u)?l=u:(l=Yw(u,a,null,o),a[o.index]=l,Yy(a,l)),_E(l,a,o,u),new gE(l,o,a)}let _E=function vE(o,a,l,u){if(o[kr])return;let f;f=8&l.type?fn(u):function Y_(o,a){const l=o[It],u=l.createComment(""),f=Or(a,o);return Bh(l,ly(l,f),u,function jM(o,a){return o.nextSibling(a)}(l,f),!1),u}(a,l),o[kr]=f};class yE{constructor(a){this.queryList=a,this.matches=null}clone(){return new yE(this.queryList)}setDirty(){this.queryList.setDirty()}}class bE{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const u=null!==a.contentQueries?a.contentQueries[0]:l.length,f=[];for(let g=0;g<u;g++){const y=l.getByIndex(g);f.push(this.queries[y.indexInDeclarationView].clone())}return new bE(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==jb(a,l).matches&&this.queries[l].setDirty()}}class Vb{constructor(a,l,u=null){this.predicate=a,this.flags=l,this.read=u}}class dr{constructor(a=[]){this.queries=a}elementStart(a,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let u=0;u<this.length;u++){const f=null!==l?l.length:0,g=this.getByIndex(u).embeddedTView(a,f);g&&(g.indexInDeclarationView=u,null!==l?l.push(g):l=[g])}return null!==l?new dr(l):null}template(a,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class wE{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new wE(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const g=u[f];this.matchTNodeWithReadOption(a,l,IR(l,g)),this.matchTNodeWithReadOption(a,l,Kd(l,a,g,!1,!1))}else u===pp?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Kd(l,a,u,!1,!1))}matchTNodeWithReadOption(a,l,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===Gh||f===xf||f===pp&&4&l.type)this.addMatch(l.index,-2);else{const g=Kd(l,a,f,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,u)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function IR(o,a){const l=o.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===a)return l[u+1];return null}function DR(o,a,l,u){return-1===l?function TR(o,a){return 11&o.type?fu(o,a):4&o.type?Kc(o,a):null}(a,o):-2===l?function xE(o,a,l){return l===Gh?fu(a,o):l===pp?Kc(a,o):l===xf?Ou(a,o):void 0}(o,a,u):co(o,o[Ze],l,a)}function jS(o,a,l,u){const f=a[nr].queries[u];if(null===f.matches){const g=o.data,y=l.matches,E=[];for(let T=0;T<y.length;T+=2){const k=y[T];E.push(k<0?null:DR(a,g[k],y[T+1],l.metadata.read))}f.matches=E}return f.matches}function vp(o,a,l,u){const f=o.queries.getByIndex(l),g=f.matches;if(null!==g){const y=jS(o,a,f,l);for(let E=0;E<g.length;E+=2){const T=g[E];if(T>0)u.push(y[E/2]);else{const k=g[E+1],R=a[-T];for(let V=hi;V<R.length;V++){const Z=R[V];Z[fc]===Z[xn]&&vp(Z[Ze],Z,k,u)}if(null!==R[_s]){const V=R[_s];for(let Z=0;Z<V.length;Z++){const ne=V[Z];vp(ne[Ze],ne,k,u)}}}}}return u}function Q_(o){const a=Se(),l=Ut(),u=yg();Hd(u+1);const f=jb(l,u);if(o.dirty&&function Nd(o){return 4==(4&o[Vt])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?vp(l,a,u,[]):jS(l,a,f,u);o.reset(g,kw),o.notifyOnChanges()}return!0}return!1}function HS(o,a,l){const u=Ut();u.firstCreatePass&&(X_(u,new Vb(o,a,l),-1),2==(2&a)&&(u.staticViewQueries=!0)),yp(u,Se(),a)}function EE(o,a,l,u){const f=Ut();if(f.firstCreatePass){const g=ri();X_(f,new Vb(a,l,u),g.index),function IE(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(f,o),2==(2&l)&&(f.staticContentQueries=!0)}yp(f,Se(),l)}function Ub(){return function CE(o,a){return o[nr].queries[a].queryList}(Se(),yg())}function yp(o,a,l){const u=new K_(4==(4&l));(function Yh(o,a,l,u){const f=ZT(a);f.push(l),o.firstCreatePass&&i_(o).push(u,f.length-1)})(o,a,u,u.destroy),null===a[nr]&&(a[nr]=new bE),a[nr].queries.push(new yE(u))}function X_(o,a,l){null===o.queries&&(o.queries=new dr),o.queries.track(new wE(a,l))}function jb(o,a){return o.queries.getByIndex(a)}function TE(o,a){return Kc(o,a)}function Hb(o){return!!Ti(o)}const iA=new ct("Application Initializer");let sv=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u}),this.appInits=Bt(iA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const f of this.appInits){const g=f();if(gx(g))l.push(g);else if(is(g)){const y=new Promise((E,T)=>{g.subscribe({complete:E,error:T})});l.push(y)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{u()}).catch(f=>{this.reject(f)}),0===l.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Dt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),rA=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Dt({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const Tf=new ct("LocaleId",{providedIn:"root",factory:()=>Bt(Tf,St.Optional|St.SkipSelf)||function LE(){return typeof $localize<"u"&&$localize.locale||mf}()}),BE=new ct("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let oA=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fe.X(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Dt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();class VR{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let sA=(()=>{class o{compileModuleSync(l){return new rE(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),g=ql(Ti(l).declarations).reduce((y,E)=>{const T=Xt(E);return T&&y.push(new u_(T)),y},[]);return new VR(u,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Dt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const ZE=new ct(""),hA=new ct("");let Jb,fA=(()=>{class o{constructor(l,u,f){this._ngZone=l,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Jb||(function mA(o){Jb=o}(f),f.addToWindow(u)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,f){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:f})}whenStable(l,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,u,f){return[]}static#e=this.\u0275fac=function(u){return new(u||o)(vn(Vr),vn(KE),vn(hA))};static#t=this.\u0275prov=Dt({token:o,factory:o.\u0275fac})}return o})(),KE=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return Jb?.findTestabilityInTree(this,l,u)??null}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Dt({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})(),Fu=null;const pA=new ct("AllowMultipleToken"),YE=new ct("PlatformDestroyListeners"),QE=new ct("appBootstrapListener");class JE{constructor(a,l){this.name=a,this.token=l}}function nC(o,a,l=[]){const u=`Platform: ${a}`,f=new ct(u);return(g=[])=>{let y=uv();if(!y||y.injector.get(pA,!1)){const E=[...l,...g,{provide:f,useValue:!0}];o?o(E):function qR(o){if(Fu&&!Fu.get(pA,!1))throw new ce(400,!1);(function e0(){!function ah(o){mg=o}(()=>{throw new ce(600,!1)})})(),Fu=o;const a=o.get(vA);(function tC(o){o.get(Ey,null)?.forEach(l=>l())})(o)}(function t0(o=[],a){return ua.create({name:a,providers:[{provide:wy,useValue:"platform"},{provide:YE,useValue:new Set([()=>Fu=null])},...o]})}(E,u))}return function WR(o){const a=uv();if(!a)throw new ce(401,!1);return a}()}}function uv(){return Fu?.get(vA)??null}let vA=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const f=function ZR(o="zone.js",a){return"noop"===o?new Wg:"zone.js"===o?new Vr(a):o}(u?.ngZone,function n0(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return f.run(()=>{const g=function xS(o,a,l){return new Sb(o,a,l)}(l.moduleType,this.injector,function a0(o){return[{provide:Vr,useFactory:o},{provide:Dm,multi:!0,useFactory:()=>{const a=Bt(rC,{optional:!0});return()=>a.initialize()}},{provide:s0,useFactory:KR},{provide:Fy,useFactory:Vw}]}(()=>f)),y=g.injector.get(Vc,null);return f.runOutsideAngular(()=>{const E=f.onError.subscribe({next:T=>{y.handleError(T)}});g.onDestroy(()=>{cd(this._modules,g),E.unsubscribe()})}),function r0(o,a,l){try{const u=l();return gx(u)?u.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):u}catch(u){throw a.runOutsideAngular(()=>o.handleError(u)),u}}(y,f,()=>{const E=g.injector.get(sv);return E.runInitializers(),E.donePromise.then(()=>(function XD(o){at(o,"Expected localeId to be defined"),"string"==typeof o&&(QD=o.toLowerCase().replace(/_/g,"-"))}(g.injector.get(Tf,mf)||mf),this._moduleDoBootstrap(g),g))})})}bootstrapModule(l,u=[]){const f=o0({},u);return function XE(o,a,l){const u=new rE(l);return Promise.resolve(u)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(l){const u=l.injector.get(Lu);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new ce(-403,!1);l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const l=this._injector.get(YE,null);l&&(l.forEach(u=>u()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(u){return new(u||o)(vn(ua))};static#t=this.\u0275prov=Dt({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function o0(o,a){return Array.isArray(a)?a.reduce(o0,o):{...o,...a}}let Lu=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Bt(s0),this.zoneIsStable=Bt(Fy),this.componentTypes=[],this.components=[],this.isStable=Bt(oA).hasPendingTasks.pipe((0,Me.w)(l=>l?(0,te.of)(!1):this.zoneIsStable),(0,me.x)(),(0,_e.B)()),this._injector=Bt(Gl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,u){const f=l instanceof $h;if(!this._injector.get(sv).done)throw!f&&qs(l),new ce(405,!1);let y;y=f?l:this._injector.get(zg).resolveComponentFactory(l),this.componentTypes.push(y.componentType);const E=function GR(o){return o.isBoundToModule}(y)?void 0:this._injector.get(yf),k=y.create(ua.NULL,[],u||y.selector,E),R=k.location.nativeElement,V=k.injector.get(ZE,null);return V?.registerApplication(R),k.onDestroy(()=>{this.detachView(k.hostView),cd(this.components,k),V?.unregisterApplication(R)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;cd(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const u=this._injector.get(QE,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>cd(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new ce(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Dt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function cd(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}const s0=new ct("",{providedIn:"root",factory:()=>Bt(Vc).handleError.bind(void 0)});function KR(){const o=Bt(Vr),a=Bt(Vc);return l=>o.runOutsideAngular(()=>a.handleError(l))}let rC=(()=>{class o{constructor(){this.zone=Bt(Vr),this.applicationRef=Bt(Lu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Dt({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function oC(){return!1}let sC=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=QR}return o})();function QR(o){return function aC(o,a,l){if(Ca(o)&&!l){const u=br(o.index,a);return new Yl(u,u)}return 47&o.type?new Yl(a[ni],a):null}(ri(),Se(),16==(16&o))}class EA{constructor(){}supports(a){return Os(a)}create(a){return new oO(a)}}const rO=(o,a)=>a;class oO{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||rO}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,u=this._removalsHead,f=0,g=null;for(;l||u;){const y=!u||l&&l.currentIndex<m0(u,f,g)?l:u,E=m0(y,f,g),T=y.currentIndex;if(y===u)f--,u=u._nextRemoved;else if(l=l._next,null==y.previousIndex)f++;else{g||(g=[]);const k=E-f,R=T-f;if(k!=R){for(let Z=0;Z<k;Z++){const ne=Z<g.length?g[Z]:g[Z]=0,ye=ne+Z;R<=ye&&ye<k&&(g[Z]=ne+1)}g[y.previousIndex]=R-k}}E!==T&&a(y,E,T)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!Os(a))throw new ce(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,y,l=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)g=a[E],y=this._trackByFn(E,g),null!==l&&Object.is(l.trackById,y)?(u&&(l=this._verifyReinsertion(l,g,y,E)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,y,E),u=!0),l=l._next}else f=0,function ax(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[Symbol.iterator]();let u;for(;!(u=l.next()).done;)a(u.value)}}(a,E=>{y=this._trackByFn(f,E),null!==l&&Object.is(l.trackById,y)?(u&&(l=this._verifyReinsertion(l,E,y,f)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,y,f),u=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,u,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,g,f)):a=this._addAfter(new h0(l,u),g,f),a}_verifyReinsertion(a,l,u,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,l,u),this._addToMoves(a,u),a}_moveAfter(a,l,u){return this._unlink(a),this._insertAfter(a,l,u),this._addToMoves(a,u),a}_addAfter(a,l,u){return this._insertAfter(a,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,u){const f=null===l?this._itHead:l._next;return a._next=f,a._prev=l,null===f?this._itTail=a:f._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new f0),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,u=a._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new f0),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class h0{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uC{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const l=a._prevDup,u=a._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class f0{constructor(){this.map=new Map}put(a){const l=a.trackById;let u=this.map.get(l);u||(u=new uC,this.map.set(l,u)),u.add(a)}get(a,l){const f=this.map.get(a);return f?f.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function m0(o,a,l){const u=o.previousIndex;if(null===u)return u;let f=0;return l&&u<l.length&&(f=l[u]),u+a+f}class hC{constructor(){}supports(a){return a instanceof Map||pu(a)}create(){return new fC}}class fC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||pu(a)))throw new ce(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(f,u);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const u=a._prev;return l._next=a,l._prev=u,a._prev=l,u&&(u._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,l);const g=f._prev,y=f._next;return g&&(g._next=y),y&&(y._prev=g),f._next=null,f._prev=null,f}const u=new mC(a);return this._records.set(a,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(u=>l(a[u],u))}}class mC{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fv(){return new mv([new EA])}let mv=(()=>{class o{static#e=this.\u0275prov=Dt({token:o,providedIn:"root",factory:fv});constructor(l){this.factories=l}static create(l,u){if(null!=u){const f=u.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:u=>o.create(l,u||fv()),deps:[[o,new tu,new Pl]]}}find(l){const u=this.factories.find(f=>f.supports(l));if(null!=u)return u;throw new ce(901,!1)}}return o})();function pv(){return new p0([new hC])}let p0=(()=>{class o{static#e=this.\u0275prov=Dt({token:o,providedIn:"root",factory:pv});constructor(l){this.factories=l}static create(l,u){if(u){const f=u.factories.slice();l=l.concat(f)}return new o(l)}static extend(l){return{provide:o,useFactory:u=>o.create(l,u||pv()),deps:[[o,new tu,new Pl]]}}find(l){const u=this.factories.find(f=>f.supports(l));if(u)return u;throw new ce(901,!1)}}return o})();const aO=nC(null,"core",[]);let cO=(()=>{class o{constructor(l){}static#e=this.\u0275fac=function(u){return new(u||o)(vn(Lu))};static#t=this.\u0275mod=eh({type:o});static#n=this.\u0275inj=cn({})}return o})();function b0(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function gO(o){const a=Xt(o);if(!a)return null;const l=new u_(a);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3399:(ht,Ce,L)=>{L.d(Ce,{Z:()=>Ye});var d=L(9058),ie=L(4537),B=L(7592),oe=L(7879);class fe{constructor(Qe,Ne){this._delegate=Qe,this.firebase=Ne,(0,B._addComponent)(Qe,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=Qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this._delegate.automaticDataCollectionEnabled=Qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Qe=>{this._delegate.checkDestroyed(),Qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Qe,Ne=B._DEFAULT_ENTRY_NAME){var mt;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(Qe);return!pt.isInitialized()&&"EXPLICIT"===(null===(mt=pt.getComponent())||void 0===mt?void 0:mt.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:Ne})}_removeServiceInstance(Qe,Ne=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Qe).clearInstance(Ne)}_addComponent(Qe){(0,B._addComponent)(this._delegate,Qe)}_addOrOverwriteComponent(Qe){(0,B._addOrOverwriteComponent)(this._delegate,Qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function me(){const Le=function Me(Le){const Qe={},Ne={__esModule:!0,initializeApp:function ce(Be,ue={}){const Y=B.initializeApp(Be,ue);if((0,d.r3)(Qe,Y.name))return Qe[Y.name];const qe=new Le(Y,Ne);return Qe[Y.name]=qe,qe},app:pt,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function re(Be){const ue=Be.name,Y=ue.replace("-compat","");if(B._registerComponent(Be)&&"PUBLIC"===Be.type){const qe=(_t=pt())=>{if("function"!=typeof _t[Y])throw _e.create("invalid-app-argument",{appName:ue});return _t[Y]()};void 0!==Be.serviceProps&&(0,d.ZB)(qe,Be.serviceProps),Ne[Y]=qe,Le.prototype[Y]=function(..._t){return this._getService.bind(this,ue).apply(this,Be.multipleInstances?_t:[])}}return"PUBLIC"===Be.type?Ne[Y]:null},removeApp:function mt(Be){delete Qe[Be]},useAsService:function Te(Be,ue){return"serverAuth"===ue?null:ue},modularAPIs:B}};function pt(Be){if(!(0,d.r3)(Qe,Be=Be||B._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:Be});return Qe[Be]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function xe(){return Object.keys(Qe).map(Be=>Qe[Be])}}),pt.App=Le,Ne}(fe);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function Qe(Ne){(0,d.ZB)(Le,Ne)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Le}(),G=new oe.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=j;!function Ae(Le){(0,B.registerVersion)("@firebase/app-compat","0.2.13",Le)}()},7592:(ht,Ce,L)=>{L.r(Ce),L.d(Ce,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>cn,_DEFAULT_ENTRY_NAME:()=>de,_addComponent:()=>we,_addOrOverwriteComponent:()=>Ie,_apps:()=>ge,_clearComponents:()=>vt,_components:()=>be,_getProvider:()=>Ke,_registerComponent:()=>at,_removeServiceInstance:()=>Cn,deleteApp:()=>to,getApp:()=>In,getApps:()=>Qi,initializeApp:()=>Vi,onLog:()=>Sr,registerVersion:()=>zr,setLogLevel:()=>Xi});var d=L(5861),ie=L(4537),B=L(7879),oe=L(9058),fe=L(1878);class te{constructor(De){this.container=De}getPlatformInfoString(){return this.container.getProviders().map(nt=>{if(function _e(rt){const De=rt.getComponent();return"VERSION"===De?.type}(nt)){const Pt=nt.getImmediate();return`${Pt.library}/${Pt.version}`}return null}).filter(nt=>nt).join(" ")}}const Me="@firebase/app",j=new B.Yd("@firebase/app"),de="[DEFAULT]",pe={[Me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ge=new Map,be=new Map;function we(rt,De){try{rt.container.addComponent(De)}catch(nt){j.debug(`Component ${De.name} failed to register with FirebaseApp ${rt.name}`,nt)}}function Ie(rt,De){rt.container.addOrOverwriteComponent(De)}function at(rt){const De=rt.name;if(be.has(De))return j.debug(`There were multiple attempts to register component ${De}.`),!1;be.set(De,rt);for(const nt of ge.values())we(nt,rt);return!0}function Ke(rt,De){const nt=rt.container.getProvider("heartbeat").getImmediate({optional:!0});return nt&&nt.triggerHeartbeat(),rt.container.getProvider(De)}function Cn(rt,De,nt=de){Ke(rt,De).clearInstance(nt)}function vt(){be.clear()}const Dt=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class jn{constructor(De,nt,Pt){this._isDeleted=!1,this._options=Object.assign({},De),this._config=Object.assign({},nt),this._name=nt.name,this._automaticDataCollectionEnabled=nt.automaticDataCollectionEnabled,this._container=Pt,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this.checkDestroyed(),this._automaticDataCollectionEnabled=De}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(De){this._isDeleted=De}checkDestroyed(){if(this.isDeleted)throw Dt.create("app-deleted",{appName:this._name})}}const cn="9.23.0";function Vi(rt,De={}){let nt=rt;"object"!=typeof De&&(De={name:De});const Pt=Object.assign({name:de,automaticDataCollectionEnabled:!1},De),At=Pt.name;if("string"!=typeof At||!At)throw Dt.create("bad-app-name",{appName:String(At)});if(nt||(nt=(0,oe.aH)()),!nt)throw Dt.create("no-options");const _n=ge.get(At);if(_n){if((0,oe.vZ)(nt,_n.options)&&(0,oe.vZ)(Pt,_n.config))return _n;throw Dt.create("duplicate-app",{appName:At})}const Qn=new ie.H0(At);for(const z of be.values())Qn.addComponent(z);const $=new jn(nt,Pt,Qn);return ge.set(At,$),$}function In(rt=de){const De=ge.get(rt);if(!De&&rt===de&&(0,oe.aH)())return Vi();if(!De)throw Dt.create("no-app",{appName:rt});return De}function Qi(){return Array.from(ge.values())}function to(rt){return ds.apply(this,arguments)}function ds(){return(ds=(0,d.Z)(function*(rt){const De=rt.name;ge.has(De)&&(ge.delete(De),yield Promise.all(rt.container.getProviders().map(nt=>nt.delete())),rt.isDeleted=!0)})).apply(this,arguments)}function zr(rt,De,nt){var Pt;let At=null!==(Pt=pe[rt])&&void 0!==Pt?Pt:rt;nt&&(At+=`-${nt}`);const _n=At.match(/\s|\//),Qn=De.match(/\s|\//);if(_n||Qn){const $=[`Unable to register library "${At}" with version "${De}":`];return _n&&$.push(`library name "${At}" contains illegal characters (whitespace or "/")`),_n&&Qn&&$.push("and"),Qn&&$.push(`version name "${De}" contains illegal characters (whitespace or "/")`),void j.warn($.join(" "))}at(new ie.wA(`${At}-version`,()=>({library:At,version:De}),"VERSION"))}function Sr(rt,De){if(null!==rt&&"function"!=typeof rt)throw Dt.create("invalid-log-argument");(0,B.Am)(rt,De)}function Xi(rt){(0,B.Ub)(rt)}const vd="firebase-heartbeat-database",St=1,Lt="firebase-heartbeat-store";let $t=null;function Hn(){return $t||($t=(0,fe.X3)(vd,St,{upgrade:(rt,De)=>{0===De&&rt.createObjectStore(Lt)}}).catch(rt=>{throw Dt.create("idb-open",{originalErrorMessage:rt.message})})),$t}function Ji(){return(Ji=(0,d.Z)(function*(rt){try{return yield(yield Hn()).transaction(Lt).objectStore(Lt).get(_a(rt))}catch(De){if(De instanceof oe.ZR)j.warn(De.message);else{const nt=Dt.create("idb-get",{originalErrorMessage:De?.message});j.warn(nt.message)}}})).apply(this,arguments)}function wn(rt,De){return di.apply(this,arguments)}function di(){return(di=(0,d.Z)(function*(rt,De){try{const Pt=(yield Hn()).transaction(Lt,"readwrite");yield Pt.objectStore(Lt).put(De,_a(rt)),yield Pt.done}catch(nt){if(nt instanceof oe.ZR)j.warn(nt.message);else{const Pt=Dt.create("idb-set",{originalErrorMessage:nt?.message});j.warn(Pt.message)}}})).apply(this,arguments)}function _a(rt){return`${rt.name}!${rt.options.appId}`}class rn{constructor(De){this.container=De,this._heartbeatsCache=null;const nt=this.container.getProvider("app").getImmediate();this._storage=new cc(nt),this._heartbeatsCachePromise=this._storage.read().then(Pt=>(this._heartbeatsCache=Pt,Pt))}triggerHeartbeat(){var De=this;return(0,d.Z)(function*(){const Pt=De.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=hs();if(null===De._heartbeatsCache&&(De._heartbeatsCache=yield De._heartbeatsCachePromise),De._heartbeatsCache.lastSentHeartbeatDate!==At&&!De._heartbeatsCache.heartbeats.some(_n=>_n.date===At))return De._heartbeatsCache.heartbeats.push({date:At,agent:Pt}),De._heartbeatsCache.heartbeats=De._heartbeatsCache.heartbeats.filter(_n=>{const Qn=new Date(_n.date).valueOf();return Date.now()-Qn<=2592e6}),De._storage.overwrite(De._heartbeatsCache)})()}getHeartbeatsHeader(){var De=this;return(0,d.Z)(function*(){if(null===De._heartbeatsCache&&(yield De._heartbeatsCachePromise),null===De._heartbeatsCache||0===De._heartbeatsCache.heartbeats.length)return"";const nt=hs(),{heartbeatsToSend:Pt,unsentEntries:At}=function Uo(rt,De=1024){const nt=[];let Pt=rt.slice();for(const At of rt){const _n=nt.find(Qn=>Qn.agent===At.agent);if(_n){if(_n.dates.push(At.date),jo(nt)>De){_n.dates.pop();break}}else if(nt.push({agent:At.agent,dates:[At.date]}),jo(nt)>De){nt.pop();break}Pt=Pt.slice(1)}return{heartbeatsToSend:nt,unsentEntries:Pt}}(De._heartbeatsCache.heartbeats),_n=(0,oe.L)(JSON.stringify({version:2,heartbeats:Pt}));return De._heartbeatsCache.lastSentHeartbeatDate=nt,At.length>0?(De._heartbeatsCache.heartbeats=At,yield De._storage.overwrite(De._heartbeatsCache)):(De._heartbeatsCache.heartbeats=[],De._storage.overwrite(De._heartbeatsCache)),_n})()}}function hs(){return(new Date).toISOString().substring(0,10)}class cc{constructor(De){this.app=De,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var De=this;return(0,d.Z)(function*(){return(yield De._canUseIndexedDBPromise)&&(yield function xi(rt){return Ji.apply(this,arguments)}(De.app))||{heartbeats:[]}})()}overwrite(De){var nt=this;return(0,d.Z)(function*(){var Pt;if(yield nt._canUseIndexedDBPromise){const _n=yield nt.read();return wn(nt.app,{lastSentHeartbeatDate:null!==(Pt=De.lastSentHeartbeatDate)&&void 0!==Pt?Pt:_n.lastSentHeartbeatDate,heartbeats:De.heartbeats})}})()}add(De){var nt=this;return(0,d.Z)(function*(){var Pt;if(yield nt._canUseIndexedDBPromise){const _n=yield nt.read();return wn(nt.app,{lastSentHeartbeatDate:null!==(Pt=De.lastSentHeartbeatDate)&&void 0!==Pt?Pt:_n.lastSentHeartbeatDate,heartbeats:[..._n.heartbeats,...De.heartbeats]})}})()}}function jo(rt){return(0,oe.L)(JSON.stringify({version:2,heartbeats:rt})).length}!function lc(rt){at(new ie.wA("platform-logger",De=>new te(De),"PRIVATE")),at(new ie.wA("heartbeat",De=>new rn(De),"PRIVATE")),zr(Me,"0.9.13",rt),zr(Me,"0.9.13","esm2017"),zr("fire-js","")}("")},4097:(ht,Ce,L)=>{L.d(Ce,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=L(7592);(0,d.registerVersion)("firebase","9.23.0","app")},120:(ht,Ce,L)=>{L.d(Ce,{Z:()=>d.Z});var d=L(3399);d.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(ht,Ce,L)=>{L.r(Ce);var d=L(5861),ie=L(3399),B=L(9058),oe=L(7592),fe=L(7582),te=L(7879),_e=L(4537);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ye=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Le=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qe=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mt=new te.Yd("@firebase/auth");function ce(b,...m){mt.logLevel<=te.in.ERROR&&mt.error(`Auth (${oe.SDK_VERSION}): ${b}`,...m)}function xe(b,...m){throw ue(b,...m)}function re(b,...m){return ue(b,...m)}function Te(b,m,_){const w=Object.assign(Object.assign({},Le()),{[m]:_});return new B.LL("auth","Firebase",w).create(m,{appName:b.name})}function Be(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&xe(b,"argument-error"),Te(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ue(b,...m){if("string"!=typeof b){const _=m[0],w=[...m.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return Qe.create(b,...m)}function Y(b,m,..._){if(!b)throw ue(m,..._)}function qe(b){const m="INTERNAL ASSERTION FAILED: "+b;throw ce(m),new Error(m)}function _t(b,m){b||qe(m)}function bn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Vn(){return"http:"===Un()||"https:"===Un()}function Un(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class mr{constructor(m,_){this.shortDelay=m,this.longDelay=_,_t(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Ii(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Vn()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function de(b,m){_t(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class pe{static initialize(m,_,w){this.fetchImpl=m,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},be=new mr(3e4,6e4);function we(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function Ie(b,m,_,w){return at.apply(this,arguments)}function at(){return(at=(0,d.Z)(function*(b,m,_,w,A={}){return Ke(b,A,(0,d.Z)(function*(){let O={},q={};w&&("GET"===m?q=w:O={body:JSON.stringify(w)});const X=(0,B.xO)(Object.assign({key:b.config.apiKey},q)).slice(1),Pe=yield b._getAdditionalHeaders();return Pe["Content-Type"]="application/json",b.languageCode&&(Pe["X-Firebase-Locale"]=b.languageCode),pe.fetch()(Dt(b,b.config.apiHost,_,X),Object.assign({method:m,headers:Pe,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Ke(b,m,_){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,d.Z)(function*(b,m,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},ge),m);try{const A=new jn(b),O=yield Promise.race([_(),A.promise]);A.clearNetworkTimeout();const q=yield O.json();if("needConfirmation"in q)throw cn(b,"account-exists-with-different-credential",q);if(O.ok&&!("errorMessage"in q))return q;{const X=O.ok?q.errorMessage:q.error.message,[Pe,Ge]=X.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw cn(b,"credential-already-in-use",q);if("EMAIL_EXISTS"===Pe)throw cn(b,"email-already-in-use",q);if("USER_DISABLED"===Pe)throw cn(b,"user-disabled",q);const it=w[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Ge)throw Te(b,it,Ge);xe(b,it)}}catch(A){if(A instanceof B.ZR)throw A;xe(b,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function vt(b,m,_,w){return hn.apply(this,arguments)}function hn(){return(hn=(0,d.Z)(function*(b,m,_,w,A={}){const O=yield Ie(b,m,_,w,A);return"mfaPendingCredential"in O&&xe(b,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Dt(b,m,_,w){const A=`${m}${_}?${w}`;return b.config.emulator?de(b.config,A):`${b.config.apiScheme}://${A}`}class jn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(re(this.auth,"network-request-failed")),be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cn(b,m,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const A=re(b,m,w);return A.customData._tokenResponse=_,A}function In(){return(In=(0,d.Z)(function*(b,m){return Ie(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function to(){return(to=(0,d.Z)(function*(b,m){return Ie(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function zr(){return(zr=(0,d.Z)(function*(b,m){return Ie(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Sr(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function St(){return(St=(0,d.Z)(function*(b,m=!1){const _=(0,B.m9)(b),w=yield _.getIdToken(m),A=$t(w);Y(A&&A.exp&&A.auth_time&&A.iat,_.auth,"internal-error");const O="object"==typeof A.firebase?A.firebase:void 0,q=O?.sign_in_provider;return{claims:A,token:w,authTime:Sr(Lt(A.auth_time)),issuedAtTime:Sr(Lt(A.iat)),expirationTime:Sr(Lt(A.exp)),signInProvider:q||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Lt(b){return 1e3*Number(b)}function $t(b){const[m,_,w]=b.split(".");if(void 0===m||void 0===_||void 0===w)return ce("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,B.tV)(_);return A?JSON.parse(A):(ce("Failed to decode base64 JWT payload"),null)}catch(A){return ce("Caught error parsing JWT payload as JSON",A?.toString()),null}}function xi(b,m){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,d.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(w){throw w instanceof B.ZR&&function wn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}class di{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(m);this.timerId=setTimeout((0,d.Z)(function*(){yield _.iteration()}),w)}iteration(){var m=this;return(0,d.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class _a{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sr(this.lastLoginAt),this.creationTime=Sr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ct(b){return us.apply(this,arguments)}function us(){return us=(0,d.Z)(function*(b){var m;const _=b.auth,w=yield b.getIdToken(),A=yield xi(b,function ds(b,m){return zr.apply(this,arguments)}(_,{idToken:w}));Y(A?.users.length,_,"internal-error");const O=A.users[0];b._notifyReloadListener(O);const q=null!==(m=O.providerUserInfo)&&void 0!==m&&m.length?function cc(b){return b.map(m=>{var{providerId:_}=m,w=(0,fe._T)(m,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(O.providerUserInfo):[],X=function Uo(b,m){return[...b.filter(w=>!m.some(A=>A.providerId===w.providerId)),...m]}(b.providerData,q),it=!!b.isAnonymous&&!(b.email&&O.passwordHash||X?.length),st={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:X,metadata:new _a(O.createdAt,O.lastLoginAt),isAnonymous:it};Object.assign(b,st)}),us.apply(this,arguments)}function hs(){return(hs=(0,d.Z)(function*(b){const m=(0,B.m9)(b);yield ct(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function lc(){return(lc=(0,d.Z)(function*(b,m){const _=yield Ke(b,{},(0,d.Z)(function*(){const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:A,apiKey:O}=b.config,q=Dt(b,A,"/v1/token",`key=${O}`),X=yield b._getAdditionalHeaders();return X["Content-Type"]="application/x-www-form-urlencoded",pe.fetch()(q,{method:"POST",headers:X,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Y(m.idToken,"internal-error"),Y(typeof m.idToken<"u","internal-error"),Y(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function Hn(b){const m=$t(b);return Y(m,"internal-error"),Y(typeof m.exp<"u","internal-error"),Y(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var w=this;return(0,d.Z)(function*(){return Y(!w.accessToken||w.refreshToken,m,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(m,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var w=this;return(0,d.Z)(function*(){const{accessToken:A,refreshToken:O,expiresIn:q}=yield function jo(b,m){return lc.apply(this,arguments)}(m,_);w.updateTokensAndExpiration(A,O,Number(q))})()}updateTokensAndExpiration(m,_,w){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(m,_){const{refreshToken:w,accessToken:A,expirationTime:O}=_,q=new rt;return w&&(Y("string"==typeof w,"internal-error",{appName:m}),q.refreshToken=w),A&&(Y("string"==typeof A,"internal-error",{appName:m}),q.accessToken=A),O&&(Y("number"==typeof O,"internal-error",{appName:m}),q.expirationTime=O),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return qe("not implemented")}}function De(b,m){Y("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class nt{constructor(m){var{uid:_,auth:w,stsTokenManager:A}=m,O=(0,fe._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new di(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new _a(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,d.Z)(function*(){const w=yield xi(_,_.stsTokenManager.getToken(_.auth,m));return Y(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(m){return function vd(b){return St.apply(this,arguments)}(this,m)}reload(){return function rn(b){return hs.apply(this,arguments)}(this)}_assign(m){this!==m&&(Y(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const _=new nt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(m){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var w=this;return(0,d.Z)(function*(){let A=!1;m.idToken&&m.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(m),A=!0),_&&(yield ct(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var m=this;return(0,d.Z)(function*(){const _=yield m.getIdToken();return yield xi(m,function Vi(b,m){return In.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var w,A,O,q,X,Pe,Ge,it;const st=null!==(w=_.displayName)&&void 0!==w?w:void 0,oi=null!==(A=_.email)&&void 0!==A?A:void 0,So=null!==(O=_.phoneNumber)&&void 0!==O?O:void 0,Nc=null!==(q=_.photoURL)&&void 0!==q?q:void 0,Og=null!==(X=_.tenantId)&&void 0!==X?X:void 0,Pc=null!==(Pe=_._redirectEventId)&&void 0!==Pe?Pe:void 0,da=null!==(Ge=_.createdAt)&&void 0!==Ge?Ge:void 0,Vl=null!==(it=_.lastLoginAt)&&void 0!==it?it:void 0,{uid:Fh,emailVerified:Lh,isAnonymous:lu,providerData:Ul,stsTokenManager:sy}=_;Y(Fh&&sy,m,"internal-error");const aw=rt.fromJSON(this.name,sy);Y("string"==typeof Fh,m,"internal-error"),De(st,m.name),De(oi,m.name),Y("boolean"==typeof Lh,m,"internal-error"),Y("boolean"==typeof lu,m,"internal-error"),De(So,m.name),De(Nc,m.name),De(Og,m.name),De(Pc,m.name),De(da,m.name),De(Vl,m.name);const Ng=new nt({uid:Fh,auth:m,email:oi,emailVerified:Lh,displayName:st,isAnonymous:lu,photoURL:Nc,phoneNumber:So,tenantId:Og,stsTokenManager:aw,createdAt:da,lastLoginAt:Vl});return Ul&&Array.isArray(Ul)&&(Ng.providerData=Ul.map(cw=>Object.assign({},cw))),Pc&&(Ng._redirectEventId=Pc),Ng}static _fromIdTokenResponse(m,_,w=!1){return(0,d.Z)(function*(){const A=new rt;A.updateFromServerResponse(_);const O=new nt({uid:_.localId,auth:m,stsTokenManager:A,isAnonymous:w});return yield ct(O),O})()}}const Pt=new Map;function At(b){_t(b instanceof Function,"Expected a class definition");let m=Pt.get(b);return m?(_t(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,Pt.set(b,m),m)}const Qn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(_,w){var A=this;return(0,d.Z)(function*(){A.storage[_]=w})()}_get(_){var w=this;return(0,d.Z)(function*(){const A=w.storage[_];return void 0===A?null:A})()}_remove(_){var w=this;return(0,d.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function $(b,m,_){return`firebase:${b}:${m}:${_}`}class z{constructor(m,_,w){this.persistence=m,this.auth=_,this.userKey=w;const{config:A,name:O}=this.auth;this.fullUserKey=$(this.userKey,A.apiKey,O),this.fullPersistenceKey=$("persistence",A.apiKey,O),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,d.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?nt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,d.Z)(function*(){if(_.persistence===m)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,w="authUser"){return(0,d.Z)(function*(){if(!_.length)return new z(At(Qn),m,w);const A=(yield Promise.all(_.map(function(){var Ge=(0,d.Z)(function*(it){if(yield it._isAvailable())return it});return function(it){return Ge.apply(this,arguments)}}()))).filter(Ge=>Ge);let O=A[0]||At(Qn);const q=$(w,m.config.apiKey,m.name);let X=null;for(const Ge of _)try{const it=yield Ge._get(q);if(it){const st=nt._fromJSON(m,it);Ge!==O&&(X=st),O=Ge;break}}catch{}const Pe=A.filter(Ge=>Ge._shouldAllowMigration);return O._shouldAllowMigration&&Pe.length?(O=Pe[0],X&&(yield O._set(q,X.toJSON())),yield Promise.all(_.map(function(){var Ge=(0,d.Z)(function*(it){if(it!==O)try{yield it._remove(q)}catch{}});return function(it){return Ge.apply(this,arguments)}}())),new z(O,m,w)):new z(O,m,w)})()}}function Q(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ct(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Ee(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(vn(m))return"Blackberry";if(Ui(m))return"Webos";if(se(m))return"Safari";if((m.includes("chrome/")||ut(m))&&!m.includes("edge/"))return"Chrome";if(Jt(m))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Ee(b=(0,B.z$)()){return/firefox\//i.test(b)}function se(b=(0,B.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function ut(b=(0,B.z$)()){return/crios\//i.test(b)}function Ct(b=(0,B.z$)()){return/iemobile/i.test(b)}function Jt(b=(0,B.z$)()){return/android/i.test(b)}function vn(b=(0,B.z$)()){return/blackberry/i.test(b)}function Ui(b=(0,B.z$)()){return/webos/i.test(b)}function Bt(b=(0,B.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Ku(b=(0,B.z$)()){return Bt(b)||Jt(b)||Ui(b)||vn(b)||/windows phone/i.test(b)||Ct(b)}function Ff(b,m=[]){let _;switch(b){case"Browser":_=Q((0,B.z$)());break;case"Worker":_=`${Q((0,B.z$)())}-${b}`;break;default:_=b}const w=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${oe.SDK_VERSION}/${w}`}function va(){return(va=(0,d.Z)(function*(b){return(yield Ie(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ho(b,m){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,d.Z)(function*(b,m){return Ie(b,"GET","/v2/recaptchaConfig",we(b,m))})).apply(this,arguments)}function Qt(b){return void 0!==b&&void 0!==b.getResponse}function $s(b){return void 0!==b&&void 0!==b.enterprise}class dc{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function Qu(b){return new Promise((m,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=m,w.onerror=A=>{const O=re("internal-error");O.customData=A,_(O)},w.type="text/javascript",w.charset="UTF-8",function Yu(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(w)})}function bo(b){return`__${b}${Math.floor(1e6*Math.random())}`}class il{constructor(m){this.type="recaptcha-enterprise",this.auth=zn(m)}verify(m="verify",_=!1){var w=this;return(0,d.Z)(function*(){function O(){return O=(0,d.Z)(function*(X){if(!_){if(null==X.tenantId&&null!=X._agentRecaptchaConfig)return X._agentRecaptchaConfig.siteKey;if(null!=X.tenantId&&void 0!==X._tenantRecaptchaConfigs[X.tenantId])return X._tenantRecaptchaConfigs[X.tenantId].siteKey}return new Promise(function(){var Pe=(0,d.Z)(function*(Ge,it){Ho(X,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(st=>{if(void 0!==st.recaptchaKey){const oi=new dc(st);return null==X.tenantId?X._agentRecaptchaConfig=oi:X._tenantRecaptchaConfigs[X.tenantId]=oi,Ge(oi.siteKey)}it(new Error("recaptcha Enterprise site key undefined"))}).catch(st=>{it(st)})});return function(Ge,it){return Pe.apply(this,arguments)}}())}),O.apply(this,arguments)}function q(X,Pe,Ge){const it=window.grecaptcha;$s(it)?it.enterprise.ready(()=>{it.enterprise.execute(X,{action:m}).then(st=>{Pe(st)}).catch(()=>{Pe("NO_RECAPTCHA")})}):Ge(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((X,Pe)=>{(function A(X){return O.apply(this,arguments)})(w.auth).then(Ge=>{if(!_&&$s(window.grecaptcha))q(Ge,X,Pe);else{if(typeof window>"u")return void Pe(new Error("RecaptchaVerifier is only supported in browser"));Qu("https://www.google.com/recaptcha/enterprise.js?render="+Ge).then(()=>{q(Ge,X,Pe)}).catch(it=>{Pe(it)})}}).catch(Ge=>{Pe(Ge)})})})()}}function io(b,m,_){return rl.apply(this,arguments)}function rl(){return(rl=(0,d.Z)(function*(b,m,_,w=!1){const A=new il(b);let O;try{O=yield A.verify(_)}catch{O=yield A.verify(_,!0)}const q=Object.assign({},m);return Object.assign(q,w?{captchaResp:O}:{captchaResponse:O}),Object.assign(q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),q})).apply(this,arguments)}class wo{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const w=O=>new Promise((q,X)=>{try{q(m(O))}catch(Pe){X(Pe)}});w.onAbort=_,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,d.Z)(function*(){if(_.auth.currentUser===m)return;const w=[];try{for(const A of _.queue)yield A(m),A.onAbort&&w.push(A.onAbort)}catch(A){w.reverse();for(const O of w)try{O()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class ol{constructor(m,_,w,A){this.app=m,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=w,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ro(this),this.idTokenSubscription=new ro(this),this.beforeStateQueue=new wo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(m,_){var w=this;return _&&(this._popupRedirectResolver=At(_)),this._initializationPromise=this.queue((0,d.Z)(function*(){var A,O;if(!w._deleted&&(w.persistenceManager=yield z.create(w,m),!w._deleted)){if(null!==(A=w._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,d.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,d.Z)(function*(){var w;const A=yield _.assertedPersistence.getCurrentUser();let O=A,q=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const X=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,Pe=O?._redirectEventId,Ge=yield _.tryRedirectSignIn(m);(!X||X===Pe)&&Ge?.user&&(O=Ge.user,q=!0)}if(!O)return _.directlySetCurrentUser(null);if(!O._redirectEventId){if(q)try{yield _.beforeStateQueue.runMiddleware(O)}catch(X){O=A,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(X))}return O?_.reloadAndSetCurrentUserOrClear(O):_.directlySetCurrentUser(null)}return Y(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===O._redirectEventId?_.directlySetCurrentUser(O):_.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(m){var _=this;return(0,d.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,d.Z)(function*(){try{yield ct(m)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function ti(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,d.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,d.Z)(function*(){const w=m?(0,B.m9)(m):null;return w&&Y(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(m,_=!1){var w=this;return(0,d.Z)(function*(){if(!w._deleted)return m&&Y(w.tenantId===m.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(m)),w.queue((0,d.Z)(function*(){yield w.directlySetCurrentUser(m),w.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,d.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,d.Z)(function*(){yield _.assertedPersistence.setPersistence(At(m))}))}initializeRecaptchaConfig(){var m=this;return(0,d.Z)(function*(){const _=yield Ho(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new dc(_);null==m.tenantId?m._agentRecaptchaConfig=w:m._tenantRecaptchaConfigs[m.tenantId]=w,w.emailPasswordEnabled&&new il(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new B.LL("auth","Firebase",m())}onAuthStateChanged(m,_,w){return this.registerStateListener(this.authStateSubscription,m,_,w)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,w){return this.registerStateListener(this.idTokenSubscription,m,_,w)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var w=this;return(0,d.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(_);return null===m?A.removeCurrentUser():A.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,d.Z)(function*(){if(!_.redirectPersistenceManager){const w=m&&At(m)||_._popupRedirectResolver;Y(w,_,"argument-error"),_.redirectPersistenceManager=yield z.create(_,[At(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,d.Z)(function*(){var w,A;return _._isInitialized&&(yield _.queue((0,d.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===m?_._currentUser:(null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,d.Z)(function*(){if(m===_.currentUser)return _.queue((0,d.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,w,A){if(this._deleted)return()=>{};const O="function"==typeof _?_:_.next.bind(_),q=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(q,this,"internal-error"),q.then(()=>O(this.currentUser)),"function"==typeof _?m.addObserver(_,w,A):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,d.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Ff(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,d.Z)(function*(){var _;const w={"X-Client-Version":m.clientVersion};m.app.options.appId&&(w["X-Firebase-gmpid"]=m.app.options.appId);const A=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();A&&(w["X-Firebase-Client"]=A);const O=yield m._getAppCheckToken();return O&&(w["X-Firebase-AppCheck"]=O),w})()}_getAppCheckToken(){var m=this;return(0,d.Z)(function*(){var _;const w=yield null===(_=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return w?.error&&function pt(b,...m){mt.logLevel<=te.in.WARN&&mt.warn(`Auth (${oe.SDK_VERSION}): ${b}`,...m)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function zn(b){return(0,B.m9)(b)}class ro{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gr(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function sl(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class ba{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return qe("not implemented")}_getIdTokenResponse(m){return qe("not implemented")}_linkToIdToken(m,_){return qe("not implemented")}_getReauthenticationResolver(m){return qe("not implemented")}}function Bf(b,m){return al.apply(this,arguments)}function al(){return(al=(0,d.Z)(function*(b,m){return Ie(b,"POST","/v1/accounts:resetPassword",we(b,m))})).apply(this,arguments)}function cl(b,m){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,d.Z)(function*(b,m){return Ie(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Gs(){return(Gs=(0,d.Z)(function*(b,m){return Ie(b,"POST","/v1/accounts:update",we(b,m))})).apply(this,arguments)}function ll(b,m){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,d.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:signInWithPassword",we(b,m))})).apply(this,arguments)}function xd(b,m){return wa.apply(this,arguments)}function wa(){return(wa=(0,d.Z)(function*(b,m){return Ie(b,"POST","/v1/accounts:sendOobCode",we(b,m))})).apply(this,arguments)}function fs(){return(fs=(0,d.Z)(function*(b,m){return xd(b,m)})).apply(this,arguments)}function dl(b,m){return ul.apply(this,arguments)}function ul(){return(ul=(0,d.Z)(function*(b,m){return xd(b,m)})).apply(this,arguments)}function Ed(b,m){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,d.Z)(function*(b,m){return xd(b,m)})).apply(this,arguments)}function ui(){return(ui=(0,d.Z)(function*(b,m){return xd(b,m)})).apply(this,arguments)}function Ti(){return(Ti=(0,d.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:signInWithEmailLink",we(b,m))})).apply(this,arguments)}function uc(){return(uc=(0,d.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:signInWithEmailLink",we(b,m))})).apply(this,arguments)}class $o extends ba{constructor(m,_,w,A=null){super("password",w),this._email=m,this._password=_,this._tenantId=A}static _fromEmailAndPassword(m,_){return new $o(m,_,"password")}static _fromEmailAndCode(m,_,w=null){return new $o(m,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,d.Z)(function*(){var w;switch(_.signInMethod){case"password":const A={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=m._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const O=yield io(m,A,"signInWithPassword");return ll(m,O)}return ll(m,A).catch(function(){var O=(0,d.Z)(function*(q){if("auth/missing-recaptcha-token"===q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const X=yield io(m,A,"signInWithPassword");return ll(m,X)}return Promise.reject(q)});return function(q){return O.apply(this,arguments)}}());case"emailLink":return function qs(b,m){return Ti.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:xe(m,"internal-error")}})()}_linkToIdToken(m,_){var w=this;return(0,d.Z)(function*(){switch(w.signInMethod){case"password":return cl(m,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Cd(b,m){return uc.apply(this,arguments)}(m,{idToken:_,email:w._email,oobCode:w._password});default:xe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Gr(b,m){return hc.apply(this,arguments)}function hc(){return(hc=(0,d.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:signInWithIdp",we(b,m))})).apply(this,arguments)}class Ze extends ba{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new Ze(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):xe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:A}=_,O=(0,fe._T)(_,["providerId","signInMethod"]);if(!w||!A)return null;const q=new Ze(w,A);return q.idToken=O.idToken||void 0,q.accessToken=O.accessToken||void 0,q.secret=O.secret,q.nonce=O.nonce,q.pendingToken=O.pendingToken||null,q}_getIdTokenResponse(m){return Gr(m,this.buildRequest())}_linkToIdToken(m,_){const w=this.buildRequest();return w.idToken=_,Gr(m,w)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Gr(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,B.xO)(_)}return m}}function xn(){return(xn=(0,d.Z)(function*(b,m){return Ie(b,"POST","/v1/accounts:sendVerificationCode",we(b,m))})).apply(this,arguments)}function Ws(){return(Ws=(0,d.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:signInWithPhoneNumber",we(b,m))})).apply(this,arguments)}function Di(){return(Di=(0,d.Z)(function*(b,m){const _=yield vt(b,"POST","/v1/accounts:signInWithPhoneNumber",we(b,m));if(_.temporaryProof)throw cn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Gn={USER_NOT_FOUND:"user-not-found"};function Zs(){return(Zs=(0,d.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:signInWithPhoneNumber",we(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Gn)})).apply(this,arguments)}class It extends ba{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new It({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new It({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function qr(b,m){return Ws.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function _r(b,m){return Di.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function ms(b,m){return Zs.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:w,verificationCode:A}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:w,code:A}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:w,phoneNumber:A,temporaryProof:O}=m;return w||_||A||O?new It({verificationId:_,verificationCode:w,phoneNumber:A,temporaryProof:O}):null}}class xo{constructor(m){var _,w,A,O,q,X;const Pe=(0,B.zd)((0,B.pd)(m)),Ge=null!==(_=Pe.apiKey)&&void 0!==_?_:null,it=null!==(w=Pe.oobCode)&&void 0!==w?w:null,st=function xa(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Pe.mode)&&void 0!==A?A:null);Y(Ge&&it&&st,"argument-error"),this.apiKey=Ge,this.operation=st,this.code=it,this.continueUrl=null!==(O=Pe.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(q=Pe.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(X=Pe.tenantId)&&void 0!==X?X:null}static parseLink(m){const _=function hl(b){const m=(0,B.zd)((0,B.pd)(b)).link,_=m?(0,B.zd)((0,B.pd)(m)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(b)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||_||m||b}(m);try{return new xo(_)}catch{return null}}}let fc=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return $o._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const A=xo.parseLink(w);return Y(A,"argument-error"),$o._fromEmailAndCode(_,A.code,A.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class tr{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class nr extends tr{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Go extends nr{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return Y("providerId"in _&&"signInMethod"in _,"argument-error"),Ze._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Y(m.idToken||m.accessToken,"argument-error"),Ze._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Go.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Go.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:O,nonce:q,providerId:X}=m;if(!w&&!A&&!_&&!O||!X)return null;try{return new Go(X)._credential({idToken:_,accessToken:w,nonce:q,pendingToken:O})}catch{return null}}}let Id=(()=>{class b extends nr{constructor(){super("facebook.com")}static credential(_){return Ze._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Eo=(()=>{class b extends nr{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Ze._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:A}=_;if(!w&&!A)return null;try{return b.credential(w,A)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),ps=(()=>{class b extends nr{constructor(){super("github.com")}static credential(_){return Ze._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class gs extends ba{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Gr(m,this.buildRequest())}_linkToIdToken(m,_){const w=this.buildRequest();return w.idToken=_,Gr(m,w)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Gr(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:A,pendingToken:O}=_;return w&&A&&O&&w===A?new gs(w,O):null}static _create(m,_){return new gs(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class th extends tr{constructor(m){Y(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return th.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return th.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=gs.fromJSON(m);return Y(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:w}=m;if(!_||!w)return null;try{return gs._create(w,_)}catch{return null}}}let mc=(()=>{class b extends nr{constructor(){super("twitter.com")}static credential(_,w){return Ze._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=_;if(!w||!A)return null;try{return b.credential(w,A)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Ks(b,m){return kr.apply(this,arguments)}function kr(){return(kr=(0,d.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:signUp",we(b,m))})).apply(this,arguments)}class Mr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,w,A=!1){return(0,d.Z)(function*(){const O=yield nt._fromIdTokenResponse(m,w,A),q=_s(w);return new Mr({user:O,providerId:q,_tokenResponse:w,operationType:_})})()}static _forOperation(m,_,w){return(0,d.Z)(function*(){yield m._updateTokensIfNecessary(w,!0);const A=_s(w);return new Mr({user:m,providerId:A,_tokenResponse:w,operationType:_})})()}}function _s(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function hi(){return(hi=(0,d.Z)(function*(b){var m;const _=zn(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new Mr({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield Ks(_,{returnSecureToken:!0}),A=yield Mr._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class Uf extends B.ZR{constructor(m,_,w,A){var O;super(_.code,_.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,Uf.prototype),this.customData={appName:m.name,tenantId:null!==(O=m.tenantId)&&void 0!==O?O:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(m,_,w,A){return new Uf(m,_,w,A)}}function Rr(b,m,_,w){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Uf._fromErrorAndOperation(b,O,m,w):O})}function Si(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Ca(){return Ca=(0,d.Z)(function*(b,m){const _=(0,B.m9)(b);yield Ia(!0,_,m);const{providerUserInfo:w}=yield function Qi(b,m){return to.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),A=Si(w||[]);return _.providerData=_.providerData.filter(O=>A.has(O.providerId)),A.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Ca.apply(this,arguments)}function ml(b,m){return vr.apply(this,arguments)}function vr(){return(vr=(0,d.Z)(function*(b,m,_=!1){const w=yield xi(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return Mr._forOperation(b,"link",w)})).apply(this,arguments)}function Ia(b,m,_){return nh.apply(this,arguments)}function nh(){return(nh=(0,d.Z)(function*(b,m,_){yield ct(m);const A=!1===b?"provider-already-linked":"no-such-provider";Y(Si(m.providerData).has(_)===b,m.auth,A)})).apply(this,arguments)}function ng(b,m){return ig.apply(this,arguments)}function ig(){return(ig=(0,d.Z)(function*(b,m,_=!1){const{auth:w}=b,A="reauthenticate";try{const O=yield xi(b,Rr(w,A,m,b),_);Y(O.idToken,w,"internal-error");const q=$t(O.idToken);Y(q,w,"internal-error");const{sub:X}=q;return Y(b.uid===X,w,"user-mismatch"),Mr._forOperation(b,A,O)}catch(O){throw"auth/user-not-found"===O?.code&&xe(w,"user-mismatch"),O}})).apply(this,arguments)}function Hf(b,m){return pl.apply(this,arguments)}function pl(){return(pl=(0,d.Z)(function*(b,m,_=!1){const w="signIn",A=yield Rr(b,w,m),O=yield Mr._fromIdTokenResponse(b,w,A);return _||(yield b._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Td(b,m){return rg.apply(this,arguments)}function rg(){return(rg=(0,d.Z)(function*(b,m){return Hf(zn(b),m)})).apply(this,arguments)}function og(b,m){return qn.apply(this,arguments)}function qn(){return(qn=(0,d.Z)(function*(b,m){const _=(0,B.m9)(b);return yield Ia(!1,_,m.providerId),ml(_,m)})).apply(this,arguments)}function Wr(b,m){return sg.apply(this,arguments)}function sg(){return(sg=(0,d.Z)(function*(b,m){return ng((0,B.m9)(b),m)})).apply(this,arguments)}function ag(){return(ag=(0,d.Z)(function*(b,m){return vt(b,"POST","/v1/accounts:signInWithCustomToken",we(b,m))})).apply(this,arguments)}function cg(){return cg=(0,d.Z)(function*(b,m){const _=zn(b),w=yield function J0(b,m){return ag.apply(this,arguments)}(_,{token:m,returnSecureToken:!0}),A=yield Mr._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(A.user),A}),cg.apply(this,arguments)}class gl{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?lg._fromServerResponse(m,_):"totpInfo"in _?ih._fromServerResponse(m,_):xe(m,"internal-error")}}class lg extends gl{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new lg(_)}}class ih extends gl{constructor(m){super("totp",m)}static _fromServerResponse(m,_){return new ih(_)}}function Ys(b,m,_){var w;Y((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),Y(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Y(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(Y(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function rh(){return rh=(0,d.Z)(function*(b,m,_){var w;const A=zn(b),O={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=A._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const q=yield io(A,O,"getOobCode",!0);_&&Ys(A,q,_),yield dl(A,q)}else _&&Ys(A,O,_),yield dl(A,O).catch(function(){var q=(0,d.Z)(function*(X){if("auth/missing-recaptcha-token"!==X.code)return Promise.reject(X);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pe=yield io(A,O,"getOobCode",!0);_&&Ys(A,Pe,_),yield dl(A,Pe)}});return function(X){return q.apply(this,arguments)}}())}),rh.apply(this,arguments)}function Qs(){return(Qs=(0,d.Z)(function*(b,m,_){yield Bf((0,B.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function _l(){return _l=(0,d.Z)(function*(b,m){yield function er(b,m){return Gs.apply(this,arguments)}((0,B.m9)(b),{oobCode:m})}),_l.apply(this,arguments)}function tw(b,m){return ii.apply(this,arguments)}function ii(){return(ii=(0,d.Z)(function*(b,m){const _=(0,B.m9)(b),w=yield Bf(_,{oobCode:m}),A=w.requestType;switch(Y(A,_,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(w.mfaInfo,_,"internal-error");default:Y(w.email,_,"internal-error")}let O=null;return w.mfaInfo&&(O=gl._fromServerResponse(zn(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:A}})).apply(this,arguments)}function yr(){return(yr=(0,d.Z)(function*(b,m){const{data:_}=yield tw((0,B.m9)(b),m);return _.email})).apply(this,arguments)}function oh(){return oh=(0,d.Z)(function*(b,m,_){var w;const A=zn(b),O={returnSecureToken:!0,email:m,password:_,clientType:"CLIENT_TYPE_WEB"};let q;if(null!==(w=A._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Ge=yield io(A,O,"signUpPassword");q=Ks(A,Ge)}else q=Ks(A,O).catch(function(){var Ge=(0,d.Z)(function*(it){if("auth/missing-recaptcha-token"===it.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const st=yield io(A,O,"signUpPassword");return Ks(A,st)}return Promise.reject(it)});return function(it){return Ge.apply(this,arguments)}}());const X=yield q.catch(Ge=>Promise.reject(Ge)),Pe=yield Mr._fromIdTokenResponse(A,"signIn",X);return yield A._updateCurrentUser(Pe.user),Pe}),oh.apply(this,arguments)}function Sd(){return Sd=(0,d.Z)(function*(b,m,_){var w;const A=zn(b),O={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function q(X,Pe){Y(Pe.handleCodeInApp,A,"argument-error"),Pe&&Ys(A,X,Pe)}if(null!==(w=A._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const X=yield io(A,O,"getOobCode",!0);q(X,_),yield Ed(A,X)}else q(O,_),yield Ed(A,O).catch(function(){var X=(0,d.Z)(function*(Pe){if("auth/missing-recaptcha-token"!==Pe.code)return Promise.reject(Pe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ge=yield io(A,O,"getOobCode",!0);q(Ge,_),yield Ed(A,Ge)}});return function(Pe){return X.apply(this,arguments)}}())}),Sd.apply(this,arguments)}function Ad(){return(Ad=(0,d.Z)(function*(b,m,_){const w=(0,B.m9)(b),A=fc.credentialWithLink(m,_||bn());return Y(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Td(w,A)})).apply(this,arguments)}function pc(){return(pc=(0,d.Z)(function*(b,m){return Ie(b,"POST","/v1/accounts:createAuthUri",we(b,m))})).apply(this,arguments)}function vl(){return vl=(0,d.Z)(function*(b,m){const w={identifier:m,continueUri:Vn()?bn():"http://localhost"},{signinMethods:A}=yield function hg(b,m){return pc.apply(this,arguments)}((0,B.m9)(b),w);return A||[]}),vl.apply(this,arguments)}function Da(){return Da=(0,d.Z)(function*(b,m){const _=(0,B.m9)(b),A={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&Ys(_.auth,A,m);const{email:O}=yield function eh(b,m){return fs.apply(this,arguments)}(_.auth,A);O!==b.email&&(yield b.reload())}),Da.apply(this,arguments)}function Wf(){return Wf=(0,d.Z)(function*(b,m,_){const w=(0,B.m9)(b),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&Ys(w.auth,O,_);const{email:q}=yield function $n(b,m){return ui.apply(this,arguments)}(w.auth,O);q!==b.email&&(yield b.reload())}),Wf.apply(this,arguments)}function Kv(){return(Kv=(0,d.Z)(function*(b,m){return Ie(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Kf(){return Kf=(0,d.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const w=(0,B.m9)(b),O={idToken:yield w.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},q=yield xi(w,function nw(b,m){return Kv.apply(this,arguments)}(w.auth,O));w.displayName=q.displayName||null,w.photoURL=q.photoUrl||null;const X=w.providerData.find(({providerId:Pe})=>"password"===Pe);X&&(X.displayName=w.displayName,X.photoURL=w.photoURL),yield w._updateTokensIfNecessary(q)}),Kf.apply(this,arguments)}function kd(b,m,_){return ah.apply(this,arguments)}function ah(){return(ah=(0,d.Z)(function*(b,m,_){const{auth:w}=b,O={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(O.email=m),_&&(O.password=_);const q=yield xi(b,cl(w,O));yield b._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class Md{constructor(m,_,w={}){this.isNewUser=m,this.providerId=_,this.profile=w}}class bl extends Md{constructor(m,_,w,A){super(m,_,w),this.username=A}}class Qf extends Md{constructor(m,_){super(m,"facebook.com",_)}}class ch extends bl{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class gc extends Md{constructor(m,_){super(m,"google.com",_)}}class Sa extends bl{constructor(m,_,w){super(m,"twitter.com",_,w)}}function pg(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Yf(b){var m,_;if(!b)return null;const{providerId:w}=b,A=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},O=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const q=null===(_=null===(m=$t(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(q)return new Md(O,"anonymous"!==q&&"custom"!==q?q:null)}if(!w)return null;switch(w){case"facebook.com":return new Qf(O,A);case"github.com":return new ch(O,A);case"google.com":return new gc(O,A);case"twitter.com":return new Sa(O,A,b.screenName||null);case"custom":case"anonymous":return new Md(O,null);default:return new Md(O,w,A)}}(_)}class ys{constructor(m,_,w){this.type=m,this.credential=_,this.auth=w}static _fromIdtoken(m,_){return new ys("enroll",m,_)}static _fromMfaPendingCredential(m){return new ys("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,w;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return ys._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(w=m.multiFactorSession)&&void 0!==w&&w.idToken)return ys._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Aa{constructor(m,_,w){this.session=m,this.hints=_,this.signInResolver=w}static _fromError(m,_){const w=zn(m),A=_.customData._serverResponse,O=(A.mfaInfo||[]).map(X=>gl._fromServerResponse(w,X));Y(A.mfaPendingCredential,w,"internal-error");const q=ys._fromMfaPendingCredential(A.mfaPendingCredential);return new Aa(q,O,function(){var X=(0,d.Z)(function*(Pe){const Ge=yield Pe._process(w,q);delete A.mfaInfo,delete A.mfaPendingCredential;const it=Object.assign(Object.assign({},A),{idToken:Ge.idToken,refreshToken:Ge.refreshToken});switch(_.operationType){case"signIn":const st=yield Mr._fromIdTokenResponse(w,_.operationType,it);return yield w._updateCurrentUser(st.user),st;case"reauthenticate":return Y(_.user,w,"internal-error"),Mr._forOperation(_.user,_.operationType,it);default:xe(w,"internal-error")}});return function(Pe){return X.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,d.Z)(function*(){return _.signInResolver(m)})()}}class _c{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>gl._fromServerResponse(m.auth,w)))})}static _fromUser(m){return new _c(m)}getSession(){var m=this;return(0,d.Z)(function*(){return ys._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var w=this;return(0,d.Z)(function*(){const A=m,O=yield w.getSession(),q=yield xi(w.user,A._process(w.user.auth,O,_));return yield w.user._updateTokensIfNecessary(q),w.user.reload()})()}unenroll(m){var _=this;return(0,d.Z)(function*(){const w="string"==typeof m?m:m.uid,A=yield _.user.getIdToken();try{const O=yield xi(_.user,function tm(b,m){return Ie(b,"POST","/v2/accounts/mfaEnrollment:withdraw",we(b,m))}(_.user.auth,{idToken:A,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:q})=>q!==w),yield _.user._updateTokensIfNecessary(O),yield _.user.reload()}catch(O){throw O}})()}}const fn=new WeakMap,ka="__sak";class Or{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ka,"1"),this.storage.removeItem(ka),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Nd=(()=>{class b extends Or{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Cl(){const b=(0,B.z$)();return se(b)||Bt(b)}()&&function eg(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ku(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),O=this.localCache[w];A!==O&&_(w,O,A)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((X,Pe,Ge)=>{this.notifyListeners(X,Ge)});const A=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const X=this.storage.getItem(A);if(_.newValue!==X)null!==_.newValue?this.storage.setItem(A,_.newValue):this.storage.removeItem(A);else if(this.localCache[A]===_.newValue&&!w)return}const O=()=>{const X=this.storage.getItem(A);!w&&this.localCache[A]===X||this.notifyListeners(A,X)},q=this.storage.getItem(A);!function no(){return(0,B.w1)()&&10===document.documentMode}()||q===_.newValue||_.newValue===_.oldValue?O():setTimeout(O,10)}notifyListeners(_,w){this.localCache[_]=w;const A=this.listeners[_];if(A)for(const O of Array.from(A))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var A=()=>super._set,O=this;return(0,d.Z)(function*(){yield A().call(O,_,w),O.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,A=this;return(0,d.Z)(function*(){const O=yield w().call(A,_);return A.localCache[_]=JSON.stringify(O),O})()}_remove(_){var w=()=>super._remove,A=this;return(0,d.Z)(function*(){yield w().call(A,_),delete A.localCache[_]})()}}return b.type="LOCAL",b})(),ea=(()=>{class b extends Or{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let im=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(O=>O.isListeningto(_));if(w)return w;const A=new b(_);return this.receivers.push(A),A}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,d.Z)(function*(){const A=_,{eventId:O,eventType:q,data:X}=A.data,Pe=w.handlersMap[q];if(!Pe?.size)return;A.ports[0].postMessage({status:"ack",eventId:O,eventType:q});const Ge=Array.from(Pe).map(function(){var st=(0,d.Z)(function*(oi){return oi(A.origin,X)});return function(oi){return st.apply(this,arguments)}}()),it=yield function Wo(b){return Promise.all(b.map(function(){var m=(0,d.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return m.apply(this,arguments)}}()))}(Ge);A.ports[0].postMessage({status:"done",eventId:O,eventType:q,response:it})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Pd(b="",m=10){let _="";for(let w=0;w<m;w++)_+=Math.floor(10*Math.random());return b+_}class _g{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,w=50){var A=this;return(0,d.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let q,X;return new Promise((Pe,Ge)=>{const it=Pd("",20);O.port1.start();const st=setTimeout(()=>{Ge(new Error("unsupported_event"))},w);X={messageChannel:O,onMessage(oi){const So=oi;if(So.data.eventId===it)switch(So.data.status){case"ack":clearTimeout(st),q=setTimeout(()=>{Ge(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Pe(So.data.response);break;default:clearTimeout(st),clearTimeout(q),Ge(new Error("invalid_response"))}}},A.handlers.add(X),O.port1.addEventListener("message",X.onMessage),A.target.postMessage({eventType:m,eventId:it,data:_},[O.port2])}).finally(()=>{X&&A.removeMessageHandler(X)})})()}}function En(){return window}function Il(){return typeof En().WorkerGlobalScope<"u"&&"function"==typeof En().importScripts}function vc(){return(vc=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const rm="firebaseLocalStorageDb",ta="firebaseLocalStorage",na="fbase_key";class fi{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Ld(b,m){return b.transaction([ta],m?"readwrite":"readonly").objectStore(ta)}function gh(){const b=indexedDB.open(rm,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(ta,{keyPath:na})}catch(A){_(A)}}),b.addEventListener("success",(0,d.Z)(function*(){const w=b.result;w.objectStoreNames.contains(ta)?m(w):(w.close(),yield function om(){const b=indexedDB.deleteDatabase(rm);return new fi(b).toPromise()}(),m(yield gh()))}))})}function Tl(b,m,_){return Se.apply(this,arguments)}function Se(){return(Se=(0,d.Z)(function*(b,m,_){const w=Ld(b,!0).put({[na]:m,value:_});return new fi(w).toPromise()})).apply(this,arguments)}function yc(){return(yc=(0,d.Z)(function*(b,m){const _=Ld(b,!1).get(m),w=yield new fi(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Dl(b,m){const _=Ld(b,!0).delete(m);return new fi(_).toPromise()}const Nr=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.Z)(function*(){return _.db||(_.db=yield gh()),_.db})()}_withRetries(_){var w=this;return(0,d.Z)(function*(){let A=0;for(;;)try{const O=yield w._openDb();return yield _(O)}catch(O){if(A++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.Z)(function*(){return Il()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.Z)(function*(){_.receiver=im._getInstance(function ph(){return Il()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,d.Z)(function*(A,O){return{keyProcessed:(yield _._poll()).includes(O.key)}});return function(A,O){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,d.Z)(function*(A,O){return["keyChanged"]});return function(A,O){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.Z)(function*(){var w,A;if(_.activeServiceWorker=yield function kt(){return vc.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new _g(_.activeServiceWorker);const O=yield _.sender._send("ping",{},800);O&&null!==(w=O[0])&&void 0!==w&&w.fulfilled&&null!==(A=O[0])&&void 0!==A&&A.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,d.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function mh(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const _=yield gh();return yield Tl(_,ka,"1"),yield Dl(_,ka),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,d.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var A=this;return(0,d.Z)(function*(){return A._withPendingWrite((0,d.Z)(function*(){return yield A._withRetries(O=>Tl(O,_,w)),A.localCache[_]=w,A.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,d.Z)(function*(){const A=yield w._withRetries(O=>function Ut(b,m){return yc.apply(this,arguments)}(O,_));return w.localCache[_]=A,A})()}_remove(_){var w=this;return(0,d.Z)(function*(){return w._withPendingWrite((0,d.Z)(function*(){return yield w._withRetries(A=>Dl(A,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.Z)(function*(){const w=yield _._withRetries(q=>{const X=Ld(q,!1).getAll();return new fi(X).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const A=[],O=new Set;for(const{fbase_key:q,value:X}of w)O.add(q),JSON.stringify(_.localCache[q])!==JSON.stringify(X)&&(_.notifyListeners(q,X),A.push(q));for(const q of Object.keys(_.localCache))_.localCache[q]&&!O.has(q)&&(_.notifyListeners(q,null),A.push(q));return A})()}notifyListeners(_,w){this.localCache[_]=w;const A=this.listeners[_];if(A)for(const O of Array.from(A))O(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Ai=1e12;class Zo{constructor(m){this.auth=m,this.counter=Ai,this._widgets=new Map}render(m,_){const w=this.counter;return this._widgets.set(w,new vg(m,this.auth.name,_||{})),this.counter++,w}reset(m){var _;const w=m||Ai;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Ai))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,d.Z)(function*(){var w;return null===(w=_._widgets.get(m||Ai))||void 0===w||w.execute(),""})()}}class vg{constructor(m,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof m?document.getElementById(m):m;Y(A,"argument-error",{appName:_}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ko(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)m.push(_.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Io=bo("rcb"),yh=new mr(3e4,6e4);class Qv{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=En().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return Y(function Xv(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)&&Qt(En().grecaptcha)?Promise.resolve(En().grecaptcha):new Promise((w,A)=>{const O=En().setTimeout(()=>{A(re(m,"network-request-failed"))},yh.get());En()[Io]=()=>{En().clearTimeout(O),delete En()[Io];const X=En().grecaptcha;if(!X||!Qt(X))return void A(re(m,"internal-error"));const Pe=X.render;X.render=(Ge,it)=>{const st=Pe(Ge,it);return this.counter++,st},this.hostLanguage=_,w(X)},Qu(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Io,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(O),A(re(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=En().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class am{load(m){return(0,d.Z)(function*(){return new Zo(m)})()}clearedOneInstance(){}}const jd="recaptcha",yg={theme:"light",type:"image"};class Hd{constructor(m,_=Object.assign({},yg),w){this.parameters=_,this.type=jd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zn(w),this.isInvisible="invisible"===this.parameters.size,Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof m?document.getElementById(m):m;Y(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new am:new Qv,this.validateStartingState()}verify(){var m=this;return(0,d.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),w=m.getAssertedRecaptcha();return w.getResponse(_)||new Promise(O=>{const q=X=>{X&&(m.tokenChangeListeners.delete(q),O(X))};m.tokenChangeListeners.add(q),m.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof m)m(_);else if("string"==typeof m){const w=En()[m];"function"==typeof w&&w(_)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,d.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,d.Z)(function*(){Y(Vn()&&!Il(),m.auth,"internal-error"),yield function Jv(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function $r(b){return va.apply(this,arguments)}(m.auth);Y(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ei{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=It._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function zd(){return(zd=(0,d.Z)(function*(b,m,_){const w=zn(b),A=yield wc(w,m,(0,B.m9)(_));return new Ei(A,O=>Td(w,O))})).apply(this,arguments)}function ot(){return(ot=(0,d.Z)(function*(b,m,_){const w=(0,B.m9)(b);yield Ia(!1,w,"phone");const A=yield wc(w.auth,m,(0,B.m9)(_));return new Ei(A,O=>og(w,O))})).apply(this,arguments)}function bc(){return(bc=(0,d.Z)(function*(b,m,_){const w=(0,B.m9)(b),A=yield wc(w.auth,m,(0,B.m9)(_));return new Ei(A,O=>Wr(w,O))})).apply(this,arguments)}function wc(b,m,_){return wh.apply(this,arguments)}function wh(){return wh=(0,d.Z)(function*(b,m,_){var w;const A=yield _.verify();try{let O;if(Y("string"==typeof A,b,"argument-error"),Y(_.type===jd,b,"argument-error"),O="string"==typeof m?{phoneNumber:m}:m,"session"in O){const q=O.session;if("phoneNumber"in O)return Y("enroll"===q.type,b,"internal-error"),(yield function Od(b,m){return Ie(b,"POST","/v2/accounts/mfaEnrollment:start",we(b,m))}(b,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{Y("signin"===q.type,b,"internal-error");const X=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return Y(X,b,"missing-multi-factor-info"),(yield function Vd(b,m){return Ie(b,"POST","/v2/accounts/mfaSignIn:start",we(b,m))}(b,{mfaPendingCredential:q.credential,mfaEnrollmentId:X,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield function Vt(b,m){return xn.apply(this,arguments)}(b,{phoneNumber:O.phoneNumber,recaptchaToken:A});return q}}finally{_._reset()}}),wh.apply(this,arguments)}function Yo(){return(Yo=(0,d.Z)(function*(b,m){yield ml((0,B.m9)(b),m)})).apply(this,arguments)}let Tn=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=zn(_)}verifyPhoneNumber(_,w){return wc(this.auth,_,(0,B.m9)(w))}static credential(_,w){return It._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:A}=_;return w&&A?It._fromTokenResponse(w,A):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Pr(b,m){return m?At(m):(Y(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class ft extends ba{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Gr(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Gr(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Gr(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function xh(b){return Hf(b.auth,new ft(b),b.bypassAuthState)}function bg(b){const{auth:m,user:_}=b;return Y(_,m,"internal-error"),ng(_,new ft(b),b.bypassAuthState)}function Eh(b){return ws.apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(b){const{auth:m,user:_}=b;return Y(_,m,"internal-error"),ml(_,new ft(b),b.bypassAuthState)})).apply(this,arguments)}class Ma{constructor(m,_,w,A,O=!1){this.auth=m,this.resolver=w,this.user=A,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,d.Z)(function*(w,A){m.pendingPromise={resolve:w,reject:A};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(O){m.reject(O)}});return function(w,A){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,d.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:O,tenantId:q,error:X,type:Pe}=m;if(X)return void _.reject(X);const Ge={auth:_.auth,requestUri:w,sessionId:A,tenantId:q||void 0,postBody:O||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Pe)(Ge))}catch(it){_.reject(it)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return xh;case"linkViaPopup":case"linkViaRedirect":return Eh;case"reauthViaPopup":case"reauthViaRedirect":return bg;default:xe(this.auth,"internal-error")}}resolve(m){_t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){_t(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const An=new mr(2e3,1e4);function To(){return(To=(0,d.Z)(function*(b,m,_){const w=zn(b);Be(b,m,tr);const A=Pr(w,_);return new Ra(w,"signInViaPopup",m,A).executeNotNull()})).apply(this,arguments)}function xc(){return(xc=(0,d.Z)(function*(b,m,_){const w=(0,B.m9)(b);Be(w.auth,m,tr);const A=Pr(w.auth,_);return new Ra(w.auth,"reauthViaPopup",m,A,w).executeNotNull()})).apply(this,arguments)}function xs(){return(xs=(0,d.Z)(function*(b,m,_){const w=(0,B.m9)(b);Be(w.auth,m,tr);const A=Pr(w.auth,_);return new Ra(w.auth,"linkViaPopup",m,A,w).executeNotNull()})).apply(this,arguments)}let Ra=(()=>{class b extends Ma{constructor(_,w,A,O,q){super(_,w,O,q),this.provider=A,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.Z)(function*(){const w=yield _.execute();return Y(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,d.Z)(function*(){_t(1===_.filter.length,"Popup operations only handle one event");const w=Pd();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(A=>{_.reject(A)}),_.resolver._isIframeWebStorageSupported(_.auth,A=>{A||_.reject(re(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,A;this.pollId=null!==(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(re(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,An.get())};_()}}return b.currentPopupAction=null,b})();const ey="pendingRedirect",rr=new Map;class Es extends Ma{constructor(m,_,w=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,d.Z)(function*(){let w=rr.get(_.auth._key());if(!w){try{const O=(yield function lm(b,m){return dm.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;w=()=>Promise.resolve(O)}catch(A){w=()=>Promise.reject(A)}rr.set(_.auth._key(),w)}return _.bypassAuthState||rr.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,w=this;return(0,d.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(w,m);if("unknown"!==m.type){if(m.eventId){const A=yield w.auth._redirectUserForId(m.eventId);if(A)return w.user=A,_().call(w,m);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function dm(){return(dm=(0,d.Z)(function*(b,m){const _=um(m),w=Hi(b);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(_));return yield w._remove(_),A})).apply(this,arguments)}function oo(b,m){return so.apply(this,arguments)}function so(){return(so=(0,d.Z)(function*(b,m){return Hi(b)._set(um(m),"true")})).apply(this,arguments)}function ki(b,m){rr.set(b._key(),m)}function Hi(b){return At(b._redirectPersistence)}function um(b){return $(ey,b.config.apiKey,b.name)}function yn(b,m,_){return function kn(b,m,_){return Qo.apply(this,arguments)}(b,m,_)}function Qo(){return(Qo=(0,d.Z)(function*(b,m,_){const w=zn(b);Be(b,m,tr),yield w._initializationPromise;const A=Pr(w,_);return yield oo(A,w),A._openRedirect(w,m,"signInViaRedirect")})).apply(this,arguments)}function Cs(b,m,_){return function zi(b,m,_){return Xn.apply(this,arguments)}(b,m,_)}function Xn(){return(Xn=(0,d.Z)(function*(b,m,_){const w=(0,B.m9)(b);Be(w.auth,m,tr),yield w.auth._initializationPromise;const A=Pr(w.auth,_);yield oo(A,w.auth);const O=yield qd(w);return A._openRedirect(w.auth,m,"reauthViaRedirect",O)})).apply(this,arguments)}function Ch(b,m,_){return function Sl(b,m,_){return Gd.apply(this,arguments)}(b,m,_)}function Gd(){return(Gd=(0,d.Z)(function*(b,m,_){const w=(0,B.m9)(b);Be(w.auth,m,tr),yield w.auth._initializationPromise;const A=Pr(w.auth,_);yield Ia(!1,w,m.providerId),yield oo(A,w.auth);const O=yield qd(w);return A._openRedirect(w.auth,m,"linkViaRedirect",O)})).apply(this,arguments)}function $i(){return($i=(0,d.Z)(function*(b,m){return yield zn(b)._initializationPromise,Wn(b,m,!1)})).apply(this,arguments)}function Wn(b,m){return wr.apply(this,arguments)}function wr(){return(wr=(0,d.Z)(function*(b,m,_=!1){const w=zn(b),A=Pr(w,m),q=yield new Es(w,A,_).execute();return q&&!_&&(delete q.user._redirectEventId,yield w._persistUserIfCurrent(q.user),yield w._setRedirectUser(null,m)),q})).apply(this,arguments)}function qd(b){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,d.Z)(function*(b){const m=Pd(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Wd{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(m,w)&&(_=!0,this.sendToConsumer(m,w),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Al(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ra(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var w;if(m.error&&!ra(m)){const A=(null===(w=m.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(re(this.auth,A))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const w=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&w}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zd(m))}saveEventToCache(m){this.cachedEventUids.add(Zd(m)),this.lastProcessedEventTime=Date.now()}}function Zd(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function ra({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function ao(b){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,d.Z)(function*(b,m={}){return Ie(b,"GET","/v1/projects",m)})).apply(this,arguments)}const kl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kd=/^https?/;function Ml(){return(Ml=(0,d.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield ao(b);for(const _ of m)try{if(hm(_))return}catch{}xe(b,"unauthorized-domain")})).apply(this,arguments)}function hm(b){const m=bn(),{protocol:_,hostname:w}=new URL(m);if(b.startsWith("chrome-extension://")){const q=new URL(b);return""===q.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&q.hostname===w}if(!Kd.test(_))return!1;if(kl.test(b))return w===b;const A=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const Zr=new mr(3e4,6e4);function Oa(){const b=En().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Pn=null;const Th=new mr(5e3,15e3),Cc="__/auth/iframe",xg="emulator/auth/iframe",Rl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Is(b){const m=b.config;Y(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?de(m,xg):`https://${b.config.authDomain}/${Cc}`,w={apiKey:m.apiKey,appName:b.name,v:oe.SDK_VERSION},A=Dh.get(b.config.apiHost);A&&(w.eid=A);const O=b._getFrameworks();return O.length&&(w.fw=O.join(",")),`${_}?${(0,B.xO)(w).slice(1)}`}function lo(){return lo=(0,d.Z)(function*(b){const m=yield function Ih(b){return Pn=Pn||function Yd(b){return new Promise((m,_)=>{var w,A,O;function q(){Oa(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Oa(),_(re(b,"network-request-failed"))},timeout:Zr.get()})}if(null!==(A=null===(w=En().gapi)||void 0===w?void 0:w.iframes)&&void 0!==A&&A.Iframe)m(gapi.iframes.getContext());else{if(null===(O=En().gapi)||void 0===O||!O.load){const X=bo("iframefcb");return En()[X]=()=>{gapi.load?q():_(re(b,"network-request-failed"))},Qu(`https://apis.google.com/js/api.js?onload=${X}`).catch(Pe=>_(Pe))}q()}}).catch(m=>{throw Pn=null,m})}(b),Pn}(b),_=En().gapi;return Y(_,b,"internal-error"),m.open({where:document.body,url:Is(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rl,dontclear:!0},w=>new Promise(function(){var A=(0,d.Z)(function*(O,q){yield w.restyle({setHideOnLeave:!1});const X=re(b,"network-request-failed"),Pe=En().setTimeout(()=>{q(X)},Th.get());function Ge(){En().clearTimeout(Pe),O(w)}w.ping(Ge).then(Ge,()=>{q(X)})});return function(O,q){return A.apply(this,arguments)}}()))}),lo.apply(this,arguments)}const oa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Eg{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Cg="__/auth/handler",Ic="emulator/auth/handler",Ol=encodeURIComponent("fac");function Jo(b,m,_,w,A,O){return xr.apply(this,arguments)}function xr(){return(xr=(0,d.Z)(function*(b,m,_,w,A,O){Y(b.config.authDomain,b,"auth-domain-config-required"),Y(b.config.apiKey,b,"invalid-api-key");const q={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:oe.SDK_VERSION,eventId:A};if(m instanceof tr){m.setDefaultLanguage(b.languageCode),q.providerId=m.providerId||"",(0,B.xb)(m.getCustomParameters())||(q.customParameters=JSON.stringify(m.getCustomParameters()));for(const[it,st]of Object.entries(O||{}))q[it]=st}if(m instanceof nr){const it=m.getScopes().filter(st=>""!==st);it.length>0&&(q.scopes=it.join(","))}b.tenantId&&(q.tid=b.tenantId);const X=q;for(const it of Object.keys(X))void 0===X[it]&&delete X[it];const Pe=yield b._getAppCheckToken(),Ge=Pe?`#${Ol}=${encodeURIComponent(Pe)}`:"";return`${function Ah({config:b}){return b.emulator?de(b,Ic):`https://${b.authDomain}/${Cg}`}(b)}?${(0,B.xO)(X).slice(1)}${Ge}`})).apply(this,arguments)}const Jn="webStorageSupport",Na=class Qd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ea,this._completeRedirectFn=Wn,this._overrideRedirectResult=ki}_openPopup(m,_,w,A){var O=this;return(0,d.Z)(function*(){var q;_t(null===(q=O.eventManagers[m._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const X=yield Jo(m,_,w,bn(),A);return function Kr(b,m,_,w=500,A=600){const O=Math.max((window.screen.availHeight-A)/2,0).toString(),q=Math.max((window.screen.availWidth-w)/2,0).toString();let X="";const Pe=Object.assign(Object.assign({},oa),{width:w.toString(),height:A.toString(),top:O,left:q}),Ge=(0,B.z$)().toLowerCase();_&&(X=ut(Ge)?"_blank":_),Ee(Ge)&&(m=m||"http://localhost",Pe.scrollbars="yes");const it=Object.entries(Pe).reduce((oi,[So,Nc])=>`${oi}${So}=${Nc},`,"");if(function pr(b=(0,B.z$)()){var m;return Bt(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Ge)&&"_self"!==X)return function Sh(b,m){const _=document.createElement("a");_.href=b,_.target=m;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(m||"",X),new Eg(null);const st=window.open(m||"",X,it);Y(st,b,"popup-blocked");try{st.focus()}catch{}return new Eg(st)}(m,X,Pd())})()}_openRedirect(m,_,w,A){var O=this;return(0,d.Z)(function*(){return yield O._originValidation(m),function fh(b){En().location.href=b}(yield Jo(m,_,w,bn(),A)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:A,promise:O}=this.eventManagers[_];return A?Promise.resolve(A):(_t(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(m);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(m){var _=this;return(0,d.Z)(function*(){const w=yield function Ts(b){return lo.apply(this,arguments)}(m),A=new Wd(m);return w.register("authEvent",O=>(Y(O?.authEvent,m,"invalid-auth-event"),{status:A.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:A},_.iframes[m._key()]=w,A})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Jn,{type:Jn},A=>{var O;const q=null===(O=A?.[0])||void 0===O?void 0:O[Jn];void 0!==q&&_(!!q),xe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function co(b){return Ml.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return Ku()||se()||Bt()}};class Ig{constructor(m){this.factorId=m}_process(m,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,w);case"signin":return this._finalizeSignIn(m,_.credential);default:return qe("unexpected MultiFactorSessionType")}}}class Fr extends Ig{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Fr(m)}_finalizeEnroll(m,_,w){return function hh(b,m){return Ie(b,"POST","/v2/accounts/mfaEnrollment:finalize",we(b,m))}(m,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Ud(b,m){return Ie(b,"POST","/v2/accounts/mfaSignIn:finalize",we(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Tc=(()=>{class b{constructor(){}static assertion(_){return Fr._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var ny="@firebase/auth";class rw{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,d.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(w=>{m(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);_&&(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sa(){return window}(0,B.Pz)("authIdTokenMaxAge"),function Mh(b){(0,oe._registerComponent)(new _e.wA("auth",(m,{options:_})=>{const w=m.getProvider("app").getImmediate(),A=m.getProvider("heartbeat"),O=m.getProvider("app-check-internal"),{apiKey:q,authDomain:X}=w.options;Y(q&&!q.includes(":"),"invalid-api-key",{appName:w.name});const Pe={apiKey:q,authDomain:X,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ff(b)},Ge=new ol(w,A,O,Pe);return function bd(b,m){const _=m?.persistence||[],w=(Array.isArray(_)?_:[_]).map(At);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(w,m?.popupRedirectResolver)}(Ge,_),Ge},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,w)=>{m.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new _e.wA("auth-internal",m=>{const _=zn(m.getProvider("auth").getImmediate());return new rw(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(ny,"0.23.2",function ho(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,oe.registerVersion)(ny,"0.23.2","esm2017")}("Browser");function La(){return La=(0,d.Z)(function*(b,m,_){var w;const{BuildInfo:A}=sa();_t(m.sessionId,"AuthEvent did not contain a session ID");const O=yield function Rh(b){return kc.apply(this,arguments)}(m.sessionId),q={};return Bt()?q.ibi=A.packageName:Jt()?q.apn=A.packageName:xe(b,"operation-not-supported-in-this-environment"),A.displayName&&(q.appDisplayName=A.displayName),q.sessionId=O,Jo(b,_,m.type,void 0,null!==(w=m.eventId)&&void 0!==w?w:void 0,q)}),La.apply(this,arguments)}function Ba(){return(Ba=(0,d.Z)(function*(b){const{BuildInfo:m}=sa(),_={};Bt()?_.iosBundleId=m.packageName:Jt()?_.androidPackageName=m.packageName:xe(b,"operation-not-supported-in-this-environment"),yield ao(b,_)})).apply(this,arguments)}function Ac(){return(Ac=(0,d.Z)(function*(b,m,_){const{cordova:w}=sa();let A=()=>{};try{yield new Promise((O,q)=>{let X=null;function Pe(){var st;O();const oi=null===(st=w.plugins.browsertab)||void 0===st?void 0:st.close;"function"==typeof oi&&oi(),"function"==typeof _?.close&&_.close()}function Ge(){X||(X=window.setTimeout(()=>{q(re(b,"redirect-cancelled-by-user"))},2e3))}function it(){"visible"===document?.visibilityState&&Ge()}m.addPassiveListener(Pe),document.addEventListener("resume",Ge,!1),Jt()&&document.addEventListener("visibilitychange",it,!1),A=()=>{m.removePassiveListener(Pe),document.removeEventListener("resume",Ge,!1),document.removeEventListener("visibilitychange",it,!1),X&&window.clearTimeout(X)}})}finally{A()}})).apply(this,arguments)}function kc(){return(kc=(0,d.Z)(function*(b){const m=function Mc(b){if(_t(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const m=new ArrayBuffer(b.length),_=new Uint8Array(m);for(let w=0;w<b.length;w++)_[w]=b.charCodeAt(w);return _}(b),_=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(_)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class nu extends Wd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(m)),super.onEvent(m)}initialized(){var m=this;return(0,d.Z)(function*(){yield m.initPromise})()}}function Va(b){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,d.Z)(function*(b){const m=yield ja()._get(or(b));return m&&(yield ja()._remove(or(b))),m})).apply(this,arguments)}function Ss(){const b=[];for(let _=0;_<20;_++){const w=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(w))}return b.join("")}function ja(){return At(Nd)}function or(b){return $("authEvent",b.config.apiKey,b.name)}function Ha(b){if(!b?.includes("?"))return{};const[m,..._]=b.split("?");return(0,B.zd)(_.join("?"))}const ca=class ru{constructor(){this._redirectPersistence=ea,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wn,this._overrideRedirectResult=ki}_initialize(m){var _=this;return(0,d.Z)(function*(){const w=m._key();let A=_.eventManagers.get(w);return A||(A=new nu(m),_.eventManagers.set(w,A),_.attachCallbackListeners(m,A)),A})()}_openPopup(m){xe(m,"operation-not-supported-in-this-environment")}_openRedirect(m,_,w,A){var O=this;return(0,d.Z)(function*(){!function tu(b){var m,_,w,A,O,q,X,Pe,Ge,it;const st=sa();Y("function"==typeof(null===(m=st?.universalLinks)||void 0===m?void 0:m.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Y(typeof(null===(_=st?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Y("function"==typeof(null===(O=null===(A=null===(w=st?.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===O?void 0:O.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(Pe=null===(X=null===(q=st?.cordova)||void 0===q?void 0:q.plugins)||void 0===X?void 0:X.browsertab)||void 0===Pe?void 0:Pe.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(it=null===(Ge=st?.cordova)||void 0===Ge?void 0:Ge.InAppBrowser)||void 0===it?void 0:it.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const q=yield O._initialize(m);yield q.initialized(),q.resetRedirect(),function Nn(){rr.clear()}(),yield O._originValidation(m);const X=function Fl(b,m,_=null){return{type:m,eventId:_,urlResponse:null,sessionId:Ss(),postBody:null,tenantId:b.tenantId,error:re(b,"no-auth-event")}}(m,w,A);yield function Oh(b,m){return ja()._set(or(b),m)}(m,X);const Pe=yield function Jd(b,m,_){return La.apply(this,arguments)}(m,X,_),Ge=yield function pm(b){const{cordova:m}=sa();return new Promise(_=>{m.plugins.browsertab.isAvailable(w=>{let A=null;w?m.plugins.browsertab.openUrl(b):A=m.InAppBrowser.open(b,function Gt(b=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(A)})})}(Pe);return function Pl(b,m,_){return Ac.apply(this,arguments)}(m,q,Ge)})()}_isIframeWebStorageSupported(m,_){throw new Error("Method not implemented.")}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function eu(b){return Ba.apply(this,arguments)}(m)),this.originValidationPromises[_]}attachCallbackListeners(m,_){const{universalLinks:w,handleOpenURL:A,BuildInfo:O}=sa(),q=setTimeout((0,d.Z)(function*(){yield Va(m),_.onEvent(gm())}),500),X=function(){var it=(0,d.Z)(function*(st){clearTimeout(q);const oi=yield Va(m);let So=null;oi&&st?.url&&(So=function iu(b,m){var _,w;const A=function Rc(b){const m=Ha(b),_=m.link?decodeURIComponent(m.link):void 0,w=Ha(_).link,A=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return Ha(A).link||A||w||_||b}(m);if(A.includes("/__/auth/callback")){const O=Ha(A),q=O.firebaseError?function Ll(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,X=null===(w=null===(_=q?.code)||void 0===_?void 0:_.split("auth/"))||void 0===w?void 0:w[1],Pe=X?re(X):null;return Pe?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:A,postBody:null}}return null}(oi,st.url)),_.onEvent(So||gm())});return function(oi){return it.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,X);const Pe=A,Ge=`${O.packageName.toLowerCase()}://`;sa().handleOpenURL=function(){var it=(0,d.Z)(function*(st){if(st.toLowerCase().startsWith(Ge)&&X({url:st}),"function"==typeof Pe)try{Pe(st)}catch(oi){console.error(oi)}});return function(st){return it.apply(this,arguments)}}()}};function gm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:re("no-auth-event")}}function ou(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function I(b=(0,B.z$)()){return!("file:"!==ou()&&"ionic:"!==ou()&&"capacitor:"!==ou()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function le(){try{const b=self.localStorage,m=Pd();if(b)return b.setItem(m,"1"),b.removeItem(m),!function K(b=(0,B.z$)()){return function N(){return(0,B.w1)()&&11===document?.documentMode}()||function H(b=(0,B.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,B.hl)()}catch{return Ue()&&(0,B.hl)()}return!1}function Ue(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $e(){return(function x(){return"http:"===ou()||"https:"===ou()}()||(0,B.ru)()||I())&&!function S(){return(0,B.b$)()||(0,B.UG)()}()&&le()&&!Ue()}function lt(){return I()&&typeof document<"u"}function gt(){return(gt=(0,d.Z)(function*(){return!!lt()&&new Promise(b=>{const m=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),b(!0)})})})).apply(this,arguments)}const dn={LOCAL:"local",NONE:"none",SESSION:"session"},ts=Y,Bl="persistence";function Er(b){return Do.apply(this,arguments)}function Do(){return(Do=(0,d.Z)(function*(b){yield b._initializationPromise;const m=su(),_=$(Bl,b.config.apiKey,b.name);m&&m.setItem(_,b._getPersistence())})).apply(this,arguments)}function su(){var b;try{return(null===(b=function mi(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const au=Y;class za{constructor(){this.browserResolver=At(Na),this.cordovaResolver=At(ca),this.underlyingResolver=null,this._redirectPersistence=ea,this._completeRedirectFn=Wn,this._overrideRedirectResult=ki}_initialize(m){var _=this;return(0,d.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,_,w,A){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(m,_,w,A)})()}_openRedirect(m,_,w,A){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(m,_,w,A)})()}_isIframeWebStorageSupported(m,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,_)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return lt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return au(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,d.Z)(function*(){if(m.underlyingResolver)return;const _=yield function Mt(){return gt.apply(this,arguments)}();m.underlyingResolver=_?m.cordovaResolver:m.browserResolver})()}}function vm(b){return b.unwrap()}function ym(b){return Nh(b)}function Nh(b){const{_tokenResponse:m}=b instanceof B.ZR?b.customData:b;if(!m)return null;if(!(b instanceof B.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return Tn.credentialFromResult(b);const _=m.providerId;if(!_||_===me.PASSWORD)return null;let w;switch(_){case me.GOOGLE:w=Eo;break;case me.FACEBOOK:w=Id;break;case me.GITHUB:w=ps;break;case me.TWITTER:w=mc;break;default:const{oauthIdToken:A,oauthAccessToken:O,oauthTokenSecret:q,pendingToken:X,nonce:Pe}=m;return O||q||A||X?X?_.startsWith("saml.")?gs._create(_,X):Ze._fromParams({providerId:_,signInMethod:_,pendingToken:X,idToken:A,accessToken:O}):new Go(_).credential({idToken:A,accessToken:O,rawNonce:Pe}):null}return b instanceof B.ZR?w.credentialFromError(b):w.credentialFromResult(b)}function Yr(b,m){return m.catch(_=>{throw _ instanceof B.ZR&&function kg(b,m){var _;const w=null===(_=m.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===m?.code)m.resolver=new ow(b,function uh(b,m){var _;const w=(0,B.m9)(b),A=m;return Y(m.customData.operationType,w,"argument-error"),Y(null===(_=A.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Aa._fromError(w,A)}(b,m));else if(w){const A=Nh(m),O=m;A&&(O.credential=A,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(b,_),_}).then(_=>{const A=_.user;return{operationType:_.operationType,credential:ym(_),additionalUserInfo:pg(_),user:$a.getOrCreate(A)}})}function Mg(b,m){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,d.Z)(function*(b,m){const _=yield m;return{verificationId:_.verificationId,confirm:w=>Yr(b,_.confirm(w))}})).apply(this,arguments)}class ow{constructor(m,_){this.resolver=_,this.auth=function Ag(b){return b.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Yr(vm(this.auth),this.resolver.resolveSignIn(m))}}class $a{constructor(m){this._delegate=m,this.multiFactor=function El(b){const m=(0,B.m9)(b);return fn.has(m)||fn.set(m,_c._fromUser(m)),fn.get(m)}(m)}static getOrCreate(m){return $a.USER_MAP.has(m)||$a.USER_MAP.set(m,new $a(m)),$a.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var _=this;return(0,d.Z)(function*(){return Yr(_.auth,og(_._delegate,m))})()}linkWithPhoneNumber(m,_){var w=this;return(0,d.Z)(function*(){return Mg(w.auth,function mn(b,m,_){return ot.apply(this,arguments)}(w._delegate,m,_))})()}linkWithPopup(m){var _=this;return(0,d.Z)(function*(){return Yr(_.auth,function cm(b,m,_){return xs.apply(this,arguments)}(_._delegate,m,za))})()}linkWithRedirect(m){var _=this;return(0,d.Z)(function*(){return yield Er(zn(_.auth)),Ch(_._delegate,m,za)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var _=this;return(0,d.Z)(function*(){return Yr(_.auth,Wr(_._delegate,m))})()}reauthenticateWithPhoneNumber(m,_){return Mg(this.auth,function ir(b,m,_){return bc.apply(this,arguments)}(this._delegate,m,_))}reauthenticateWithPopup(m){return Yr(this.auth,function $d(b,m,_){return xc.apply(this,arguments)}(this._delegate,m,za))}reauthenticateWithRedirect(m){var _=this;return(0,d.Z)(function*(){return yield Er(zn(_.auth)),Cs(_._delegate,m,za)})()}sendEmailVerification(m){return function yl(b,m){return Da.apply(this,arguments)}(this._delegate,m)}unlink(m){var _=this;return(0,d.Z)(function*(){return yield function jf(b,m){return Ca.apply(this,arguments)}(_._delegate,m),_})()}updateEmail(m){return function fg(b,m){return kd((0,B.m9)(b),m,null)}(this._delegate,m)}updatePassword(m){return function mg(b,m){return kd((0,B.m9)(b),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function ji(b,m){return Yo.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function Zf(b,m){return Kf.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,_){return function qf(b,m,_){return Wf.apply(this,arguments)}(this._delegate,m,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$a.USER_MAP=new WeakMap;const Mi=Y;let Ph=(()=>{class b{constructor(_,w){if(this.app=_,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=_.options;Mi(A,"invalid-api-key",{appName:_.name}),Mi(A,"invalid-api-key",{appName:_.name});const O=typeof window<"u"?za:void 0;this._delegate=w.initialize({options:{persistence:Rg(A,_.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ye),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$a.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,w){!function wd(b,m,_){const w=zn(b);Y(w._canInitEmulator,w,"emulator-config-failed"),Y(/^https?:\/\//.test(m),w,"invalid-emulator-scheme");const A=!!_?.disableWarnings,O=gr(m),{host:q,port:X}=function Lf(b){const m=gr(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const O=A[1];return{host:O,port:sl(w.substr(O.length+1))}}{const[O,q]=w.split(":");return{host:O,port:sl(q)}}}(m);w.config.emulator={url:`${O}//${q}${null===X?"":`:${X}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:q,port:X,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function tg(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,_,w)}applyActionCode(_){return function vs(b,m){return _l.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return tw(this._delegate,_)}confirmPasswordReset(_,w){return function zf(b,m,_){return Qs.apply(this,arguments)}(this._delegate,_,w)}createUserWithEmailAndPassword(_,w){var A=this;return(0,d.Z)(function*(){return Yr(A._delegate,function dg(b,m,_){return oh.apply(this,arguments)}(A._delegate,_,w))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function Ta(b,m){return vl.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function ug(b,m){const _=xo.parseLink(m);return"EMAIL_SIGNIN"===_?.operation}(0,_)}getRedirectResult(){var _=this;return(0,d.Z)(function*(){Mi($e(),_._delegate,"operation-not-supported-in-this-environment");const w=yield function ia(b,m){return $i.apply(this,arguments)}(_._delegate,za);return w?Yr(_._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Dg(b,m){zn(b)._logFramework(m)}(this._delegate,_)}onAuthStateChanged(_,w,A){const{next:O,error:q,complete:X}=bm(_,w,A);return this._delegate.onAuthStateChanged(O,q,X)}onIdTokenChanged(_,w,A){const{next:O,error:q,complete:X}=bm(_,w,A);return this._delegate.onIdTokenChanged(O,q,X)}sendSignInLinkToEmail(_,w){return function sh(b,m,_){return Sd.apply(this,arguments)}(this._delegate,_,w)}sendPasswordResetEmail(_,w){return function ew(b,m,_){return rh.apply(this,arguments)}(this._delegate,_,w||void 0)}setPersistence(_){var w=this;return(0,d.Z)(function*(){let A;switch(function sr(b,m){ts(Object.values(dn).includes(m),b,"invalid-persistence-type"),(0,B.b$)()?ts(m!==dn.SESSION,b,"unsupported-persistence-type"):(0,B.UG)()?ts(m===dn.NONE,b,"unsupported-persistence-type"):Ue()?ts(m===dn.NONE||m===dn.LOCAL&&(0,B.hl)(),b,"unsupported-persistence-type"):ts(m===dn.NONE||le(),b,"unsupported-persistence-type")}(w._delegate,_),_){case dn.SESSION:A=ea;break;case dn.LOCAL:A=(yield At(Nr)._isAvailable())?Nr:Nd;break;case dn.NONE:A=Qn;break;default:return xe("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Yr(this._delegate,function fl(b){return hi.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Yr(this._delegate,Td(this._delegate,_))}signInWithCustomToken(_){return Yr(this._delegate,function Zv(b,m){return cg.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,w){return Yr(this._delegate,function $f(b,m,_){return Td((0,B.m9)(b),fc.credential(m,_))}(this._delegate,_,w))}signInWithEmailLink(_,w){return Yr(this._delegate,function Gf(b,m,_){return Ad.apply(this,arguments)}(this._delegate,_,w))}signInWithPhoneNumber(_,w){return Mg(this._delegate,function bs(b,m,_){return zd.apply(this,arguments)}(this._delegate,_,w))}signInWithPopup(_){var w=this;return(0,d.Z)(function*(){return Mi($e(),w._delegate,"operation-not-supported-in-this-environment"),Yr(w._delegate,function wg(b,m,_){return To.apply(this,arguments)}(w._delegate,_,za))})()}signInWithRedirect(_){var w=this;return(0,d.Z)(function*(){return Mi($e(),w._delegate,"operation-not-supported-in-this-environment"),yield Er(w._delegate),yn(w._delegate,_,za)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Dd(b,m){return yr.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=dn,b})();function bm(b,m,_){let w=b;"function"!=typeof b&&({next:w,error:m,complete:_}=b);const A=w;return{next:q=>A(q&&$a.getOrCreate(q)),error:m,complete:_}}function Rg(b,m){const _=function la(b,m){const _=su();if(!_)return[];const w=$(Bl,b,m);switch(_.getItem(w)){case dn.NONE:return[Qn];case dn.LOCAL:return[Nr,ea];case dn.SESSION:return[ea];default:return[]}}(b,m);if(typeof self<"u"&&!_.includes(Nr)&&_.push(Nr),typeof window<"u")for(const w of[Nd,ea])_.includes(w)||_.push(w);return _.includes(Qn)||_.push(Qn),_}class Gi{constructor(){this.providerId="phone",this._delegate=new Tn(vm(ie.Z.auth()))}static credential(m,_){return Tn.credential(m,_)}verifyPhoneNumber(m,_){return this._delegate.verifyPhoneNumber(m,_)}unwrap(){return this._delegate}}Gi.PHONE_SIGN_IN_METHOD=Tn.PHONE_SIGN_IN_METHOD,Gi.PROVIDER_ID=Tn.PROVIDER_ID;const cu=Y;class oy{constructor(m,_,w=ie.Z.app()){var A;cu(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Hd(m,_,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function FI(b){b.INTERNAL.registerComponent(new _e.wA("auth-compat",m=>{const _=m.getProvider("app-compat").getImmediate(),w=m.getProvider("auth");return new Ph(_,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:fc,FacebookAuthProvider:Id,GithubAuthProvider:ps,GoogleAuthProvider:Eo,OAuthProvider:Go,SAMLAuthProvider:th,PhoneAuthProvider:Gi,PhoneMultiFactorGenerator:Tc,RecaptchaVerifier:oy,TwitterAuthProvider:mc,Auth:Ph,AuthCredential:ba,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.4.2")}(ie.Z)},4537:(ht,Ce,L)=>{L.d(Ce,{H0:()=>Me,wA:()=>B,zt:()=>fe});var d=L(5861),ie=L(9058);class B{constructor(j,G,J){this.name=j,this.instanceFactory=G,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const oe="[DEFAULT]";class fe{constructor(j,G){this.name=j,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const G=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(G)){const J=new ie.BH;if(this.instancesDeferred.set(G,J),this.isInitialized(G)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:G});He&&J.resolve(He)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(j){var G;const J=this.normalizeInstanceIdentifier(j?.identifier),He=null!==(G=j?.optional)&&void 0!==G&&G;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ae){if(He)return null;throw Ae}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function _e(me){return"EAGER"===me.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[G,J]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(G);try{const Ae=this.getOrInitializeService({instanceIdentifier:He});J.resolve(Ae)}catch{}}}}clearInstance(j=oe){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,d.Z)(function*(){const G=Array.from(j.instances.values());yield Promise.all([...G.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...G.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=oe){return this.instances.has(j)}getOptions(j=oe){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:G={}}=j,J=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:J,options:G});for(const[Ae,Ye]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ae)&&Ye.resolve(He);return He}onInit(j,G){var J;const He=this.normalizeInstanceIdentifier(G),Ae=null!==(J=this.onInitCallbacks.get(He))&&void 0!==J?J:new Set;Ae.add(j),this.onInitCallbacks.set(He,Ae);const Ye=this.instances.get(He);return Ye&&j(Ye,He),()=>{Ae.delete(j)}}invokeOnInitCallbacks(j,G){const J=this.onInitCallbacks.get(G);if(J)for(const He of J)try{He(j,G)}catch{}}getOrInitializeService({instanceIdentifier:j,options:G={}}){let J=this.instances.get(j);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(me=j,me===oe?void 0:me),options:G}),this.instances.set(j,J),this.instancesOptions.set(j,G),this.invokeOnInitCallbacks(J,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,J)}catch{}var me;return J||null}normalizeInstanceIdentifier(j=oe){return this.component?this.component.multipleInstances?j:oe:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const G=this.getProvider(j.name);if(G.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);G.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const G=new fe(j,this);return this.providers.set(j,G),G}getProviders(){return Array.from(this.providers.values())}}},7879:(ht,Ce,L)=>{L.d(Ce,{Am:()=>me,Ub:()=>Me,Yd:()=>_e,in:()=>ie});const d=[];var ie=function(j){return j[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",j}(ie||{});const B={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},oe=ie.INFO,fe={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},te=(j,G,...J)=>{if(G<j.logLevel)return;const He=(new Date).toISOString(),Ae=fe[G];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ae](`[${He}]  ${j.name}:`,...J)};class _e{constructor(G){this.name=G,this._logLevel=oe,this._logHandler=te,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in ie))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?B[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...G),this._logHandler(this,ie.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...G),this._logHandler(this,ie.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...G),this._logHandler(this,ie.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...G),this._logHandler(this,ie.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...G),this._logHandler(this,ie.ERROR,...G)}}function Me(j){d.forEach(G=>{G.setLogLevel(j)})}function me(j,G){for(const J of d){let He=null;G&&G.level&&(He=B[G.level]),J.userLogHandler=null===j?null:(Ae,Ye,...Le)=>{const Qe=Le.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");Ye>=(He??Ae.logLevel)&&j({level:ie[Ye].toLowerCase(),message:Qe,args:Le,type:Ae.name})}}}},1878:(ht,Ce,L)=>{L.d(Ce,{X3:()=>pt});var d=L(5861);const ie=(ue,Y)=>Y.some(qe=>ue instanceof qe);let B,oe;const _e=new WeakMap,Me=new WeakMap,me=new WeakMap,j=new WeakMap,G=new WeakMap;let Ae={get(ue,Y,qe){if(ue instanceof IDBTransaction){if("done"===Y)return Me.get(ue);if("objectStoreNames"===Y)return ue.objectStoreNames||me.get(ue);if("store"===Y)return qe.objectStoreNames[1]?void 0:qe.objectStore(qe.objectStoreNames[0])}return Ne(ue[Y])},set:(ue,Y,qe)=>(ue[Y]=qe,!0),has:(ue,Y)=>ue instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in ue};function Qe(ue){return"function"==typeof ue?function Le(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...Y){return ue.apply(mt(this),Y),Ne(_e.get(this))}:function(...Y){return Ne(ue.apply(mt(this),Y))}:function(Y,...qe){const _t=ue.call(mt(this),Y,...qe);return me.set(_t,Y.sort?Y.sort():[Y]),Ne(_t)}}(ue):(ue instanceof IDBTransaction&&function He(ue){if(Me.has(ue))return;const Y=new Promise((qe,_t)=>{const bn=()=>{ue.removeEventListener("complete",Vn),ue.removeEventListener("error",Un),ue.removeEventListener("abort",Un)},Vn=()=>{qe(),bn()},Un=()=>{_t(ue.error||new DOMException("AbortError","AbortError")),bn()};ue.addEventListener("complete",Vn),ue.addEventListener("error",Un),ue.addEventListener("abort",Un)});Me.set(ue,Y)}(ue),ie(ue,function fe(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,Ae):ue)}function Ne(ue){if(ue instanceof IDBRequest)return function J(ue){const Y=new Promise((qe,_t)=>{const bn=()=>{ue.removeEventListener("success",Vn),ue.removeEventListener("error",Un)},Vn=()=>{qe(Ne(ue.result)),bn()},Un=()=>{_t(ue.error),bn()};ue.addEventListener("success",Vn),ue.addEventListener("error",Un)});return Y.then(qe=>{qe instanceof IDBCursor&&_e.set(qe,ue)}).catch(()=>{}),G.set(Y,ue),Y}(ue);if(j.has(ue))return j.get(ue);const Y=Qe(ue);return Y!==ue&&(j.set(ue,Y),G.set(Y,ue)),Y}const mt=ue=>G.get(ue);function pt(ue,Y,{blocked:qe,upgrade:_t,blocking:bn,terminated:Vn}={}){const Un=indexedDB.open(ue,Y),Ii=Ne(Un);return _t&&Un.addEventListener("upgradeneeded",ti=>{_t(Ne(Un.result),ti.oldVersion,ti.newVersion,Ne(Un.transaction),ti)}),qe&&Un.addEventListener("blocked",ti=>qe(ti.oldVersion,ti.newVersion,ti)),Ii.then(ti=>{Vn&&ti.addEventListener("close",()=>Vn()),bn&&ti.addEventListener("versionchange",mr=>bn(mr.oldVersion,mr.newVersion,mr))}).catch(()=>{}),Ii}const xe=["get","getKey","getAll","getAllKeys","count"],re=["put","add","delete","clear"],Te=new Map;function Be(ue,Y){if(!(ue instanceof IDBDatabase)||Y in ue||"string"!=typeof Y)return;if(Te.get(Y))return Te.get(Y);const qe=Y.replace(/FromIndex$/,""),_t=Y!==qe,bn=re.includes(qe);if(!(qe in(_t?IDBIndex:IDBObjectStore).prototype)||!bn&&!xe.includes(qe))return;const Vn=function(){var Un=(0,d.Z)(function*(Ii,...ti){const mr=this.transaction(Ii,bn?"readwrite":"readonly");let de=mr.store;return _t&&(de=de.index(ti.shift())),(yield Promise.all([de[qe](...ti),bn&&mr.done]))[0]});return function(ti){return Un.apply(this,arguments)}}();return Te.set(Y,Vn),Vn}!function Ye(ue){Ae=ue(Ae)}(ue=>({...ue,get:(Y,qe,_t)=>Be(Y,qe)||ue.get(Y,qe,_t),has:(Y,qe)=>!!Be(Y,qe)||ue.has(Y,qe)}))},5861:(ht,Ce,L)=>{function d(B,oe,fe,te,_e,Me,me){try{var j=B[Me](me),G=j.value}catch(J){return void fe(J)}j.done?oe(G):Promise.resolve(G).then(te,_e)}function ie(B){return function(){var oe=this,fe=arguments;return new Promise(function(te,_e){var Me=B.apply(oe,fe);function me(G){d(Me,te,_e,me,j,"next",G)}function j(G){d(Me,te,_e,me,j,"throw",G)}me(void 0)})}}L.d(Ce,{Z:()=>ie})},7582:(ht,Ce,L)=>{function oe(de,pe){var ge={};for(var be in de)Object.prototype.hasOwnProperty.call(de,be)&&pe.indexOf(be)<0&&(ge[be]=de[be]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var we=0;for(be=Object.getOwnPropertySymbols(de);we<be.length;we++)pe.indexOf(be[we])<0&&Object.prototype.propertyIsEnumerable.call(de,be[we])&&(ge[be[we]]=de[be[we]])}return ge}function J(de,pe,ge,be){return new(ge||(ge=Promise))(function(Ie,at){function Ke(hn){try{vt(be.next(hn))}catch(Dt){at(Dt)}}function Cn(hn){try{vt(be.throw(hn))}catch(Dt){at(Dt)}}function vt(hn){hn.done?Ie(hn.value):function we(Ie){return Ie instanceof ge?Ie:new ge(function(at){at(Ie)})}(hn.value).then(Ke,Cn)}vt((be=be.apply(de,pe||[])).next())})}function ce(de){return this instanceof ce?(this.v=de,this):new ce(de)}function xe(de,pe,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,be=ge.apply(de,pe||[]),Ie=[];return we={},at("next"),at("throw"),at("return"),we[Symbol.asyncIterator]=function(){return this},we;function at(jn){be[jn]&&(we[jn]=function(cn){return new Promise(function(Vi,In){Ie.push([jn,cn,Vi,In])>1||Ke(jn,cn)})})}function Ke(jn,cn){try{!function Cn(jn){jn.value instanceof ce?Promise.resolve(jn.value.v).then(vt,hn):Dt(Ie[0][2],jn)}(be[jn](cn))}catch(Vi){Dt(Ie[0][3],Vi)}}function vt(jn){Ke("next",jn)}function hn(jn){Ke("throw",jn)}function Dt(jn,cn){jn(cn),Ie.shift(),Ie.length&&Ke(Ie[0][0],Ie[0][1])}}function Te(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,pe=de[Symbol.asyncIterator];return pe?pe.call(de):(de=function Le(de){var pe="function"==typeof Symbol&&Symbol.iterator,ge=pe&&de[pe],be=0;if(ge)return ge.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&be>=de.length&&(de=void 0),{value:de&&de[be++],done:!de}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),ge={},be("next"),be("throw"),be("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function be(Ie){ge[Ie]=de[Ie]&&function(at){return new Promise(function(Ke,Cn){!function we(Ie,at,Ke,Cn){Promise.resolve(Cn).then(function(vt){Ie({value:vt,done:Ke})},at)}(Ke,Cn,(at=de[Ie](at)).done,at.value)})}}}L.d(Ce,{FC:()=>xe,KL:()=>Te,_T:()=>oe,mG:()=>J,qq:()=>ce}),"function"==typeof SuppressedError&&SuppressedError}},ht=>{ht(ht.s=6817)}]);