"use strict";(self.webpackChunknewsApp=self.webpackChunknewsApp||[]).push([[179],{6304:(mt,Se,F)=>{F.d(Se,{Dh:()=>Oe,GT:()=>de,cc:()=>Me,hO:()=>He,on:()=>j,pX:()=>oe,xv:()=>fe});var d=F(5879),ie=F(120),B=F(2793);mt=F.hmd(mt);const te=["ngOnDestroy"],oe=(Pe,_t,pt,ae={})=>new Proxy(Pe,{get:(Ee,se)=>pt.runOutsideAngular(()=>{var Te;if(Pe[se])return!(null===(Te=ae?.spy)||void 0===Te)&&Te.get&&ae.spy.get(se,Pe[se]),Pe[se];if(te.indexOf(se)>-1)return()=>{};const Be=_t.toPromise().then(ue=>{const Y=ue&&ue[se];return"function"==typeof Y?Y.bind(ue):Y&&Y.then?Y.then(We=>pt.run(()=>We)):pt.run(()=>Y)});return new Proxy(()=>{},{get:(ue,Y)=>Be[Y],apply:(ue,Y,We)=>Be.then(vt=>{var cn;const In=vt&&vt(...We);return!(null===(cn=ae?.spy)||void 0===cn)&&cn.apply&&ae.spy.apply(se,We,In),In})})})}),de=(Pe,_t)=>{_t.forEach(pt=>{Object.getOwnPropertyNames(pt.prototype||pt).forEach(ae=>{Object.defineProperty(Pe.prototype,ae,Object.getOwnPropertyDescriptor(pt.prototype||pt,ae))})})};class ve{constructor(_t){return _t}}const Oe=new d.OlP("angularfire2.app.options"),fe=new d.OlP("angularfire2.app.name");function j(Pe,_t,pt){const Ee="object"==typeof pt&&pt||{};Ee.name=Ee.name||"string"==typeof pt&&pt||"[DEFAULT]";const Te=ie.Z.apps.filter(Be=>Be&&Be.name===Ee.name)[0]||_t.runOutsideAngular(()=>ie.Z.initializeApp(Pe,Ee));try{JSON.stringify(Pe)!==JSON.stringify(Te.options)&&G("error",`${Te.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ve(Te)}const G=(Pe,..._t)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Pe](..._t)},re={provide:ve,useFactory:j,deps:[Oe,d.R0b,[new d.FiY,fe]]};let He=(()=>{class Pe{constructor(pt){ie.Z.registerVersion("angularfire",B.q4.full,"core"),ie.Z.registerVersion("angularfire",B.q4.full,"app-compat"),ie.Z.registerVersion("angular",d.q4F.full,pt.toString())}static initializeApp(pt,ae){return{ngModule:Pe,providers:[{provide:Oe,useValue:pt},{provide:fe,useValue:ae}]}}}return Pe.\u0275fac=function(pt){return new(pt||Pe)(d.LFG(d.Lbi))},Pe.\u0275mod=d.oAB({type:Pe}),Pe.\u0275inj=d.cJS({providers:[re]}),Pe})();function Me(Pe,_t,pt,ae,Ee){const[,se,Te]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===Pe)||[];if(se)return function Qe(Pe,_t){try{return Pe.toString()===_t.toString()}catch{return Pe===_t}}(Ee,Te)||(Xe("error",`${_t} was already initialized on the ${pt} Firebase App with different settings.${Ne?" You may need to reload as Firebase is not HMR aware.":""}`),Xe("warn",{is:Ee,was:Te})),se;{const Be=ae();return globalThis.\u0275AngularfireInstanceCache.push([Pe,Be,Ee]),Be}}const Ne=!!mt.hot,Xe=(Pe,..._t)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Pe](..._t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(mt,Se,F)=>{F.d(Se,{q4:()=>Lr,iC:()=>Yu,fc:()=>Td,HU:()=>Ku,vb:()=>vc,JM:()=>ka});var d=F(5879),ie=F(4097),B=F(5861),te=F(4303),oe=F(9058),de=F(4537),ve=F(7879);const Oe=(C,T)=>T.some(k=>C instanceof k);let fe,j;const He=new WeakMap,Me=new WeakMap,Qe=new WeakMap,Ne=new WeakMap,Xe=new WeakMap;let pt={get(C,T,k){if(C instanceof IDBTransaction){if("done"===T)return Me.get(C);if("objectStoreNames"===T)return C.objectStoreNames||Qe.get(C);if("store"===T)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return Te(C[T])},set:(C,T,k)=>(C[T]=k,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function se(C){return"function"==typeof C?function Ee(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return j||(j=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(Be(this),T),Te(He.get(this))}:function(...T){return Te(C.apply(Be(this),T))}:function(T,...k){const L=C.call(Be(this),T,...k);return Qe.set(L,T.sort?T.sort():[T]),Te(L)}}(C):(C instanceof IDBTransaction&&function _t(C){if(Me.has(C))return;const T=new Promise((k,L)=>{const W=()=>{C.removeEventListener("complete",ne),C.removeEventListener("error",pe),C.removeEventListener("abort",pe)},ne=()=>{k(),W()},pe=()=>{L(C.error||new DOMException("AbortError","AbortError")),W()};C.addEventListener("complete",ne),C.addEventListener("error",pe),C.addEventListener("abort",pe)});Me.set(C,T)}(C),Oe(C,function G(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,pt):C)}function Te(C){if(C instanceof IDBRequest)return function Pe(C){const T=new Promise((k,L)=>{const W=()=>{C.removeEventListener("success",ne),C.removeEventListener("error",pe)},ne=()=>{k(Te(C.result)),W()},pe=()=>{L(C.error),W()};C.addEventListener("success",ne),C.addEventListener("error",pe)});return T.then(k=>{k instanceof IDBCursor&&He.set(k,C)}).catch(()=>{}),Xe.set(T,C),T}(C);if(Ne.has(C))return Ne.get(C);const T=se(C);return T!==C&&(Ne.set(C,T),Xe.set(T,C)),T}const Be=C=>Xe.get(C),We=["get","getKey","getAll","getAllKeys","count"],vt=["put","add","delete","clear"],cn=new Map;function In(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(cn.get(T))return cn.get(T);const k=T.replace(/FromIndex$/,""),L=T!==k,W=vt.includes(k);if(!(k in(L?IDBIndex:IDBObjectStore).prototype)||!W&&!We.includes(k))return;const ne=function(){var pe=(0,B.Z)(function*(tt,...Ye){const ft=this.transaction(tt,W?"readwrite":"readonly");let Lt=ft.store;return L&&(Lt=Lt.index(Ye.shift())),(yield Promise.all([Lt[k](...Ye),W&&ft.done]))[0]});return function(Ye){return pe.apply(this,arguments)}}();return cn.set(T,ne),ne}!function ae(C){pt=C(pt)}(C=>({...C,get:(T,k,L)=>In(T,k)||C.get(T,k,L),has:(T,k)=>!!In(T,k)||C.has(T,k)}));const Tn="@firebase/installations",Wn="0.6.4",Fn=1e4,Di=`w:${Wn}`,ce="FIS_v2",ge="https://firebaseinstallations.googleapis.com/v1",_e=36e5,Je=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ke(C){return C instanceof oe.ZR&&C.code.includes("request-failed")}function Ln({projectId:C}){return`${ge}/projects/${C}/installations`}function yt(C){return{token:C.token,requestStatus:2,expiresIn:Si(C.expiresIn),creationTime:Date.now()}}function Xt(C,T){return gt.apply(this,arguments)}function gt(){return(gt=(0,B.Z)(function*(C,T){const L=(yield T.json()).error;return Je.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Dn({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Zn(C){return hn.apply(this,arguments)}function hn(){return(hn=(0,B.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function Si(C){return Number(C.replace("s","000"))}function ti(){return(ti=(0,B.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:k}){const L=Ln(C),W=Dn(C),ne=T.getImmediate({optional:!0});if(ne){const ft=yield ne.getHeartbeatsHeader();ft&&W.append("x-firebase-client",ft)}const tt={method:"POST",headers:W,body:JSON.stringify({fid:k,authVersion:ce,appId:C.appId,sdkVersion:Di})},Ye=yield Zn(()=>fetch(L,tt));if(Ye.ok){const ft=yield Ye.json();return{fid:ft.fid||k,registrationStatus:2,refreshToken:ft.refreshToken,authToken:yt(ft.authToken)}}throw yield Xt("Create Installation",Ye)})).apply(this,arguments)}function vr(C){return new Promise(T=>{setTimeout(T,C)})}const sa=/^[cdef][\w-]{21}$/,Tt="";function Mt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const k=function Ft(C){return function js(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return sa.test(k)?k:Tt}catch{return Tt}}function xn(C){return`${C.appName}!${C.appId}`}const Bn=new Map;function ui(C,T){const k=xn(C);Hs(k,T),function Jt(C,T){const k=function en(){return!sr&&"BroadcastChannel"in self&&(sr=new BroadcastChannel("[Firebase] FID Change"),sr.onmessage=C=>{Hs(C.data.key,C.data.fid)}),sr}();k&&k.postMessage({key:C,fid:T}),function Ar(){0===Bn.size&&sr&&(sr.close(),sr=null)}()}(k,T)}function Hs(C,T){const k=Bn.get(C);if(k)for(const L of k)L(T)}let sr=null;const zs="firebase-installations-database",ho=1,or="firebase-installations-store";let $s=null;function we(){return $s||($s=function ue(C,T,{blocked:k,upgrade:L,blocking:W,terminated:ne}={}){const pe=indexedDB.open(C,T),tt=Te(pe);return L&&pe.addEventListener("upgradeneeded",Ye=>{L(Te(pe.result),Ye.oldVersion,Ye.newVersion,Te(pe.transaction))}),k&&pe.addEventListener("blocked",()=>k()),tt.then(Ye=>{ne&&Ye.addEventListener("close",()=>ne()),W&&Ye.addEventListener("versionchange",()=>W())}).catch(()=>{}),tt}(zs,ho,{upgrade:(C,T)=>{0===T&&C.createObjectStore(or)}})),$s}function q(C,T){return ye.apply(this,arguments)}function ye(){return(ye=(0,B.Z)(function*(C,T){const k=xn(C),W=(yield we()).transaction(or,"readwrite"),ne=W.objectStore(or),pe=yield ne.get(k);return yield ne.put(T,k),yield W.done,(!pe||pe.fid!==T.fid)&&ui(C,T.fid),T})).apply(this,arguments)}function Ze(C){return et.apply(this,arguments)}function et(){return(et=(0,B.Z)(function*(C){const T=xn(C),L=(yield we()).transaction(or,"readwrite");yield L.objectStore(or).delete(T),yield L.done})).apply(this,arguments)}function bt(C,T){return ln.apply(this,arguments)}function ln(){return(ln=(0,B.Z)(function*(C,T){const k=xn(C),W=(yield we()).transaction(or,"readwrite"),ne=W.objectStore(or),pe=yield ne.get(k),tt=T(pe);return void 0===tt?yield ne.delete(k):yield ne.put(tt,k),yield W.done,tt&&(!pe||pe.fid!==tt.fid)&&ui(C,tt.fid),tt})).apply(this,arguments)}function z(C){return H.apply(this,arguments)}function H(){return H=(0,B.Z)(function*(C){let T;const k=yield bt(C.appConfig,L=>{const W=function Q(C){return jt(C||{fid:Mt(),registrationStatus:0})}(L),ne=function Ae(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Je.create("app-offline"))};const k={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},L=function he(C,T){return at.apply(this,arguments)}(C,k);return{installationEntry:k,registrationPromise:L}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Bt(C)}:{installationEntry:T}}(C,W);return T=ne.registrationPromise,ne.installationEntry});return k.fid===Tt?{installationEntry:yield T}:{installationEntry:k,registrationPromise:T}}),H.apply(this,arguments)}function at(){return at=(0,B.Z)(function*(C,T){try{const k=yield function Sr(C,T){return ti.apply(this,arguments)}(C,T);return q(C.appConfig,k)}catch(k){throw Ke(k)&&409===k.customData.serverCode?yield Ze(C.appConfig):yield q(C.appConfig,{fid:T.fid,registrationStatus:0}),k}}),at.apply(this,arguments)}function Bt(C){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,B.Z)(function*(C){let T=yield ar(C.appConfig);for(;1===T.registrationStatus;)yield vr(100),T=yield ar(C.appConfig);if(0===T.registrationStatus){const{installationEntry:k,registrationPromise:L}=yield z(C);return L||k}return T})).apply(this,arguments)}function ar(C){return bt(C,T=>{if(!T)throw Je.create("installation-not-found");return jt(T)})}function jt(C){return function hi(C){return 1===C.registrationStatus&&C.registrationTime+Fn<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function zi(){return(zi=(0,B.Z)(function*({appConfig:C,heartbeatServiceProvider:T},k){const L=function Po(C,{fid:T}){return`${Ln(C)}/${T}/authTokens:generate`}(C,k),W=function Sn(C,{refreshToken:T}){const k=Dn(C);return k.append("Authorization",function _r(C){return`${ce} ${C}`}(T)),k}(C,k),ne=T.getImmediate({optional:!0});if(ne){const ft=yield ne.getHeartbeatsHeader();ft&&W.append("x-firebase-client",ft)}const tt={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:Di,appId:C.appId}})},Ye=yield Zn(()=>fetch(L,tt));if(Ye.ok)return yt(yield Ye.json());throw yield Xt("Generate Auth Token",Ye)})).apply(this,arguments)}function Qa(C){return gu.apply(this,arguments)}function gu(){return gu=(0,B.Z)(function*(C,T=!1){let k;const L=yield bt(C.appConfig,ne=>{if(!Lo(ne))throw Je.create("not-registered");const pe=ne.authToken;if(!T&&function Xa(C){return 2===C.requestStatus&&!function qc(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+_e}(C)}(pe))return ne;if(1===pe.requestStatus)return k=function Gs(C,T){return Fo.apply(this,arguments)}(C,T),ne;{if(!navigator.onLine)throw Je.create("app-offline");const tt=function df(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}(ne);return k=function Es(C,T){return Yt.apply(this,arguments)}(C,tt),tt}});return k?yield k:L.authToken}),gu.apply(this,arguments)}function Fo(){return(Fo=(0,B.Z)(function*(C,T){let k=yield xs(C.appConfig);for(;1===k.authToken.requestStatus;)yield vr(100),k=yield xs(C.appConfig);const L=k.authToken;return 0===L.requestStatus?Qa(C,T):L})).apply(this,arguments)}function xs(C){return bt(C,T=>{if(!Lo(T))throw Je.create("not-registered");return function qs(C){return 1===C.requestStatus&&C.requestTime+Fn<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Yt(){return Yt=(0,B.Z)(function*(C,T){try{const k=yield function nn(C,T){return zi.apply(this,arguments)}(C,T),L=Object.assign(Object.assign({},T),{authToken:k});return yield q(C.appConfig,L),k}catch(k){if(!Ke(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const L=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield q(C.appConfig,L)}else yield Ze(C.appConfig);throw k}}),Yt.apply(this,arguments)}function Lo(C){return void 0!==C&&2===C.registrationStatus}function Ja(){return(Ja=(0,B.Z)(function*(C){const T=C,{installationEntry:k,registrationPromise:L}=yield z(T);return L?L.catch(console.error):Qa(T).catch(console.error),k.fid})).apply(this,arguments)}function Wc(){return Wc=(0,B.Z)(function*(C,T=!1){const k=C;return yield function vu(C){return ss.apply(this,arguments)}(k),(yield Qa(k,T)).token}),Wc.apply(this,arguments)}function ss(){return(ss=(0,B.Z)(function*(C){const{registrationPromise:T}=yield z(C);T&&(yield T)})).apply(this,arguments)}function ca(C){return Je.create("missing-app-config-values",{valueName:C})}const Jl="installations",Dv=C=>{const T=C.getProvider("app").getImmediate(),k=function Mr(C){if(!C||!C.options)throw ca("App Configuration");if(!C.name)throw ca("App Name");const T=["projectId","apiKey","appId"];for(const k of T)if(!C.options[k])throw ca(k);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:k,heartbeatServiceProvider:(0,te._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},la=C=>{const T=C.getProvider("app").getImmediate(),k=(0,te._getProvider)(T,Jl).getImmediate();return{getId:()=>function oa(C){return Ja.apply(this,arguments)}(k),getToken:W=>function _u(C){return Wc.apply(this,arguments)}(k,W)}};(function hf(){(0,te._registerComponent)(new de.wA(Jl,Dv,"PUBLIC")),(0,te._registerComponent)(new de.wA("installations-internal",la,"PRIVATE"))})(),(0,te.registerVersion)(Tn,Wn),(0,te.registerVersion)(Tn,Wn,"esm2017");const ec="@firebase/remote-config",cr=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Dt{constructor(T,k,L,W){this.client=T,this.storage=k,this.storageCache=L,this.logger=W}isCachedDataFresh(T,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-k,W=L<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${W}.`),W}fetch(T){var k=this;return(0,B.Z)(function*(){const[L,W]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(W&&k.isCachedDataFresh(T.cacheMaxAgeMillis,L))return W;T.eTag=W&&W.eTag;const ne=yield k.client.fetch(T),pe=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&pe.push(k.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(pe),ne})()}}function Un(C=navigator){return C.languages&&C.languages[0]||C.language}class wr{constructor(T,k,L,W,ne,pe){this.firebaseInstallations=T,this.sdkVersion=k,this.namespace=L,this.projectId=W,this.apiKey=ne,this.appId=pe}fetch(T){var k=this;return(0,B.Z)(function*(){const[L,W]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Ye={sdk_version:k.sdkVersion,app_instance_id:L,app_instance_id_token:W,app_id:k.appId,language_code:Un()},ft={method:"POST",headers:tt,body:JSON.stringify(Ye)},Lt=fetch(pe,ft),Ot=new Promise((Li,Js)=>{T.signal.addEventListener(()=>{const Vr=new Error("The operation was aborted.");Vr.name="AbortError",Js(Vr)})});let ri;try{yield Promise.race([Lt,Ot]),ri=yield Lt}catch(Li){let Js="fetch-client-network";throw"AbortError"===Li?.name&&(Js="fetch-timeout"),cr.create(Js,{originalErrorMessage:Li?.message})}let mi=ri.status;const xo=ri.headers.get("ETag")||void 0;let si,Eo;if(200===ri.status){let Li;try{Li=yield ri.json()}catch(Js){throw cr.create("fetch-client-parse",{originalErrorMessage:Js?.message})}si=Li.entries,Eo=Li.state}if("INSTANCE_STATE_UNSPECIFIED"===Eo?mi=500:"NO_CHANGE"===Eo?mi=304:("NO_TEMPLATE"===Eo||"EMPTY_CONFIG"===Eo)&&(si={}),304!==mi&&200!==mi)throw cr.create("fetch-status",{httpStatus:mi});return{status:mi,eTag:xo,config:si}})()}}class Yc{constructor(T,k){this.client=T,this.storage=k}fetch(T){var k=this;return(0,B.Z)(function*(){const L=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(T,L)})()}attemptFetch(T,{throttleEndTimeMillis:k,backoffCount:L}){var W=this;return(0,B.Z)(function*(){yield function da(C,T){return new Promise((k,L)=>{const W=Math.max(T-Date.now(),0),ne=setTimeout(k,W);C.addEventListener(()=>{clearTimeout(ne),L(cr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,k);try{const ne=yield W.client.fetch(T);return yield W.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function $i(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ne))throw ne;const pe={throttleEndTimeMillis:Date.now()+(0,oe.$s)(L),backoffCount:L+1};return yield W.storage.setThrottleMetadata(pe),W.attemptFetch(T,pe)}})()}}class nc{constructor(T,k,L,W,ne){this.app=T,this._client=k,this._storageCache=L,this._storage=W,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function St(C,T){const k=C.target.error||void 0;return cr.create(T,{originalErrorMessage:k&&k?.message})}const Gi="app_namespace_store";class Eu{constructor(T,k,L,W=function jn(){return new Promise((C,T)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=L=>{T(St(L,"storage-open"))},k.onsuccess=L=>{C(L.target.result)},k.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Gi,{keyPath:"compositeKey"})}}catch(k){T(cr.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=T,this.appName=k,this.namespace=L,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var k=this;return(0,B.Z)(function*(){const L=yield k.openDbPromise;return new Promise((W,ne)=>{const tt=L.transaction([Gi],"readonly").objectStore(Gi),Ye=k.createCompositeKey(T);try{const ft=tt.get(Ye);ft.onerror=Lt=>{ne(St(Lt,"storage-get"))},ft.onsuccess=Lt=>{const Ot=Lt.target.result;W(Ot?Ot.value:void 0)}}catch(ft){ne(cr.create("storage-get",{originalErrorMessage:ft?.message}))}})})()}set(T,k){var L=this;return(0,B.Z)(function*(){const W=yield L.openDbPromise;return new Promise((ne,pe)=>{const Ye=W.transaction([Gi],"readwrite").objectStore(Gi),ft=L.createCompositeKey(T);try{const Lt=Ye.put({compositeKey:ft,value:k});Lt.onerror=Ot=>{pe(St(Ot,"storage-set"))},Lt.onsuccess=()=>{ne()}}catch(Lt){pe(cr.create("storage-set",{originalErrorMessage:Lt?.message}))}})})()}delete(T){var k=this;return(0,B.Z)(function*(){const L=yield k.openDbPromise;return new Promise((W,ne)=>{const tt=L.transaction([Gi],"readwrite").objectStore(Gi),Ye=k.createCompositeKey(T);try{const ft=tt.delete(Ye);ft.onerror=Lt=>{ne(St(Lt,"storage-delete"))},ft.onsuccess=()=>{W()}}catch(ft){ne(cr.create("storage-delete",{originalErrorMessage:ft?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class ua{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,B.Z)(function*(){const k=T.storage.getLastFetchStatus(),L=T.storage.getLastSuccessfulFetchTimestampMillis(),W=T.storage.getActiveConfig(),ne=yield k;ne&&(T.lastFetchStatus=ne);const pe=yield L;pe&&(T.lastSuccessfulFetchTimestampMillis=pe);const tt=yield W;tt&&(T.activeConfig=tt)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Uo(){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,B.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function Ai(){(0,te._registerComponent)(new de.wA("remote-config",function C(T,{instanceIdentifier:k}){const L=T.getProvider("app").getImmediate(),W=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw cr.create("registration-window");if(!(0,oe.hl)())throw cr.create("indexed-db-unavailable");const{projectId:ne,apiKey:pe,appId:tt}=L.options;if(!ne)throw cr.create("registration-project-id");if(!pe)throw cr.create("registration-api-key");if(!tt)throw cr.create("registration-app-id");const Ye=new Eu(tt,L.name,k=k||"firebase"),ft=new ua(Ye),Lt=new ve.Yd(ec);Lt.logLevel=ve.in.ERROR;const Ot=new wr(W,te.SDK_VERSION,k,ne,pe,tt),ri=new Yc(Ot,Ye),mi=new Dt(ri,Ye,ft,Lt),xo=new nc(L,mi,ft,Ye,Lt);return function yr(C){const T=(0,oe.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(xo),xo},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(ec,"0.4.4"),(0,te.registerVersion)(ec,"0.4.4","esm2017")}();const Qc=(C,T)=>T.some(k=>C instanceof k);let jo,$t;const rd=new WeakMap,ki=new WeakMap,ha=new WeakMap,Mi=new WeakMap,Ho=new WeakMap;let Ri={get(C,T,k){if(C instanceof IDBTransaction){if("done"===T)return ki.get(C);if("objectStoreNames"===T)return C.objectStoreNames||ha.get(C);if("store"===T)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return Kr(C[T])},set:(C,T,k)=>(C[T]=k,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function fa(C){return"function"==typeof C?function sd(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ic(){return $t||($t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(Rr(this),T),Kr(rd.get(this))}:function(...T){return Kr(C.apply(Rr(this),T))}:function(T,...k){const L=C.call(Rr(this),T,...k);return ha.set(L,T.sort?T.sort():[T]),Kr(L)}}(C):(C instanceof IDBTransaction&&function Ap(C){if(ki.has(C))return;const T=new Promise((k,L)=>{const W=()=>{C.removeEventListener("complete",ne),C.removeEventListener("error",pe),C.removeEventListener("abort",pe)},ne=()=>{k(),W()},pe=()=>{L(C.error||new DOMException("AbortError","AbortError")),W()};C.addEventListener("complete",ne),C.addEventListener("error",pe),C.addEventListener("abort",pe)});ki.set(C,T)}(C),Qc(C,function Sv(){return jo||(jo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Ri):C)}function Kr(C){if(C instanceof IDBRequest)return function qi(C){const T=new Promise((k,L)=>{const W=()=>{C.removeEventListener("success",ne),C.removeEventListener("error",pe)},ne=()=>{k(Kr(C.result)),W()},pe=()=>{L(C.error),W()};C.addEventListener("success",ne),C.addEventListener("error",pe)});return T.then(k=>{k instanceof IDBCursor&&rd.set(k,C)}).catch(()=>{}),Ho.set(T,C),T}(C);if(Mi.has(C))return Mi.get(C);const T=fa(C);return T!==C&&(Mi.set(C,T),Ho.set(T,C)),T}const Rr=C=>Ho.get(C);function rc(C,T,{blocked:k,upgrade:L,blocking:W,terminated:ne}={}){const pe=indexedDB.open(C,T),tt=Kr(pe);return L&&pe.addEventListener("upgradeneeded",Ye=>{L(Kr(pe.result),Ye.oldVersion,Ye.newVersion,Kr(pe.transaction))}),k&&pe.addEventListener("blocked",()=>k()),tt.then(Ye=>{ne&&Ye.addEventListener("close",()=>ne()),W&&Ye.addEventListener("versionchange",()=>W())}).catch(()=>{}),tt}function sc(C,{blocked:T}={}){const k=indexedDB.deleteDatabase(C);return T&&k.addEventListener("blocked",()=>T()),Kr(k).then(()=>{})}const Cu=["get","getKey","getAll","getAllKeys","count"],Av=["put","add","delete","clear"],od=new Map;function Iu(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(od.get(T))return od.get(T);const k=T.replace(/FromIndex$/,""),L=T!==k,W=Av.includes(k);if(!(k in(L?IDBIndex:IDBObjectStore).prototype)||!W&&!Cu.includes(k))return;const ne=function(){var pe=(0,B.Z)(function*(tt,...Ye){const ft=this.transaction(tt,W?"readwrite":"readonly");let Lt=ft.store;return L&&(Lt=Lt.index(Ye.shift())),(yield Promise.all([Lt[k](...Ye),W&&ft.done]))[0]});return function(Ye){return pe.apply(this,arguments)}}();return od.set(T,ne),ne}!function lr(C){Ri=C(Ri)}(C=>({...C,get:(T,k,L)=>Iu(T,k)||C.get(T,k,L),has:(T,k)=>!!Iu(T,k)||C.has(T,k)}));const gf="/firebase-messaging-sw.js",Tu="/firebase-cloud-messaging-push-scope",_f="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kv="https://fcmregistrations.googleapis.com/v1",Hn="google.c.a.c_id",Mv="google.c.a.c_l",kp="google.c.a.ts";var vf=function(C){return C.PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",C}(vf||{});function vo(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Du(C){const k=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(k),W=new Uint8Array(L.length);for(let ne=0;ne<L.length;++ne)W[ne]=L.charCodeAt(ne);return W}const oc="fcm_token_details_db",Su=5,Xc="fcm_token_object_Store";function Jc(){return Jc=(0,B.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(oc))return null;let T=null;return(yield rc(oc,Su,{upgrade:(L=(0,B.Z)(function*(W,ne,pe,tt){var Ye;if(ne<2||!W.objectStoreNames.contains(Xc))return;const ft=tt.objectStore(Xc),Lt=yield ft.index("fcmSenderId").get(C);if(yield ft.clear(),Lt)if(2===ne){const Ot=Lt;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;T={token:Ot.fcmToken,createTime:null!==(Ye=Ot.createTime)&&void 0!==Ye?Ye:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:vo(Ot.vapidKey)}}}else if(3===ne){const Ot=Lt;T={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:vo(Ot.auth),p256dh:vo(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:vo(Ot.vapidKey)}}}else if(4===ne){const Ot=Lt;T={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:vo(Ot.auth),p256dh:vo(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:vo(Ot.vapidKey)}}}}),function(ne,pe,tt,Ye){return L.apply(this,arguments)})})).close(),yield sc(oc),yield sc("fcm_vapid_details_db"),yield sc("undefined"),function ma(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var L}),Jc.apply(this,arguments)}const Ws="firebase-messaging-database",yf=1,cs="firebase-messaging-store";let Ii=null;function pa(){return Ii||(Ii=rc(Ws,yf,{upgrade:(C,T)=>{0===T&&C.createObjectStore(cs)}})),Ii}function Or(C){return ga.apply(this,arguments)}function ga(){return ga=(0,B.Z)(function*(C){const T=tl(C),L=yield(yield pa()).transaction(cs).objectStore(cs).get(T);if(L)return L;{const W=yield function U0(C){return Jc.apply(this,arguments)}(C.appConfig.senderId);if(W)return yield Au(C,W),W}}),ga.apply(this,arguments)}function Au(C,T){return el.apply(this,arguments)}function el(){return(el=(0,B.Z)(function*(C,T){const k=tl(C),W=(yield pa()).transaction(cs,"readwrite");return yield W.objectStore(cs).put(T,k),yield W.done,T})).apply(this,arguments)}function ac(){return(ac=(0,B.Z)(function*(C){const T=tl(C),L=(yield pa()).transaction(cs,"readwrite");yield L.objectStore(cs).delete(T),yield L.done})).apply(this,arguments)}function tl({appConfig:C}){return C.appId}const Oi=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ku(C,T){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,B.Z)(function*(C,T){const k=yield xf(C),L=Rv(T),W={method:"POST",headers:k,body:JSON.stringify(L)};let ne;try{ne=yield(yield fetch(il(C.appConfig),W)).json()}catch(pe){throw Oi.create("token-subscribe-failed",{errorInfo:pe?.toString()})}if(ne.error)throw Oi.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw Oi.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function nl(){return(nl=(0,B.Z)(function*(C,T){const k=yield xf(C),L=Rv(T.subscriptionOptions),W={method:"PATCH",headers:k,body:JSON.stringify(L)};let ne;try{ne=yield(yield fetch(`${il(C.appConfig)}/${T.token}`,W)).json()}catch(pe){throw Oi.create("token-update-failed",{errorInfo:pe?.toString()})}if(ne.error)throw Oi.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw Oi.create("token-update-no-token");return ne.token})).apply(this,arguments)}function _a(C,T){return zo.apply(this,arguments)}function zo(){return(zo=(0,B.Z)(function*(C,T){const L={method:"DELETE",headers:yield xf(C)};try{const ne=yield(yield fetch(`${il(C.appConfig)}/${T}`,L)).json();if(ne.error)throw Oi.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(W){throw Oi.create("token-unsubscribe-failed",{errorInfo:W?.toString()})}})).apply(this,arguments)}function il({projectId:C}){return`${kv}/projects/${C}/registrations`}function xf(C){return ad.apply(this,arguments)}function ad(){return(ad=(0,B.Z)(function*({appConfig:C,installations:T}){const k=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Rv({p256dh:C,auth:T,endpoint:k,vapidKey:L}){const W={web:{endpoint:k,auth:T,p256dh:C}};return L!==_f&&(W.web.applicationPubKey=L),W}const Ef=6048e5;function Ou(){return Ou=(0,B.Z)(function*(C){const T=yield function rl(C,T){return Nu.apply(this,arguments)}(C.swRegistration,C.vapidKey),k={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:vo(T.getKey("auth")),p256dh:vo(T.getKey("p256dh"))},L=yield Or(C.firebaseDependencies);if(L){if(function If(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}(L.subscriptionOptions,k))return Date.now()>=L.createTime+Ef?function Rp(C,T){return cc.apply(this,arguments)}(C,{token:L.token,createTime:Date.now(),subscriptionOptions:k}):L.token;try{yield _a(C.firebaseDependencies,L.token)}catch(W){console.warn(W)}return Nv(C.firebaseDependencies,k)}return Nv(C.firebaseDependencies,k)}),Ou.apply(this,arguments)}function cd(){return cd=(0,B.Z)(function*(C){const T=yield Or(C.firebaseDependencies);T&&(yield _a(C.firebaseDependencies,T.token),yield function bf(C){return ac.apply(this,arguments)}(C.firebaseDependencies));const k=yield C.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()}),cd.apply(this,arguments)}function cc(){return cc=(0,B.Z)(function*(C,T){try{const k=yield function Ru(C,T){return nl.apply(this,arguments)}(C.firebaseDependencies,T),L=Object.assign(Object.assign({},T),{token:k,createTime:Date.now()});return yield Au(C.firebaseDependencies,L),k}catch(k){throw yield function Cf(C){return cd.apply(this,arguments)}(C),k}}),cc.apply(this,arguments)}function Nv(C,T){return lc.apply(this,arguments)}function lc(){return(lc=(0,B.Z)(function*(C,T){const L={token:yield ku(C,T),createTime:Date.now(),subscriptionOptions:T};return yield Au(C,L),L.token})).apply(this,arguments)}function Nu(){return(Nu=(0,B.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Du(T)})})).apply(this,arguments)}function ld(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function sl(C,T){if(!T.notification)return;C.notification={};const k=T.notification.title;k&&(C.notification.title=k);const L=T.notification.body;L&&(C.notification.body=L);const W=T.notification.image;W&&(C.notification.image=W);const ne=T.notification.icon;ne&&(C.notification.icon=ne)}(T,C),function Op(C,T){T.data&&(C.data=T.data)}(T,C),function Pu(C,T){var k,L,W,ne,pe;if(!(T.fcmOptions||null!==(k=T.notification)&&void 0!==k&&k.click_action))return;C.fcmOptions={};const tt=null!==(W=null===(L=T.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==W?W:null===(ne=T.notification)||void 0===ne?void 0:ne.click_action;tt&&(C.fcmOptions.link=tt);const Ye=null===(pe=T.fcmOptions)||void 0===pe?void 0:pe.analytics_label;Ye&&(C.fcmOptions.analyticsLabel=Ye)}(T,C),T}function Fu(C,T){const k=[];for(let L=0;L<C.length;L++)k.push(C.charAt(L)),L<T.length&&k.push(T.charAt(L));return k.join("")}function Lu(C){return Oi.create("missing-app-config-values",{valueName:C})}Fu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pp{constructor(T,k,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function Np(C){if(!C||!C.options)throw Lu("App Configuration Object");if(!C.name)throw Lu("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:k}=C;for(const L of T)if(!k[L])throw Lu(L);return{appName:C.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:W,installations:k,analyticsProvider:L}}_delete(){return Promise.resolve()}}function ol(){return(ol=(0,B.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(gf,{scope:Tu}),C.swRegistration.update().catch(()=>{})}catch(T){throw Oi.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function va(){return(va=(0,B.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield function dd(C){return ol.apply(this,arguments)}(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Oi.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function ya(){return(ya=(0,B.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=_f)})).apply(this,arguments)}function al(){return al=(0,B.Z)(function*(C,T){if(!navigator)throw Oi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Oi.create("permission-blocked");return yield function Zs(C,T){return ya.apply(this,arguments)}(C,T?.vapidKey),yield function Fp(C,T){return va.apply(this,arguments)}(C,T?.serviceWorkerRegistration),function Ov(C){return Ou.apply(this,arguments)}(C)}),al.apply(this,arguments)}function Cs(){return(Cs=(0,B.Z)(function*(C,T,k){const L=function Df(C){switch(C){case vf.NOTIFICATION_CLICKED:return"notification_open";case vf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:k[Hn],message_name:k[Mv],message_time:k[kp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function pn(){return pn=(0,B.Z)(function*(C,T){const k=T.data;if(!k.isFirebaseMessaging)return;C.onMessageHandler&&k.messageType===vf.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ld(k)):C.onMessageHandler.next(ld(k)));const L=k.data;(function Pv(C){return"object"==typeof C&&!!C&&Hn in C})(L)&&"1"===L["google.c.a.e"]&&(yield function Lp(C,T,k){return Cs.apply(this,arguments)}(C,k.messageType,L))}),pn.apply(this,arguments)}const $o="@firebase/messaging",Wi=C=>{const T=new Pp(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Sf(C,T){return pn.apply(this,arguments)}(T,k)),T},Bp=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:L=>function Tf(C,T){return al.apply(this,arguments)}(T,L)}};function wa(){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,B.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bu(){(0,te._registerComponent)(new de.wA("messaging",Wi,"PUBLIC")),(0,te._registerComponent)(new de.wA("messaging-internal",Bp,"PRIVATE")),(0,te.registerVersion)($o,"0.12.4"),(0,te.registerVersion)($o,"0.12.4","esm2017")}();const Pn="analytics",Lv="firebase_id",At="origin",Af=6e4,kf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hd="https://www.googletagmanager.com/gtag/js",Ni=new ve.Yd("@firebase/analytics"),Ki=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ks(C){if(!C.startsWith(hd)){const T=Ki.create("invalid-gtag-resource",{gtagURL:C});return Ni.warn(T.message),""}return C}function fd(C){return Promise.all(C.map(T=>T.catch(k=>k)))}function Re(){return(Re=(0,B.Z)(function*(C,T,k,L,W,ne){const pe=L[W];try{if(pe)yield T[pe];else{const Ye=(yield fd(k)).find(ft=>ft.measurementId===W);Ye&&(yield T[Ye.appId])}}catch(tt){Ni.error(tt)}C("config",W,ne)})).apply(this,arguments)}function Is(){return(Is=(0,B.Z)(function*(C,T,k,L,W){try{let ne=[];if(W&&W.send_to){let pe=W.send_to;Array.isArray(pe)||(pe=[pe]);const tt=yield fd(k);for(const Ye of pe){const ft=tt.find(Ot=>Ot.measurementId===Ye),Lt=ft&&T[ft.appId];if(!Lt){ne=[];break}ne.push(Lt)}}0===ne.length&&(ne=Object.values(T)),yield Promise.all(ne),C("event",L,W||{})}catch(ne){Ni.error(ne)}})).apply(this,arguments)}const uc=30,ju=new class xa{constructor(T={},k=1e3){this.throttleMetadata=T,this.intervalMillis=k}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,k){this.throttleMetadata[T]=k}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Hp(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Hu(){return(Hu=(0,B.Z)(function*(C){var T;const{appId:k,apiKey:L}=C,W={method:"GET",headers:Hp(L)},ne=kf.replace("{app-id}",k),pe=yield fetch(ne,W);if(200!==pe.status&&304!==pe.status){let tt="";try{const Ye=yield pe.json();null!==(T=Ye.error)&&void 0!==T&&T.message&&(tt=Ye.error.message)}catch{}throw Ki.create("config-fetch-failed",{httpStatus:pe.status,responseMessage:tt})}return pe.json()})).apply(this,arguments)}function Yr(){return(Yr=(0,B.Z)(function*(C,T=ju,k){const{appId:L,apiKey:W,measurementId:ne}=C.options;if(!L)throw Ki.create("no-app-id");if(!W){if(ne)return{measurementId:ne,appId:L};throw Ki.create("no-api-key")}const pe=T.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},tt=new $u;return setTimeout((0,B.Z)(function*(){tt.abort()}),void 0!==k?k:Af),Rf({appId:L,apiKey:W,measurementId:ne},pe,tt,T)})).apply(this,arguments)}function Rf(C,T,k){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,B.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:k},L,W=ju){var ne;const{appId:pe,measurementId:tt}=C;try{yield function Ts(C,T){return new Promise((k,L)=>{const W=Math.max(T-Date.now(),0),ne=setTimeout(k,W);C.addEventListener(()=>{clearTimeout(ne),L(Ki.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(L,T)}catch(Ye){if(tt)return Ni.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${Ye?.message}]`),{appId:pe,measurementId:tt};throw Ye}try{const Ye=yield function j0(C){return Hu.apply(this,arguments)}(C);return W.deleteThrottleMetadata(pe),Ye}catch(Ye){const ft=Ye;if(!function zu(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ft)){if(W.deleteThrottleMetadata(pe),tt)return Ni.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:pe,measurementId:tt};throw Ye}const Lt=503===Number(null===(ne=ft?.customData)||void 0===ne?void 0:ne.httpStatus)?(0,oe.$s)(k,W.intervalMillis,uc):(0,oe.$s)(k,W.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+Lt,backoffCount:k+1};return W.setThrottleMetadata(pe,Ot),Ni.debug(`Calling attemptFetch again in ${Lt} millis`),Rf(C,Ot,L,W)}}),Ea.apply(this,arguments)}class $u{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let vd,Yi;function yd(){return(yd=(0,B.Z)(function*(C,T,k,L,W){if(W&&W.global)C("event",k,L);else{const ne=yield T;C("event",k,Object.assign(Object.assign({},L),{send_to:ne}))}})).apply(this,arguments)}function yo(){return(yo=(0,B.Z)(function*(){if(!(0,oe.hl)())return Ni.warn(Ki.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(C){return Ni.warn(Ki.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function qo(){return qo=(0,B.Z)(function*(C,T,k,L,W,ne,pe){var tt;const Ye=function Pr(C){return Yr.apply(this,arguments)}(C);Ye.then(mi=>{k[mi.measurementId]=mi.appId,C.options.measurementId&&mi.measurementId!==C.options.measurementId&&Ni.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${mi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mi=>Ni.error(mi)),T.push(Ye);const ft=function Qi(){return yo.apply(this,arguments)}().then(mi=>{if(mi)return L.getId()}),[Lt,Ot]=yield Promise.all([Ye,ft]);(function _d(C){const T=window.document.getElementsByTagName("script");for(const k of Object.values(T))if(k.src&&k.src.includes(hd)&&k.src.includes(C))return k;return null})(ne)||function pd(C,T){const k=function md(C,T){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(C,T)),k}("firebase-js-sdk-policy",{createScriptURL:Ks}),L=document.createElement("script"),W=`${hd}?l=${C}&id=${T}`;L.src=k?k?.createScriptURL(W):W,L.async=!0,document.head.appendChild(L)}(ne,Lt.measurementId),Yi&&(W("consent","default",Yi),function wd(C){Yi=C}(void 0)),W("js",new Date);const ri=null!==(tt=pe?.config)&&void 0!==tt?tt:{};return ri[At]="firebase",ri.update=!0,null!=Ot&&(ri[Lv]=Ot),W("config",Lt.measurementId,ri),vd&&(W("set",vd),function cl(C){vd=C}(void 0)),Lt.measurementId}),qo.apply(this,arguments)}class Ds{constructor(T){this.app=T}_delete(){return delete ct[this.app.options.appId],Promise.resolve()}}let ct={},Ff=[];const Gu={};let Ss,kn,mc="dataLayer",pc=!1;function gc(C,T,k){!function xd(){const C=[];if((0,oe.ru)()&&C.push("This is a browser extension environment."),(0,oe.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((L,W)=>`(${W+1}) ${L}`).join(" "),k=Ki.create("invalid-analytics-context",{errorInfo:T});Ni.warn(k.message)}}();const L=C.options.appId;if(!L)throw Ki.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Ki.create("no-api-key");Ni.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ct[L])throw Ki.create("already-exists",{id:L});if(!pc){!function Bv(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(mc);const{wrappedGtag:ne,gtagCore:pe}=function Pi(C,T,k,L,W){let ne=function(...pe){window[L].push(arguments)};return window[W]&&"function"==typeof window[W]&&(ne=window[W]),window[W]=function gd(C,T,k,L){function ne(){return ne=(0,B.Z)(function*(pe,...tt){try{if("event"===pe){const[Ye,ft]=tt;yield function Wt(C,T,k,L,W){return Is.apply(this,arguments)}(C,T,k,Ye,ft)}else if("config"===pe){const[Ye,ft]=tt;yield function Uu(C,T,k,L,W,ne){return Re.apply(this,arguments)}(C,T,k,L,Ye,ft)}else if("consent"===pe){const[Ye]=tt;C("consent","update",Ye)}else if("get"===pe){const[Ye,ft,Lt]=tt;C("get",Ye,ft,Lt)}else if("set"===pe){const[Ye]=tt;C("set",Ye)}else C(pe,...tt)}catch(Ye){Ni.error(Ye)}}),ne.apply(this,arguments)}return function W(pe){return ne.apply(this,arguments)}}(ne,C,T,k),{gtagCore:ne,wrappedGtag:window[W]}}(ct,Ff,Gu,mc,"gtag");kn=ne,Ss=pe,pc=!0}return ct[L]=function An(C,T,k,L,W,ne,pe){return qo.apply(this,arguments)}(C,Ff,Gu,T,Ss,mc,k),new Ds(C)}function Ia(){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,B.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const _c="@firebase/analytics";!function Yn(){(0,te._registerComponent)(new de.wA(Pn,(T,{options:k})=>gc(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,te._registerComponent)(new de.wA("analytics-internal",function C(T){try{const k=T.getProvider(Pn).getImmediate();return{logEvent:(L,W,ne)=>function Xi(C,T,k,L){C=(0,oe.m9)(C),function Vv(C,T,k,L,W){return yd.apply(this,arguments)}(kn,ct[C.app.options.appId],T,k,L).catch(W=>Ni.error(W))}(k,L,W,ne)}}catch(k){throw Ki.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,te.registerVersion)(_c,"0.10.0"),(0,te.registerVersion)(_c,"0.10.0","esm2017")}();var Fr=F(1954),Fi=F(2631);const ll=new class dr extends Fi.v{}(class Da extends Fr.o{constructor(T,k){super(T,k),this.scheduler=T,this.work=k}schedule(T,k=0){return k>0?super.schedule(T,k):(this.delay=k,this.state=T,this.scheduler.flush(this),this)}execute(T,k){return k>0||this.closed?super.execute(T,k):this._execute(T,k)}requestAsyncId(T,k,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(T,k,L):(T.flush(this),0)}});var Wu=F(6321),Ji=F(9397),bo=F(3093),Mn=F(5137);const Lr=new d.GfV("7.6.1"),dl="__angularfire_symbol__analyticsIsSupportedValue",Qr="__angularfire_symbol__analyticsIsSupported",Sa="__angularfire_symbol__remoteConfigIsSupportedValue",Id="__angularfire_symbol__remoteConfigIsSupported",ul="__angularfire_symbol__messagingIsSupportedValue",Qs="__angularfire_symbol__messagingIsSupported";function ka(C,T,k){if(T){if(1===T.length)return T[0];const ne=T.filter(pe=>pe.app===k);if(1===ne.length)return ne[0]}return k.container.getProvider(C).getImmediate({optional:!0})}globalThis[Qr]||(globalThis[Qr]=Ia().then(C=>globalThis[dl]=C).catch(()=>globalThis[dl]=!1)),globalThis[Qs]||(globalThis[Qs]=wa().then(C=>globalThis[ul]=C).catch(()=>globalThis[ul]=!1)),globalThis[Id]||(globalThis[Id]=Uo().then(C=>globalThis[Sa]=C).catch(()=>globalThis[Sa]=!1));const vc=(C,T)=>{const k=T?[T]:(0,ie.C6)(),L=[];return k.forEach(W=>{W.container.getProvider(C).instances.forEach(pe=>{L.includes(pe)||L.push(pe)})}),L};function wo(){}class Zu{constructor(T,k=ll){this.zone=T,this.delegate=k}now(){return this.delegate.now()}schedule(T,k,L){const W=this.zone;return this.delegate.schedule(function(pe){W.runGuarded(()=>{T.apply(this,[pe])})},k,L)}}class Br{constructor(T){this.zone=T,this.task=null}call(T,k){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wo,{},wo,wo)),k.pipe((0,Ji.b)({next:L,complete:L,error:L})).subscribe(T).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ku=(()=>{class C{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Zu(Zone.current)),this.insideAngular=k.run(()=>new Zu(Zone.current,Wu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(k){return new(k||C)(d.LFG(d.R0b))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Qn(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Td(C){return C.pipe((0,bo.Q)(Qn().outsideAngular))}function Yu(C){return Qn(),function Dd(C){return function(k){return(k=k.lift(new Br(C.ngZone))).pipe((0,Mn.R)(C.outsideAngular),(0,bo.Q)(C.insideAngular))}}(Qn())(C)}},9058:(mt,Se,F)=>{F.d(Se,{$s:()=>Ze,BH:()=>se,DV:()=>Si,Dv:()=>Hs,G6:()=>Di,GJ:()=>Zn,L:()=>fe,LL:()=>ke,Pz:()=>Ee,Sg:()=>Te,UG:()=>Y,UI:()=>Sr,US:()=>de,Wj:()=>en,Wl:()=>yt,Yr:()=>Fn,ZB:()=>re,ZR:()=>De,aH:()=>ae,b$:()=>cn,cI:()=>Ln,dS:()=>zs,eu:()=>ge,g5:()=>B,gK:()=>Jt,gQ:()=>Ft,h$:()=>Oe,hl:()=>ce,hu:()=>ie,jU:()=>We,lb:()=>Ar,m9:()=>ln,ne:()=>xn,p$:()=>G,pd:()=>Mt,r3:()=>hn,ru:()=>vt,tV:()=>j,uI:()=>ue,ug:()=>ho,vZ:()=>ti,w1:()=>Tn,w9:()=>Sn,xO:()=>sa,xb:()=>_r,z$:()=>Be,zI:()=>_e,zd:()=>Tt});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ie=function(z,H){if(!z)throw B(H)},B=function(z){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+z)},te=function(z){const H=[];let Q=0;for(let Ae=0;Ae<z.length;Ae++){let he=z.charCodeAt(Ae);he<128?H[Q++]=he:he<2048?(H[Q++]=he>>6|192,H[Q++]=63&he|128):55296==(64512&he)&&Ae+1<z.length&&56320==(64512&z.charCodeAt(Ae+1))?(he=65536+((1023&he)<<10)+(1023&z.charCodeAt(++Ae)),H[Q++]=he>>18|240,H[Q++]=he>>12&63|128,H[Q++]=he>>6&63|128,H[Q++]=63&he|128):(H[Q++]=he>>12|224,H[Q++]=he>>6&63|128,H[Q++]=63&he|128)}return H},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,H){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ae=[];for(let he=0;he<z.length;he+=3){const at=z[he],Bt=he+1<z.length,Rt=Bt?z[he+1]:0,ar=he+2<z.length,jt=ar?z[he+2]:0;let zi=(15&Rt)<<2|jt>>6,Po=63&jt;ar||(Po=64,Bt||(zi=64)),Ae.push(Q[at>>2],Q[(3&at)<<4|Rt>>4],Q[zi],Q[Po])}return Ae.join("")},encodeString(z,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(z):this.encodeByteArray(te(z),H)},decodeString(z,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(z):function(z){const H=[];let Q=0,Ae=0;for(;Q<z.length;){const he=z[Q++];if(he<128)H[Ae++]=String.fromCharCode(he);else if(he>191&&he<224){const at=z[Q++];H[Ae++]=String.fromCharCode((31&he)<<6|63&at)}else if(he>239&&he<365){const ar=((7&he)<<18|(63&z[Q++])<<12|(63&z[Q++])<<6|63&z[Q++])-65536;H[Ae++]=String.fromCharCode(55296+(ar>>10)),H[Ae++]=String.fromCharCode(56320+(1023&ar))}else{const at=z[Q++],Bt=z[Q++];H[Ae++]=String.fromCharCode((15&he)<<12|(63&at)<<6|63&Bt)}}return H.join("")}(this.decodeStringToByteArray(z,H))},decodeStringToByteArray(z,H){this.init_();const Q=H?this.charToByteMapWebSafe_:this.charToByteMap_,Ae=[];for(let he=0;he<z.length;){const at=Q[z.charAt(he++)],Rt=he<z.length?Q[z.charAt(he)]:0;++he;const jt=he<z.length?Q[z.charAt(he)]:64;++he;const nn=he<z.length?Q[z.charAt(he)]:64;if(++he,null==at||null==Rt||null==jt||null==nn)throw new ve;Ae.push(at<<2|Rt>>4),64!==jt&&(Ae.push(Rt<<4&240|jt>>2),64!==nn&&Ae.push(jt<<6&192|nn))}return Ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class ve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oe=function(z){const H=te(z);return de.encodeByteArray(H,!0)},fe=function(z){return Oe(z).replace(/\./g,"")},j=function(z){try{return de.decodeString(z,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function G(z){return re(void 0,z)}function re(z,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return H}for(const Q in H)!H.hasOwnProperty(Q)||!He(Q)||(z[Q]=re(z[Q],H[Q]));return z}function He(z){return"__proto__"!==z}const Pe=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=z&&j(z[1]);return H&&JSON.parse(H)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},ae=()=>{var z;return null===(z=Pe())||void 0===z?void 0:z.config},Ee=z=>{var H;return null===(H=Pe())||void 0===H?void 0:H[`_${z}`]};class se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,Q)=>{this.resolve=H,this.reject=Q})}wrapCallback(H){return(Q,Ae)=>{Q?this.reject(Q):this.resolve(Ae),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(Q):H(Q,Ae))}}}function Te(z,H){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae=H||"demo-project",he=z.iat||0,at=z.sub||z.user_id;if(!at)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Bt=Object.assign({iss:`https://securetoken.google.com/${Ae}`,aud:Ae,iat:he,exp:he+3600,auth_time:he,sub:at,user_id:at,firebase:{sign_in_provider:"custom",identities:{}}},z);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Bt)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function Y(){var z;const H=null===(z=Pe())||void 0===z?void 0:z.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function We(){return"object"==typeof self&&self.self===self}function vt(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function cn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Tn(){const z=Be();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Fn(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function Di(){return!Y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ce(){try{return"object"==typeof indexedDB}catch{return!1}}function ge(){return new Promise((z,H)=>{try{let Q=!0;const Ae="validate-browser-context-for-indexeddb-analytics-module",he=self.indexedDB.open(Ae);he.onsuccess=()=>{he.result.close(),Q||self.indexedDB.deleteDatabase(Ae),z(!0)},he.onupgradeneeded=()=>{Q=!1},he.onerror=()=>{var at;H((null===(at=he.error)||void 0===at?void 0:at.message)||"")}}catch(Q){H(Q)}})}function _e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class De extends Error{constructor(H,Q,Ae){super(Q),this.code=H,this.customData=Ae,this.name="FirebaseError",Object.setPrototypeOf(this,De.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke.prototype.create)}}class ke{constructor(H,Q,Ae){this.service=H,this.serviceName=Q,this.errors=Ae}create(H,...Q){const Ae=Q[0]||{},he=`${this.service}/${H}`,at=this.errors[H],Bt=at?function Je(z,H){return z.replace(Ke,(Q,Ae)=>{const he=H[Ae];return null!=he?String(he):`<${Ae}?>`})}(at,Ae):"Error";return new De(he,`${this.serviceName}: ${Bt} (${he}).`,Ae)}}const Ke=/\{\$([^}]+)}/g;function Ln(z){return JSON.parse(z)}function yt(z){return JSON.stringify(z)}const Xt=function(z){let H={},Q={},Ae={},he="";try{const at=z.split(".");H=Ln(j(at[0])||""),Q=Ln(j(at[1])||""),he=at[2],Ae=Q.d||{},delete Q.d}catch{}return{header:H,claims:Q,data:Ae,signature:he}},Sn=function(z){const Q=Xt(z).claims;return!!Q&&"object"==typeof Q&&Q.hasOwnProperty("iat")},Zn=function(z){const H=Xt(z).claims;return"object"==typeof H&&!0===H.admin};function hn(z,H){return Object.prototype.hasOwnProperty.call(z,H)}function Si(z,H){if(Object.prototype.hasOwnProperty.call(z,H))return z[H]}function _r(z){for(const H in z)if(Object.prototype.hasOwnProperty.call(z,H))return!1;return!0}function Sr(z,H,Q){const Ae={};for(const he in z)Object.prototype.hasOwnProperty.call(z,he)&&(Ae[he]=H.call(Q,z[he],he,z));return Ae}function ti(z,H){if(z===H)return!0;const Q=Object.keys(z),Ae=Object.keys(H);for(const he of Q){if(!Ae.includes(he))return!1;const at=z[he],Bt=H[he];if(vr(at)&&vr(Bt)){if(!ti(at,Bt))return!1}else if(at!==Bt)return!1}for(const he of Ae)if(!Q.includes(he))return!1;return!0}function vr(z){return null!==z&&"object"==typeof z}function sa(z){const H=[];for(const[Q,Ae]of Object.entries(z))Array.isArray(Ae)?Ae.forEach(he=>{H.push(encodeURIComponent(Q)+"="+encodeURIComponent(he))}):H.push(encodeURIComponent(Q)+"="+encodeURIComponent(Ae));return H.length?"&"+H.join("&"):""}function Tt(z){const H={};return z.replace(/^\?/,"").split("&").forEach(Ae=>{if(Ae){const[he,at]=Ae.split("=");H[decodeURIComponent(he)]=decodeURIComponent(at)}}),H}function Mt(z){const H=z.indexOf("?");if(!H)return"";const Q=z.indexOf("#",H);return z.substring(H,Q>0?Q:void 0)}class Ft{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,Q){Q||(Q=0);const Ae=this.W_;if("string"==typeof H)for(let nn=0;nn<16;nn++)Ae[nn]=H.charCodeAt(Q)<<24|H.charCodeAt(Q+1)<<16|H.charCodeAt(Q+2)<<8|H.charCodeAt(Q+3),Q+=4;else for(let nn=0;nn<16;nn++)Ae[nn]=H[Q]<<24|H[Q+1]<<16|H[Q+2]<<8|H[Q+3],Q+=4;for(let nn=16;nn<80;nn++){const zi=Ae[nn-3]^Ae[nn-8]^Ae[nn-14]^Ae[nn-16];Ae[nn]=4294967295&(zi<<1|zi>>>31)}let jt,hi,he=this.chain_[0],at=this.chain_[1],Bt=this.chain_[2],Rt=this.chain_[3],ar=this.chain_[4];for(let nn=0;nn<80;nn++){nn<40?nn<20?(jt=Rt^at&(Bt^Rt),hi=1518500249):(jt=at^Bt^Rt,hi=1859775393):nn<60?(jt=at&Bt|Rt&(at|Bt),hi=2400959708):(jt=at^Bt^Rt,hi=3395469782);const zi=(he<<5|he>>>27)+jt+ar+hi+Ae[nn]&4294967295;ar=Rt,Rt=Bt,Bt=4294967295&(at<<30|at>>>2),at=he,he=zi}this.chain_[0]=this.chain_[0]+he&4294967295,this.chain_[1]=this.chain_[1]+at&4294967295,this.chain_[2]=this.chain_[2]+Bt&4294967295,this.chain_[3]=this.chain_[3]+Rt&4294967295,this.chain_[4]=this.chain_[4]+ar&4294967295}update(H,Q){if(null==H)return;void 0===Q&&(Q=H.length);const Ae=Q-this.blockSize;let he=0;const at=this.buf_;let Bt=this.inbuf_;for(;he<Q;){if(0===Bt)for(;he<=Ae;)this.compress_(H,he),he+=this.blockSize;if("string"==typeof H){for(;he<Q;)if(at[Bt]=H.charCodeAt(he),++Bt,++he,Bt===this.blockSize){this.compress_(at),Bt=0;break}}else for(;he<Q;)if(at[Bt]=H[he],++Bt,++he,Bt===this.blockSize){this.compress_(at),Bt=0;break}}this.inbuf_=Bt,this.total_+=Q}digest(){const H=[];let Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let he=this.blockSize-1;he>=56;he--)this.buf_[he]=255&Q,Q/=256;this.compress_(this.buf_);let Ae=0;for(let he=0;he<5;he++)for(let at=24;at>=0;at-=8)H[Ae]=this.chain_[he]>>at&255,++Ae;return H}}function xn(z,H){const Q=new Bn(z,H);return Q.subscribe.bind(Q)}class Bn{constructor(H,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{H(this)}).catch(Ae=>{this.error(Ae)})}next(H){this.forEachObserver(Q=>{Q.next(H)})}error(H){this.forEachObserver(Q=>{Q.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,Q,Ae){let he;if(void 0===H&&void 0===Q&&void 0===Ae)throw new Error("Missing Observer.");he=function fn(z,H){if("object"!=typeof z||null===z)return!1;for(const Q of H)if(Q in z&&"function"==typeof z[Q])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:Q,complete:Ae},void 0===he.next&&(he.next=Kn),void 0===he.error&&(he.error=Kn),void 0===he.complete&&(he.complete=Kn);const at=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?he.error(this.finalError):he.complete()}catch{}}),this.observers.push(he),at}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,H)}sendOne(H,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{Q(this.observers[H])}catch(Ae){typeof console<"u"&&console.error&&console.error(Ae)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kn(){}const Hs=function(z,H,Q,Ae){let he;if(Ae<H?he="at least "+H:Ae>Q&&(he=0===Q?"none":"no more than "+Q),he)throw new Error(z+" failed: Was called with "+Ae+(1===Ae?" argument.":" arguments.")+" Expects "+he+".")};function Jt(z,H){return`${z} failed: ${H} argument `}function en(z,H,Q,Ae){if((!Ae||Q)&&"function"!=typeof Q)throw new Error(Jt(z,H)+"must be a valid function.")}function Ar(z,H,Q,Ae){if((!Ae||Q)&&("object"!=typeof Q||null===Q))throw new Error(Jt(z,H)+"must be a valid context object.")}const zs=function(z){const H=[];let Q=0;for(let Ae=0;Ae<z.length;Ae++){let he=z.charCodeAt(Ae);if(he>=55296&&he<=56319){const at=he-55296;Ae++,ie(Ae<z.length,"Surrogate pair missing trail surrogate."),he=65536+(at<<10)+(z.charCodeAt(Ae)-56320)}he<128?H[Q++]=he:he<2048?(H[Q++]=he>>6|192,H[Q++]=63&he|128):he<65536?(H[Q++]=he>>12|224,H[Q++]=he>>6&63|128,H[Q++]=63&he|128):(H[Q++]=he>>18|240,H[Q++]=he>>12&63|128,H[Q++]=he>>6&63|128,H[Q++]=63&he|128)}return H},ho=function(z){let H=0;for(let Q=0;Q<z.length;Q++){const Ae=z.charCodeAt(Q);Ae<128?H++:Ae<2048?H+=2:Ae>=55296&&Ae<=56319?(H+=4,Q++):H+=3}return H},$s=1e3,we=2,q=144e5,ye=.5;function Ze(z,H=$s,Q=we){const Ae=H*Math.pow(Q,z),he=Math.round(ye*Ae*(Math.random()-.5)*2);return Math.min(q,Ae+he)}function ln(z){return z&&z._delegate?z._delegate:z}},7293:(mt,Se,F)=>{var d=F(5879);let ie=null;function B(){return ie}class oe{}const de=new d.OlP("DocumentToken");let ve=(()=>{var n;class e{historyGo(i){throw new Error("Not implemented")}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(fe)},providedIn:"platform"}),e})();const Oe=new d.OlP("Location Initialized");let fe=(()=>{var n;class e extends ve{constructor(){super(),this._doc=(0,d.f3M)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(i){const r=B().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){const r=B().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),e})();function j(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function G(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function re(n){return n&&"?"!==n[0]?"?"+n:n}let He=(()=>{var n;class e{historyGo(i){throw new Error("Not implemented")}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Qe)},providedIn:"root"}),e})();const Me=new d.OlP("appBaseHref");let Qe=(()=>{var n;class e extends He{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return j(this._baseHref,i)}path(i=!1){const r=this._platformLocation.pathname+re(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,c){const h=this.prepareExternalUrl(s+re(c));this._platformLocation.pushState(i,r,h)}replaceState(i,r,s,c){const h=this.prepareExternalUrl(s+re(c));this._platformLocation.replaceState(i,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(ve),d.LFG(Me,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),Ne=(()=>{var n;class e extends He{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(i){const r=j(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,c){let h=this.prepareExternalUrl(s+re(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(i,r,h)}replaceState(i,r,s,c){let h=this.prepareExternalUrl(s+re(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(ve),d.LFG(Me,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})(),Xe=(()=>{var n;class e{constructor(i){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const r=this._locationStrategy.getBaseHref();this._basePath=function ae(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(G(pt(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+re(r))}normalize(i){return e.stripTrailingSlash(function _t(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,pt(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+re(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+re(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}}return(n=e).normalizeQueryParams=re,n.joinWithSlash=j,n.stripTrailingSlash=G,n.\u0275fac=function(i){return new(i||n)(d.LFG(He))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Pe(){return new Xe((0,d.LFG)(He))}()},providedIn:"root"}),e})();function pt(n){return n.replace(/\/index.html$/,"")}var Be=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Be||{}),ue=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ue||{}),Y=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Y||{}),We=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(We||{});function ge(n,e){return hn((0,d.cg1)(n)[d.wAp.DateFormat],e)}function _e(n,e){return hn((0,d.cg1)(n)[d.wAp.TimeFormat],e)}function be(n,e){return hn((0,d.cg1)(n)[d.wAp.DateTimeFormat],e)}function De(n,e){const t=(0,d.cg1)(n),i=t[d.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===We.CurrencyDecimal)return t[d.wAp.NumberSymbols][We.Decimal];if(e===We.CurrencyGroup)return t[d.wAp.NumberSymbols][We.Group]}return i}function gt(n){if(!n[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function hn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Si(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const vr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,js={},sa=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Tt=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Tt||{}),Mt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Mt||{}),Ft=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ft||{});function xn(n,e,t,i){let r=function H(n){if(Ae(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,c=1]=n.split("-").map(h=>+h);return Bn(r,s-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(vr))return function Q(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,h=Number(n[5]||0)-i,p=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,c,h,p,v),e}(i)}const e=new Date(n);if(!Ae(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=ui(t,e)||e;let h,c=[];for(;e;){if(h=sa.exec(e),!h){c.push(e);break}{c=c.concat(h.slice(1));const E=c.pop();if(!E)break;e=E}}let p=r.getTimezoneOffset();i&&(p=bt(i,p),r=function z(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function ln(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(bt(e,r)-r))}(r,i,!0));let v="";return c.forEach(E=>{const D=function et(n){if(Ze[n])return Ze[n];let e;switch(n){case"G":case"GG":case"GGG":e=en(Ft.Eras,ue.Abbreviated);break;case"GGGG":e=en(Ft.Eras,ue.Wide);break;case"GGGGG":e=en(Ft.Eras,ue.Narrow);break;case"y":e=Jt(Mt.FullYear,1,0,!1,!0);break;case"yy":e=Jt(Mt.FullYear,2,0,!0,!0);break;case"yyy":e=Jt(Mt.FullYear,3,0,!1,!0);break;case"yyyy":e=Jt(Mt.FullYear,4,0,!1,!0);break;case"Y":e=ye(1);break;case"YY":e=ye(2,!0);break;case"YYY":e=ye(3);break;case"YYYY":e=ye(4);break;case"M":case"L":e=Jt(Mt.Month,1,1);break;case"MM":case"LL":e=Jt(Mt.Month,2,1);break;case"MMM":e=en(Ft.Months,ue.Abbreviated);break;case"MMMM":e=en(Ft.Months,ue.Wide);break;case"MMMMM":e=en(Ft.Months,ue.Narrow);break;case"LLL":e=en(Ft.Months,ue.Abbreviated,Be.Standalone);break;case"LLLL":e=en(Ft.Months,ue.Wide,Be.Standalone);break;case"LLLLL":e=en(Ft.Months,ue.Narrow,Be.Standalone);break;case"w":e=q(1);break;case"ww":e=q(2);break;case"W":e=q(1,!0);break;case"d":e=Jt(Mt.Date,1);break;case"dd":e=Jt(Mt.Date,2);break;case"c":case"cc":e=Jt(Mt.Day,1);break;case"ccc":e=en(Ft.Days,ue.Abbreviated,Be.Standalone);break;case"cccc":e=en(Ft.Days,ue.Wide,Be.Standalone);break;case"ccccc":e=en(Ft.Days,ue.Narrow,Be.Standalone);break;case"cccccc":e=en(Ft.Days,ue.Short,Be.Standalone);break;case"E":case"EE":case"EEE":e=en(Ft.Days,ue.Abbreviated);break;case"EEEE":e=en(Ft.Days,ue.Wide);break;case"EEEEE":e=en(Ft.Days,ue.Narrow);break;case"EEEEEE":e=en(Ft.Days,ue.Short);break;case"a":case"aa":case"aaa":e=en(Ft.DayPeriods,ue.Abbreviated);break;case"aaaa":e=en(Ft.DayPeriods,ue.Wide);break;case"aaaaa":e=en(Ft.DayPeriods,ue.Narrow);break;case"b":case"bb":case"bbb":e=en(Ft.DayPeriods,ue.Abbreviated,Be.Standalone,!0);break;case"bbbb":e=en(Ft.DayPeriods,ue.Wide,Be.Standalone,!0);break;case"bbbbb":e=en(Ft.DayPeriods,ue.Narrow,Be.Standalone,!0);break;case"B":case"BB":case"BBB":e=en(Ft.DayPeriods,ue.Abbreviated,Be.Format,!0);break;case"BBBB":e=en(Ft.DayPeriods,ue.Wide,Be.Format,!0);break;case"BBBBB":e=en(Ft.DayPeriods,ue.Narrow,Be.Format,!0);break;case"h":e=Jt(Mt.Hours,1,-12);break;case"hh":e=Jt(Mt.Hours,2,-12);break;case"H":e=Jt(Mt.Hours,1);break;case"HH":e=Jt(Mt.Hours,2);break;case"m":e=Jt(Mt.Minutes,1);break;case"mm":e=Jt(Mt.Minutes,2);break;case"s":e=Jt(Mt.Seconds,1);break;case"ss":e=Jt(Mt.Seconds,2);break;case"S":e=Jt(Mt.FractionalSeconds,1);break;case"SS":e=Jt(Mt.FractionalSeconds,2);break;case"SSS":e=Jt(Mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=zs(Tt.Short);break;case"ZZZZZ":e=zs(Tt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=zs(Tt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=zs(Tt.Long);break;default:return null}return Ze[n]=e,e}(E);v+=D?D(r,t,p):"''"===E?"'":E.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function Bn(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function ui(n,e){const t=function cn(n){return(0,d.cg1)(n)[d.wAp.LocaleId]}(n);if(js[t]=js[t]||{},js[t][e])return js[t][e];let i="";switch(e){case"shortDate":i=ge(n,Y.Short);break;case"mediumDate":i=ge(n,Y.Medium);break;case"longDate":i=ge(n,Y.Long);break;case"fullDate":i=ge(n,Y.Full);break;case"shortTime":i=_e(n,Y.Short);break;case"mediumTime":i=_e(n,Y.Medium);break;case"longTime":i=_e(n,Y.Long);break;case"fullTime":i=_e(n,Y.Full);break;case"short":const r=ui(n,"shortTime"),s=ui(n,"shortDate");i=fn(be(n,Y.Short),[r,s]);break;case"medium":const c=ui(n,"mediumTime"),h=ui(n,"mediumDate");i=fn(be(n,Y.Medium),[c,h]);break;case"long":const p=ui(n,"longTime"),v=ui(n,"longDate");i=fn(be(n,Y.Long),[p,v]);break;case"full":const E=ui(n,"fullTime"),D=ui(n,"fullDate");i=fn(be(n,Y.Full),[E,D])}return i&&(js[t][e]=i),i}function fn(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Kn(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let c=String(n);for(;c.length<e;)c="0"+c;return i&&(c=c.slice(c.length-e)),s+c}function Jt(n,e,t=0,i=!1,r=!1){return function(s,c){let h=function sr(n,e){switch(n){case Mt.FullYear:return e.getFullYear();case Mt.Month:return e.getMonth();case Mt.Date:return e.getDate();case Mt.Hours:return e.getHours();case Mt.Minutes:return e.getMinutes();case Mt.Seconds:return e.getSeconds();case Mt.FractionalSeconds:return e.getMilliseconds();case Mt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||h>-t)&&(h+=t),n===Mt.Hours)0===h&&-12===t&&(h=12);else if(n===Mt.FractionalSeconds)return function Hs(n,e){return Kn(n,3).substring(0,e)}(h,e);const p=De(c,We.MinusSign);return Kn(h,e,p,i,r)}}function en(n,e,t=Be.Format,i=!1){return function(r,s){return function Ar(n,e,t,i,r,s){switch(t){case Ft.Months:return function Wn(n,e,t){const i=(0,d.cg1)(n),s=hn([i[d.wAp.MonthsFormat],i[d.wAp.MonthsStandalone]],e);return hn(s,t)}(e,r,i)[n.getMonth()];case Ft.Days:return function Tn(n,e,t){const i=(0,d.cg1)(n),s=hn([i[d.wAp.DaysFormat],i[d.wAp.DaysStandalone]],e);return hn(s,t)}(e,r,i)[n.getDay()];case Ft.DayPeriods:const c=n.getHours(),h=n.getMinutes();if(s){const v=function Dn(n){const e=(0,d.cg1)(n);return gt(e),(e[d.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Si(i):[Si(i[0]),Si(i[1])])}(e),E=function Sn(n,e,t){const i=(0,d.cg1)(n);gt(i);const s=hn([i[d.wAp.ExtraData][0],i[d.wAp.ExtraData][1]],e)||[];return hn(s,t)||[]}(e,r,i),D=v.findIndex(M=>{if(Array.isArray(M)){const[N,U]=M,K=c>=N.hours&&h>=N.minutes,X=c<U.hours||c===U.hours&&h<U.minutes;if(N.hours<U.hours){if(K&&X)return!0}else if(K||X)return!0}else if(M.hours===c&&M.minutes===h)return!0;return!1});if(-1!==D)return E[D]}return function In(n,e,t){const i=(0,d.cg1)(n),s=hn([i[d.wAp.DayPeriodsFormat],i[d.wAp.DayPeriodsStandalone]],e);return hn(s,t)}(e,r,i)[c<12?0:1];case Ft.Eras:return function Fn(n,e){return hn((0,d.cg1)(n)[d.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function zs(n){return function(e,t,i){const r=-1*i,s=De(t,We.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Tt.Short:return(r>=0?"+":"")+Kn(c,2,s)+Kn(Math.abs(r%60),2,s);case Tt.ShortGMT:return"GMT"+(r>=0?"+":"")+Kn(c,1,s);case Tt.Long:return"GMT"+(r>=0?"+":"")+Kn(c,2,s)+":"+Kn(Math.abs(r%60),2,s);case Tt.Extended:return 0===i?"Z":(r>=0?"+":"")+Kn(c,2,s)+":"+Kn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const ho=0,or=4;function we(n){return Bn(n.getFullYear(),n.getMonth(),n.getDate()+(or-n.getDay()))}function q(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();r=1+Math.floor((c+s)/7)}else{const s=we(t),c=function $s(n){const e=Bn(n,ho,1).getDay();return Bn(n,0,1+(e<=or?or:or+7)-e)}(s.getFullYear()),h=s.getTime()-c.getTime();r=1+Math.round(h/6048e5)}return Kn(r,n,De(i,We.MinusSign))}}function ye(n,e=!1){return function(t,i){return Kn(we(t).getFullYear(),n,De(i,We.MinusSign),e)}}const Ze={};function bt(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ae(n){return n instanceof Date&&!isNaN(n.valueOf())}function oa(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}class aa{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bo=(()=>{var n;class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const r=this._viewContainer;i.forEachOperation((s,c,h)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new aa(s.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===c?void 0:c);else if(null!==c){const p=r.get(c);r.move(p,h),yu(p,s)}});for(let s=0,c=r.length;s<c;s++){const p=r.get(s).context;p.index=s,p.count=c,p.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{yu(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(i,r){return!0}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function yu(n,e){n.context.$implicit=e.item}let kr=(()=>{var n;class e{constructor(i,r){this._viewContainer=i,this._context=new Tv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Dp("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Dp("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Tv{constructor(){this.$implicit=null,this.ngIf=null}}function Dp(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class Mr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ca=(()=>{var n;class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(i){this._ngSwitch=i,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(i){this._defaultViews.push(i)}_matchCase(i){const r=i==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(i){if(this._defaultViews.length>0&&i!==this._defaultUsed){this._defaultUsed=i;for(const r of this._defaultViews)r.enforceState(i)}}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),Jl=(()=>{var n;class e{constructor(i,r,s){this.ngSwitch=s,s._addCase(),this._view=new Mr(i,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(ca,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),Zc=(()=>{var n;class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(i.ngTemplateOutlet||i.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:s,ngTemplateOutletContext:c,ngTemplateOutletInjector:h}=this;this._viewRef=r.createEmbeddedView(s,c,h?{injector:h}:void 0)}else this._viewRef=null}else this._viewRef&&i.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]}),e})();function os(n,e){return new d.vHH(2100,!1)}class ed{createSubscription(e,t){return(0,d.rg0)(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){(0,d.rg0)(()=>e.unsubscribe())}}class cr{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const bu=new cr,td=new ed;let Vo=(()=>{var n;class e{constructor(i){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){return this._obj?i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue:(i&&this._subscribe(i),this._latestValue)}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,r=>this._updateLatestValue(i,r))}_selectStrategy(i){if((0,d.QGY)(i))return bu;if((0,d.F4k)(i))return td;throw os()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,r){i===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.sBO,16))},n.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1,standalone:!0}),e})();const ni=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),yr=new d.OlP("DATE_PIPE_DEFAULT_OPTIONS");let fo=(()=>{var n;class e{constructor(i,r,s){this.locale=i,this.defaultTimezone=r,this.defaultOptions=s}transform(i,r,s,c){if(null==i||""===i||i!=i)return null;try{return xn(i,r??this.defaultOptions?.dateFormat??"mediumDate",c||this.locale,s??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(h){throw os()}}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.soG,16),d.Y36(ni,24),d.Y36(yr,24))},n.\u0275pipe=d.Yjl({name:"date",type:n,pure:!0,standalone:!0}),e})(),mn=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),e})();const mo="browser";function po(n){return"server"===n}let Ai=(()=>{var n;class e{}return(n=e).\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new go((0,d.LFG)(de),window)}),e})();class go{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function _o(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Zr{}class If extends oe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ld extends If{static makeCurrent(){!function te(n){ie||(ie=n)}(new ld)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Op(){return sl=sl||document.querySelector("base"),sl?sl.getAttribute("href"):null}();return null==t?null:function Pv(n){Pu=Pu||document.createElement("a"),Pu.setAttribute("href",n);const e=Pu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){sl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return oa(document.cookie,e)}}let Pu,sl=null,Np=(()=>{var n;class e{build(){return new XMLHttpRequest}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})();const Lu=new d.OlP("EventManagerPlugins");let Pp=(()=>{var n;class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(c=>c.supports(i)),!r)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(i,r),r}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(Lu),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})();class dd{constructor(e){this._doc=e}}const ol="ng-app-id";let Fp=(()=>{var n;class e{constructor(i,r,s,c={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=po(c),this.resetHostNodes()}addStyles(i){for(const r of i)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(i){for(const r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){const r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${ol}="${this.appId}"]`);if(i?.length){const r=new Map;return i.forEach(s=>{null!=s.textContent&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){const s=this.styleRef;if(s.has(i)){const c=s.get(i);return c.usage+=r,c.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){const s=this.styleNodesInDOM,c=s?.get(r);if(c?.parentNode===i)return s.delete(r),c.removeAttribute(ol),c;{const h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=r,this.platformIsServer&&h.setAttribute(ol,this.appId),h}}addStyleToHost(i,r){const s=this.getStyleElement(i,r);i.appendChild(s);const c=this.styleRef,h=c.get(r)?.elements;h?h.push(s):c.set(r,{elements:[s],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(de),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})();const va={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Zs=/%COMP%/g,Cs=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function pn(n,e){return e.map(t=>t.replace(Zs,n))}let $o=(()=>{var n;class e{constructor(i,r,s,c,h,p,v,E=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=c,this.doc=h,this.platformId=p,this.ngZone=v,this.nonce=E,this.rendererByCompId=new Map,this.platformIsServer=po(p),this.defaultRenderer=new ba(i,h,v,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===d.ifc.ShadowDom&&(r={...r,encapsulation:d.ifc.Emulated});const s=this.getOrCreateRenderer(i,r);return s instanceof Vp?s.applyToHost(i):s instanceof Zi&&s.applyStyles(),s}getOrCreateRenderer(i,r){const s=this.rendererByCompId;let c=s.get(r.id);if(!c){const h=this.doc,p=this.ngZone,v=this.eventManager,E=this.sharedStylesHost,D=this.removeStylesOnCompDestroy,M=this.platformIsServer;switch(r.encapsulation){case d.ifc.Emulated:c=new Vp(v,E,r,this.appId,D,h,p,M);break;case d.ifc.ShadowDom:return new wa(v,E,i,r,h,p,this.nonce,M);default:c=new Zi(v,E,r,D,h,p,M)}s.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(Pp),d.LFG(Fp),d.LFG(d.AFp),d.LFG(Cs),d.LFG(de),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})();class ba{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(va[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Bu(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Bu(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new d.vHH(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=va[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=va[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,i,r&d.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=B().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Bu(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class wa extends ba{constructor(e,t,i,r,s,c,h,p){super(e,s,c,p),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=pn(r.id,r.styles);for(const E of v){const D=document.createElement("style");h&&D.setAttribute("nonce",h),D.textContent=E,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Zi extends ba{constructor(e,t,i,r,s,c,h,p){super(e,s,c,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=p?pn(p,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Vp extends Zi{constructor(e,t,i,r,s,c,h,p){const v=r+"-"+i.id;super(e,t,i,s,c,h,p,v),this.contentAttr=function Df(n){return"_ngcontent-%COMP%".replace(Zs,n)}(v),this.hostAttr=function Sf(n){return"_nghost-%COMP%".replace(Zs,n)}(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let dc=(()=>{var n;class e extends dd{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})();const Up=["alt","control","meta","shift"],Nr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jp={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vu=(()=>{var n;class e extends dd{constructor(i){super(i)}supports(i){return null!=e.parseEventName(i)}addEventListener(i,r,s){const c=e.parseEventName(r),h=e.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(i,c.domEventName,h))}static parseEventName(i){const r=i.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const c=e._normalizeKey(r.pop());let h="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),h="code."),Up.forEach(E=>{const D=r.indexOf(E);D>-1&&(r.splice(D,1),h+=E+".")}),h+=c,0!=r.length||0===c.length)return null;const v={};return v.domEventName=s,v.fullKey=h,v}static matchEventFullKeyCode(i,r){let s=Nr[i.key]||i.key,c="";return r.indexOf("code.")>-1&&(s=i.code,c="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Up.forEach(h=>{h!==s&&(0,jp[h])(i)&&(c+=h+".")}),c+=s,c===r)}static eventCallback(i,r,s){return c=>{e.matchEventFullKeyCode(c,i)&&s.runGuarded(()=>r(c))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})();const Ni=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:mo},{provide:d.g9A,useValue:function At(){ld.makeCurrent()},multi:!0},{provide:de,useFactory:function kf(){return(0,d.RDi)(document),document},deps:[]}]),Mf=new d.OlP(""),Ki=[{provide:d.rWj,useClass:class Fu{addToWindow(e){d.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new d.vHH(5103,!1);return s},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(i=>{const r=d.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const h=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(p=>{p.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Ks=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Af(){return new d.qLn},deps:[]},{provide:Lu,useClass:dc,multi:!0,deps:[de,d.R0b,d.Lbi]},{provide:Lu,useClass:Vu,multi:!0,deps:[de]},$o,Fp,Pp,{provide:d.FYo,useExisting:$o},{provide:Zr,useClass:Np,deps:[]},[]];let fd=(()=>{var n;class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:d.AFp,useValue:i.appId}]}}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(Mf,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...Ks,...Ki],imports:[mn,d.hGG]}),e})(),Re=(()=>{var n;class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function Uu(){return new Re((0,d.LFG)(de))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;let Ts=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:function(i){let r=null;return r=i?new(i||n):d.LFG($u),r},providedIn:"root"}),e})(),$u=(()=>{var n;class e extends Ts{constructor(i){super(),this._doc=i}sanitize(i,r){if(null==r)return null;switch(i){case d.q3G.NONE:return r;case d.q3G.HTML:return(0,d.qzn)(r,"HTML")?(0,d.z3N)(r):(0,d.EiD)(this._doc,String(r)).toString();case d.q3G.STYLE:return(0,d.qzn)(r,"Style")?(0,d.z3N)(r):r;case d.q3G.SCRIPT:if((0,d.qzn)(r,"Script"))return(0,d.z3N)(r);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(r,"URL")?(0,d.z3N)(r):(0,d.mCW)(String(r));case d.q3G.RESOURCE_URL:if((0,d.qzn)(r,"ResourceURL"))return(0,d.z3N)(r);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(i){return(0,d.JVY)(i)}bypassSecurityTrustStyle(i){return(0,d.L6k)(i)}bypassSecurityTrustScript(i){return(0,d.eBb)(i)}bypassSecurityTrustUrl(i){return(0,d.LAX)(i)}bypassSecurityTrustResourceUrl(i){return(0,d.pB0)(i)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function zu(n){return new $u(n.get(de))}(d.LFG(d.zs3)),r},providedIn:"root"}),e})();var ii=F(5592),hc=F(4674),yn=F(2459),lt=F(2096),Yi=F(5619);const{isArray:wd}=Array,{getPrototypeOf:cl,prototype:Qi,keys:yo}=Object;function An(n){if(1===n.length){const e=n[0];if(wd(e))return{args:e,keys:null};if(function qo(n){return n&&"object"==typeof n&&cl(n)===Qi}(e)){const t=yo(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Ds=F(2737),ct=F(7398);const{isArray:Ff}=Array;function mc(n){return(0,ct.U)(e=>function Gu(n,e){return Ff(e)?n(...e):n(e)}(n,e))}var ls=F(4564);function Ss(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var kn=F(8251),pc=F(7103);function Wo(...n){const e=(0,ls.yG)(n),t=(0,ls.jO)(n),{args:i,keys:r}=An(n);if(0===i.length)return(0,yn.D)([],e);const s=new ii.y(function xd(n,e,t=Ds.y){return i=>{gc(e,()=>{const{length:r}=n,s=new Array(r);let c=r,h=r;for(let p=0;p<r;p++)gc(e,()=>{const v=(0,yn.D)(n[p],e);let E=!1;v.subscribe((0,kn.x)(i,D=>{s[p]=D,E||(E=!0,h--),h||i.next(t(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>Ss(r,c):Ds.y));return t?s.pipe(mc(t)):s}function gc(n,e,t){n?(0,pc.f)(t,n,e):e()}const Ca=(0,F(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ia=F(7537);function As(...n){return function Zo(){return(0,Ia.J)(1)}()((0,yn.D)(n,(0,ls.yG)(n)))}var Ed=F(4829);function qu(n){return new ii.y(e=>{(0,Ed.Xf)(n()).subscribe(e)})}var Cd=F(8407);function Ko(n,e){const t=(0,hc.m)(n)?n:()=>n,i=r=>r.error(t());return new ii.y(e?r=>e.schedule(i,0,r):i)}var Ys=F(6232),Ta=F(7394),Xi=F(9360);function Lf(){return(0,Xi.e)((n,e)=>{let t=null;n._refCount++;const i=(0,kn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class _c extends ii.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Xi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ta.w0;const t=this.getSubject();e.add(this.source.subscribe((0,kn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ta.w0.EMPTY)}return e}refCount(){return Lf()(this)}}var gn=F(8645),Yn=F(4664);function Fr(n){return n<=0?()=>Ys.E:(0,Xi.e)((e,t)=>{let i=0;e.subscribe((0,kn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Da(...n){const e=(0,ls.yG)(n);return(0,Xi.e)((t,i)=>{(e?As(n,t,e):As(n,t)).subscribe(i)})}function Fi(n,e){return(0,Xi.e)((t,i)=>{let r=0;t.subscribe((0,kn.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var dr=F(1631);function ll(n){return(0,Xi.e)((e,t)=>{let i=!1;e.subscribe((0,kn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Bf(n=Wu){return(0,Xi.e)((e,t)=>{let i=!1;e.subscribe((0,kn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Wu(){return new Ca}function Ji(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Fi((r,s)=>n(r,s,i)):Ds.y,Fr(1),t?ll(e):Bf(()=>new Ca))}function bo(n,e){return(0,hc.m)(e)?(0,dr.z)(n,e,1):(0,dr.z)(n,1)}var Mn=F(9397);function Lr(n){return(0,Xi.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,kn.x)(t,void 0,void 0,c=>{s=(0,Ed.Xf)(n(c,Lr(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Qr(n,e){return(0,Xi.e)(function dl(n,e,t,i,r){return(s,c)=>{let h=t,p=e,v=0;s.subscribe((0,kn.x)(c,E=>{const D=v++;p=h?n(p,E,D):(h=!0,E),i&&c.next(p)},r&&(()=>{h&&c.next(p),c.complete()})))}}(n,e,arguments.length>=2,!0))}function Sa(n){return n<=0?()=>Ys.E:(0,Xi.e)((e,t)=>{let i=[];e.subscribe((0,kn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Qs(n){return(0,Xi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var hl=F(2420);function Xs(n){return(0,Xi.e)((e,t)=>{(0,Ed.Xf)(n).subscribe((0,kn.x)(t,()=>t.complete(),hl.Z)),!t.closed&&e.subscribe(t)})}const Ht="primary",Aa=Symbol("RouteTitle");class ka{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function vc(n){return new ka(n)}function wo(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],h=n[s];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Br(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!Ku(n[r],e[r]))return!1;return!0}function Ku(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function Qn(n){return n.length>0?n[n.length-1]:null}function ks(n){return function fc(n){return!!n&&(n instanceof ii.y||(0,hc.m)(n.lift)&&(0,hc.m)(n.subscribe))}(n)?n:(0,d.QGY)(n)?(0,yn.D)(Promise.resolve(n)):(0,lt.of)(n)}const Yo={exact:function Dd(n,e,t){if(!pe(n.segments,e.segments)||!T(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Dd(n.children[i],e.children[i],t))return!1;return!0},subset:bc},Td={exact:function Yu(n,e){return Br(n,e)},subset:function yc(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ku(n[t],e[t]))},ignored:()=>!0};function Gp(n,e,t){return Yo[t.paths](n.root,e.root,t.matrixParams)&&Td[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function bc(n,e,t){return C(n,e,e.segments,t)}function C(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!pe(r,t)||e.hasChildren()||!T(r,t,i))}if(n.segments.length===t.length){if(!pe(n.segments,t)||!T(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!bc(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(pe(n.segments,r)&&T(n.segments,r,i)&&n.children[Ht])&&C(n.children[Ht],e,s,i)}}function T(n,e,t){return e.every((i,r)=>Td[t](n[r].parameters,i.parameters))}class k{constructor(e=new L([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vc(this.queryParams)),this._queryParamMap}toString(){return Lt.serialize(this)}}class L{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ot(this)}}class W{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=vc(this.parameters)),this._parameterMap}toString(){return Vr(this)}}function pe(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Ye=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new ft},providedIn:"root"}),e})();class ft{parse(e){const t=new Sd(e);return new k(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ri(e.root,!0)}`,i=function Uv(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${xo(t)}=${xo(r)}`).join("&"):`${xo(t)}=${xo(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function si(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Lt=new ft;function Ot(n){return n.segments.map(e=>Vr(e)).join("/")}function ri(n,e){if(!n.hasChildren())return Ot(n);if(e){const t=n.children[Ht]?ri(n.children[Ht],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Ht&&i.push(`${r}:${ri(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function tt(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ht&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ht&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Ht?[ri(n.children[Ht],!1)]:[`${r}:${ri(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ht]?`${Ot(n)}/${t[0]}`:`${Ot(n)}/(${t.join("//")})`}}function mi(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xo(n){return mi(n).replace(/%3B/gi,";")}function Eo(n){return mi(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Li(n){return decodeURIComponent(n)}function Js(n){return Li(n.replace(/\+/g,"%20"))}function Vr(n){return`${Eo(n.path)}${function wc(n){return Object.keys(n).map(e=>`;${Eo(e)}=${Eo(n[e])}`).join("")}(n.parameters)}`}const qp=/^[^\/()?;#]+/;function Ma(n){const e=n.match(qp);return e?e[0]:""}const jv=/^[^\/()?;=#]+/,Hv=/^[^=?&#]+/,Ms=/^[^&#]+/;class Sd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new L([],{}):new L([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ht]=new L(e,t)),i}parseSegment(){const e=Ma(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new W(Li(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Wp(n){const e=n.match(jv);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Ma(this.remaining);r&&(i=r,this.capture(i))}e[Li(t)]=Li(i)}parseQueryParam(e){const t=function H0(n){const e=n.match(Hv);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function Zp(n){const e=n.match(Ms);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Js(t),s=Js(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ma(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new d.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ht);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[Ht]:new L([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function z0(n){return n.segments.length>0?new L([],{[Ht]:n}):n}function Kp(n){const e={};for(const i of Object.keys(n.children)){const s=Kp(n.children[i]);if(i===Ht&&0===s.segments.length&&s.hasChildren())for(const[c,h]of Object.entries(s.children))e[c]=h;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function zv(n){if(1===n.numberOfChildren&&n.children[Ht]){const e=n.children[Ht];return new L(n.segments.concat(e.segments),e.children)}return n}(new L(n.segments,e))}function fl(n){return n instanceof k}function xc(n){let e;const r=z0(function t(s){const c={};for(const p of s.children){const v=t(p);c[p.outlet]=v}const h=new L(s.url,c);return s===n&&(e=h),h}(n.root));return e??r}function $v(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return Ad(r,r,r,t,i);const s=function $0(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Qu(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Object.entries(s.outlets).forEach(([p,v])=>{h[p]="string"==typeof v?v.split("/"):v}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new Qu(t,e,i)}(e);if(s.toRoot())return Ad(r,r,new L([],{}),t,i);const c=function G0(n,e,t){if(n.isAbsolute)return new Oa(e,!0,0);if(!t)return new Oa(e,!1,NaN);if(null===t.parent)return new Oa(t,!0,0);const i=Vf(n.commands[0])?0:1;return function Gv(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new d.vHH(4005,!1);r=i.segments.length}return new Oa(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),h=c.processChildren?kd(c.segmentGroup,c.index,s.commands):Ju(c.segmentGroup,c.index,s.commands);return Ad(r,c.segmentGroup,h,t,i)}function Vf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ra(n){return"object"==typeof n&&null!=n&&n.outlets}function Ad(n,e,t,i,r){let c,s={};i&&Object.entries(i).forEach(([p,v])=>{s[p]=Array.isArray(v)?v.map(E=>`${E}`):`${v}`}),c=n===e?t:Uf(n,e,t);const h=z0(Kp(c));return new k(h,s,r)}function Uf(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:Uf(s,e,t)}),new L(n.segments,i)}class Qu{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Vf(i[0]))throw new d.vHH(4003,!1);const r=i.find(Ra);if(r&&r!==Qn(i))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Oa{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Ju(n,e,t){if(n||(n=new L([],{})),0===n.segments.length&&n.hasChildren())return kd(n,e,t);const i=function q0(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const c=n.segments[r],h=t[i];if(Ra(h))break;const p=`${h}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&v&&"object"==typeof v&&void 0===v.outlets){if(!jf(p,v,c))return s;i+=2}else{if(!jf(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new L(n.segments.slice(0,i.pathIndex),{});return s.children[Ht]=new L(n.segments.slice(i.pathIndex),n.children),kd(s,0,r)}return i.match&&0===r.length?new L(n.segments,{}):i.match&&!n.hasChildren()?Yp(n,e,t):i.match?kd(n,0,r):Yp(n,e,t)}function kd(n,e,t){if(0===t.length)return new L(n.segments,{});{const i=function Xu(n){return Ra(n[0])?n[0].outlets:{[Ht]:n}}(t),r={};if(Object.keys(i).some(s=>s!==Ht)&&n.children[Ht]&&1===n.numberOfChildren&&0===n.children[Ht].segments.length){const s=kd(n.children[Ht],e,t);return new L(n.segments,s.children)}return Object.entries(i).forEach(([s,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(r[s]=Ju(n.children[s],e,c))}),Object.entries(n.children).forEach(([s,c])=>{void 0===i[s]&&(r[s]=c)}),new L(n.segments,r)}}function Yp(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Ra(s)){const p=Md(s.outlets);return new L(i,p)}if(0===r&&Vf(t[0])){i.push(new W(n.segments[e].path,ml(t[0]))),r++;continue}const c=Ra(s)?s.outlets[Ht]:`${s}`,h=r<t.length-1?t[r+1]:null;c&&h&&Vf(h)?(i.push(new W(c,ml(h))),r+=2):(i.push(new W(c,{})),r++)}return new L(i,{})}function Md(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=Yp(new L([],{}),0,i))}),e}function ml(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function jf(n,e,t){return n==t.path&&Br(e,t.parameters)}const Hf="imperative";class Co{constructor(e,t){this.id=e,this.url=t}}class Rd extends Co{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qo extends Co{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eh extends Co{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Od extends Co{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class pl extends Co{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class th extends Co{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qv extends Co{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W0 extends Co{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qp extends Co{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RI extends Co{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wv{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class OI{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Z0{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nh{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xp{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K0{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y0{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ih{}class Zv{constructor(e){this.url=e}}class Q0{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Nd,this.attachRef=null}}let Nd=(()=>{var n;class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){const s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){const r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Q0,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();class Jp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=zf(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=zf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Pd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Pd(e,this._root).map(t=>t.value)}}function zf(n,e){if(n===e.value)return e;for(const t of e.children){const i=zf(n,t);if(i)return i}return null}function Pd(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Pd(n,t);if(i.length)return i.unshift(e),i}return[]}class ds{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function gl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Xr extends Jp{constructor(e,t){super(e),this.snapshot=t,eg(this,e)}toString(){return this.snapshot.toString()}}function _l(n,e){const t=function vl(n,e){const c=new yl([],{},{},"",{},Ht,e,null,{});return new Ld("",new ds(c,[]))}(0,e),i=new Yi.X([new W("",{})]),r=new Yi.X({}),s=new Yi.X({}),c=new Yi.X({}),h=new Yi.X(""),p=new Ec(i,r,c,h,s,Ht,e,t.root);return p.snapshot=t.root,new Xr(new ds(p,[]),t)}class Ec{constructor(e,t,i,r,s,c,h,p){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=c,this.component=h,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,ct.U)(v=>v[Aa]))??(0,lt.of)(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(e=>vc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(e=>vc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rh(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Fd(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class yl{get title(){return this.data?.[Aa]}constructor(e,t,i,r,s,c,h,p,v){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=h,this.routeConfig=p,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ld extends Jp{constructor(e,t){super(t),this.url=e,eg(this,t)}toString(){return Na(this._root)}}function eg(n,e){e.value._routerState=n,e.children.forEach(t=>eg(n,t))}function Na(n){const e=n.children.length>0?` { ${n.children.map(Na).join(", ")} } `:"";return`${n.value}${e}`}function $f(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Br(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Br(e.params,t.params)||n.paramsSubject.next(t.params),function Zu(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Br(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Br(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Gf(n,e){const t=Br(n.params,e.params)&&function ne(n,e){return pe(n,e)&&n.every((t,i)=>Br(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Gf(n.parent,e.parent))}let sh=(()=>{var n;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ht,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Nd),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(oh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){const{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=i;const s=this.location,h=i.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,v=new X0(i,p,s.injector);this.activated=s.createComponent(h,{index:s.length,injector:v,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),e})();class X0{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Ec?this.route:e===Nd?this.childContexts:this.parent.get(e,t)}}const oh=new d.OlP("");let Jr=(()=>{var n;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){const{activatedRoute:r}=i,s=Wo([r.queryParams,r.params,r.data]).pipe((0,Yn.w)(([c,h,p],v)=>(p={...c,...h,...p},0===v?(0,lt.of)(p):Promise.resolve(p)))).subscribe(c=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(i);const h=(0,d.qFp)(r.component);if(h)for(const{templateName:p}of h.inputs)i.activatedComponentRef.setInput(p,c[p]);else this.unsubscribeFromRouteData(i)});this.outletDataSubscriptions.set(i,s)}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})();function bl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function J0(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return bl(n,i,r);return bl(n,i)})}(n,e,t);return new ds(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>bl(n,h)),c}}const i=function pi(n){return new Ec(new Yi.X(n.url),new Yi.X(n.params),new Yi.X(n.queryParams),new Yi.X(n.fragment),new Yi.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>bl(n,s));return new ds(i,r)}}const Pa="ngNavigationCancelingError";function Wf(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=fl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=ah(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function ah(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Pa]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Cc(n){return n&&n[Pa]}let tg=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(i,r){1&i&&d._UZ(0,"router-outlet")},dependencies:[sh],encapsulation:2}),e})();function $(n){const e=n.children&&n.children.map($),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ht&&(t.component=tg),t}function ee(n){return n.outlet||Ht}function qe(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Xn{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),$f(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=gl(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=gl(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=gl(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=gl(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new K0(s.value.snapshot))}),e.children.length&&this.forwardEvent(new nh(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if($f(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),$f(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=qe(r.snapshot);c.attachRef=null,c.route=r,c.injector=h,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class Rs{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ic{constructor(e,t){this.component=e,this.route=t}}function wl(n,e,t){const i=n._root;return Dc(i,e?e._root:null,t,[i.value])}function Tc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:i}function Dc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=gl(e);return n.children.forEach(c=>{(function Vd(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function Yv(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!pe(n.url,e.url);case"pathParamsOrQueryParamsChange":return!pe(n.url,e.url)||!Br(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gf(n,e)||!Br(n.queryParams,e.queryParams);default:return!Gf(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new Rs(i)):(s.data=c.data,s._resolvedData=c._resolvedData),Dc(n,e,s.component?h?h.children:null:t,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Ic(h.outlet.component,c))}else c&&Ud(e,h,r),r.canActivateChecks.push(new Rs(i)),Dc(n,null,s.component?h?h.children:null:t,i,r)})(c,s[c.value.outlet],t,i.concat([c.value]),r),delete s[c.value.outlet]}),Object.entries(s).forEach(([c,h])=>Ud(h,t.getContext(c),r)),r}function Ud(n,e,t){const i=gl(n),r=n.value;Object.entries(i).forEach(([s,c])=>{Ud(c,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Ic(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function xl(n){return"function"==typeof n}function FI(n){return n instanceof Ca||"EmptyError"===n?.name}const Zf=Symbol("INITIAL_VALUE");function ch(){return(0,Yn.w)(n=>Wo(n.map(e=>e.pipe(Fr(1),Da(Zf)))).pipe((0,ct.U)(e=>{for(const t of e)if(!0!==t){if(t===Zf)return Zf;if(!1===t||t instanceof k)return t}return!0}),Fi(e=>e!==Zf),Fr(1)))}function iw(n){return(0,Cd.z)((0,Mn.b)(e=>{if(fl(e))throw Wf(0,e)}),(0,ct.U)(e=>!0===e))}class ig{constructor(e){this.segmentGroup=e||null}}class rg{constructor(e){this.urlTree=e}}function Sc(n){return Ko(new ig(n))}function sw(n){return Ko(new rg(n))}class jI{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new d.vHH(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,lt.of)(i);if(r.numberOfChildren>1||!r.children[Ht])return Ko(new d.vHH(4e3,!1));r=r.children[Ht]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new k(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);i[r]=t[h]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let c={};return Object.entries(t.children).forEach(([h,p])=>{c[h]=this.createSegmentGroup(e,p,i,r)}),new L(s,c)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new d.vHH(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const sg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function og(n,e,t,i,r){const s=aw(n,e,t);return s.matched?(i=function Kv(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function rw(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,lt.of)(!0);const s=r.map(c=>{const h=Tc(c,n);return ks(function nw(n){return n&&xl(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))});return(0,lt.of)(s).pipe(ch(),iw())}(i,e,t).pipe((0,ct.U)(c=>!0===c?s:{...sg}))):(0,lt.of)(s)}function aw(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...sg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||wo)(t,n,e);if(!r)return{...sg};const s={};Object.entries(r.posParams??{}).forEach(([h,p])=>{s[h]=p.path});const c=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function cw(n,e,t,i){return t.length>0&&function $M(n,e,t){return t.some(i=>ag(n,e,i)&&ee(i)!==Ht)}(n,t,i)?{segmentGroup:new L(e,zM(i,new L(t,n.children))),slicedSegments:[]}:0===t.length&&function HI(n,e,t){return t.some(i=>ag(n,e,i))}(n,t,i)?{segmentGroup:new L(n.segments,HM(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new L(n.segments,n.children),slicedSegments:t}}function HM(n,e,t,i,r){const s={};for(const c of i)if(ag(n,t,c)&&!r[ee(c)]){const h=new L([],{});s[ee(c)]=h}return{...r,...s}}function zM(n,e){const t={};t[Ht]=e;for(const i of n)if(""===i.path&&ee(i)!==Ht){const r=new L([],{});t[ee(i)]=r}return t}function ag(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class GM{constructor(e,t,i,r,s,c,h){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=c,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new jI(this.urlSerializer,this.urlTree)}noMatchError(e){return new d.vHH(4002,!1)}recognize(){const e=cw(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ht).pipe(Lr(t=>{if(t instanceof rg)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof ig?this.noMatchError(t):t}),(0,ct.U)(t=>{const i=new yl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,{}),r=new ds(i,t),s=new Ld("",r),c=function MI(n,e,t=null,i=null){return $v(xc(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(s._root),{state:s,tree:c}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ht).pipe(Lr(i=>{throw i instanceof ig?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=rh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,yn.D)(r).pipe(bo(s=>{const c=i.children[s],h=function Ve(n,e){const t=n.filter(i=>ee(i)===e);return t.push(...n.filter(i=>ee(i)!==e)),t}(t,s);return this.processSegmentGroup(e,h,c,s)}),Qr((s,c)=>(s.push(...c),s)),ll(null),function Id(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Fi((r,s)=>n(r,s,i)):Ds.y,Sa(1),t?ll(e):Bf(()=>new Ca))}(),(0,dr.z)(s=>{if(null===s)return Sc(i);const c=zI(s);return function qM(n){n.sort((e,t)=>e.value.outlet===Ht?-1:t.value.outlet===Ht?1:e.value.outlet.localeCompare(t.value.outlet))}(c),(0,lt.of)(c)}))}processSegment(e,t,i,r,s,c){return(0,yn.D)(t).pipe(bo(h=>this.processSegmentAgainstRoute(h._injector??e,t,h,i,r,s,c).pipe(Lr(p=>{if(p instanceof ig)return(0,lt.of)(null);throw p}))),Ji(h=>!!h),Lr(h=>{if(FI(h))return function lw(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?(0,lt.of)([]):Sc(i);throw h}))}processSegmentAgainstRoute(e,t,i,r,s,c,h){return function ny(n,e,t,i){return!!(ee(n)===i||i!==Ht&&ag(e,t,n))&&("**"===n.path||aw(e,n,t).matched)}(i,r,s,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,c,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,c):Sc(r):Sc(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?sw(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,dr.z)(c=>{const h=new L(c,{});return this.processSegment(e,t,h,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){const{matched:h,consumedSegments:p,remainingSegments:v,positionalParamSegments:E}=aw(t,r,s);if(!h)return Sc(t);const D=this.applyRedirects.applyRedirectCommands(p,r.redirectTo,E);return r.redirectTo.startsWith("/")?sw(D):this.applyRedirects.lineralizeSegments(r,D).pipe((0,dr.z)(M=>this.processSegment(e,i,t,M.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,s,c){let h;if("**"===i.path){const p=r.length>0?Qn(r).parameters:{},v=new yl(r,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GI(i),ee(i),i.component??i._loadedComponent??null,i,dh(i));h=(0,lt.of)({snapshot:v,consumedSegments:[],remainingSegments:[]}),t.children={}}else h=og(t,i,r,e).pipe((0,ct.U)(({matched:p,consumedSegments:v,remainingSegments:E,parameters:D})=>p?{snapshot:new yl(v,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GI(i),ee(i),i.component??i._loadedComponent??null,i,dh(i)),consumedSegments:v,remainingSegments:E}:null));return h.pipe((0,Yn.w)(p=>null===p?Sc(t):this.getChildConfig(e=i._injector??e,i,r).pipe((0,Yn.w)(({routes:v})=>{const E=i._loadedInjector??e,{snapshot:D,consumedSegments:M,remainingSegments:N}=p,{segmentGroup:U,slicedSegments:K}=cw(t,M,N,v);if(0===K.length&&U.hasChildren())return this.processChildren(E,v,U).pipe((0,ct.U)(Ie=>null===Ie?null:[new ds(D,Ie)]));if(0===v.length&&0===K.length)return(0,lt.of)([new ds(D,[])]);const X=ee(i)===s;return this.processSegment(E,v,U,K,X?Ht:s,!0).pipe((0,ct.U)(Ie=>[new ds(D,Ie)]))}))))}getChildConfig(e,t,i){return t.children?(0,lt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,lt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function UI(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,lt.of)(!0);const s=r.map(c=>{const h=Tc(c,n);return ks(function tw(n){return n&&xl(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))});return(0,lt.of)(s).pipe(ch(),iw())}(e,t,i).pipe((0,dr.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Mn.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function ty(n){return Ko(ah(!1,3))}())):(0,lt.of)({routes:[],injector:e})}}function QF(n){const e=n.value.routeConfig;return e&&""===e.path}function zI(n){const e=[],t=new Set;for(const i of n){if(!QF(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=zI(i.children);e.push(new ds(i.value,r))}return e.filter(i=>!t.has(i))}function GI(n){return n.data||{}}function dh(n){return n.resolve||{}}function KI(n){return"string"==typeof n.title||null===n.title}function uw(n){return(0,Yn.w)(e=>{const t=n(e);return t?(0,yn.D)(t).pipe((0,ct.U)(()=>e)):(0,lt.of)(e)})}const Yf=new d.OlP("ROUTES");let hw=(()=>{var n;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return(0,lt.of)(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const r=ks(i.loadComponent()).pipe((0,ct.U)(hh),(0,Mn.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=c}),Qs(()=>{this.componentLoaders.delete(i)})),s=new _c(r,()=>new gn.x).pipe(Lf());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,lt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=function WM(n,e,t,i){return ks(n.loadChildren()).pipe((0,ct.U)(hh),(0,dr.z)(r=>r instanceof d.YKP||Array.isArray(r)?(0,lt.of)(r):(0,yn.D)(e.compileModuleAsync(r))),(0,ct.U)(r=>{i&&i(n);let s,c,h=!1;return Array.isArray(r)?(c=r,!0):(s=r.create(t).injector,c=s.get(Yf,[],{optional:!0,self:!0}).flat()),{routes:c.map($),injector:s}}))}(r,this.compiler,i,this.onLoadEndListener).pipe(Qs(()=>{this.childrenLoaders.delete(r)})),h=new _c(c,()=>new gn.x).pipe(Lf());return this.childrenLoaders.set(r,h),h}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function hh(n){return function El(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ry=(()=>{var n;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new gn.x,this.transitionAbortSubject=new gn.x,this.configLoader=(0,d.f3M)(hw),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Ye),this.rootContexts=(0,d.f3M)(Nd),this.inputBindingEnabled=null!==(0,d.f3M)(oh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,lt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new OI(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Wv(s))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:r})}setupNavigations(i,r,s){return this.transitions=new Yi.X({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:i.urlHandlingStrategy.extract(r),urlAfterRedirects:i.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hf,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Fi(c=>0!==c.id),(0,ct.U)(c=>({...c,extractedUrl:i.urlHandlingStrategy.extract(c.rawUrl)})),(0,Yn.w)(c=>{this.currentTransition=c;let h=!1,p=!1;return(0,lt.of)(c).pipe((0,Mn.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Yn.w)(v=>{const E=v.currentBrowserUrl.toString(),D=!i.navigated||v.extractedUrl.toString()!==E||E!==v.currentUrlTree.toString();if(!D&&"reload"!==(v.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const N="";return this.events.next(new Od(v.id,this.urlSerializer.serialize(v.rawUrl),N,0)),v.resolve(null),Ys.E}if(i.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,lt.of)(v).pipe((0,Yn.w)(N=>{const U=this.transitions?.getValue();return this.events.next(new Rd(N.id,this.urlSerializer.serialize(N.extractedUrl),N.source,N.restoredState)),U!==this.transitions?.getValue()?Ys.E:Promise.resolve(N)}),function iy(n,e,t,i,r,s){return(0,dr.z)(c=>function Kf(n,e,t,i,r,s,c="emptyOnly"){return new GM(n,e,t,i,r,c,s).recognize()}(n,e,t,i,c.extractedUrl,r,s).pipe((0,ct.U)(({state:h,tree:p})=>({...c,targetSnapshot:h,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,i.paramsInheritanceStrategy),(0,Mn.b)(N=>{c.targetSnapshot=N.targetSnapshot,c.urlAfterRedirects=N.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:N.urlAfterRedirects};const U=new th(N.id,this.urlSerializer.serialize(N.extractedUrl),this.urlSerializer.serialize(N.urlAfterRedirects),N.targetSnapshot);this.events.next(U)}));if(D&&i.urlHandlingStrategy.shouldProcessUrl(v.currentRawUrl)){const{id:N,extractedUrl:U,source:K,restoredState:X,extras:Ie}=v,ze=new Rd(N,this.urlSerializer.serialize(U),K,X);this.events.next(ze);const Ge=_l(0,this.rootComponentType).snapshot;return this.currentTransition=c={...v,targetSnapshot:Ge,urlAfterRedirects:U,extras:{...Ie,skipLocationChange:!1,replaceUrl:!1}},(0,lt.of)(c)}{const N="";return this.events.next(new Od(v.id,this.urlSerializer.serialize(v.extractedUrl),N,1)),v.resolve(null),Ys.E}}),(0,Mn.b)(v=>{const E=new qv(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(E)}),(0,ct.U)(v=>(this.currentTransition=c={...v,guards:wl(v.targetSnapshot,v.currentSnapshot,this.rootContexts)},c)),function lh(n,e){return(0,dr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?(0,lt.of)({...t,guardsResult:!0}):function LI(n,e,t,i){return(0,yn.D)(n).pipe((0,dr.z)(r=>function VI(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,lt.of)(!0);const c=s.map(h=>{const p=qe(e)??r,v=Tc(h,p);return ks(function Jv(n){return n&&xl(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,i):p.runInContext(()=>v(n,e,t,i))).pipe(Ji())});return(0,lt.of)(c).pipe(ch())}(r.component,r.route,t,e,i)),Ji(r=>!0!==r,!0))}(c,i,r,n).pipe((0,dr.z)(h=>h&&function Qv(n){return"boolean"==typeof n}(h)?function BI(n,e,t,i){return(0,yn.D)(e).pipe(bo(r=>As(function YF(n,e){return null!==n&&e&&e(new Z0(n)),(0,lt.of)(!0)}(r.route.parent,i),function UM(n,e){return null!==n&&e&&e(new Xp(n)),(0,lt.of)(!0)}(r.route,i),function jM(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function Bd(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>qu(()=>{const h=c.guards.map(p=>{const v=qe(c.node)??t,E=Tc(p,v);return ks(function Xv(n){return n&&xl(n.canActivateChild)}(E)?E.canActivateChild(i,n):v.runInContext(()=>E(i,n))).pipe(Ji())});return(0,lt.of)(h).pipe(ch())}));return(0,lt.of)(s).pipe(ch())}(n,r.path,t),function ey(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,lt.of)(!0);const r=i.map(s=>qu(()=>{const c=qe(e)??t,h=Tc(s,c);return ks(function ng(n){return n&&xl(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe(Ji())}));return(0,lt.of)(r).pipe(ch())}(n,r.route,t))),Ji(r=>!0!==r,!0))}(i,s,n,e):(0,lt.of)(h)),(0,ct.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,v=>this.events.next(v)),(0,Mn.b)(v=>{if(c.guardsResult=v.guardsResult,fl(v.guardsResult))throw Wf(0,v.guardsResult);const E=new W0(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.events.next(E)}),Fi(v=>!!v.guardsResult||(this.cancelNavigationTransition(v,"",3),!1)),uw(v=>{if(v.guards.canActivateChecks.length)return(0,lt.of)(v).pipe((0,Mn.b)(E=>{const D=new Qp(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(D)}),(0,Yn.w)(E=>{let D=!1;return(0,lt.of)(E).pipe(function dw(n,e){return(0,dr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,lt.of)(t);let s=0;return(0,yn.D)(r).pipe(bo(c=>function qI(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!KI(r)&&(s[Aa]=r.title),function WI(n,e,t,i){const r=function ZI(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,lt.of)({});const s={};return(0,yn.D)(r).pipe((0,dr.z)(c=>function uh(n,e,t,i){const r=qe(e)??i,s=Tc(n,r);return ks(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[c],e,t,i).pipe(Ji(),(0,Mn.b)(h=>{s[c]=h}))),Sa(1),function ul(n){return(0,ct.U)(()=>n)}(s),Lr(c=>FI(c)?Ys.E:Ko(c)))}(s,n,e,i).pipe((0,ct.U)(c=>(n._resolvedData=c,n.data=rh(n,t).resolve,r&&KI(r)&&(n.data[Aa]=r.title),null)))}(c.route,i,n,e)),(0,Mn.b)(()=>s++),Sa(1),(0,dr.z)(c=>s===r.length?(0,lt.of)(t):Ys.E))})}(i.paramsInheritanceStrategy,this.environmentInjector),(0,Mn.b)({next:()=>D=!0,complete:()=>{D||this.cancelNavigationTransition(E,"",2)}}))}),(0,Mn.b)(E=>{const D=new RI(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(D)}))}),uw(v=>{const E=D=>{const M=[];D.routeConfig?.loadComponent&&!D.routeConfig._loadedComponent&&M.push(this.configLoader.loadComponent(D.routeConfig).pipe((0,Mn.b)(N=>{D.component=N}),(0,ct.U)(()=>{})));for(const N of D.children)M.push(...E(N));return M};return Wo(E(v.targetSnapshot.root)).pipe(ll(),Fr(1))}),uw(()=>this.afterPreactivation()),(0,ct.U)(v=>{const E=function qf(n,e,t){const i=bl(n,e._root,t?t._root:void 0);return new Xr(i,e)}(i.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return this.currentTransition=c={...v,targetRouterState:E},c}),(0,Mn.b)(()=>{this.events.next(new ih)}),((n,e,t,i)=>(0,ct.U)(r=>(new Xn(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,i.routeReuseStrategy,v=>this.events.next(v),this.inputBindingEnabled),Fr(1),(0,Mn.b)({next:v=>{h=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qo(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects))),i.titleStrategy?.updateTitle(v.targetRouterState.snapshot),v.resolve(!0)},complete:()=>{h=!0}}),Xs(this.transitionAbortSubject.pipe((0,Mn.b)(v=>{throw v}))),Qs(()=>{h||p||this.cancelNavigationTransition(c,"",1),this.currentNavigation?.id===c.id&&(this.currentNavigation=null)}),Lr(v=>{if(p=!0,Cc(v))this.events.next(new eh(c.id,this.urlSerializer.serialize(c.extractedUrl),v.message,v.cancellationCode)),function Ur(n){return Cc(n)&&fl(n.url)}(v)?this.events.next(new Zv(v.url)):c.resolve(!1);else{this.events.next(new pl(c.id,this.urlSerializer.serialize(c.extractedUrl),v,c.targetSnapshot??void 0));try{c.resolve(i.errorHandler(v))}catch(E){c.reject(E)}}return Ys.E}))}))}cancelNavigationTransition(i,r,s){const c=new eh(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(c),i.resolve(!1)}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function YI(n){return n!==Hf}let QI=(()=>{var n;class e{buildTitle(i){let r,s=i.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(c=>c.outlet===Ht);return r}getResolvedTitleForRoute(i){return i.data[Aa]}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(ZM)},providedIn:"root"}),e})(),ZM=(()=>{var n;class e extends QI{constructor(i){super(),this.title=i}updateTitle(i){const r=this.buildTitle(i);void 0!==r&&this.title.setTitle(r)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(Re))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),KM=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(XI)},providedIn:"root"}),e})();class YM{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let XI=(()=>{var n;class e extends YM{}return(n=e).\u0275fac=function(){let t;return function(r){return(t||(t=d.n5z(n)))(r||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const sy=new d.OlP("",{providedIn:"root",factory:()=>({})});let QM=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(XM)},providedIn:"root"}),e})(),XM=(()=>{var n;class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();var cg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(cg||{});function lg(n,e){n.events.pipe(Fi(t=>t instanceof Qo||t instanceof eh||t instanceof pl||t instanceof Od),(0,ct.U)(t=>t instanceof Qo||t instanceof Od?cg.COMPLETE:t instanceof eh&&(0===t.code||1===t.code)?cg.REDIRECTING:cg.FAILED),Fi(t=>t!==cg.REDIRECTING),Fr(1)).subscribe(()=>{e()})}function Cl(n){throw n}function dg(n,e,t){return e.parse("/")}const JI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xr=(()=>{var n;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this._events=new gn.x,this.options=(0,d.f3M)(sy,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.HDt),this.errorHandler=this.options.errorHandler||Cl,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||dg,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(QM),this.routeReuseStrategy=(0,d.f3M)(KM),this.titleStrategy=(0,d.f3M)(QI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.f3M)(Yf,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.f3M)(ry),this.urlSerializer=(0,d.f3M)(Ye),this.location=(0,d.f3M)(Xe),this.componentInputBindingEnabled=!!(0,d.f3M)(oh,{optional:!0}),this.eventsSubscription=new Ta.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new k,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_l(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(i=>{this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const i=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(JM(r)&&this._events.next(r));if(r instanceof Rd)YI(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(r instanceof Od)this.rawUrlTree=s.rawUrl;else if(r instanceof th){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const c=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(c,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(r instanceof ih)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(r instanceof eh)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(s);else if(r instanceof Zv){const c=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),h={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||YI(s.source)};this.scheduleNavigation(c,Hf,null,h,{resolve:s.resolve,reject:s.reject,promise:s.promise})}r instanceof pl&&this.restoreHistory(s,!0),r instanceof Qo&&(this.navigated=!0),JM(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const i=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hf,i)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const r="popstate"===i.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(i.url,r,i.state)},0)}))}navigateToSyncWithBrowser(i,r,s){const c={replaceUrl:!0},h=s?.navigationId?s:null;if(s){const v={...s};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(c.state=v)}const p=this.parseUrl(i);this.scheduleNavigation(p,r,h,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map($),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){const{relativeTo:s,queryParams:c,fragment:h,queryParamsHandling:p,preserveFragment:v}=r,E=v?this.currentUrlTree.fragment:h;let M,D=null;switch(p){case"merge":D={...this.currentUrlTree.queryParams,...c};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=c||null}null!==D&&(D=this.removeEmptyProps(D));try{M=xc(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof i[0]||!i[0].startsWith("/"))&&(i=[]),M=this.currentUrlTree.root}return $v(M,i,D,E??null)}navigateByUrl(i,r={skipLocationChange:!1}){const s=fl(i)?i:this.parseUrl(i),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,Hf,null,r)}navigate(i,r={skipLocationChange:!1}){return function XF(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new d.vHH(4008,!1)}(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let r;try{r=this.urlSerializer.parse(i)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,i)}return r}isActive(i,r){let s;if(s=!0===r?{...JI}:!1===r?{...eT}:r,fl(i))return Gp(this.currentUrlTree,i,s);const c=this.parseUrl(i);return Gp(this.currentUrlTree,c,s)}removeEmptyProps(i){return Object.keys(i).reduce((r,s)=>{const c=i[s];return null!=c&&(r[s]=c),r},{})}scheduleNavigation(i,r,s,c,h){if(this.disposed)return Promise.resolve(!1);let p,v,E;h?(p=h.resolve,v=h.reject,E=h.promise):E=new Promise((M,N)=>{p=M,v=N});const D=this.pendingTasks.add();return lg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(D))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:i,extras:c,resolve:p,reject:v,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(M=>Promise.reject(M))}setBrowserUrl(i,r){const s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const h={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",h)}else{const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(s,"",c)}}restoreHistory(i,r=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===c&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function JM(n){return!(n instanceof ih||n instanceof Zv)}let Qf=(()=>{var n;class e{constructor(i,r,s,c,h,p){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=c,this.el=h,this.locationStrategy=p,this.href=null,this.commands=null,this.onChanges=new gn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const v=h.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=i.events.subscribe(E=>{E instanceof Qo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){null!=i?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,s,c,h){return!!(null===this.urlTree||this.isAnchorElement&&(0!==i||r||s||c||h||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const i=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(i,r){const s=this.renderer,c=this.el.nativeElement;null!==r?s.setAttribute(c,i,r):s.removeAttribute(c,i)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(xr),d.Y36(Ec),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(He))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&d.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&i&&d.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]}),e})();class e1{}let n1=(()=>{var n;class e{constructor(i,r,s,c,h){this.router=i,this.injector=s,this.preloadingStrategy=c,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(Fi(i=>i instanceof Qo),bo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){const s=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,d.MMx)(c.providers,i,`Route: ${c.path}`));const h=c._injector??i,p=c._loadedInjector??h;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&s.push(this.preloadConfig(h,c)),(c.children||c._loadedRoutes)&&s.push(this.processRoutes(p,c.children??c._loadedRoutes))}return(0,yn.D)(s).pipe((0,Ia.J)())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(i,r):(0,lt.of)(null);const c=s.pipe((0,dr.z)(h=>null===h?(0,lt.of)(void 0):(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,this.processRoutes(h.injector??i,h.routes))));if(r.loadComponent&&!r._loadedComponent){const h=this.loader.loadComponent(r);return(0,yn.D)([c,h]).pipe((0,Ia.J)())}return c})}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(xr),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(e1),d.LFG(hw))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const pw=new d.OlP("");let tT=(()=>{var n;class e{constructor(i,r,s,c,h={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=c,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Rd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Qo?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Od&&0===i.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Y0&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Y0(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(n=e).\u0275fac=function(i){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})();function Xo(n,e){return{\u0275kind:n,\u0275providers:e}}function rT(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const i=n.get(xr),r=n.get(sT);1===n.get(ug)&&i.initialNavigation(),n.get(aT,null,d.XFs.Optional)?.setUpPreloading(),n.get(pw,null,d.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const sT=new d.OlP("",{factory:()=>new gn.x}),ug=new d.OlP("",{providedIn:"root",factory:()=>1}),aT=new d.OlP("");function s1(n){return Xo(0,[{provide:aT,useExisting:n1},{provide:e1,useExisting:n}])}const Jf=new d.OlP("ROUTER_FORROOT_GUARD"),cT=[Xe,{provide:Ye,useClass:ft},xr,Nd,{provide:Ec,useFactory:function gw(n){return n.routerState.root},deps:[xr]},hw,[]];function lT(){return new d.PXZ("Router",xr)}let oy=(()=>{var n;class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[cT,[],{provide:Yf,multi:!0,useValue:i},{provide:Jf,useFactory:uT,deps:[[xr,new d.FiY,new d.tp0]]},{provide:sy,useValue:r||{}},r?.useHash?{provide:He,useClass:Ne}:{provide:He,useClass:Qe},{provide:pw,useFactory:()=>{const n=(0,d.f3M)(Ai),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(sy),i=(0,d.f3M)(ry),r=(0,d.f3M)(Ye);return t.scrollOffset&&n.setOffset(t.scrollOffset),new tT(r,i,n,e,t)}},r?.preloadingStrategy?s1(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:lT},r?.initialNavigation?ay(r):[],r?.bindToComponentInputs?Xo(8,[Jr,{provide:oh,useExisting:Jr}]).\u0275providers:[],[{provide:c1,useFactory:rT},{provide:d.tb,multi:!0,useExisting:c1}]]}}static forChild(i){return{ngModule:e,providers:[{provide:Yf,multi:!0,useValue:i}]}}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(Jf,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),e})();function uT(n){return"guarded"}function ay(n){return["disabled"===n.initialNavigation?Xo(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(xr);return()=>{e.setUpLocationChangeListener()}}},{provide:ug,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Xo(2,[{provide:ug,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(Oe,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(xr),s=e.get(sT);lg(r,()=>{i(!0)}),e.get(ry).afterPreactivation=()=>(i(!0),s.closed?(0,lt.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const c1=new d.OlP("");class cy{}class ly{}const Il="*";function eo(n,e){return{type:7,name:n,definitions:e,options:{}}}function gi(n,e=null){return{type:4,styles:e,timings:n}}function fg(n,e=null){return{type:2,steps:n,options:e}}function dn(n){return{type:6,styles:n,offset:null}}function fh(n,e,t){return{type:0,name:n,styles:e,options:t}}function Bi(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class tm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class mT{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}var pg=F(6321),En=F(2793);function yw(){return(0,Xi.e)((n,e)=>{let t,i=!1;n.subscribe((0,kn.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}var it,bw=F(3997),Er=F(6304),u1=(F(8977),F(3399)),xe=F(5861),jd=F(7592),to=F(4537),no=F(7879),P=F(9058),ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Io={},nm=nm||{},Pt=ww||self;function im(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function mh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var pT="closure_uid_"+(1e9*Math.random()>>>0),xw=0;function gg(n,e,t){return n.call.apply(n.bind,arguments)}function h1(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function es(n,e,t){return(es=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gg:h1).apply(null,arguments)}function hy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function jr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[r].apply(i,c)}}function Ac(){this.s=this.s,this.o=this.o}Ac.prototype.s=!1,Ac.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function uy(n){Object.prototype.hasOwnProperty.call(n,pT)&&n[pT]||(n[pT]=++xw)}(this)},Ac.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _T=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Ew(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function f1(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(im(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let c=0;c<s;c++)n[r+c]=i[c]}else n.push(i)}}function us(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}us.prototype.h=function(){this.defaultPrevented=!0};var fy=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Pt.addEventListener("test",()=>{},e),Pt.removeEventListener("test",()=>{},e)}catch{}return n}();function ph(n){return/^[\s\xa0]*$/.test(n)}function my(){var n=Pt.navigator;return n&&(n=n.userAgent)?n:""}function Fa(n){return-1!=my().indexOf(n)}function _g(n){return _g[" "](n),n}_g[" "]=function(){};var Cw,n,m1=Fa("Opera"),gh=Fa("Trident")||Fa("MSIE"),vT=Fa("Edge"),gy=vT||gh,p1=Fa("Gecko")&&!(-1!=my().toLowerCase().indexOf("webkit")&&!Fa("Edge"))&&!(Fa("Trident")||Fa("MSIE"))&&!Fa("Edge"),g1=-1!=my().toLowerCase().indexOf("webkit")&&!Fa("Edge");function vg(){var n=Pt.document;return n?n.documentMode:void 0}e:{var Hd="",_h=(n=my(),p1?/rv:([^\);]+)(\)|;)/.exec(n):vT?/Edge\/([\d\.]+)/.exec(n):gh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):g1?/WebKit\/(\S+)/.exec(n):m1?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(_h&&(Hd=_h?_h[1]:""),gh){var Iw=vg();if(null!=Iw&&Iw>parseFloat(Hd)){Cw=String(Iw);break e}}Cw=Hd}var _1=Pt.document&&gh&&(vg()||parseInt(Cw,10))||void 0;function yg(n,e){if(us.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(p1){e:{try{_g(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:bT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&yg.$.h.call(this)}}jr(yg,us);var bT={2:"touch",3:"pen",4:"mouse"};yg.prototype.h=function(){yg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var rm="closure_listenable_"+(1e6*Math.random()|0),Tw=0;function cL(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++Tw,this.fa=this.ia=!1}function sm(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function vy(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function wT(n){const e={};for(const t in n)e[t]=n[t];return e}const Dw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xT(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<Dw.length;s++)t=Dw[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function bg(n){this.src=n,this.g={},this.h=0}function Sw(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=_T(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(sm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Aw(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}bg.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=Aw(n,e,i,r);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new cL(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var ET="closure_lm_"+(1e6*Math.random()|0),yy={};function kw(n,e,t,i,r){if(i&&i.once)return y1(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)kw(n,e[s],t,i,r);return null}return t=wg(t),n&&n[rm]?n.O(e,t,mh(i)?!!i.capture:!!i,r):Jo(n,e,t,!1,i,r)}function Jo(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var c=mh(r)?!!r.capture:!!r,h=IT(n);if(h||(n[ET]=h=new bg(n)),(t=h.add(e,t,i,c,s)).proxy)return t;if(i=function CT(){const e=b1;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)fy||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(wy(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function y1(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)y1(n,e[s],t,i,r);return null}return t=wg(t),n&&n[rm]?n.P(e,t,mh(i)?!!i.capture:!!i,r):Jo(n,e,t,!0,i,r)}function by(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)by(n,e[s],t,i,r);else i=mh(i)?!!i.capture:!!i,t=wg(t),n&&n[rm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Aw(s=n.g[e],t,i,r))&&(sm(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=IT(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Aw(e,t,i,r)),(t=-1<n?e[n]:null)&&kc(t))}function kc(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[rm])Sw(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(wy(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=IT(e))?(Sw(t,n),0==t.h&&(t.src=null,e[ET]=null)):sm(n)}}}function wy(n){return n in yy?yy[n]:yy[n]="on"+n}function b1(n,e){if(n.fa)n=!0;else{e=new yg(e,this);var t=n.listener,i=n.la||n.src;n.ia&&kc(n),n=t.call(i,e)}return n}function IT(n){return(n=n[ET])instanceof bg?n:null}var Mw="__closure_events_fn_"+(1e9*Math.random()>>>0);function wg(n){return"function"==typeof n?n:(n[Mw]||(n[Mw]=function(e){return n.handleEvent(e)}),n[Mw])}function Gn(){Ac.call(this),this.i=new bg(this),this.S=this,this.J=null}function Hr(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new us(e,n);else if(e instanceof us)e.target=e.target||n;else{var r=e;xT(e=new us(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];r=xy(c,i,!0,e)&&r}if(r=xy(c=e.g=n,i,!0,e)&&r,r=xy(c,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=xy(c=e.g=t[s],i,!1,e)&&r}function xy(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.fa&&c.capture==t){var h=c.listener,p=c.la||c.src;c.ia&&Sw(n.i,c),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}jr(Gn,Ac),Gn.prototype[rm]=!0,Gn.prototype.removeEventListener=function(n,e,t,i){by(this,n,e,t,i)},Gn.prototype.N=function(){if(Gn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)sm(t[i]);delete n.g[e],n.h--}}this.J=null},Gn.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Gn.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var TT=Pt.JSON.stringify;function w1(){var n=Ey;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var DT=new class zr{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new x1,n=>n.reset());class x1{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ow(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function ST(n){Pt.setTimeout(()=>{throw n},0)}let om,xg=!1,Ey=new class Rw{constructor(){this.h=this.g=null}add(e,t){const i=DT.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Nw=()=>{const n=Pt.Promise.resolve(void 0);om=()=>{n.then(E1)}};var E1=()=>{for(var n;n=w1();){try{n.h.call(n.g)}catch(t){ST(t)}var e=DT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}xg=!1};function Eg(n,e){Gn.call(this),this.h=n||1,this.g=e||Pt,this.j=es(this.qb,this),this.l=Date.now()}function Pw(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Cy(n,e,t){if("function"==typeof n)t&&(n=es(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=es(n.handleEvent,n)}return 2147483647<Number(e)?-1:Pt.setTimeout(n,e||0)}function vh(n){n.g=Cy(()=>{n.g=null,n.i&&(n.i=!1,vh(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}jr(Eg,Gn),(it=Eg.prototype).ga=!1,it.T=null,it.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hr(this,"tick"),this.ga&&(Pw(this),this.start()))}},it.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.N=function(){Eg.$.N.call(this),Pw(this),delete this.g};class Dl extends Ac{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:vh(this)}N(){super.N(),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mc(n){Ac.call(this),this.h=n,this.g={}}jr(Mc,Ac);var AT=[];function kT(n,e,t,i){Array.isArray(t)||(t&&(AT[0]=t.toString()),t=AT);for(var r=0;r<t.length;r++){var s=kw(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Fw(n){vy(n.g,function(e,t){this.g.hasOwnProperty(t)&&kc(e)},n),n.g={}}function Cg(){this.g=!0}function Sl(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function RT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return TT(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Mc.prototype.N=function(){Mc.$.N.call(this),Fw(this)},Mc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cg.prototype.Ea=function(){this.g=!1},Cg.prototype.info=function(){};var yh={},OT=null;function Iy(){return OT=OT||new Gn}function NT(n){us.call(this,yh.Ta,n)}function am(n){const e=Iy();Hr(e,new NT(e))}function C1(n,e){us.call(this,yh.STAT_EVENT,n),this.stat=e}function Os(n){const e=Iy();Hr(e,new C1(e,n))}function I1(n,e){us.call(this,yh.Ua,n),this.size=e}function Ty(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){n()},e)}yh.Ta="serverreachability",jr(NT,us),yh.STAT_EVENT="statevent",jr(C1,us),yh.Ua="timingevent",jr(I1,us);var Tg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Bw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function PT(){}function T1(){}PT.prototype.h=null;var Sy,cm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Dy(){us.call(this,"d")}function Vw(){us.call(this,"c")}function Sg(){}function Vt(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Mc(this),this.P=FT,this.V=new Eg(n=gy?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Uw}function Uw(){this.i=null,this.g="",this.h=!1}jr(Dy,us),jr(Vw,us),jr(Sg,PT),Sg.prototype.g=function(){return new XMLHttpRequest},Sg.prototype.i=function(){return{}},Sy=new Sg;var FT=45e3,zd={},Ag={};function jw(n,e,t){n.L=1,n.v=Ry(Al(e)),n.s=t,n.S=!0,kg(n,null)}function kg(n,e){n.G=Date.now(),lm(n),n.A=Al(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Oy(t.i,"t",i),n.C=0,t=n.l.J,n.h=new Uw,n.g=JT(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Dl(es(n.Pa,n,n.g),n.O)),kT(n.U,n.g,"readystatechange",n.nb),e=n.I?wT(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),am(),function Lw(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),p=0;p<h.length;p++){var v=h[p].split("=");if(1<v.length){var E=v[0];v=v[1];var D=E.split("_");c=2<=D.length&&"type"==D[1]?c+(E+"=")+v+"&":c+(E+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function bh(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Ay(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=Mg(n,t),r==Ag){4==e&&(n.o=4,Os(14),i=!1),Sl(n.j,n.m,null,"[Incomplete Response]");break}if(r==zd){n.o=4,Os(15),Sl(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Sl(n.j,n.m,r,null),Rg(n,r)}bh(n)&&r!=Ag&&r!=zd&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Os(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ex(e),e.M=!0,Os(11))):(Sl(n.j,n.m,t,"[Invalid Chunked Response]"),$d(n),wh(n))}function Mg(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Ag:(t=Number(e.substring(t,i)),isNaN(t)?zd:(i+=1)+t>e.length?Ag:(e=e.slice(i,i+t),n.C=i+t,e))}function lm(n){n.Y=Date.now()+n.P,ky(n,n.P)}function ky(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ty(es(n.lb,n),e)}function dm(n){n.B&&(Pt.clearTimeout(n.B),n.B=null)}function wh(n){0==n.l.H||n.J||QT(n.l,n)}function $d(n){dm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Pw(n.V),Fw(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Rg(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Gw(t.i,n)))if(!n.K&&Gw(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Hy(t),Ug(t)}Jw(t),Os(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ty(es(t.ib,t),6e3));if(1>=Ny(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ml(t,11)}else if((n.K||t.g==n)&&Hy(t),!ph(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const E=v[3];null!=E&&(t.ra=E,t.l.info("VER="+t.ra));const D=v[4];null!=D&&(t.Ga=D,t.l.info("SVER="+t.Ga));const M=v[5];null!=M&&"number"==typeof M&&0<M&&(t.L=i=1.5*M,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const N=n.g;if(N){const U=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var s=i.i;s.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Py(s,s.h),s.h=null))}if(i.F){const K=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(i.Da=K,oi(i.I,i.F,K))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((i=t).wa=Hg(i,i.J?i.pa:null,i.Y),c.K){HT(i.i,c);var h=c,p=i.L;p&&h.setTimeout(p),h.B&&(dm(h),lm(h)),i.g=c}else KT(i);0<t.j.length&&jy(t)}else"stop"!=v[0]&&"close"!=v[0]||Ml(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Ml(t,7):Qw(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}am()}catch{}}function LT(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(im(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function S1(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(im(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function D1(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(im(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(it=Vt.prototype).setTimeout=function(n){this.P=n},it.nb=function(n){n=n.target;const e=this.M;e&&3==Ba(n)?e.l():this.Pa(n)},it.Pa=function(n){try{if(n==this.g)e:{const E=Ba(this.g);var e=this.g.Ia();if(this.g.da(),!(3>E)&&(3!=E||gy||this.g&&(this.h.h||this.g.ja()||Yw(this.g)))){this.J||4!=E||7==e||am(),dm(this);var t=this.g.da();this.ca=t;t:if(bh(this)){var i=Yw(this.g);n="";var r=i.length,s=4==Ba(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){$d(this),wh(this);var c="";break t}this.h.i=new Pt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function Ig(n,e,t,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.W,E,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ph(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Os(12),$d(this),wh(this);break e}Sl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rg(this,t)}this.S?(Ay(this,E,c),gy&&this.i&&3==E&&(kT(this.U,this.V,"tick",this.mb),this.V.start())):(Sl(this.j,this.m,c,null),Rg(this,c)),4==E&&$d(this),this.i&&!this.J&&(4==E?QT(this.l,this):(this.i=!1,lm(this)))}else(function V1(n){const e={};n=(n.g&&2<=Ba(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(ph(n[i]))continue;var t=Ow(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function v1(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Os(12)):(this.o=0,Os(13)),$d(this),wh(this)}}}catch{}},it.mb=function(){if(this.g){var n=Ba(this.g),e=this.g.ja();this.C<e.length&&(dm(this),Ay(this,n,e),this.i&&4!=n&&lm(this))}},it.cancel=function(){this.J=!0,$d(this)},it.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function MT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(am(),Os(17)),$d(this),this.o=2,wh(this)):ky(this,this.Y-n)};var Hw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xh(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof xh){this.h=n.h,My(this,n.j),this.s=n.s,this.g=n.g,Og(this,n.m),this.l=n.l;var e=n.i,t=new Pg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),zw(this,t),this.o=n.o}else n&&(e=String(n).match(Hw))?(this.h=!1,My(this,e[1]||"",!0),this.s=ts(e[2]||""),this.g=ts(e[3]||"",!0),Og(this,e[4]),this.l=ts(e[5]||"",!0),zw(this,e[6]||"",!0),this.o=ts(e[7]||"")):(this.h=!1,this.i=new Pg(null,this.h))}function Al(n){return new xh(n)}function My(n,e,t){n.j=t?ts(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Og(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function zw(n,e,t){e instanceof Pg?(n.i=e,function N1(n,e){e&&!n.j&&(kl(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(VT(this,i),Oy(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ng(e,R1)),n.i=new Pg(e,n.h))}function oi(n,e,t){n.i.set(e,t)}function Ry(n){return oi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ts(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ng(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,k1),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function k1(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}xh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ng(e,M1,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ng(e,M1,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ng(t,"/"==t.charAt(0)?BT:$w,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ng(t,O1)),n.join("")};var M1=/[#\/\?@]/g,$w=/[#\?:]/g,BT=/[#\?]/g,R1=/[#\?@]/g,O1=/#/g;function Pg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function kl(n){n.g||(n.g=new Map,n.h=0,n.i&&function A1(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function VT(n,e){kl(n),e=um(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function UT(n,e){return kl(n),e=um(n,e),n.g.has(e)}function Oy(n,e,t){VT(n,e),0<t.length&&(n.i=null,n.g.set(um(n,e),Ew(t)),n.h+=t.length)}function um(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function jT(n){this.l=n||F1,n=Pt.PerformanceNavigationTiming?0<(n=Pt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Pt.g&&Pt.g.Ka&&Pt.g.Ka()&&Pt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=Pg.prototype).add=function(n,e){kl(this),this.i=null,n=um(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},it.forEach=function(n,e){kl(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},it.ta=function(){kl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},it.Z=function(n){kl(this);let e=[];if("string"==typeof n)UT(this,n)&&(e=e.concat(this.g.get(um(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},it.set=function(n,e){return kl(this),this.i=null,UT(this,n=um(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},it.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),c=this.Z(i);for(i=0;i<c.length;i++){var r=s;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var F1=10;function La(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ny(n){return n.h?1:n.g?n.g.size:0}function Gw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Py(n,e){n.g?n.g.add(e):n.h=e}function HT(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function qw(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Ew(n.i)}jT.prototype.cancel=function(){if(this.i=qw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var zT=class{stringify(n){return Pt.JSON.stringify(n,void 0)}parse(n){return Pt.JSON.parse(n,void 0)}};function Fy(){this.g=new zT}function Ww(n,e,t){const i=t||"";try{LT(n,function(r,s){let c=r;mh(r)&&(c=TT(r)),e.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Fg(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function hm(n){this.l=n.fc||null,this.j=n.ob||!1}function Lg(n,e){Gn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Ly,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jr(hm,PT),hm.prototype.g=function(){return new Lg(this.l,this.j)},hm.prototype.i=function(n){return function(){return n}}({}),jr(Lg,Gn);var Ly=0;function By(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function To(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Bg(n)}function Bg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(it=Lg.prototype).open=function(n,e){if(this.readyState!=Ly)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Bg(this)},it.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Pt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,To(this)),this.readyState=Ly},it.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Bg(this)),this.g&&(this.readyState=3,Bg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Pt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;By(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},it.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?To(this):Bg(this),3==this.readyState&&By(this)}},it.Za=function(n){this.g&&(this.response=this.responseText=n,To(this))},it.Ya=function(n){this.g&&(this.response=n,To(this))},it.ka=function(){this.g&&To(this)},it.setRequestHeader=function(n,e){this.v.append(n,e)},it.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Lg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var L1=Pt.JSON.parse;function _i(n){Gn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$T,this.L=this.M=!1}jr(_i,Gn);var $T="",GT=/^https?$/i,B1=["POST","PUT"];function fm(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Zw(n),Kw(n)}function Zw(n){n.F||(n.F=!0,Hr(n,"complete"),Hr(n,"error"))}function Vg(n){if(n.h&&typeof nm<"u"&&(!n.C[1]||4!=Ba(n)||2!=n.da()))if(n.v&&4==Ba(n))Cy(n.La,0,n);else if(Hr(n,"readystatechange"),4==Ba(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===c){var r=String(n.I).match(Hw)[1]||null;!r&&Pt.self&&Pt.self.location&&(r=Pt.self.location.protocol.slice(0,-1)),i=!GT.test(r?r.toLowerCase():"")}t=i}if(t)Hr(n,"complete"),Hr(n,"success");else{n.m=6;try{var s=2<Ba(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",Zw(n)}}finally{Kw(n)}}}function Kw(n,e){if(n.g){qT(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Hr(n,"ready");try{t.onreadystatechange=i}catch{}}}function qT(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Pt.clearTimeout(n.A),n.A=null)}function Ba(n){return n.g?n.g.readyState:0}function Yw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case $T:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function WT(n){let e="";return vy(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Uy(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=WT(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):oi(n,e,t))}function mm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function pm(n){this.Ga=0,this.j=[],this.l=new Cg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mm("baseRetryDelayMs",5e3,n),this.hb=mm("retryDelaySeedMs",1e4,n),this.eb=mm("forwardChannelMaxRetries",2,n),this.xa=mm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new jT(n&&n.concurrentRequestLimit),this.Ja=new Fy,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Qw(n){if(Xw(n),3==n.H){var e=n.W++,t=Al(n.I);if(oi(t,"SID",n.K),oi(t,"RID",e),oi(t,"TYPE","terminate"),jg(n,t),(e=new Vt(n,n.l,e)).L=2,e.v=Ry(Al(t)),t=!1,Pt.navigator&&Pt.navigator.sendBeacon)try{t=Pt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Pt.Image&&((new Image).src=e.v,t=!0),t||(e.g=JT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),lm(e)}XT(n)}function Ug(n){n.g&&(ex(n),n.g.cancel(),n.g=null)}function Xw(n){Ug(n),n.u&&(Pt.clearTimeout(n.u),n.u=null),Hy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Pt.clearTimeout(n.m),n.m=null)}function jy(n){if(!La(n.i)&&!n.m){n.m=!0;var e=n.Na;om||Nw(),xg||(om(),xg=!0),Ey.add(e,n),n.C=0}}function gm(n,e){var t;t=e?e.m:n.W++;const i=Al(n.I);oi(i,"SID",n.K),oi(i,"RID",t),oi(i,"AID",n.V),jg(n,i),n.o&&n.s&&Uy(i,n.o,n.s),t=new Vt(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=ZT(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Py(n.i,t),jw(t,i,e)}function jg(n,e){n.na&&vy(n.na,function(t,i){oi(e,i,t)}),n.h&&LT({},function(t,i){oi(e,i,t)})}function ZT(n,e,t){t=Math.min(n.j.length,t);var i=n.h?es(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=r[0].g,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let v=r[p].g;const E=r[p].map;if(v-=s,0>v)s=Math.max(0,r[p].g-100),h=!1;else try{Ww(E,c,"req"+v+"_")}catch{i&&i(E)}}if(h){i=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function KT(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;om||Nw(),xg||(om(),xg=!0),Ey.add(e,n),n.A=0}}function Jw(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ty(es(n.Ma,n),tx(n,n.A)),n.A++,0))}function ex(n){null!=n.B&&(Pt.clearTimeout(n.B),n.B=null)}function YT(n){n.g=new Vt(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Al(n.wa);oi(e,"RID","rpc"),oi(e,"SID",n.K),oi(e,"AID",n.V),oi(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&oi(e,"TO",n.qa),oi(e,"TYPE","xmlhttp"),jg(n,e),n.o&&n.s&&Uy(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Ry(Al(e)),t.s=null,t.S=!0,kg(t,n)}function Hy(n){null!=n.v&&(Pt.clearTimeout(n.v),n.v=null)}function QT(n,e){var t=null;if(n.g==e){Hy(n),ex(n),n.g=null;var i=2}else{if(!Gw(n.i,e))return;t=e.F,HT(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Hr(i=Iy(),new I1(i,t)),jy(n)}else KT(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function U1(n,e){return!(Ny(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ty(es(n.Na,n,e),tx(n,n.C)),n.C++,0)))}(n,e)||2==i&&Jw(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Ml(n,5);break;case 4:Ml(n,10);break;case 3:Ml(n,6);break;default:Ml(n,2)}}function tx(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ml(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=es(n.pb,n);t||(t=new xh("//www.google.com/images/cleardot.gif"),Pt.location&&"http"==Pt.location.protocol||My(t,"https"),Ry(t)),function lL(n,e){const t=new Cg;if(Pt.Image){const i=new Image;i.onload=hy(Fg,t,i,"TestLoadImage: loaded",!0,e),i.onerror=hy(Fg,t,i,"TestLoadImage: error",!1,e),i.onabort=hy(Fg,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=hy(Fg,t,i,"TestLoadImage: timeout",!1,e),Pt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Os(2);n.H=0,n.h&&n.h.za(e),XT(n),Xw(n)}function XT(n){if(n.H=0,n.ma=[],n.h){const e=qw(n.i);(0!=e.length||0!=n.j.length)&&(f1(n.ma,e),f1(n.ma,n.j),n.i.i.length=0,Ew(n.j),n.j.length=0),n.h.ya()}}function Hg(n,e,t){var i=t instanceof xh?Al(t):new xh(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Og(i,i.m);else{var r=Pt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new xh(null);i&&My(s,i),e&&(s.g=e),r&&Og(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&oi(i,t,e),oi(i,"VER",n.ra),jg(n,i),i}function JT(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new _i(t&&n.Ha&&!n.va?new hm({ob:!0}):n.va)).Oa(n.J),e}function eD(){}function zy(){if(gh&&!(10<=Number(_1)))throw Error("Environmental error: no available transport.")}function Do(n,e){Gn.call(this),this.g=new pm(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!ph(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ph(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new _m(this)}function tD(n){Dy.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function nD(){Vw.call(this),this.status=1}function _m(n){this.g=n}function ea(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function nx(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],c=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;c=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(c<<7&4294967295|c>>>25))+((c=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((s=(e=t+((c=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((r=s+((c=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function zn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(it=_i.prototype).Oa=function(n){this.M=n},it.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Sy.g(),this.C=function Dg(n){return n.h||(n.h=n.i())}(this.u?this.u:Sy),this.g.onreadystatechange=es(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void fm(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Pt.FormData&&n instanceof Pt.FormData,!(0<=_T(B1,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of t)this.g.setRequestHeader(s,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qT(this),0<this.B&&((this.L=function Vy(n){return gh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=es(this.ua,this)):this.A=Cy(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){fm(this,s)}},it.ua=function(){typeof nm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hr(this,"timeout"),this.abort(8))},it.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hr(this,"complete"),Hr(this,"abort"),Kw(this))},it.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kw(this,!0)),_i.$.N.call(this)},it.La=function(){this.s||(this.G||this.v||this.l?Vg(this):this.kb())},it.kb=function(){Vg(this)},it.isActive=function(){return!!this.g},it.da=function(){try{return 2<Ba(this)?this.g.status:-1}catch{return-1}},it.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},it.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),L1(e)}},it.Ia=function(){return this.m},it.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=pm.prototype).ra=8,it.H=1,it.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Vt(this,this.l,n);let s=this.s;if(this.U&&(s?(s=wT(s),xT(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ZT(this,r,e),oi(t=Al(this.I),"RID",n),oi(t,"CVER",22),this.F&&oi(t,"X-HTTP-Session-Id",this.F),jg(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(WT(s)))+"&"+e:this.o&&Uy(t,this.o,s)),Py(this.i,r),this.bb&&oi(t,"TYPE","init"),this.P?(oi(t,"$req",e),oi(t,"SID","null"),r.aa=!0,jw(r,t,null)):jw(r,t,e),this.H=2}}else 3==this.H&&(n?gm(this,n):0==this.j.length||La(this.i)||gm(this))},it.Ma=function(){if(this.u=null,YT(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ty(es(this.jb,this),n)}},it.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Os(10),Ug(this),YT(this))},it.ib=function(){null!=this.v&&(this.v=null,Ug(this),Jw(this),Os(19))},it.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Os(2)):(this.l.info("Failed to ping google.com"),Os(1))},it.isActive=function(){return!!this.h&&this.h.isActive(this)},(it=eD.prototype).Ba=function(){},it.Aa=function(){},it.za=function(){},it.ya=function(){},it.isActive=function(){return!0},it.Va=function(){},zy.prototype.g=function(n,e){return new Do(n,e)},jr(Do,Gn),Do.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Os(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Hg(n,null,n.Y),jy(n)},Do.prototype.close=function(){Qw(this.g)},Do.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=TT(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&jy(e)},Do.prototype.N=function(){this.g.h=null,delete this.j,Qw(this.g),delete this.g,Do.$.N.call(this)},jr(tD,Dy),jr(nD,Vw),jr(_m,eD),_m.prototype.Ba=function(){Hr(this.g,"a")},_m.prototype.Aa=function(n){Hr(this.g,new tD(n))},_m.prototype.za=function(n){Hr(this.g,new nD)},_m.prototype.ya=function(){Hr(this.g,"b")},jr(ea,function iD(){this.blockSize=-1}),ea.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ea.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)nx(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){nx(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){nx(this,i),r=0;break}}this.h=r,this.i+=e},ea.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var rD={};function $y(n){return-128<=n&&128>n?function py(n,e){var t=rD;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new zn([0|e],0>e?-1:0)}):new zn([0|n],0>n?-1:0)}function Rl(n){if(isNaN(n)||!isFinite(n))return vm;if(0>n)return bn(Rl(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=ix;return new zn(e,0)}var ix=4294967296,vm=$y(0),$g=$y(1),sD=$y(16777216);function $r(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function hs(n){return-1==n.h}function bn(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new zn(t,~n.h).add($g)}function Rc(n,e){return n.add(bn(e))}function Eh(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function fs(n,e){this.g=n,this.h=e}function ym(n,e){if($r(e))throw Error("division by zero");if($r(n))return new fs(vm,vm);if(hs(n))return e=ym(bn(n),e),new fs(bn(e.g),bn(e.h));if(hs(e))return e=ym(n,bn(e)),new fs(bn(e.g),e.h);if(30<n.g.length){if(hs(n)||hs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=$g,i=e;0>=i.X(n);)t=Ch(t),i=Ch(i);var r=Va(t,1),s=Va(i,1);for(i=Va(i,2),t=Va(t,2);!$r(i);){var c=s.add(i);0>=c.X(n)&&(r=r.add(t),s=c),i=Va(i,1),t=Va(t,1)}return e=Rc(n,r.R(e)),new fs(r,e)}for(r=vm;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),c=(s=Rl(t)).R(e);hs(c)||0<c.X(n);)c=(s=Rl(t-=i)).R(e);$r(s)&&(s=$g),r=r.add(s),n=Rc(n,c)}return new fs(r,n)}function Ch(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new zn(t,n.h)}function Va(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new zn(r,n.h)}(it=zn.prototype).ea=function(){if(hs(this))return-bn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:ix+i)*e,e*=ix}return n},it.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if($r(this))return"0";if(hs(this))return"-"+bn(this).toString(n);for(var e=Rl(Math.pow(n,6)),t=this,i="";;){var r=ym(t,e).g,s=((0<(t=Rc(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if($r(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},it.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},it.X=function(n){return hs(n=Rc(this,n))?-1:$r(n)?0:1},it.abs=function(){return hs(this)?bn(this):this},it.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),c=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=c>>>16,t[r]=(c&=65535)<<16|(s&=65535)}return new zn(t,-2147483648&t[t.length-1]?-1:0)},it.R=function(n){if($r(this)||$r(n))return vm;if(hs(this))return hs(n)?bn(this).R(bn(n)):bn(bn(this).R(n));if(hs(n))return bn(this.R(bn(n)));if(0>this.X(sD)&&0>n.X(sD))return Rl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,c=65535&this.D(i),h=n.D(r)>>>16,p=65535&n.D(r);t[2*i+2*r]+=c*p,Eh(t,2*i+2*r),t[2*i+2*r+1]+=s*p,Eh(t,2*i+2*r+1),t[2*i+2*r+1]+=c*h,Eh(t,2*i+2*r+1),t[2*i+2*r+2]+=s*h,Eh(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new zn(t,0)},it.gb=function(n){return ym(this,n).h},it.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new zn(t,this.h&n.h)},it.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new zn(t,this.h|n.h)},it.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new zn(t,this.h^n.h)},zy.prototype.createWebChannel=zy.prototype.g,Do.prototype.send=Do.prototype.u,Do.prototype.open=Do.prototype.m,Do.prototype.close=Do.prototype.close,Tg.NO_ERROR=0,Tg.TIMEOUT=8,Tg.HTTP_ERROR=6,Bw.COMPLETE="complete",T1.EventType=cm,cm.OPEN="a",cm.CLOSE="b",cm.ERROR="c",cm.MESSAGE="d",Gn.prototype.listen=Gn.prototype.O,_i.prototype.listenOnce=_i.prototype.P,_i.prototype.getLastError=_i.prototype.Sa,_i.prototype.getLastErrorCode=_i.prototype.Ia,_i.prototype.getStatus=_i.prototype.da,_i.prototype.getResponseJson=_i.prototype.Wa,_i.prototype.getResponseText=_i.prototype.ja,_i.prototype.send=_i.prototype.ha,_i.prototype.setWithCredentials=_i.prototype.Oa,ea.prototype.digest=ea.prototype.l,ea.prototype.reset=ea.prototype.reset,ea.prototype.update=ea.prototype.j,zn.prototype.add=zn.prototype.add,zn.prototype.multiply=zn.prototype.R,zn.prototype.modulo=zn.prototype.gb,zn.prototype.compare=zn.prototype.X,zn.prototype.toNumber=zn.prototype.ea,zn.prototype.toString=zn.prototype.toString,zn.prototype.getBits=zn.prototype.D,zn.fromNumber=Rl,zn.fromString=function zg(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return bn(zg(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Rl(Math.pow(e,8)),i=vm,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),c=parseInt(n.substring(r,r+s),e);8>s?(s=Rl(Math.pow(e,s)),i=i.R(s).add(Rl(c))):i=(i=i.R(t)).add(Rl(c))}return i};var bm=Io.createWebChannelTransport=function(){return new zy},wm=Io.getStatEventTarget=function(){return Iy()},Gd=Io.ErrorCode=Tg,xm=Io.EventType=Bw,Em=Io.Event=yh,Ih=Io.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Cm=Io.FetchXmlHttpFactory=hm,Gg=Io.WebChannel=T1,oD=Io.XhrIo=_i,aD=Io.Md5=ea,Th=Io.Integer=zn;const rx="@firebase/firestore";class Cr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");let Dh="9.23.0";const Ol=new no.Yd("@firebase/firestore");function Gy(){return Ol.logLevel}function $e(n,...e){if(Ol.logLevel<=no.in.DEBUG){const t=e.map(ox);Ol.debug(`Firestore (${Dh}): ${n}`,...t)}}function ur(n,...e){if(Ol.logLevel<=no.in.ERROR){const t=e.map(ox);Ol.error(`Firestore (${Dh}): ${n}`,...t)}}function Ua(n,...e){if(Ol.logLevel<=no.in.WARN){const t=e.map(ox);Ol.warn(`Firestore (${Dh}): ${n}`,...t)}}function ox(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ht(n="Unexpected state"){const e=`FIRESTORE (${Dh}) INTERNAL ASSERTION FAILED: `+n;throw ur(e),new Error(e)}function Ct(n,e){n||ht()}function ot(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends P.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ir{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class qy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Cr.UNAUTHENTICATED))}shutdown(){}}class ax{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wy{constructor(e){this.t=e,this.currentUser=Cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let c=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ir,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const v=c;e.enqueueRetryable((0,xe.Z)(function*(){yield v.promise,yield s(i.currentUser)}))},p=v=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ir)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ct("string"==typeof i.accessToken),new qy(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new Cr(e)}}class cD{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Cr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Wg{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new cD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H1{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.T;return this.T=s.token,$e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ct("string"==typeof t.token),this.T=t.token,new cx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function z1(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class lD{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=z1(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Gt(n,e){return n<e?-1:n>e?1:0}function Im(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function Ky(n){return n+"\0"}class qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qn.fromMillis(Date.now())}static fromDate(e){return qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new qn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new qn(0,0))}static max(){return new wt(new qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yy{constructor(e,t,i){void 0===t?t=0:t>e.length&&ht(),void 0===i?i=e.length-t:i>e.length-t&&ht(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Yy.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yy?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),c=t.get(r);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _n extends Yy{construct(e,t,i){return new _n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Fe(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new _n(t)}static emptyPath(){return new _n([])}}const $1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vi extends Yy{construct(e,t,i){return new vi(e,t,i)}static isValidIdentifier(e){return $1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Fe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Fe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Fe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(s(),r++)}if(s(),c)throw new Fe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vi(t)}static emptyPath(){return new vi([])}}class rt{constructor(e){this.path=e}static fromPath(e){return new rt(_n.fromString(e))}static fromName(e){return new rt(_n.fromString(e).popFirst(5))}static empty(){return new rt(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_n.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _n.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rt(new _n(e.slice()))}}class Zg{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function lx(n){return n.fields.find(e=>2===e.kind)}function Sh(n){return n.fields.filter(e=>2!==e.kind)}Zg.UNKNOWN_ID=-1;class Kg{constructor(e,t){this.fieldPath=e,this.kind=t}}class Yg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Yg(0,io.min())}}function hD(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=wt.fromTimestamp(1e9===i?new qn(t+1,0):new qn(t,i));return new io(r,rt.empty(),e)}function fD(n){return new io(n.readTime,n.key,-1)}class io{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new io(wt.min(),rt.empty(),-1)}static max(){return new io(wt.max(),rt.empty(),-1)}}function Qg(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=rt.comparator(n.documentKey,e.documentKey),0!==t?t:Gt(n.largestBatchId,e.largestBatchId))}const Qy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ja(n){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,xe.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==Qy)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),Tm.apply(this,arguments)}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,i)=>{t(e)})}static reject(e){return new le((t,i)=>{i(e)})}static waitFor(e){return new le((t,i)=>{let r=0,s=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++s,c&&s===r&&t()},p=>i(p))}),c=!0,s===r&&t()})}static or(e){let t=le.resolve(!1);for(const i of e)t=t.next(r=>r?le.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new le((i,r)=>{const s=e.length,c=new Array(s);let h=0;for(let p=0;p<s;p++){const v=p;t(e[v]).next(E=>{c[v]=E,++h,h===s&&i(c)},E=>r(E))}})}static doWhile(e,t){return new le((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class Xg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ir,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Jg(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=hx(i.target.error);this.v.reject(new Jg(e,r))}}static open(e,t,i,r){try{return new Xg(t,e.transaction(r,i))}catch(s){throw new Jg(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new dx(t)}}class Ha{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Ha.S((0,P.z$)())&&ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $e("SimpleDb","Removing database:",e),qd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,P.hl)())return!1;if(Ha.C())return!0;const e=(0,P.z$)(),t=Ha.S(e),i=0<t&&t<10,r=Ha.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,xe.Z)(function*(){return t.db||($e("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new Jg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new Fe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Fe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Jg(e,h))},s.onupgradeneeded=c=>{$e("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.O(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{$e("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,xe.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.$(e);const p=Xg.open(s.db,e,c?"readonly":"readwrite",i),v=r(p).next(E=>(p.P(),E)).catch(E=>(p.abort(E),le.reject(E))).toPromise();return v.catch(()=>{}),yield p.R,v}catch(p){const v=p,E="FirebaseError"!==v.name&&h<3;if($e("SimpleDb","Transaction failed with error:",v.message,"Retrying:",E),s.close(),!E)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class G1{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return qd(this.L.delete())}}class Jg extends Fe{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Oc(n){return"IndexedDbTransactionError"===n.name}class dx{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?($e("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),qd(i)}add(e){return $e("SimpleDb","ADD",this.store.name,e,e),qd(this.store.add(e))}get(e){return qd(this.store.get(e)).next(t=>(void 0===t&&(t=null),$e("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return $e("SimpleDb","DELETE",this.store.name,e),qd(this.store.delete(e))}count(){return $e("SimpleDb","COUNT",this.store.name),qd(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(c,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new le((s,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new le((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}J(e,t){$e("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,c,h)=>h.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new le((i,r)=>{t.onerror=s=>{const c=hx(s.target.error);r(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}W(e,t){const i=[];return new le((r,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const p=new G1(h),v=t(h.primaryKey,h.value,p);if(v instanceof le){const E=v.catch(D=>(p.done(),le.reject(D)));i.push(E)}p.isDone?r():null===p.K?h.continue():h.continue(p.K)}}).next(()=>le.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function qd(n){return new le((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=hx(i.target.error);t(r)}})}let ux=!1;function hx(n){const e=Ha.S((0,P.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ux||(ux=!0,setTimeout(()=>{throw i},0)),i}}return n}class q1{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;$e("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,xe.Z)(function*(){t.task=null;try{$e("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Oc(i)?$e("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield ja(i)}yield t.et(6e4)}))}}class pD{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,xe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,s=!0;return le.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return $e("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,r).next(h=>{r-=h,i.add(c)});s=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(r,s)).next(h=>($e("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,s)=>{const c=fD(s);Qg(c,i)>0&&(i=c)}),new io(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ns=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Dm(n){return null==n}function Ah(n){return 0===n&&1/n==-1/0}function fx(n){return"number"==typeof n&&Number.isInteger(n)&&!Ah(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ms(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=mx(e)),e=gD(n.get(t),e);return mx(e)}function gD(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function mx(n){return n+"\x01\x01"}function za(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),_n.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&ht(),n.charAt(c+1)){case"\x01":const h=n.substring(s,c);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:ht()}s=c+2}return new _n(i)}const px=["userId","batchId"];function Xy(n,e){return[n,ms(e)]}function gx(n,e,t){return[n,ms(e),t]}const _D={},_x=["prefixPath","collectionGroup","readTime","documentId"],vx=["prefixPath","collectionGroup","documentId"],vD=["collectionGroup","readTime","prefixPath","documentId"],yD=["canonicalId","targetId"],bD=["targetId","path"],wD=["path","targetId"],xD=["collectionId","parent"],ED=["indexId","uid"],CD=["uid","sequenceNumber"],ID=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Jy=["indexId","uid","orderedDocumentKey"],Wd=["userId","collectionPath","documentId"],W1=["userId","collectionPath","largestBatchId"],Z1=["userId","collectionGroup","largestBatchId"],eb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],kh=[...eb,"documentOverlays"],tb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],TD=tb,yx=[...TD,"indexConfiguration","indexState","indexEntries"];class DD extends mD{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ns(n,e){const t=ot(n);return Ha.M(t.ht,e)}function SD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function bx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Jn{constructor(e,t){this.comparator=e,this.root=t||Gr.EMPTY}insert(e,t){return new Jn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gr.BLACK,null,null))}remove(e){return new Jn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vi(this.root,e,this.comparator,!0)}}class Vi{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Gr.RED,this.left=r??Gr.EMPTY,this.right=s??Gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Gr(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Gr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const e=this.left.check();if(e!==this.right.check())throw ht();return e+(this.isRed()?0:1)}}Gr.EMPTY=null,Gr.RED=!0,Gr.BLACK=!1,Gr.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Gr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ai{constructor(e){this.comparator=e,this.data=new Jn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new AD(this.data.getIterator())}getIteratorFrom(e){return new AD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof ai)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ai(this.comparator);return t.data=e,t}}class AD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mh(n){return n.hasNext()?n.getNext():void 0}class ro{constructor(e){this.fields=e,e.sort(vi.comparator)}static empty(){return new ro([])}unionWith(e){let t=new ai(vi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ro(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Im(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class wx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new wx("Invalid base64 string: "+r):r}}(e);return new yi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new yi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yi.EMPTY_BYTE_STRING=new yi("");const K1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kd(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=K1.exec(n);if(Ct(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ti(n.seconds),nanos:Ti(n.nanos)}}function Ti(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Nl(n){return"string"==typeof n?yi.fromBase64String(n):yi.fromUint8Array(n)}function e_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function xx(n){const e=n.mapValue.fields.__previous_value__;return e_(e)?xx(e):e}function Rh(n){const e=Kd(n.mapValue.fields.__local_write_time__.timestampValue);return new qn(e.seconds,e.nanos)}class Ex{constructor(e,t,i,r,s,c,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=v}}class is{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new is("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof is&&e.projectId===this.projectId&&e.database===this.database}}const Yd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},nb={nullValue:"NULL_VALUE"};function rs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?e_(n)?4:Dx(n)?9007199254740991:10:ht()}function hr(n,e){if(n===e)return!0;const t=rs(n);if(t!==rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rh(n).isEqual(Rh(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Kd(i.timestampValue),c=Kd(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Nl(n.bytesValue).isEqual(Nl(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ti(i.geoPointValue.latitude)===Ti(r.geoPointValue.latitude)&&Ti(i.geoPointValue.longitude)===Ti(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ti(i.integerValue)===Ti(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Ti(i.doubleValue),c=Ti(r.doubleValue);return s===c?Ah(s)===Ah(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return Im(n.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(SD(s)!==SD(c))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===c[h]||!hr(s[h],c[h])))return!1;return!0}(n,e);default:return ht()}var r}function Ps(n,e){return void 0!==(n.values||[]).find(t=>hr(t,e))}function Pl(n,e){if(n===e)return 0;const t=rs(n),i=rs(e);if(t!==i)return Gt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const c=Ti(r.integerValue||r.doubleValue),h=Ti(s.integerValue||s.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return Cx(n.timestampValue,e.timestampValue);case 4:return Cx(Rh(n),Rh(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(r,s){const c=Nl(r),h=Nl(s);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const c=r.split("/"),h=s.split("/");for(let p=0;p<c.length&&p<h.length;p++){const v=Gt(c[p],h[p]);if(0!==v)return v}return Gt(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const c=Gt(Ti(r.latitude),Ti(s.latitude));return 0!==c?c:Gt(Ti(r.longitude),Ti(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const c=r.values||[],h=s.values||[];for(let p=0;p<c.length&&p<h.length;++p){const v=Pl(c[p],h[p]);if(v)return v}return Gt(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Yd.mapValue&&s===Yd.mapValue)return 0;if(r===Yd.mapValue)return 1;if(s===Yd.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),p=s.fields||{},v=Object.keys(p);h.sort(),v.sort();for(let E=0;E<h.length&&E<v.length;++E){const D=Gt(h[E],v[E]);if(0!==D)return D;const M=Pl(c[h[E]],p[v[E]]);if(0!==M)return M}return Gt(h.length,v.length)}(n.mapValue,e.mapValue);default:throw ht()}}function Cx(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=Kd(n),i=Kd(e),r=Gt(t.seconds,i.seconds);return 0!==r?r:Gt(t.nanos,i.nanos)}function Sm(n){return Ix(n)}function Ix(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Kd(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Nl(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=Ix(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const h of r)c?c=!1:s+=",",s+=`${h}:${Ix(i.fields[h])}`;return s+"}"}(n.mapValue):ht();var e}function Oh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function t_(n){return!!n&&"integerValue"in n}function Fl(n){return!!n&&"arrayValue"in n}function MD(n){return!!n&&"nullValue"in n}function Tx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function rb(n){return!!n&&"mapValue"in n}function n_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zd(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=n_(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=n_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Dx(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function RD(n){return"nullValue"in n?nb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Oh(is.empty(),rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ht()}function sb(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Oh(is.empty(),rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Yd:ht()}function OD(n,e){const t=Pl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Sx(n,e){const t=Pl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class qr{constructor(e){this.value=e}static empty(){return new qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!rb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=n_(t)}setAll(e){let t=vi.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=n_(c):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());rb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];rb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Zd(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new qr(n_(this.value))}}function Ax(n){const e=[];return Zd(n.fields,(t,i)=>{const r=new vi([t]);if(rb(i)){const s=Ax(i.mapValue).fields;if(0===s.length)e.push(r);else for(const c of s)e.push(r.child(c))}else e.push(r)}),new ro(e)}class ci{constructor(e,t,i,r,s,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=c,this.documentState=h}static newInvalidDocument(e){return new ci(e,0,wt.min(),wt.min(),wt.min(),qr.empty(),0)}static newFoundDocument(e,t,i,r){return new ci(e,1,t,wt.min(),i,r,0)}static newNoDocument(e,t){return new ci(e,2,t,wt.min(),wt.min(),qr.empty(),0)}static newUnknownDocument(e,t){return new ci(e,3,t,wt.min(),wt.min(),qr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ci&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qd{constructor(e,t){this.position=e,this.inclusive=t}}function ob(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],c=n.position[r];if(i=s.field.isKeyField()?rt.comparator(rt.fromName(c.referenceValue),t.key):Pl(c,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function i_(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hr(n.position[t],e.position[t]))return!1;return!0}class Nh{constructor(e,t="asc"){this.field=e,this.dir=t}}function kx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Mx{}class rn extends Mx{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new Y1(e,t,i):"array-contains"===t?new J1(e,i):"in"===t?new VD(e,i):"not-in"===t?new eR(e,i):"array-contains-any"===t?new tR(e,i):new rn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Q1(e,i):new X1(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Pl(t,this.value)):null!==t&&rs(this.value)===rs(t)&&this.matchesComparison(Pl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class On extends Mx{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new On(e,t)}matches(e){return Ph(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ph(n){return"and"===n.op}function ab(n){return"or"===n.op}function cb(n){return ND(n)&&Ph(n)}function ND(n){for(const e of n.filters)if(e instanceof On)return!1;return!0}function Rx(n){if(n instanceof rn)return n.field.canonicalString()+n.op.toString()+Sm(n.value);if(cb(n))return n.filters.map(e=>Rx(e)).join(",");{const e=n.filters.map(t=>Rx(t)).join(",");return`${n.op}(${e})`}}function PD(n,e){return n instanceof rn?(t=n,(i=e)instanceof rn&&t.op===i.op&&t.field.isEqual(i.field)&&hr(t.value,i.value)):n instanceof On?function(t,i){return i instanceof On&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,c)=>r&&PD(s,i.filters[c]),!0)}(n,e):void ht();var t,i}function FD(n,e){const t=n.filters.concat(e);return On.create(t,n.op)}function LD(n){return n instanceof rn?`${(e=n).field.canonicalString()} ${e.op} ${Sm(e.value)}`:n instanceof On?function(e){return e.op.toString()+" {"+e.getFilters().map(LD).join(" ,")+"}"}(n):"Filter";var e}class Y1 extends rn{constructor(e,t,i){super(e,t,i),this.key=rt.fromName(i.referenceValue)}matches(e){const t=rt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Q1 extends rn{constructor(e,t){super(e,"in",t),this.keys=BD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class X1 extends rn{constructor(e,t){super(e,"not-in",t),this.keys=BD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function BD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>rt.fromName(i.referenceValue))}class J1 extends rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fl(t)&&Ps(t.arrayValue,this.value)}}class VD extends rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ps(this.value.arrayValue,t)}}class eR extends rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ps(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ps(this.value.arrayValue,t)}}class tR extends rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ps(this.value.arrayValue,i))}}class nR{constructor(e,t=null,i=[],r=[],s=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=h,this.dt=null}}function Ox(n,e=null,t=[],i=[],r=null,s=null,c=null){return new nR(n,e,t,i,r,s,c)}function Fh(n){const e=ot(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Rx(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Dm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Sm(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Sm(i)).join(",")),e.dt=t}return e.dt}function r_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!PD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!i_(n.startAt,e.startAt)&&i_(n.endAt,e.endAt)}function lb(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function s_(n,e){return n.filters.filter(t=>t instanceof rn&&t.field.isEqual(e))}function Nx(n,e,t){let i=nb,r=!0;for(const s of s_(n,e)){let c=nb,h=!0;switch(s.op){case"<":case"<=":c=RD(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,h=!1;break;case"!=":case"not-in":c=nb}OD({value:i,inclusive:r},{value:c,inclusive:h})<0&&(i=c,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];OD({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function Px(n,e,t){let i=Yd,r=!0;for(const s of s_(n,e)){let c=Yd,h=!0;switch(s.op){case">=":case">":c=sb(s.value),h=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,h=!1;break;case"!=":case"not-in":c=Yd}Sx({value:i,inclusive:r},{value:c,inclusive:h})>0&&(i=c,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];Sx({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class Nc{constructor(e,t=null,i=[],r=[],s=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=h,this.endAt=p,this.wt=null,this._t=null}}function Fx(n,e,t,i,r,s,c,h){return new Nc(n,e,t,i,r,s,c,h)}function Lh(n){return new Nc(n)}function Lx(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function db(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function o_(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function a_(n){return null!==n.collectionGroup}function Xd(n){const e=ot(n);if(null===e.wt){e.wt=[];const t=o_(e),i=db(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Nh(t)),e.wt.push(new Nh(vi.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Nh(vi.keyField(),s))}}}return e.wt}function er(n){const e=ot(n);if(!e._t)if("F"===e.limitType)e._t=Ox(e.path,e.collectionGroup,Xd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Xd(e))t.push(new Nh(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Qd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Qd(e.startAt.position,e.startAt.inclusive):null;e._t=Ox(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function Bx(n,e){e.getFirstInequalityField(),o_(n);const t=n.filters.concat([e]);return new Nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ub(n,e,t){return new Nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Pc(n,e){return r_(er(n),er(e))&&n.limitType===e.limitType}function iR(n){return`${Fh(er(n))}|lt:${n.limitType}`}function c_(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>LD(i)).join(", ")}]`),Dm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Sm(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Sm(i)).join(",")),`Target(${t})`}(er(n))}; limitType=${n.limitType})`}function hb(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):rt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Xd(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,c){const h=ob(r,s,c);return r.inclusive?h<=0:h<0}(t.startAt,Xd(t),i)||t.endAt&&!function(r,s,c){const h=ob(r,s,c);return r.inclusive?h>=0:h>0}(t.endAt,Xd(t),i)));var t,i}function Vx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ux(n){return(e,t)=>{let i=!1;for(const r of Xd(n)){const s=dL(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function dL(n,e,t){const i=n.field.isKeyField()?rt.comparator(e.key,t.key):function(r,s,c){const h=s.data.field(r),p=c.data.field(r);return null!==h&&null!==p?Pl(h,p):ht()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ht()}}class so{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Zd(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return bx(this.inner)}size(){return this.innerSize}}const rR=new Jn(rt.comparator);function oo(){return rR}const UD=new Jn(rt.comparator);function Fc(...n){let e=UD;for(const t of n)e=e.insert(t.key,t);return e}function jD(n){let e=UD;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function So(){return Wr()}function l_(){return Wr()}function Wr(){return new so(n=>n.toString(),(n,e)=>n.isEqual(e))}const uL=new Jn(rt.comparator),HD=new ai(rt.comparator);function qt(...n){let e=HD;for(const t of n)e=e.add(t);return e}const sR=new ai(Gt);function fb(){return sR}function jx(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function Hx(n){return{integerValue:""+n}}function zx(n,e){return fx(e)?Hx(e):jx(n,e)}class mb{constructor(){this._=void 0}}function oR(n,e,t){return n instanceof km?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&e_(r)&&(r=xx(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Bh?zD(n,e):n instanceof Lc?$x(n,e):function(i,r){const s=Am(i,r),c=Gx(s)+Gx(i.gt);return t_(s)&&t_(i.gt)?Hx(c):jx(i.serializer,c)}(n,e)}function aR(n,e,t){return n instanceof Bh?zD(n,e):n instanceof Lc?$x(n,e):t}function Am(n,e){return n instanceof Vh?t_(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class km extends mb{}class Bh extends mb{constructor(e){super(),this.elements=e}}function zD(n,e){const t=$D(e);for(const i of n.elements)t.some(r=>hr(r,i))||t.push(i);return{arrayValue:{values:t}}}class Lc extends mb{constructor(e){super(),this.elements=e}}function $x(n,e){let t=$D(e);for(const i of n.elements)t=t.filter(r=>!hr(r,i));return{arrayValue:{values:t}}}class Vh extends mb{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Gx(n){return Ti(n.integerValue||n.doubleValue)}function $D(n){return Fl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ll{constructor(e,t){this.field=e,this.transform=t}}class cR{constructor(e,t){this.version=e,this.transformResults=t}}class bi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class u_{}function qx(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Uh(n.key,bi.none()):new Mm(n.key,n.data,bi.none());{const t=n.data,i=qr.empty();let r=new ai(vi.comparator);for(let s of e.fields)if(!r.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new Jd(n.key,i,new ro(r.toArray()),bi.none())}}function GD(n,e,t){n instanceof Mm?function(i,r,s){const c=i.value.clone(),h=dR(i.fieldTransforms,r,s.transformResults);c.setAll(h),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Jd?function(i,r,s){if(!pb(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=dR(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(lR(i)),h.setAll(c),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function h_(n,e,t,i){return n instanceof Mm?function(r,s,c,h){if(!pb(r.precondition,s))return c;const p=r.value.clone(),v=uR(r.fieldTransforms,h,s);return p.setAll(v),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Jd?function(r,s,c,h){if(!pb(r.precondition,s))return c;const p=uR(r.fieldTransforms,h,s),v=s.data;return v.setAll(lR(r)),v.setAll(p),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(E=>E.field))}(n,e,t,i):(c=t,pb(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function qD(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=Am(i.transform,r||null);null!=s&&(null===t&&(t=qr.empty()),t.set(i.field,s))}return t||null}function WD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Im(t,i,(r,s)=>function d_(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Bh&&i instanceof Bh||t instanceof Lc&&i instanceof Lc?Im(t.elements,i.elements,hr):t instanceof Vh&&i instanceof Vh?hr(t.gt,i.gt):t instanceof km&&i instanceof km);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Mm extends u_{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Jd extends u_{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function dR(n,e,t){const i=new Map;Ct(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],c=s.transform,h=e.data.field(s.field);i.set(s.field,aR(c,h,t[r]))}return i}function uR(n,e,t){const i=new Map;for(const r of n){const s=r.transform,c=t.data.field(r.field);i.set(r.field,oR(s,c,e))}return i}class Uh extends u_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rm extends u_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wx{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&GD(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=h_(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=h_(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=l_();return this.mutations.forEach(r=>{const s=e.get(r.key),c=s.overlayedDocument;let h=this.applyToLocalView(c,s.mutatedFields);h=t.has(r.key)?null:h;const p=qx(c,h);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(wt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qt())}isEqual(e){return this.batchId===e.batchId&&Im(this.mutations,e.mutations,(t,i)=>WD(t,i))&&Im(this.baseMutations,e.baseMutations,(t,i)=>WD(t,i))}}class Zx{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ct(e.mutations.length===i.length);let r=uL;const s=e.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new Zx(e,t,i,r)}}class gb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hR{constructor(e,t){this.count=e,this.unchangedNames=t}}var fr,vn;function ZD(n){switch(n){default:return ht();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function fR(n){if(void 0===n)return ur("GRPC error has no .code"),me.UNKNOWN;switch(n){case fr.OK:return me.OK;case fr.CANCELLED:return me.CANCELLED;case fr.UNKNOWN:return me.UNKNOWN;case fr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case fr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case fr.INTERNAL:return me.INTERNAL;case fr.UNAVAILABLE:return me.UNAVAILABLE;case fr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case fr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case fr.NOT_FOUND:return me.NOT_FOUND;case fr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case fr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case fr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case fr.ABORTED:return me.ABORTED;case fr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case fr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case fr.DATA_LOSS:return me.DATA_LOSS;default:return ht()}}(vn=fr||(fr={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";class Kx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return m_}static getOrCreateInstance(){return null===m_&&(m_=new Kx),m_}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let m_=null;function KD(){return new TextEncoder}const mR=new Th([4294967295,4294967295],0);function Om(n){const e=KD().encode(n),t=new aD;return t.update(e),new Uint8Array(t.digest())}function YD(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Th([t,i],0),new Th([r,s],0)]}class _b{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new p_(`Invalid padding: ${t}`);if(i<0)throw new p_(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new p_(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new p_(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Th.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(Th.fromNumber(i)));return 1===r.compare(mR)&&(r=new Th([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Om(e),[i,r]=YD(t);for(let s=0;s<this.hashCount;s++){const c=this.Et(i,r,s);if(!this.At(c))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new _b(s,r,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(0===this.It)return;const t=Om(e),[i,r]=YD(t);for(let s=0;s<this.hashCount;s++){const c=this.Et(i,r,s);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class p_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nm{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,g_.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Nm(wt.min(),r,new Jn(Gt),oo(),qt())}}class g_{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new g_(i,t,qt(),qt(),qt())}}class __{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class QD{constructor(e,t){this.targetId=e,this.Vt=t}}class vb{constructor(e,t,i=yi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class XD{constructor(){this.St=0,this.Dt=eS(),this.Ct=yi.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=qt(),t=qt(),i=qt();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ht()}}),new g_(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=eS()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class JD{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=oo(),this.zt=Yx(),this.Wt=new Jn(Gt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:ht()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const c=s.target;if(lb(c))if(0===r){const h=new rt(c.path);this.Yt(i,h,ci.newNoDocument(h,wt.min()))}else Ct(1===r);else{const h=this.ie(i);if(h!==r){const p=this.re(e,h);0!==p&&(this.ee(i),this.Wt=this.Wt.insert(i,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Kx.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,E,D){var M,N,U,K,X,Ie;const ze={localCacheCount:E,existenceFilterCount:D.count},Ge=D.unchangedNames;return Ge&&(ze.bloomFilter={applied:0===v,hashCount:null!==(M=Ge?.hashCount)&&void 0!==M?M:0,bitmapLength:null!==(K=null===(U=null===(N=Ge?.bits)||void 0===N?void 0:N.bitmap)||void 0===U?void 0:U.length)&&void 0!==K?K:0,padding:null!==(Ie=null===(X=Ge?.bits)||void 0===X?void 0:X.padding)&&void 0!==Ie?Ie:0}),ze}(p,h,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:c=0},hashCount:h=0}=i;let p,v;try{p=Nl(s).toUint8Array()}catch(E){if(E instanceof wx)return Ua("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw E}try{v=new _b(p,c,h)}catch(E){return Ua(E instanceof p_?"BloomFilter error: ":"Applying bloom filter failed: ",E),1}return 0===v.It?1:r!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const c=this.Gt.ue(),h=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;t.vt(h)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,c)=>{const h=this.se(c);if(h){if(s.current&&lb(h.target)){const p=new rt(h.target.path);null!==this.jt.get(p)||this.ae(c,p)||this.Yt(c,p,ci.newNoDocument(p,e))}s.Mt&&(t.set(c,s.Ot()),s.Ft())}});let i=qt();this.zt.forEach((s,c)=>{let h=!0;c.forEachWhile(p=>{const v=this.se(p);return!v||"TargetPurposeLimboResolution"===v.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.jt.forEach((s,c)=>c.setReadTime(e));const r=new Nm(e,t,this.Wt,this.jt,i);return this.jt=oo(),this.zt=Yx(),this.Wt=new Jn(Gt),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new XD,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new ai(Gt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||$e("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new XD),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Yx(){return new Jn(rt.comparator)}function eS(){return new Jn(rt.comparator)}const pR={asc:"ASCENDING",desc:"DESCENDING"},gR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qx={and:"AND",or:"OR"};class _R{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yb(n,e){return n.useProto3Json||Dm(e)?e:{value:e}}function Pm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vR(n,e){return Pm(n,e.toTimestamp())}function tr(n){return Ct(!!n),wt.fromTimestamp(function(e){const t=Kd(e);return new qn(t.seconds,t.nanos)}(n))}function Xx(n,e){return(t=n,new _n(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function nS(n){const e=_n.fromString(n);return Ct(xb(e)),e}function v_(n,e){return Xx(n.databaseId,e.path)}function Bc(n,e){const t=nS(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new rt(iS(t))}function bb(n,e){return Xx(n.databaseId,e)}function Jx(n){const e=nS(n);return 4===e.length?_n.emptyPath():iS(e)}function y_(n){return new _n(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iS(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function eE(n,e,t){return{name:v_(n,e),fields:t.value.mapValue.fields}}function rS(n,e,t){const i=Bc(n,e.name),r=tr(e.updateTime),s=e.createTime?tr(e.createTime):wt.min(),c=new qr({mapValue:{fields:e.fields}}),h=ci.newFoundDocument(i,r,s,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function b_(n,e){let t;if(e instanceof Mm)t={update:eE(n,e.key,e.value)};else if(e instanceof Uh)t={delete:v_(n,e.key)};else if(e instanceof Jd)t={update:eE(n,e.key,e.data),updateMask:iE(e.fieldMask)};else{if(!(e instanceof Rm))return ht();t={verify:v_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof km)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Bh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Lc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Vh)return{fieldPath:s.field.canonicalString(),increment:c.gt};throw ht()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:vR(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ht()),t;var r}function w_(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?bi.updateTime(tr(r.updateTime)):void 0!==r.exists?bi.exists(r.exists):bi.none():bi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,c){let h=null;"setToServerValue"in c?(Ct("REQUEST_TIME"===c.setToServerValue),h=new km):"appendMissingElements"in c?h=new Bh(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Lc(c.removeAllFromArray.values||[]):"increment"in c?h=new Vh(s,c.increment):ht();const p=vi.fromServerFormat(c.fieldPath);return new Ll(p,h)}(n,r)):[];var r;if(e.update){const r=Bc(n,e.update.name),s=new qr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new ro((e.updateMask.fieldPaths||[]).map(v=>vi.fromServerFormat(v)));return new Jd(r,s,c,t,i)}return new Mm(r,s,t,i)}if(e.delete){const r=Bc(n,e.delete);return new Uh(r,t)}if(e.verify){const r=Bc(n,e.verify);return new Rm(r,t)}return ht()}function nE(n,e){return{documents:[bb(n,e.path)]}}function x_(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=bb(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=bb(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0!==p.length)return ER(On.create(p,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(v=>{return{field:Bl((E=v).field),direction:xR(E.dir)};var E})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=yb(n,e.limit);var h,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function sS(n){let e=Jx(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ct(1===i);const E=t.from[0];E.allDescendants?r=E.collectionId:e=e.child(E.collectionId)}let s=[];t.where&&(s=function(E){const D=wb(E);return D instanceof On&&cb(D)?D.getFilters():[D]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(E=>{return new Nh(Fm((D=E).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let h=null;t.limit&&(h=function(E){let D;return D="object"==typeof E?E.value:E,Dm(D)?null:D}(t.limit));let p=null;var E;t.startAt&&(p=new Qd((E=t.startAt).values||[],!!E.before));let v=null;return t.endAt&&(v=function(E){return new Qd(E.values||[],!E.before)}(t.endAt)),Fx(e,r,c,s,h,"F",p,v)}function wb(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Fm(e.unaryFilter.field);return rn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Fm(e.unaryFilter.field);return rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Fm(e.unaryFilter.field);return rn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Fm(e.unaryFilter.field);return rn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}(n):void 0!==n.fieldFilter?rn.create(Fm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return On.create(e.compositeFilter.filters.map(t=>wb(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ht()}}(e.compositeFilter.op))}(n):ht();var e}function xR(n){return pR[n]}function oS(n){return gR[n]}function jh(n){return Qx[n]}function Bl(n){return{fieldPath:n.canonicalString()}}function Fm(n){return vi.fromServerFormat(n.fieldPath)}function ER(n){return n instanceof rn?function(e){if("=="===e.op){if(Tx(e.value))return{unaryFilter:{field:Bl(e.field),op:"IS_NAN"}};if(MD(e.value))return{unaryFilter:{field:Bl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Tx(e.value))return{unaryFilter:{field:Bl(e.field),op:"IS_NOT_NAN"}};if(MD(e.value))return{unaryFilter:{field:Bl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(e.field),op:oS(e.op),value:e.value}}}(n):n instanceof On?function(e){const t=e.getFilters().map(i=>ER(i));return 1===t.length?t[0]:{compositeFilter:{op:jh(e.op),filters:t}}}(n):ht()}function iE(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Vl{constructor(e,t,i,r,s=wt.min(),c=wt.min(),h=yi.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Vl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rE{constructor(e){this.fe=e}}function cS(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:E_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:v_(r=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Pm(r,s.version.toTimestamp()),createTime:Pm(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Ul(e.version)};else{if(!e.isUnknownDocument())return ht();i.unknownDocument={path:t.path.toArray(),version:Ul(e.version)}}var r,s;return i}function E_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ul(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function eu(n){const e=new qn(n.seconds,n.nanoseconds);return wt.fromTimestamp(e)}function tu(n,e){const t=(e.baseMutations||[]).map(s=>w_(n.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>w_(n.fe,s)),r=qn.fromMillis(e.localWriteTimeMs);return new Wx(e.batchId,r,t,i)}function Lm(n){const e=eu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?eu(n.lastLimboFreeSnapshotVersion):wt.min();let i;var r;return void 0!==n.query.documents?(Ct(1===(r=n.query).documents.length),i=er(Lh(Jx(r.documents[0])))):i=er(sS(n.query)),new Vl(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,yi.fromBase64String(n.resumeToken))}function sE(n,e){const t=Ul(e.snapshotVersion),i=Ul(e.lastLimboFreeSnapshotVersion);let r;r=lb(e.target)?nE(n.fe,e.target):x_(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fh(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function oE(n){const e=sS({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ub(e,e.limit,"L"):e}function aE(n,e){return new gb(e.largestBatchId,w_(n.fe,e.overlayMutation))}function lS(n,e){const t=e.path.lastSegment();return[n,ms(e.path.popLast()),t]}function dS(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ul(i.readTime),documentKey:ms(i.documentKey.path),largestBatchId:i.largestBatchId}}class uS{getBundleMetadata(e,t){return CR(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:eu(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return CR(e).put({bundleId:(i=t).id,createTime:Ul(tr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return cE(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:oE(r.bundledQuery),readTime:eu(r.readTime)};var r})}saveNamedQuery(e,t){return cE(e).put({name:(i=t).name,readTime:Ul(tr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function CR(n){return ns(n,"bundles")}function cE(n){return ns(n,"namedQueries")}class Eb{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Eb(e,t.uid||"")}getOverlay(e,t){return C_(e).get(lS(this.userId,t)).next(i=>i?aE(this.serializer,i):null)}getOverlays(e,t){const i=So();return le.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,c)=>{const h=new gb(t,c);r.push(this.we(e,h))}),le.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(ms(c.getCollectionPath())));const s=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(C_(e).J("collectionPathOverlayIndex",h))}),le.waitFor(s)}getOverlaysForCollection(e,t,i){const r=So(),s=ms(t),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return C_(e).j("collectionPathOverlayIndex",c).next(h=>{for(const p of h){const v=aE(this.serializer,p);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=So();let c;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return C_(e).X({index:"collectionGroupOverlayIndex",range:h},(p,v,E)=>{const D=aE(this.serializer,v);s.size()<r||D.largestBatchId===c?(s.set(D.getKey(),D),c=D.largestBatchId):E.done()}).next(()=>s)}we(e,t){return C_(e).put(function(i,r,s){const[c,h,p]=lS(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:b_(i.fe,s.mutation)}}(this.serializer,this.userId,t))}}function C_(n){return ns(n,"documentOverlays")}class Bm{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ti(e.integerValue));else if("doubleValue"in e){const i=Ti(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Ah(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Nl(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?Dx(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ht()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),rt.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function IR(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function hS(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=IR(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Bm.Ve=new Bm;class TR{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=hS(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=hS(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class DR{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class SR{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class I_{constructor(){this.je=new TR,this.ze=new DR(this.je),this.We=new SR(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Hh{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Hh(this.indexId,this.documentKey,this.arrayValue,i)}}function nu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=fS(n.arrayValue,e.arrayValue),0!==t?t:(t=fS(n.directionalValue,e.directionalValue),0!==t?t:rt.comparator(n.documentKey,e.documentKey)))}function fS(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class AR{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){Ct(e.collectionGroup===this.collectionId);const t=lx(e);if(void 0!==t&&!this.en(t))return!1;const i=Sh(e);let r=new Set,s=0,c=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const h=i[s];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[c++],h))return!1}++s}for(;s<i.length;++s)if(c>=this.Ye.length||!this.sn(this.Ye[c++],i[s]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function mS(n){var e,t;if(Ct(n instanceof rn||n instanceof On),n instanceof rn){if(n instanceof VD){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>rn.create(n.field,"==",s)))||[];return On.create(r,"or")}return n}const i=n.filters.map(r=>mS(r));return On.create(i,n.op)}function kR(n){if(0===n.getFilters().length)return[];const e=Ib(mS(n));return Ct(lE(e)),zh(e)||Cb(e)?[e]:e.getFilters()}function zh(n){return n instanceof rn}function Cb(n){return n instanceof On&&cb(n)}function lE(n){return zh(n)||Cb(n)||function(e){if(e instanceof On&&ab(e)){for(const t of e.getFilters())if(!zh(t)&&!Cb(t))return!1;return!0}return!1}(n)}function Ib(n){if(Ct(n instanceof rn||n instanceof On),n instanceof rn)return n;if(1===n.filters.length)return Ib(n.filters[0]);const e=n.filters.map(i=>Ib(i));let t=On.create(e,n.op);return t=T_(t),lE(t)?t:(Ct(t instanceof On),Ct(Ph(t)),Ct(t.filters.length>1),t.filters.reduce((i,r)=>Tb(i,r)))}function Tb(n,e){let t;return Ct(n instanceof rn||n instanceof On),Ct(e instanceof rn||e instanceof On),t=n instanceof rn?e instanceof rn?On.create([n,e],"and"):dE(n,e):e instanceof rn?dE(e,n):function(i,r){if(Ct(i.filters.length>0&&r.filters.length>0),Ph(i)&&Ph(r))return FD(i,r.getFilters());const s=ab(i)?i:r,c=ab(i)?r:i,h=s.filters.map(p=>Tb(p,c));return On.create(h,"or")}(n,e),T_(t)}function dE(n,e){if(Ph(e))return FD(e,n.getFilters());{const t=e.filters.map(i=>Tb(n,i));return On.create(t,"or")}}function T_(n){if(Ct(n instanceof rn||n instanceof On),n instanceof rn)return n;const e=n.getFilters();if(1===e.length)return T_(e[0]);if(ND(n))return n;const t=e.map(r=>T_(r)),i=[];return t.forEach(r=>{r instanceof rn?i.push(r):r instanceof On&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:On.create(i,n.op)}class MR{constructor(){this.rn=new pS}addToCollectionParentIndex(e,t){return this.rn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(io.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(io.min())}updateCollectionGroup(e,t,i){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class pS{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new ai(_n.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ai(_n.comparator)).toArray()}}const uE=new Uint8Array(0);class gS{constructor(e,t){this.user=e,this.databaseId=t,this.on=new pS,this.un=new so(i=>Fh(i),(i,r)=>r_(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:i,parent:ms(r)};return hE(e).put(s)}return le.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[Ky(t),""],!1,!0);return hE(e).j(r).next(s=>{for(const c of s){if(c.collectionId!==t)break;i.push(za(c.parent))}return i})}addFieldIndex(e,t){const i=Db(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete r.indexId;const s=i.add(r);if(t.indexState){const c=S_(e);return s.next(h=>{c.put(dS(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=Db(e),r=S_(e),s=D_(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=D_(e);let r=!0;const s=new Map;return le.forEach(this.cn(t),c=>this.an(e,c).next(h=>{r&&(r=!!h),s.set(c,h)})).next(()=>{if(r){let c=qt();const h=[];return le.forEach(s,(p,v)=>{var E;$e("IndexedDbIndexManager",`Using index ${E=p,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(Ge=>`${Ge.fieldPath}:${Ge.kind}`).join(",")}`} to execute ${Fh(t)}`);const D=function(Ge,je){const xt=lx(je);if(void 0===xt)return null;for(const kt of s_(Ge,xt.fieldPath))switch(kt.op){case"array-contains-any":return kt.value.arrayValue.values||[];case"array-contains":return[kt.value]}return null}(v,p),M=function(Ge,je){const xt=new Map;for(const kt of Sh(je))for(const tn of s_(Ge,kt.fieldPath))switch(tn.op){case"==":case"in":xt.set(kt.fieldPath.canonicalString(),tn.value);break;case"not-in":case"!=":return xt.set(kt.fieldPath.canonicalString(),tn.value),Array.from(xt.values())}return null}(v,p),N=function(Ge,je){const xt=[];let kt=!0;for(const tn of Sh(je)){const Hi=0===tn.kind?Nx(Ge,tn.fieldPath,Ge.startAt):Px(Ge,tn.fieldPath,Ge.startAt);xt.push(Hi.value),kt&&(kt=Hi.inclusive)}return new Qd(xt,kt)}(v,p),U=function(Ge,je){const xt=[];let kt=!0;for(const tn of Sh(je)){const Hi=0===tn.kind?Px(Ge,tn.fieldPath,Ge.endAt):Nx(Ge,tn.fieldPath,Ge.endAt);xt.push(Hi.value),kt&&(kt=Hi.inclusive)}return new Qd(xt,kt)}(v,p),K=this.hn(p,v,N),X=this.hn(p,v,U),Ie=this.ln(p,v,M),ze=this.fn(p.indexId,D,K,N.inclusive,X,U.inclusive,Ie);return le.forEach(ze,Ge=>i.H(Ge,t.limit).next(je=>{je.forEach(xt=>{const kt=rt.fromSegments(xt.documentKey);c.has(kt)||(c=c.add(kt),h.push(kt))})}))}).next(()=>h)}return le.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:kR(On.create(e.filters,"and")).map(i=>Ox(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,s,c,h){const p=(null!=t?t.length:1)*Math.max(i.length,s.length),v=p/(null!=t?t.length:1),E=[];for(let D=0;D<p;++D){const M=t?this.dn(t[D/v]):uE,N=this.wn(e,M,i[D%v],r),U=this._n(e,M,s[D%v],c),K=h.map(X=>this.wn(e,M,X,!0));E.push(...this.createRange(N,U,K))}return E}wn(e,t,i,r){const s=new Hh(e,rt.empty(),t,i);return r?s:s.Je()}_n(e,t,i,r){const s=new Hh(e,rt.empty(),t,i);return r?s.Je():s}an(e,t){const i=new AR(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let c=null;for(const h of s)i.tn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let i=2;const r=this.cn(t);return le.forEach(r,s=>this.an(e,s).next(c=>{c?0!==i&&c.fields.length<function(h){let p=new ai(vi.comparator),v=!1;for(const E of h.filters)for(const D of E.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?v=!0:p=p.add(D.field));for(const E of h.orderBy)E.field.isKeyField()||(p=p.add(E.field));return p.size+(v?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new I_;for(const r of Sh(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const c=i.He(r.kind);Bm.Ve._e(s,c)}return i.Qe()}dn(e){const t=new I_;return Bm.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new I_;return Bm.Ve._e(Oh(this.databaseId,t),i.He(function(r){const s=Sh(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new I_);let s=0;for(const c of Sh(e)){const h=i[s++];for(const p of r)if(this.yn(t,c.fieldPath)&&Fl(h))r=this.pn(r,c,h);else{const v=p.He(c.kind);Bm.Ve._e(h,v)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],s=[];for(const c of i.arrayValue.values||[])for(const h of r){const p=new I_;p.seed(h.Qe()),Bm.Ve._e(c,p.He(t.kind)),s.push(p)}return s}yn(e,t){return!!e.filters.find(i=>i instanceof rn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Db(e),r=S_(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(s=>{const c=[];return le.forEach(s,h=>r.get([h.indexId,this.uid]).next(p=>{c.push(function(v,E){const D=E?new Yg(E.sequenceNumber,new io(eu(E.readTime),new rt(za(E.documentKey)),E.largestBatchId)):Yg.empty(),M=v.fields.map(([N,U])=>new Kg(vi.fromServerFormat(N),U));return new Zg(v.indexId,v.collectionGroup,M,D)}(h,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Gt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Db(e),s=S_(e);return this.Tn(e).next(c=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>le.forEach(h,p=>s.put(dS(p.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return le.forEach(t,(r,s)=>{const c=i.get(r.collectionGroup);return(c?le.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),le.forEach(h,p=>this.En(e,r,p).next(v=>{const E=this.An(s,p);return v.isEqual(E)?le.resolve():this.vn(e,s,p,v,E)}))))})}Rn(e,t,i,r){return D_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return D_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=D_(e);let s=new ai(nu);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(c,h)=>{s=s.add(new Hh(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}An(e,t){let i=new ai(nu);const r=this.mn(t,e);if(null==r)return i;const s=lx(t);if(null!=s){const c=e.data.field(s.fieldPath);if(Fl(c))for(const h of c.arrayValue.values||[])i=i.add(new Hh(t.indexId,e.key,this.dn(h),r))}else i=i.add(new Hh(t.indexId,e.key,uE,r));return i}vn(e,t,i,r,s){$e("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,p,v,E,D){const M=h.getIterator(),N=p.getIterator();let U=Mh(M),K=Mh(N);for(;U||K;){let X=!1,Ie=!1;if(U&&K){const ze=v(U,K);ze<0?Ie=!0:ze>0&&(X=!0)}else null!=U?Ie=!0:X=!0;X?(E(K),K=Mh(N)):Ie?(D(U),U=Mh(M)):(U=Mh(M),K=Mh(N))}}(r,s,nu,h=>{c.push(this.Rn(e,t,i,h))},h=>{c.push(this.Pn(e,t,i,h))}),le.waitFor(c)}Tn(e){let t=1;return S_(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,h)=>nu(c,h)).filter((c,h,p)=>!h||0!==nu(c,p[h-1]));const r=[];r.push(e);for(const c of i){const h=nu(c,e),p=nu(c,t);if(0===h)r[0]=e.Je();else if(h>0&&p<0)r.push(c),r.push(c.Je());else if(p>0)break}r.push(t);const s=[];for(let c=0;c<r.length;c+=2){if(this.bn(r[c],r[c+1]))return[];s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,uE,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,uE,[]]))}return s}bn(e,t){return nu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Vm)}getMinOffset(e,t){return le.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||ht())).next(Vm)}}function hE(n){return ns(n,"collectionParents")}function D_(n){return ns(n,"indexEntries")}function Db(n){return ns(n,"indexConfiguration")}function S_(n){return ns(n,"indexState")}function Vm(n){Ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Qg(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new io(e.readTime,e.documentKey,t)}const _S={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Tr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Tr(e,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vS(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let h=0;const p=i.X({range:c},(E,D,M)=>(h++,M.delete()));s.push(p.next(()=>{Ct(1===h)}));const v=[];for(const E of t.mutations){const D=gx(e,E.key.path,t.batchId);s.push(r.delete(D)),v.push(E.key)}return le.waitFor(s).next(()=>v)}function fE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ht();e=n.noDocument}return JSON.stringify(e).length}Tr.DEFAULT_COLLECTION_PERCENTILE=10,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tr.DEFAULT=new Tr(41943040,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tr.DISABLED=new Tr(-1,0,0);class Sb{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){Ct(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Sb(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ta(e).X({index:"userMutationsIndex",range:i},(r,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Um(e),c=ta(e);return c.add({}).next(h=>{Ct("number"==typeof h);const p=new Wx(h,t,i,r),v=function(M,N,U){const K=U.baseMutations.map(Ie=>b_(M.fe,Ie)),X=U.mutations.map(Ie=>b_(M.fe,Ie));return{userId:N,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:K,mutations:X}}(this.serializer,this.userId,p),E=[];let D=new ai((M,N)=>Gt(M.canonicalString(),N.canonicalString()));for(const M of r){const N=gx(this.userId,M.key.path,h);D=D.add(M.key.path.popLast()),E.push(c.put(v)),E.push(s.put(N,_D))}return D.forEach(M=>{E.push(this.indexManager.addToCollectionParentIndex(e,M))}),e.addOnCommittedListener(()=>{this.Vn[h]=p.keys()}),le.waitFor(E).next(()=>p)})}lookupMutationBatch(e,t){return ta(e).get(t).next(i=>i?(Ct(i.userId===this.userId),tu(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?le.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return ta(e).X({index:"userMutationsIndex",range:r},(c,h,p)=>{h.userId===this.userId&&(Ct(h.batchId>=i),s=tu(this.serializer,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return ta(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ta(e).j("userMutationsIndex",t).next(i=>i.map(r=>tu(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Xy(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Um(e).X({range:r},(c,h,p)=>{const[v,E,D]=c,M=za(E);if(v===this.userId&&t.path.isEqual(M))return ta(e).get(D).next(N=>{if(!N)throw ht();Ct(N.userId===this.userId),s.push(tu(this.serializer,N))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ai(Gt);const r=[];return t.forEach(s=>{const c=Xy(this.userId,s.path),h=IDBKeyRange.lowerBound(c),p=Um(e).X({range:h},(v,E,D)=>{const[M,N,U]=v,K=za(N);M===this.userId&&s.path.isEqual(K)?i=i.add(U):D.done()});r.push(p)}),le.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=Xy(this.userId,i),c=IDBKeyRange.lowerBound(s);let h=new ai(Gt);return Um(e).X({range:c},(p,v,E)=>{const[D,M,N]=p,U=za(M);D===this.userId&&i.isPrefixOf(U)?U.length===r&&(h=h.add(N)):E.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(ta(e).get(s).next(c=>{if(null===c)throw ht();Ct(c.userId===this.userId),i.push(tu(this.serializer,c))}))}),le.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return vS(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),le.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return le.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Um(e).X({range:i},(s,c,h)=>{if(s[0]===this.userId){const p=za(s[1]);r.push(p)}else h.done()}).next(()=>{Ct(0===r.length)})})}containsKey(e,t){return RR(e,this.userId,t)}xn(e){return yS(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function RR(n,e,t){const i=Xy(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return Um(n).X({range:s,Y:!0},(h,p,v)=>{const[E,D,M]=h;E===e&&D===r&&(c=!0),v.done()}).next(()=>c)}function ta(n){return ns(n,"mutations")}function Um(n){return ns(n,"documentMutations")}function yS(n){return ns(n,"mutationQueues")}class $h{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new $h(0)}static Mn(){return new $h(-1)}}class Ab{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new $h(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>wt.fromTimestamp(new qn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Gh(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(Ct(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Gh(e).X((c,h)=>{const p=Lm(h);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>le.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Gh(e).X((i,r)=>{const s=Lm(r);t(s)})}$n(e){return bS(e).get("targetGlobalKey").next(t=>(Ct(null!==t),t))}On(e,t){return bS(e).put("targetGlobalKey",t)}Fn(e,t){return Gh(e).put(sE(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Fh(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Gh(e).X({range:r,index:"queryTargetsIndex"},(c,h,p)=>{const v=Lm(h);r_(t,v.target)&&(s=v,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=jl(e);return t.forEach(c=>{const h=ms(c.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,c))}),le.waitFor(r)}removeMatchingKeys(e,t,i){const r=jl(e);return le.forEach(t,s=>{const c=ms(s.path);return le.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=jl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=jl(e);let s=qt();return r.X({range:i,Y:!0},(c,h,p)=>{const v=za(c[1]),E=new rt(v);s=s.add(E)}).next(()=>s)}containsKey(e,t){const i=ms(t.path),r=IDBKeyRange.bound([i],[Ky(i)],!1,!0);let s=0;return jl(e).X({index:"documentTargetsIndex",Y:!0,range:r},([c,h],p,v)=>{0!==c&&(s++,v.done())}).next(()=>s>0)}le(e,t){return Gh(e).get(t).next(i=>i?Lm(i):null)}}function Gh(n){return ns(n,"targets")}function bS(n){return ns(n,"targetGlobal")}function jl(n){return ns(n,"targetDocuments")}function A_([n,e],[t,i]){const r=Gt(n,t);return 0===r?Gt(e,i):r}class OR{constructor(e){this.Ln=e,this.buffer=new ai(A_),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();A_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wS{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;$e("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,xe.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Oc(i)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield ja(i)}yield t.Qn(3e5)}))}}class xS{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return le.resolve(Ns.ct);const i=new OR(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(_S)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_S):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,s,c,h,p,v;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,c=Date.now(),this.nthSequenceNumber(e,r))).next(D=>(i=D,h=Date.now(),this.removeTargets(e,i,t))).next(D=>(s=D,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(D=>(v=Date.now(),Gy()<=no.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-E}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${D} documents in `+(v-p)+`ms\nTotal Duration: ${v-E}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:D})))}}class NR{constructor(e,t){this.db=e,this.garbageCollector=function ES(n,e){return new xS(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return k_(e,i)}removeReference(e,t,i){return k_(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return k_(e,t)}Xn(e,t){return function(i,r){let s=!1;return yS(i).Z(c=>RR(i,c,r).next(h=>(h&&(s=!0),le.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(e,(c,h)=>{if(h<=t){const p=this.Xn(e,c).next(v=>{if(!v)return s++,i.getEntry(e,c).next(()=>(i.removeEntry(c,wt.min()),jl(e).delete([0,ms(c.path)])))});r.push(p)}}).next(()=>le.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return k_(e,t)}Yn(e,t){const i=jl(e);let r,s=Ns.ct;return i.X({index:"documentTargetsIndex"},([c,h],{path:p,sequenceNumber:v})=>{0===c?(s!==Ns.ct&&t(new rt(za(r)),s),s=v,r=p):s=Ns.ct}).next(()=>{s!==Ns.ct&&t(new rt(za(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function k_(n,e){return jl(n).put((i=n.currentSequenceNumber,{targetId:0,path:ms(e.path),sequenceNumber:i}));var i}class M_{constructor(){this.changes=new so(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ci.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?le.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class PR{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Hl(e).put(i)}removeEntry(e,t,i){return Hl(e).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],E_(s),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=ci.newInvalidDocument(t);return Hl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(jm(t))},(r,s)=>{i=this.ts(t,s)}).next(()=>i)}es(e,t){let i={size:0,document:ci.newInvalidDocument(t)};return Hl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(jm(t))},(r,s)=>{i={document:this.ts(t,s),size:fE(s)}}).next(()=>i)}getEntries(e,t){let i=oo();return this.ns(e,t,(r,s)=>{const c=this.ts(r,s);i=i.insert(r,c)}).next(()=>i)}ss(e,t){let i=oo(),r=new Jn(rt.comparator);return this.ns(e,t,(s,c)=>{const h=this.ts(s,c);i=i.insert(s,h),r=r.insert(s,fE(c))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return le.resolve();let r=new ai(pE);t.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(jm(r.first()),jm(r.last())),c=r.getIterator();let h=c.getNext();return Hl(e).X({index:"documentKeyIndex",range:s},(p,v,E)=>{const D=rt.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&pE(h,D)<0;)i(h,null),h=c.getNext();h&&h.isEqual(D)&&(i(h,v),h=c.hasNext()?c.getNext():null),h?E.G(jm(h)):E.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const s=t.path,c=[s.popLast().toArray(),s.lastSegment(),E_(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hl(e).j(IDBKeyRange.bound(c,h,!0)).next(p=>{let v=oo();for(const E of p){const D=this.ts(rt.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);D.isFoundDocument()&&(hb(t,D)||r.has(D.key))&&(v=v.insert(D.key,D))}return v})}getAllFromCollectionGroup(e,t,i,r){let s=oo();const c=TS(t,i),h=TS(t,io.max());return Hl(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(p,v,E)=>{const D=this.ts(rt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);s=s.insert(D.key,D),s.size===r&&E.done()}).next(()=>s)}newChangeBuffer(e){return new IS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return mE(e).get("remoteDocumentGlobalKey").next(t=>(Ct(!!t),t))}Zn(e,t){return mE(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function aS(n,e){let t;if(e.document)t=rS(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=rt.fromSegments(e.noDocument.path),r=eu(e.noDocument.readTime);t=ci.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ht();{const i=rt.fromSegments(e.unknownDocument.path),r=eu(e.unknownDocument.version);t=ci.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new qn(i[0],i[1]);return wt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(wt.min()))return i}return ci.newInvalidDocument(e)}}function CS(n){return new PR(n)}class IS extends M_{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new so(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new ai((s,c)=>Gt(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const h=this.us.get(s);if(t.push(this.os.removeEntry(e,s,h.readTime)),c.isValidDocument()){const p=cS(this.os.serializer,c);r=r.add(s.path.popLast());const v=fE(p);i+=v-h.size,t.push(this.os.addEntry(e,s,p))}else if(i-=h.size,this.trackRemovals){const p=cS(this.os.serializer,c.convertToNoDocument(wt.min()));t.push(this.os.addEntry(e,s,p))}}),r.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,i)),le.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((s,c)=>{this.us.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function mE(n){return ns(n,"remoteDocumentGlobal")}function Hl(n){return ns(n,"remoteDocumentsV14")}function jm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function TS(n,e){const t=e.documentKey.path.toArray();return[n,E_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function pE(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=Gt(t[s],i[s]),r)return r;return r=Gt(t.length,i.length),r||(r=Gt(t[t.length-2],i[i.length-2]),r||Gt(t[t.length-1],i[i.length-1]))}class DS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class SS{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&h_(i.mutation,r,ro.empty(),qn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,qt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=qt()){const r=So();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let c=Fc();return s.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=So();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,qt()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,r){let s=oo();const c=Wr(),h=Wr();return t.forEach((p,v)=>{const E=i.get(v.key);r.has(v.key)&&(void 0===E||E.mutation instanceof Jd)?s=s.insert(v.key,v):void 0!==E?(c.set(v.key,E.mutation.getFieldMask()),h_(E.mutation,v,E.mutation.getFieldMask(),qn.now())):c.set(v.key,ro.empty())}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((v,E)=>c.set(v,E)),t.forEach((v,E)=>{var D;return h.set(v,new DS(E,null!==(D=c.get(v))&&void 0!==D?D:null))}),h))}recalculateAndSaveOverlays(e,t){const i=Wr();let r=new Jn((c,h)=>c-h),s=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const v=t.get(p);if(null===v)return;let E=i.get(p)||ro.empty();E=h.applyToLocalView(v,E),i.set(p,E);const D=(r.get(h.batchId)||qt()).add(p);r=r.insert(h.batchId,D)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),v=p.key,E=p.value,D=l_();E.forEach(M=>{if(!s.has(M)){const N=qx(t.get(M),i.get(M));null!==N&&D.set(M,N),s=s.add(M)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,D))}return le.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return rt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):a_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):le.resolve(So());let h=-1,p=s;return c.next(v=>le.forEach(v,(E,D)=>(h<D.largestBatchId&&(h=D.largestBatchId),s.get(E)?le.resolve():this.remoteDocumentCache.getEntry(e,E).next(M=>{p=p.insert(E,M)}))).next(()=>this.populateOverlays(e,v,s)).next(()=>this.computeViews(e,p,v,qt())).next(E=>({batchId:h,changes:jD(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rt(t)).next(i=>{let r=Fc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=Fc();return this.indexManager.getCollectionParents(e,r).next(c=>le.forEach(c,h=>{const p=(v=t,E=h.child(r),new Nc(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,E;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(v=>{v.forEach((E,D)=>{s=s.insert(E,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((h,p)=>{const v=p.getKey();null===s.get(v)&&(s=s.insert(v,ci.newInvalidDocument(v)))});let c=Fc();return s.forEach((h,p)=>{const v=r.get(h);void 0!==v&&h_(v.mutation,p,ro.empty(),qn.now()),hb(t,p)&&(c=c.insert(h,p))}),c})}}class FR{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return le.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:tr(i.createTime)}),le.resolve()}getNamedQuery(e,t){return le.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:oE(i.bundledQuery),readTime:tr(i.readTime)}),le.resolve();var i}}class gE{constructor(){this.overlays=new Jn(rt.comparator),this.ls=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const i=So();return le.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),le.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),le.resolve()}getOverlaysForCollection(e,t,i){const r=So(),s=t.length+1,c=new rt(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return le.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Jn((v,E)=>v-E);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let E=s.get(v.largestBatchId);null===E&&(E=So(),s=s.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const h=So(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,E)=>h.set(v,E)),!(h.size()>=r)););return le.resolve(h)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new gb(t,i));let s=this.ls.get(t);void 0===s&&(s=qt(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class R_{constructor(){this.fs=new ai(Dr.ds),this.ws=new ai(Dr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Dr(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Dr(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new rt(new _n([])),i=new Dr(t,e),r=new Dr(t,e+1),s=[];return this.ws.forEachInRange([i,r],c=>{this.ys(c),s.push(c.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new rt(new _n([])),i=new Dr(t,e),r=new Dr(t,e+1);let s=qt();return this.ws.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new Dr(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Dr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return rt.comparator(e.key,t.key)||Gt(e.As,t.As)}static _s(e,t){return Gt(e.As,t.As)||rt.comparator(e.key,t.key)}}class _E{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new ai(Dr.ds)}checkEmpty(e){return le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const c=new Wx(s,t,i,r);this.mutationQueue.push(c);for(const h of r)this.Rs=this.Rs.add(new Dr(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return le.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Dr(t,0),r=new Dr(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],c=>{const h=this.Ps(c.As);s.push(h)}),le.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new ai(Gt);return t.forEach(r=>{const s=new Dr(r,0),c=new Dr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,c],h=>{i=i.add(h.As)})}),le.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;rt.isDocumentKey(s)||(s=s.child(""));const c=new Dr(new rt(s),0);let h=new ai(Gt);return this.Rs.forEachWhile(p=>{const v=p.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(p.As)),!0)},c),le.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ct(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return le.forEach(t.mutations,r=>{const s=new Dr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Dr(t,0),r=this.Rs.firstAfterOrEqual(i);return le.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return le.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vE{constructor(e){this.Ds=e,this.docs=new Jn(rt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,c=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return le.resolve(i?i.document.mutableCopy():ci.newInvalidDocument(t))}getEntries(e,t){let i=oo();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ci.newInvalidDocument(r))}),le.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=oo();const c=t.path,h=new rt(c.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:v,value:{document:E}}=p.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||Qg(fD(E),i)<=0||(r.has(E.key)||hb(t,E))&&(s=s.insert(E.key,E.mutableCopy()))}return le.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ht()}Cs(e,t){return le.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new LR(this)}getSize(e){return le.resolve(this.size)}}class LR extends M_{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),le.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class BR{constructor(e){this.persistence=e,this.xs=new so(t=>Fh(t),r_),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new R_,this.targetCount=0,this.Ms=$h.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),le.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new $h(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Fn(t),le.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((c,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.xs.delete(c),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),le.waitFor(s).next(()=>r)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return le.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),le.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(c=>{s.push(r.markPotentiallyOrphaned(e,c))}),le.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),le.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return le.resolve(i)}containsKey(e,t){return le.resolve(this.ks.containsKey(t))}}class yE{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ns(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new BR(this),this.indexManager=new MR,this.remoteDocumentCache=new vE(i=>this.referenceDelegate.Ls(i)),this.serializer=new rE(t),this.qs=new FR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new _E(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){$e("MemoryPersistence","Starting transaction:",e);const r=new VR(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return le.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class VR extends mD{constructor(e){super(),this.currentSequenceNumber=e}}class O_{constructor(e){this.persistence=e,this.Qs=new R_,this.js=null}static zs(e){return new O_(e)}get Ws(){if(this.js)return this.js;throw ht()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),le.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),le.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Ws,i=>{const r=rt.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,wt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return le.or([()=>le.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class AS{constructor(e){this.serializer=e}O(e,t,i,r){const s=new Xg("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",px,{unique:!0}),h.createObjectStore("documentMutations"),bE(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=le.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),bE(e)),c=c.next(()=>function(h){const p=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",v)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,p){return p.store("mutations").j().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",px,{unique:!0});const E=p.store("mutations"),D=v.map(M=>E.put(M));return le.waitFor(D)})}(e,s))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Ys(s))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),i<7&&r>=7&&(c=c.next(()=>this.Zs(s))),i<8&&r>=8&&(c=c.next(()=>this.ti(e,s))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.ei(s))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:Wd});p.createIndex("collectionPathOverlayIndex",W1,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",Z1,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:_x});p.createIndex("documentKeyIndex",vx),p.createIndex("collectionGroupIndex",vD)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.si(e,s))),i<15&&r>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:ED}).createIndex("sequenceNumberIndex",CD,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:ID}).createIndex("documentKeyIndex",Jy,{unique:!1})}(e))),c}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=fE(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>le.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",c).next(h=>le.forEach(h,p=>{Ct(p.userId===s.userId);const v=tu(this.serializer,p);return vS(e,s.userId,v).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((c,h)=>{const p=new _n(c),v=[0,ms(p)];s.push(t.get(v).next(E=>E?le.resolve():t.put({targetId:0,path:ms(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>le.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:xD});const i=t.store("collectionParents"),r=new pS,s=c=>{if(r.add(c)){const h=c.lastSegment(),p=c.popLast();return i.put({collectionId:h,parent:ms(p)})}};return t.store("remoteDocuments").X({Y:!0},(c,h)=>{const p=new _n(c);return s(p.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,h,p],v)=>{const E=za(h);return s(E.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const s=Lm(r),c=sE(this.serializer,s);return t.put(c)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((s,c)=>{const h=t.store("remoteDocumentsV14"),p=(v=c,v.document?new rt(_n.fromString(v.document.name).popFirst(5)):v.noDocument?rt.fromSegments(v.noDocument.path):v.unknownDocument?rt.fromSegments(v.unknownDocument.path):ht()).path.toArray();var v;const E={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(E))}).next(()=>le.waitFor(r))}si(e,t){const i=t.store("mutations"),r=CS(this.serializer),s=new yE(O_.zs,this.serializer.fe);return i.j().next(c=>{const h=new Map;return c.forEach(p=>{var v;let E=null!==(v=h.get(p.userId))&&void 0!==v?v:qt();tu(this.serializer,p).keys().forEach(D=>E=E.add(D)),h.set(p.userId,E)}),le.forEach(h,(p,v)=>{const E=new Cr(v),D=Eb.de(this.serializer,E),M=s.getIndexManager(E),N=Sb.de(E,this.serializer,M,s.referenceDelegate);return new SS(r,N,D,M).recalculateAndSaveOverlaysForDocumentKeys(new DD(t,Ns.ct),p).next()})})}}function bE(n){n.createObjectStore("targetDocuments",{keyPath:bD}).createIndex("documentTargetsIndex",wD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",yD,{unique:!0}),n.createObjectStore("targetGlobal")}const kb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Mb{constructor(e,t,i,r,s,c,h,p,v,E,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=s,this.window=c,this.document=h,this.ri=v,this.oi=E,this.ui=D,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=M=>Promise.resolve(),!Mb.D())throw new Fe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new NR(this,r),this.di=t+"main",this.serializer=new rE(p),this.wi=new Ha(this.di,this.ui,new AS(this.serializer)),this.Bs=new Ab(this.referenceDelegate,this.serializer),this.remoteDocumentCache=CS(this.serializer),this.qs=new uS,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===E&&ur("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(me.FAILED_PRECONDITION,kb);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ns(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,xe.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,xe.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,xe.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>P_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Oc(e))return $e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return N_(e).get("owner").next(t=>le.resolve(this.Ri(t)))}Pi(e){return P_(e).delete(this.clientId)}bi(){var e=this;return(0,xe.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ns(i,"clientMetadata");return r.j().next(s=>{const c=e.Si(s,18e5),h=s.filter(p=>-1===c.indexOf(p));return le.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?le.resolve(!0):N_(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Fe(me.FAILED_PRECONDITION,kb);return!1}}return!(!this.networkEnabled||!this.inForeground)||P_(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&$e("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,xe.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new DD(t,Ns.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>P_(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Sb.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gS(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Eb.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){$e("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(c=this.ui)?yx:14===c?TD:13===c?tb:12===c?kh:11===c?eb:void ht();var c;let h;return this.wi.runTransaction(e,r,s,p=>(h=new DD(p,this.Os?this.Os.next():Ns.ct),"readwrite-primary"===t?this.Ti(h).next(v=>!!v||this.Ei(h)).next(v=>{if(!v)throw ur(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Fe(me.FAILED_PRECONDITION,Qy);return i(h)}).next(v=>this.vi(h).next(()=>v)):this.Oi(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Oi(e){return N_(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(me.FAILED_PRECONDITION,kb)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return N_(e).put("owner",t)}static D(){return Ha.D()}Ai(e){const t=N_(e);return t.get("owner").next(i=>this.Ri(i)?($e("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):le.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(ur(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,P.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return $e("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ur("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){ur("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function N_(n){return ns(n,"owner")}function P_(n){return ns(n,"clientMetadata")}function Rb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class wE{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=qt(),r=qt();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new wE(e,t.fromCache,i,r)}}class xE{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(Lx(t))return le.resolve(null);let i=er(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ub(t,null,"F"),i=er(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const c=qt(...s);return this.Ui.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const v=this.ji(t,h);return this.zi(t,v,c,p.readTime)?this.Ki(e,ub(t,null,"F")):this.Wi(e,v,t,p)}))})))}Gi(e,t,i,r){return Lx(t)||r.isEqual(wt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const c=this.ji(t,s);return this.zi(t,c,i,r)?this.Qi(e,t):(Gy()<=no.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),c_(t)),this.Wi(e,c,t,hD(r,-1)))})}ji(e,t){let i=new ai(Ux(e));return t.forEach((r,s)=>{hb(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return Gy()<=no.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",c_(t)),this.Ui.getDocumentsMatchingQuery(e,t,io.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class kS{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Jn(Gt),this.Yi=new so(s=>Fh(s),r_),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SS(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function ps(n,e,t,i){return new kS(n,e,t,i)}function qh(n,e){return EE.apply(this,arguments)}function EE(){return EE=(0,xe.Z)(function*(n,e){const t=ot(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],h=[];let p=qt();for(const v of r){c.push(v.batchId);for(const E of v.mutations)p=p.add(E.key)}for(const v of s){h.push(v.batchId);for(const E of v.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(i,p).next(v=>({er:v,removedBatchIds:c,addedBatchIds:h}))})})}),EE.apply(this,arguments)}function jR(n){const e=ot(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function CE(n,e,t){let i=qt(),r=qt();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let c=oo();return t.forEach((h,p)=>{const v=s.get(h);p.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(h)),p.isNoDocument()&&p.version.isEqual(wt.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||0===p.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):$e("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",p.version)}),{nr:c,sr:r}})}function IE(n,e){const t=ot(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function F_(n,e){const t=ot(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,le.resolve(r)):t.Bs.allocateTargetId(i).next(c=>(r=new Vl(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function L_(n,e,t){return MS.apply(this,arguments)}function MS(){return MS=(0,xe.Z)(function*(n,e,t){const i=ot(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Oc(c))throw c;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),MS.apply(this,arguments)}function iu(n,e,t){const i=ot(n);let r=wt.min(),s=qt();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,p,v){const E=ot(h),D=E.Yi.get(v);return void 0!==D?le.resolve(E.Ji.get(D)):E.Bs.getTargetData(p,v)}(i,c,er(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(c,h.targetId).next(p=>{s=p})}).next(()=>i.Hi.getDocumentsMatchingQuery(c,e,t?r:wt.min(),t?s:qt())).next(h=>(OS(i,Vx(e),h),{documents:h,ir:s})))}function RS(n,e){const t=ot(n),i=ot(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.le(s,e).next(c=>c?c.target:null))}function Ob(n,e){const t=ot(n),i=t.Xi.get(e)||wt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,hD(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(OS(t,e,r),r))}function OS(n,e,t){let i=n.Xi.get(e)||wt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}function TE(){return TE=(0,xe.Z)(function*(n,e,t,i){const r=ot(n);let s=qt(),c=oo();for(const v of t){const E=e.rr(v.metadata.name);v.document&&(s=s.add(E));const D=e.ur(v);D.setReadTime(e.cr(v.metadata.readTime)),c=c.insert(E,D)}const h=r.Zi.newChangeBuffer({trackRemovals:!0}),p=yield F_(r,(v=i,er(Lh(_n.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>CE(v,h,c).next(E=>(h.apply(v),E)).next(E=>r.Bs.removeMatchingKeysForTargetId(v,p.targetId).next(()=>r.Bs.addMatchingKeys(v,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,E.nr,E.sr)).next(()=>E.nr)))}),TE.apply(this,arguments)}function HR(n,e){return DE.apply(this,arguments)}function DE(){return DE=(0,xe.Z)(function*(n,e,t=qt()){const i=yield F_(n,er(oE(e.bundledQuery))),r=ot(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=tr(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.qs.saveNamedQuery(s,e);const h=i.withResumeToken(yi.EMPTY_BYTE_STRING,c);return r.Ji=r.Ji.insert(h.targetId,h),r.Bs.updateTargetData(s,h).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,t,i.targetId)).next(()=>r.qs.saveNamedQuery(s,e))})}),DE.apply(this,arguments)}function Nb(n,e){return`firestore_clients_${n}_${e}`}function SE(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function AE(n,e){return`firestore_targets_${n}_${e}`}class Wh{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Fe(r.error.code,r.error.message))),c?new Wh(e,t,r.state,s):(ur("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zh{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Fe(i.error.code,i.error.message))),s?new Zh(e,i.state,r):(ur("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=fb();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=fx(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new kE(e,s):(ur("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Pb{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Pb(t.clientId,t.onlineState):(ur("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ME{constructor(){this.activeTargetIds=fb()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fb{constructor(e,t,i,r,s){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Jn(Gt),this.started=!1,this.yr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=Nb(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new ME),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,xe.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const s=e.getItem(Nb(e.persistenceKey,r));if(s){const c=kE.ar(r,s);c&&(e.gr=e.gr.insert(c.clientId,c))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(AE(this.persistenceKey,e));if(i){const r=Zh.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(AE(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return $e("SharedClientState","READ",e,t),t}setItem(e,t){$e("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if($e("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void ur("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,xe.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(s){let c=Ns.ct;if(null!=s)try{const h=JSON.parse(s);Ct("number"==typeof h),c=h}catch(h){ur("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==Ns.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new Wh(this.currentUser,e,t,i),s=SE(this.persistenceKey,this.currentUser,e);this.setItem(s,r.hr())}Cr(e){const t=SE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=AE(this.persistenceKey,e),s=new Zh(e,t,i);this.setItem(r,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return kE.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return Wh.ar(new Cr(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return Zh.ar(r,t)}br(e){return Pb.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,xe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);$e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),s=this.Sr(i),c=[],h=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Wr(c,h).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=fb();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class Kh{constructor(){this.Hr=new ME,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new ME,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zR{Yr(e){}shutdown(){}}class RE{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let zm=null;function PS(){return null===zm?zm=268435456+Math.round(2147483648*Math.random()):zm++,"0x"+zm.toString(16)}const $R={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fL{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const gs="WebChannelConnection";class GR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const c=PS(),h=this.To(e,t);$e("RestConnection",`Sending RPC '${e}' ${c}:`,h,i);const p={};return this.Eo(p,r,s),this.Ao(e,h,p,i).then(v=>($e("RestConnection",`Received RPC '${e}' ${c}: `,v),v),v=>{throw Ua("RestConnection",`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",i),v})}vo(e,t,i,r,s,c){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Dh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${$R[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=PS();return new Promise((c,h)=>{const p=new oD;p.setWithCredentials(!0),p.listenOnce(xm.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Gd.NO_ERROR:const E=p.getResponseJson();$e(gs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(E)),c(E);break;case Gd.TIMEOUT:$e(gs,`RPC '${e}' ${s} timed out`),h(new Fe(me.DEADLINE_EXCEEDED,"Request time out"));break;case Gd.HTTP_ERROR:const D=p.getStatus();if($e(gs,`RPC '${e}' ${s} failed with status:`,D,"response text:",p.getResponseText()),D>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const N=M?.error;if(N&&N.status&&N.message){const U=function(K){const X=K.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(X)>=0?X:me.UNKNOWN}(N.status);h(new Fe(U,N.message))}else h(new Fe(me.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Fe(me.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{$e(gs,`RPC '${e}' ${s} completed.`)}});const v=JSON.stringify(r);$e(gs,`RPC '${e}' ${s} sending request:`,r),p.send(t,"POST",v,i,15)})}Ro(e,t,i){const r=PS(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=bm(),h=wm(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.xmlHttpFactory=new Cm({})),this.Eo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const E=s.join("");$e(gs,`Creating RPC '${e}' stream ${r}: ${E}`,p);const D=c.createWebChannel(E,p);let M=!1,N=!1;const U=new fL({ro:X=>{N?$e(gs,`Not sending because RPC '${e}' stream ${r} is closed:`,X):(M||($e(gs,`Opening RPC '${e}' stream ${r} transport.`),D.open(),M=!0),$e(gs,`RPC '${e}' stream ${r} sending:`,X),D.send(X))},oo:()=>D.close()}),K=(X,Ie,ze)=>{X.listen(Ie,Ge=>{try{ze(Ge)}catch(je){setTimeout(()=>{throw je},0)}})};return K(D,Gg.EventType.OPEN,()=>{N||$e(gs,`RPC '${e}' stream ${r} transport opened.`)}),K(D,Gg.EventType.CLOSE,()=>{N||(N=!0,$e(gs,`RPC '${e}' stream ${r} transport closed`),U.wo())}),K(D,Gg.EventType.ERROR,X=>{N||(N=!0,Ua(gs,`RPC '${e}' stream ${r} transport errored:`,X),U.wo(new Fe(me.UNAVAILABLE,"The operation could not be completed")))}),K(D,Gg.EventType.MESSAGE,X=>{var Ie;if(!N){const ze=X.data[0];Ct(!!ze);const je=ze.error||(null===(Ie=ze[0])||void 0===Ie?void 0:Ie.error);if(je){$e(gs,`RPC '${e}' stream ${r} received error:`,je);const xt=je.status;let kt=function(Hi){const Us=fr[Hi];if(void 0!==Us)return fR(Us)}(xt),tn=je.message;void 0===kt&&(kt=me.INTERNAL,tn="Unknown error status: "+xt+" with message "+je.message),N=!0,U.wo(new Fe(kt,tn)),D.close()}else $e(gs,`RPC '${e}' stream ${r} received:`,ze),U._o(ze)}}),K(h,Em.STAT_EVENT,X=>{X.stat===Ih.PROXY?$e(gs,`RPC '${e}' stream ${r} detected buffering proxy`):X.stat===Ih.NOPROXY&&$e(gs,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{U.fo()},0),U}}function FS(){return typeof window<"u"?window:null}function B_(){return typeof document<"u"?document:null}function $m(n){return new _R(n,!0)}class OE{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&$e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class NE{constructor(e,t,i,r,s,c,h,p){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new OE(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,xe.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,xe.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,xe.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(ur(t.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Fe(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,xe.Z)(function*(){e.state=0,e.start()}))}tu(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LS extends NE{constructor(e,t,i,r,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function bR(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:ht(),r=e.targetChange.targetIds||[],s=function(p,v){return p.useProto3Json?(Ct(void 0===v||"string"==typeof v),yi.fromBase64String(v||"")):(Ct(void 0===v||v instanceof Uint8Array),yi.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const v=void 0===p.code?me.UNKNOWN:fR(p.code);return new Fe(v,p.message||"")}(c);t=new vb(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=Bc(n,i.document.name),s=tr(i.document.updateTime),c=i.document.createTime?tr(i.document.createTime):wt.min(),h=new qr({mapValue:{fields:i.document.fields}}),p=ci.newFoundDocument(r,s,c,h);t=new __(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const i=e.documentDelete,r=Bc(n,i.document),s=i.readTime?tr(i.readTime):wt.min(),c=ci.newNoDocument(r,s);t=new __([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=Bc(n,i.document);t=new __([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ht();{const i=e.filter,{count:r=0,unchangedNames:s}=i,c=new hR(r,s);t=new QD(i.targetId,c)}}var p;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return wt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?wt.min():s.readTime?tr(s.readTime):wt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=y_(this.serializer),t.addTarget=function(r,s){let c;const h=s.target;if(c=lb(h)?{documents:nE(r,h)}:{query:x_(r,h)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=tS(r,s.resumeToken);const p=yb(r,s.expectedCount);null!==p&&(c.expectedCount=p)}else if(s.snapshotVersion.compareTo(wt.min())>0){c.readTime=Pm(r,s.snapshotVersion.toTimestamp());const p=yb(r,s.expectedCount);null!==p&&(c.expectedCount=p)}return c}(this.serializer,e);const i=function wR(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=y_(this.serializer),t.removeTarget=e,this.Wo(t)}}class qR extends NE{constructor(e,t,i,r,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function tE(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(i,r){let s=tr(i.updateTime?i.updateTime:r);return s.isEqual(wt.min())&&(s=tr(r)),new cR(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=tr(e.commitTime);return this.listener.cu(i,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=y_(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>b_(this.serializer,i))};this.Wo(t)}}class WR extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Fe(me.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.vo(e,t,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(me.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class VS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ur(t),this.mu=!1):$e("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class US{constructor(e,t,i,r,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(h=>{i.enqueueAndForget((0,xe.Z)(function*(){var p;Yh(c)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,xe.Z)(function*(v){const E=ot(v);E.vu.add(4),yield qm(E),E.bu.set("Unknown"),E.vu.delete(4),yield Gm(E)}),function(v){return p.apply(this,arguments)})(c))}))}),this.bu=new VS(i,r)}}function Gm(n){return Lb.apply(this,arguments)}function Lb(){return Lb=(0,xe.Z)(function*(n){if(Yh(n))for(const e of n.Ru)yield e(!0)}),Lb.apply(this,arguments)}function qm(n){return FE.apply(this,arguments)}function FE(){return FE=(0,xe.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),FE.apply(this,arguments)}function LE(n,e){const t=ot(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),zS(t)?HS(t):Km(t).Ko()&&jS(t,e))}function Wm(n,e){const t=ot(n),i=Km(t);t.Au.delete(e),i.Ko()&&ZR(t,e),0===t.Au.size&&(i.Ko()?i.jo():Yh(t)&&t.bu.set("Unknown"))}function jS(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Km(n).su(e)}function ZR(n,e){n.Vu.qt(e),Km(n).iu(e)}function HS(n){n.Vu=new JD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Km(n).start(),n.bu.gu()}function zS(n){return Yh(n)&&!Km(n).Uo()&&n.Au.size>0}function Yh(n){return 0===ot(n).vu.size}function KR(n){n.Vu=void 0}function mL(n){return $S.apply(this,arguments)}function $S(){return $S=(0,xe.Z)(function*(n){n.Au.forEach((e,t)=>{jS(n,e)})}),$S.apply(this,arguments)}function pL(n,e){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,xe.Z)(function*(n,e){KR(n),zS(n)?(n.bu.Iu(e),HS(n)):n.bu.set("Unknown")}),Bb.apply(this,arguments)}function BE(n,e,t){return Vb.apply(this,arguments)}function Vb(){return Vb=(0,xe.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof vb&&2===e.state&&e.cause)try{yield(i=(0,xe.Z)(function*(r,s){const c=s.cause;for(const h of s.targetIds)r.Au.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r.Au.delete(h),r.Vu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Ub(n,i)}else if(e instanceof __?n.Vu.Ht(e):e instanceof QD?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(wt.min()))try{const i=yield jR(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const c=r.Vu.ce(s);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const v=r.Au.get(p);v&&r.Au.set(p,v.withResumeToken(h.resumeToken,s))}}),c.targetMismatches.forEach((h,p)=>{const v=r.Au.get(h);if(!v)return;r.Au.set(h,v.withResumeToken(yi.EMPTY_BYTE_STRING,v.snapshotVersion)),ZR(r,h);const E=new Vl(v.target,h,p,v.sequenceNumber);jS(r,E)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){$e("RemoteStore","Failed to raise snapshot:",i),yield Ub(n,i)}var i}),Vb.apply(this,arguments)}function Ub(n,e,t){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,xe.Z)(function*(n,e,t){if(!Oc(e))throw e;n.vu.add(1),yield qm(n),n.bu.set("Offline"),t||(t=()=>jR(n.localStore)),n.asyncQueue.enqueueRetryable((0,xe.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Gm(n)}))}),Zm.apply(this,arguments)}function GS(n,e){return e().catch(t=>Ub(n,t,e))}function V_(n){return qS.apply(this,arguments)}function qS(){return qS=(0,xe.Z)(function*(n){const e=ot(n),t=ru(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;YR(e);)try{const r=yield IE(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,WS(e,r)}catch(r){yield Ub(e,r)}ZS(e)&&KS(e)}),qS.apply(this,arguments)}function YR(n){return Yh(n)&&n.Eu.length<10}function WS(n,e){n.Eu.push(e);const t=ru(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function ZS(n){return Yh(n)&&!ru(n).Uo()&&n.Eu.length>0}function KS(n){ru(n).start()}function QR(n){return YS.apply(this,arguments)}function YS(){return YS=(0,xe.Z)(function*(n){ru(n).hu()}),YS.apply(this,arguments)}function XR(n){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,xe.Z)(function*(n){const e=ru(n);for(const t of n.Eu)e.uu(t.mutations)}),Qh.apply(this,arguments)}function jb(n,e,t){return VE.apply(this,arguments)}function VE(){return VE=(0,xe.Z)(function*(n,e,t){const i=n.Eu.shift(),r=Zx.from(i,e,t);yield GS(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield V_(n)}),VE.apply(this,arguments)}function JR(n,e){return UE.apply(this,arguments)}function UE(){return UE=(0,xe.Z)(function*(n,e){var t;e&&ru(n).ou&&(yield(t=(0,xe.Z)(function*(i,r){if(ZD(s=r.code)&&s!==me.ABORTED){const c=i.Eu.shift();ru(i).Qo(),yield GS(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield V_(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),ZS(n)&&KS(n)}),UE.apply(this,arguments)}function QS(n,e){return jE.apply(this,arguments)}function jE(){return jE=(0,xe.Z)(function*(n,e){const t=ot(n);t.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const i=Yh(t);t.vu.add(3),yield qm(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Gm(t)}),jE.apply(this,arguments)}function HE(n,e){return U_.apply(this,arguments)}function U_(){return U_=(0,xe.Z)(function*(n,e){const t=ot(n);e?(t.vu.delete(2),yield Gm(t)):e||(t.vu.add(2),yield qm(t),t.bu.set("Unknown"))}),U_.apply(this,arguments)}function Km(n){return n.Su||(n.Su=function(e,t,i){const r=ot(e);return r.fu(),new LS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:mL.bind(null,n),ao:pL.bind(null,n),nu:BE.bind(null,n)}),n.Ru.push(function(){var e=(0,xe.Z)(function*(t){t?(n.Su.Qo(),zS(n)?HS(n):n.bu.set("Unknown")):(yield n.Su.stop(),KR(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function ru(n){return n.Du||(n.Du=function(e,t,i){const r=ot(e);return r.fu(),new qR(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:QR.bind(null,n),ao:JR.bind(null,n),au:XR.bind(null,n),cu:jb.bind(null,n)}),n.Ru.push(function(){var e=(0,xe.Z)(function*(t){t?(n.Du.Qo(),yield V_(n)):(yield n.Du.stop(),n.Eu.length>0&&($e("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class zE{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,s){const c=Date.now()+i,h=new zE(e,t,c,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(n,e){if(ur("AsyncQueue",`${e}: ${n}`),Oc(n))return new Fe(me.UNAVAILABLE,`${e}: ${n}`);throw n}class Qm{constructor(e){this.comparator=e?(t,i)=>e(t,i)||rt.comparator(t.key,i.key):(t,i)=>rt.comparator(t.key,i.key),this.keyedMap=Fc(),this.sortedSet=new Jn(this.comparator)}static emptySet(e){return new Qm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Qm;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class XS{constructor(){this.Cu=new Jn(rt.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ht():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Xm{constructor(e,t,i,r,s,c,h,p,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,r,s){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Xm(e,t,Qm.emptySet(t),c,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class eO{constructor(){this.Nu=void 0,this.listeners=[]}}class tO{constructor(){this.queries=new so(e=>iR(e),Pc),this.onlineState="Unknown",this.ku=new Set}}function Hb(n,e){return j_.apply(this,arguments)}function j_(){return j_=(0,xe.Z)(function*(n,e){const t=ot(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new eO),r)try{s.Nu=yield t.onListen(i)}catch(c){const h=Ym(c,`Initialization of query '${c_(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&tA(t)}),j_.apply(this,arguments)}function $E(n,e){return GE.apply(this,arguments)}function GE(){return GE=(0,xe.Z)(function*(n,e){const t=ot(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),GE.apply(this,arguments)}function JS(n,e){const t=ot(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const h of c.listeners)h.$u(r)&&(i=!0);c.Nu=r}}i&&tA(t)}function eA(n,e,t){const i=ot(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function tA(n){n.ku.forEach(e=>{e.next()})}class _s{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Xm(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Xm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class nA{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class qE{constructor(e){this.serializer=e}rr(e){return Bc(this.serializer,e)}ur(e){return e.metadata.exists?rS(this.serializer,e.document,!1):ci.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return tr(e)}}class nO{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=WE(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=_n.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new qE(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const c of r.metadata.queries){const h=(t.get(c)||qt()).add(s);t.set(c,h)}}return t}complete(){var e=this;return(0,xe.Z)(function*(){const t=yield function NS(n,e,t,i){return TE.apply(this,arguments)}(e.localStore,new qE(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield HR(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function WE(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class iA{constructor(e){this.key=e}}class zb{constructor(e){this.key=e}}class zl{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=qt(),this.mutatedKeys=qt(),this.tc=Ux(e),this.ec=new Qm(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new XS,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((E,D)=>{const M=r.get(E),N=hb(this.query,D)?D:null,U=!!M&&this.mutatedKeys.has(M.key),K=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let X=!1;M&&N?M.data.isEqual(N.data)?U!==K&&(i.track({type:3,doc:N}),X=!0):this.rc(M,N)||(i.track({type:2,doc:N}),X=!0,(p&&this.tc(N,p)>0||v&&this.tc(N,v)<0)&&(h=!0)):!M&&N?(i.track({type:0,doc:N}),X=!0):M&&!N&&(i.track({type:1,doc:M}),X=!0,(p||v)&&(h=!0)),X&&(N?(c=c.add(N),s=K?s.add(E):s.delete(E)):(c=c.delete(E),s=s.delete(E)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const E="F"===this.query.limitType?c.last():c.first();c=c.delete(E.key),s=s.delete(E.key),i.track({type:1,doc:E})}return{ec:c,ic:i,zi:h,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((v,E)=>function(D,M){const N=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return N(D)-N(M)}(v.type,E.type)||this.tc(v.doc,E.doc)),this.oc(i);const c=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,p=h!==this.Xu;return this.Xu=h,0!==s.length||p?{snapshot:new Xm(this.query,e.ec,r,s,e.mutatedKeys,0===h,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new XS,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=qt(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new zb(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new iA(i))}),t}hc(e){this.Yu=e.ir,this.Zu=qt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Xm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class rA{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class ZE{constructor(e){this.key=e,this.fc=!1}}class KE{constructor(e,t,i,r,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new so(h=>iR(h),Pc),this._c=new Map,this.mc=new Set,this.gc=new Jn(rt.comparator),this.yc=new Map,this.Ic=new R_,this.Tc={},this.Ec=new Map,this.Ac=$h.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function iO(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,xe.Z)(function*(n,e){const t=Qb(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const c=yield F_(t.localStore,er(e)),h=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield $b(t,e,i,"current"===h,c.resumeToken),t.isPrimaryClient&&LE(t.remoteStore,c)}return r}),sA.apply(this,arguments)}function $b(n,e,t,i,r){return YE.apply(this,arguments)}function YE(){return YE=(0,xe.Z)(function*(n,e,t,i,r){n.Rc=(D,M,N)=>{return(U=(0,xe.Z)(function*(K,X,Ie,ze){let Ge=X.view.sc(Ie);Ge.zi&&(Ge=yield iu(K.localStore,X.query,!1).then(({documents:kt})=>X.view.sc(kt,Ge)));const je=ze&&ze.targetChanges.get(X.targetId),xt=X.view.applyChanges(Ge,K.isPrimaryClient,je);return tC(K,X.targetId,xt.cc),xt.snapshot}),function(K,X,Ie,ze){return U.apply(this,arguments)})(n,D,M,N);var U};const s=yield iu(n.localStore,e,!0),c=new zl(e,s.ir),h=c.sc(s.documents),p=g_.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),v=c.applyChanges(h,n.isPrimaryClient,p);tC(n,t,v.cc);const E=new rA(e,t,c);return n.wc.set(e,E),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),YE.apply(this,arguments)}function rO(n,e){return QE.apply(this,arguments)}function QE(){return QE=(0,xe.Z)(function*(n,e){const t=ot(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!Pc(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield L_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Wm(t.remoteStore,i.targetId),Xh(t,i.targetId)}).catch(ja))):(Xh(t,i.targetId),yield L_(t.localStore,i.targetId,!0))}),QE.apply(this,arguments)}function Gb(){return Gb=(0,xe.Z)(function*(n,e,t){const i=H_(n);try{const r=yield function(s,c){const h=ot(s),p=qn.now(),v=c.reduce((M,N)=>M.add(N.key),qt());let E,D;return h.persistence.runTransaction("Locally write mutations","readwrite",M=>{let N=oo(),U=qt();return h.Zi.getEntries(M,v).next(K=>{N=K,N.forEach((X,Ie)=>{Ie.isValidDocument()||(U=U.add(X))})}).next(()=>h.localDocuments.getOverlayedDocuments(M,N)).next(K=>{E=K;const X=[];for(const Ie of c){const ze=qD(Ie,E.get(Ie.key).overlayedDocument);null!=ze&&X.push(new Jd(Ie.key,ze,Ax(ze.value.mapValue),bi.exists(!0)))}return h.mutationQueue.addMutationBatch(M,p,X,c)}).next(K=>{D=K;const X=K.applyToLocalDocumentSet(E,U);return h.documentOverlayCache.saveOverlays(M,K.batchId,X)})}).then(()=>({batchId:D.batchId,changes:jD(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,h){let p=s.Tc[s.currentUser.toKey()];p||(p=new Jn(Gt)),p=p.insert(c,h),s.Tc[s.currentUser.toKey()]=p}(i,r.batchId,t),yield Vc(i,r.changes),yield V_(i.remoteStore)}catch(r){const s=Ym(r,"Failed to persist write");t.reject(s)}}),Gb.apply(this,arguments)}function oO(n,e){return qb.apply(this,arguments)}function qb(){return qb=(0,xe.Z)(function*(n,e){const t=ot(n);try{const i=yield function hL(n,e){const t=ot(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const h=[];e.targetChanges.forEach((E,D)=>{const M=r.get(D);if(!M)return;h.push(t.Bs.removeMatchingKeys(s,E.removedDocuments,D).next(()=>t.Bs.addMatchingKeys(s,E.addedDocuments,D)));let N=M.withSequenceNumber(s.currentSequenceNumber);var U,K,X;null!==e.targetMismatches.get(D)?N=N.withResumeToken(yi.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,i)),r=r.insert(D,N),K=N,X=E,(0===(U=M).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(s,N))});let p=oo(),v=qt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,E))}),h.push(CE(s,c,e.documentUpdates).next(E=>{p=E.nr,v=E.sr})),!i.isEqual(wt.min())){const E=t.Bs.getLastRemoteSnapshotVersion(s).next(D=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(E)}return le.waitFor(h).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,v)).next(()=>p)}).then(s=>(t.Ji=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const c=t.yc.get(s);c&&(Ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.fc=!0:r.modifiedDocuments.size>0?Ct(c.fc):r.removedDocuments.size>0&&(Ct(c.fc),c.fc=!1))}),yield Vc(t,i,e)}catch(i){yield ja(i)}}),qb.apply(this,arguments)}function oA(n,e,t){const i=ot(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,c)=>{const h=c.view.Mu(e);h.snapshot&&r.push(h.snapshot)}),function(s,c){const h=ot(s);h.onlineState=c;let p=!1;h.queries.forEach((v,E)=>{for(const D of E.listeners)D.Mu(c)&&(p=!0)}),p&&tA(h)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function aA(n,e,t){return cA.apply(this,arguments)}function cA(){return cA=(0,xe.Z)(function*(n,e,t){const i=ot(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let c=new Jn(rt.comparator);c=c.insert(s,ci.newNoDocument(s,wt.min()));const h=qt().add(s),p=new Nm(wt.min(),new Map,new Jn(Gt),c,h);yield oO(i,p),i.gc=i.gc.remove(s),i.yc.delete(e),uA(i)}else yield L_(i.localStore,e,!1).then(()=>Xh(i,e,t)).catch(ja)}),cA.apply(this,arguments)}function XE(n,e){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,xe.Z)(function*(n,e){const t=ot(n),i=e.batch.batchId;try{const r=yield function UR(n,e){const t=ot(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,h,p,v){const E=p.batch,D=E.keys();let M=le.resolve();return D.forEach(N=>{M=M.next(()=>v.getEntry(h,N)).next(U=>{const K=p.docVersions.get(N);Ct(null!==K),U.version.compareTo(K)<0&&(E.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),v.addEntry(U)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(h,E))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=qt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);Jm(t,i,null),su(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Vc(t,r)}catch(r){yield ja(r)}}),Wb.apply(this,arguments)}function lA(n,e,t){return JE.apply(this,arguments)}function JE(){return JE=(0,xe.Z)(function*(n,e,t){const i=ot(n);try{const r=yield function(s,c){const h=ot(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return h.mutationQueue.lookupMutationBatch(p,c).next(E=>(Ct(null!==E),v=E.keys(),h.mutationQueue.removeMutationBatch(p,E))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,v,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>h.localDocuments.getDocuments(p,v))})}(i.localStore,e);Jm(i,e,t),su(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Vc(i,r)}catch(r){yield ja(r)}}),JE.apply(this,arguments)}function Zb(){return Zb=(0,xe.Z)(function*(n,e){const t=ot(n);Yh(t.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=ot(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=Ym(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Zb.apply(this,arguments)}function su(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function Jm(n,e,t){const i=ot(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function Xh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||eC(n,i)})}function eC(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Wm(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),uA(n))}function tC(n,e,t){for(const i of t)i instanceof iA?(n.Ic.addReference(i.key,e),aO(n,i)):i instanceof zb?($e("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||eC(n,i.key)):ht()}function aO(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||($e("SyncEngine","New document in limbo: "+t),n.mc.add(i),uA(n))}function uA(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new rt(_n.fromString(e)),i=n.Ac.next();n.yc.set(i,new ZE(t)),n.gc=n.gc.insert(t,i),LE(n.remoteStore,new Vl(er(Lh(t.path)),i,"TargetPurposeLimboResolution",Ns.ct))}}function Vc(n,e,t){return nC.apply(this,arguments)}function nC(){return nC=(0,xe.Z)(function*(n,e,t){const i=ot(n),r=[],s=[],c=[];var h;i.wc.isEmpty()||(i.wc.forEach((h,p)=>{c.push(i.Rc(p,e,t).then(v=>{if((v||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const E=wE.Li(p.targetId,v);s.push(E)}}))}),yield Promise.all(c),i.dc.nu(r),yield(h=(0,xe.Z)(function*(p,v){const E=ot(p);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>le.forEach(v,M=>le.forEach(M.Fi,N=>E.persistence.referenceDelegate.addReference(D,M.targetId,N)).next(()=>le.forEach(M.Bi,N=>E.persistence.referenceDelegate.removeReference(D,M.targetId,N)))))}catch(D){if(!Oc(D))throw D;$e("LocalStore","Failed to update sequence numbers: "+D)}for(const D of v){const M=D.targetId;if(!D.fromCache){const N=E.Ji.get(M),K=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);E.Ji=E.Ji.insert(M,K)}}}),function(p,v){return h.apply(this,arguments)})(i.localStore,s))}),nC.apply(this,arguments)}function cO(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,xe.Z)(function*(n,e){const t=ot(n);if(!t.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const i=yield qh(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(c=>{c.forEach(h=>{h.reject(new Fe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Vc(t,i.er)}var r}),hA.apply(this,arguments)}function gL(n,e){const t=ot(n),i=t.yc.get(e);if(i&&i.fc)return qt().add(i.key);{let r=qt();const s=t._c.get(e);if(!s)return r;for(const c of s){const h=t.wc.get(c);r=r.unionWith(h.view.nc)}return r}}function _L(n,e){return Kb.apply(this,arguments)}function Kb(){return Kb=(0,xe.Z)(function*(n,e){const t=ot(n),i=yield iu(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&tC(t,e.targetId,r.cc),r}),Kb.apply(this,arguments)}function lO(n,e){return iC.apply(this,arguments)}function iC(){return iC=(0,xe.Z)(function*(n,e){const t=ot(n);return Ob(t.localStore,e).then(i=>Vc(t,i))}),iC.apply(this,arguments)}function dO(n,e,t,i){return fA.apply(this,arguments)}function fA(){return fA=(0,xe.Z)(function*(n,e,t,i){const r=ot(n),s=yield function(c,h){const p=ot(c),v=ot(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",E=>v.Sn(E,h).next(D=>D?p.localDocuments.getDocuments(E,D):le.resolve(null)))}(r.localStore,e);var h;null!==s?("pending"===t?yield V_(r.remoteStore):"acknowledged"===t||"rejected"===t?(Jm(r,e,i||null),su(r,e),h=e,ot(ot(r.localStore).mutationQueue).Cn(h)):ht(),yield Vc(r,s)):$e("SyncEngine","Cannot apply mutation batch with id: "+e)}),fA.apply(this,arguments)}function mA(){return mA=(0,xe.Z)(function*(n,e){const t=ot(n);if(Qb(t),H_(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield uO(t,i.toArray());t.vc=!0,yield HE(t.remoteStore,!0);for(const s of r)LE(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Xh(t,c),L_(t.localStore,c,!0))),Wm(t.remoteStore,c)}),yield r,yield uO(t,i),function(s){const c=ot(s);c.yc.forEach((h,p)=>{Wm(c.remoteStore,p)}),c.Ic.Ts(),c.yc=new Map,c.gc=new Jn(rt.comparator)}(t),t.vc=!1,yield HE(t.remoteStore,!1)}}),mA.apply(this,arguments)}function uO(n,e,t){return pA.apply(this,arguments)}function pA(){return pA=(0,xe.Z)(function*(n,e,t){const i=ot(n),r=[],s=[];for(const c of e){let h;const p=i._c.get(c);if(p&&0!==p.length){h=yield F_(i.localStore,er(p[0]));for(const v of p){const E=i.wc.get(v),D=yield _L(i,E);D.snapshot&&s.push(D.snapshot)}}else{const v=yield RS(i.localStore,c);h=yield F_(i.localStore,v),yield $b(i,gA(v),c,!1,h.resumeToken)}r.push(h)}return i.dc.nu(s),r}),pA.apply(this,arguments)}function gA(n){return Fx(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Yb(n){const e=ot(n);return ot(ot(e.localStore).persistence).$i()}function hO(n,e,t,i){return rC.apply(this,arguments)}function rC(){return rC=(0,xe.Z)(function*(n,e,t,i){const r=ot(n);if(r.vc)return void $e("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield Ob(r.localStore,Vx(s[0])),h=Nm.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,yi.EMPTY_BYTE_STRING);yield Vc(r,c,h);break}case"rejected":yield L_(r.localStore,e,!0),Xh(r,e,i);break;default:ht()}}),rC.apply(this,arguments)}function _A(n,e,t){return $l.apply(this,arguments)}function $l(){return $l=(0,xe.Z)(function*(n,e,t){const i=Qb(n);if(i.vc){for(const r of e){if(i._c.has(r)){$e("SyncEngine","Adding an already active target "+r);continue}const s=yield RS(i.localStore,r),c=yield F_(i.localStore,s);yield $b(i,gA(s),c.targetId,!1,c.resumeToken),LE(i.remoteStore,c)}for(const r of t)i._c.has(r)&&(yield L_(i.localStore,r,!1).then(()=>{Wm(i.remoteStore,r),Xh(i,r)}).catch(ja))}}),$l.apply(this,arguments)}function Qb(n){const e=ot(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=oO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aA.bind(null,e),e.dc.nu=JS.bind(null,e.eventManager),e.dc.Pc=eA.bind(null,e.eventManager),e}function H_(n){const e=ot(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lA.bind(null,e),e}class z_{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,xe.Z)(function*(){t.serializer=$m(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return ps(this.persistence,new xE,e.initialUser,this.serializer)}createPersistence(e){return new yE(O_.zs,this.serializer)}createSharedClientState(e){return new Kh}terminate(){var e=this;return(0,xe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $_ extends z_{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,xe.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield H_(i.Vc.syncEngine),yield V_(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return ps(this.persistence,new xE,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new wS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new pD(t,this.persistence);return new q1(e.asyncQueue,i)}createPersistence(e){const t=Rb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Tr.withCacheSize(this.cacheSizeBytes):Tr.DEFAULT;return new Mb(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,FS(),B_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Kh}}class G_ extends $_{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,xe.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof Fb&&(i.sharedClientState.syncEngine={jr:dO.bind(null,r),zr:hO.bind(null,r),Wr:_A.bind(null,r),$i:Yb.bind(null,r),Qr:lO.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,xe.Z)(function*(c){yield function vL(n,e){return mA.apply(this,arguments)}(i.Vc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=FS();if(!Fb.D(t))throw new Fe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Rb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Fb(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class q_{initialize(e,t){var i=this;return(0,xe.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>oA(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=cO.bind(null,i.syncEngine),yield HE(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new tO}createDatastore(e){const t=$m(e.databaseInfo.databaseId),i=new GR(e.databaseInfo);return new WR(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>oA(this.syncEngine,h,0),c=RE.D()?new RE:new zR,new US(t,i,r,s,c);var t,i,r,s,c}createSyncEngine(e,t){return function(i,r,s,c,h,p,v){const E=new KE(i,r,s,c,h,p);return v&&(E.vc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,xe.Z)(function*(t){const i=ot(t);$e("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield qm(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function fO(n,e=10240){let t=0;return{read:()=>(0,xe.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,xe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class aC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class vA{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Ir,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,xe.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,xe.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,xe.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const s=yield e.$c(r);return new nA(JSON.parse(s),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,xe.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,xe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,xe.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class mO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,xe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,xe.Z)(function*(s,c){const h=ot(s),p=y_(h.serializer)+"/documents",v={documents:c.map(N=>v_(h.serializer,N))},E=yield h.vo("BatchGetDocuments",p,v,c.length),D=new Map;E.forEach(N=>{const U=function yR(n,e){return"found"in e?function(t,i){Ct(!!i.found);const r=Bc(t,i.found.name),s=tr(i.found.updateTime),c=i.found.createTime?tr(i.found.createTime):wt.min(),h=new qr({mapValue:{fields:i.found.fields}});return ci.newFoundDocument(r,s,c,h)}(n,e):"missing"in e?function(t,i){Ct(!!i.missing),Ct(!!i.readTime);const r=Bc(t,i.missing),s=tr(i.readTime);return ci.newNoDocument(r,s)}(n,e):ht()}(h.serializer,N);D.set(U.key.toString(),U)});const M=[];return c.forEach(N=>{const U=D.get(N.toString());Ct(!!U),M.push(U)}),M}),function(s,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Uh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,xe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=rt.fromPath(r);e.mutations.push(new Rm(s,e.precondition(s)))}),yield(i=(0,xe.Z)(function*(r,s){const c=ot(r),h=y_(c.serializer)+"/documents",p={writes:s.map(v=>b_(c.serializer,v))};yield c.Io("Commit",h,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ht();t=wt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Fe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(wt.min())?bi.exists(!1):bi.updateTime(t):bi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wt.min()))throw new Fe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bi.updateTime(t)}return bi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class pO{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new OE(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,xe.Z)(function*(){const t=new mO(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Uc(s)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!Dm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!ZD(t)}return!1}}class gO{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Cr.UNAUTHENTICATED,this.clientId=lD.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,xe.Z)(function*(h){$e("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>($e("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,xe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Ym(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Xb(n,e){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,xe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,xe.Z)(function*(s){i.isEqual(s)||(yield qh(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),Jb.apply(this,arguments)}function e0(n,e){return t0.apply(this,arguments)}function t0(){return t0=(0,xe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield cC(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>QS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>QS(e.remoteStore,s)),n._onlineComponents=e}),t0.apply(this,arguments)}function yA(n){return"FirebaseError"===n.name?n.code===me.FAILED_PRECONDITION||n.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function cC(n){return n0.apply(this,arguments)}function n0(){return n0=(0,xe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){$e("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Xb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!yA(t))throw t;Ua("Error using user provided cache. Falling back to memory cache: "+t),yield Xb(n,new z_)}}else $e("FirestoreClient","Using default OfflineComponentProvider"),yield Xb(n,new z_);return n._offlineComponents}),n0.apply(this,arguments)}function ep(n){return bA.apply(this,arguments)}function bA(){return bA=(0,xe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?($e("FirestoreClient","Using user provided OnlineComponentProvider"),yield e0(n,n._uninitializedComponentsProvider._online)):($e("FirestoreClient","Using default OnlineComponentProvider"),yield e0(n,new q_))),n._onlineComponents}),bA.apply(this,arguments)}function lC(n){return cC(n).then(e=>e.persistence)}function tp(n){return cC(n).then(e=>e.localStore)}function wA(n){return ep(n).then(e=>e.remoteStore)}function dC(n){return ep(n).then(e=>e.syncEngine)}function W_(n){return uC.apply(this,arguments)}function uC(){return uC=(0,xe.Z)(function*(n){const e=yield ep(n),t=e.eventManager;return t.onListen=iO.bind(null,e.syncEngine),t.onUnlisten=rO.bind(null,e.syncEngine),t}),uC.apply(this,arguments)}function hC(n,e,t={}){const i=new Ir;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(r,s,c,h,p){const v=new aC({next:D=>{s.enqueueAndForget(()=>$E(r,E));const M=D.docs.has(c);!M&&D.fromCache?p.reject(new Fe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&D.fromCache&&h&&"server"===h.source?p.reject(new Fe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),E=new _s(Lh(c.path),v,{includeMetadataChanges:!0,Ku:!0});return Hb(r,E)}(yield W_(n),n.asyncQueue,e,t,i)})),i.promise}function EA(n,e,t={}){const i=new Ir;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(r,s,c,h,p){const v=new aC({next:D=>{s.enqueueAndForget(()=>$E(r,E)),D.fromCache&&"server"===h.source?p.reject(new Fe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),E=new _s(c,v,{includeMetadataChanges:!0,Ku:!0});return Hb(r,E)}(yield W_(n),n.asyncQueue,e,t,i)})),i.promise}function r0(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const fC=new Map;function s0(n,e,t){if(!t)throw new Fe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TA(n,e,t,i){if(!0===e&&!0===i)throw new Fe(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Z_(n){if(!rt.isDocumentKey(n))throw new Fe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DA(n){if(rt.isDocumentKey(n))throw new Fe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function o0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ht()}function sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=o0(n);throw new Fe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function mC(n,e){if(e<=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class xO{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=r0(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Fe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class K_{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new qg;switch(t.type){case"firstParty":return new Wg(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Fe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=fC.get(e);t&&($e("ComponentProvider","Removing Datastore"),fC.delete(e),t.terminate())}(this),Promise.resolve()}}class li{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new li(this.firestore,e,this._key)}}class vs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new vs(this.firestore,e,this._query)}}class Gl extends vs{constructor(e,t,i){super(e,t,Lh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new li(this.firestore,null,new rt(e))}withConverter(e){return new Gl(this.firestore,e,this._path)}}function SA(n,e,...t){if(n=(0,P.m9)(n),s0("collection","path",e),n instanceof K_){const i=_n.fromString(e,...t);return DA(i),new Gl(n,null,i)}{if(!(n instanceof li||n instanceof Gl))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_n.fromString(e,...t));return DA(i),new Gl(n.firestore,null,i)}}function pC(n,e,...t){if(n=(0,P.m9)(n),1===arguments.length&&(e=lD.A()),s0("doc","path",e),n instanceof K_){const i=_n.fromString(e,...t);return Z_(i),new li(n,null,new rt(i))}{if(!(n instanceof li||n instanceof Gl))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(_n.fromString(e,...t));return Z_(i),new li(n.firestore,n instanceof Gl?n.converter:null,new rt(i))}}function IO(n,e){return n=(0,P.m9)(n),e=(0,P.m9)(e),(n instanceof li||n instanceof Gl)&&(e instanceof li||e instanceof Gl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function AA(n,e){return n=(0,P.m9)(n),e=(0,P.m9)(e),n instanceof vs&&e instanceof vs&&n.firestore===e.firestore&&Pc(n._query,e._query)&&n.converter===e.converter}class bL{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new OE(this,"async_queue_retry"),this.Xc=()=>{const t=B_();t&&$e("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=B_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=B_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ir;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,xe.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Oc(t))throw t;$e("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,ur("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=zE.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&ht()}verifyOperationInProgress(){}sa(){var e=this;return(0,xe.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function kA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class TO{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ir,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class wi extends K_{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new bL,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||MA(this),this._firestoreClient.terminate()}}function mr(n){return n._firestoreClient||MA(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function MA(n){var e,t,i;const r=n._freezeSettings(),s=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Ex(n._databaseId,h,n._persistenceKey,(v=r).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,r0(v.experimentalLongPollingOptions),v.useFetchStreams));var h,v;n._firestoreClient=new gO(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function a(n,e,t){const i=new Ir;return n.asyncQueue.enqueue((0,xe.Z)(function*(){try{yield Xb(n,t),yield e0(n,e),i.resolve()}catch(r){const s=r;if(!yA(s))throw s;Ua("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function S(n){if(n._initialized||n._terminated)throw new Fe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Z{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Z(yi.fromBase64String(e))}catch(t){throw new Fe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Z(yi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class J{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ue{constructor(e){this._methodName=e}}class nt{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const It=/^__.*__$/;class Le{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Jd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mm(e,this.data,t,this.fieldTransforms)}}class Ut{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Jd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Zt(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class wn{constructor(e,t,i,r,s,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new wn(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return NA(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Zt(this.ca)&&It.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ao{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||$m(e)}ya(e,t,i,r=!1){return new wn({ca:e,methodName:t,ga:i,path:vi.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fs(n){const e=n._freezeSettings(),t=$m(n._databaseId);return new ao(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ql(n,e,t,i,r,s={}){const c=n.ya(s.merge||s.mergeFields?2:0,e,t,r);AO("Data must be an object, but it was:",c,i);const h=CL(i,c);let p,v;if(s.merge)p=new ro(c.fieldMask),v=c.fieldTransforms;else if(s.mergeFields){const E=[];for(const D of s.mergeFields){const M=_C(e,D,t);if(!c.contains(M))throw new Fe(me.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);TL(E,M)||E.push(M)}p=new ro(E),v=c.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,v=c.fieldTransforms;return new Le(new qr(h),p,v)}class Jh extends Ue{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jh}}function RA(n,e,t){return new wn({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gC extends Ue{_toFieldTransform(e){return new Ll(e.path,new km)}isEqual(e){return e instanceof gC}}class hH extends Ue{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=RA(this,e,!0),i=this.pa.map(s=>Y_(s,t)),r=new Bh(i);return new Ll(e.path,r)}isEqual(e){return this===e}}class fH extends Ue{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=RA(this,e,!0),i=this.pa.map(s=>Y_(s,t)),r=new Lc(i);return new Ll(e.path,r)}isEqual(e){return this===e}}class mH extends Ue{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Vh(e.serializer,zx(e.serializer,this.Ia));return new Ll(e.path,t)}isEqual(e){return this===e}}function DO(n,e,t,i){const r=n.ya(1,e,t);AO("Data must be an object, but it was:",r,i);const s=[],c=qr.empty();Zd(i,(p,v)=>{const E=OA(e,p,t);v=(0,P.m9)(v);const D=r.da(E);if(v instanceof Jh)s.push(E);else{const M=Y_(v,D);null!=M&&(s.push(E),c.set(E,M))}});const h=new ro(s);return new Ut(c,h,r.fieldTransforms)}function SO(n,e,t,i,r,s){const c=n.ya(1,e,t),h=[_C(e,i,t)],p=[r];if(s.length%2!=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<s.length;M+=2)h.push(_C(e,s[M])),p.push(s[M+1]);const v=[],E=qr.empty();for(let M=h.length-1;M>=0;--M)if(!TL(v,h[M])){const N=h[M];let U=p[M];U=(0,P.m9)(U);const K=c.da(N);if(U instanceof Jh)v.push(N);else{const X=Y_(U,K);null!=X&&(v.push(N),E.set(N,X))}}const D=new ro(v);return new Ut(E,D,c.fieldTransforms)}function EL(n,e,t,i=!1){return Y_(t,n.ya(i?4:3,e))}function Y_(n,e){if(IL(n=(0,P.m9)(n)))return AO("Unsupported field value:",e,n),CL(n,e);if(n instanceof Ue)return function(t,i){if(!Zt(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const c of t){let h=Y_(c,i.wa(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,P.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return zx(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=qn.fromDate(t);return{timestampValue:Pm(i.serializer,r)}}if(t instanceof qn){const r=new qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Pm(i.serializer,r)}}if(t instanceof nt)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Z)return{bytesValue:tS(i.serializer,t._byteString)};if(t instanceof li){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Xx(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${o0(t)}`)}(n,e)}function CL(n,e){const t={};return bx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zd(n,(i,r)=>{const s=Y_(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function IL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qn||n instanceof nt||n instanceof Z||n instanceof li||n instanceof Ue)}function AO(n,e,t){if(!IL(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=o0(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function _C(n,e,t){if((e=(0,P.m9)(e))instanceof J)return e._internalPath;if("string"==typeof e)return OA(n,e);throw NA("Field path arguments must be of type string or ",n,!1,void 0,t)}const pH=new RegExp("[~\\*/\\[\\]]");function OA(n,e,t){if(e.search(pH)>=0)throw NA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new J(...e.split("."))._internalPath}catch{throw NA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function NA(n,e,t,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Fe(me.INVALID_ARGUMENT,h+n+p)}function TL(n,e){return n.some(t=>t.isEqual(e))}class vC{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new li(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(PA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class gH extends vC{data(){return super.data()}}function PA(n,e){return"string"==typeof e?OA(n,e):e instanceof J?e._internalPath:e._delegate._internalPath}function DL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kO{}class yC extends kO{}function np(n,e,...t){let i=[];e instanceof kO&&i.push(e),i=i.concat(t),function(r){const s=r.filter(h=>h instanceof a0).length,c=r.filter(h=>h instanceof bC).length;if(s>1||s>0&&c>0)throw new Fe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class bC extends yC{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new bC(e,t,i)}_apply(e){const t=this._parse(e);return ML(e._query,t),new vs(e.firestore,e.converter,Bx(e._query,t))}_parse(e){const t=Fs(e.firestore);return function(r,s,c,h,p,v,E){let D;if(p.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){kL(E,v);const M=[];for(const N of E)M.push(AL(h,r,N));D={arrayValue:{values:M}}}else D=AL(h,r,E)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||kL(E,v),D=EL(c,"where",E,"in"===v||"not-in"===v);return rn.create(p,v,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class a0 extends kO{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new a0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:On.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const c=r.getFlattenedFilters();for(const h of c)ML(s,h),s=Bx(s,h)}(e._query,t),new vs(e.firestore,e.converter,Bx(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class MO extends yC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new MO(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Nh(r,s);return function(h,p){if(null===db(h)){const v=o_(h);null!==v&&RL(0,v,p.field)}}(i,c),c}(e._query,this._field,this._direction);return new vs(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Nc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class FA extends yC{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new FA(e,t,i)}_apply(e){return new vs(e.firestore,e.converter,ub(e._query,this._limit,this._limitType))}}class LA extends yC{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new LA(e,t,i)}_apply(e){const t=SL(e,this.type,this._docOrFields,this._inclusive);return new vs(e.firestore,e.converter,(r=t,new Nc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class BA extends yC{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new BA(e,t,i)}_apply(e){const t=SL(e,this.type,this._docOrFields,this._inclusive);return new vs(e.firestore,e.converter,(r=t,new Nc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function SL(n,e,t,i){if(t[0]=(0,P.m9)(t[0]),t[0]instanceof vC)return function(r,s,c,h,p){if(!h)throw new Fe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const E of Xd(r))if(E.field.isKeyField())v.push(Oh(s,h.key));else{const D=h.data.field(E.field);if(e_(D))throw new Fe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const M=E.field.canonicalString();throw new Fe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}v.push(D)}return new Qd(v,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Fs(n.firestore);return function(s,c,h,p,v,E){const D=s.explicitOrderBy;if(v.length>D.length)throw new Fe(me.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let N=0;N<v.length;N++){const U=v[N];if(D[N].field.isKeyField()){if("string"!=typeof U)throw new Fe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof U}`);if(!a_(s)&&-1!==U.indexOf("/"))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${U}' contains a slash.`);const K=s.path.child(_n.fromString(U));if(!rt.isDocumentKey(K))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const X=new rt(K);M.push(Oh(c,X))}else{const K=EL(h,p,U);M.push(K)}}return new Qd(M,E)}(n._query,n.firestore._databaseId,r,e,t,i)}}function AL(n,e,t){if("string"==typeof(t=(0,P.m9)(t))){if(""===t)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a_(e)&&-1!==t.indexOf("/"))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(_n.fromString(t));if(!rt.isDocumentKey(i))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Oh(n,new rt(i))}if(t instanceof li)return Oh(n,t._key);throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${o0(t)}.`)}function kL(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ML(n,e){if(e.isInequality()){const i=o_(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=db(n);null!==s&&RL(0,r,s)}const t=function(i,r){for(const s of i)for(const c of s.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Fe(me.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function RL(n,e,t){if(!t.isEqual(e))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class RO{convertValue(e,t="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ht()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Zd(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new nt(Ti(e.latitude),Ti(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=xx(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Rh(e));default:return null}}convertTimestamp(e){const t=Kd(e);return new qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=_n.fromString(e);Ct(xb(i));const r=new is(i.get(1),i.get(3)),s=new rt(i.popFirst(5));return r.isEqual(t)||ur(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function VA(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class IH extends RO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Z(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new li(this.firestore,null,t)}}class Q_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ef extends vC{constructor(e,t,i,r,s,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(PA("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class wC extends ef{data(e={}){return super.data(e)}}class ip{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Q_(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new wC(this._firestore,this._userDataWriter,i.key,i,new Q_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new wC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Q_(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new wC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Q_(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,v=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),v=s.indexOf(c.doc.key)),{type:DH(c.type),doc:h,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function DH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}function NL(n,e){return n instanceof ef&&e instanceof ef?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ip&&e instanceof ip&&n._firestore===e._firestore&&AA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class rp extends RO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Z(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new li(this.firestore,null,t)}}function PL(n,e,t){n=sn(n,li);const i=sn(n.firestore,wi),r=VA(n.converter,e,t);return c0(i,[ql(Fs(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,bi.none())])}function FL(n,e,t,...i){n=sn(n,li);const r=sn(n.firestore,wi),s=Fs(r);let c;return c="string"==typeof(e=(0,P.m9)(e))||e instanceof J?SO(s,"updateDoc",n._key,e,t,i):DO(s,"updateDoc",n._key,e),c0(r,[c.toMutation(n._key,bi.exists(!0))])}function LL(n,...e){var t,i,r;n=(0,P.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||kA(e[c])||(s=e[c],c++);const h={includeMetadataChanges:s.includeMetadataChanges};if(kA(e[c])){const D=e[c];e[c]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[c+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),e[c+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let p,v,E;if(n instanceof li)v=sn(n.firestore,wi),E=Lh(n._key.path),p={next:D=>{e[c]&&e[c](OO(v,n,D))},error:e[c+1],complete:e[c+2]};else{const D=sn(n,vs);v=sn(D.firestore,wi),E=D._query;const M=new rp(v);p={next:N=>{e[c]&&e[c](new ip(v,M,D,N))},error:e[c+1],complete:e[c+2]},DL(n._query)}return function(D,M,N,U){const K=new aC(U),X=new _s(M,K,N);return D.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return Hb(yield W_(D),X)})),()=>{K.Dc(),D.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return $E(yield W_(D),X)}))}}(mr(v),E,h,p)}function c0(n,e){return function(t,i){const r=new Ir;return t.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function sO(n,e,t){return Gb.apply(this,arguments)}(yield dC(t),i,r)})),r.promise}(mr(n),e)}function OO(n,e,t){const i=t.docs.get(e._key),r=new rp(n);return new ef(n,r,e._key,i,new Q_(t.hasPendingWrites,t.fromCache),e.converter)}const GH={maxAttempts:5};class BL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fs(e)}set(e,t,i){this._verifyNotCommitted();const r=sp(e,this._firestore),s=VA(r.converter,t,i),c=ql(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,bi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=sp(e,this._firestore);let c;return c="string"==typeof(t=(0,P.m9)(t))||t instanceof J?SO(this._dataReader,"WriteBatch.update",s._key,t,i,r):DO(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,bi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=sp(e,this._firestore);return this._mutations=this._mutations.concat(new Uh(t._key,bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sp(n,e){if((n=(0,P.m9)(n)).firestore!==e)throw new Fe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class qH extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fs(e)}get(e){const t=sp(e,this._firestore),i=new IH(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ht();const s=r[0];if(s.isFoundDocument())return new vC(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new vC(this._firestore,i,t._key,null,t.converter);throw ht()})}set(e,t,i){const r=sp(e,this._firestore),s=VA(r.converter,t,i),c=ql(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const s=sp(e,this._firestore);let c;return c="string"==typeof(t=(0,P.m9)(t))||t instanceof J?SO(this._dataReader,"Transaction.update",s._key,t,i,r):DO(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=sp(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=sp(e,this._firestore),i=new rp(this._firestore);return super.get(e).then(r=>new ef(this._firestore,i,t._key,r._document,new Q_(!1,!1),t.converter))}}function NO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function UL(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function jL(){if(!function kD(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Dh=jd.SDK_VERSION,(0,jd._registerComponent)(new to.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),c=new wi(new Wy(t.getProvider("auth-internal")),new H1(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Fe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new is(h.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,jd.registerVersion)(rx,"3.13.0",n),(0,jd.registerVersion)(rx,"3.13.0","esm2017")}();class xC{constructor(e){this._delegate=e}static fromBase64String(e){return jL(),new xC(Z.fromBase64String(e))}static fromUint8Array(e){return UL(),new xC(Z.fromUint8Array(e))}toBase64(){return jL(),this._delegate.toBase64()}toUint8Array(){return UL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function PO(n){return function tz(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class nz{enableIndexedDbPersistence(e,t){return function xL(n,e){S(n=sn(n,wi));const t=mr(n);if(t._uninitializedComponentsProvider)throw new Fe(me.FAILED_PRECONDITION,"SDK cache is already specified.");Ua("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new q_;return a(t,r,new $_(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function o(n){S(n=sn(n,wi));const e=mr(n);if(e._uninitializedComponentsProvider)throw new Fe(me.FAILED_PRECONDITION,"SDK cache is already specified.");Ua("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new q_;return a(e,i,new G_(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function l(n){if(n._initialized&&!n._terminated)throw new Fe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ir;return n._queue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{yield(t=(0,xe.Z)(function*(i){if(!Ha.D())return Promise.resolve();const r=i+"main";yield Ha.delete(r)}),function(i){return t.apply(this,arguments)})(Rb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class HL{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof is||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ua("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function EO(n,e,t,i={}){var r;const s=(n=sn(n,K_))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==c&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:c,ssl:!1})),i.mockUserToken){let h,p;if("string"==typeof i.mockUserToken)h=i.mockUserToken,p=Cr.MOCK_USER;else{h=(0,P.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Fe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Cr(v)}n._authCredentials=new ax(new qy(h,p))}}(this._delegate,e,t,i)}enableNetwork(){return function f(n){return function vO(n){return n.asyncQueue.enqueue((0,xe.Z)(function*(){const e=yield lC(n),t=yield wA(n);return e.setNetworkEnabled(!0),function(i){const r=ot(i);return r.vu.delete(0),Gm(r)}(t)}))}(mr(n=sn(n,wi)))}(this._delegate)}disableNetwork(){return function g(n){return function yO(n){return n.asyncQueue.enqueue((0,xe.Z)(function*(){const e=yield lC(n),t=yield wA(n);return e.setNetworkEnabled(!1),(i=(0,xe.Z)(function*(r){const s=ot(r);s.vu.add(0),yield qm(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(mr(n=sn(n,wi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,TA("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function u(n){return function(e){const t=new Ir;return e.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function dA(n,e){return Zb.apply(this,arguments)}(yield dC(e),t)})),t.promise}(mr(n=sn(n,wi)))}(this._delegate)}onSnapshotsInSync(e){return function FH(n,e){return function CA(n,e){const t=new aC(e);return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return i=yield W_(n),r=t,ot(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return i=yield W_(n),r=t,void ot(i).ku.delete(r);var i,r}))}}(mr(n=sn(n,wi)),kA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new l0(this,SA(this._delegate,e))}catch(t){throw Ao(t,"collection()","Firestore.collection()")}}doc(e){try{return new Uc(this,pC(this._delegate,e))}catch(t){throw Ao(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ko(this,function CO(n,e){if(n=sn(n,K_),s0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vs(n,null,(t=e,new Nc(_n.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ao(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function WH(n,e,t){n=sn(n,wi);const i=Object.assign(Object.assign({},GH),t);return function(r){if(r.maxAttempts<1)throw new Fe(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,c){const h=new Ir;return r.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){const p=yield function _O(n){return ep(n).then(e=>e.datastore)}(r);new pO(r.asyncQueue,p,c,s,h).run()})),h.promise}(mr(n),r=>e(new qH(n,r)),i)}(this._delegate,t=>e(new zL(this,t)))}batch(){return mr(this._delegate),new $L(new BL(this._delegate,e=>c0(this._delegate,e)))}loadBundle(e){return function x(n,e){const t=mr(n=sn(n,wi)),i=new TO;return function IA(n,e,t,i){const r=function(s,c){let h;return h="string"==typeof s?KD().encode(s):s,p=function(p,v){if(p instanceof Uint8Array)return fO(p,v);if(p instanceof ArrayBuffer)return fO(new Uint8Array(p),v);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new vA(p,c);var p}(t,$m(e));n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){!function sC(n,e,t){const i=ot(n);var r;(r=(0,xe.Z)(function*(s,c,h){try{const p=yield c.getMetadata();if(yield function(M,N){const U=ot(M),K=tr(N.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",X=>U.qs.getBundleMetadata(X,N.id)).then(X=>!!X&&X.createTime.compareTo(K)>=0)}(s.localStore,p))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(M=p).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);h._updateProgress(WE(p));const v=new nO(p,s.localStore,c.serializer);let E=yield c.bc();for(;E;){const M=yield v.zu(E);M&&h._updateProgress(M),E=yield c.bc()}const D=yield v.complete();return yield Vc(s,D.Ju,void 0),yield function(M,N){const U=ot(M);return U.persistence.runTransaction("Save bundle","readwrite",K=>U.qs.saveBundleMetadata(K,N))}(s.localStore,p),h._completeWith(D.progress),Promise.resolve(D.Hu)}catch(p){return Ua("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var M}),function(s,c,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield dC(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function I(n,e){return function yL(n,e){return n.asyncQueue.enqueue((0,xe.Z)(function*(){return function(t,i){const r=ot(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield tp(n),e)}))}(mr(n=sn(n,wi)),e).then(t=>t?new vs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ko(this,t):null)}}class UA extends RO{constructor(e){super(),this.firestore=e}convertBytes(e){return new xC(new Z(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Uc.forKey(t,this.firestore,null)}}class zL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new UA(e)}get(e){const t=J_(e);return this._delegate.get(t).then(i=>new EC(this._firestore,new ef(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=J_(e);return i?(NO("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=J_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=J_(e);return this._delegate.delete(t),this}}class $L{constructor(e){this._delegate=e}set(e,t,i){const r=J_(e);return i?(NO("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=J_(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=J_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class X_{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new wC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new CC(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=X_.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new X_(e,new UA(e),t),r.set(t,s)),s}}X_.INSTANCES=new WeakMap;class Uc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new UA(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Uc(t,new li(t._delegate,i,new rt(e)))}static forKey(e,t,i){return new Uc(t,new li(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new l0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new l0(this.firestore,SA(this._delegate,e))}catch(t){throw Ao(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,P.m9)(e))instanceof li&&IO(this._delegate,e)}set(e,t){t=NO("DocumentReference.set",t);try{return t?PL(this._delegate,e,t):PL(this._delegate,e)}catch(i){throw Ao(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?FL(this._delegate,e):FL(this._delegate,e,t,...i)}catch(r){throw Ao(r,"updateDoc()","DocumentReference.update()")}}delete(){return function NH(n){return c0(sn(n.firestore,wi),[new Uh(n._key,bi.none())])}(this._delegate)}onSnapshot(...e){const t=GL(e),i=qL(e,r=>new EC(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return LL(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function AH(n){n=sn(n,li);const e=sn(n.firestore,wi),t=mr(e),i=new rp(e);return function bO(n,e){const t=new Ir;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(i=(0,xe.Z)(function*(r,s,c){try{const h=yield function(p,v){const E=ot(p);return E.persistence.runTransaction("read document","readonly",D=>E.localDocuments.getDocument(D,v))}(r,s);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Fe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=Ym(h,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield tp(n),e,t);var i})),t.promise}(t,n._key).then(r=>new ef(e,i,n._key,r,new Q_(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function kH(n){n=sn(n,li);const e=sn(n.firestore,wi);return hC(mr(e),n._key,{source:"server"}).then(t=>OO(e,n,t))}(this._delegate):function SH(n){n=sn(n,li);const e=sn(n.firestore,wi);return hC(mr(e),n._key).then(t=>OO(e,n,t))}(this._delegate),t.then(i=>new EC(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Uc(this.firestore,this._delegate.withConverter(e?X_.getInstance(this.firestore,e):null))}}function Ao(n,e,t){return n.message=n.message.replace(e,t),n}function GL(n){for(const e of n)if("object"==typeof e&&!PO(e))return e;return{}}function qL(n,e){var t,i;let r;return r=PO(n[0])?n[0]:PO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class EC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Uc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return NL(this._delegate,e._delegate)}}class CC extends EC{data(e){const t=this._delegate.data(e);return function j1(n,e){n||ht()}(void 0!==t),t}}class ko{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new UA(e)}where(e,t,i){try{return new ko(this.firestore,np(this._delegate,function _H(n,e,t){const i=e,r=PA("where",n);return bC._create(r,i,t)}(e,t,i)))}catch(r){throw Ao(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ko(this.firestore,np(this._delegate,function vH(n,e="asc"){const t=e,i=PA("orderBy",n);return MO._create(i,t)}(e,t)))}catch(i){throw Ao(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ko(this.firestore,np(this._delegate,function yH(n){return mC("limit",n),FA._create("limit",n,"F")}(e)))}catch(t){throw Ao(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ko(this.firestore,np(this._delegate,function bH(n){return mC("limitToLast",n),FA._create("limitToLast",n,"L")}(e)))}catch(t){throw Ao(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ko(this.firestore,np(this._delegate,function wH(...n){return LA._create("startAt",n,!0)}(...e)))}catch(t){throw Ao(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ko(this.firestore,np(this._delegate,function xH(...n){return LA._create("startAfter",n,!1)}(...e)))}catch(t){throw Ao(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ko(this.firestore,np(this._delegate,function EH(...n){return BA._create("endBefore",n,!1)}(...e)))}catch(t){throw Ao(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ko(this.firestore,np(this._delegate,function CH(...n){return BA._create("endAt",n,!0)}(...e)))}catch(t){throw Ao(t,"endAt()","Query.endAt()")}}isEqual(e){return AA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function RH(n){n=sn(n,vs);const e=sn(n.firestore,wi),t=mr(e),i=new rp(e);return function xA(n,e){const t=new Ir;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(i=(0,xe.Z)(function*(r,s,c){try{const h=yield iu(r,s,!0),p=new zl(s,h.ir),v=p.sc(h.documents),E=p.applyChanges(v,!1);c.resolve(E.snapshot)}catch(h){const p=Ym(h,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield tp(n),e,t);var i})),t.promise}(t,n._query).then(r=>new ip(e,i,n,r))}(this._delegate):"server"===e?.source?function OH(n){n=sn(n,vs);const e=sn(n.firestore,wi),t=mr(e),i=new rp(e);return EA(t,n._query,{source:"server"}).then(r=>new ip(e,i,n,r))}(this._delegate):function MH(n){n=sn(n,vs);const e=sn(n.firestore,wi),t=mr(e),i=new rp(e);return DL(n._query),EA(t,n._query).then(r=>new ip(e,i,n,r))}(this._delegate),t.then(i=>new FO(this.firestore,new ip(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=GL(e),i=qL(e,r=>new FO(this.firestore,new ip(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return LL(this._delegate,t,i)}withConverter(e){return new ko(this.firestore,this._delegate.withConverter(e?X_.getInstance(this.firestore,e):null))}}class rz{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new CC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class FO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ko(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new CC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new rz(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new CC(this._firestore,i))})}isEqual(e){return NL(this._delegate,e._delegate)}}class l0 extends ko{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Uc(this.firestore,e):null}doc(e){try{return new Uc(this.firestore,void 0===e?pC(this._delegate):pC(this._delegate,e))}catch(t){throw Ao(t,"doc()","CollectionReference.doc()")}}add(e){return function PH(n,e){const t=sn(n.firestore,wi),i=pC(n),r=VA(n.converter,e);return c0(t,[ql(Fs(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,bi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Uc(this.firestore,t))}isEqual(e){return IO(this._delegate,e._delegate)}withConverter(e){return new l0(this.firestore,this._delegate.withConverter(e?X_.getInstance(this.firestore,e):null))}}function J_(n){return sn(n,li)}class LO{constructor(...e){this._delegate=new J(...e)}static documentId(){return new LO(vi.keyField().canonicalString())}isEqual(e){return(e=(0,P.m9)(e))instanceof J&&this._delegate._internalPath.isEqual(e._internalPath)}}class ev{constructor(e){this._delegate=e}static serverTimestamp(){const e=function KH(){return new gC("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ev(e)}static delete(){const e=function ZH(){return new Jh("deleteField")}();return e._methodName="FieldValue.delete",new ev(e)}static arrayUnion(...e){const t=function YH(...n){return new hH("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ev(t)}static arrayRemove(...e){const t=function QH(...n){return new fH("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ev(t)}static increment(e){const t=function XH(n){return new mH("increment",n)}(e);return t._methodName="FieldValue.increment",new ev(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const sz={Firestore:HL,GeoPoint:nt,Timestamp:qn,Blob:xC,Transaction:zL,WriteBatch:$L,DocumentReference:Uc,DocumentSnapshot:EC,Query:ko,QueryDocumentSnapshot:CC,QuerySnapshot:FO,CollectionReference:l0,FieldPath:LO,FieldValue:ev,setLogLevel:function iz(n){!function sx(n){Ol.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function az(n){(function oz(n,e){n.INTERNAL.registerComponent(new to.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},sz)))})(n,(e,t)=>new HL(e,t,new nz)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(u1.Z);var IC=F(3019),jA=F(3093),cz=F(4552);class lz extends gn.x{constructor(e=1/0,t=1/0,i=cz.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;t||(i.push(e),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!e.closed;c+=i?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=t.now();let h=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)h=p;h&&i.splice(0,h+1)}}}var BO=F(3020);function VO(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,BO.B)({connector:()=>new lz(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function WL(n,e){return(0,hc.m)(e)?(0,Yn.w)(()=>n,e):(0,Yn.w)(()=>n)}var UO=F(5137);F(4097);var pr=F(4303);const HO=new Map,KL={activated:!1,tokenObservers:[]},mz={initialized:!1,enabled:!1};function gr(n){return HO.get(n)||Object.assign({},KL)}function zA(){return mz}const zO="https://content-firebaseappcheck.googleapis.com/v1",vz="exchangeDebugToken",YL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class bz{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,xe.Z)(function*(){t.stop();try{t.pending=new P.BH,yield function wz(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new P.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ls=new P.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $O(n){if(!gr(n).activated)throw Ls.create("use-before-activation",{appName:n.name})}function qA(n,e){return qO.apply(this,arguments)}function qO(){return qO=(0,xe.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const D=yield r.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const s={method:"POST",body:JSON.stringify(e),headers:i};let c,h;try{c=yield fetch(n,s)}catch(D){throw Ls.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==c.status)throw Ls.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(D){throw Ls.create("fetch-parse-error",{originalErrorMessage:D?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Ls.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(p[1]),E=Date.now();return{token:h.token,expireTimeMillis:E+v,issuedAtTimeMillis:E}}),qO.apply(this,arguments)}function QL(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${zO}/projects/${t}/apps/${i}:${vz}?key=${r}`,body:{debug_token:e}}}const Iz="firebase-app-check-database",Tz=1,TC="firebase-app-check-store";let WA=null;function WO(){return WO=(0,xe.Z)(function*(n,e){const i=(yield function JL(){return WA||(WA=new Promise((n,e)=>{try{const t=indexedDB.open(Iz,Tz);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Ls.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(TC,{keyPath:"compositeKey"})}}catch(t){e(Ls.create("storage-open",{originalErrorMessage:t?.message}))}}),WA)}()).transaction(TC,"readwrite"),s=i.objectStore(TC).put({compositeKey:n,value:e});return new Promise((c,h)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var v;h(Ls.create("storage-set",{originalErrorMessage:null===(v=p.target.error)||void 0===v?void 0:v.message}))}})}),WO.apply(this,arguments)}const DC=new no.Yd("@firebase/app-check");function YO(n,e){return(0,P.hl)()?function Sz(n,e){return function e2(n,e){return WO.apply(this,arguments)}(function n2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{DC.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function XO(){return zA().enabled}function JO(){return eN.apply(this,arguments)}function eN(){return eN=(0,xe.Z)(function*(){const n=zA();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),eN.apply(this,arguments)}const Nz={error:"UNKNOWN_ERROR"};function Pz(n){return P.US.encodeString(JSON.stringify(n),!1)}function ZA(n){return tN.apply(this,arguments)}function tN(){return tN=(0,xe.Z)(function*(n,e=!1){const t=n.app;$O(t);const i=gr(t);let s,r=i.token;if(r&&!d0(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(d0(p)?r=p:yield YO(t,void 0))}if(!e&&r&&d0(r))return{token:r.token};let h,c=!1;if(XO()){i.exchangeTokenPromise||(i.exchangeTokenPromise=qA(QL(t,yield JO()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const p=yield i.exchangeTokenPromise;return yield YO(t,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield gr(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?DC.warn(p.message):DC.error(p),s=p}return r?s?h=d0(r)?{token:r.token,internalError:s}:a2(s):(h={token:r.token},i.token=r,yield YO(t,r)):h=a2(s),c&&function o2(n,e){const t=gr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,h),h}),tN.apply(this,arguments)}function nN(){return nN=(0,xe.Z)(function*(n){const e=n.app;$O(e);const{provider:t}=gr(e);if(XO()){const i=yield JO(),{token:r}=yield qA(QL(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}}),nN.apply(this,arguments)}function rN(n,e){const t=gr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function s2(n){const{app:e}=n,t=gr(e);let i=t.tokenRefresher;i||(i=function Fz(n){const{app:e}=n;return new bz((0,xe.Z)(function*(){let i;if(i=gr(e).token?yield ZA(n,!0):yield ZA(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=gr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},YL.RETRIAL_MIN_WAIT,YL.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function d0(n){return n.expireTimeMillis-Date.now()>0}function a2(n){return{token:Pz(Nz),error:n}}class Lz{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=gr(this.app);for(const t of e)rN(this.app,t.next);return Promise.resolve()}}const p2="app-check-internal";!function Qz(){(0,pr._registerComponent)(new to.wA("app-check",n=>function Bz(n,e){return new Lz(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(p2).initialize()})),(0,pr._registerComponent)(new to.wA(p2,n=>function Vz(n){return{getToken:e=>ZA(n,e),getLimitedUseToken:()=>function r2(n){return nN.apply(this,arguments)}(n),addTokenListener:e=>function iN(n,e,t,i){const{app:r}=n,s=gr(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&d0(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),s2(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>s2(n))}(n,"INTERNAL",e),removeTokenListener:e=>rN(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,pr.registerVersion)("@firebase/app-check","0.8.0")}();class SC{constructor(){return(0,En.vb)("app-check")}}typeof window<"u"&&window;var YA=F(120);const lN=new d.OlP("angularfire2.auth.use-emulator"),dN=new d.OlP("angularfire2.auth.settings"),uN=new d.OlP("angularfire2.auth.tenant-id"),hN=new d.OlP("angularfire2.auth.langugage-code"),fN=new d.OlP("angularfire2.auth.use-device-language"),mN=new d.OlP("angularfire.auth.persistence"),pN=(n,e,t,i,r,s,c,h)=>(0,Er.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[v,E]of Object.entries(c))p.settings[v]=E;return h&&p.setPersistence(h),p},[t,i,r,s,c,h]);let AC=(()=>{class n{constructor(t,i,r,s,c,h,p,v,E,D,M,N){const U=new gn.x,K=(0,lt.of)(void 0).pipe((0,jA.Q)(c.outsideAngular),(0,Yn.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,8977)))),(0,ct.U)(()=>(0,Er.on)(t,s,i)),(0,ct.U)(X=>pN(X,s,h,v,E,D,p,M)),VO({bufferSize:1,refCount:!1}));if(po(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,lt.of)(null);else{K.pipe(Ji()).subscribe();const Ie=K.pipe((0,Yn.w)(je=>je.getRedirectResult().then(xt=>xt,()=>null)),En.iC,VO({bufferSize:1,refCount:!1})),ze=K.pipe((0,Yn.w)(je=>new ii.y(xt=>({unsubscribe:s.runOutsideAngular(()=>je.onAuthStateChanged(kt=>xt.next(kt),kt=>xt.error(kt),()=>xt.complete()))})))),Ge=K.pipe((0,Yn.w)(je=>new ii.y(xt=>({unsubscribe:s.runOutsideAngular(()=>je.onIdTokenChanged(kt=>xt.next(kt),kt=>xt.error(kt),()=>xt.complete()))}))));this.authState=Ie.pipe(WL(ze),(0,UO.R)(c.outsideAngular),(0,jA.Q)(c.insideAngular)),this.user=Ie.pipe(WL(Ge),(0,UO.R)(c.outsideAngular),(0,jA.Q)(c.insideAngular)),this.idToken=this.user.pipe((0,Yn.w)(je=>je?(0,yn.D)(je.getIdToken()):(0,lt.of)(null))),this.idTokenResult=this.user.pipe((0,Yn.w)(je=>je?(0,yn.D)(je.getIdTokenResult()):(0,lt.of)(null))),this.credential=(0,IC.T)(Ie,U,this.authState.pipe(Fi(je=>!je))).pipe((0,ct.U)(je=>je?.user?je:null),(0,UO.R)(c.outsideAngular),(0,jA.Q)(c.insideAngular))}return(0,Er.pX)(this,K,s,{spy:{apply:(X,Ie,ze)=>{(X.startsWith("signIn")||X.startsWith("createUser"))&&ze.then(Ge=>U.next(Ge))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Er.Dh),d.LFG(Er.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(En.HU),d.LFG(lN,8),d.LFG(dN,8),d.LFG(uN,8),d.LFG(hN,8),d.LFG(fN,8),d.LFG(mN,8),d.LFG(SC,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),i6=(()=>{class n{constructor(){YA.Z.registerVersion("angularfire",En.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[AC]}),n})();function _2(n,e){return function r6(n,e=pg.z){return new ii.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function gN(n,e){return _2(n,e).pipe((0,ct.U)(t=>({payload:t,type:"query"})))}function QA(n,e){return gN(n,e).pipe(Da(void 0),yw(),(0,ct.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const p=r.find(E=>E.doc.ref.isEqual(c.ref)),v=t?.payload.docs.find(E=>E.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),s}))}function v2(n,e,t){return QA(n,t).pipe(Qr((i,r)=>function o6(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function a6(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return _N(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _N(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _N(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),(0,bw.x)(),(0,ct.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function _N(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function y2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class b2{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=QA(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ct.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Da(void 0),yw(),Fi(([i,r])=>r.length>0||!i),(0,ct.U)(([i,r])=>r),En.iC)}auditTrail(e){return this.stateChanges(e).pipe(Qr((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=y2(e);return v2(this.query,t,this.afs.schedulers.outsideAngular).pipe(En.iC)}valueChanges(e={}){return gN(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),En.iC)}get(e){return(0,yn.D)(this.query.get(e)).pipe(En.iC)}add(e){return this.ref.add(e)}doc(e){return new w2(this.ref.doc(e),this.afs)}}class w2{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=C2(i,t);return new b2(r,s,this.afs)}snapshotChanges(){return function s6(n,e){return _2(n,e).pipe(Da(void 0),yw(),(0,ct.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(En.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,yn.D)(this.ref.get(e)).pipe(En.iC)}}class c6{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?QA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Fi(t=>t.length>0),En.iC):QA(this.query,this.afs.schedulers.outsideAngular).pipe(En.iC)}auditTrail(e){return this.stateChanges(e).pipe(Qr((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=y2(e);return v2(this.query,t,this.afs.schedulers.outsideAngular).pipe(En.iC)}valueChanges(e={}){return gN(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),En.iC)}get(e){return(0,yn.D)(this.query.get(e)).pipe(En.iC)}}const x2=new d.OlP("angularfire2.enableFirestorePersistence"),E2=new d.OlP("angularfire2.firestore.persistenceSettings"),l6=new d.OlP("angularfire2.firestore.settings"),d6=new d.OlP("angularfire2.firestore.use-emulator");function C2(n,e=(t=>t)){return{query:e(n),ref:n}}let vN,I2=(()=>{class n{constructor(t,i,r,s,c,h,p,v,E,D,M,N,U,K,X,Ie,ze){this.schedulers=p;const Ge=(0,Er.on)(t,h,i),je=E;D&&pN(Ge,h,M,U,K,X,N,Ie),[this.firestore,this.persistenceEnabled$]=(0,Er.cc)(`${Ge.name}.firestore`,"AngularFirestore",Ge.name,()=>{const xt=h.runOutsideAngular(()=>Ge.firestore());if(s&&xt.settings(s),je&&xt.useEmulator(...je),r&&!po(c)){const kt=()=>{try{return(0,yn.D)(xt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(tn){return typeof console<"u"&&console.warn(tn),(0,lt.of)(!1)}};return[xt,h.runOutsideAngular(kt)]}return[xt,(0,lt.of)(!1)]},[s,je,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=C2(r,i),h=this.schedulers.ngZone.run(()=>s);return new b2(h,c,this)}collectionGroup(t,i){const r=i||(c=>c),s=this.firestore.collectionGroup(t);return new c6(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new w2(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Er.Dh),d.LFG(Er.xv,8),d.LFG(x2,8),d.LFG(l6,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(En.HU),d.LFG(E2,8),d.LFG(d6,8),d.LFG(AC,8),d.LFG(lN,8),d.LFG(dN,8),d.LFG(uN,8),d.LFG(hN,8),d.LFG(fN,8),d.LFG(mN,8),d.LFG(SC,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),u6=(()=>{class n{constructor(){YA.Z.registerVersion("angularfire",En.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:x2,useValue:!0},{provide:E2,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[I2]}),n})(),op=(()=>{var n;class e{constructor(i,r,s,c){this.afs=i,this.afAuth=r,this.router=s,this.ngZone=c,this.isAuthenticatedSubject=new Yi.X(!1),this.isLoading=new gn.x,this.isLoading$=this.isLoading.asObservable(),this.afAuth.authState.subscribe(h=>{h?(this.userData=h,localStorage.setItem("user",JSON.stringify(this.userData)),this.isAuthenticatedSubject.next(!0),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),this.isAuthenticatedSubject.next(!1),JSON.parse(localStorage.getItem("user")))})}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}SignIn(i,r){setTimeout(()=>(this.isLoading.next(!1),this.afAuth.signInWithEmailAndPassword(i,r).then(s=>{this.SetUserData(s.user),this.afAuth.authState.subscribe(c=>{c&&this.router.navigate(["top-headlines"])})}).catch(s=>{window.alert(s.message)})),2e3)}SignUp(i,r){setTimeout(()=>(this.isLoading.next(!1),this.afAuth.createUserWithEmailAndPassword(i,r).then(s=>{this.SendVerificationMail(),this.SetUserData(s.user)}).catch(s=>{window.alert(s.message)})),2e3)}SendVerificationMail(){return this.afAuth.currentUser.then(i=>i.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(i){setTimeout(()=>(this.isLoading.next(!1),this.afAuth.sendPasswordResetEmail(i).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(r=>{window.alert(r)})),2e3)}get isLoggedIn(){const i=JSON.parse(localStorage.getItem("user"));return null!==i&&!1!==i.emailVerified}SetUserData(i){return this.afs.doc(`users/${i.uid}`).set({uid:i.uid,email:i.email,displayName:i.displayName,photoURL:i.photoURL,emailVerified:i.emailVerified,likedArticles:[]},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["login"])})}isAuthenticated(){return this.isAuthenticatedSubject.asObservable()}getUserData(){return this.afAuth.authState.pipe((0,Yn.w)(i=>i?this.afs.doc(`users/${i.uid}`).valueChanges():(0,lt.of)(null)))}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(I2),d.LFG(AC),d.LFG(xr),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();try{vN=typeof Intl<"u"&&Intl.v8BreakIterator}catch{vN=!1}let u0,na=(()=>{var n;class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?function pf(n){return n===mo}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!vN)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const T2=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function D2(){if(u0)return u0;if("object"!=typeof document||!document)return u0=new Set(T2),u0;let n=document.createElement("input");return u0=new Set(T2.filter(e=>(n.setAttribute("type",e),n.type===e))),u0}let kC,yN;function MC(n){return function h6(){if(null==kC&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>kC=!0}))}finally{kC=kC||!1}return kC}()?n:!!n.capture}function h0(n){return n.composedPath?n.composedPath()[0]:n.target}function JA(n,e=pg.z){return(0,Xi.e)((t,i)=>{let r=null,s=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=s;s=null,i.next(v)}};function p(){const v=c+n,E=e.now();if(E<v)return r=this.schedule(void 0,v-E),void i.add(r);h()}t.subscribe((0,kn.x)(i,v=>{s=v,c=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}function k2(n){return Fi((e,t)=>n<=t)}function ei(n){return null!=n&&"false"!=`${n}`}function RC(n,e=0){return function F6(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function M2(n){return Array.isArray(n)?n:[n]}function ap(n){return n instanceof d.SBq?n.nativeElement:n}const R2=new Set;let nv,L6=(()=>{var n;class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):V6}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&function B6(n,e){if(!R2.has(n))try{nv||(nv=document.createElement("style"),e&&(nv.nonce=e),nv.setAttribute("type","text/css"),document.head.appendChild(nv)),nv.sheet&&(nv.sheet.insertRule(`@media ${n} {body{ }}`,0),R2.add(n))}catch(t){console.error(t)}}(i,this._nonce),this._matchMedia(i)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(na),d.LFG(d.Ojb,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function V6(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let U6=(()=>{var n;class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new gn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return O2(M2(i)).some(s=>this._registerQuery(s).mql.matches)}observe(i){let c=Wo(O2(M2(i)).map(h=>this._registerQuery(h).observable));return c=As(c.pipe(Fr(1)),c.pipe(k2(1),JA(0))),c.pipe((0,ct.U)(h=>{const p={matches:!1,breakpoints:{}};return h.forEach(({matches:v,query:E})=>{p.matches=p.matches||v,p.breakpoints[E]=v}),p}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const r=this._mediaMatcher.matchMedia(i),c={observable:new ii.y(h=>{const p=v=>this._zone.run(()=>h.next(v));return r.addListener(p),()=>{r.removeListener(p)}}).pipe(Da(r),(0,ct.U)(({matches:h})=>({query:i,matches:h})),Xs(this._destroySubject)),mql:r};return this._queries.set(i,c),c}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(L6),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function O2(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function L2(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function B2(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Y6=new d.OlP("cdk-input-modality-detector-options"),Q6={ignoreKeys:[18,17,224,91,16]},f0=MC({passive:!0,capture:!0});let X6=(()=>{var n;class e{get mostRecentModality(){return this._modality.value}constructor(i,r,s,c){this._platform=i,this._mostRecentTarget=null,this._modality=new Yi.X(null),this._lastTouchMs=0,this._onKeydown=h=>{this._options?.ignoreKeys?.some(p=>p===h.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=h0(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(L2(h)?"keyboard":"mouse"),this._mostRecentTarget=h0(h))},this._onTouchstart=h=>{B2(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=h0(h))},this._options={...Q6,...c},this.modalityDetected=this._modality.pipe(k2(1)),this.modalityChanged=this.modalityDetected.pipe((0,bw.x)()),i.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,f0),s.addEventListener("mousedown",this._onMousedown,f0),s.addEventListener("touchstart",this._onTouchstart,f0)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,f0),document.removeEventListener("mousedown",this._onMousedown,f0),document.removeEventListener("touchstart",this._onTouchstart,f0))}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(na),d.LFG(d.R0b),d.LFG(de),d.LFG(Y6,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const e5=new d.OlP("cdk-focus-monitor-default-options"),ek=MC({passive:!0,capture:!0});let bN=(()=>{var n;class e{constructor(i,r,s,c,h){this._ngZone=i,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new gn.x,this._rootNodeFocusAndBlurListener=p=>{for(let E=h0(p);E;E=E.parentElement)"focus"===p.type?this._onFocus(p,E):this._onBlur(p,E)},this._document=c,this._detectionMode=h?.detectionMode||0}monitor(i,r=!1){const s=ap(i);if(!this._platform.isBrowser||1!==s.nodeType)return(0,lt.of)();const c=function m6(n){if(function f6(){if(null==yN){const n=typeof document<"u"?document.head:null;yN=!(!n||!n.createShadowRoot&&!n.attachShadow)}return yN}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(s)||this._getDocument(),h=this._elementInfo.get(s);if(h)return r&&(h.checkChildren=!0),h.subject;const p={checkChildren:r,subject:new gn.x,rootNode:c};return this._elementInfo.set(s,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(i){const r=ap(i),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(i,r,s){const c=ap(i);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([p,v])=>this._originChanged(p,r,v)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(s))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return 1===this._detectionMode||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused","touch"===r),i.classList.toggle("cdk-keyboard-focused","keyboard"===r),i.classList.toggle("cdk-mouse-focused","mouse"===r),i.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=i,this._originFromTouchInteraction="touch"===i&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(i,r){const s=this._elementInfo.get(r),c=h0(i);!s||!s.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),s)}_onBlur(i,r){const s=this._elementInfo.get(r);!s||s.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;const r=i.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,ek),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,ek)}),this._rootNodeFocusListenerCount.set(r,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Xs(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(i){const r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ek),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ek),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,s){this._setClasses(i,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){const r=[];return this._elementInfo.forEach((s,c)=>{(c===i||s.checkChildren&&c.contains(i))&&r.push([c,s])}),r}_isLastInteractionFromInputLabel(i){const{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!r||r===i||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName||i.disabled)return!1;const c=i.labels;if(c)for(let h=0;h<c.length;h++)if(c[h].contains(r))return!0;return!1}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(d.R0b),d.LFG(na),d.LFG(X6),d.LFG(de,8),d.LFG(e5,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const U2="cdk-high-contrast-black-on-white",j2="cdk-high-contrast-white-on-black",wN="cdk-high-contrast-active";let t5=(()=>{var n;class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=(0,d.f3M)(U6).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(i):null,c=(s&&s.backgroundColor||"").replace(/ /g,"");switch(i.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(wN,U2,j2),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?i.add(wN,U2):2===r&&i.add(wN,j2)}}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(na),d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const n5=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function r5(){return(0,d.f3M)(de)}}),s5=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let a5=(()=>{var n;class e{constructor(i){this.value="ltr",this.change=new d.vpe,i&&(this.value=function o5(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?s5.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((i.body?i.body.dir:null)||(i.documentElement?i.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(n5,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),H2=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),e})();const l5=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function c5(){return!0}});let xi=(()=>{var n;class e{constructor(i,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return!function g6(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(t5),d.LFG(l5,8),d.LFG(de))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[H2,H2]}),e})();function q2(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=ei(e)}constructor(...e){super(...e),this._disabled=!1}}}function OC(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function xN(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ei(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function u5(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let f5=(()=>{var n;class e{isErrorState(i,r){return!!(i&&i.invalid&&(i.touched||r&&r.submitted))}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();class m5{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const W2=MC({passive:!0,capture:!0});class p5{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=h0(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const c=s.get(i);c?c.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,W2)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,W2)))}}const Z2={enterDuration:225,exitDuration:150},K2=MC({passive:!0,capture:!0}),Y2=["mousedown","touchstart"],Q2=["mouseup","mouseleave","touchend","touchcancel"];class m0{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ap(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...Z2,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function _5(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,p=t-r.top,v=s.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=h-c+"px",E.style.top=p-c+"px",E.style.height=2*c+"px",E.style.width=2*c+"px",null!=i.color&&(E.style.backgroundColor=i.color),E.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(E);const D=window.getComputedStyle(E),N=D.transitionDuration,U="none"===D.transitionProperty||"0s"===N||"0s, 0s"===N||0===r.width&&0===r.height,K=new m5(this,E,i,U);E.style.transform="scale3d(1, 1, 1)",K.state=0,i.persistent||(this._mostRecentTransientRipple=K);let X=null;return!U&&(v||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ie=()=>this._finishRippleTransition(K),ze=()=>this._destroyRipple(K);E.addEventListener("transitionend",Ie),E.addEventListener("transitioncancel",ze),X={onTransitionEnd:Ie,onTransitionCancel:ze}}),this._activeRipples.set(K,X),(U||!v)&&this._finishRippleTransition(K),K}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...Z2,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ap(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Y2.forEach(i=>{m0._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Q2.forEach(t=>{this._triggerElement.addEventListener(t,this,K2)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=L2(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!B2(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Y2.forEach(t=>m0._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Q2.forEach(t=>e.removeEventListener(t,this,K2)))}}m0._eventManager=new p5;const tk=new d.OlP("mat-ripple-global-options");let EN=(()=>{var n;class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,s,c,h){this._elementRef=i,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new m0(this,r,i,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,s){return"number"==typeof i?this._rippleRenderer.fadeInRipple(i,r,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...i})}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(na),d.Y36(tk,8),d.Y36(d.QbO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&d.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),e})(),nk=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[xi,xi]}),e})(),v5=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[xi]}),e})();const X2={capture:!0},J2=["focus","click","mouseenter","touchstart"],CN="mat-ripple-loader-uninitialized",IN="mat-ripple-loader-class-name",eB="mat-ripple-loader-centered",ik="mat-ripple-loader-disabled";let y5=(()=>{var n;class e{constructor(){this._document=(0,d.f3M)(de,{optional:!0}),this._animationMode=(0,d.f3M)(d.QbO,{optional:!0}),this._globalRippleOptions=(0,d.f3M)(tk,{optional:!0}),this._platform=(0,d.f3M)(na),this._ngZone=(0,d.f3M)(d.R0b),this._onInteraction=i=>{if(!(i.target instanceof HTMLElement))return;const s=i.target.closest(`[${CN}]`);s&&this.createRipple(s)},this._ngZone.runOutsideAngular(()=>{for(const i of J2)this._document?.addEventListener(i,this._onInteraction,X2)})}ngOnDestroy(){for(const i of J2)this._document?.removeEventListener(i,this._onInteraction,X2)}configureRipple(i,r){i.setAttribute(CN,""),(r.className||!i.hasAttribute(IN))&&i.setAttribute(IN,r.className||""),r.centered&&i.setAttribute(eB,""),r.disabled&&i.setAttribute(ik,"")}getRipple(i){return i.matRipple?i.matRipple:this.createRipple(i)}setDisabled(i,r){const s=i.matRipple;s?s.disabled=r:r?i.setAttribute(ik,""):i.removeAttribute(ik)}createRipple(i){if(!this._document)return;i.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",i.getAttribute(IN)),i.append(r);const s=new EN(new d.SBq(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=i,s.centered=i.hasAttribute(eB),s.disabled=i.hasAttribute(ik),this.attachRipple(i,s),s}attachRipple(i,r){i.removeAttribute(CN),i.matRipple=r}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const tB=["mat-button",""],nB=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],iB=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],x5=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],E5=OC(q2(xN(class{constructor(n){this._elementRef=n}})));let rB=(()=>{var n;class e extends E5{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=ei(i),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=ei(i),this._updateRippleDisabled()}constructor(i,r,s,c){super(i),this._platform=r,this._ngZone=s,this._animationMode=c,this._focusMonitor=(0,d.f3M)(bN),this._rippleLoader=(0,d.f3M)(y5),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const h=i.nativeElement.classList;for(const p of x5)this._hasHostAttributes(p.selector)&&p.mdcClasses.forEach(v=>{h.add(v)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(i="program",r){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...i){return i.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}}return(n=e).\u0275fac=function(i){d.$Z()},n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),e})(),I5=(()=>{var n;class e extends rB{constructor(i,r,s,c){super(i,r,s,c),this._haltDisabledEvents=h=>{this.disabled&&(h.preventDefault(),h.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return(n=e).\u0275fac=function(i){d.$Z()},n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),e})(),p0=(()=>{var n;class e extends rB{constructor(i,r,s,c){super(i,r,s,c)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(na),d.Y36(d.R0b),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(d.uIk("disabled",r.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:tB,ngContentSelectors:iB,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(d.F$t(nB),d._UZ(0,"span",0),d.Hsn(1),d.TgZ(2,"span",1),d.Hsn(3,1),d.qZA(),d.Hsn(4,2),d._UZ(5,"span",2)(6,"span",3)),2&i&&d.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),e})(),T5=(()=>{var n;class e extends I5{constructor(i,r,s,c){super(i,r,s,c)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(na),d.Y36(d.R0b),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(i,r){2&i&&(d.uIk("disabled",r.disabled||null)("tabindex",r.disabled?-1:r.tabIndex)("aria-disabled",r.disabled.toString()),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[d.qOj],attrs:tB,ngContentSelectors:iB,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(d.F$t(nB),d._UZ(0,"span",0),d.Hsn(1),d.TgZ(2,"span",1),d.Hsn(3,1),d.qZA(),d.Hsn(4,2),d._UZ(5,"span",2)(6,"span",3)),2&i&&d.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),e})(),rk=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[xi,nk,xi]}),e})(),g0=(()=>{var n;class e{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(i){this._vertical=ei(i)}get inset(){return this._inset}set inset(i){this._inset=ei(i)}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){2&i&&(d.uIk("aria-orientation",r.vertical?"vertical":"horizontal"),d.ekj("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{--mat-divider-width:1px;display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),e})(),sk=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[xi,xi]}),e})();const S5=["*"],M5=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],R5=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],O5=new d.OlP("MAT_CARD_CONFIG");let cp=(()=>{var n;class e{constructor(i){this.appearance=i?.appearance||"raised"}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(O5,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&d.ekj("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:S5,decls:1,vars:0,template:function(i,r){1&i&&(d.F$t(),d.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),e})(),ok=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),e})(),_0=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),e})(),ak=(()=>{var n;class e{constructor(){this.align="start"}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){2&i&&d.ekj("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),e})(),iv=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:R5,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(d.F$t(M5),d.Hsn(0),d.TgZ(1,"div",0),d.Hsn(2,1),d.qZA(),d.Hsn(3,2))},encapsulation:2,changeDetection:0}),e})(),PC=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]}),e})(),sB=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[xi,mn,xi]}),e})();class F5{constructor(e){this._box=e,this._destroyed=new gn.x,this._resizeSubject=new gn.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new ii.y(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Fi(t=>t.some(i=>i.target===e)),VO({bufferSize:1,refCount:!0}),Xs(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let L5=(()=>{var n;class e{constructor(){this._observers=new Map,this._ngZone=(0,d.f3M)(d.R0b)}ngOnDestroy(){for(const[,i]of this._observers)i.destroy();this._observers.clear()}observe(i,r){const s=r?.box||"content-box";return this._observers.has(s)||this._observers.set(s,new F5(s)),this._observers.get(s).observe(i)}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),oB=(()=>{var n;class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),aB=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[oB]}),e})();const U5=["notch"],j5=["matFormFieldNotchedOutline",""],H5=["*"],z5=["textField"],$5=["iconPrefixContainer"],G5=["textPrefixContainer"];function q5(n,e){1&n&&d._UZ(0,"span",19)}function W5(n,e){if(1&n&&(d.TgZ(0,"label",17),d.Hsn(1,1),d.YNc(2,q5,1,0,"span",18),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),d.uIk("for",t._control.id),d.xp6(2),d.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function Z5(n,e){if(1&n&&d.YNc(0,W5,3,5,"label",16),2&n){const t=d.oxw();d.Q6J("ngIf",t._hasFloatingLabel())}}function K5(n,e){1&n&&d._UZ(0,"div",20)}function Y5(n,e){}function Q5(n,e){if(1&n&&d.YNc(0,Y5,0,0,"ng-template",22),2&n){d.oxw(2);const t=d.MAs(1);d.Q6J("ngTemplateOutlet",t)}}function X5(n,e){if(1&n&&(d.TgZ(0,"div",21),d.YNc(1,Q5,1,1,"ng-template",9),d.qZA()),2&n){const t=d.oxw();d.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),d.xp6(1),d.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function J5(n,e){1&n&&(d.TgZ(0,"div",23,24),d.Hsn(2,2),d.qZA())}function e$(n,e){1&n&&(d.TgZ(0,"div",25,26),d.Hsn(2,3),d.qZA())}function t$(n,e){}function n$(n,e){if(1&n&&d.YNc(0,t$,0,0,"ng-template",22),2&n){d.oxw();const t=d.MAs(1);d.Q6J("ngTemplateOutlet",t)}}function i$(n,e){1&n&&(d.TgZ(0,"div",27),d.Hsn(1,4),d.qZA())}function r$(n,e){1&n&&(d.TgZ(0,"div",28),d.Hsn(1,5),d.qZA())}function s$(n,e){1&n&&d._UZ(0,"div",29)}function o$(n,e){if(1&n&&(d.TgZ(0,"div",30),d.Hsn(1,6),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function a$(n,e){if(1&n&&(d.TgZ(0,"mat-hint",34),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(1),d.Oqu(t.hintLabel)}}function c$(n,e){if(1&n&&(d.TgZ(0,"div",31),d.YNc(1,a$,2,2,"mat-hint",32),d.Hsn(2,7),d._UZ(3,"div",33),d.Hsn(4,8),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",t.hintLabel)}}const l$=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],d$=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let v0=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-label"]]}),e})();const u$=new d.OlP("MatError");let h$=0,TN=(()=>{var n;class e{constructor(){this.align="start",this.id="mat-mdc-hint-"+h$++}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(d.Ikx("id",r.id),d.uIk("align",null),d.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),e})();const f$=new d.OlP("MatPrefix"),cB=new d.OlP("MatSuffix");let m$=(()=>{var n;class e{constructor(){this._isText=!1}set _isTextSelector(i){this._isText=!0}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[d._Bn([{provide:cB,useExisting:n}])]}),e})();const lB=new d.OlP("FloatingLabelParent");let dB=(()=>{var n;class e{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,d.f3M)(L5),this._ngZone=(0,d.f3M)(d.R0b),this._parent=(0,d.f3M)(lB),this._resizeSubscription=new Ta.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function p$(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&d.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),e})();const uB="mdc-line-ripple--active",ck="mdc-line-ripple--deactivating";let hB=(()=>{var n;class e{constructor(i,r){this._elementRef=i,this._handleTransitionEnd=s=>{const c=this._elementRef.nativeElement.classList,h=c.contains(ck);"opacity"===s.propertyName&&h&&c.remove(uB,ck)},r.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const i=this._elementRef.nativeElement.classList;i.remove(ck),i.add(uB)}deactivate(){this._elementRef.nativeElement.classList.add(ck)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275dir=d.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),e})(),fB=(()=>{var n;class e{constructor(i,r){this._elementRef=i,this._ngZone=r,this.open=!1}ngAfterViewInit(){const i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){this._notch.nativeElement.style.width=this.open&&i?`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&d.Gf(U5,5),2&i){let s;d.iGM(s=d.CRH())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&d.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:j5,ngContentSelectors:H5,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(d.F$t(),d._UZ(0,"div",0),d.TgZ(1,"div",1,2),d.Hsn(3),d.qZA(),d._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),e})();const g$={transitionMessages:eo("transitionMessages",[fh("enter",dn({opacity:1,transform:"translateY(0%)"})),Bi("void => enter",[dn({opacity:0,transform:"translateY(-5px)"}),gi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let mB=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275dir=d.lG2({type:n}),e})();const pB=new d.OlP("MatFormField"),_$=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let gB=0,lk=(()=>{var n;class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=ei(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){const r=this._appearance;this._appearance=i||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,r,s,c,h,p,v,E){this._elementRef=i,this._changeDetectorRef=r,this._ngZone=s,this._dir=c,this._platform=h,this._defaults=p,this._animationMode=v,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+gB++,this._hintLabelId="mat-mdc-hint-"+gB++,this._subscriptAnimationState="",this._destroyed=new gn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,p&&(p.appearance&&(this.appearance=p.appearance),this._hideRequiredMarker=!!p?.hideRequiredMarker,p.color&&(this.color=p.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const i=this._control;i.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${i.controlType}`),i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),i.ngControl&&i.ngControl.valueChanges&&i.ngControl.valueChanges.pipe(Xs(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,IC.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Xs(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Xs(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(i){const r=this._control?this._control.ngControl:null;return r&&r[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&i.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,s=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;r?i.push(r.id):this._hintLabel&&i.push(this._hintLabelId),s&&i.push(s.id)}else this._errorChildren&&i.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const i=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(i.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,s=this._textPrefixContainer?.nativeElement,c=r?.getBoundingClientRect().width??0,h=s?.getBoundingClientRect().width??0;i.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${c+h}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const i=this._elementRef.nativeElement;if(i.getRootNode){const r=i.getRootNode();return r&&r!==i}return document.documentElement.contains(i)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(a5),d.Y36(na),d.Y36(_$,8),d.Y36(d.QbO,8),d.Y36(de))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(d.Suo(s,v0,5),d.Suo(s,v0,7),d.Suo(s,mB,5),d.Suo(s,f$,5),d.Suo(s,cB,5),d.Suo(s,u$,5),d.Suo(s,TN,5)),2&i){let c;d.iGM(c=d.CRH())&&(r._labelChildNonStatic=c.first),d.iGM(c=d.CRH())&&(r._labelChildStatic=c.first),d.iGM(c=d.CRH())&&(r._formFieldControl=c.first),d.iGM(c=d.CRH())&&(r._prefixChildren=c),d.iGM(c=d.CRH())&&(r._suffixChildren=c),d.iGM(c=d.CRH())&&(r._errorChildren=c),d.iGM(c=d.CRH())&&(r._hintChildren=c)}},viewQuery:function(i,r){if(1&i&&(d.Gf(z5,5),d.Gf($5,5),d.Gf(G5,5),d.Gf(dB,5),d.Gf(fB,5),d.Gf(hB,5)),2&i){let s;d.iGM(s=d.CRH())&&(r._textField=s.first),d.iGM(s=d.CRH())&&(r._iconPrefixContainer=s.first),d.iGM(s=d.CRH())&&(r._textPrefixContainer=s.first),d.iGM(s=d.CRH())&&(r._floatingLabel=s.first),d.iGM(s=d.CRH())&&(r._notchedOutline=s.first),d.iGM(s=d.CRH())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&d.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:pB,useExisting:n},{provide:lB,useExisting:n}])],ngContentSelectors:d$,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(d.F$t(l$),d.YNc(0,Z5,1,1,"ng-template",null,0,d.W1O),d.TgZ(2,"div",1,2),d.NdJ("click",function(c){return r._control.onContainerClick(c)}),d.YNc(4,K5,1,0,"div",3),d.TgZ(5,"div",4),d.YNc(6,X5,2,2,"div",5),d.YNc(7,J5,3,0,"div",6),d.YNc(8,e$,3,0,"div",7),d.TgZ(9,"div",8),d.YNc(10,n$,1,1,"ng-template",9),d.Hsn(11),d.qZA(),d.YNc(12,i$,2,0,"div",10),d.YNc(13,r$,2,0,"div",11),d.qZA(),d.YNc(14,s$,1,0,"div",12),d.qZA(),d.TgZ(15,"div",13),d.YNc(16,o$,2,1,"div",14),d.YNc(17,c$,5,2,"div",15),d.qZA()),2&i&&(d.xp6(2),d.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),d.xp6(2),d.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),d.xp6(2),d.Q6J("ngIf",r._hasOutline()),d.xp6(1),d.Q6J("ngIf",r._hasIconPrefix),d.xp6(1),d.Q6J("ngIf",r._hasTextPrefix),d.xp6(2),d.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),d.xp6(2),d.Q6J("ngIf",r._hasTextSuffix),d.xp6(1),d.Q6J("ngIf",r._hasIconSuffix),d.xp6(1),d.Q6J("ngIf",!r._hasOutline()),d.xp6(1),d.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),d.Q6J("ngSwitch",r._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},dependencies:[kr,Zc,ca,Jl,TN,dB,fB,hB],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[g$.transitionMessages]},changeDetection:0}),e})(),FC=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[xi,mn,aB,xi]}),e})();const yB=MC({passive:!0});let b$=(()=>{var n;class e{constructor(i,r){this._platform=i,this._ngZone=r,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return Ys.E;const r=ap(i),s=this._monitoredElements.get(r);if(s)return s.subject;const c=new gn.x,h="cdk-text-field-autofilled",p=v=>{"cdk-text-field-autofill-start"!==v.animationName||r.classList.contains(h)?"cdk-text-field-autofill-end"===v.animationName&&r.classList.contains(h)&&(r.classList.remove(h),this._ngZone.run(()=>c.next({target:v.target,isAutofilled:!1}))):(r.classList.add(h),this._ngZone.run(()=>c.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",p,yB),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:c,unlisten:()=>{r.removeEventListener("animationstart",p,yB)}}),c}stopMonitoring(i){const r=ap(i),s=this._monitoredElements.get(r);s&&(s.unlisten(),s.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((i,r)=>this.stopMonitoring(r))}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(na),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),w$=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),e})();function bB(...n){const e=(0,ls.jO)(n),{args:t,keys:i}=An(n),r=new ii.y(s=>{const{length:c}=t;if(!c)return void s.complete();const h=new Array(c);let p=c,v=c;for(let E=0;E<c;E++){let D=!1;(0,Ed.Xf)(t[E]).subscribe((0,kn.x)(s,M=>{D||(D=!0,v--),h[E]=M},()=>p--,void 0,()=>{(!p||!D)&&(v||s.next(i?Ss(i,h):h),s.complete())}))}});return e?r.pipe(mc(e)):r}let wB=(()=>{var n;class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),e})(),rv=(()=>{var n;class e extends wB{}return(n=e).\u0275fac=function(){let t;return function(r){return(t||(t=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),e})();const $a=new d.OlP("NgValueAccessor"),E$={provide:$a,useExisting:(0,d.Gpc)(()=>DN),multi:!0},I$=new d.OlP("CompositionEventMode");let DN=(()=>{var n;class e extends wB{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function C$(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(i){this.setProperty("value",i??"")}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(I$,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&d.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[d._Bn([E$]),d.qOj]}),e})();function lp(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function EB(n){return null!=n&&"number"==typeof n.length}const Bs=new d.OlP("NgValidators"),dp=new d.OlP("NgAsyncValidators"),T$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class D${static min(e){return function CB(n){return e=>{if(lp(e.value)||lp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function IB(n){return e=>{if(lp(e.value)||lp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function TB(n){return lp(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function DB(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function SB(n){return lp(n.value)||T$.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function AB(n){return e=>lp(e.value)||!EB(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function kB(n){return e=>EB(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function MB(n){if(!n)return dk;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(lp(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return LB(e)}static composeAsync(e){return BB(e)}}function dk(n){return null}function RB(n){return null!=n}function OB(n){return(0,d.QGY)(n)?(0,yn.D)(n):n}function NB(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function PB(n,e){return e.map(t=>t(n))}function FB(n){return n.map(e=>function S$(n){return!n.validate}(e)?e:t=>e.validate(t))}function LB(n){if(!n)return null;const e=n.filter(RB);return 0==e.length?null:function(t){return NB(PB(t,e))}}function SN(n){return null!=n?LB(FB(n)):null}function BB(n){if(!n)return null;const e=n.filter(RB);return 0==e.length?null:function(t){return bB(PB(t,e).map(OB)).pipe((0,ct.U)(NB))}}function AN(n){return null!=n?BB(FB(n)):null}function VB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function UB(n){return n._rawValidators}function jB(n){return n._rawAsyncValidators}function kN(n){return n?Array.isArray(n)?n:[n]:[]}function uk(n,e){return Array.isArray(n)?n.includes(e):n===e}function HB(n,e){const t=kN(e);return kN(n).forEach(r=>{uk(t,r)||t.push(r)}),t}function zB(n,e){return kN(e).filter(t=>!uk(n,t))}class $B{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=SN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=AN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Mo extends $B{get formDirective(){return null}get path(){return null}}class tf extends $B{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class GB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let qB=(()=>{var n;class e extends GB{constructor(i){super(i)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(tf,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),e})();const LC="VALID",fk="INVALID",y0="PENDING",BC="DISABLED";function ON(n){return(mk(n)?n.validators:n)||null}function NN(n,e){return(mk(e)?e.asyncValidators:n)||null}function mk(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class YB{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===LC}get invalid(){return this.status===fk}get pending(){return this.status==y0}get disabled(){return this.status===BC}get enabled(){return this.status!==BC}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(HB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zB(e,this._rawAsyncValidators))}hasValidator(e){return uk(this._rawValidators,e)}hasAsyncValidator(e){return uk(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=y0,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=BC,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=LC,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===LC||this.status===y0)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?BC:LC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=y0,this._hasOwnPendingAsyncValidator=!0;const t=OB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?BC:this.errors?fk:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(y0)?y0:this._anyControlsHaveStatus(fk)?fk:LC}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mk(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function O$(n){return Array.isArray(n)?SN(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function N$(n){return Array.isArray(n)?AN(n):n||null}(this._rawAsyncValidators)}}class PN extends YB{constructor(e,t,i){super(ON(t),NN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function KB(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new d.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function ZB(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new d.vHH(1e3,"");if(!i[t])throw new d.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const sv=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>VC}),VC="always";function UC(n,e,t=VC){FN(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function L$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&QB(n,e)})}(n,e),function V$(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function B$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&QB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function F$(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function gk(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),vk(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _k(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function FN(n,e){const t=UB(n);null!==e.validator?n.setValidators(VB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=jB(n);null!==e.asyncValidator?n.setAsyncValidators(VB(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();_k(e._rawValidators,r),_k(e._rawAsyncValidators,r)}function vk(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=UB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=jB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return _k(e._rawValidators,i),_k(e._rawAsyncValidators,i),t}function QB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function XB(n,e){FN(n,e)}function JB(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const $$={provide:Mo,useExisting:(0,d.Gpc)(()=>yk)},jC=(()=>Promise.resolve())();let yk=(()=>{var n;class e extends Mo{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new PN({},SN(i),AN(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){jC.then(()=>{const r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),UC(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){jC.then(()=>{const r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){jC.then(()=>{const r=this._findContainer(i.path),s=new PN({});XB(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){jC.then(()=>{const r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){jC.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,JB(this.form,this._directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(Bs,10),d.Y36(dp,10),d.Y36(sv,8))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&d.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([$$]),d.qOj]}),e})();function eV(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function tV(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const nV=class extends YB{constructor(e=null,t,i){super(ON(t),NN(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mk(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=tV(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){eV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){eV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){tV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},W$={provide:tf,useExisting:(0,d.Gpc)(()=>UN)},sV=(()=>Promise.resolve())();let UN=(()=>{var n;class e extends tf{constructor(i,r,s,c,h,p){super(),this._changeDetectorRef=h,this.callSetDisabledState=p,this.control=new nV,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function VN(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===DN?t=s:function H$(n){return Object.getPrototypeOf(n.constructor)===rv}(s)?i=s:r=s}),r||i||t||null}(0,c)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){const r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),function BN(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){UC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){sV.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){const r=i.isDisabled.currentValue,s=0!==r&&(0,d.VuI)(r);sV.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?function pk(n,e){return[...e.path,n]}(i,this._parent):[i]}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(Mo,9),d.Y36(Bs,10),d.Y36(dp,10),d.Y36($a,10),d.Y36(d.sBO,8),d.Y36(sv,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([W$]),d.qOj,d.TTD]}),e})(),aV=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),e})();const jN=new d.OlP("NgModelWithFormControlWarning"),eG={provide:Mo,useExisting:(0,d.Gpc)(()=>bk)};let bk=(()=>{var n;class e extends Mo{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vk(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const r=this.form.get(i.path);return UC(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){gk(i.control||null,i,!1),function z$(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,JB(this.form,this.directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const r=i.control,s=this.form.get(i.path);r!==s&&(gk(r||null,i),(n=>n instanceof nV)(s)&&(UC(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const r=this.form.get(i.path);XB(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const r=this.form.get(i.path);r&&function U$(n,e){return vk(n,e)}(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){FN(this.form,this),this._oldForm&&vk(this._oldForm,this)}_checkFormPresent(){}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(Bs,10),d.Y36(dp,10),d.Y36(sv,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&d.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([eG]),d.qOj,d.TTD]}),e})(),EV=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[aV]}),e})(),ZN=(()=>{var n;class e{static withConfig(i){return{ngModule:e,providers:[{provide:sv,useValue:i.callSetDisabledState??VC}]}}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[EV]}),e})(),yG=(()=>{var n;class e{static withConfig(i){return{ngModule:e,providers:[{provide:jN,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:sv,useValue:i.callSetDisabledState??VC}]}}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[EV]}),e})();const bG=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),wG=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let xG=0;const EG=u5(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new gn.x}});let wk=(()=>{var n;class e extends EG{get disabled(){return this._disabled}set disabled(i){this._disabled=ei(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(D$.required)??!1}set required(i){this._required=ei(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&D2().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=ei(i)}constructor(i,r,s,c,h,p,v,E,D,M){super(p,c,h,s),this._elementRef=i,this._platform=r,this._autofillMonitor=E,this._formField=M,this._uid="mat-input-"+xG++,this.focused=!1,this.stateChanges=new gn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(K=>D2().has(K)),this._iOSKeyupListener=K=>{const X=K.target;!X.value&&0===X.selectionStart&&0===X.selectionEnd&&(X.setSelectionRange(1,1),X.setSelectionRange(0,0))};const N=this._elementRef.nativeElement,U=N.nodeName.toLowerCase();this._inputValueAccessor=v||N,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&D.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===U,this._isTextarea="textarea"===U,this._isInFormField=!!M,this._isNativeSelect&&(this.controlType=N.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){const i=this._getPlaceholder();if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){wG.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const i=this._elementRef.nativeElement,r=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(na),d.Y36(tf,10),d.Y36(yk,8),d.Y36(bk,8),d.Y36(f5),d.Y36(bG,10),d.Y36(b$),d.Y36(d.R0b),d.Y36(pB,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&d.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(d.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),d.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),d.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:mB,useExisting:n}]),d.qOj,d.TTD]}),e})(),HC=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[xi,FC,FC,w$,xi]}),e})();const CG=new d.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),TG=OC(class{constructor(n){this._elementRef=n}},"primary");let KN=(()=>{var n;class e extends TG{constructor(i,r,s,c,h){super(i),this._ngZone=r,this._changeDetectorRef=s,this._animationMode=c,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new d.vpe,this._mode="determinate",this._transitionendHandler=p=>{0===this.animationEnd.observers.length||!p.target||!p.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===c,h&&(h.color&&(this.color=this.defaultColor=h.color),this.mode=h.mode||this.mode)}get value(){return this._value}set value(i){this._value=CV(RC(i)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(i){this._bufferValue=CV(RC(i)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(i){this._mode=i,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(d.sBO),d.Y36(d.QbO,8),d.Y36(CG,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(i,r){2&i&&(d.uIk("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),d.ekj("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[d.qOj],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0),d._UZ(1,"div",1)(2,"div",2),d.qZA(),d.TgZ(3,"div",3),d._UZ(4,"span",4),d.qZA(),d.TgZ(5,"div",5),d._UZ(6,"span",4),d.qZA()),2&i&&(d.xp6(1),d.Udp("flex-basis",r._getBufferBarFlexBasis()),d.xp6(2),d.Udp("transform",r._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill=''/%3E%3C/svg%3E\")}}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{--mdc-linear-progress-active-indicator-height:4px;--mdc-linear-progress-track-height:4px;--mdc-linear-progress-track-shape:0}.mat-mdc-progress-bar{display:block;text-align:left;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}[dir=rtl] .mat-mdc-progress-bar{text-align:right}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0}),e})();function CV(n,e=0,t=100){return Math.max(e,Math.min(t,n))}let IV=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[xi]}),e})();function DG(n,e){1&n&&d._UZ(0,"mat-progress-bar",12)}let SG=(()=>{var n;class e{constructor(i){this.authService=i,this.isLoading=!1}ngOnInit(){}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(op))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:32,vars:4,consts:[[1,"container"],[1,"login-card"],["src","./assets/infohub_logo.png","alt","logo","width","400"],[1,"example-full-width"],["matInput","","type","text"],["userName",""],["matInput","","type","password"],["userPassword",""],["mat-raised-button","","color","primary",3,"click"],["routerLink","/forgot-password",1,"forgotPassword"],["routerLink","/register",1,"SignUp"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(i,r){if(1&i){const s=d.EpF();d.TgZ(0,"div",0)(1,"mat-card",1),d._UZ(2,"img",2),d.TgZ(3,"mat-card-header")(4,"h2"),d._uU(5,"Login"),d.qZA(),d.TgZ(6,"mat-form-field",3)(7,"mat-label"),d._uU(8,"Username"),d.qZA(),d._UZ(9,"input",4,5),d.qZA(),d.TgZ(11,"mat-form-field",3)(12,"mat-label"),d._uU(13,"Password"),d.qZA(),d._UZ(14,"input",6,7),d.qZA()(),d.TgZ(16,"mat-card-content"),d._UZ(17,"mat-divider"),d.qZA(),d.TgZ(18,"mat-card-actions")(19,"button",8),d.NdJ("click",function(){d.CHM(s);const h=d.MAs(10),p=d.MAs(15);return r.authService.show(),d.KtG(r.authService.SignIn(h.value,p.value))}),d._uU(20," Login "),d.qZA()(),d.TgZ(21,"mat-card-footer")(22,"span"),d._uU(23," Or "),d.TgZ(24,"span",9),d._uU(25,"Forgot Password?"),d.qZA()(),d.TgZ(26,"span"),d._uU(27," Don't have an account? "),d.TgZ(28,"span",10),d._uU(29,"Sign Up"),d.qZA()(),d.YNc(30,DG,1,0,"mat-progress-bar",11),d.ALo(31,"async"),d.qZA()()()}2&i&&(d.xp6(1),d.Q6J("@myInsertRemoveTrigger",void 0),d.xp6(29),d.Q6J("ngIf",d.lcZ(31,2,r.authService.isLoading$)))},dependencies:[kr,Qf,p0,g0,cp,ak,_0,PC,iv,lk,v0,wk,KN,Vo],styles:["body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{height:80%;display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{display:block;margin:0 auto;padding:0;overflow:hidden}h2[_ngcontent-%COMP%]{text-align:center}.login-card[_ngcontent-%COMP%]{width:400px;padding:0}button[_ngcontent-%COMP%]{display:block;margin:0 auto}.mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}.forgotPassword[_ngcontent-%COMP%], .SignUp[_ngcontent-%COMP%]{text-align:center;color:#4dd5fe;font-size:14px;cursor:pointer;margin-top:10px}"],data:{animation:[eo("myInsertRemoveTrigger",[Bi(":enter",[dn({opacity:0}),gi("1s",dn({opacity:1}))]),Bi(":leave",[gi("1s",dn({opacity:0}))])]),eo("myOtherInsertRemoveTrigger",[Bi(":enter",[dn({transform:"translateX(-100%)"}),gi("0.5s",dn({transform:"translateX(0)"}))]),Bi(":leave",[gi("0.5s",dn({transform:"translateX(100%)"}))])])]}}),e})();const TV_newsApiFive_apiKey="0266bc550d3e46f9893b52815d2118f2",TV_firebase={apiKey:"AIzaSyCRNjlAyNOhhSpCayhj8FGHHhbw4MtkpKA",authDomain:"news-project-579a3.firebaseapp.com",projectId:"news-project-579a3",storageBucket:"news-project-579a3.appspot.com",messagingSenderId:"700119532137",appId:"1:700119532137:web:9fd58caf58aa49ded8d8f8",measurementId:"G-DNL6PZSD2R"};class xk{}class Ek{}class ou{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ou?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ou;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ou?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===s.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class AG{encodeKey(e){return DV(e)}encodeValue(e){return DV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const MG=/%(\d[a-f0-9])/gi,RG={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function DV(n){return encodeURIComponent(n).replace(MG,(e,t)=>RG[t]??e)}function Ck(n){return`${n}`}class up{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new AG,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kG(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,h]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(c)||[];p.push(h),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(Ck):[Ck(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new up({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Ck(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(Ck(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class OG{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function SV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function AV(n){return typeof Blob<"u"&&n instanceof Blob}function kV(n){return typeof FormData<"u"&&n instanceof FormData}class zC{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function NG(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ou),this.context||(this.context=new OG),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new up,this.urlWithParams=t}serializeBody(){return null===this.body?null:SV(this.body)||AV(this.body)||kV(this.body)||function PG(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof up?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kV(this.body)?null:AV(this.body)?this.body.type||null:SV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof up?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,v=e.params||this.params;const E=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((D,M)=>D.set(M,e.setHeaders[M]),p)),e.setParams&&(v=Object.keys(e.setParams).reduce((D,M)=>D.set(M,e.setParams[M]),v)),new zC(t,i,s,{params:v,headers:p,context:E,reportProgress:h,responseType:r,withCredentials:c})}}var b0=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(b0||{});class YN{constructor(e,t=200,i="OK"){this.headers=e.headers||new ou,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class QN extends YN{constructor(e={}){super(e),this.type=b0.ResponseHeader}clone(e={}){return new QN({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class w0 extends YN{constructor(e={}){super(e),this.type=b0.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new w0({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class MV extends YN{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function XN(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ik=(()=>{var n;class e{constructor(i){this.handler=i}request(i,r,s={}){let c;if(i instanceof zC)c=i;else{let v,E;v=s.headers instanceof ou?s.headers:new ou(s.headers),s.params&&(E=s.params instanceof up?s.params:new up({fromObject:s.params})),c=new zC(i,r,void 0!==s.body?s.body:null,{headers:v,context:s.context,params:E,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const h=(0,lt.of)(c).pipe(bo(v=>this.handler.handle(v)));if(i instanceof zC||"events"===s.observe)return h;const p=h.pipe(Fi(v=>v instanceof w0));switch(s.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return p.pipe((0,ct.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return p.pipe((0,ct.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return p.pipe((0,ct.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return p.pipe((0,ct.U)(v=>v.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:(new up).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,XN(s,r))}post(i,r,s={}){return this.request("POST",i,XN(s,r))}put(i,r,s={}){return this.request("PUT",i,XN(s,r))}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(xk))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})();function NV(n,e){return e(n)}function LG(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const VG=new d.OlP(""),$C=new d.OlP(""),PV=new d.OlP("");function UG(){let n=null;return(e,t)=>{null===n&&(n=((0,d.f3M)(VG,{optional:!0})??[]).reduceRight(LG,NV));const i=(0,d.f3M)(d.HDt),r=i.add();return n(e,t).pipe(Qs(()=>i.remove(r)))}}let FV=(()=>{var n;class e extends xk{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=(0,d.f3M)(d.HDt)}handle(i){if(null===this.chain){const s=Array.from(new Set([...this.injector.get($C),...this.injector.get(PV,[])]));this.chain=s.reduceRight((c,h)=>function BG(n,e,t){return(i,r)=>t.runInContext(()=>e(i,s=>n(s,r)))}(c,h,this.injector),NV)}const r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(Qs(()=>this.pendingTasks.remove(r)))}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(Ek),d.LFG(d.lqb))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})();const $G=/^\)\]\}',?\n/;let BV=(()=>{var n;class e{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new d.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,yn.D)(r.\u0275loadImpl()):(0,lt.of)(null)).pipe((0,Yn.w)(()=>new ii.y(c=>{const h=r.build();if(h.open(i.method,i.urlWithParams),i.withCredentials&&(h.withCredentials=!0),i.headers.forEach((X,Ie)=>h.setRequestHeader(X,Ie.join(","))),i.headers.has("Accept")||h.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const X=i.detectContentTypeHeader();null!==X&&h.setRequestHeader("Content-Type",X)}if(i.responseType){const X=i.responseType.toLowerCase();h.responseType="json"!==X?X:"text"}const p=i.serializeBody();let v=null;const E=()=>{if(null!==v)return v;const X=h.statusText||"OK",Ie=new ou(h.getAllResponseHeaders()),ze=function GG(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(h)||i.url;return v=new QN({headers:Ie,status:h.status,statusText:X,url:ze}),v},D=()=>{let{headers:X,status:Ie,statusText:ze,url:Ge}=E(),je=null;204!==Ie&&(je=typeof h.response>"u"?h.responseText:h.response),0===Ie&&(Ie=je?200:0);let xt=Ie>=200&&Ie<300;if("json"===i.responseType&&"string"==typeof je){const kt=je;je=je.replace($G,"");try{je=""!==je?JSON.parse(je):null}catch(tn){je=kt,xt&&(xt=!1,je={error:tn,text:je})}}xt?(c.next(new w0({body:je,headers:X,status:Ie,statusText:ze,url:Ge||void 0})),c.complete()):c.error(new MV({error:je,headers:X,status:Ie,statusText:ze,url:Ge||void 0}))},M=X=>{const{url:Ie}=E(),ze=new MV({error:X,status:h.status||0,statusText:h.statusText||"Unknown Error",url:Ie||void 0});c.error(ze)};let N=!1;const U=X=>{N||(c.next(E()),N=!0);let Ie={type:b0.DownloadProgress,loaded:X.loaded};X.lengthComputable&&(Ie.total=X.total),"text"===i.responseType&&h.responseText&&(Ie.partialText=h.responseText),c.next(Ie)},K=X=>{let Ie={type:b0.UploadProgress,loaded:X.loaded};X.lengthComputable&&(Ie.total=X.total),c.next(Ie)};return h.addEventListener("load",D),h.addEventListener("error",M),h.addEventListener("timeout",M),h.addEventListener("abort",M),i.reportProgress&&(h.addEventListener("progress",U),null!==p&&h.upload&&h.upload.addEventListener("progress",K)),h.send(p),c.next({type:b0.Sent}),()=>{h.removeEventListener("error",M),h.removeEventListener("abort",M),h.removeEventListener("load",D),h.removeEventListener("timeout",M),i.reportProgress&&(h.removeEventListener("progress",U),null!==p&&h.upload&&h.upload.removeEventListener("progress",K)),h.readyState!==h.DONE&&h.abort()}})))}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(Zr))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})();const JN=new d.OlP("XSRF_ENABLED"),VV=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),UV=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class jV{}let ZG=(()=>{var n;class e{constructor(i,r,s){this.doc=i,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=oa(i,this.cookieName),this.lastCookieString=i),this.lastToken}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(de),d.LFG(d.Lbi),d.LFG(VV))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})();function KG(n,e){const t=n.url.toLowerCase();if(!(0,d.f3M)(JN)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,d.f3M)(jV).getToken(),r=(0,d.f3M)(UV);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var hp=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(hp||{});function av(n,e){return{\u0275kind:n,\u0275providers:e}}function YG(...n){const e=[Ik,BV,FV,{provide:xk,useExisting:FV},{provide:Ek,useExisting:BV},{provide:$C,useValue:KG,multi:!0},{provide:JN,useValue:!0},{provide:jV,useClass:ZG}];for(const t of n)e.push(...t.\u0275providers);return(0,d.MR2)(e)}const HV=new d.OlP("LEGACY_INTERCEPTOR_FN");let XG=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[YG(av(hp.LegacyInterceptors,[{provide:HV,useFactory:UG},{provide:$C,useExisting:HV,multi:!0}]))]}),e})(),Dk=(()=>{var n;class e{constructor(i){this.http=i,this.apiKey=TV_newsApiFive_apiKey,this.selectedCategory=new gn.x,this.selectedCategory$=this.selectedCategory.asObservable()}show(i){this.selectedCategory.next(i),console.log(typeof i)}getTopHeadlines(i){return this.http.get(`https://newsapi.org/v2/top-headlines?country=US&category=${i}&apiKey=${this.apiKey}`).pipe(Lr(r=>(console.error("Error:",r),Ko(r))))}searchArticles(i){return this.http.get(`https://newsapi.org/v2/everything?q=${i}&sortBy=publishedAt&apiKey=${this.apiKey}`).pipe(Lr(r=>(console.error("API request failed:",r),Ko(r))))}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(Ik))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),eP=(()=>{var n;class e{constructor(){this.categories=[{name:"General",icon:"description"},{name:"Business",icon:"add_business"},{name:"Entertainment",icon:"theater_comedy"},{name:"Health",icon:"health_and_safety"},{name:"Science",icon:"biotech"},{name:"Sports",icon:"sports_football"},{name:"Technology",icon:"important_devices"},{name:"Search",icon:"search"},{name:"Liked",icon:"favorite"}]}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})(),zV=(()=>{var n;class e{constructor(){this.likedArticles=[]}addLikedArticle(i){this.likedArticles.push(i)}getLikedArticles(){return this.likedArticles}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();const r8=["*"];let Sk;function GC(n){return function s8(){if(void 0===Sk&&(Sk=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Sk=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Sk}()?.createHTML(n)||n}function $V(n){return Error(`Unable to find icon with the name "${n}"`)}function GV(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function qV(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class cv{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let Ak=(()=>{var n;class e{constructor(i,r,s,c){this._httpClient=i,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(i,r,s){return this.addSvgIconInNamespace("",i,r,s)}addSvgIconLiteral(i,r,s){return this.addSvgIconLiteralInNamespace("",i,r,s)}addSvgIconInNamespace(i,r,s,c){return this._addSvgIconConfig(i,r,new cv(s,null,c))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,r,s,c){const h=this._sanitizer.sanitize(d.q3G.HTML,s);if(!h)throw qV(s);const p=GC(h);return this._addSvgIconConfig(i,r,new cv("",p,c))}addSvgIconSet(i,r){return this.addSvgIconSetInNamespace("",i,r)}addSvgIconSetLiteral(i,r){return this.addSvgIconSetLiteralInNamespace("",i,r)}addSvgIconSetInNamespace(i,r,s){return this._addSvgIconSetConfig(i,new cv(r,null,s))}addSvgIconSetLiteralInNamespace(i,r,s){const c=this._sanitizer.sanitize(d.q3G.HTML,r);if(!c)throw qV(r);const h=GC(c);return this._addSvgIconSetConfig(i,new cv("",h,s))}registerFontClassAlias(i,r=i){return this._fontCssClassesByAlias.set(i,r),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){const r=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,i);if(!r)throw GV(i);const s=this._cachedIconsByUrl.get(r);return s?(0,lt.of)(kk(s)):this._loadSvgIconFromConfig(new cv(i,null)).pipe((0,Mn.b)(c=>this._cachedIconsByUrl.set(r,c)),(0,ct.U)(c=>kk(c)))}getNamedSvgIcon(i,r=""){const s=WV(r,i);let c=this._svgIconConfigs.get(s);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,i),c)return this._svgIconConfigs.set(s,c),this._getSvgFromConfig(c);const h=this._iconSetConfigs.get(r);return h?this._getSvgFromIconSetConfigs(i,h):Ko($V(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?(0,lt.of)(kk(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe((0,ct.U)(r=>kk(r)))}_getSvgFromIconSetConfigs(i,r){const s=this._extractIconWithNameFromAnySet(i,r);return s?(0,lt.of)(s):bB(r.filter(h=>!h.svgText).map(h=>this._loadSvgIconSetFromConfig(h).pipe(Lr(p=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,h.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(E)),(0,lt.of)(null)})))).pipe((0,ct.U)(()=>{const h=this._extractIconWithNameFromAnySet(i,r);if(!h)throw $V(i);return h}))}_extractIconWithNameFromAnySet(i,r){for(let s=r.length-1;s>=0;s--){const c=r[s];if(c.svgText&&c.svgText.toString().indexOf(i)>-1){const h=this._svgElementFromConfig(c),p=this._extractSvgIconFromSet(h,i,c.options);if(p)return p}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe((0,Mn.b)(r=>i.svgText=r),(0,ct.U)(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?(0,lt.of)(null):this._fetchIcon(i).pipe((0,Mn.b)(r=>i.svgText=r))}_extractSvgIconFromSet(i,r,s){const c=i.querySelector(`[id="${r}"]`);if(!c)return null;const h=c.cloneNode(!0);if(h.removeAttribute("id"),"svg"===h.nodeName.toLowerCase())return this._setSvgAttributes(h,s);if("symbol"===h.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(h),s);const p=this._svgElementFromString(GC("<svg></svg>"));return p.appendChild(h),this._setSvgAttributes(p,s)}_svgElementFromString(i){const r=this._document.createElement("DIV");r.innerHTML=i;const s=r.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(i){const r=this._svgElementFromString(GC("<svg></svg>")),s=i.attributes;for(let c=0;c<s.length;c++){const{name:h,value:p}=s[c];"id"!==h&&r.setAttribute(h,p)}for(let c=0;c<i.childNodes.length;c++)i.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(i.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(i,r){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),r&&r.viewBox&&i.setAttribute("viewBox",r.viewBox),i}_fetchIcon(i){const{url:r,options:s}=i,c=s?.withCredentials??!1;if(!this._httpClient)throw function o8(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const h=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,r);if(!h)throw GV(r);const p=this._inProgressUrlFetches.get(h);if(p)return p;const v=this._httpClient.get(h,{responseType:"text",withCredentials:c}).pipe((0,ct.U)(E=>GC(E)),Qs(()=>this._inProgressUrlFetches.delete(h)),(0,BO.B)());return this._inProgressUrlFetches.set(h,v),v}_addSvgIconConfig(i,r,s){return this._svgIconConfigs.set(WV(i,r),s),this}_addSvgIconSetConfig(i,r){const s=this._iconSetConfigs.get(i);return s?s.push(r):this._iconSetConfigs.set(i,[r]),this}_svgElementFromConfig(i){if(!i.svgElement){const r=this._svgElementFromString(i.svgText);this._setSvgAttributes(r,i.options),i.svgElement=r}return i.svgElement}_getIconConfigFromResolvers(i,r){for(let s=0;s<this._resolvers.length;s++){const c=this._resolvers[s](r,i);if(c)return c8(c)?new cv(c.url,null,c.options):new cv(c,null)}}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(Ik,8),d.LFG(Ts),d.LFG(de,8),d.LFG(d.qLn))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})();function kk(n){return n.cloneNode(!0)}function WV(n,e){return n+":"+e}function c8(n){return!(!n.url||!n.options)}const l8=OC(class{constructor(n){this._elementRef=n}}),d8=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),u8=new d.OlP("mat-icon-location",{providedIn:"root",factory:function h8(){const n=(0,d.f3M)(de),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),ZV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],f8=ZV.map(n=>`[${n}]`).join(", "),m8=/^url\(['"]?#(.*?)['"]?\)$/;let Mk=(()=>{var n;class e extends l8{get inline(){return this._inline}set inline(i){this._inline=ei(i)}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){const r=this._cleanupFontValue(i);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){const r=this._cleanupFontValue(i);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(i,r,s,c,h,p){super(i),this._iconRegistry=r,this._location=c,this._errorHandler=h,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ta.w0.EMPTY,p&&(p.color&&(this.color=this.defaultColor=p.color),p.fontSet&&(this.fontSet=p.fontSet)),s||i.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];const r=i.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const i=this._elementsWithExternalReferences;if(i&&i.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){const i=this._elementRef.nativeElement;let r=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const s=i.childNodes[r];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const i=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>i.classList.remove(s)),r.forEach(s=>i.classList.add(s)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return"string"==typeof i?i.trim().split(" ")[0]:i}_prependPathToReferences(i){const r=this._elementsWithExternalReferences;r&&r.forEach((s,c)=>{s.forEach(h=>{c.setAttribute(h.name,`url('${i}#${h.value}')`)})})}_cacheChildrenWithExternalReferences(i){const r=i.querySelectorAll(f8),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)ZV.forEach(h=>{const p=r[c],v=p.getAttribute(h),E=v?v.match(m8):null;if(E){let D=s.get(p);D||(D=[],s.set(p,D)),D.push({name:h,value:E[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){const[r,s]=this._splitIconName(i);r&&(this._svgNamespace=r),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,r).pipe(Fr(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${s}! ${c.message}`))})}}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(Ak),d.$8M("aria-hidden"),d.Y36(u8),d.Y36(d.qLn),d.Y36(d8,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(d.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),d.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:r8,decls:1,vars:0,template:function(i,r){1&i&&(d.F$t(),d.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),e})(),Rk=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[xi,xi]}),e})();function p8(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"mat-card",6)(1,"a",7)(2,"div",8),d._UZ(3,"img",9),d.qZA()(),d.TgZ(4,"mat-card-header")(5,"mat-card-title")(6,"h3")(7,"a",10),d._uU(8),d.qZA()(),d.TgZ(9,"p",11)(10,"em"),d._uU(11),d.qZA()()()(),d.TgZ(12,"a",12),d.NdJ("click",function(){const s=d.CHM(t).$implicit,c=d.oxw();return d.KtG(c.likedArticles(s.url))}),d._UZ(13,"mat-icon",13),d.qZA()()}if(2&n){const t=e.$implicit,i=d.oxw();d.xp6(1),d.s9C("href",t.url,d.LSH),d.xp6(2),d.s9C("src",t.urlToImage?t.urlToImage:i.defaultImage,d.LSH),d.xp6(5),d.Oqu(t.title),d.xp6(3),d.Oqu(t.publishedAt)}}let g8=(()=>{var n;class e{constructor(i,r,s){this.newsService=i,this.categoryService=r,this.likedService=s,this.selectedCategory="business",this.categories=this.categoryService.categories,this.selectedCategory$=this.newsService.selectedCategory$,console.log(this.selectedCategory)}ngOnInit(){this.getNews(this.selectedCategory),this.selectedCategory$.subscribe(i=>{console.log(i),this.selectedCategory=i,this.getNews(this.selectedCategory)})}getNews(i){this.newsService.getTopHeadlines(i).subscribe(r=>{this.headlines=r.articles,console.log(r)})}onCategoryChange(i){console.log(i,"received"),this.selectedCategory=i,this.getNews(this.selectedCategory)}truncatedText(i){return i.length>60?i.substring(0,60)+"...":i}likedArticles(i){this.likedService.addLikedArticle({url:i,title:"title",description:"description"}),console.log(i)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(Dk),d.Y36(eP),d.Y36(zV))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-news-list"]],inputs:{selectedCategory:"selectedCategory"},decls:10,vars:2,consts:[[1,"news-list"],["id","topHeadlinesTitle"],[1,"h1Headlines"],[1,"custom-divider"],[1,"news-items"],["class","news-item",4,"ngFor","ngForOf"],[1,"news-item"],["target","_blank",3,"href"],[1,"image-container"],["alt","img","id","snapshotImg",3,"src"],["id","subtitler"],["id","articlePublished"],["target","_blank",1,"like",3,"href","click"],["aria-hidden","false","aria-label","icon","fontIcon","favorite",2,"font-size","20px"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"mat-card-title",1)(2,"h1",2),d._uU(3,"Top Headlines: "),d.TgZ(4,"small"),d._uU(5),d.qZA()(),d._UZ(6,"mat-divider",3),d.qZA(),d.TgZ(7,"div",4),d.YNc(8,p8,14,4,"mat-card",5),d._UZ(9,"mat-divider"),d.qZA()()),2&i&&(d.xp6(5),d.Oqu(r.selectedCategory),d.xp6(3),d.Q6J("ngForOf",r.headlines))},dependencies:[Bo,g0,cp,iv,ok,Mk],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-top:1rem;font-weight:700;text-align:center;text-transform:uppercase;color:#fff;padding:1vh;margin:0}h3[_ngcontent-%COMP%]{line-height:3vh}.h1Headlines[_ngcontent-%COMP%]{background-color:#0a3161;font-size:2.5vw}.custom-divider[_ngcontent-%COMP%]{height:2px;background-color:#d90429}.news-list[_ngcontent-%COMP%]{width:90%!important;margin:0 auto;width:auto}.news-items[_ngcontent-%COMP%]{width:100%;margin:0;padding:0;display:flex;flex-wrap:wrap;justify-content:space-between}mat-card[_ngcontent-%COMP%]{width:20em;overflow:hidden;margin:5px 5px 10px;padding:0;background-color:#d1d7dc;flex:0 0 calc(20% - 10px)}.mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;padding:0 10px;line-height:0}#snapshotImg[_ngcontent-%COMP%]{width:100%;padding-bottom:0}#actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0;padding:0}.cardButton[_ngcontent-%COMP%]{background-color:#003566;padding:5px 10px;text-decoration:none;border:none}#subtitler[_ngcontent-%COMP%]{color:#000!important;font-weight:bolder;font-size:14px;padding:0;margin:0}#articleDescription[_ngcontent-%COMP%], #articlePublished[_ngcontent-%COMP%]{font-size:12px;padding:0;margin:0}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:0;padding:0}.like[_ngcontent-%COMP%]{color:#0862b5;position:absolute;top:0;right:0;background:transparent;border:none;cursor:pointer}.like[_ngcontent-%COMP%]:hover{color:#d90429}"]}),e})();function _8(n,e){1&n&&d._UZ(0,"mat-progress-bar",10)}let v8=(()=>{var n;class e{constructor(i){this.authService=i,this.isLoading=!1}ngOnInit(){}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(op))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-registration"]],decls:27,vars:4,consts:[[1,"container"],[1,"login-card"],[1,"example-full-width"],["matInput","","type","email"],["userEmail",""],["matInput","","type","password"],["userPwd",""],["mat-raised-button","","color","primary",3,"click"],["routerLink","/login",1,"redirect"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(i,r){if(1&i){const s=d.EpF();d.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"h2"),d._uU(4,"Register"),d.qZA(),d.TgZ(5,"mat-form-field",2)(6,"mat-label"),d._uU(7,"Email"),d.qZA(),d._UZ(8,"input",3,4),d.qZA(),d.TgZ(10,"mat-form-field",2)(11,"mat-label"),d._uU(12,"Password"),d.qZA(),d._UZ(13,"input",5,6),d.qZA()(),d.TgZ(15,"mat-card-content"),d._UZ(16,"mat-divider"),d.qZA(),d.TgZ(17,"mat-card-actions")(18,"button",7),d.NdJ("click",function(){d.CHM(s);const h=d.MAs(9),p=d.MAs(14);return d.KtG([r.authService.show(),r.authService.SignUp(h.value,p.value)])}),d._uU(19," Sign Up "),d.qZA()(),d.TgZ(20,"mat-card-footer")(21,"span"),d._uU(22,"Already have an account? "),d.TgZ(23,"span",8),d._uU(24,"Log In"),d.qZA()()(),d.YNc(25,_8,1,0,"mat-progress-bar",9),d.ALo(26,"async"),d.qZA()()}2&i&&(d.xp6(1),d.Q6J("@myInsertRemoveTrigger",void 0),d.xp6(24),d.Q6J("ngIf",d.lcZ(26,2,r.authService.isLoading$)))},dependencies:[kr,Qf,p0,g0,cp,ak,_0,PC,iv,lk,v0,wk,KN,Vo],styles:[".container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}h2[_ngcontent-%COMP%]{text-align:center}.login-card[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin:0 auto}span[_ngcontent-%COMP%]{padding:.5em;text-align:center;display:block}.mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}.redirect[_ngcontent-%COMP%]{display:inline-block;text-align:center;color:#4dd5fe;font-size:14px;cursor:pointer}.redirect[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[eo("myInsertRemoveTrigger",[Bi(":enter",[dn({opacity:0}),gi("1s",dn({opacity:1}))]),Bi(":leave",[gi("1s",dn({opacity:0}))])]),eo("myOtherInsertRemoveTrigger",[Bi(":enter",[dn({transform:"translateX(-100%)"}),gi("0.5s",dn({transform:"translateX(0)"}))]),Bi(":leave",[gi("0.5s",dn({transform:"translateX(100%)"}))])])]}}),e})();function y8(n,e){1&n&&d._UZ(0,"mat-progress-bar",11)}let b8=(()=>{var n;class e{constructor(i){this.authService=i,this.isLoading=!1}ngOnInit(){}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(op))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-forgot-password"]],decls:24,vars:4,consts:[[1,"container"],[1,"displayTable"],[1,"displayTableCell"],[1,"text-center"],[1,"formGroup"],["matInput","","type","email","placeholder","Email Address","required","",1,"formControl"],["passwordResetEmail",""],["mat-raised-button","","color","primary","type","submit",1,"btn","btnPrimary",3,"click"],[1,"redirectToLogin"],["routerLink","/login",1,"redirect"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(i,r){if(1&i){const s=d.EpF();d.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"mat-card-header",2)(4,"h3"),d._uU(5,"Reset Password"),d.qZA(),d.TgZ(6,"p",3),d._uU(7," Please enter your email address to request a password reset. "),d.qZA()(),d.TgZ(8,"mat-form-field",4)(9,"mat-label"),d._uU(10,"Email"),d.qZA(),d._UZ(11,"input",5,6),d.qZA(),d._UZ(13,"mat-divider"),d.TgZ(14,"mat-card-actions",4)(15,"button",7),d.NdJ("click",function(){d.CHM(s);const h=d.MAs(12);return d.KtG([r.authService.show(),r.authService.ForgotPassword(h.value)])}),d._uU(16," Reset Password "),d.qZA()(),d.TgZ(17,"mat-card-footer",8)(18,"span"),d._uU(19,"Go back to ? "),d.TgZ(20,"span",9),d._uU(21," Log In"),d.qZA()()()(),d.YNc(22,y8,1,0,"mat-progress-bar",10),d.ALo(23,"async"),d.qZA()()}2&i&&(d.xp6(1),d.Q6J("@myInsertRemoveTrigger",void 0),d.xp6(21),d.Q6J("ngIf",d.lcZ(23,2,r.authService.isLoading$)))},dependencies:[kr,Qf,p0,g0,cp,ak,_0,PC,iv,lk,v0,wk,KN,Vo],styles:[".redirect[_ngcontent-%COMP%], .btnPrimary[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{width:500px;padding:1em;display:flex;flex-direction:column;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{margin:.5em}mat-form-field[_ngcontent-%COMP%]{width:100%}input.formControl[_ngcontent-%COMP%]{width:90%}mat-card-header[_ngcontent-%COMP%], mat-card-footer[_ngcontent-%COMP%], mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.redirect[_ngcontent-%COMP%]{display:inline-block;text-align:center;color:#4dd5fe;font-size:14px;cursor:pointer}"],data:{animation:[eo("myInsertRemoveTrigger",[Bi(":enter",[dn({opacity:0}),gi("1s",dn({opacity:1}))]),Bi(":leave",[gi("1s",dn({opacity:0}))])]),eo("myOtherInsertRemoveTrigger",[Bi(":enter",[dn({transform:"translateX(-100%)"}),gi("0.5s",dn({transform:"translateX(0)"}))]),Bi(":leave",[gi("0.5s",dn({transform:"translateX(100%)"}))])])]}}),e})();function w8(n,e){if(1&n&&(d.TgZ(0,"div",9)(1,"p",10),d._uU(2," We have sent a confirmation email to "),d.TgZ(3,"strong"),d._uU(4),d.qZA(),d._uU(5,". "),d.qZA(),d.TgZ(6,"p",10),d._uU(7," Please check your email and click on the link to verify your email address. "),d.qZA()()),2&n){const t=e.ngIf;d.xp6(4),d.Oqu(t.email)}}let x8=(()=>{var n;class e{constructor(i){this.authService=i}ngOnInit(){}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(op))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-verify-email"]],decls:15,vars:2,consts:[[1,"container"],[1,"displayTableCell"],[1,"authBlock"],["class","formGroup",4,"ngIf"],[1,"button"],["type","button","mat-raised-button","","color","primary",3,"click"],[1,"fas","fa-redo-alt"],[1,"redirectToLogin"],["routerLink","/login",1,"redirect"],[1,"formGroup"],[1,"text-center"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content",2)(3,"h3"),d._uU(4,"Thank You for Registering"),d.qZA(),d.YNc(5,w8,8,1,"div",3),d.TgZ(6,"div",4)(7,"button",5),d.NdJ("click",function(){return r.authService.SendVerificationMail()}),d._UZ(8,"i",6),d._uU(9," Resend Verification Email "),d.qZA()()(),d.TgZ(10,"mat-card-footer",7)(11,"span"),d._uU(12,"Go back to? "),d.TgZ(13,"span",8),d._uU(14," Sign in"),d.qZA()()()()()),2&i&&(d.xp6(1),d.Q6J("@myInsertRemoveTrigger",void 0),d.xp6(4),d.Q6J("ngIf",r.authService.userData))},dependencies:[kr,Qf,p0,cp,_0,PC],styles:[".container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}h3[_ngcontent-%COMP%]{text-align:center}mat-card[_ngcontent-%COMP%]{width:500px;padding:1em;display:flex;flex-direction:column;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{margin:.5em}mat-card-header[_ngcontent-%COMP%], mat-card-footer[_ngcontent-%COMP%], mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.redirect[_ngcontent-%COMP%]{display:inline-block;text-align:center;color:#4dd5fe;font-size:14px;cursor:pointer}.button[_ngcontent-%COMP%]{display:flex;justify-content:center}"],data:{animation:[eo("myInsertRemoveTrigger",[Bi(":enter",[dn({opacity:0}),gi("1s",dn({opacity:1}))]),Bi(":leave",[gi("1s",dn({opacity:0}))])]),eo("myOtherInsertRemoveTrigger",[Bi(":enter",[dn({transform:"translateX(-100%)"}),gi("0.5s",dn({transform:"translateX(0)"}))]),Bi(":leave",[gi("0.5s",dn({transform:"translateX(100%)"}))])])]}}),e})();function E8(n,e){if(1&n&&(d.TgZ(0,"mat-card",9)(1,"mat-card-header")(2,"mat-card-title")(3,"h3")(4,"a",10),d._uU(5),d.qZA()(),d.TgZ(6,"p"),d._uU(7),d.qZA()()(),d.TgZ(8,"mat-card-content",11)(9,"a",12),d._UZ(10,"mat-icon",13),d.qZA()()()),2&n){const t=e.$implicit,i=d.oxw();d.xp6(4),d.s9C("href",t.url,d.LSH),d.xp6(1),d.hij(" ",i.truncatedText(t.title)," "),d.xp6(2),d.Oqu(t.description)}}let C8=(()=>{var n;class e{constructor(i,r){this.newsService=i,this.router=r,this.searchResults=[],this.searchFilter=""}ngOnInit(){this.getSearchResults()}getSearchResults(){""!==this.searchFilter.trim()&&this.newsService.searchArticles(this.searchFilter).subscribe(i=>{this.headlines=i.articles,console.log(this.headlines),this.searchResults=this.headlines.map(r=>({title:r.title,url:r.url}))},i=>{console.error("Error on API request:",i)})}onFilterChange(i){this.searchFilter=i.target.value,this.getSearchResults()}goBackToTopHeadlines(){this.router.navigate(["top-headlines"])}truncatedText(i){return i.length>60?i.substring(0,60)+"...":i}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(Dk),d.Y36(xr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-search"]],inputs:{searchFilter:"searchFilter"},decls:24,vars:1,consts:[[1,"searchInput"],["appearance","outline"],["matInput","",3,"input"],["matSuffix",""],["mat-button","",1,"cardButton","goBackButton",3,"click"],["aria-hidden","false","aria-label","icon"],["id","searchTitler"],[1,"news-list"],["class","searchResults",4,"ngFor","ngForOf"],[1,"searchResults"],["id","subtitler","target","_blank",3,"href"],["id","actions"],["mat-button","","target","_blank",1,"cardButton",3,"href"],["aria-hidden","false","aria-label","icon","fontIcon","thumb_up"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"h2"),d._uU(2,"Search by keyword"),d.qZA(),d.TgZ(3,"mat-form-field",1)(4,"mat-label"),d._uU(5,"Type a keyword to find"),d.qZA(),d.TgZ(6,"input",2),d.NdJ("input",function(c){return r.onFilterChange(c)}),d.qZA(),d.TgZ(7,"mat-icon",3),d._uU(8,"search"),d.qZA(),d.TgZ(9,"mat-hint"),d._uU(10,"can use AND / OR / NOT keywords"),d.qZA()(),d._UZ(11,"br"),d.TgZ(12,"button",4),d.NdJ("click",function(){return r.goBackToTopHeadlines()}),d.TgZ(13,"mat-icon",5),d._uU(14,"arrow_back"),d.qZA(),d.TgZ(15,"span"),d._uU(16,"Go Back"),d.qZA()(),d._UZ(17,"br"),d.qZA(),d._UZ(18,"mat-divider"),d.TgZ(19,"h2",6),d._uU(20,"Your Search Results"),d.qZA(),d.TgZ(21,"div",7),d.YNc(22,E8,11,3,"mat-card",8),d._UZ(23,"mat-divider"),d.qZA()),2&i&&(d.xp6(22),d.Q6J("ngForOf",r.searchResults))},dependencies:[Bo,T5,p0,g0,cp,_0,iv,ok,Mk,lk,v0,TN,m$,wk],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:1rem;font-weight:700;text-align:center;text-transform:uppercase;color:#0a3161;padding:1vh;margin:0}h3[_ngcontent-%COMP%]   #searchTitler[_ngcontent-%COMP%]{margin:0 auto}.news-list[_ngcontent-%COMP%]{margin:0 auto;width:90%;display:flex;flex-wrap:wrap;justify-content:space-between}mat-card[_ngcontent-%COMP%]{width:15em;height:12rem;overflow:hidden;margin:10px 10px 20px;padding:10px;background-color:#d1d7dc;flex:0 0 calc(25% - 20px)}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0;padding:0}mat-icon[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;text-align:center}.cardButton[_ngcontent-%COMP%]{margin:0 auto;background-color:#003566;padding:5px 10px;text-decoration:none;border:none;color:#d1d7dc!important}#subtitler[_ngcontent-%COMP%]{color:#000!important;font-weight:bolder}.cardButton[_ngcontent-%COMP%]:hover{background-color:#d90429}.searchInput[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 auto;width:40%}.goBackButton[_ngcontent-%COMP%]{margin:0 auto;width:40%}"]}),e})();function I8(n,e){if(1&n&&(d.TgZ(0,"mat-card",5)(1,"mat-card-header")(2,"mat-card-title")(3,"h3")(4,"a",6),d._uU(5),d.qZA()(),d.TgZ(6,"p"),d._uU(7),d.qZA()()()()),2&n){const t=e.$implicit;d.xp6(4),d.Q6J("href",t.url,d.LSH),d.xp6(1),d.hij(" ",t.title," "),d.xp6(2),d.Oqu(t.description)}}const T8=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:SG},{path:"register",component:v8},{path:"top-headlines",component:g8,canActivate:[(()=>{var n;class e{constructor(i,r){this.authService=i,this.router=r}canActivate(i,r){return!0!==this.authService.isLoggedIn&&this.router.navigate(["login"]),!0}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(op),d.LFG(xr))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),e})()]},{path:"forgot-password",component:b8},{path:"verify-email-address",component:x8},{path:"search",component:C8},{path:"Liked",component:(()=>{var n;class e{constructor(i,r,s){this.authService=i,this.likedService=r,this.router=s,this.likedArticles=[]}ngOnInit(){this.authService.getUserData().subscribe(i=>{this.likedArticles=this.likedService.getLikedArticles()})}goBackToTopHeadlines(){this.router.navigate(["top-headlines"])}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(op),d.Y36(zV),d.Y36(xr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-liked"]],decls:13,vars:1,consts:[[1,"likedSection"],["mat-button","",1,"cardButton","goBackButton",3,"click"],["aria-hidden","false","aria-label","icon"],[1,"news-list"],["class","searchResults",4,"ngFor","ngForOf"],[1,"searchResults"],["id","subtitler","target","_blank",3,"href"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"h1"),d._uU(2,"User liked articles"),d.qZA(),d.TgZ(3,"button",1),d.NdJ("click",function(){return r.goBackToTopHeadlines()}),d.TgZ(4,"mat-icon",2),d._uU(5,"arrow_back"),d.qZA(),d.TgZ(6,"span"),d._uU(7,"Go Back"),d.qZA()(),d._UZ(8,"br")(9,"mat-divider"),d.qZA(),d.TgZ(10,"div",3),d.YNc(11,I8,8,3,"mat-card",4),d._UZ(12,"mat-divider"),d.qZA()),2&i&&(d.xp6(11),d.Q6J("ngForOf",r.likedArticles))},dependencies:[Bo,p0,g0,cp,iv,ok,Mk],styles:["h1[_ngcontent-%COMP%]{margin:0 auto;text-align:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:1rem;font-weight:700;text-align:center;text-transform:uppercase;color:#0a3161;padding:1vh;margin:0}.news-list[_ngcontent-%COMP%]{margin:0 auto;width:90%;display:flex;flex-wrap:wrap;justify-content:space-between}mat-card[_ngcontent-%COMP%]{width:15em;height:12rem;overflow:hidden;margin:10px 10px 20px;padding:10px;background-color:#d1d7dc;flex:0 0 calc(25% - 20px)}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0;padding:0}mat-icon[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;text-align:center}.cardButton[_ngcontent-%COMP%]{margin:0 auto;background-color:#003566;padding:5px 10px;text-decoration:none;border:none;color:#d1d7dc!important}#subtitler[_ngcontent-%COMP%]{color:#000!important;font-weight:bolder}.cardButton[_ngcontent-%COMP%]:hover{background-color:#d90429}.likedSection[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 auto;width:40%}.goBackButton[_ngcontent-%COMP%]{margin:0 auto;width:40%}"]}),e})()}];let D8=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[oy.forRoot(T8),oy]}),e})();const S8=["*",[["mat-toolbar-row"]]],A8=["*","mat-toolbar-row"],k8=OC(class{constructor(n){this._elementRef=n}});let M8=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),e})(),R8=(()=>{var n;class e extends k8{constructor(i,r,s){super(i),this._platform=r,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(na),d.Y36(de))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,s){if(1&i&&d.Suo(s,M8,5),2&i){let c;d.iGM(c=d.CRH())&&(r._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&d.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:A8,decls:2,vars:0,template:function(i,r){1&i&&(d.F$t(S8),d.Hsn(0),d.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0}),e})(),tP=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[xi,xi]}),e})();class nP{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new gn.x,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}const O8=["button"],N8=["*"],KV=new d.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),YV=new d.OlP("MatButtonToggleGroup"),P8={provide:$a,useExisting:(0,d.Gpc)(()=>JV),multi:!0};let QV=0;class XV{constructor(e,t){this.source=e,this.value=t}}let JV=(()=>{var n;class e{get name(){return this._name}set name(i){this._name=i,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(i){this._vertical=ei(i)}get value(){const i=this._selectionModel?this._selectionModel.selected:[];return this.multiple?i.map(r=>r.value):i[0]?i[0].value:void 0}set value(i){this._setSelectionByValue(i),this.valueChange.emit(this.value)}get selected(){const i=this._selectionModel?this._selectionModel.selected:[];return this.multiple?i:i[0]||null}get multiple(){return this._multiple}set multiple(i){this._multiple=ei(i),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(i){this._disabled=ei(i),this._markButtonsForCheck()}constructor(i,r){this._changeDetector=i,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+QV++,this.valueChange=new d.vpe,this.change=new d.vpe,this.appearance=r&&r.appearance?r.appearance:"standard"}ngOnInit(){this._selectionModel=new nP(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(i=>i.checked))}writeValue(i){this.value=i,this._changeDetector.markForCheck()}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}_emitChangeEvent(i){const r=new XV(i,this.value);this._rawValue=r.value,this._controlValueAccessorChangeFn(r.value),this.change.emit(r)}_syncButtonToggle(i,r,s=!1,c=!1){!this.multiple&&this.selected&&!i.checked&&(this.selected.checked=!1),this._selectionModel?r?this._selectionModel.select(i):this._selectionModel.deselect(i):c=!0,c?Promise.resolve().then(()=>this._updateModelValue(i,s)):this._updateModelValue(i,s)}_isSelected(i){return this._selectionModel&&this._selectionModel.isSelected(i)}_isPrechecked(i){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(r=>null!=i.value&&r===i.value):i.value===this._rawValue)}_setSelectionByValue(i){this._rawValue=i,this._buttonToggles&&(this.multiple&&i?(Array.isArray(i),this._clearSelection(),i.forEach(r=>this._selectValue(r))):(this._clearSelection(),this._selectValue(i)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(i=>i.checked=!1)}_selectValue(i){const r=this._buttonToggles.find(s=>null!=s.value&&s.value===i);r&&(r.checked=!0,this._selectionModel.select(r))}_updateModelValue(i,r){r&&this._emitChangeEvent(i),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(i=>i._markForCheck())}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(d.sBO),d.Y36(KV,8))},n.\u0275dir=d.lG2({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(i,r,s){if(1&i&&d.Suo(s,eU,5),2&i){let c;d.iGM(c=d.CRH())&&(r._buttonToggles=c)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(i,r){2&i&&(d.uIk("aria-disabled",r.disabled),d.ekj("mat-button-toggle-vertical",r.vertical)("mat-button-toggle-group-appearance-standard","standard"===r.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[d._Bn([P8,{provide:YV,useExisting:n}])]}),e})();const F8=xN(class{});let eU=(()=>{var n;class e extends F8{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(i){this._appearance=i}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(i){const r=ei(i);r!==this._checked&&(this._checked=r,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(i){this._disabled=ei(i)}constructor(i,r,s,c,h,p){super(),this._changeDetectorRef=r,this._elementRef=s,this._focusMonitor=c,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new d.vpe;const v=Number(h);this.tabIndex=v||0===v?v:null,this.buttonToggleGroup=i,this.appearance=p&&p.appearance?p.appearance:"standard"}ngOnInit(){const i=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+QV++,i&&(i._isPrechecked(this)?this.checked=!0:i._isSelected(this)!==this._checked&&i._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const i=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),i&&i._isSelected(this)&&i._syncButtonToggle(this,!1,!1,!0)}focus(i){this._buttonElement.nativeElement.focus(i)}_onButtonClick(){const i=!!this._isSingleSelector()||!this._checked;i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new XV(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(YV,8),d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(bN),d.$8M("tabindex"),d.Y36(KV,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(i,r){if(1&i&&d.Gf(O8,5),2&i){let s;d.iGM(s=d.CRH())&&(r._buttonElement=s.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(i,r){1&i&&d.NdJ("focus",function(){return r.focus()}),2&i&&(d.uIk("aria-label",null)("aria-labelledby",null)("id",r.id)("name",null),d.ekj("mat-button-toggle-standalone",!r.buttonToggleGroup)("mat-button-toggle-checked",r.checked)("mat-button-toggle-disabled",r.disabled)("mat-button-toggle-appearance-standard","standard"===r.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[d.qOj],ngContentSelectors:N8,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){if(1&i&&(d.F$t(),d.TgZ(0,"button",0,1),d.NdJ("click",function(){return r._onButtonClick()}),d.TgZ(2,"span",2),d.Hsn(3),d.qZA()(),d._UZ(4,"span",3)(5,"span",4)),2&i){const s=d.MAs(1);d.Q6J("id",r.buttonId)("disabled",r.disabled||null),d.uIk("tabindex",r.disabled?-1:r.tabIndex)("aria-pressed",r.checked)("name",r._getButtonName())("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),d.xp6(5),d.Q6J("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)}},dependencies:[EN],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{--mat-legacy-button-toggle-height:36px;--mat-legacy-button-toggle-shape:2px;--mat-legacy-button-toggle-focus-state-layer-opacity:1;position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-text-font)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-text-font)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0}),e})(),tU=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[xi,nk,xi]}),e})();function L8(n,e){if(1&n&&(d.TgZ(0,"mat-icon"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.Oqu(t.icon)}}function B8(n,e){if(1&n&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(1),d.Oqu(t.name)}}function V8(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"mat-button-toggle",3),d.NdJ("click",function(){const s=d.CHM(t).$implicit,c=d.oxw();return d.KtG(c.newsService.show(s.name))}),d.YNc(1,L8,2,1,"mat-icon",4),d.YNc(2,B8,2,1,"span",4),d.qZA()}if(2&n){const t=e.$implicit,i=d.oxw();d.Q6J("value",t.name),d.xp6(1),d.Q6J("ngIf",i.isSmallScreen),d.xp6(1),d.Q6J("ngIf",!i.isSmallScreen)}}function U8(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"span",5),d.NdJ("click",function(){d.CHM(t);const r=d.oxw();return d.KtG(r.authService.SignOut())}),d._UZ(1,"mat-icon",6),d._uU(2," logout "),d.qZA()}}let j8=(()=>{var n;class e{onResize(i){this.isSmallScreen=i.target.innerWidth<860,this.windowInnerWidth=window.innerWidth}constructor(i,r,s,c){this.router=i,this.authService=r,this.categoryService=s,this.newsService=c,this.isSmallScreen=!1,this.isAuthenticated=!1,this.categories=this.categoryService.categories,this.showSearchComponent=!1,this.newsListComponent=!1,this.selectedCategory="general",this.categoryChanged=new d.vpe,this.windowInnerWidth=window.innerWidth}onCategoryChange(i){this.selectedCategory=i.value,this.categoryChanged.emit(this.selectedCategory),"Search"===i.value?this.router.navigate(["search"]):"Start"===i.value?this.router.navigate(["top-headlines"]):"Liked"===i.value&&this.router.navigate(["Liked"])}ngOnInit(){this.authService.isAuthenticated().subscribe(i=>{this.isAuthenticated=i})}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(xr),d.Y36(op),d.Y36(eP),d.Y36(Dk))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-toolbar"]],hostBindings:function(i,r){1&i&&d.NdJ("resize",function(c){return r.onResize(c)},!1,d.Jf7)},outputs:{categoryChanged:"categoryChanged"},decls:4,vars:3,consts:[[3,"ngModel","ngModelChange","change"],[3,"value","click",4,"ngFor","ngForOf"],["class","material-symbols-outlined logout",3,"click",4,"ngIf"],[3,"value","click"],[4,"ngIf"],[1,"material-symbols-outlined","logout",3,"click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","logout","id","logout"]],template:function(i,r){1&i&&(d.TgZ(0,"mat-toolbar")(1,"mat-button-toggle-group",0),d.NdJ("ngModelChange",function(c){return r.selectedCategory=c})("change",function(c){return r.onCategoryChange(c)}),d.YNc(2,V8,3,3,"mat-button-toggle",1),d.qZA(),d.YNc(3,U8,3,0,"span",2),d.qZA()),2&i&&(d.xp6(1),d.Q6J("ngModel",r.selectedCategory),d.xp6(1),d.Q6J("ngForOf",r.categories),d.xp6(1),d.Q6J("ngIf",r.authService.isLoggedIn))},dependencies:[Bo,kr,qB,UN,R8,JV,eU,Mk],styles:["mat-toolbar[_ngcontent-%COMP%]{font-size:15px!important;padding:0;display:flex;justify-content:space-between;background-color:transparent;border:none}mat-button-toggle-group[_ngcontent-%COMP%]{flex-direction:row;align-items:center;width:100%;margin:0 auto;height:2rem}mat-button-toggle[_ngcontent-%COMP%]:hover{background-color:#ced4da}.material-symbols-outlined[_ngcontent-%COMP%]{cursor:pointer;margin:0 auto}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto;padding:0 1rem}.api[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{font-size:10px;margin:0 auto;padding:0}.logout[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),e})(),H8=(()=>{var n;class e{constructor(){this.currentDay="",this.currentDate=new Date,this.currentTime=new Date}ngOnInit(){this.updateTime(),setInterval(()=>this.updateTime(),1e3)}updateTime(){const i=new Date;this.currentDay=this.getDayOfWeek(i.getDay()),this.currentDate=i,this.currentTime=i}getDayOfWeek(i){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][i]}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-header"]],decls:14,vars:9,consts:[[1,"header"],[1,"clock"],[1,"api"],["href","https://newsapi.org/","target","_blank"],["src","./assets/news_logo.png","alt","logo","width","50"],[1,"banner"],[1,"theHeader"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"div",1)(2,"p"),d._uU(3),d.ALo(4,"date"),d.ALo(5,"date"),d.qZA()(),d.TgZ(6,"div",2)(7,"p"),d._uU(8," Powered by: "),d.TgZ(9,"a",3),d._UZ(10,"img",4),d.qZA()()()(),d.TgZ(11,"div",5)(12,"h1",6),d._uU(13,"InfoHub News: Bringing the World to Your Screen"),d.qZA()()),2&i&&(d.xp6(3),d.lnq(" ",r.currentDay," ",d.xi3(4,3,r.currentTime,"HH:mm:ss")," MST, ",d.xi3(5,6,r.currentDate,"MM-dd-yyyy")," "))},dependencies:[fo],styles:[".clock[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:500}.header[_ngcontent-%COMP%]{background-color:#000;color:#fca311;text-align:center;display:flex;justify-content:space-between;padding:0 2rem}p[_ngcontent-%COMP%]{margin:0;padding:0}.api[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1vh;display:flex;justify-content:center;align-items:center;line-height:0;padding-top:2px}.banner[_ngcontent-%COMP%]{background-image:url(/assets/header.jpg);background-color:#023e8a;background-size:cover;background-repeat:no-repeat;background-position:center;width:100%;height:2em}.theHeader[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#f8edeb;margin:0;padding:0 2rem;font-size:1rem;display:flex;justify-content:flex-end;font-weight:bolder;align-items:center;text-transform:uppercase}"]}),e})();function z8(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"app-toolbar",2),d.NdJ("categoryChanged",function(r){d.CHM(t);const s=d.oxw();return d.KtG(s.onCategoryChanged(r))}),d.qZA()}}let $8=(()=>{var n;class e{constructor(i,r){this.activatedRoute=i,this.router=r,this.title="newsApp",this.selectedCategory="general",this.isLoggedIn=!1,this.isLoginPage=!1,this.activatedRoute.url.subscribe(s=>{this.isLoginPage=s.some(c=>"login"===c.path)}),this.router.events.subscribe(s=>{s instanceof Qo&&(this.isLoggedIn="/login"!==s.url)})}onCategoryChanged(i){this.selectedCategory=i}}return(n=e).\u0275fac=function(i){return new(i||n)(d.Y36(Ec),d.Y36(xr))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:1,consts:[[1,"container"],[3,"categoryChanged",4,"ngIf"],[3,"categoryChanged"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0),d._UZ(1,"app-header"),d.YNc(2,z8,1,0,"app-toolbar",1),d._UZ(3,"router-outlet"),d.qZA()),2&i&&(d.xp6(2),d.Q6J("ngIf",r.isLoggedIn&&!r.isLoginPage))},dependencies:[kr,sh,j8,H8],styles:[".container[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}"]}),e})();function nU(n){return new d.vHH(3e3,!1)}function fp(n){switch(n.length){case 0:return new tm;case 1:return n[0];default:return new mT(n)}}function iU(n,e,t=new Map,i=new Map){const r=[],s=[];let c=-1,h=null;if(e.forEach(p=>{const v=p.get("offset"),E=v==c,D=E&&h||new Map;p.forEach((M,N)=>{let U=N,K=M;if("offset"!==N)switch(U=n.normalizePropertyName(U,r),K){case"!":K=t.get(N);break;case Il:K=i.get(N);break;default:K=n.normalizeStyleValue(N,U,K,r)}D.set(U,K)}),E||s.push(D),h=D,c=v}),r.length)throw function fq(n){return new d.vHH(3502,!1)}();return s}function iP(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&rP(t,"start",n)));break;case"done":n.onDone(()=>i(t&&rP(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&rP(t,"destroy",n)))}}function rP(n,e,t){const s=sP(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function sP(n,e,t,i,r="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function Ga(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function rU(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Iq=(()=>typeof document>"u"?null:document.documentElement)();function oP(n){const e=n.parentNode||n.host||null;return e===Iq?null:e}let lv=null,sU=!1;function oU(n,e){for(;e;){if(e===n)return!0;e=oP(e)}return!1}function aU(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let cU=(()=>{var n;class e{validateStyleProperty(i){return function Dq(n){lv||(lv=function Sq(){return typeof document<"u"?document.body:null}()||{},sU=!!lv.style&&"WebkitAppearance"in lv.style);let e=!0;return lv.style&&!function Tq(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in lv.style,!e&&sU&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in lv.style)),e}(i)}matchesElement(i,r){return!1}containsElement(i,r){return oU(i,r)}getParentElement(i){return oP(i)}query(i,r,s){return aU(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,c,h,p=[],v){return new tm(s,c)}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})(),aP=(()=>{class e{}return e.NOOP=new cU,e})();const Aq=1e3,cP="ng-enter",Ok="ng-leave",Nk="ng-trigger",Pk=".ng-trigger",dU="ng-animating",lP=".ng-animating";function nf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:dP(parseFloat(e[1]),e[2])}function dP(n,e){return"s"===e?n*Aq:n}function Fk(n,e,t){return n.hasOwnProperty("duration")?n:function Mq(n,e,t){let r,s=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(nU()),{duration:0,delay:0,easing:""};r=dP(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=dP(parseFloat(p),h[4]));const v=h[5];v&&(c=v)}else r=n;if(!t){let h=!1,p=e.length;r<0&&(e.push(function G8(){return new d.vHH(3100,!1)}()),h=!0),s<0&&(e.push(function q8(){return new d.vHH(3101,!1)}()),h=!0),h&&e.splice(p,0,nU())}return{duration:r,delay:s,easing:c}}(n,e,t)}function qC(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function uU(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function mp(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function au(n,e,t){e.forEach((i,r)=>{const s=hP(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function dv(n,e){e.forEach((t,i)=>{const r=hP(i);n.style[r]=""})}function WC(n){return Array.isArray(n)?1==n.length?n[0]:fg(n):n}const uP=new RegExp("{{\\s*(.+?)\\s*}}","g");function fU(n){let e=[];if("string"==typeof n){let t;for(;t=uP.exec(n);)e.push(t[1]);uP.lastIndex=0}return e}function ZC(n,e,t){const i=n.toString(),r=i.replace(uP,(s,c)=>{let h=e[c];return null==h&&(t.push(function Z8(n){return new d.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function Lk(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Nq=/-+([a-z0-9])/g;function hP(n){return n.replace(Nq,(...e)=>e[1].toUpperCase())}function qa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function K8(n){return new d.vHH(3004,!1)}()}}function mU(n,e){return window.getComputedStyle(n)[e]}const Bk="*";function Lq(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Bq(n,e,t){if(":"==n[0]){const p=function Vq(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function lq(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function cq(n){return new d.vHH(3015,!1)}()),e;const r=i[1],s=i[2],c=i[3];e.push(pU(r,c));"<"==s[0]&&!(r==Bk&&c==Bk)&&e.push(pU(c,r))}(i,t,e)):t.push(n),t}const Vk=new Set(["true","1"]),Uk=new Set(["false","0"]);function pU(n,e){const t=Vk.has(n)||Uk.has(n),i=Vk.has(e)||Uk.has(e);return(r,s)=>{let c=n==Bk||n==r,h=e==Bk||e==s;return!c&&t&&"boolean"==typeof r&&(c=r?Vk.has(n):Uk.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?Vk.has(e):Uk.has(e)),c&&h}}const Uq=new RegExp("s*:selfs*,?","g");function fP(n,e,t,i){return new jq(n).build(e,t,i)}class jq{constructor(e){this._driver=e}build(e,t,i){const r=new $q(t);return this._resetContextStyleTimingState(r),qa(this,WC(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function Q8(){return new d.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,v=p.name;v.toString().split(/\s*,\s*/).forEach(E=>{p.name=E,s.push(this.visitState(p,t))}),p.name=v}else if(1==h.type){const p=this.visitTransition(h,t);i+=p.queryCount,r+=p.depCount,c.push(p)}else t.errors.push(function X8(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{fU(p).forEach(v=>{c.hasOwnProperty(v)||s.add(v)})})}),s.size&&(Lk(s.values()),t.errors.push(function J8(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=qa(this,WC(e.animation),t);return{type:1,matchers:Lq(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:uv(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>qa(this,i,t)),options:uv(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(c=>{t.currentTime=i;const h=qa(this,c,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:uv(e.options)}}visitAnimate(e,t){const i=function qq(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return mP(Fk(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=mP(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=Fk(t,e);return mP(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:dn({});if(5==s.type)r=this.visitKeyframes(s,t);else{let c=e.styles,h=!1;if(!c){h=!0;const v={};i.easing&&(v.easing=i.easing),c=dn(v)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,t);p.isEmptyStep=h,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===Il?i.push(h):t.errors.push(new d.vHH(3002,!1)):i.push(uU(h));let s=!1,c=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!s))for(let p of h.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,p)=>{const v=t.collectedStyles.get(t.currentQuerySelector),E=v.get(p);let D=!0;E&&(s!=r&&s>=E.startTime&&r<=E.endTime&&(t.errors.push(function tq(n,e,t,i,r){return new d.vHH(3010,!1)}()),D=!1),s=E.startTime),D&&v.set(p,{startTime:s,endTime:r}),t.options&&function Oq(n,e,t){const i=e.params||{},r=fU(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function W8(n){return new d.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function nq(){return new d.vHH(3011,!1)}()),i;let s=0;const c=[];let h=!1,p=!1,v=0;const E=e.steps.map(Ie=>{const ze=this._makeStyleAst(Ie,t);let Ge=null!=ze.offset?ze.offset:function Gq(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ze.styles),je=0;return null!=Ge&&(s++,je=ze.offset=Ge),p=p||je<0||je>1,h=h||je<v,v=je,c.push(je),ze});p&&t.errors.push(function iq(){return new d.vHH(3012,!1)}()),h&&t.errors.push(function rq(){return new d.vHH(3200,!1)}());const D=e.steps.length;let M=0;s>0&&s<D?t.errors.push(function sq(){return new d.vHH(3202,!1)}()):0==s&&(M=1/(D-1));const N=D-1,U=t.currentTime,K=t.currentAnimateTimings,X=K.duration;return E.forEach((Ie,ze)=>{const Ge=M>0?ze==N?1:M*ze:c[ze],je=Ge*X;t.currentTime=U+K.delay+je,K.duration=je,this._validateStyleAst(Ie,t),Ie.offset=Ge,i.styles.push(Ie)}),i}visitReference(e,t){return{type:8,animation:qa(this,WC(e.animation),t),options:uv(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:uv(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:uv(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function Hq(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Uq,"")),n=n.replace(/@\*/g,Pk).replace(/@\w+/g,t=>Pk+"-"+t.slice(1)).replace(/:animating/g,lP),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Ga(t.collectedStyles,t.currentQuerySelector,new Map);const h=qa(this,WC(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:uv(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function oq(){return new d.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Fk(e.timings,t.errors,!0);return{type:12,animation:qa(this,WC(e.animation),t),timings:i,options:null}}}class $q{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function uv(n){return n?(n=qC(n)).params&&(n.params=function zq(n){return n?qC(n):null}(n.params)):n={},n}function mP(n,e,t){return{duration:n,delay:e,easing:t}}function pP(n,e,t,i,r,s,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:h}}class jk{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Kq=new RegExp(":enter","g"),Qq=new RegExp(":leave","g");function gP(n,e,t,i,r,s=new Map,c=new Map,h,p,v=[]){return(new Xq).buildKeyframes(n,e,t,i,r,s,c,h,p,v)}class Xq{buildKeyframes(e,t,i,r,s,c,h,p,v,E=[]){v=v||new jk;const D=new _P(e,t,v,r,s,E,[]);D.options=p;const M=p.delay?nf(p.delay):0;D.currentTimeline.delayNextStep(M),D.currentTimeline.setStyles([c],null,D.errors,p),qa(this,i,D);const N=D.timelines.filter(U=>U.containsAnimation());if(N.length&&h.size){let U;for(let K=N.length-1;K>=0;K--){const X=N[K];if(X.element===t){U=X;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([h],null,D.errors,p)}return N.length?N.map(U=>U.buildKeyframes()):[pP(t,[],[],[],0,M,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const c="number"==typeof s?s:nf(ZC(s,r?.params??{},t.errors));i.delayNextStep(c)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const c=null!=i.duration?nf(i.duration):null,h=null!=i.delay?nf(i.delay):null;return 0!==c&&e.forEach(p=>{const v=t.appendInstructionToTimeline(p,c,h);s=Math.max(s,v.duration+v.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),qa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Hk);const c=nf(s.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>qa(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?nf(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),qa(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Fk(t.params?ZC(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?nf(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Hk);let c=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((v,E)=>{t.currentQueryIndex=E;const D=t.createSubContext(e.options,v);s&&D.delayNextStep(s),v===t.element&&(p=D.currentTimeline),qa(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),h=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const E=t.currentTimeline;p&&E.delayNextStep(p);const D=E.currentTime;qa(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const Hk={};class _P{constructor(e,t,i,r,s,c,h,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Hk,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new zk(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=nf(i.duration)),null!=i.delay&&(r.delay=nf(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=ZC(s[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new _P(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Hk,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new Jq(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,c){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(Kq,"."+this._enterClassName)).replace(Qq,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!s&&0==h.length&&c.push(function aq(n){return new d.vHH(3014,!1)}()),h}}class zk{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new zk(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Il),this._currentKeyframe.set(t,Il);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},c=function e9(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Il)}else mp(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,p]of c){const v=ZC(p,s,i);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Il),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const v=mp(h,new Map,this._backFill);v.forEach((E,D)=>{"!"===E?e.add(D):E===Il&&t.add(D)}),i||v.set("offset",p/this.duration),r.push(v)});const s=e.size?Lk(e.values()):[],c=t.size?Lk(t.values()):[];if(i){const h=r[0],p=new Map(h);h.set("offset",0),p.set("offset",1),r=[h,p]}return pP(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class Jq extends zk{constructor(e,t,i,r,s,c,h=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=i+t,h=t/c,p=mp(e[0]);p.set("offset",0),s.push(p);const v=mp(e[0]);v.set("offset",vU(h)),s.push(v);const E=e.length-1;for(let D=1;D<=E;D++){let M=mp(e[D]);const N=M.get("offset");M.set("offset",vU((t+N*i)/c)),s.push(M)}i=c,t=0,r="",e=s}return pP(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function vU(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class vP{}const t9=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class n9 extends vP{normalizePropertyName(e,t){return hP(e)}normalizeStyleValue(e,t,i,r){let s="";const c=i.toString().trim();if(t9.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function Y8(n,e){return new d.vHH(3005,!1)}())}return c+s}}function yU(n,e,t,i,r,s,c,h,p,v,E,D,M){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:c,timelines:h,queriedElements:p,preStyleProps:v,postStyleProps:E,totalTime:D,errors:M}}const yP={};class bU{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function i9(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,c,h,p,v,E){const D=[],M=this.ast.options&&this.ast.options.params||yP,U=this.buildStyles(i,h&&h.params||yP,D),K=p&&p.params||yP,X=this.buildStyles(r,K,D),Ie=new Set,ze=new Map,Ge=new Map,je="void"===r,xt={params:r9(K,M),delay:this.ast.options?.delay},kt=E?[]:gP(e,t,this.ast.animation,s,c,U,X,xt,v,D);let tn=0;if(kt.forEach(Us=>{tn=Math.max(Us.duration+Us.delay,tn)}),D.length)return yU(t,this._triggerName,i,r,je,U,X,[],[],ze,Ge,tn,D);kt.forEach(Us=>{const lf=Us.element,nH=Ga(ze,lf,new Set);Us.preStyleProps.forEach(Cv=>nH.add(Cv));const kI=Ga(Ge,lf,new Set);Us.postStyleProps.forEach(Cv=>kI.add(Cv)),lf!==t&&Ie.add(lf)});const Hi=Lk(Ie.values());return yU(t,this._triggerName,i,r,je,U,X,kt,Hi,ze,Ge,tn)}}function r9(n,e){const t=qC(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class s9{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=qC(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!==c&&(r[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,h)=>{c&&(c=ZC(c,r,t));const p=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,p,c,t),i.set(h,c)})}),i}}class a9{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new s9(r.style,r.options&&r.options.params||{},i))}),wU(this.states,"true","1"),wU(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new bU(e,r,this.states))}),this.fallbackTransition=function c9(n,e,t){return new bU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function wU(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const l9=new jk;class d9{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=fP(this._driver,t,i,[]);if(i.length)throw function mq(n){return new d.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=iU(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let c;const h=new Map;if(s?(c=gP(this._driver,t,s,cP,Ok,new Map,new Map,i,l9,r),c.forEach(E=>{const D=Ga(h,E.element,new Map);E.postStyleProps.forEach(M=>D.set(M,null))})):(r.push(function pq(){return new d.vHH(3300,!1)}()),c=[]),r.length)throw function gq(n){return new d.vHH(3504,!1)}();h.forEach((E,D)=>{E.forEach((M,N)=>{E.set(N,this._driver.computeStyle(D,N,Il))})});const v=fp(c.map(E=>{const D=h.get(E.element);return this._buildPlayer(E,new Map,D)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function _q(n){return new d.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=sP(t,"","","");return iP(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const xU="ng-animate-queued",bP="ng-animate-disabled",p9=[],EU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},g9={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wl="__ng_removed";class wP{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function b9(n){return n??null}(i?e.value:e),i){const s=qC(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const KC="void",xP=new wP(KC);class _9{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,jc(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function vq(n,e){return new d.vHH(3302,!1)}();if(null==i||0==i.length)throw function yq(n){return new d.vHH(3303,!1)}();if(!function w9(n){return"start"==n||"done"==n}(i))throw function bq(n,e){return new d.vHH(3400,!1)}();const s=Ga(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};s.push(c);const h=Ga(this._engine.statesByElement,e,new Map);return h.has(t)||(jc(e,Nk),jc(e,Nk+"-"+t),h.set(t,xP)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function wq(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),c=new EP(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(jc(e,Nk),jc(e,Nk+"-"+t),this._engine.statesByElement.set(e,h=new Map));let p=h.get(t);const v=new wP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&v.absorbOptions(p.options),h.set(t,v),p||(p=xP),v.value!==KC&&p.value===v.value){if(!function C9(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,v.params)){const K=[],X=s.matchStyles(p.value,p.params,K),Ie=s.matchStyles(v.value,v.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{dv(e,X),au(e,Ie)})}return}const M=Ga(this._engine.playersByElement,e,[]);M.forEach(K=>{K.namespaceId==this.id&&K.triggerName==t&&K.queued&&K.destroy()});let N=s.matchTransition(p.value,v.value,e,v.params),U=!1;if(!N){if(!r)return;N=s.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:N,fromState:p,toState:v,player:c,isFallbackTransition:U}),U||(jc(e,xU),c.onStart(()=>{x0(e,xU)})),c.onDone(()=>{let K=this.players.indexOf(c);K>=0&&this.players.splice(K,1);const X=this._engine.playersByElement.get(e);if(X){let Ie=X.indexOf(c);Ie>=0&&X.splice(Ie,1)}}),this.players.push(c),M.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Pk,!0);i.forEach(r=>{if(r[Wl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const h=[];if(s.forEach((p,v)=>{if(c.set(v,p.value),this._triggers.has(v)){const E=this.trigger(e,v,KC,r);E&&h.push(E)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&fp(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,v=i.get(c)||xP,E=new wP(KC),D=new EP(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:v,toState:E,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Wl];(!s||s===EU)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){jc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(h=>{if(h.name==i.triggerName){const p=sP(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,iP(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class v9{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new _9(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){const p=r.get(h);if(p){const v=i.indexOf(p);i.splice(v+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if($k(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!$k(t))return;const s=t[Wl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),jc(e,bP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),x0(e,bP))}removeNode(e,t,i){if($k(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Wl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return $k(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Pk,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,lP,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return fp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Wl];if(t&&t.setForRemoval){if(e[Wl]=EU,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(bP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)jc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?fp(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function xq(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new jk,r=[],s=new Map,c=[],h=new Map,p=new Map,v=new Map,E=new Set;this.disabledNodes.forEach(Et=>{E.add(Et);const Nt=this.driver.query(Et,".ng-animate-queued",!0);for(let zt=0;zt<Nt.length;zt++)E.add(Nt[zt])});const D=this.bodyNode,M=Array.from(this.statesByElement.keys()),N=TU(M,this.collectedEnterElements),U=new Map;let K=0;N.forEach((Et,Nt)=>{const zt=cP+K++;U.set(Nt,zt),Et.forEach(Cn=>jc(Cn,zt))});const X=[],Ie=new Set,ze=new Set;for(let Et=0;Et<this.collectedLeaveElements.length;Et++){const Nt=this.collectedLeaveElements[Et],zt=Nt[Wl];zt&&zt.setForRemoval&&(X.push(Nt),Ie.add(Nt),zt.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(Cn=>Ie.add(Cn)):ze.add(Nt))}const Ge=new Map,je=TU(M,Array.from(Ie));je.forEach((Et,Nt)=>{const zt=Ok+K++;Ge.set(Nt,zt),Et.forEach(Cn=>jc(Cn,zt))}),e.push(()=>{N.forEach((Et,Nt)=>{const zt=U.get(Nt);Et.forEach(Cn=>x0(Cn,zt))}),je.forEach((Et,Nt)=>{const zt=Ge.get(Nt);Et.forEach(Cn=>x0(Cn,zt))}),X.forEach(Et=>{this.processLeaveNode(Et)})});const xt=[],kt=[];for(let Et=this._namespaceList.length-1;Et>=0;Et--)this._namespaceList[Et].drainQueuedTransitions(t).forEach(zt=>{const Cn=zt.player,ws=zt.element;if(xt.push(Cn),this.collectedEnterElements.length){const uo=ws[Wl];if(uo&&uo.setForMove){if(uo.previousTriggersValues&&uo.previousTriggersValues.has(zt.triggerName)){const Iv=uo.previousTriggersValues.get(zt.triggerName),Gc=this.statesByElement.get(zt.element);if(Gc&&Gc.has(zt.triggerName)){const LM=Gc.get(zt.triggerName);LM.value=Iv,Gc.set(zt.triggerName,LM)}}return void Cn.destroy()}}const pu=!D||!this.driver.containsElement(D,ws),Ya=Ge.get(ws),Tp=U.get(ws),rr=this._buildInstruction(zt,i,Tp,Ya,pu);if(rr.errors&&rr.errors.length)return void kt.push(rr);if(pu)return Cn.onStart(()=>dv(ws,rr.fromStyles)),Cn.onDestroy(()=>au(ws,rr.toStyles)),void r.push(Cn);if(zt.isFallbackTransition)return Cn.onStart(()=>dv(ws,rr.fromStyles)),Cn.onDestroy(()=>au(ws,rr.toStyles)),void r.push(Cn);const sH=[];rr.timelines.forEach(uo=>{uo.stretchStartingKeyframe=!0,this.disabledNodes.has(uo.element)||sH.push(uo)}),rr.timelines=sH,i.append(ws,rr.timelines),c.push({instruction:rr,player:Cn,element:ws}),rr.queriedElements.forEach(uo=>Ga(h,uo,[]).push(Cn)),rr.preStyleProps.forEach((uo,Iv)=>{if(uo.size){let Gc=p.get(Iv);Gc||p.set(Iv,Gc=new Set),uo.forEach((LM,KF)=>Gc.add(KF))}}),rr.postStyleProps.forEach((uo,Iv)=>{let Gc=v.get(Iv);Gc||v.set(Iv,Gc=new Set),uo.forEach((LM,KF)=>Gc.add(KF))})});if(kt.length){const Et=[];kt.forEach(Nt=>{Et.push(function Eq(n,e){return new d.vHH(3505,!1)}())}),xt.forEach(Nt=>Nt.destroy()),this.reportError(Et)}const tn=new Map,Hi=new Map;c.forEach(Et=>{const Nt=Et.element;i.has(Nt)&&(Hi.set(Nt,Nt),this._beforeAnimationBuild(Et.player.namespaceId,Et.instruction,tn))}),r.forEach(Et=>{const Nt=Et.element;this._getPreviousPlayers(Nt,!1,Et.namespaceId,Et.triggerName,null).forEach(Cn=>{Ga(tn,Nt,[]).push(Cn),Cn.destroy()})});const Us=X.filter(Et=>SU(Et,p,v)),lf=new Map;IU(lf,this.driver,ze,v,Il).forEach(Et=>{SU(Et,p,v)&&Us.push(Et)});const kI=new Map;N.forEach((Et,Nt)=>{IU(kI,this.driver,new Set(Et),p,"!")}),Us.forEach(Et=>{const Nt=lf.get(Et),zt=kI.get(Et);lf.set(Et,new Map([...Nt?.entries()??[],...zt?.entries()??[]]))});const Cv=[],iH=[],rH={};c.forEach(Et=>{const{element:Nt,player:zt,instruction:Cn}=Et;if(i.has(Nt)){if(E.has(Nt))return zt.onDestroy(()=>au(Nt,Cn.toStyles)),zt.disabled=!0,zt.overrideTotalTime(Cn.totalTime),void r.push(zt);let ws=rH;if(Hi.size>1){let Ya=Nt;const Tp=[];for(;Ya=Ya.parentNode;){const rr=Hi.get(Ya);if(rr){ws=rr;break}Tp.push(Ya)}Tp.forEach(rr=>Hi.set(rr,ws))}const pu=this._buildAnimation(zt.namespaceId,Cn,tn,s,kI,lf);if(zt.setRealPlayer(pu),ws===rH)Cv.push(zt);else{const Ya=this.playersByElement.get(ws);Ya&&Ya.length&&(zt.parentPlayer=fp(Ya)),r.push(zt)}}else dv(Nt,Cn.fromStyles),zt.onDestroy(()=>au(Nt,Cn.toStyles)),iH.push(zt),E.has(Nt)&&r.push(zt)}),iH.forEach(Et=>{const Nt=s.get(Et.element);if(Nt&&Nt.length){const zt=fp(Nt);Et.setRealPlayer(zt)}}),r.forEach(Et=>{Et.parentPlayer?Et.syncPlayerEvents(Et.parentPlayer):Et.destroy()});for(let Et=0;Et<X.length;Et++){const Nt=X[Et],zt=Nt[Wl];if(x0(Nt,Ok),zt&&zt.hasAnimation)continue;let Cn=[];if(h.size){let pu=h.get(Nt);pu&&pu.length&&Cn.push(...pu);let Ya=this.driver.query(Nt,lP,!0);for(let Tp=0;Tp<Ya.length;Tp++){let rr=h.get(Ya[Tp]);rr&&rr.length&&Cn.push(...rr)}}const ws=Cn.filter(pu=>!pu.destroyed);ws.length?x9(this,Nt,ws):this.processLeaveNode(Nt)}return X.length=0,Cv.forEach(Et=>{this.players.push(Et),Et.onDone(()=>{Et.destroy();const Nt=this.players.indexOf(Et);this.players.splice(Nt,1)}),Et.play()}),Cv}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==KC;h.forEach(v=>{v.queued||!p&&v.triggerName!=r||c.push(v)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(e,t,i){const s=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const v=p.element,E=v!==s,D=Ga(i,v,[]);this._getPreviousPlayers(v,E,c,h,t.toState).forEach(N=>{const U=N.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),N.destroy(),D.push(N)})}dv(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,c){const h=t.triggerName,p=t.element,v=[],E=new Set,D=new Set,M=t.timelines.map(U=>{const K=U.element;E.add(K);const X=K[Wl];if(X&&X.removedBeforeQueried)return new tm(U.duration,U.delay);const Ie=K!==p,ze=function E9(n){const e=[];return DU(n,e),e}((i.get(K)||p9).map(tn=>tn.getRealPlayer())).filter(tn=>!!tn.element&&tn.element===K),Ge=s.get(K),je=c.get(K),xt=iU(this._normalizer,U.keyframes,Ge,je),kt=this._buildPlayer(U,xt,ze);if(U.subTimeline&&r&&D.add(K),Ie){const tn=new EP(e,h,K);tn.setRealPlayer(kt),v.push(tn)}return kt});v.forEach(U=>{Ga(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function y9(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,U.element,U))}),E.forEach(U=>jc(U,dU));const N=fp(M);return N.onDestroy(()=>{E.forEach(U=>x0(U,dU)),au(p,t.toStyles)}),D.forEach(U=>{Ga(r,U,[]).push(N)}),N}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new tm(e.duration,e.delay)}}class EP{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new tm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>iP(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ga(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function $k(n){return n&&1===n.nodeType}function CU(n,e){const t=n.style.display;return n.style.display=e??"none",t}function IU(n,e,t,i,r){const s=[];t.forEach(p=>s.push(CU(p)));const c=[];i.forEach((p,v)=>{const E=new Map;p.forEach(D=>{const M=e.computeStyle(v,D,r);E.set(D,M),(!M||0==M.length)&&(v[Wl]=g9,c.push(v))}),n.set(v,E)});let h=0;return t.forEach(p=>CU(p,s[h++])),c}function TU(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function c(h){if(!h)return 1;let p=s.get(h);if(p)return p;const v=h.parentNode;return p=t.has(v)?v:r.has(v)?1:c(v),s.set(h,p),p}return e.forEach(h=>{const p=c(h);1!==p&&t.get(p).push(h)}),t}function jc(n,e){n.classList?.add(e)}function x0(n,e){n.classList?.remove(e)}function x9(n,e,t){fp(t).onDone(()=>n.processLeaveNode(e))}function DU(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof mT?DU(i.players,e):e.push(i)}}function SU(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class Gk{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new v9(e,t,i),this._timelineEngine=new d9(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const c=e+"-"+r;let h=this._triggerCache[c];if(!h){const p=[],E=fP(this._driver,s,p,[]);if(p.length)throw function hq(n,e){return new d.vHH(3404,!1)}();h=function o9(n,e,t){return new a9(n,e,t)}(r,E,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,c]=rU(i);this._timelineEngine.command(s,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[c,h]=rU(i);return this._timelineEngine.listen(c,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let T9=(()=>{class e{constructor(i,r,s){this._element=i,this._startStyles=r,this._endStyles=s,this._state=0;let c=e.initialStylesByElement.get(i);c||e.initialStylesByElement.set(i,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&au(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(au(this._element,this._initialStyles),this._endStyles&&(au(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(dv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dv(this._element,this._endStyles),this._endStyles=null),au(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function CP(n){let e=null;return n.forEach((t,i)=>{(function D9(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class AU{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:mU(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class S9{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return oU(e,t)}getParentElement(e){return oP(e)}query(e,t,i){return aU(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const v=new Map,E=c.filter(N=>N instanceof AU);(function Pq(n,e){return 0===n||0===e})(i,r)&&E.forEach(N=>{N.currentSnapshot.forEach((U,K)=>v.set(K,U))});let D=function Rq(n){return n.length?n[0]instanceof Map?n:n.map(e=>uU(e)):[]}(t).map(N=>mp(N));D=function Fq(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,c)=>{i.has(c)||r.push(c),i.set(c,s)}),r.length)for(let s=1;s<e.length;s++){let c=e[s];r.forEach(h=>c.set(h,mU(n,h)))}}return e}(e,D,v);const M=function I9(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=CP(e[0]),e.length>1&&(i=CP(e[e.length-1]))):e instanceof Map&&(t=CP(e)),t||i?new T9(n,t,i):null}(e,D);return new AU(e,D,p,M)}}let A9=(()=>{var n;class e extends cy{constructor(i,r){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(i){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(i)?fg(i):i;return kU(this._renderer,null,r,"register",[s]),new k9(r,this._renderer)}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(d.FYo),d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})();class k9 extends ly{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new M9(this._id,e,t||{},this._renderer)}}class M9{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return kU(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function kU(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const MU="@.disabled";let R9=(()=>{var n;class e{constructor(i,r,s){this.delegate=i,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(c,h)=>{const p=h?.parentNode(c);p&&h.removeChild(p,c)}}createRenderer(i,r){const c=this.delegate.createRenderer(i,r);if(!(i&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(c);return D||(D=new RU("",c,this.engine,()=>this._rendererCache.delete(c)),this._rendererCache.set(c,D)),D}const h=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,i);const v=D=>{Array.isArray(D)?D.forEach(v):this.engine.registerTrigger(h,p,i,D.name,D)};return r.data.animation.forEach(v),new O9(this,p,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,r,s){i>=0&&i<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[h,p]=c;h(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(d.FYo),d.LFG(Gk),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})();class RU{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==MU?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class O9 extends RU{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==MU?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function N9(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function P9(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let F9=(()=>{var n;class e extends Gk{constructor(i,r,s,c){super(i.body,r,s)}ngOnDestroy(){this.flush()}}return(n=e).\u0275fac=function(i){return new(i||n)(d.LFG(de),d.LFG(aP),d.LFG(vP),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),e})();const OU=[{provide:cy,useClass:A9},{provide:vP,useFactory:function L9(){return new n9}},{provide:Gk,useClass:F9},{provide:d.FYo,useFactory:function B9(n,e,t){return new R9(n,e,t)},deps:[$o,Gk,d.R0b]}],IP=[{provide:aP,useFactory:()=>new S9},{provide:d.QbO,useValue:"BrowserAnimations"},...OU],NU=[{provide:aP,useClass:cU},{provide:d.QbO,useValue:"NoopAnimations"},...OU];let V9=(()=>{var n;class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?NU:IP}}}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:IP,imports:[fd]}),e})(),DP=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[aB,mn,xi,nk,v5,sk]}),e})(),pW=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),e})(),yW=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),e})(),UU=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[mn,xi,pW,yW]}),e})(),bW=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[mn,tP,rk,tU,sk,DP,sB,Rk,ZN,FC,HC,IV,HC,UU,mn,tP,rk,tU,sk,DP,sB,Rk,ZN,FC,HC,IV,HC,UU]}),e})();class wW{constructor(e,t){this._delegate=e,this.firebase=t,(0,pr._addComponent)(e,new to.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,pr.deleteApp)(this._delegate)))}_getService(e,t=pr._DEFAULT_ENTRY_NAME){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&"EXPLICIT"===(null===(i=r.getComponent())||void 0===i?void 0:i.instantiationMode)&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=pr._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,pr._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,pr._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const jU=new P.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),CW=function HU(){const n=function EW(n){const e={},t={__esModule:!0,initializeApp:function s(v,E={}){const D=pr.initializeApp(v,E);if((0,P.r3)(e,D.name))return e[D.name];const M=new n(D,t);return e[D.name]=M,M},app:r,registerVersion:pr.registerVersion,setLogLevel:pr.setLogLevel,onLog:pr.onLog,apps:null,SDK_VERSION:pr.SDK_VERSION,INTERNAL:{registerComponent:function h(v){const E=v.name,D=E.replace("-compat","");if(pr._registerComponent(v)&&"PUBLIC"===v.type){const M=(N=r())=>{if("function"!=typeof N[D])throw jU.create("invalid-app-argument",{appName:E});return N[D]()};void 0!==v.serviceProps&&(0,P.ZB)(M,v.serviceProps),t[D]=M,n.prototype[D]=function(...N){return this._getService.bind(this,E).apply(this,v.multipleInstances?N:[])}}return"PUBLIC"===v.type?t[D]:null},removeApp:function i(v){delete e[v]},useAsService:function p(v,E){return"serverAuth"===E?null:E},modularAPIs:pr}};function r(v){if(!(0,P.r3)(e,v=v||pr._DEFAULT_ENTRY_NAME))throw jU.create("no-app",{appName:v});return e[v]}return t.default=t,Object.defineProperty(t,"apps",{get:function c(){return Object.keys(e).map(v=>e[v])}}),r.App=n,t}(wW);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:HU,extendNamespace:function e(t){(0,P.ZB)(n,t)},createSubscribe:P.ne,ErrorFactory:P.LL,deepExtend:P.ZB}),n}(),zU=new no.Yd("@firebase/app-compat");if((0,P.jU)()&&void 0!==self.firebase){zU.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&zU.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const SW=CW;!function DW(n){(0,pr.registerVersion)("@firebase/app-compat","0.2.19",n)}();const $U="firebasestorage.googleapis.com",GU="storageBucket";class nr extends P.ZR{constructor(e,t,i=0){super(SP(e),`Firebase Storage: ${t} (${SP(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return SP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ui=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Ui||{});function SP(n){return"storage/"+n}function AP(){return new nr(Ui.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function qU(){return new nr(Ui.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WU(){return new nr(Ui.CANCELED,"User canceled the upload/download.")}function ZU(){return new nr(Ui.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function E0(n){return new nr(Ui.INVALID_ARGUMENT,n)}function KU(){return new nr(Ui.APP_DELETED,"The Firebase app was deleted.")}function YU(n){return new nr(Ui.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function YC(n,e){return new nr(Ui.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function QC(n){throw new nr(Ui.INTERNAL_ERROR,"Internal error: "+n)}class co{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=co.makeFromUrl(e,t)}catch{return new co(e,"")}if(""===i.path)return i;throw function BW(n){return new nr(Ui.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(je){je.path_=decodeURIComponent(je.path)}const D=t.replace(/[.]/g,"\\."),Ge=[{regex:h,indices:{bucket:1,path:3},postModify:function s(je){"/"===je.path.charAt(je.path.length-1)&&(je.path_=je.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===$U?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let je=0;je<Ge.length;je++){const xt=Ge[je],kt=xt.regex.exec(e);if(kt){let Hi=kt[xt.indices.path];Hi||(Hi=""),i=new co(kt[xt.indices.bucket],Hi),xt.postModify(i);break}}if(null==i)throw function LW(n){return new nr(Ui.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class zW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Wk(n){return"string"==typeof n||n instanceof String}function QU(n){return kP()&&n instanceof Blob}function kP(){return typeof Blob<"u"&&!(0,P.UG)()}function MP(n,e,t,i){if(i<e)throw E0(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw E0(`Invalid value for '${n}'. Expected ${t} or less.`)}function rf(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function XU(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var C0=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(C0||{});function JU(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class KW{constructor(e,t,i,r,s,c,h,p,v,E,D,M=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=E,this.connectionFactory_=D,this.retry=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,U)=>{this.resolve_=N,this.reject_=U,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function qW(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==h){const p=AP();p.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,p):p)}else c(r.canceled?this.appDelete_?KU():WU():qU())};this.canceled_?t(0,new Zk(!1,null,!0)):this.backoffId_=function $W(n,e,t){let i=1,r=null,s=null,c=!1,h=0;function p(){return 2===h}let v=!1;function E(...X){v||(v=!0,e.apply(null,X))}function D(X){r=setTimeout(()=>{r=null,n(N,p())},X)}function M(){s&&clearTimeout(s)}function N(X,...Ie){if(v)return void M();if(X)return M(),void E.call(null,X,...Ie);if(p()||c)return M(),void E.call(null,X,...Ie);let Ge;i<64&&(i*=2),1===h?(h=2,Ge=0):Ge=1e3*(i+Math.random()),D(Ge)}let U=!1;function K(X){U||(U=!0,M(),!v&&(null!==r?(X||(h=2),clearTimeout(r),D(0)):X||(h=1)))}return D(0),s=setTimeout(()=>{c=!0,K(!0)},t),K}((i,r)=>{if(r)return void i(!1,new Zk(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const h=s.getErrorCode()===C0.NO_ERROR,p=s.getStatus();if(!h||JU(p,this.additionalRetryCodes_)&&this.retry){const E=s.getErrorCode()===C0.ABORT;return void i(!1,new Zk(!1,null,E))}const v=-1!==this.successCodes_.indexOf(p);i(!0,new Zk(v,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function GW(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Zk{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function n7(...n){const e=function t7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(kP())return new Blob(n);throw new nr(Ui.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Wa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class RP{constructor(e,t){this.data=e,this.contentType=t||null}}function OP(n,e){switch(n){case Wa.RAW:return new RP(e3(e));case Wa.BASE64:case Wa.BASE64URL:return new RP(t3(n,e));case Wa.DATA_URL:return new RP(function o7(n){const e=new n3(n);return e.base64?t3(Wa.BASE64,e.rest):function s7(n){let e;try{e=decodeURIComponent(n)}catch{throw YC(Wa.DATA_URL,"Malformed data URL.")}return e3(e)}(e.rest)}(e),function a7(n){return new n3(n).contentType}(e))}throw AP()}function e3(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function t3(n,e){switch(n){case Wa.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw YC(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Wa.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw YC(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function r7(n){if(typeof atob>"u")throw function HW(n){return new nr(Ui.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:YC(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class n3{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw YC(Wa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function c7(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class cu{constructor(e,t){let i=0,r="";QU(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(QU(this.data_)){const r=function i7(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new cu(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new cu(i,!0)}}static getBlob(...e){if(kP()){const t=e.map(i=>i instanceof cu?i.data_:i);return new cu(n7.apply(null,t))}{const t=e.map(c=>Wk(c)?OP(Wa.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)r[s++]=c[h]}),new cu(r,!0)}}uploadData(){return this.data_}}function NP(n){let e;try{e=JSON.parse(n)}catch{return null}return function ZW(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function r3(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function u7(n,e){return e}class Ro{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||u7}}let Kk=null;function XC(){if(Kk)return Kk;const n=[];n.push(new Ro("bucket")),n.push(new Ro("generation")),n.push(new Ro("metageneration")),n.push(new Ro("name","fullPath",!0));const t=new Ro("name");t.xform=function e(s,c){return function h7(n){return!Wk(n)||n.length<2?n:r3(n)}(c)},n.push(t);const r=new Ro("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new Ro("timeCreated")),n.push(new Ro("updated")),n.push(new Ro("md5Hash",null,!0)),n.push(new Ro("cacheControl",null,!0)),n.push(new Ro("contentDisposition",null,!0)),n.push(new Ro("contentEncoding",null,!0)),n.push(new Ro("contentLanguage",null,!0)),n.push(new Ro("contentType",null,!0)),n.push(new Ro("metadata","customMetadata",!0)),Kk=n,Kk}function s3(n,e,t){const i=NP(e);return null===i?null:function m7(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const c=t[s];i[c.local]=c.xform(i,e[c.server])}return function f7(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new co(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function PP(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const o3="prefixes",a3="items";class lu{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function du(n){if(!n)throw AP()}function Yk(n,e){return function t(i,r){const s=s3(n,r,e);return du(null!==s),s}}function I0(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function PW(){return new nr(Ui.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function NW(){return new nr(Ui.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function OW(n){return new nr(Ui.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function FW(n){return new nr(Ui.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function JC(n){const e=I0(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function RW(n){return new nr(Ui.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function c3(n,e,t){const r=rf(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new lu(r,"GET",Yk(n,t),c);return h.errorHandler=JC(e),h}function b7(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const h=rf(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,E=new lu(h,"GET",function v7(n,e){return function t(i,r){const s=function _7(n,e,t){const i=NP(t);return null===i?null:function g7(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[o3])for(const r of t[o3]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new co(e,s));i.prefixes.push(c)}if(t[a3])for(const r of t[a3]){const s=n._makeStorageReference(new co(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return du(null!==s),s}}(n,e.bucket),v);return E.urlParams=s,E.errorHandler=I0(e),E}function d3(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function C7(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class Qk{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function FP(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{du(!1)}return du(!!t&&-1!==(e||["active"]).indexOf(t)),t}const S7={STATE_CHANGED:"state_changed"},Oo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function LP(n){switch(n){case"running":case"pausing":case"canceling":return Oo.RUNNING;case"paused":return Oo.PAUSED;case"success":return Oo.SUCCESS;case"canceled":return Oo.CANCELED;default:return Oo.ERROR}}class A7{constructor(e,t,i){if(function WW(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function T0(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let f3=null;class k7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=C0.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=C0.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=C0.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw QC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw QC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw QC("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw QC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw QC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class M7 extends k7{initXhr(){this.xhr_.responseType="text"}}function Zl(){return f3?f3():new M7}class m3{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=XC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Ui.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(JU(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=qU()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Ui.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function I7(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c=d3(e,i,r),h={name:c.fullPath},p=rf(s,n.host,n._protocol),E={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},D=PP(c,t),U=new lu(p,"POST",function N(K){let X;FP(K);try{X=K.getResponseHeader("X-Goog-Upload-URL")}catch{du(!1)}return du(Wk(X)),X},n.maxUploadRetryTime);return U.urlParams=h,U.headers=E,U.body=D,U.errorHandler=I0(e),U}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Zl,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function T7(n,e,t,i){const p=new lu(t,"POST",function s(v){const E=FP(v,["active","final"]);let D=null;try{D=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{du(!1)}D||du(!1);const M=Number(D);return du(!isNaN(M)),new Qk(M,i.size(),"final"===E)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=I0(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Zl,t,i);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new Qk(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function D7(n,e,t,i,r,s,c,h){const p=new Qk(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function UW(){return new nr(Ui.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=p.total-p.current;let E=v;r>0&&(E=Math.min(E,r));const D=p.current;let N="";N=0===E?"finalize":v===E?"upload, finalize":"upload";const U={"X-Goog-Upload-Command":N,"X-Goog-Upload-Offset":`${p.current}`},K=i.slice(D,D+E);if(null===K)throw ZU();const Ge=new lu(t,"POST",function X(je,xt){const kt=FP(je,["active","final"]),tn=p.current+E,Hi=i.size();let Us;return Us="final"===kt?Yk(e,s)(je,xt):null,new Qk(tn,Hi,"final"===kt,Us)},e.maxUploadRetryTime);return Ge.headers=U,Ge.body=K.uploadData(),Ge.progressCallback=h||null,Ge.errorHandler=I0(n),Ge}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(c,Zl,r,s,!1);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=c3(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Zl,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function u3(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let Ge="";for(let je=0;je<2;je++)Ge+=Math.random().toString().slice(2);return Ge}();c["Content-Type"]="multipart/related; boundary="+p;const v=d3(e,i,r),E=PP(v,t),N=cu.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+E+"\r\n--"+p+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===N)throw ZU();const U={name:v.fullPath},K=rf(s,n.host,n._protocol),Ie=n.maxUploadRetryTime,ze=new lu(K,"POST",Yk(n,t),Ie);return ze.urlParams=U,ze.headers=c,ze.body=N.uploadData(),ze.errorHandler=I0(e),ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Zl,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=WU(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=LP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new A7(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(LP(this._state)){case Oo.SUCCESS:T0(this._resolve.bind(null,this.snapshot))();break;case Oo.CANCELED:case Oo.ERROR:T0(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(LP(this._state)){case Oo.RUNNING:case Oo.PAUSED:e.next&&T0(e.next.bind(e,this.snapshot))();break;case Oo.SUCCESS:e.complete&&T0(e.complete.bind(e))();break;default:e.error&&T0(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class hv{constructor(e,t){this._service=e,this._location=t instanceof co?t:co.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new hv(e,t)}get root(){const e=new co(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return r3(this._location.path)}get storage(){return this._service}get parent(){const e=function l7(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new co(this._location.bucket,e);return new hv(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw YU(e)}}function g3(n,e,t){return BP.apply(this,arguments)}function BP(){return BP=(0,xe.Z)(function*(n,e,t){const r=yield _3(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield g3(n,e,r.nextPageToken))}),BP.apply(this,arguments)}function _3(n,e){null!=e&&"number"==typeof e.maxResults&&MP("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=b7(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Zl)}function z7(n){n._throwIfRoot("getDownloadURL");const e=function w7(n,e,t){const r=rf(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new lu(r,"GET",function y7(n,e){return function t(i,r){const s=s3(n,r,e);return du(null!==s),function p7(n,e,t,i){const r=NP(e);if(null===r||!Wk(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(v=>{const D=n.fullPath;return rf("/b/"+c(n.bucket)+"/o/"+c(D),t,i)+XU({alt:"media",token:v})})[0]}(s,r,n.host,n._protocol)}}(n,t),c);return h.errorHandler=JC(e),h}(n.storage,n._location,XC());return n.storage.makeRequestWithTokens(e,Zl).then(t=>{if(null===t)throw function jW(){return new nr(Ui.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function v3(n,e){const t=function d7(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new co(n._location.bucket,t);return new hv(n.storage,i)}function y3(n,e){if(n instanceof VP){const t=n;if(null==t._bucket)throw function VW(){return new nr(Ui.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+GU+"' property when initializing the app?")}();const i=new hv(t,t._bucket);return null!=e?y3(i,e):i}return void 0!==e?v3(n,e):n}function W7(n,e){if(e&&function G7(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof VP)return function q7(n,e){return new hv(n,e)}(n,e);throw E0("To use ref(service, url), the first argument must be a Storage instance.")}return y3(n,e)}function b3(n,e){const t=e?.[GU];return null==t?null:co.makeFromBucketSpec(t,n)}class VP{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=$U,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?co.makeFromBucketSpec(r,this._host):b3(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?co.makeFromBucketSpec(this._url,e):b3(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){MP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){MP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,xe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,xe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hv(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new zW(KU());{const c=function e7(n,e,t,i,r,s,c=!0){const h=XU(n.urlParams),p=n.url+h,v=Object.assign({},n.headers);return function XW(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function YW(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function QW(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,s),function JW(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,i),new KW(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var i=this;return(0,xe.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const w3="@firebase/storage";function C3(n,e){return W7(n=(0,P.m9)(n),e)}function iZ(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new VP(t,i,r,e,pr.SDK_VERSION)}!function rZ(){(0,pr._registerComponent)(new to.wA("storage",iZ,"PUBLIC").setMultipleInstances(!0)),(0,pr.registerVersion)(w3,"0.11.2",""),(0,pr.registerVersion)(w3,"0.11.2","esm2017")}();class Xk{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class T3{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Xk(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new Xk(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?c=>t(new Xk(c,this,this._ref)):{next:t.next?c=>t.next(new Xk(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class D3{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new sf(e,this._service))}get items(){return this._delegate.items.map(e=>new sf(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class sf{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function nZ(n,e){return v3(n,e)}(this._delegate,e);return new sf(t,this.storage)}get root(){return new sf(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new sf(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new T3(function K7(n,e,t){return function B7(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new m3(n,new cu(e),t)}(n=(0,P.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Wa.RAW,i){this._throwIfRoot("putString");const r=OP(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new T3(new m3(this._delegate,new cu(r.data,!0),s),this)}listAll(){return function J7(n){return function U7(n){const e={prefixes:[],items:[]};return g3(n,e).then(()=>e)}(n=(0,P.m9)(n))}(this._delegate).then(e=>new D3(e,this.storage))}list(e){return function X7(n,e){return _3(n=(0,P.m9)(n),e)}(this._delegate,e||void 0).then(t=>new D3(t,this.storage))}getMetadata(){return function Y7(n){return function j7(n){n._throwIfRoot("getMetadata");const e=c3(n.storage,n._location,XC());return n.storage.makeRequestWithTokens(e,Zl)}(n=(0,P.m9)(n))}(this._delegate)}updateMetadata(e){return function Q7(n,e){return function H7(n,e){n._throwIfRoot("updateMetadata");const t=function x7(n,e,t,i){const s=rf(e.fullServerUrl(),n.host,n._protocol),h=PP(t,i),v=n.maxOperationRetryTime,E=new lu(s,"PATCH",Yk(n,i),v);return E.headers={"Content-Type":"application/json; charset=utf-8"},E.body=h,E.errorHandler=JC(e),E}(n.storage,n._location,e,XC());return n.storage.makeRequestWithTokens(t,Zl)}(n=(0,P.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function eZ(n){return z7(n=(0,P.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function tZ(n){return function $7(n){n._throwIfRoot("deleteObject");const e=function E7(n,e){const i=rf(e.fullServerUrl(),n.host,n._protocol),h=new lu(i,"DELETE",function c(p,v){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=JC(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Zl)}(n=(0,P.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw YU(e)}}class S3{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(A3(e))throw E0("ref() expected a child path but got a URL, use refFromURL instead.");return new sf(C3(this._delegate,e),this)}refFromURL(e){if(!A3(e))throw E0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{co.makeFromUrl(e,this._delegate.host)}catch{throw E0("refFromUrl() expected a valid full URL but got an invalid one.")}return new sf(C3(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function I3(n,e,t,i={}){!function Z7(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,P.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function A3(n){return/^[A-Za-z]+:\/\//.test(n)}function cZ(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new S3(t,i)}function k3(n){const e=function dZ(n){return new ii.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe(JA(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,ct.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Jk(n){return{getDownloadURL:()=>(0,lt.of)(void 0).pipe(En.fc,(0,Yn.w)(()=>n.getDownloadURL()),En.iC),getMetadata:()=>(0,lt.of)(void 0).pipe(En.fc,(0,Yn.w)(()=>n.getMetadata()),En.iC),delete:()=>(0,yn.D)(n.delete()),child:e=>Jk(n.child(e)),updateMetadata:e=>(0,yn.D)(n.updateMetadata(e)),put:(e,t)=>k3(n.put(e,t)),putString:(e,t,i)=>k3(n.putString(e,t,i)),list:e=>(0,yn.D)(n.list(e)),listAll:()=>(0,yn.D)(n.listAll())}}!function lZ(n){const e={TaskState:Oo,TaskEvent:S7,StringFormat:Wa,Storage:S3,Reference:sf};n.INTERNAL.registerComponent(new to.wA("storage-compat",cZ,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(SW);const uZ=new d.OlP("angularfire2.storageBucket"),hZ=new d.OlP("angularfire2.storage.maxUploadRetryTime"),fZ=new d.OlP("angularfire2.storage.maxOperationRetryTime"),mZ=new d.OlP("angularfire2.storage.use-emulator");let pZ=(()=>{class n{constructor(t,i,r,s,c,h,p,v,E,D){const M=(0,Er.on)(t,c,i);this.storage=(0,Er.cc)(`${M.name}.storage.${r}`,"AngularFireStorage",M.name,()=>{const N=c.runOutsideAngular(()=>M.storage(r||void 0)),U=E;return U&&N.useEmulator(...U),p&&N.setMaxUploadRetryTime(p),v&&N.setMaxOperationRetryTime(v),N},[p,v])}ref(t){return Jk(this.storage.ref(t))}refFromURL(t){return Jk(this.storage.refFromURL(t))}upload(t,i,r){return Jk(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Er.Dh),d.LFG(Er.xv,8),d.LFG(uZ,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(En.HU),d.LFG(hZ,8),d.LFG(fZ,8),d.LFG(mZ,8),d.LFG(SC,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),_Z=(()=>{class n{constructor(){YA.Z.registerVersion("angularfire",En.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[pZ],imports:[gZ]}),n})();const M3="@firebase/database";let UP="";function O3(n){UP=n}class bZ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,P.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,P.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class wZ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,P.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const N3=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new bZ(e)}}catch{}return new wZ},fv=N3("localStorage"),jP=N3("sessionStorage"),D0=new no.Yd("@firebase/database"),P3=function(){let n=1;return function(){return n++}}(),F3=function(n){const e=(0,P.dS)(n),t=new P.gQ;t.update(e);const i=t.digest();return P.US.encodeByteArray(i)},eI=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=eI.apply(null,i):e+="object"==typeof i?(0,P.Wl)(i):i,e+=" "}return e};let mv=null,L3=!0;const B3=function(n,e){(0,P.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(D0.logLevel=no.in.VERBOSE,mv=D0.log.bind(D0),e&&jP.set("logging_enabled",!0)):"function"==typeof n?mv=n:(mv=null,jP.remove("logging_enabled"))},ys=function(...n){if(!0===L3&&(L3=!1,null===mv&&!0===jP.get("logging_enabled")&&B3(!0)),mv){const e=eI.apply(null,n);mv(e)}},tI=function(n){return function(...e){ys(n,...e)}},HP=function(...n){const e="FIREBASE INTERNAL ERROR: "+eI(...n);D0.error(e)},uu=function(...n){const e=`FIREBASE FATAL ERROR: ${eI(...n)}`;throw D0.error(e),new Error(e)},lo=function(...n){const e="FIREBASE WARNING: "+eI(...n);D0.warn(e)},eM=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},pp="[MIN_NAME]",af="[MAX_NAME]",pv=function(n,e){if(n===e)return 0;if(n===pp||e===af)return-1;if(e===pp||n===af)return 1;{const t=j3(n),i=j3(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},CZ=function(n,e){return n===e?0:n<e?-1:1},nI=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,P.Wl)(e))},zP=function(n){if("object"!=typeof n||null===n)return(0,P.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,P.Wl)(e[i]),t+=":",t+=zP(n[e[i]]);return t+="}",t},V3=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function bs(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const U3=function(n){(0,P.hu)(!eM(n),"Invalid JSON number");const i=1023;let r,s,c,h,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const v=[];for(p=52;p;p-=1)v.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)v.push(s%2?1:0),s=Math.floor(s/2);v.push(r?1:0),v.reverse();const E=v.join("");let D="";for(p=0;p<64;p+=8){let M=parseInt(E.substr(p,8),2).toString(16);1===M.length&&(M="0"+M),D+=M}return D.toLowerCase()},SZ=new RegExp("^-?(0*)\\d{1,10}$"),j3=function(n){if(SZ.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},S0=function(n){try{n()}catch(e){setTimeout(()=>{throw lo("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},iI=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class RZ{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){lo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class OZ{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(ys("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',lo(e)}}let rI=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const q3=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,K3="websocket",Y3="long_polling";class GP{constructor(e,t,i,r,s=!1,c="",h=!1,p=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fv.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fv.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Q3(n,e,t){let i;if((0,P.hu)("string"==typeof e,"typeof type must == string"),(0,P.hu)("object"==typeof t,"typeof params must == object"),e===K3)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==Y3)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function NZ(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return bs(t,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class PZ{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,P.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,P.p$)(this.counters_)}}const qP={},WP={};function ZP(n){const e=n.toString();return qP[e]||(qP[e]=new PZ),qP[e]}class LZ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&S0(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class gp{constructor(e,t,i,r,s,c,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tI(e),this.stats_=ZP(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),Q3(t,Y3,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new LZ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,P.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new KP((...s)=>{const[c,h,p,v,E]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&q3.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gp.forceAllow_=!0}static forceDisallow(){gp.forceDisallow_=!0}static isAvailable(){return!((0,P.Yr)()||!gp.forceAllow_&&(gp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,P.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,P.h$)(t),r=V3(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,P.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,P.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class KP{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,P.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=P3(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=KP.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){ys("frame writing exception"),h.stack&&ys(h.stack),ys(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ys("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,P.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{ys("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let nM=null;typeof MozWebSocket<"u"?nM=MozWebSocket:typeof WebSocket<"u"&&(nM=WebSocket);let A0=(()=>{class n{constructor(t,i,r,s,c,h,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tI(this.connId),this.stats_=ZP(i),this.connURL=n.connectionURL_(i,h,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,c){const h={v:"5"};return!(0,P.Yr)()&&typeof location<"u"&&location.hostname&&q3.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),s&&(h.ac=s),c&&(h.p=c),Q3(t,K3,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fv.set("previous_websocket_failure",!0);try{let r;if((0,P.Yr)()){r={headers:{"User-Agent":`Firebase/5/${UP}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,h=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new nM(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==nM&&!n.forceDisallow_}static previouslyFailed(){return fv.isInMemoryStorage||!0===fv.get("previous_websocket_failure")}markConnectionHealthy(){fv.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,P.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,P.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,P.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=V3(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),s4=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[gp,A0]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=A0&&A0.isAvailable();let r=i&&!A0.previouslyFailed();if(t.webSocketOnly&&(i||lo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[A0];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class h4{constructor(e,t,i,r,s,c,h,p,v,E){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=v,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tI("c:"+this.id+":"),this.transportManager_=new s4(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=iI(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=nI("t",e),i=nI("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=nI("t",e),i=nI("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=nI("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?HP("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):HP("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&lo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),iI(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):iI(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fv.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class f4{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class m4{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,P.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,P.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class iM extends m4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,P.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new iM}getInitialEvent(e){return(0,P.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class $n{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Nn(){return new $n("")}function on(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function _p(n){return n.pieces_.length-n.pieceNum_}function di(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new $n(n.pieces_,e)}function QP(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function sI(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function _4(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new $n(e,0)}function ji(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof $n)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new $n(t,0)}function an(n){return n.pieceNum_>=n.pieces_.length}function No(n,e){const t=on(n),i=on(e);if(null===t)return e;if(t===i)return No(di(n),di(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function sK(n,e){const t=sI(n,0),i=sI(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=pv(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function XP(n,e){if(_p(n)!==_p(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Hc(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(_p(n)>_p(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class oK{constructor(e,t){this.errorPrefix_=t,this.parts_=sI(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,P.ug)(this.parts_[i]);v4(this)}}function v4(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+gv(n))}function gv(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class JP extends m4{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new JP}getInitialEvent(e){return(0,P.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const oI=1e3;let sM,_v=(()=>{class n extends f4{constructor(t,i,r,s,c,h,p,v){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=tI("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=oI,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,P.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");JP.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&iM.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,c={r:s,a:t,b:i};this.log_((0,P.Wl)(c)),(0,P.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new P.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const p=h.d;"ok"===h.s?i.resolve(p):i.reject(p)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,P.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,P.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(h).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,p=>{const v=p.d,E=p.s;n.warnOnListenWarnings_(v,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==E&&this.removeListen_(r,s),t.onComplete&&t.onComplete(E,v))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,P.r3)(t,"w")){const r=(0,P.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();lo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,P.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,P.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,h=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,P.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const c={p:t};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,c){this.initConnection_();const h={p:i,d:r};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,P.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):HP("Unrecognized action received from server: "+(0,P.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,P.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=oI,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=oI,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=oI),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,xe.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,v=null;const E=function(){v?v.close():(p=!0,s())};t.realtime_={close:E,sendRequest:function(N){(0,P.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(N)}};const M=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[N,U]=yield Promise.all([t.authTokenProvider_.getToken(M),t.appCheckTokenProvider_.getToken(M)]);p?ys("getToken() completed but was canceled"):(ys("getToken() completed. Creating connection."),t.authToken_=N&&N.accessToken,t.appCheckToken_=U&&U.token,v=new h4(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,K=>{lo(K+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(N){t.log_("Failed to get token: "+N),p||(t.repoInfo_.nodeAdmin&&lo(N),E())}}})()}interrupt(t){ys("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ys("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,P.xb)(this.interruptReasons_)&&(this.reconnectDelay_=oI,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>zP(c)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new $n(t).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){ys("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ys("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,P.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+UP.replace(/\./g,"-")]=1,(0,P.uI)()?t["framework.cordova"]=1:(0,P.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=iM.getInstance().currentlyOnline();return(0,P.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class un{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new un(e,t)}}class rM{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new un(pp,e),r=new un(pp,t);return 0!==this.compare(i,r)}minPost(){return un.MIN}}class w4 extends rM{static get __EMPTY_NODE(){return sM}static set __EMPTY_NODE(e){sM=e}compare(e,t){return pv(e.name,t.name)}isDefinedOn(e){throw(0,P.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return un.MIN}maxPost(){return new un(af,sM)}makePost(e,t){return(0,P.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new un(e,sM)}toString(){return".key"}}const hu=new w4;class oM{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let tF,Kl=(()=>{class n{constructor(t,i,r,s,c){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??ia.EMPTY_NODE,this.right=c??ia.EMPTY_NODE}copy(t,i,r,s,c){return new n(t??this.key,i??this.value,r??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const c=r(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ia.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return ia.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ia{constructor(e,t=ia.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ia(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Kl.BLACK,null,null))}remove(e){return new ia(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Kl.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new oM(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new oM(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new oM(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new oM(this.root_,null,this.comparator_,!0,e)}}function mK(n,e){return pv(n.name,e.name)}function eF(n,e){return pv(n,e)}ia.EMPTY_NODE=new class fK{copy(e,t,i,r,s){return this}insert(e,t,i){return new Kl(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const x4=function(n){return"number"==typeof n?"number:"+U3(n):"string:"+n},E4=function(n){if(n.isLeafNode()){const e=n.val();(0,P.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,P.r3)(e,".sv"),"Priority must be a string or number.")}else(0,P.hu)(n===tF||n.isEmpty(),"priority of unexpected type.");(0,P.hu)(n===tF||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let C4,I4,T4,k0=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,P.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),E4(this.priorityNode_)}static set __childrenNodeConstructor(t){C4=t}static get __childrenNodeConstructor(){return C4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return an(t)?this:".priority"===on(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=on(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,P.hu)(".priority"!==r||1===_p(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(di(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+x4(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?U3(this.value_):this.value_,this.lazyHash_=F3(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,P.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,P.hu)(s>=0,"Unknown leaf type: "+i),(0,P.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ei=new class vK extends rM{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?pv(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return un.MIN}maxPost(){return new un(af,new k0("[PRIORITY-POST]",T4))}makePost(e,t){const i=I4(e);return new un(t,new k0("[PRIORITY-POST]",i))}toString(){return".priority"}},yK=Math.log(2);class bK{constructor(e){this.count=parseInt(Math.log(e+1)/yK,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const aM=function(n,e,t,i){n.sort(e);const r=function(p,v){const E=v-p;let D,M;if(0===E)return null;if(1===E)return D=n[p],M=t?t(D):D,new Kl(M,D.node,Kl.BLACK,null,null);{const N=parseInt(E/2,10)+p,U=r(p,N),K=r(N+1,v);return D=n[N],M=t?t(D):D,new Kl(M,D.node,Kl.BLACK,U,K)}},h=function(p){let v=null,E=null,D=n.length;const M=function(U,K){const X=D-U,Ie=D;D-=U;const ze=r(X+1,Ie),Ge=n[X],je=t?t(Ge):Ge;N(new Kl(je,Ge.node,K,null,ze))},N=function(U){v?(v.left=U,v=U):(E=U,v=U)};for(let U=0;U<p.count;++U){const K=p.nextBitIsOne(),X=Math.pow(2,p.count-(U+1));K?M(X,Kl.BLACK):(M(X,Kl.BLACK),M(X,Kl.RED))}return E}(new bK(n.length));return new ia(i||e,h)};let nF;const M0={};class cf{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,P.hu)(M0&&Ei,"ChildrenNode.ts has not been loaded"),nF=nF||new cf({".priority":M0},{".priority":Ei}),nF}get(e){const t=(0,P.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ia?t:null}hasIndex(e){return(0,P.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,P.hu)(e!==hu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(un.Wrap);let h,c=s.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=s.getNext();h=r?aM(i,e.getCompare()):M0;const p=e.toString(),v=Object.assign({},this.indexSet_);v[p]=e;const E=Object.assign({},this.indexes_);return E[p]=h,new cf(E,v)}addToIndexes(e,t){const i=(0,P.UI)(this.indexes_,(r,s)=>{const c=(0,P.DV)(this.indexSet_,s);if((0,P.hu)(c,"Missing index implementation for "+s),r===M0){if(c.isDefinedOn(e.node)){const h=[],p=t.getIterator(un.Wrap);let v=p.getNext();for(;v;)v.name!==e.name&&h.push(v),v=p.getNext();return h.push(e),aM(h,c.getCompare())}return M0}{const h=t.get(e.name);let p=r;return h&&(p=p.remove(new un(e.name,h))),p.insert(e,e.node)}});return new cf(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,P.UI)(this.indexes_,r=>{if(r===M0)return r;{const s=t.get(e.name);return s?r.remove(new un(e.name,s)):r}});return new cf(i,this.indexSet_)}}let aI,Kt=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&E4(this.priorityNode_),this.children_.isEmpty()&&(0,P.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return aI||(aI=new n(new ia(eF),null,cf.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||aI}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?aI:i}}getChild(t){const i=on(t);return null===i?this:this.getImmediateChild(i).getChild(di(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,P.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new un(t,i);let s,c;i.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?aI:this.priorityNode_;return new n(s,h,c)}}updateChild(t,i){const r=on(t);if(null===r)return i;{(0,P.hu)(".priority"!==on(t)||1===_p(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(di(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(Ei,(h,p)=>{i[h]=p.val(t),r++,c&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):c=!1}),!t&&c&&s<2*r){const h=[];for(const p in i)h[p]=i[p];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+x4(this.getPriority().val())+":"),this.forEachChild(Ei,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":F3(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new un(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new un(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new un(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,un.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,un.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===cI?-1:0}withIndex(t){if(t===hu||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===hu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ei),s=i.getIterator(Ei);let c=r.getNext(),h=s.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=s.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(t){return t===hu?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const cI=new class wK extends Kt{constructor(){super(new ia(eF),Kt.EMPTY_NODE,cf.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Kt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(un,{MIN:{value:new un(pp,Kt.EMPTY_NODE)},MAX:{value:new un(af,cI)}}),w4.__EMPTY_NODE=Kt.EMPTY_NODE,k0.__childrenNodeConstructor=Kt,function pK(n){tF=n}(cI),function _K(n){T4=n}(cI);const xK=!0;function ir(n,e=null){if(null===n)return Kt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,P.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new k0(n,ir(e));if(n instanceof Array||!xK){let t=Kt.EMPTY_NODE;return bs(n,(i,r)=>{if((0,P.r3)(n,i)&&"."!==i.substring(0,1)){const s=ir(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(ir(e))}{const t=[];let i=!1;if(bs(n,(c,h)=>{if("."!==c.substring(0,1)){const p=ir(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new un(c,p)))}}),0===t.length)return Kt.EMPTY_NODE;const s=aM(t,mK,c=>c.name,eF);if(i){const c=aM(t,Ei.getCompare());return new Kt(s,ir(e),new cf({".priority":c},{".priority":Ei}))}return new Kt(s,ir(e),cf.Default)}}!function gK(n){I4=n}(ir);class iF extends rM{constructor(e){super(),this.indexPath_=e,(0,P.hu)(!an(e)&&".priority"!==on(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?pv(e.name,t.name):s}makePost(e,t){const i=ir(e),r=Kt.EMPTY_NODE.updateChild(this.indexPath_,i);return new un(t,r)}maxPost(){const e=Kt.EMPTY_NODE.updateChild(this.indexPath_,cI);return new un(af,e)}toString(){return sI(this.indexPath_,0).join("/")}}const rF=new class EK extends rM{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?pv(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return un.MIN}maxPost(){return un.MAX}makePost(e,t){const i=ir(e);return new un(t,i)}toString(){return".value"}};function D4(n){return{type:"value",snapshotNode:n}}function R0(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function lI(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function dI(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class sF{constructor(e){this.index_=e}updateChild(e,t,i,r,s,c){(0,P.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(lI(t,h)):(0,P.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(R0(t,i)):c.trackChildChange(dI(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Ei,(r,s)=>{t.hasChild(r)||i.trackChildChange(lI(r,s))}),t.isLeafNode()||t.forEachChild(Ei,(r,s)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(s)||i.trackChildChange(dI(r,s,c))}else i.trackChildChange(R0(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Kt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class uI{constructor(e){this.indexedFilter_=new sF(e.getIndex()),this.index_=e.getIndex(),this.startPost_=uI.getStartPost_(e),this.endPost_=uI.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,c){return this.matches(new un(t,i))||(i=Kt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Kt.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Kt.EMPTY_NODE);const s=this;return t.forEachChild(Ei,(c,h)=>{s.matches(new un(c,h))||(r=r.updateImmediateChild(c,Kt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class IK{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new uI(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,c){return this.rangedFilter_.matches(new un(t,i))||(i=Kt.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,c):this.fullLimitUpdateChild_(e,t,i,s,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Kt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=Kt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const h=s.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;r=r.updateImmediateChild(h.name,h.node),c++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(Kt.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let c=0;for(;s.hasNext();){const h=s.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:r=r.updateImmediateChild(h.name,Kt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let c;if(this.reverse_){const D=this.index_.getCompare();c=(M,N)=>D(N,M)}else c=this.index_.getCompare();const h=e;(0,P.hu)(h.numChildren()===this.limit_,"");const p=new un(t,i),v=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),E=this.rangedFilter_.matches(p);if(h.hasChild(t)){const D=h.getImmediateChild(t);let M=r.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=M&&(M.name===t||h.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const N=null==M?1:c(M,p);if(E&&!i.isEmpty()&&N>=0)return s?.trackChildChange(dI(t,i,D)),h.updateImmediateChild(t,i);{s?.trackChildChange(lI(t,D));const K=h.updateImmediateChild(t,Kt.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(s?.trackChildChange(R0(M.name,M.node)),K.updateImmediateChild(M.name,M.node)):K}}return i.isEmpty()?e:E&&c(v,p)>=0?(null!=s&&(s.trackChildChange(lI(v.name,v.node)),s.trackChildChange(R0(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(v.name,Kt.EMPTY_NODE)):e}}class cM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ei}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pp}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:af}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,P.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ei}copy(){const e=new cM;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function oF(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function aF(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function lM(n,e){const t=n.copy();return t.index_=e,t}function S4(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Ei?t="$priority":n.index_===rF?t="$value":n.index_===hu?t="$key":((0,P.hu)(n.index_ instanceof iF,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,P.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,P.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,P.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,P.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,P.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function A4(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Ei&&(e.i=n.index_.toString()),e}class dM extends f4{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=tI("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,P.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=dM.getListenId_(e,i),h={};this.listens_[c]=h;const p=S4(e._queryParams);this.restRequest_(s+".json",p,(v,E)=>{let D=E;if(404===v&&(D=null,v=null),null===v&&this.onDataUpdate_(s,D,!1,i),(0,P.DV)(this.listens_,c)===h){let M;M=v?401===v?"permission_denied":"rest_error:"+v:"ok",r(M,null)}})}unlisten(e,t){const i=dM.getListenId_(e,t);delete this.listens_[i]}get(e){const t=S4(e._queryParams),i=e._path.toString(),r=new P.BH;return this.restRequest_(i+".json",t,(s,c)=>{let h=c;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,P.xO)(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,P.cI)(h.responseText)}catch{lo("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,p)}else 401!==h.status&&404!==h.status&&lo("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class MK{constructor(){this.rootNode_=Kt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function uM(){return{value:null,children:new Map}}function O0(n,e,t){if(an(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=on(e);n.children.has(i)||n.children.set(i,uM()),O0(n.children.get(i),e=di(e),t)}}function cF(n,e){if(an(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Ei,(i,r)=>{O0(n,new $n(i),r)}),cF(n,e)}}if(n.children.size>0){const t=on(e);return e=di(e),n.children.has(t)&&cF(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function lF(n,e,t){null!==n.value?t(e,n.value):function RK(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{lF(r,new $n(e.toString()+"/"+i),t)})}class OK{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&bs(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class FK{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new OK(e);const i=1e4+2e4*Math.random();iI(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;bs(e,(r,s)=>{s>0&&(0,P.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),iI(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var fu=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(fu||{});function hF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class hM{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=fu.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(an(this.path)){if(null!=this.affectedTree.value)return(0,P.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new $n(e));return new hM(Nn(),t,this.revert)}}return(0,P.hu)(on(this.path)===e,"operationForChild called for unrelated child."),new hM(di(this.path),this.affectedTree,this.revert)}}class hI{constructor(e,t){this.source=e,this.path=t,this.type=fu.LISTEN_COMPLETE}operationForChild(e){return an(this.path)?new hI(this.source,Nn()):new hI(this.source,di(this.path))}}class vv{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=fu.OVERWRITE}operationForChild(e){return an(this.path)?new vv(this.source,Nn(),this.snap.getImmediateChild(e)):new vv(this.source,di(this.path),this.snap)}}class N0{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=fu.MERGE}operationForChild(e){if(an(this.path)){const t=this.children.subtree(new $n(e));return t.isEmpty()?null:t.value?new vv(this.source,Nn(),t.value):new N0(this.source,Nn(),t)}return(0,P.hu)(on(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new N0(this.source,di(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class vp{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(an(e))return this.isFullyInitialized()&&!this.filtered_;const t=on(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class LK{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function fI(n,e,t,i,r,s){const c=i.filter(h=>h.type===t);c.sort((h,p)=>function UK(n,e,t){if(null==e.childName||null==t.childName)throw(0,P.g5)("Should only compare child_ events.");const i=new un(e.childName,e.snapshotNode),r=new un(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,p)),c.forEach(h=>{const p=function VK(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);r.forEach(v=>{v.respondsTo(h.type)&&e.push(v.createEvent(p,n.query_))})})}function fM(n,e){return{eventCache:n,serverCache:e}}function mI(n,e,t,i){return fM(new vp(e,t,i),n.serverCache)}function M4(n,e,t,i){return fM(n.eventCache,new vp(e,t,i))}function mM(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function yv(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let fF;class Ci{constructor(e,t=(()=>(fF||(fF=new ia(CZ)),fF))()){this.value=e,this.children=t}static fromObject(e){let t=new Ci(null);return bs(e,(i,r)=>{t=t.set(new $n(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Nn(),value:this.value};if(an(e))return null;{const i=on(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(di(e),t);return null!=s?{path:ji(new $n(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(an(e))return this;{const t=on(e),i=this.children.get(t);return null!==i?i.subtree(di(e)):new Ci(null)}}set(e,t){if(an(e))return new Ci(t,this.children);{const i=on(e),s=(this.children.get(i)||new Ci(null)).set(di(e),t),c=this.children.insert(i,s);return new Ci(this.value,c)}}remove(e){if(an(e))return this.children.isEmpty()?new Ci(null):new Ci(null,this.children);{const t=on(e),i=this.children.get(t);if(i){const r=i.remove(di(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Ci(null):new Ci(this.value,s)}return this}}get(e){if(an(e))return this.value;{const t=on(e),i=this.children.get(t);return i?i.get(di(e)):null}}setTree(e,t){if(an(e))return t;{const i=on(e),s=(this.children.get(i)||new Ci(null)).setTree(di(e),t);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Ci(this.value,c)}}fold(e){return this.fold_(Nn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(ji(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Nn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(an(e))return null;{const s=on(e),c=this.children.get(s);return c?c.findOnPath_(di(e),ji(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Nn(),t)}foreachOnPath_(e,t,i){if(an(e))return this;{this.value&&i(t,this.value);const r=on(e),s=this.children.get(r);return s?s.foreachOnPath_(di(e),ji(t,r),i):new Ci(null)}}foreach(e){this.foreach_(Nn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(ji(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Yl{constructor(e){this.writeTree_=e}static empty(){return new Yl(new Ci(null))}}function pI(n,e,t){if(an(e))return new Yl(new Ci(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const c=No(r,e);return s=s.updateChild(c,t),new Yl(n.writeTree_.set(r,s))}{const r=new Ci(t),s=n.writeTree_.setTree(e,r);return new Yl(s)}}}function mF(n,e,t){let i=n;return bs(t,(r,s)=>{i=pI(i,ji(e,r),s)}),i}function R4(n,e){if(an(e))return Yl.empty();{const t=n.writeTree_.setTree(e,new Ci(null));return new Yl(t)}}function pF(n,e){return null!=bv(n,e)}function bv(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(No(t.path,e)):null}function O4(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ei,(i,r)=>{e.push(new un(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new un(i,r.value))}),e}function yp(n,e){if(an(e))return n;{const t=bv(n,e);return new Yl(null!=t?new Ci(t):n.writeTree_.subtree(e))}}function gF(n){return n.writeTree_.isEmpty()}function P0(n,e){return N4(Nn(),n.writeTree_,e)}function N4(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,P.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=N4(ji(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(ji(n,".priority"),i)),t}}function pM(n,e){return V4(e,n)}function qK(n,e){if(n.snap)return Hc(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Hc(ji(n.path,t),e))return!0;return!1}function ZK(n){return n.visible}function P4(n,e,t){let i=Yl.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const c=s.path;let h;if(s.snap)Hc(t,c)?(h=No(t,c),i=pI(i,h,s.snap)):Hc(c,t)&&(h=No(c,t),i=pI(i,Nn(),s.snap.getChild(h)));else{if(!s.children)throw(0,P.g5)("WriteRecord should have .snap or .children");if(Hc(t,c))h=No(t,c),i=mF(i,h,s.children);else if(Hc(c,t))if(h=No(c,t),an(h))i=mF(i,Nn(),s.children);else{const p=(0,P.DV)(s.children,on(h));if(p){const v=p.getChild(di(h));i=pI(i,Nn(),v)}}}}}return i}function F4(n,e,t,i,r){if(i||r){const s=yp(n.visibleWrites,e);return!r&&gF(s)?t:r||null!=t||pF(s,Nn())?P0(P4(n.allWrites,function(v){return(v.visible||r)&&(!i||!~i.indexOf(v.writeId))&&(Hc(v.path,e)||Hc(e,v.path))},e),t||Kt.EMPTY_NODE):null}{const s=bv(n.visibleWrites,e);if(null!=s)return s;{const c=yp(n.visibleWrites,e);return gF(c)?t:null!=t||pF(c,Nn())?P0(c,t||Kt.EMPTY_NODE):null}}}function gM(n,e,t,i){return F4(n.writeTree,n.treePath,e,t,i)}function _F(n,e){return function KK(n,e,t){let i=Kt.EMPTY_NODE;const r=bv(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ei,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(t){const s=yp(n.visibleWrites,e);return t.forEachChild(Ei,(c,h)=>{const p=P0(yp(s,new $n(c)),h);i=i.updateImmediateChild(c,p)}),O4(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return O4(yp(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function L4(n,e,t,i){return function YK(n,e,t,i,r){(0,P.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=ji(e,t);if(pF(n.visibleWrites,s))return null;{const c=yp(n.visibleWrites,s);return gF(c)?r.getChild(t):P0(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function _M(n,e){return function XK(n,e){return bv(n.visibleWrites,e)}(n.writeTree,ji(n.treePath,e))}function vF(n,e,t){return function QK(n,e,t,i){const r=ji(e,t),s=bv(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?P0(yp(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function B4(n,e){return V4(ji(n.treePath,e),n.writeTree)}function V4(n,e){return{treePath:n,writeTree:e}}class nY{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,P.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,P.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,dI(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,lI(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,R0(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,P.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,dI(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const U4=new class iY{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class yF{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new vp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vF(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:yv(this.viewCache_),s=function tY(n,e,t,i,r,s){return function JK(n,e,t,i,r,s,c){let h;const p=yp(n.visibleWrites,e),v=bv(p,Nn());if(null!=v)h=v;else{if(null==t)return[];h=P0(p,t)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const E=[],D=c.getCompare(),M=s?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let N=M.getNext();for(;N&&E.length<r;)0!==D(N,i)&&E.push(N),N=M.getNext();return E}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function j4(n,e,t,i,r,s){const c=e.eventCache;if(null!=_M(i,t))return e;{let h,p;if(an(t))if((0,P.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=yv(e),D=_F(i,v instanceof Kt?v:Kt.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),D,s)}else{const v=gM(i,yv(e));h=n.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const v=on(t);if(".priority"===v){(0,P.hu)(1===_p(t),"Can't have a priority with additional path components");const E=c.getNode();p=e.serverCache.getNode();const D=L4(i,t,E,p);h=null!=D?n.filter.updatePriority(E,D):c.getNode()}else{const E=di(t);let D;if(c.isCompleteForChild(v)){p=e.serverCache.getNode();const M=L4(i,t,c.getNode(),p);D=null!=M?c.getNode().getImmediateChild(v).updateChild(E,M):c.getNode().getImmediateChild(v)}else D=vF(i,v,e.serverCache);h=null!=D?n.filter.updateChild(c.getNode(),v,D,E,r,s):c.getNode()}}return mI(e,h,c.isFullyInitialized()||an(t),n.filter.filtersNodes())}}function vM(n,e,t,i,r,s,c,h){const p=e.serverCache;let v;const E=c?n.filter:n.filter.getIndexedFilter();if(an(t))v=E.updateFullNode(p.getNode(),i,null);else if(E.filtersNodes()&&!p.isFiltered()){const N=p.getNode().updateChild(t,i);v=E.updateFullNode(p.getNode(),N,null)}else{const N=on(t);if(!p.isCompleteForPath(t)&&_p(t)>1)return e;const U=di(t),X=p.getNode().getImmediateChild(N).updateChild(U,i);v=".priority"===N?E.updatePriority(p.getNode(),X):E.updateChild(p.getNode(),N,X,U,U4,null)}const D=M4(e,v,p.isFullyInitialized()||an(t),E.filtersNodes());return j4(n,D,t,r,new yF(r,D,s),h)}function bF(n,e,t,i,r,s,c){const h=e.eventCache;let p,v;const E=new yF(r,e,s);if(an(t))v=n.filter.updateFullNode(e.eventCache.getNode(),i,c),p=mI(e,v,!0,n.filter.filtersNodes());else{const D=on(t);if(".priority"===D)v=n.filter.updatePriority(e.eventCache.getNode(),i),p=mI(e,v,h.isFullyInitialized(),h.isFiltered());else{const M=di(t),N=h.getNode().getImmediateChild(D);let U;if(an(M))U=i;else{const K=E.getCompleteChild(D);U=null!=K?".priority"===QP(M)&&K.getChild(_4(M)).isEmpty()?K:K.updateChild(M,i):Kt.EMPTY_NODE}p=N.equals(U)?e:mI(e,n.filter.updateChild(h.getNode(),D,U,M,E,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function H4(n,e){return n.eventCache.isCompleteForChild(e)}function z4(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function wF(n,e,t,i,r,s,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,p=e;v=an(t)?i:new Ci(null).setTree(t,i);const E=e.serverCache.getNode();return v.children.inorderTraversal((D,M)=>{if(E.hasChild(D)){const U=z4(0,e.serverCache.getNode().getImmediateChild(D),M);p=vM(n,p,new $n(D),U,r,s,c,h)}}),v.children.inorderTraversal((D,M)=>{const N=!e.serverCache.isCompleteForChild(D)&&null===M.value;if(!E.hasChild(D)&&!N){const K=z4(0,e.serverCache.getNode().getImmediateChild(D),M);p=vM(n,p,new $n(D),K,r,s,c,h)}}),p}class hY{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new sF(i.getIndex()),s=function TK(n){return n.loadsAllData()?new sF(n.getIndex()):n.hasLimit()?new IK(n):new uI(n)}(i);this.processor_=function rY(n){return{filter:n}}(s);const c=t.serverCache,h=t.eventCache,p=r.updateFullNode(Kt.EMPTY_NODE,c.getNode(),null),v=s.updateFullNode(Kt.EMPTY_NODE,h.getNode(),null),E=new vp(p,c.isFullyInitialized(),r.filtersNodes()),D=new vp(v,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=fM(D,E),this.eventGenerator_=new LK(this.query_)}get query(){return this.query_}}function pY(n,e){const t=yv(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!an(e)&&!t.getImmediateChild(on(e)).isEmpty())?t.getChild(e):null}function $4(n){return 0===n.eventRegistrations_.length}function G4(n,e,t){const i=[];if(t){(0,P.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function q4(n,e,t,i){e.type===fu.MERGE&&null!==e.source.queryId&&((0,P.hu)(yv(n.viewCache_),"We should always have a full cache before handling merges"),(0,P.hu)(mM(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function oY(n,e,t,i,r){const s=new nY;let c,h;if(t.type===fu.OVERWRITE){const v=t;v.source.fromUser?c=bF(n,e,v.path,v.snap,i,r,s):((0,P.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered()&&!an(v.path),c=vM(n,e,v.path,v.snap,i,r,h,s))}else if(t.type===fu.MERGE){const v=t;v.source.fromUser?c=function cY(n,e,t,i,r,s,c){let h=e;return i.foreach((p,v)=>{const E=ji(t,p);H4(e,on(E))&&(h=bF(n,h,E,v,r,s,c))}),i.foreach((p,v)=>{const E=ji(t,p);H4(e,on(E))||(h=bF(n,h,E,v,r,s,c))}),h}(n,e,v.path,v.children,i,r,s):((0,P.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered(),c=wF(n,e,v.path,v.children,i,r,h,s))}else if(t.type===fu.ACK_USER_WRITE){const v=t;c=v.revert?function uY(n,e,t,i,r,s){let c;if(null!=_M(i,t))return e;{const h=new yF(i,e,r),p=e.eventCache.getNode();let v;if(an(t)||".priority"===on(t)){let E;if(e.serverCache.isFullyInitialized())E=gM(i,yv(e));else{const D=e.serverCache.getNode();(0,P.hu)(D instanceof Kt,"serverChildren would be complete if leaf node"),E=_F(i,D)}v=n.filter.updateFullNode(p,E,s)}else{const E=on(t);let D=vF(i,E,e.serverCache);null==D&&e.serverCache.isCompleteForChild(E)&&(D=p.getImmediateChild(E)),v=null!=D?n.filter.updateChild(p,E,D,di(t),h,s):e.eventCache.getNode().hasChild(E)?n.filter.updateChild(p,E,Kt.EMPTY_NODE,di(t),h,s):p,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=gM(i,yv(e)),c.isLeafNode()&&(v=n.filter.updateFullNode(v,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=_M(i,Nn()),mI(e,v,c,n.filter.filtersNodes())}}(n,e,v.path,i,r,s):function lY(n,e,t,i,r,s,c){if(null!=_M(r,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(an(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return vM(n,e,t,p.getNode().getChild(t),r,s,h,c);if(an(t)){let v=new Ci(null);return p.getNode().forEachChild(hu,(E,D)=>{v=v.set(new $n(E),D)}),wF(n,e,t,v,r,s,h,c)}return e}{let v=new Ci(null);return i.foreach((E,D)=>{const M=ji(t,E);p.isCompleteForPath(M)&&(v=v.set(E,p.getNode().getChild(M)))}),wF(n,e,t,v,r,s,h,c)}}(n,e,v.path,v.affectedTree,i,r,s)}else{if(t.type!==fu.LISTEN_COMPLETE)throw(0,P.g5)("Unknown operation type: "+t.type);c=function dY(n,e,t,i,r){const s=e.serverCache;return j4(n,M4(e,s.getNode(),s.isFullyInitialized()||an(t),s.isFiltered()),t,i,U4,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function aY(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=mM(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(D4(mM(e)))}}(e,c,p),{viewCache:c,changes:p}}(n.processor_,r,e,t,i);return function sY(n,e){(0,P.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,P.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,P.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,W4(n,s.changes,s.viewCache.eventCache.getNode(),null)}function W4(n,e,t,i){return function BK(n,e,t,i){const r=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function CK(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),fI(n,r,"child_removed",e,i,t),fI(n,r,"child_added",e,i,t),fI(n,r,"child_moved",s,i,t),fI(n,r,"child_changed",e,i,t),fI(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let yM,wM;class Z4{constructor(){this.views=new Map}}function xF(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,P.hu)(null!=s,"SyncTree gave us an op for an invalid query."),q4(s,e,t,i)}{let s=[];for(const c of n.views.values())s=s.concat(q4(c,e,t,i));return s}}function K4(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let h=gM(t,r?i:null),p=!1;h?p=!0:i instanceof Kt?(h=_F(t,i),p=!1):(h=Kt.EMPTY_NODE,p=!1);const v=fM(new vp(h,p,!1),new vp(i,r,!1));return new hY(e,v)}return c}function Y4(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function bp(n,e){let t=null;for(const i of n.views.values())t=t||pY(i,e);return t}function Q4(n,e){return e._queryParams.loadsAllData()?bM(n):n.views.get(e._queryIdentifier)}function X4(n,e){return null!=Q4(n,e)}function wp(n){return null!=bM(n)}function bM(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let IY=1;class J4{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ci(null),this.pendingWriteTree_=function eY(){return{visibleWrites:Yl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function EF(n,e,t,i,r){return function HK(n,e,t,i,r){(0,P.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=pI(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?F0(n,new vv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function xp(n,e,t=!1){const i=function $K(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function GK(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,P.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=t&&qK(h,i.path)?r=!1:Hc(i.path,h.path)&&(s=!0)),c--}return!!r&&(s?(function WK(n){n.visibleWrites=P4(n.allWrites,ZK,Nn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=R4(n.visibleWrites,i.path):bs(i.children,p=>{n.visibleWrites=R4(n.visibleWrites,ji(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new Ci(null);return null!=i.snap?s=s.set(Nn(),!0):bs(i.children,c=>{s=s.set(new $n(c),!0)}),F0(n,new hM(i.path,s,t))}return[]}function gI(n,e,t){return F0(n,new vv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function xM(n,e,t,i,r=!1){const s=e._path,c=n.syncPointTree_.get(s);let h=[];if(c&&("default"===e._queryIdentifier||X4(c,e))){const p=function xY(n,e,t,i){const r=e._queryIdentifier,s=[];let c=[];const h=wp(n);if("default"===r)for(const[p,v]of n.views.entries())c=c.concat(G4(v,t,i)),$4(v)&&(n.views.delete(p),v.query._queryParams.loadsAllData()||s.push(v.query));else{const p=n.views.get(r);p&&(c=c.concat(G4(p,t,i)),$4(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return h&&!wp(n)&&s.push(new(function yY(){return(0,P.hu)(yM,"Reference.ts has not been loaded"),yM}())(e._repo,e._path)),{removed:s,events:c}}(c,e,t,i);(function bY(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const v=p.removed;if(h=p.events,!r){const E=-1!==v.findIndex(M=>M._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(s,(M,N)=>wp(N));if(E&&!D){const M=n.syncPointTree_.subtree(s);if(!M.isEmpty()){const N=function RY(n){return n.fold((e,t,i)=>{if(t&&wp(t))return[bM(t)];{let r=[];return t&&(r=Y4(t)),bs(i,(s,c)=>{r=r.concat(c)}),r}})}(M);for(let U=0;U<N.length;++U){const K=N[U],X=K.query,Ie=ij(n,K);n.listenProvider_.startListening(vI(X),_I(n,X),Ie.hashFn,Ie.onComplete)}}}!D&&v.length>0&&!i&&(E?n.listenProvider_.stopListening(vI(e),null):v.forEach(M=>{const N=n.queryToTagMap.get(CM(M));n.listenProvider_.stopListening(vI(M),N)}))}!function OY(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=CM(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,v)}return h}function ej(n,e,t,i){const r=IF(n,i);if(null!=r){const s=TF(r),c=s.path,h=s.queryId,p=No(c,e);return DF(n,c,new vv(hF(h),p,t))}return[]}function CF(n,e,t,i=!1){const r=e._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(r,(M,N)=>{const U=No(M,r);s=s||bp(N,U),c=c||wp(N)});let p,h=n.syncPointTree_.get(r);h?(c=c||wp(h),s=s||bp(h,Nn())):(h=new Z4,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=s?p=!0:(p=!1,s=Kt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((N,U)=>{const K=bp(U,Nn());K&&(s=s.updateImmediateChild(N,K))}));const v=X4(h,e);if(!v&&!e._queryParams.loadsAllData()){const M=CM(e);(0,P.hu)(!n.queryToTagMap.has(M),"View does not exist, but we have a tag");const N=function NY(){return IY++}();n.queryToTagMap.set(M,N),n.tagToQueryMap.set(N,M)}let D=function wY(n,e,t,i,r,s){const c=K4(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function gY(n,e){n.eventRegistrations_.push(e)}(c,t),function _Y(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ei,(s,c)=>{i.push(R0(s,c))}),t.isFullyInitialized()&&i.push(D4(t.getNode())),W4(n,i,t.getNode(),e)}(c,t)}(h,e,t,pM(n.pendingWriteTree_,r),s,p);if(!v&&!c&&!i){const M=Q4(h,e);D=D.concat(function PY(n,e,t){const i=e._path,r=_I(n,e),s=ij(n,t),c=n.listenProvider_.startListening(vI(e),r,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,P.hu)(!wp(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((v,E,D)=>{if(!an(v)&&E&&wp(E))return[bM(E).query];{let M=[];return E&&(M=M.concat(Y4(E).map(N=>N.query))),bs(D,(N,U)=>{M=M.concat(U)}),M}});for(let v=0;v<p.length;++v){const E=p[v];n.listenProvider_.stopListening(vI(E),_I(n,E))}}return c}(n,e,M))}return D}function EM(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,h)=>{const v=bp(h,No(c,e));if(v)return v});return F4(r,e,s,t,!0)}function F0(n,e){return tj(e,n.syncPointTree_,null,pM(n.pendingWriteTree_,Nn()))}function tj(n,e,t,i){if(an(n.path))return nj(n,e,t,i);{const r=e.get(Nn());null==t&&null!=r&&(t=bp(r,Nn()));let s=[];const c=on(n.path),h=n.operationForChild(c),p=e.children.get(c);if(p&&h){const v=t?t.getImmediateChild(c):null,E=B4(i,c);s=s.concat(tj(h,p,v,E))}return r&&(s=s.concat(xF(r,n,i,t))),s}}function nj(n,e,t,i){const r=e.get(Nn());null==t&&null!=r&&(t=bp(r,Nn()));let s=[];return e.children.inorderTraversal((c,h)=>{const p=t?t.getImmediateChild(c):null,v=B4(i,c),E=n.operationForChild(c);E&&(s=s.concat(nj(E,h,p,v)))}),r&&(s=s.concat(xF(r,n,i,t))),s}function ij(n,e){const t=e.query,i=_I(n,t);return{hashFn:()=>(function fY(n){return n.viewCache_.serverCache.getNode()}(e)||Kt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function AY(n,e,t){const i=IF(n,t);if(i){const r=TF(i),s=r.path,c=r.queryId,h=No(s,e);return DF(n,s,new hI(hF(c),h))}return[]}(n,t._path,i):function SY(n,e){return F0(n,new hI({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function DZ(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return xM(n,t,null,s)}}}}function _I(n,e){const t=CM(e);return n.queryToTagMap.get(t)}function CM(n){return n._path.toString()+"$"+n._queryIdentifier}function IF(n,e){return n.tagToQueryMap.get(e)}function TF(n){const e=n.indexOf("$");return(0,P.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new $n(n.substr(0,e))}}function DF(n,e,t){const i=n.syncPointTree_.get(e);return(0,P.hu)(i,"Missing sync point for query tag that we're tracking"),xF(i,t,pM(n.pendingWriteTree_,e),null)}function vI(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function CY(){return(0,P.hu)(wM,"Reference.ts has not been loaded"),wM}())(n._repo,n._path):n}class SF{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new SF(t)}node(){return this.node_}}class AF{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ji(this.path_,e);return new AF(this.syncTree_,t)}node(){return EM(this.syncTree_,this.path_)}}const FY=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},rj=function(n,e,t){return n&&"object"==typeof n?((0,P.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?LY(n[".sv"],e,t):"object"==typeof n[".sv"]?BY(n[".sv"],e):void(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},LY=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,P.hu)(!1,"Unexpected server value: "+n)},BY=function(n,e,t){n.hasOwnProperty("increment")||(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,P.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,P.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},sj=function(n,e,t,i){return MF(e,new AF(t,n),i)},kF=function(n,e,t){return MF(n,new SF(e),t)};function MF(n,e,t){const i=n.getPriority().val(),r=rj(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,h=rj(c.getValue(),e,t);return h!==c.getValue()||r!==c.getPriority().val()?new k0(h,ir(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new k0(r))),c.forEachChild(Ei,(h,p)=>{const v=MF(p,e.getImmediateChild(h),t);v!==p&&(s=s.updateImmediateChild(h,v))}),s}}class RF{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function IM(n,e){let t=e instanceof $n?e:new $n(e),i=n,r=on(t);for(;null!==r;){const s=(0,P.DV)(i.node.children,r)||{children:{},childCount:0};i=new RF(r,i,s),t=di(t),r=on(t)}return i}function wv(n){return n.node.value}function OF(n,e){n.node.value=e,NF(n)}function oj(n){return n.node.childCount>0}function TM(n,e){bs(n.node.children,(t,i)=>{e(new RF(t,n,i))})}function aj(n,e,t,i){t&&!i&&e(n),TM(n,r=>{aj(r,e,!0,i)}),t&&i&&e(n)}function yI(n){return new $n(null===n.parent?n.name:yI(n.parent)+"/"+n.name)}function NF(n){null!==n.parent&&function jY(n,e,t){const i=function VY(n){return void 0===wv(n)&&!oj(n)}(t),r=(0,P.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,NF(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,NF(n))}(n.parent,n.name,n)}const HY=/[\[\].#$\/\u0000-\u001F\u007F]/,zY=/[\[\].#$\u0000-\u001F\u007F]/,PF=10485760,DM=function(n){return"string"==typeof n&&0!==n.length&&!HY.test(n)},cj=function(n){return"string"==typeof n&&0!==n.length&&!zY.test(n)},bI=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!eM(n)||n&&"object"==typeof n&&(0,P.r3)(n,".sv")},mu=function(n,e,t,i){i&&void 0===e||wI((0,P.gK)(n,"value"),e,t)},wI=function(n,e,t){const i=t instanceof $n?new oK(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+gv(i));if("function"==typeof e)throw new Error(n+"contains a function "+gv(i)+" with contents = "+e.toString());if(eM(e))throw new Error(n+"contains "+e.toString()+" "+gv(i));if("string"==typeof e&&e.length>PF/3&&(0,P.ug)(e)>PF)throw new Error(n+"contains a string greater than "+PF+" utf8 bytes "+gv(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(bs(e,(c,h)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!DM(c)))throw new Error(n+" contains an invalid key ("+c+") "+gv(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function aK(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,P.ug)(e),v4(n)})(i,c),wI(n,h,i),function cK(n){const e=n.parts_.pop();n.byteLength_-=(0,P.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+gv(i)+" in addition to actual children.")}},lj=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,P.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];bs(e,(c,h)=>{const p=new $n(c);if(wI(r,h,ji(t,p)),".priority"===QP(p)&&!bI(h))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=sI(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!DM(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(sK);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&Hc(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},FF=function(n,e,t){if(!t||void 0!==e){if(eM(e))throw new Error((0,P.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!bI(e))throw new Error((0,P.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},xI=function(n,e,t,i){if(!(i&&void 0===t||DM(t)))throw new Error((0,P.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},EI=function(n,e,t,i){if(!(i&&void 0===t||cj(t)))throw new Error((0,P.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},qY=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),EI(n,e,t,i)},zc=function(n,e){if(".info"===on(e))throw new Error(n+" failed = Can't modify data under /.info/")},dj=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!DM(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),cj(n)}(t))throw new Error((0,P.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class WY{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function SM(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!XP(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function uj(n,e,t){SM(n,t),hj(n,i=>XP(i,e))}function Za(n,e,t){SM(n,t),hj(n,i=>Hc(i,e)||Hc(e,i))}function hj(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(ZY(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function ZY(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();mv&&ys("event: "+t.toString()),S0(i)}}}const fj="repo_interrupt",KY=25;class YY{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WY,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uM(),this.transactionQueueTree_=new RF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mj(n){const t=n.infoData_.getNode(new $n(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function CI(n){return FY({timestamp:mj(n)})}function pj(n,e,t,i,r){n.dataUpdateCount++;const s=new $n(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const p=(0,P.UI)(t,v=>ir(v));c=function kY(n,e,t,i){const r=IF(n,i);if(r){const s=TF(r),c=s.path,h=s.queryId,p=No(c,e),v=Ci.fromObject(t);return DF(n,c,new N0(hF(h),p,v))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=ir(t);c=ej(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,P.UI)(t,v=>ir(v));c=function DY(n,e,t){const i=Ci.fromObject(t);return F0(n,new N0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=ir(t);c=gI(n.serverSyncTree_,s,p)}let h=s;c.length>0&&(h=B0(n,s)),Za(n.eventQueue_,h,c)}function gj(n,e){LF(n,"connected",e),!1===e&&function tQ(n){L0(n,"onDisconnectEvents");const e=CI(n),t=uM();lF(n.onDisconnect_,Nn(),(r,s)=>{const c=sj(r,s,n.serverSyncTree_,e);O0(t,r,c)});let i=[];lF(t,Nn(),(r,s)=>{i=i.concat(gI(n.serverSyncTree_,r,s));const c=jF(n,r);B0(n,c)}),n.onDisconnect_=uM(),Za(n.eventQueue_,Nn(),i)}(n)}function LF(n,e,t){const i=new $n("/.info/"+e),r=ir(t);n.infoData_.updateSnapshot(i,r);const s=gI(n.infoSyncTree_,i,r);Za(n.eventQueue_,i,s)}function AM(n){return n.nextWriteId_++}function BF(n,e,t,i,r){L0(n,"set",{path:e.toString(),value:t,priority:i});const s=CI(n),c=ir(t,i),h=EM(n.serverSyncTree_,e),p=kF(c,h,s),v=AM(n),E=EF(n.serverSyncTree_,e,p,v,!0);SM(n.eventQueue_,E),n.server_.put(e.toString(),c.val(!0),(M,N)=>{const U="ok"===M;U||lo("set at "+e+" failed: "+M);const K=xp(n.serverSyncTree_,v,!U);Za(n.eventQueue_,e,K),Ep(0,r,M,N)});const D=jF(n,e);B0(n,D),Za(n.eventQueue_,D,[])}function nQ(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&cF(n.onDisconnect_,e),Ep(0,t,i,r)})}function _j(n,e,t,i){const r=ir(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,c)=>{"ok"===s&&O0(n.onDisconnect_,e,r),Ep(0,i,s,c)})}function VF(n,e,t){let i;i=".info"===on(e._path)?xM(n.infoSyncTree_,e,t):xM(n.serverSyncTree_,e,t),uj(n.eventQueue_,e._path,i)}function vj(n){n.persistentConnection_&&n.persistentConnection_.interrupt(fj)}function L0(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),ys(t,...e)}function Ep(n,e,t,i){e&&S0(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,e(c)}})}function UF(n,e,t){return EM(n.serverSyncTree_,e,t)||Kt.EMPTY_NODE}function kM(n,e=n.transactionQueueTree_){if(e||MM(n,e),wv(e)){const t=bj(n,e);(0,P.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function cQ(n,e,t){const i=t.map(v=>v.currentWriteId),r=UF(n,e,i);let s=r;const c=r.hash();for(let v=0;v<t.length;v++){const E=t[v];(0,P.hu)(0===E.status,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const D=No(e,E.path);s=s.updateChild(D,E.currentOutputSnapshotRaw)}const h=s.val(!0),p=e;n.server_.put(p.toString(),h,v=>{L0(n,"transaction put response",{path:p.toString(),status:v});let E=[];if("ok"===v){const D=[];for(let M=0;M<t.length;M++)t[M].status=2,E=E.concat(xp(n.serverSyncTree_,t[M].currentWriteId)),t[M].onComplete&&D.push(()=>t[M].onComplete(null,!0,t[M].currentOutputSnapshotResolved)),t[M].unwatcher();MM(n,IM(n.transactionQueueTree_,e)),kM(n,n.transactionQueueTree_),Za(n.eventQueue_,e,E);for(let M=0;M<D.length;M++)S0(D[M])}else{if("datastale"===v)for(let D=0;D<t.length;D++)t[D].status=3===t[D].status?4:0;else{lo("transaction at "+p.toString()+" failed: "+v);for(let D=0;D<t.length;D++)t[D].status=4,t[D].abortReason=v}B0(n,e)}},c)}(n,yI(e),t)}else oj(e)&&TM(e,t=>{kM(n,t)})}function B0(n,e){const t=yj(n,e),i=yI(t);return function lQ(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],v=No(t,p.path);let D,E=!1;if((0,P.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)E=!0,D=p.abortReason,r=r.concat(xp(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=KY)E=!0,D="maxretry",r=r.concat(xp(n.serverSyncTree_,p.currentWriteId,!0));else{const M=UF(n,p.path,c);p.currentInputSnapshot=M;const N=e[h].update(M.val());if(void 0!==N){wI("transaction failed: Data returned ",N,p.path);let U=ir(N);"object"==typeof N&&null!=N&&(0,P.r3)(N,".priority")||(U=U.updatePriority(M.getPriority()));const X=p.currentWriteId,Ie=CI(n),ze=kF(U,M,Ie);p.currentOutputSnapshotRaw=U,p.currentOutputSnapshotResolved=ze,p.currentWriteId=AM(n),c.splice(c.indexOf(X),1),r=r.concat(EF(n.serverSyncTree_,p.path,ze,p.currentWriteId,p.applyLocally)),r=r.concat(xp(n.serverSyncTree_,X,!0))}else E=!0,D="nodata",r=r.concat(xp(n.serverSyncTree_,p.currentWriteId,!0))}Za(n.eventQueue_,t,r),r=[],E&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===D?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(D),!1,null)))}MM(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)S0(i[h]);kM(n,n.transactionQueueTree_)}(n,bj(n,t),i),i}function yj(n,e){let t,i=n.transactionQueueTree_;for(t=on(e);null!==t&&void 0===wv(i);)i=IM(i,t),t=on(e=di(e));return i}function bj(n,e){const t=[];return wj(n,e,t),t.sort((i,r)=>i.order-r.order),t}function wj(n,e,t){const i=wv(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);TM(e,r=>{wj(n,r,t)})}function MM(n,e){const t=wv(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,OF(e,t.length>0?t:void 0)}TM(e,i=>{MM(n,i)})}function jF(n,e){const t=yI(yj(n,e)),i=IM(n.transactionQueueTree_,e);return function UY(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{HF(n,r)}),HF(n,i),aj(i,r=>{HF(n,r)}),t}function HF(n,e){const t=wv(e);if(t){const i=[];let r=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,P.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,P.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(xp(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?OF(e,void 0):t.length=s+1,Za(n.eventQueue_,yI(e),r);for(let c=0;c<i.length;c++)S0(i[c])}}const zF=function(n,e){const t=hQ(n),i=t.namespace;return"firebase.com"===t.domain&&uu(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&uu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&lo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new GP(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new $n(t.pathString)}},hQ=function(n){let e="",t="",i="",r="",s="",c=!0,h="https",p=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(h=n.substring(0,v-1),n=n.substring(v+2));let E=n.indexOf("/");-1===E&&(E=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),e=n.substring(0,Math.min(E,D)),E<D&&(r=function dQ(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(E,D)));const M=function uQ(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):lo(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,D)));v=e.indexOf(":"),v>=0?(c="https"===h||"wss"===h,p=parseInt(e.substring(v+1),10)):v=e.length;const N=e.slice(0,v);if("localhost"===N.toLowerCase())t="localhost";else if(N.split(".").length<=2)t=N;else{const U=e.indexOf(".");i=e.substring(0,U).toLowerCase(),t=e.substring(U+1),s=i}"ns"in M&&(s=M.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:c,scheme:h,pathString:r,namespace:s}},xj="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fQ=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=xj.charAt(t%64),t=Math.floor(t/64);(0,P.hu)(0===t,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=xj.charAt(e[r]);return(0,P.hu)(20===c.length,"nextPushId: Length should be 20."),c}}();class Ej{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,P.Wl)(this.snapshot.exportVal())}}class Cj{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class $F{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,P.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Ij{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new P.BH;return nQ(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){zc("OnDisconnect.remove",this._path);const e=new P.BH;return _j(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){zc("OnDisconnect.set",this._path),mu("OnDisconnect.set",e,this._path,!1);const t=new P.BH;return _j(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){zc("OnDisconnect.setWithPriority",this._path),mu("OnDisconnect.setWithPriority",e,this._path,!1),FF("OnDisconnect.setWithPriority",t,!1);const i=new P.BH;return function iQ(n,e,t,i,r){const s=ir(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,h)=>{"ok"===c&&O0(n.onDisconnect_,e,s),Ep(0,r,c,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){zc("OnDisconnect.update",this._path),lj("OnDisconnect.update",e,this._path,!1);const t=new P.BH;return function rQ(n,e,t,i){if((0,P.xb)(t))return ys("onDisconnect().update() called with empty data.  Don't do anything."),void Ep(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&bs(t,(c,h)=>{const p=ir(h);O0(n.onDisconnect_,ji(e,c),p)}),Ep(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class ra{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return an(this._path)?null:QP(this._path)}get ref(){return new $c(this._repo,this._path)}get _queryIdentifier(){const e=A4(this._queryParams),t=zP(e);return"{}"===t?"default":t}get _queryObject(){return A4(this._queryParams)}isEqual(e){if(!((e=(0,P.m9)(e))instanceof ra))return!1;const t=this._repo===e._repo,i=XP(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function rK(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function RM(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Cp(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===hu){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==pp)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==af)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Ei){if(null!=e&&!bI(e)||null!=t&&!bI(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,P.hu)(n.getIndex()instanceof iF||n.getIndex()===rF,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function OM(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class $c extends ra{constructor(e,t){super(e,t,new cM,!1)}get parent(){const e=_4(this._path);return null===e?null:new $c(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class xv{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new $n(e),i=Ev(this.ref,e);return new xv(this._node.getChild(t),i,Ei)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new xv(r,Ev(this.ref,i),Ei)))}hasChild(e){const t=new $n(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Tj(n,e){return(n=(0,P.m9)(n))._checkNotDeleted("ref"),void 0!==e?Ev(n._root,e):n._root}function Dj(n,e){(n=(0,P.m9)(n))._checkNotDeleted("refFromURL");const t=zF(e,n._repo.repoInfo_.nodeAdmin);dj("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&uu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),Tj(n,t.path.toString())}function Ev(n,e){return null===on((n=(0,P.m9)(n))._path)?qY("child","path",e,!1):EI("child","path",e,!1),new $c(n._repo,ji(n._path,e))}function GF(n,e){n=(0,P.m9)(n),zc("set",n._path),mu("set",e,n._path,!1);const t=new P.BH;return BF(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function vQ(n,e){lj("update",e,n._path,!1);const t=new P.BH;return function eQ(n,e,t,i){L0(n,"update",{path:e.toString(),value:t});let r=!0;const s=CI(n),c={};if(bs(t,(h,p)=>{r=!1,c[h]=sj(ji(e,h),ir(p),n.serverSyncTree_,s)}),r)ys("update() called with empty data.  Don't do anything."),Ep(0,i,"ok",void 0);else{const h=AM(n),p=function TY(n,e,t,i){!function zK(n,e,t,i){(0,P.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=mF(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=Ci.fromObject(t);return F0(n,new N0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,h);SM(n.eventQueue_,p),n.server_.merge(e.toString(),t,(v,E)=>{const D="ok"===v;D||lo("update at "+e+" failed: "+v);const M=xp(n.serverSyncTree_,h,!D),N=M.length>0?B0(n,e):e;Za(n.eventQueue_,N,M),Ep(0,i,v,E)}),bs(t,v=>{const E=jF(n,ji(e,v));B0(n,E)}),Za(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function yQ(n){n=(0,P.m9)(n);const e=new $F(()=>{}),t=new II(e);return function JY(n,e,t){const i=function MY(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(v,E)=>{const D=No(v,t);i=i||bp(E,D)});let r=n.syncPointTree_.get(t);r?i=i||bp(r,Nn()):(r=new Z4,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,c=s?new vp(i,!0,!1):null;return function mY(n){return mM(n.viewCache_)}(K4(r,e,pM(n.pendingWriteTree_,e._path),s?c.getNode():Kt.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=ir(r).withIndex(e._queryParams.getIndex());let c;if(CF(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())c=gI(n.serverSyncTree_,e._path,s);else{const h=_I(n.serverSyncTree_,e);c=ej(n.serverSyncTree_,e._path,s,h)}return Za(n.eventQueue_,e._path,c),xM(n.serverSyncTree_,e,t,null,!0),s},r=>(L0(n,"get for query "+(0,P.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new xv(i,new $c(n._repo,n._path),n._queryParams.getIndex()))}class II{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new Ej("value",this,new xv(e.snapshotNode,new $c(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Cj(this,e,t):null}matches(e){return e instanceof II&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class NM{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Cj(this,e,t):null}createEvent(e,t){(0,P.hu)(null!=e.childName,"Child events should have a childName.");const i=Ev(new $c(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ej(e.type,this,new xv(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof NM&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function TI(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,v=(E,D)=>{VF(n._repo,n,h),p(E,D)};v.userCallback=t.userCallback,v.context=t.context,t=v}const c=new $F(t,s||void 0),h="value"===e?new II(c):new NM(e,c);return function sQ(n,e,t){let i;i=".info"===on(e._path)?CF(n.infoSyncTree_,e,t):CF(n.serverSyncTree_,e,t),uj(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>VF(n._repo,n,h)}function qF(n,e,t,i){return TI(n,"value",e,t,i)}function Sj(n,e,t,i){return TI(n,"child_added",e,t,i)}function Aj(n,e,t,i){return TI(n,"child_changed",e,t,i)}function kj(n,e,t,i){return TI(n,"child_moved",e,t,i)}function Mj(n,e,t,i){return TI(n,"child_removed",e,t,i)}function Rj(n,e,t){let i=null;const r=t?new $F(t):null;"value"===e?i=new II(r):e&&(i=new NM(e,r)),VF(n._repo,n,i)}class Ql{}class Oj extends Ql{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){mu("endAt",this._value,e._path,!0);const t=aF(e._queryParams,this._value,this._key);if(OM(t),Cp(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ra(e._repo,e._path,t,e._orderByCalled)}}class wQ extends Ql{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){mu("endBefore",this._value,e._path,!1);const t=function kK(n,e,t){let i;return i=aF(n,e,n.index_===hu||t?t:pp),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(OM(t),Cp(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ra(e._repo,e._path,t,e._orderByCalled)}}class Nj extends Ql{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){mu("startAt",this._value,e._path,!0);const t=oF(e._queryParams,this._value,this._key);if(OM(t),Cp(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ra(e._repo,e._path,t,e._orderByCalled)}}class CQ extends Ql{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){mu("startAfter",this._value,e._path,!1);const t=function AK(n,e,t){let i;return i=oF(n,e,n.index_===hu||t?t:af),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(OM(t),Cp(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ra(e._repo,e._path,t,e._orderByCalled)}}class TQ extends Ql{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ra(e._repo,e._path,function DK(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class SQ extends Ql{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ra(e._repo,e._path,function SK(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class kQ extends Ql{constructor(e){super(),this._path=e}_apply(e){RM(e,"orderByChild");const t=new $n(this._path);if(an(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new iF(t),r=lM(e._queryParams,i);return Cp(r),new ra(e._repo,e._path,r,!0)}}class RQ extends Ql{_apply(e){RM(e,"orderByKey");const t=lM(e._queryParams,hu);return Cp(t),new ra(e._repo,e._path,t,!0)}}class NQ extends Ql{_apply(e){RM(e,"orderByPriority");const t=lM(e._queryParams,Ei);return Cp(t),new ra(e._repo,e._path,t,!0)}}class FQ extends Ql{_apply(e){RM(e,"orderByValue");const t=lM(e._queryParams,rF);return Cp(t),new ra(e._repo,e._path,t,!0)}}class BQ extends Ql{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(mu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Oj(this._value,this._key)._apply(new Nj(this._value,this._key)._apply(e))}}function Xl(n,...e){let t=(0,P.m9)(n);for(const i of e)t=i._apply(t);return t}(function vY(n){(0,P.hu)(!yM,"__referenceConstructor has already been defined"),yM=n})($c),function EY(n){(0,P.hu)(!wM,"__referenceConstructor has already been defined"),wM=n}($c);const WF={};function Fj(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||uu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ys("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,v,c=zF(s,r),h=c.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(p=!0,s=`http://${v}?ns=${h.namespace}`,c=zF(s,r),h=c.repoInfo):p=!c.repoInfo.secure;const E=r&&p?new rI(rI.OWNER):new OZ(n.name,n.options,e);dj("Invalid Firebase Database URL",c),an(c.path)||uu("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function zQ(n,e,t,i){let r=WF[e.name];r||(r={},WF[e.name]=r);let s=r[n.toURLString()];return s&&uu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new YY(n,false,t,i),r[n.toURLString()]=s,s}(h,n,E,new RZ(n.name,t));return new GQ(D,n)}class GQ{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function QY(n,e,t){if(n.stats_=ZP(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new dM(n.repoInfo_,(i,r,s,c)=>{pj(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>gj(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,P.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new _v(n.repoInfo_,e,(i,r,s,c)=>{pj(n,i,r,s,c)},i=>{gj(n,i)},i=>{!function XY(n,e){bs(e,(t,i)=>{LF(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function FZ(n,e){const t=n.toString();return WP[t]||(WP[t]=e()),WP[t]}(n.repoInfo_,()=>new FK(n.stats_,n.server_)),n.infoData_=new MK,n.infoSyncTree_=new J4({startListening:(i,r,s,c)=>{let h=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(h=gI(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),LF(n,"connected",!1),n.serverSyncTree_=new J4({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(h,p)=>{const v=c(h,p);Za(n.eventQueue_,i._path,v)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new $c(this._repo,Nn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function HQ(n,e){const t=WF[e];(!t||t[n.key]!==n)&&uu(`Database ${e}(${n.repoInfo_}) has already been deleted.`),vj(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&uu("Cannot call "+e+" on a deleted database.")}}function Lj(){s4.IS_TRANSPORT_INITIALIZED&&lo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function qQ(){Lj(),gp.forceDisallow()}function WQ(){Lj(),A0.forceDisallow(),gp.forceAllow()}function YQ(n,e){B3(n,e)}const XQ={".sv":"timestamp"};class tX{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}_v.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},_v.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function QQ(n){O3(jd.SDK_VERSION),(0,jd._registerComponent)(new to.wA("database",(e,{instanceIdentifier:t})=>Fj(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,jd.registerVersion)(M3,"0.14.4",n),(0,jd.registerVersion)(M3,"0.14.4","esm2017")}();const sX=new no.Yd("@firebase/database-compat"),Vj=function(n){sX.warn("FIREBASE WARNING: "+n)};class cX{constructor(e){this._delegate=e}cancel(e){(0,P.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,P.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,P.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,P.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,P.Dv)("OnDisconnect.set",1,2,arguments.length),(0,P.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,P.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,P.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,P.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,Vj("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,P.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class lX{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,P.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Ip{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,P.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,P.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,P.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,P.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,P.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),EI("DataSnapshot.child","path",e,!1),new Ip(this._database,this._delegate.child(e))}hasChild(e){return(0,P.Dv)("DataSnapshot.hasChild",1,1,arguments.length),EI("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,P.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,P.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,P.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Ip(this._database,t)))}hasChildren(){return(0,P.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,P.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,P.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ka(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Vs{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,P.Dv)("Query.on",2,4,arguments.length),(0,P.Wj)("Query.on","callback",t,!1);const c=Vs.getCancelAndContextArgs_("Query.on",i,r),h=(v,E)=>{t.call(c.context,new Ip(this.database,v),E)};h.userCallback=t,h.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return qF(this._delegate,h,p),t;case"child_added":return Sj(this._delegate,h,p),t;case"child_removed":return Mj(this._delegate,h,p),t;case"child_changed":return Aj(this._delegate,h,p),t;case"child_moved":return kj(this._delegate,h,p),t;default:throw new Error((0,P.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,P.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,P.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,P.Wj)("Query.off","callback",t,!0),(0,P.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,Rj(this._delegate,e,r)}else Rj(this._delegate,e)}get(){return yQ(this._delegate).then(e=>new Ip(this.database,e))}once(e,t,i,r){(0,P.Dv)("Query.once",1,4,arguments.length),(0,P.Wj)("Query.once","callback",t,!0);const s=Vs.getCancelAndContextArgs_("Query.once",i,r),c=new P.BH,h=(v,E)=>{const D=new Ip(this.database,v);t&&t.call(s.context,D,E),c.resolve(D)};h.userCallback=t,h.context=s.context;const p=v=>{s.cancel&&s.cancel.call(s.context,v),c.reject(v)};switch(e){case"value":qF(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":Sj(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":Mj(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":Aj(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":kj(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,P.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,P.Dv)("Query.limitToFirst",1,1,arguments.length),new Vs(this.database,Xl(this._delegate,function DQ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new TQ(n)}(e)))}limitToLast(e){return(0,P.Dv)("Query.limitToLast",1,1,arguments.length),new Vs(this.database,Xl(this._delegate,function AQ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new SQ(n)}(e)))}orderByChild(e){return(0,P.Dv)("Query.orderByChild",1,1,arguments.length),new Vs(this.database,Xl(this._delegate,function MQ(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return EI("orderByChild","path",n,!1),new kQ(n)}(e)))}orderByKey(){return(0,P.Dv)("Query.orderByKey",0,0,arguments.length),new Vs(this.database,Xl(this._delegate,function OQ(){return new RQ}()))}orderByPriority(){return(0,P.Dv)("Query.orderByPriority",0,0,arguments.length),new Vs(this.database,Xl(this._delegate,function PQ(){return new NQ}()))}orderByValue(){return(0,P.Dv)("Query.orderByValue",0,0,arguments.length),new Vs(this.database,Xl(this._delegate,function LQ(){return new FQ}()))}startAt(e=null,t){return(0,P.Dv)("Query.startAt",0,2,arguments.length),new Vs(this.database,Xl(this._delegate,function EQ(n=null,e){return xI("startAt","key",e,!0),new Nj(n,e)}(e,t)))}startAfter(e=null,t){return(0,P.Dv)("Query.startAfter",0,2,arguments.length),new Vs(this.database,Xl(this._delegate,function IQ(n,e){return xI("startAfter","key",e,!0),new CQ(n,e)}(e,t)))}endAt(e=null,t){return(0,P.Dv)("Query.endAt",0,2,arguments.length),new Vs(this.database,Xl(this._delegate,function bQ(n,e){return xI("endAt","key",e,!0),new Oj(n,e)}(e,t)))}endBefore(e=null,t){return(0,P.Dv)("Query.endBefore",0,2,arguments.length),new Vs(this.database,Xl(this._delegate,function xQ(n,e){return xI("endBefore","key",e,!0),new wQ(n,e)}(e,t)))}equalTo(e,t){return(0,P.Dv)("Query.equalTo",1,2,arguments.length),new Vs(this.database,Xl(this._delegate,function VQ(n,e){return xI("equalTo","key",e,!0),new BQ(n,e)}(e,t)))}toString(){return(0,P.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,P.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,P.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Vs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,P.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,P.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,P.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Ka(this.database,new $c(this._delegate._repo,this._delegate._path))}}class Ka extends Vs{constructor(e,t){super(e,new ra(t._repo,t._path,new cM,!1)),this.database=e,this._delegate=t}getKey(){return(0,P.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,P.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Ka(this.database,Ev(this._delegate,e))}getParent(){(0,P.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ka(this.database,e):null}getRoot(){return(0,P.Dv)("Reference.root",0,0,arguments.length),new Ka(this.database,this._delegate.root)}set(e,t){(0,P.Dv)("Reference.set",1,2,arguments.length),(0,P.Wj)("Reference.set","onComplete",t,!0);const i=GF(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,P.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,Vj("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}zc("Reference.update",this._delegate._path),(0,P.Wj)("Reference.update","onComplete",t,!0);const i=vQ(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,P.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,P.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function _Q(n,e,t){if(zc("setWithPriority",n._path),mu("setWithPriority",e,n._path,!1),FF("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new P.BH;return BF(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,P.Dv)("Reference.remove",0,1,arguments.length),(0,P.Wj)("Reference.remove","onComplete",e,!0);const t=function pQ(n){return zc("remove",n._path),GF(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,P.Dv)("Reference.transaction",1,3,arguments.length),(0,P.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,P.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,P.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function nX(n,e,t){var i;if(n=(0,P.m9)(n),zc("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new P.BH,h=qF(n,()=>{});return function aQ(n,e,t,i,r,s){L0(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:P3(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=UF(n,e,void 0);c.currentInputSnapshot=h;const p=c.update(h.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{wI("transaction failed: Data returned ",p,c.path),c.status=0;const v=IM(n.transactionQueueTree_,e),E=wv(v)||[];let D;E.push(c),OF(v,E),"object"==typeof p&&null!==p&&(0,P.r3)(p,".priority")?(D=(0,P.DV)(p,".priority"),(0,P.hu)(bI(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(EM(n.serverSyncTree_,e)||Kt.EMPTY_NODE).getPriority().val();const M=CI(n),N=ir(p,D),U=kF(N,h,M);c.currentOutputSnapshotRaw=N,c.currentOutputSnapshotResolved=U,c.currentWriteId=AM(n);const K=EF(n.serverSyncTree_,e,U,c.currentWriteId,c.applyLocally);Za(n.eventQueue_,e,K),kM(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,v,E)=>{let D=null;p?s.reject(p):(D=new xv(E,new $c(n._repo,n._path),Ei),s.resolve(new tX(v,D)))},h,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new lX(s.committed,new Ip(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,P.Dv)("Reference.setPriority",1,2,arguments.length),(0,P.Wj)("Reference.setPriority","onComplete",t,!0);const i=function gQ(n,e){n=(0,P.m9)(n),zc("setPriority",n._path),FF("setPriority",e,!1);const t=new P.BH;return BF(n._repo,ji(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,P.Dv)("Reference.push",0,2,arguments.length),(0,P.Wj)("Reference.push","onComplete",t,!0);const i=function mQ(n,e){n=(0,P.m9)(n),zc("push",n._path),mu("push",e,n._path,!0);const t=mj(n._repo),i=fQ(t),r=Ev(n,i),s=Ev(n,i);let c;return c=null!=e?GF(s,e).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new Ka(this.database,c));t&&r.then(()=>t(null),c=>t(c));const s=new Ka(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return zc("Reference.onDisconnect",this._delegate._path),new cX(new Ij(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class DI{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:qQ,forceLongPolling:WQ}}useEmulator(e,t,i={}){!function Bj(n,e,t,i={}){(n=(0,P.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&uu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&uu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new rI(rI.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,P.Sg)(i.mockUserToken,n.app.options.projectId);s=new rI(c)}!function jQ(n,e,t,i){n.repoInfo_=new GP(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,P.Dv)("database.ref",0,1,arguments.length),e instanceof Ka){const t=Dj(this._delegate,e.toString());return new Ka(this,t)}{const t=Tj(this._delegate,e);return new Ka(this,t)}}refFromURL(e){(0,P.Dv)("database.refFromURL",1,1,arguments.length);const i=Dj(this._delegate,e);return new Ka(this,i)}goOffline(){return(0,P.Dv)("database.goOffline",0,0,arguments.length),function ZQ(n){(n=(0,P.m9)(n))._checkNotDeleted("goOffline"),vj(n._repo)}(this._delegate)}goOnline(){return(0,P.Dv)("database.goOnline",0,0,arguments.length),function KQ(n){(n=(0,P.m9)(n))._checkNotDeleted("goOnline"),function oQ(n){n.persistentConnection_&&n.persistentConnection_.resume(fj)}(n._repo)}(this._delegate)}}DI.ServerValue={TIMESTAMP:function JQ(){return XQ}(),increment:n=>function eX(n){return{".sv":{increment:n}}}(n)};var uX=Object.freeze({__proto__:null,initStandalone:function dX({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){O3(t);const c=new to.zt("auth-internal",new to.H0("database-standalone"));return c.setComponent(new to.wA("auth-internal",()=>i,"PRIVATE")),{instance:new DI(Fj(n,c,void 0,e,s),n),namespace:r}}});const hX=DI.ServerValue;function Uj(n){return null==n}function jj(n){return"function"==typeof n.set}function Hj(n,e){return jj(e)?e:n.ref(e)}function zj(n,e){if(function mX(n){return"string"==typeof n}(n))return e.stringCase();if(jj(n))return e.firebaseCase();if(function pX(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function SI(n,e,t="on",i=pg.z){return new ii.y(r=>{let s=null;return s=n[t](e,(c,h)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,ct.U)(r=>{const{snapshot:s,prevKey:c}=r;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:c,key:h}}),(0,BO.B)())}function $j(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function vX(n,e){const{payload:t,prevKey:i,key:r}=e,s=$j(n,r),c=function _X(n,e){if(Uj(e))return 0;{const t=$j(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(p=>{const v={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,v],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function Gj(n){return(Uj(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function qj(n,e,t){return function gX(n,e,t){return SI(n,"value","once",t).pipe((0,Yn.w)(i=>{const r=[(0,lt.of)(i)];return e.forEach(s=>r.push(SI(n,s,"on",t))),(0,IC.T)(...r).pipe(Qr(vX,[]))}),(0,bw.x)())}(n,e=Gj(e),t)}function Wj(n,e,t){const i=(e=Gj(e)).map(r=>SI(n,r,"on",t));return(0,IC.T)(...i)}function Zj(n,e){return function(i,r){return zj(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function xX(n){return function(t){return t?zj(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function Kj(n,e){return function(){return SI(n,"value","on",e)}}!function fX(n){n.INTERNAL.registerComponent(new to.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new DI(r,i)},"PUBLIC").setServiceProps({Reference:Ka,Query:Vs,Database:DI,DataSnapshot:Ip,enableLogging:YQ,INTERNAL:uX,ServerValue:hX}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(u1.Z);const IX=new d.OlP("angularfire2.realtimeDatabaseURL"),TX=new d.OlP("angularfire2.database.use-emulator");let DX=(()=>{class n{constructor(t,i,r,s,c,h,p,v,E,D,M,N,U,K,X){this.schedulers=h;const Ie=p,ze=(0,Er.on)(t,c,i);v&&pN(ze,c,E,M,N,U,D,K),this.database=(0,Er.cc)(`${ze.name}.database.${r}`,"AngularFireDatabase",ze.name,()=>{const Ge=c.runOutsideAngular(()=>ze.database(r||void 0));return Ie&&Ge.useEmulator(...Ie),Ge},[Ie])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>Hj(this.database,t));let s=r;return i&&(s=i(r)),function EX(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Zj(i,"update"),set:Zj(i,"set"),push:r=>i.push(r),remove:xX(i),snapshotChanges:r=>qj(n,r,t).pipe(En.iC),stateChanges:r=>Wj(n,r,t).pipe(En.iC),auditTrail:r=>function yX(n,e,t){return function wX(n,e,t){return function bX(n,e){return SI(n,"value","on",e).pipe((0,ct.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function vZ(...n){const e=(0,ls.jO)(n);return(0,Xi.e)((t,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),h=!1;for(let p=0;p<r;p++)(0,Ed.Xf)(n[p]).subscribe((0,kn.x)(i,v=>{s[p]=v,!h&&!c[p]&&(c[p]=!0,(h=c.every(Ds.y))&&(c=null))},hl.Z));t.subscribe((0,kn.x)(i,p=>{if(h){const v=[p,...s];i.next(e?e(...v):v)}}))})}(e),(0,ct.U)(([r,s])=>{const c=r.lastKeyToLoad,h=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:h}}),function yZ(n){return(0,Xi.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,kn.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,ct.U)(r=>r.actions))}(n,Wj(n,e).pipe(Qr((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(En.iC),valueChanges:(r,s)=>qj(n,r,t).pipe((0,ct.U)(h=>h.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),En.iC)}}(s,this)}object(t){return function CX(n,e){return{query:n,snapshotChanges:()=>Kj(n,e.schedulers.outsideAngular)().pipe(En.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>Kj(n,e.schedulers.outsideAngular)().pipe(En.iC,(0,ct.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Hj(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Er.Dh),d.LFG(Er.xv,8),d.LFG(IX,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(En.HU),d.LFG(TX,8),d.LFG(AC,8),d.LFG(lN,8),d.LFG(dN,8),d.LFG(uN,8),d.LFG(hN,8),d.LFG(fN,8),d.LFG(mN,8),d.LFG(SC,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),SX=(()=>{class n{constructor(){YA.Z.registerVersion("angularfire",En.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[DX]}),n})();var Yj=F(1954);const AI={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=AI;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Ta.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=AI;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=AI;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Qj=F(2631);new class kX extends Qj.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class AX extends Yj.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=AI.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(AI.cancelAnimationFrame(t),e._scheduled=void 0)}});let ZF,RX=1;const PM={};function Xj(n){return n in PM&&(delete PM[n],!0)}const OX={setImmediate(n){const e=RX++;return PM[e]=!0,ZF||(ZF=Promise.resolve()),ZF.then(()=>Xj(e)&&n()),e},clearImmediate(n){Xj(n)}},{setImmediate:NX,clearImmediate:PX}=OX,FM={setImmediate(...n){const{delegate:e}=FM;return(e?.setImmediate||NX)(...n)},clearImmediate(n){const{delegate:e}=FM;return(e?.clearImmediate||PX)(n)},delegate:void 0};new class LX extends Qj.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class FX extends Yj.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=FM.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(FM.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});let Jj=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),e})(),UX=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[mn,xi,Jj,Jj,xi]}),e})(),tH=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),e})(),XX=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[tH,xi,nk,mn,tH,xi]}),e})(),JX=(()=>{var n;class e{}return(n=e).\u0275fac=function(i){return new(i||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[$8]}),n.\u0275inj=d.cJS({providers:[op,Dk,eP],imports:[fd,D8,XG,V9,ZN,bW,Er.hO.initializeApp(TV_firebase),u6,i6,_Z,SX,Rk,yG,HC,rk,Rk,FC,rk,tP,UX,DP,sk,XX]}),e})();Ni().bootstrapModule(JX).catch(n=>console.error(n))},5619:(mt,Se,F)=>{F.d(Se,{X:()=>ie});var d=F(8645);class ie extends d.x{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const oe=super._subscribe(te);return!oe.closed&&te.next(this._value),oe}getValue(){const{hasError:te,thrownError:oe,_value:de}=this;if(te)throw oe;return this._throwIfClosed(),de}next(te){super.next(this._value=te)}}},5592:(mt,Se,F)=>{F.d(Se,{y:()=>Oe});var d=F(305),ie=F(7394),B=F(4850),te=F(8407),oe=F(2653),de=F(4674),ve=F(1441);let Oe=(()=>{class re{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Qe=new re;return Qe.source=this,Qe.operator=Me,Qe}subscribe(Me,Qe,Ne){const Xe=function G(re){return re&&re instanceof d.Lv||function j(re){return re&&(0,de.m)(re.next)&&(0,de.m)(re.error)&&(0,de.m)(re.complete)}(re)&&(0,ie.Nn)(re)}(Me)?Me:new d.Hp(Me,Qe,Ne);return(0,ve.x)(()=>{const{operator:Pe,source:_t}=this;Xe.add(Pe?Pe.call(Xe,_t):_t?this._subscribe(Xe):this._trySubscribe(Xe))}),Xe}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Qe){Me.error(Qe)}}forEach(Me,Qe){return new(Qe=fe(Qe))((Ne,Xe)=>{const Pe=new d.Hp({next:_t=>{try{Me(_t)}catch(pt){Xe(pt),Pe.unsubscribe()}},error:Xe,complete:Ne});this.subscribe(Pe)})}_subscribe(Me){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(Me)}[B.L](){return this}pipe(...Me){return(0,te.U)(Me)(this)}toPromise(Me){return new(Me=fe(Me))((Qe,Ne)=>{let Xe;this.subscribe(Pe=>Xe=Pe,Pe=>Ne(Pe),()=>Qe(Xe))})}}return re.create=He=>new re(He),re})();function fe(re){var He;return null!==(He=re??oe.config.Promise)&&void 0!==He?He:Promise}},8645:(mt,Se,F)=>{F.d(Se,{x:()=>ve});var d=F(5592),ie=F(7394);const te=(0,F(2306).d)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=F(9039),de=F(1441);let ve=(()=>{class fe extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const re=new Oe(this,this);return re.operator=G,re}_throwIfClosed(){if(this.closed)throw new te}next(G){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(G)}})}error(G){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:re}=this;for(;re.length;)re.shift().error(G)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:re,isStopped:He,observers:Me}=this;return re||He?ie.Lc:(this.currentObservers=null,Me.push(G),new ie.w0(()=>{this.currentObservers=null,(0,oe.P)(Me,G)}))}_checkFinalizedStatuses(G){const{hasError:re,thrownError:He,isStopped:Me}=this;re?G.error(He):Me&&G.complete()}asObservable(){const G=new d.y;return G.source=this,G}}return fe.create=(j,G)=>new Oe(j,G),fe})();class Oe extends ve{constructor(j,G){super(),this.destination=j,this.source=G}next(j){var G,re;null===(re=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===re||re.call(G,j)}error(j){var G,re;null===(re=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===re||re.call(G,j)}complete(){var j,G;null===(G=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===G||G.call(j)}_subscribe(j){var G,re;return null!==(re=null===(G=this.source)||void 0===G?void 0:G.subscribe(j))&&void 0!==re?re:ie.Lc}}},305:(mt,Se,F)=>{F.d(Se,{Hp:()=>Ne,Lv:()=>re});var d=F(4674),ie=F(7394),B=F(2653),te=F(3894),oe=F(2420);const de=fe("C",void 0,void 0);function fe(ae,Ee,se){return{kind:ae,value:Ee,error:se}}var j=F(7599),G=F(1441);class re extends ie.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,ie.Nn)(Ee)&&Ee.add(this)):this.destination=pt}static create(Ee,se,Te){return new Ne(Ee,se,Te)}next(Ee){this.isStopped?_t(function Oe(ae){return fe("N",ae,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?_t(function ve(ae){return fe("E",void 0,ae)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?_t(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Me(ae,Ee){return He.call(ae,Ee)}class Qe{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:se}=this;if(se.next)try{se.next(Ee)}catch(Te){Xe(Te)}}error(Ee){const{partialObserver:se}=this;if(se.error)try{se.error(Ee)}catch(Te){Xe(Te)}else Xe(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(se){Xe(se)}}}class Ne extends re{constructor(Ee,se,Te){let Be;if(super(),(0,d.m)(Ee)||!Ee)Be={next:Ee??void 0,error:se??void 0,complete:Te??void 0};else{let ue;this&&B.config.useDeprecatedNextContext?(ue=Object.create(Ee),ue.unsubscribe=()=>this.unsubscribe(),Be={next:Ee.next&&Me(Ee.next,ue),error:Ee.error&&Me(Ee.error,ue),complete:Ee.complete&&Me(Ee.complete,ue)}):Be=Ee}this.destination=new Qe(Be)}}function Xe(ae){B.config.useDeprecatedSynchronousErrorHandling?(0,G.O)(ae):(0,te.h)(ae)}function _t(ae,Ee){const{onStoppedNotification:se}=B.config;se&&j.z.setTimeout(()=>se(ae,Ee))}const pt={closed:!0,next:oe.Z,error:function Pe(ae){throw ae},complete:oe.Z}},7394:(mt,Se,F)=>{F.d(Se,{Lc:()=>de,w0:()=>oe,Nn:()=>ve});var d=F(4674);const B=(0,F(2306).d)(fe=>function(G){fe(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((re,He)=>`${He+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var te=F(9039);class oe{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Me of G)Me.remove(this);else G.remove(this);const{initialTeardown:re}=this;if((0,d.m)(re))try{re()}catch(Me){j=Me instanceof B?Me.errors:[Me]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Me of He)try{Oe(Me)}catch(Qe){j=j??[],Qe instanceof B?j=[...j,...Qe.errors]:j.push(Qe)}}if(j)throw new B(j)}}add(j){var G;if(j&&j!==this)if(this.closed)Oe(j);else{if(j instanceof oe){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(j)}}_hasParent(j){const{_parentage:G}=this;return G===j||Array.isArray(G)&&G.includes(j)}_addParent(j){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(j),G):G?[G,j]:j}_removeParent(j){const{_parentage:G}=this;G===j?this._parentage=null:Array.isArray(G)&&(0,te.P)(G,j)}remove(j){const{_finalizers:G}=this;G&&(0,te.P)(G,j),j instanceof oe&&j._removeParent(this)}}oe.EMPTY=(()=>{const fe=new oe;return fe.closed=!0,fe})();const de=oe.EMPTY;function ve(fe){return fe instanceof oe||fe&&"closed"in fe&&(0,d.m)(fe.remove)&&(0,d.m)(fe.add)&&(0,d.m)(fe.unsubscribe)}function Oe(fe){(0,d.m)(fe)?fe():fe.unsubscribe()}},2653:(mt,Se,F)=>{F.d(Se,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(mt,Se,F)=>{F.d(Se,{E:()=>ie});const ie=new(F(5592).y)(oe=>oe.complete())},2459:(mt,Se,F)=>{F.d(Se,{D:()=>Ee});var d=F(4829),ie=F(3093),B=F(5137),de=F(5592),Oe=F(4971),fe=F(4674),j=F(7103);function re(se,Te){if(!se)throw new Error("Iterable cannot be null");return new de.y(Be=>{(0,j.f)(Be,Te,()=>{const ue=se[Symbol.asyncIterator]();(0,j.f)(Be,Te,()=>{ue.next().then(Y=>{Y.done?Be.complete():Be.next(Y.value)})},0,!0)})})}var He=F(8382),Me=F(4026),Qe=F(4266),Ne=F(3664),Xe=F(5726),Pe=F(9853),_t=F(541);function Ee(se,Te){return Te?function ae(se,Te){if(null!=se){if((0,He.c)(se))return function te(se,Te){return(0,d.Xf)(se).pipe((0,B.R)(Te),(0,ie.Q)(Te))}(se,Te);if((0,Qe.z)(se))return function ve(se,Te){return new de.y(Be=>{let ue=0;return Te.schedule(function(){ue===se.length?Be.complete():(Be.next(se[ue++]),Be.closed||this.schedule())})})}(se,Te);if((0,Me.t)(se))return function oe(se,Te){return(0,d.Xf)(se).pipe((0,B.R)(Te),(0,ie.Q)(Te))}(se,Te);if((0,Xe.D)(se))return re(se,Te);if((0,Ne.T)(se))return function G(se,Te){return new de.y(Be=>{let ue;return(0,j.f)(Be,Te,()=>{ue=se[Oe.h](),(0,j.f)(Be,Te,()=>{let Y,We;try{({value:Y,done:We}=ue.next())}catch(vt){return void Be.error(vt)}We?Be.complete():Be.next(Y)},0,!0)}),()=>(0,fe.m)(ue?.return)&&ue.return()})}(se,Te);if((0,_t.L)(se))return function pt(se,Te){return re((0,_t.Q)(se),Te)}(se,Te)}throw(0,Pe.z)(se)}(se,Te):(0,d.Xf)(se)}},4829:(mt,Se,F)=>{F.d(Se,{Xf:()=>He});var d=F(7582),ie=F(4266),B=F(4026),te=F(5592),oe=F(8382),de=F(5726),ve=F(9853),Oe=F(3664),fe=F(541),j=F(4674),G=F(3894),re=F(4850);function He(ae){if(ae instanceof te.y)return ae;if(null!=ae){if((0,oe.c)(ae))return function Me(ae){return new te.y(Ee=>{const se=ae[re.L]();if((0,j.m)(se.subscribe))return se.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ae);if((0,ie.z)(ae))return function Qe(ae){return new te.y(Ee=>{for(let se=0;se<ae.length&&!Ee.closed;se++)Ee.next(ae[se]);Ee.complete()})}(ae);if((0,B.t)(ae))return function Ne(ae){return new te.y(Ee=>{ae.then(se=>{Ee.closed||(Ee.next(se),Ee.complete())},se=>Ee.error(se)).then(null,G.h)})}(ae);if((0,de.D)(ae))return Pe(ae);if((0,Oe.T)(ae))return function Xe(ae){return new te.y(Ee=>{for(const se of ae)if(Ee.next(se),Ee.closed)return;Ee.complete()})}(ae);if((0,fe.L)(ae))return function _t(ae){return Pe((0,fe.Q)(ae))}(ae)}throw(0,ve.z)(ae)}function Pe(ae){return new te.y(Ee=>{(function pt(ae,Ee){var se,Te,Be,ue;return(0,d.mG)(this,void 0,void 0,function*(){try{for(se=(0,d.KL)(ae);!(Te=yield se.next()).done;)if(Ee.next(Te.value),Ee.closed)return}catch(Y){Be={error:Y}}finally{try{Te&&!Te.done&&(ue=se.return)&&(yield ue.call(se))}finally{if(Be)throw Be.error}}Ee.complete()})})(ae,Ee).catch(se=>Ee.error(se))})}},3019:(mt,Se,F)=>{F.d(Se,{T:()=>de});var d=F(7537),ie=F(4829),B=F(6232),te=F(4564),oe=F(2459);function de(...ve){const Oe=(0,te.yG)(ve),fe=(0,te._6)(ve,1/0),j=ve;return j.length?1===j.length?(0,ie.Xf)(j[0]):(0,d.J)(fe)((0,oe.D)(j,Oe)):B.E}},2096:(mt,Se,F)=>{F.d(Se,{of:()=>B});var d=F(4564),ie=F(2459);function B(...te){const oe=(0,d.yG)(te);return(0,ie.D)(te,oe)}},8251:(mt,Se,F)=>{F.d(Se,{x:()=>ie});var d=F(305);function ie(te,oe,de,ve,Oe){return new B(te,oe,de,ve,Oe)}class B extends d.Lv{constructor(oe,de,ve,Oe,fe,j){super(oe),this.onFinalize=fe,this.shouldUnsubscribe=j,this._next=de?function(G){try{de(G)}catch(re){oe.error(re)}}:super._next,this._error=Oe?function(G){try{Oe(G)}catch(re){oe.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(G){oe.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},3997:(mt,Se,F)=>{F.d(Se,{x:()=>te});var d=F(2737),ie=F(9360),B=F(8251);function te(de,ve=d.y){return de=de??oe,(0,ie.e)((Oe,fe)=>{let j,G=!0;Oe.subscribe((0,B.x)(fe,re=>{const He=ve(re);(G||!de(j,He))&&(G=!1,j=He,fe.next(re))}))})}function oe(de,ve){return de===ve}},7398:(mt,Se,F)=>{F.d(Se,{U:()=>B});var d=F(9360),ie=F(8251);function B(te,oe){return(0,d.e)((de,ve)=>{let Oe=0;de.subscribe((0,ie.x)(ve,fe=>{ve.next(te.call(oe,fe,Oe++))}))})}},7537:(mt,Se,F)=>{F.d(Se,{J:()=>B});var d=F(1631),ie=F(2737);function B(te=1/0){return(0,d.z)(ie.y,te)}},1631:(mt,Se,F)=>{F.d(Se,{z:()=>Oe});var d=F(7398),ie=F(4829),B=F(9360),te=F(7103),oe=F(8251),ve=F(4674);function Oe(fe,j,G=1/0){return(0,ve.m)(j)?Oe((re,He)=>(0,d.U)((Me,Qe)=>j(re,Me,He,Qe))((0,ie.Xf)(fe(re,He))),G):("number"==typeof j&&(G=j),(0,B.e)((re,He)=>function de(fe,j,G,re,He,Me,Qe,Ne){const Xe=[];let Pe=0,_t=0,pt=!1;const ae=()=>{pt&&!Xe.length&&!Pe&&j.complete()},Ee=Te=>Pe<re?se(Te):Xe.push(Te),se=Te=>{Me&&j.next(Te),Pe++;let Be=!1;(0,ie.Xf)(G(Te,_t++)).subscribe((0,oe.x)(j,ue=>{He?.(ue),Me?Ee(ue):j.next(ue)},()=>{Be=!0},void 0,()=>{if(Be)try{for(Pe--;Xe.length&&Pe<re;){const ue=Xe.shift();Qe?(0,te.f)(j,Qe,()=>se(ue)):se(ue)}ae()}catch(ue){j.error(ue)}}))};return fe.subscribe((0,oe.x)(j,Ee,()=>{pt=!0,ae()})),()=>{Ne?.()}}(re,He,fe,G)))}},3093:(mt,Se,F)=>{F.d(Se,{Q:()=>te});var d=F(7103),ie=F(9360),B=F(8251);function te(oe,de=0){return(0,ie.e)((ve,Oe)=>{ve.subscribe((0,B.x)(Oe,fe=>(0,d.f)(Oe,oe,()=>Oe.next(fe),de),()=>(0,d.f)(Oe,oe,()=>Oe.complete(),de),fe=>(0,d.f)(Oe,oe,()=>Oe.error(fe),de)))})}},3020:(mt,Se,F)=>{F.d(Se,{B:()=>oe});var d=F(4829),ie=F(8645),B=F(305),te=F(9360);function oe(ve={}){const{connector:Oe=(()=>new ie.x),resetOnError:fe=!0,resetOnComplete:j=!0,resetOnRefCountZero:G=!0}=ve;return re=>{let He,Me,Qe,Ne=0,Xe=!1,Pe=!1;const _t=()=>{Me?.unsubscribe(),Me=void 0},pt=()=>{_t(),He=Qe=void 0,Xe=Pe=!1},ae=()=>{const Ee=He;pt(),Ee?.unsubscribe()};return(0,te.e)((Ee,se)=>{Ne++,!Pe&&!Xe&&_t();const Te=Qe=Qe??Oe();se.add(()=>{Ne--,0===Ne&&!Pe&&!Xe&&(Me=de(ae,G))}),Te.subscribe(se),!He&&Ne>0&&(He=new B.Hp({next:Be=>Te.next(Be),error:Be=>{Pe=!0,_t(),Me=de(pt,fe,Be),Te.error(Be)},complete:()=>{Xe=!0,_t(),Me=de(pt,j),Te.complete()}}),(0,d.Xf)(Ee).subscribe(He))})(re)}}function de(ve,Oe,...fe){if(!0===Oe)return void ve();if(!1===Oe)return;const j=new B.Hp({next:()=>{j.unsubscribe(),ve()}});return(0,d.Xf)(Oe(...fe)).subscribe(j)}},5137:(mt,Se,F)=>{F.d(Se,{R:()=>ie});var d=F(9360);function ie(B,te=0){return(0,d.e)((oe,de)=>{de.add(B.schedule(()=>oe.subscribe(de),te))})}},4664:(mt,Se,F)=>{F.d(Se,{w:()=>te});var d=F(4829),ie=F(9360),B=F(8251);function te(oe,de){return(0,ie.e)((ve,Oe)=>{let fe=null,j=0,G=!1;const re=()=>G&&!fe&&Oe.complete();ve.subscribe((0,B.x)(Oe,He=>{fe?.unsubscribe();let Me=0;const Qe=j++;(0,d.Xf)(oe(He,Qe)).subscribe(fe=(0,B.x)(Oe,Ne=>Oe.next(de?de(He,Ne,Qe,Me++):Ne),()=>{fe=null,re()}))},()=>{G=!0,re()}))})}},9397:(mt,Se,F)=>{F.d(Se,{b:()=>oe});var d=F(4674),ie=F(9360),B=F(8251),te=F(2737);function oe(de,ve,Oe){const fe=(0,d.m)(de)||ve||Oe?{next:de,error:ve,complete:Oe}:de;return fe?(0,ie.e)((j,G)=>{var re;null===(re=fe.subscribe)||void 0===re||re.call(fe);let He=!0;j.subscribe((0,B.x)(G,Me=>{var Qe;null===(Qe=fe.next)||void 0===Qe||Qe.call(fe,Me),G.next(Me)},()=>{var Me;He=!1,null===(Me=fe.complete)||void 0===Me||Me.call(fe),G.complete()},Me=>{var Qe;He=!1,null===(Qe=fe.error)||void 0===Qe||Qe.call(fe,Me),G.error(Me)},()=>{var Me,Qe;He&&(null===(Me=fe.unsubscribe)||void 0===Me||Me.call(fe)),null===(Qe=fe.finalize)||void 0===Qe||Qe.call(fe)}))}):te.y}},1954:(mt,Se,F)=>{F.d(Se,{o:()=>oe});var d=F(7394);class ie extends d.w0{constructor(ve,Oe){super()}schedule(ve,Oe=0){return this}}const B={setInterval(de,ve,...Oe){const{delegate:fe}=B;return fe?.setInterval?fe.setInterval(de,ve,...Oe):setInterval(de,ve,...Oe)},clearInterval(de){const{delegate:ve}=B;return(ve?.clearInterval||clearInterval)(de)},delegate:void 0};var te=F(9039);class oe extends ie{constructor(ve,Oe){super(ve,Oe),this.scheduler=ve,this.work=Oe,this.pending=!1}schedule(ve,Oe=0){var fe;if(this.closed)return this;this.state=ve;const j=this.id,G=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(G,j,Oe)),this.pending=!0,this.delay=Oe,this.id=null!==(fe=this.id)&&void 0!==fe?fe:this.requestAsyncId(G,this.id,Oe),this}requestAsyncId(ve,Oe,fe=0){return B.setInterval(ve.flush.bind(ve,this),fe)}recycleAsyncId(ve,Oe,fe=0){if(null!=fe&&this.delay===fe&&!1===this.pending)return Oe;null!=Oe&&B.clearInterval(Oe)}execute(ve,Oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(ve,Oe);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,Oe){let j,fe=!1;try{this.work(ve)}catch(G){fe=!0,j=G||new Error("Scheduled action threw falsy error")}if(fe)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ve,scheduler:Oe}=this,{actions:fe}=Oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(fe,this),null!=ve&&(this.id=this.recycleAsyncId(Oe,ve,null)),this.delay=null,super.unsubscribe()}}}},2631:(mt,Se,F)=>{F.d(Se,{v:()=>B});var d=F(4552);class ie{constructor(oe,de=ie.now){this.schedulerActionCtor=oe,this.now=de}schedule(oe,de=0,ve){return new this.schedulerActionCtor(this,oe).schedule(ve,de)}}ie.now=d.l.now;class B extends ie{constructor(oe,de=ie.now){super(oe,de),this.actions=[],this._active=!1}flush(oe){const{actions:de}=this;if(this._active)return void de.push(oe);let ve;this._active=!0;do{if(ve=oe.execute(oe.state,oe.delay))break}while(oe=de.shift());if(this._active=!1,ve){for(;oe=de.shift();)oe.unsubscribe();throw ve}}}},6321:(mt,Se,F)=>{F.d(Se,{z:()=>B});var d=F(1954);const B=new(F(2631).v)(d.o)},4552:(mt,Se,F)=>{F.d(Se,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},7599:(mt,Se,F)=>{F.d(Se,{z:()=>d});const d={setTimeout(ie,B,...te){const{delegate:oe}=d;return oe?.setTimeout?oe.setTimeout(ie,B,...te):setTimeout(ie,B,...te)},clearTimeout(ie){const{delegate:B}=d;return(B?.clearTimeout||clearTimeout)(ie)},delegate:void 0}},4971:(mt,Se,F)=>{F.d(Se,{h:()=>ie});const ie=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(mt,Se,F)=>{F.d(Se,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(mt,Se,F)=>{F.d(Se,{_6:()=>de,jO:()=>te,yG:()=>oe});var d=F(4674);function B(ve){return ve[ve.length-1]}function te(ve){return(0,d.m)(B(ve))?ve.pop():void 0}function oe(ve){return function ie(ve){return ve&&(0,d.m)(ve.schedule)}(B(ve))?ve.pop():void 0}function de(ve,Oe){return"number"==typeof B(ve)?ve.pop():Oe}},9039:(mt,Se,F)=>{function d(ie,B){if(ie){const te=ie.indexOf(B);0<=te&&ie.splice(te,1)}}F.d(Se,{P:()=>d})},2306:(mt,Se,F)=>{function d(ie){const te=ie(oe=>{Error.call(oe),oe.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}F.d(Se,{d:()=>d})},1441:(mt,Se,F)=>{F.d(Se,{O:()=>te,x:()=>B});var d=F(2653);let ie=null;function B(oe){if(d.config.useDeprecatedSynchronousErrorHandling){const de=!ie;if(de&&(ie={errorThrown:!1,error:null}),oe(),de){const{errorThrown:ve,error:Oe}=ie;if(ie=null,ve)throw Oe}}else oe()}function te(oe){d.config.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=oe)}},7103:(mt,Se,F)=>{function d(ie,B,te,oe=0,de=!1){const ve=B.schedule(function(){te(),de?ie.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(ie.add(ve),!de)return ve}F.d(Se,{f:()=>d})},2737:(mt,Se,F)=>{function d(ie){return ie}F.d(Se,{y:()=>d})},4266:(mt,Se,F)=>{F.d(Se,{z:()=>d});const d=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},5726:(mt,Se,F)=>{F.d(Se,{D:()=>ie});var d=F(4674);function ie(B){return Symbol.asyncIterator&&(0,d.m)(B?.[Symbol.asyncIterator])}},4674:(mt,Se,F)=>{function d(ie){return"function"==typeof ie}F.d(Se,{m:()=>d})},8382:(mt,Se,F)=>{F.d(Se,{c:()=>B});var d=F(4850),ie=F(4674);function B(te){return(0,ie.m)(te[d.L])}},3664:(mt,Se,F)=>{F.d(Se,{T:()=>B});var d=F(4971),ie=F(4674);function B(te){return(0,ie.m)(te?.[d.h])}},4026:(mt,Se,F)=>{F.d(Se,{t:()=>ie});var d=F(4674);function ie(B){return(0,d.m)(B?.then)}},541:(mt,Se,F)=>{F.d(Se,{L:()=>te,Q:()=>B});var d=F(7582),ie=F(4674);function B(oe){return(0,d.FC)(this,arguments,function*(){const ve=oe.getReader();try{for(;;){const{value:Oe,done:fe}=yield(0,d.qq)(ve.read());if(fe)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Oe)}}finally{ve.releaseLock()}})}function te(oe){return(0,ie.m)(oe?.getReader)}},9360:(mt,Se,F)=>{F.d(Se,{A:()=>ie,e:()=>B});var d=F(4674);function ie(te){return(0,d.m)(te?.lift)}function B(te){return oe=>{if(ie(oe))return oe.lift(function(de){try{return te(de,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(mt,Se,F)=>{function d(){}F.d(Se,{Z:()=>d})},8407:(mt,Se,F)=>{F.d(Se,{U:()=>B,z:()=>ie});var d=F(2737);function ie(...te){return B(te)}function B(te){return 0===te.length?d.y:1===te.length?te[0]:function(de){return te.reduce((ve,Oe)=>Oe(ve),de)}}},3894:(mt,Se,F)=>{F.d(Se,{h:()=>B});var d=F(2653),ie=F(7599);function B(te){ie.z.setTimeout(()=>{const{onUnhandledError:oe}=d.config;if(!oe)throw te;oe(te)})}},9853:(mt,Se,F)=>{function d(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Se,{z:()=>d})},5879:(mt,Se,F)=>{F.d(Se,{$8M:()=>Dd,$WT:()=>fo,$Z:()=>Ag,AFp:()=>tm,ALo:()=>T_,AaK:()=>re,CHM:()=>Is,CRH:()=>Mb,EJc:()=>GS,EiD:()=>nT,EpF:()=>pD,F$t:()=>gx,F4k:()=>Dm,FYo:()=>_y,FiY:()=>Qu,Gf:()=>bE,GfV:()=>bT,Gpc:()=>Qe,HDt:()=>WS,Hsn:()=>_D,Ikx:()=>a_,JOm:()=>Ld,JVY:()=>YI,JZr:()=>pt,Jf7:()=>Eg,KtG:()=>gd,L6k:()=>QI,LAX:()=>KM,LFG:()=>Rt,LSH:()=>ug,Lbi:()=>pg,Lck:()=>Fm,MAs:()=>io,MMx:()=>aS,MR2:()=>_w,NdJ:()=>Ah,O4$:()=>qo,Ojb:()=>bw,OlP:()=>Rn,Oqu:()=>ob,P3R:()=>o1,PXZ:()=>rO,Q6J:()=>Qg,QGY:()=>Ns,QbO:()=>yw,Qsj:()=>yT,R0b:()=>zr,RDi:()=>GI,Rgc:()=>ta,SBq:()=>_h,Sil:()=>KS,Suo:()=>kb,TTD:()=>dd,TgZ:()=>ja,Udp:()=>Rh,VuI:()=>CO,W1O:()=>kS,X6Q:()=>cO,XFs:()=>Tt,Xpm:()=>ed,Xq5:()=>$y,Xts:()=>Jf,Y36:()=>zd,YKP:()=>Bl,YNc:()=>dD,Yjl:()=>wu,Yz7:()=>gt,Z0I:()=>hn,ZZ4:()=>ep,_Bn:()=>oS,_UZ:()=>le,_c5:()=>uC,_uU:()=>qr,aQg:()=>tp,c2e:()=>Vb,cJS:()=>Sn,cg1:()=>c_,dDg:()=>nO,dqk:()=>fn,eBb:()=>ZM,eFA:()=>qb,eJc:()=>IE,ekj:()=>Ex,eoX:()=>WE,f3M:()=>jt,g9A:()=>dy,h0i:()=>jh,hGG:()=>vO,hij:()=>i_,iGM:()=>AS,ifc:()=>xs,ip1:()=>Bb,jDz:()=>E_,kL8:()=>Vx,kcU:()=>ct,lG2:()=>tc,lcZ:()=>gS,lnq:()=>kx,lqb:()=>Tl,lri:()=>nA,mCW:()=>lg,n5z:()=>Yo,n_E:()=>Tr,oAB:()=>Vo,oxw:()=>px,pB0:()=>YM,q3G:()=>Xf,q4F:()=>rm,qFp:()=>MA,qLn:()=>kc,qOj:()=>Ml,qZA:()=>Tm,qzn:()=>hh,rWj:()=>qE,rg0:()=>Pu,s9C:()=>_x,sBO:()=>lO,s_b:()=>M_,soG:()=>Zm,tb:()=>KE,tp0:()=>Oa,uIk:()=>ym,vHH:()=>ae,vpe:()=>Gn,wAp:()=>so,xi3:()=>hE,xp6:()=>Uw,z2F:()=>su,z3N:()=>El,zSh:()=>cy,zs3:()=>Jo});var d=F(8645),ie=F(7394),B=F(5592),te=F(3019),oe=F(5619),de=F(2096),ve=F(3020),Oe=F(4664),fe=F(3997);function j(o){for(let a in o)if(o[a]===j)return a;throw Error("Could not find renamed property on target object.")}function G(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function re(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(re).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function He(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const Me=j({__forward_ref__:j});function Qe(o){return o.__forward_ref__=Qe,o.toString=function(){return re(this())},o}function Ne(o){return Xe(o)?o():o}function Xe(o){return"function"==typeof o&&o.hasOwnProperty(Me)&&o.__forward_ref__===Qe}function Pe(o){return o&&!!o.\u0275providers}const pt="https://g.co/ng/security#xss";class ae extends Error{constructor(a,l){super(function Ee(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,l)),this.code=a}}function se(o){return"string"==typeof o?o:null==o?"":String(o)}function We(o,a){throw new ae(-201,!1)}function Je(o,a){null==o&&function Ke(o,a,l,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${l} ${u} ${a} <=Actual]`))}(a,o,null,"!=")}function gt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Sn(o){return{providers:o.providers||[],imports:o.imports||[]}}function Zn(o){return Si(o,ti)||Si(o,js)}function hn(o){return null!==Zn(o)}function Si(o,a){return o.hasOwnProperty(a)?o[a]:null}function Sr(o){return o&&(o.hasOwnProperty(vr)||o.hasOwnProperty(sa))?o[vr]:null}const ti=j({\u0275prov:j}),vr=j({\u0275inj:j}),js=j({ngInjectableDef:j}),sa=j({ngInjectorDef:j});var Tt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(Tt||{});let Mt;function xn(o){const a=Mt;return Mt=o,a}function Bn(o,a,l){const u=Zn(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&Tt.Optional?null:void 0!==a?a:void We(re(o))}const fn=globalThis,Ze={},et="__NG_DI_FLAG__",bt="ngTempTokenPath",z=/\n/gm,Q="__source";let Ae;function at(o){const a=Ae;return Ae=o,a}function Bt(o,a=Tt.Default){if(void 0===Ae)throw new ae(-203,!1);return null===Ae?Bn(o,void 0,a):Ae.get(o,a&Tt.Optional?null:void 0,a)}function Rt(o,a=Tt.Default){return(function Ft(){return Mt}()||Bt)(Ne(o),a)}function jt(o,a=Tt.Default){return Rt(o,hi(a))}function hi(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function nn(o){const a=[];for(let l=0;l<o.length;l++){const u=Ne(o[l]);if(Array.isArray(u)){if(0===u.length)throw new ae(900,!1);let f,g=Tt.Default;for(let y=0;y<u.length;y++){const x=u[y],I=Po(x);"number"==typeof I?-1===I?f=x.token:g|=I:f=x}a.push(Rt(f,g))}else a.push(Rt(u))}return a}function zi(o,a){return o[et]=a,o.prototype[et]=a,o}function Po(o){return o[et]}function Gs(o){return{toString:o}.toString()}var Fo=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Fo||{}),xs=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(xs||{});const Es={},Yt=[],Lo=j({\u0275cmp:j}),Xa=j({\u0275dir:j}),qc=j({\u0275pipe:j}),df=j({\u0275mod:j}),qs=j({\u0275fac:j}),oa=j({__NG_ELEMENT_ID__:j}),Ja=j({__NG_ENV_ID__:j});function _u(o,a,l){let u=o.length;for(;;){const f=o.indexOf(a,l);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=a.length;if(f+g===u||o.charCodeAt(f+g)<=32)return f}l=f+1}}function Wc(o,a,l){let u=0;for(;u<l.length;){const f=l[u];if("number"==typeof f){if(0!==f)break;u++;const g=l[u++],y=l[u++],x=l[u++];o.setAttribute(a,y,x,g)}else{const g=f,y=l[++u];ss(g)?o.setProperty(a,g,y):o.setAttribute(a,g,y),u++}}return u}function vu(o){return 3===o||4===o||6===o}function ss(o){return 64===o.charCodeAt(0)}function aa(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let u=0;u<a.length;u++){const f=a[u];"number"==typeof f?l=f:0===l||Bo(o,l,f,null,-1===l||2===l?a[++u]:null)}}return o}function Bo(o,a,l,u,f){let g=0,y=o.length;if(-1===a)y=-1;else for(;g<o.length;){const x=o[g++];if("number"==typeof x){if(x===a){y=-1;break}if(x>a){y=g-1;break}}}for(;g<o.length;){const x=o[g];if("number"==typeof x)break;if(x===l){if(null===u)return void(null!==f&&(o[g+1]=f));if(u===o[g+1])return void(o[g+2]=f)}g++,null!==u&&g++,null!==f&&g++}-1!==y&&(o.splice(y,0,a),g=y+1),o.splice(g++,0,l),null!==u&&o.splice(g++,0,u),null!==f&&o.splice(g++,0,f)}const yu="ng-template";function fi(o,a,l){let u=0,f=!0;for(;u<o.length;){let g=o[u++];if("string"==typeof g&&f){const y=o[u++];if(l&&"class"===g&&-1!==_u(y.toLowerCase(),a,0))return!0}else{if(1===g){for(;u<o.length&&"string"==typeof(g=o[u++]);)if(g.toLowerCase()===a)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function kr(o){return 4===o.type&&o.value!==yu}function Tv(o,a,l){return a===(4!==o.type||l?o.value:yu)}function Dp(o,a,l){let u=4;const f=o.attrs||[],g=function Dv(o){for(let a=0;a<o.length;a++)if(vu(o[a]))return a;return o.length}(f);let y=!1;for(let x=0;x<a.length;x++){const I=a[x];if("number"!=typeof I){if(!y)if(4&u){if(u=2|1&u,""!==I&&!Tv(o,I,l)||""===I&&1===a.length){if(Mr(u))return!1;y=!0}}else{const S=8&u?I:a[++x];if(8&u&&null!==o.attrs){if(!fi(o.attrs,S,l)){if(Mr(u))return!1;y=!0}continue}const V=ca(8&u?"class":I,f,kr(o),l);if(-1===V){if(Mr(u))return!1;y=!0;continue}if(""!==S){let Z;Z=V>g?"":f[V+1].toLowerCase();const J=8&u?Z:null;if(J&&-1!==_u(J,S,0)||2&u&&S!==Z){if(Mr(u))return!1;y=!0}}}}else{if(!y&&!Mr(u)&&!Mr(I))return!1;if(y&&Mr(I))continue;y=!1,u=I|1&u}}return Mr(u)||y}function Mr(o){return 0==(1&o)}function ca(o,a,l,u){if(null===a)return-1;let f=0;if(u||!l){let g=!1;for(;f<a.length;){const y=a[f];if(y===o)return f;if(3===y||6===y)g=!0;else{if(1===y||2===y){let x=a[++f];for(;"string"==typeof x;)x=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=g?1:2}return-1}return function la(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const u=o[l];if("number"==typeof u)return-1;if(u===a)return l;l++}return-1}(a,o)}function Jl(o,a,l=!1){for(let u=0;u<a.length;u++)if(Dp(o,a[u],l))return!0;return!1}function hf(o,a){e:for(let l=0;l<a.length;l++){const u=a[l];if(o.length===u.length){for(let f=0;f<o.length;f++)if(o[f]!==u[f])continue e;return!0}}return!1}function ec(o,a){return o?":not("+a.trim()+")":a}function Zc(o){let a=o[0],l=1,u=2,f="",g=!1;for(;l<o.length;){let y=o[l];if("string"==typeof y)if(2&u){const x=o[++l];f+="["+y+(x.length>0?'="'+x+'"':"")+"]"}else 8&u?f+="."+y:4&u&&(f+=" "+y);else""!==f&&!Mr(y)&&(a+=ec(g,f),f=""),u=y,g=g||!Mr(u);l++}return""!==f&&(a+=ec(g,f)),a}function ed(o){return Gs(()=>{const a=xu(o),l={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Fo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||xs.Emulated,styles:o.styles||Yt,_:null,schemas:o.schemas||null,tView:null,id:""};Sp(l);const u=o.dependencies;return l.directiveDefs=Kc(u,!1),l.pipeDefs=Kc(u,!0),l.id=function as(o){let a=0;const l=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const f of l)a=Math.imul(31,a)+f.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(l),l})}function bu(o){return Qt(o)||ni(o)}function td(o){return null!==o}function Vo(o){return Gs(()=>({type:o.type,bootstrap:o.bootstrap||Yt,declarations:o.declarations||Yt,imports:o.imports||Yt,exports:o.exports||Yt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function nd(o,a){if(null==o)return Es;const l={};for(const u in o)if(o.hasOwnProperty(u)){let f=o[u],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),l[f]=u,a&&(a[f]=g)}return l}function tc(o){return Gs(()=>{const a=xu(o);return Sp(a),a})}function wu(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Qt(o){return o[Lo]||null}function ni(o){return o[Xa]||null}function yr(o){return o[qc]||null}function fo(o){const a=Qt(o)||ni(o)||yr(o);return null!==a&&a.standalone}function br(o,a){const l=o[df]||null;if(!l&&!0===a)throw new Error(`Type ${re(o)} does not have '\u0275mod' property.`);return l}function xu(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||Es,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Yt,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nd(o.inputs,a),outputs:nd(o.outputs)}}function Sp(o){o.features?.forEach(a=>a(o))}function Kc(o,a){if(!o)return null;const l=a?yr:bu;return()=>("function"==typeof o?o():o).map(u=>l(u)).filter(td)}const Vn=0,st=1,Dt=2,Un=3,wr=4,da=5,$i=6,Yc=7,mn=8,mo=9,nc=10,St=11,Gi=12,pf=13,po=14,jn=15,Eu=16,ua=17,Ai=18,go=19,_o=20,Uo=21,Zr=22,Qc=23,jo=24,$t=25,ic=1,rd=2,ki=7,Mi=9,qi=11;function Ri(o){return Array.isArray(o)&&"object"==typeof o[ic]}function lr(o){return Array.isArray(o)&&!0===o[ic]}function sd(o){return 0!=(4&o.flags)}function fa(o){return o.componentOffset>-1}function Kr(o){return 1==(1&o.flags)}function Rr(o){return!!o.template}function rc(o){return 0!=(512&o[Dt])}function ma(o,a){return o.hasOwnProperty(qs)?o[qs]:null}let Ii=null,pa=!1;function Or(o){const a=Ii;return Ii=o,a}const ga={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function el(o){if(!_a(o)||o.dirty){if(!o.producerMustRecompute(o)&&!ku(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function tl(o){o.dirty=!0,function bf(o){if(void 0===o.liveConsumerNode)return;const a=pa;pa=!0;try{for(const l of o.liveConsumerNode)l.dirty||tl(l)}finally{pa=a}}(o),o.consumerMarkedDirty?.(o)}function wf(o){return o&&(o.nextProducerIndex=0),Or(o)}function Oi(o,a){if(Or(a),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(_a(o))for(let l=o.nextProducerIndex;l<o.producerNode.length;l++)nl(o.producerNode[l],o.producerIndexOfThis[l]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function ku(o){zo(o);for(let a=0;a<o.producerNode.length;a++){const l=o.producerNode[a],u=o.producerLastReadVersion[a];if(u!==l.version||(el(l),u!==l.version))return!0}return!1}function Mu(o){if(zo(o),_a(o))for(let a=0;a<o.producerNode.length;a++)nl(o.producerNode[a],o.producerIndexOfThis[a]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function nl(o,a){if(function il(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),zo(o),1===o.liveConsumerNode.length)for(let u=0;u<o.producerNode.length;u++)nl(o.producerNode[u],o.producerIndexOfThis[u]);const l=o.liveConsumerNode.length-1;if(o.liveConsumerNode[a]=o.liveConsumerNode[l],o.liveConsumerIndexOfThis[a]=o.liveConsumerIndexOfThis[l],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,a<o.liveConsumerNode.length){const u=o.liveConsumerIndexOfThis[a],f=o.liveConsumerNode[a];zo(f),f.producerIndexOfThis[u]=a}}function _a(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function zo(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let Cf=null;function Pu(o){const a=Or(null);try{return o()}finally{Or(a)}}const Fu=()=>{},Np=(()=>({...ga,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:Fu}))();class Pp{constructor(a,l,u){this.previousValue=a,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function dd(){return ol}function ol(o){return o.type.prototype.ngOnChanges&&(o.setInput=va),Fp}function Fp(){const o=ya(this),a=o?.current;if(a){const l=o.previous;if(l===Es)o.previous=a;else for(let u in a)l[u]=a[u];o.current=null,this.ngOnChanges(a)}}function va(o,a,l,u){const f=this.declaredInputs[l],g=ya(o)||function Tf(o,a){return o[Zs]=a}(o,{previous:Es,current:null}),y=g.current||(g.current={}),x=g.previous,I=x[f];y[f]=new Pp(I&&I.currentValue,a,x===Es),o[u]=a}dd.ngInherit=!0;const Zs="__ngSimpleChanges__";function ya(o){return o[Zs]||null}const Cs=function(o,a,l){},Df="svg";function pn(o){for(;Array.isArray(o);)o=o[Vn];return o}function ba(o,a){return pn(a[o])}function Wi(o,a){return pn(a[o.index])}function Bu(o,a){return o.data[a]}function wa(o,a){return o[a]}function Zi(o,a){const l=a[o];return Ri(l)?l:l[Vn]}function Nr(o,a){return null==a?null:o[a]}function jp(o){o[ua]=0}function Vu(o){1024&o[Dt]||(o[Dt]|=1024,Fv(o,1))}function ud(o){1024&o[Dt]&&(o[Dt]&=-1025,Fv(o,-1))}function Fv(o,a){let l=o[Un];if(null===l)return;l[da]+=a;let u=l;for(l=l[Un];null!==l&&(1===a&&1===u[da]||-1===a&&0===u[da]);)l[da]+=a,u=l,l=l[Un]}const At={lFrame:fc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ki(){return At.bindingsEnabled}function Ks(){return null!==At.skipHydrationRootTNode}function Re(){return At.lFrame.lView}function Wt(){return At.lFrame.tView}function Is(o){return At.lFrame.contextLView=o,o[mn]}function gd(o){return At.lFrame.contextLView=null,o}function Pi(){let o=_d();for(;null!==o&&64===o.type;)o=o.parent;return o}function _d(){return At.lFrame.currentTNode}function Go(o,a){const l=At.lFrame;l.currentTNode=o,l.isParent=a}function xa(){return At.lFrame.isParent}function ju(){At.lFrame.isParent=!1}function Pr(){const o=At.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Ea(){return At.lFrame.bindingIndex++}function Ts(o){const a=At.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}function vd(o,a){const l=At.lFrame;l.bindingIndex=l.bindingRootIndex=o,yd(a)}function yd(o){At.lFrame.currentDirectiveIndex=o}function bd(){return At.lFrame.currentQueryIndex}function Nf(o){At.lFrame.currentQueryIndex=o}function Pf(o){const a=o[st];return 2===a.type?a.declTNode:1===a.type?o[$i]:null}function zp(o,a,l){if(l&Tt.SkipSelf){let f=a,g=o;for(;!(f=f.parent,null!==f||l&Tt.Host||(f=Pf(g),null===f||(g=g[po],10&f.type))););if(null===f)return!1;a=f,o=g}const u=At.lFrame=hc();return u.currentTNode=a,u.lView=o,!0}function ii(o){const a=hc(),l=o[st];At.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function hc(){const o=At.lFrame,a=null===o?null:o.child;return null===a?fc(o):a}function fc(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function yn(){const o=At.lFrame;return At.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const lt=yn;function Yi(){const o=yn();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Qi(){return At.lFrame.selectedIndex}function yo(o){At.lFrame.selectedIndex=o}function An(){const o=At.lFrame;return Bu(o.tView,o.selectedIndex)}function qo(){At.lFrame.currentNamespace=Df}function ct(){!function Ff(){At.lFrame.currentNamespace=null}()}let mc=!0;function ls(){return mc}function Ss(o){mc=o}function pc(o,a){for(let l=a.directiveStart,u=a.directiveEnd;l<u;l++){const g=o.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:x,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:R}=g;y&&(o.contentHooks??=[]).push(-l,y),x&&((o.contentHooks??=[]).push(l,x),(o.contentCheckHooks??=[]).push(l,x)),I&&(o.viewHooks??=[]).push(-l,I),S&&((o.viewHooks??=[]).push(l,S),(o.viewCheckHooks??=[]).push(l,S)),null!=R&&(o.destroyHooks??=[]).push(l,R)}}function Wo(o,a,l){$p(o,a,3,l)}function xd(o,a,l,u){(3&o[Dt])===l&&$p(o,a,l,u)}function gc(o,a){let l=o[Dt];(3&l)===a&&(l&=8191,l+=1,o[Dt]=l)}function $p(o,a,l,u){const g=u??-1,y=a.length-1;let x=0;for(let I=void 0!==u?65535&o[ua]:0;I<y;I++)if("number"==typeof a[I+1]){if(x=a[I],null!=u&&x>=u)break}else a[I]<0&&(o[ua]+=65536),(x<g||-1==g)&&(Ia(o,l,a,I),o[ua]=(4294901760&o[ua])+I+2),I++}function Ca(o,a){Cs(4,o,a);const l=Or(null);try{a.call(o)}finally{Or(l),Cs(5,o,a)}}function Ia(o,a,l,u){const f=l[u]<0,g=l[u+1],x=o[f?-l[u]:l[u]];f?o[Dt]>>13<o[ua]>>16&&(3&o[Dt])===a&&(o[Dt]+=8192,Ca(x,g)):Ca(x,g)}const Zo=-1;class As{constructor(a,l,u){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function _c(o){return o!==Zo}function gn(o){return 32767&o}function Fr(o,a){let l=function Yn(o){return o>>16}(o),u=a;for(;l>0;)u=u[po],l--;return u}let Da=!0;function Fi(o){const a=Da;return Da=o,a}const ll=255,Bf=5;let Wu=0;const Ji={};function Mn(o,a){const l=dl(o,a);if(-1!==l)return l;const u=a[st];u.firstCreatePass&&(o.injectorIndex=a.length,Lr(u.data,o),Lr(a,null),Lr(u.blueprint,null));const f=Qr(o,a),g=o.injectorIndex;if(_c(f)){const y=gn(f),x=Fr(f,a),I=x[st].data;for(let S=0;S<8;S++)a[g+S]=x[y+S]|I[y+S]}return a[g+8]=f,g}function Lr(o,a){o.push(0,0,0,0,0,0,0,0,a)}function dl(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Qr(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,u=null,f=a;for(;null!==f;){if(u=Yu(f),null===u)return Zo;if(l++,f=f[po],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return Zo}function Sa(o,a,l){!function bo(o,a,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(oa)&&(u=l[oa]),null==u&&(u=l[oa]=Wu++);const f=u&ll;a.data[o+(f>>Bf)]|=1<<f}(o,a,l)}function ul(o,a,l){if(l&Tt.Optional||void 0!==o)return o;We()}function Qs(o,a,l,u){if(l&Tt.Optional&&void 0===u&&(u=null),!(l&(Tt.Self|Tt.Host))){const f=o[mo],g=xn(void 0);try{return f?f.get(a,u,l&Tt.Optional):Bn(a,u,l&Tt.Optional)}finally{xn(g)}}return ul(u,0,l)}function hl(o,a,l,u=Tt.Default,f){if(null!==o){if(2048&a[Dt]&&!(u&Tt.Self)){const y=function Gp(o,a,l,u,f){let g=o,y=a;for(;null!==g&&null!==y&&2048&y[Dt]&&!(512&y[Dt]);){const x=Xs(g,y,l,u|Tt.Self,Ji);if(x!==Ji)return x;let I=g.parent;if(!I){const S=y[_o];if(S){const R=S.get(l,Ji,u);if(R!==Ji)return R}I=Yu(y),y=y[po]}g=I}return f}(o,a,l,u,Ji);if(y!==Ji)return y}const g=Xs(o,a,l,u,Ji);if(g!==Ji)return g}return Qs(a,l,u,f)}function Xs(o,a,l,u,f){const g=function vc(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(oa)?o[oa]:void 0;return"number"==typeof a?a>=0?a&ll:ks:a}(l);if("function"==typeof g){if(!zp(a,o,u))return u&Tt.Host?ul(f,0,u):Qs(a,l,u,f);try{let y;if(y=g(u),null!=y||u&Tt.Optional)return y;We()}finally{lt()}}else if("number"==typeof g){let y=null,x=dl(o,a),I=Zo,S=u&Tt.Host?a[jn][$i]:null;for((-1===x||u&Tt.SkipSelf)&&(I=-1===x?Qr(o,a):a[x+8],I!==Zo&&Zu(u,!1)?(y=a[st],x=gn(I),a=Fr(I,a)):x=-1);-1!==x;){const R=a[st];if(wo(g,x,R.data)){const V=Ht(x,a,l,y,u,S);if(V!==Ji)return V}I=a[x+8],I!==Zo&&Zu(u,a[st].data[x+8]===S)&&wo(g,x,a)?(y=R,x=gn(I),a=Fr(I,a)):x=-1}}return f}function Ht(o,a,l,u,f,g){const y=a[st],x=y.data[o+8],R=Aa(x,y,l,null==u?fa(x)&&Da:u!=y&&0!=(3&x.type),f&Tt.Host&&g===x);return null!==R?ka(a,y,R,x):Ji}function Aa(o,a,l,u,f){const g=o.providerIndexes,y=a.data,x=1048575&g,I=o.directiveStart,R=g>>20,Z=f?x+R:o.directiveEnd;for(let J=u?x:x+R;J<Z;J++){const Ce=y[J];if(J<I&&l===Ce||J>=I&&Ce.type===l)return J}if(f){const J=y[I];if(J&&Rr(J)&&J.type===l)return I}return null}function ka(o,a,l,u){let f=o[l];const g=a.data;if(function Ed(o){return o instanceof As}(f)){const y=f;y.resolving&&function Be(o,a){const l=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new ae(-200,`Circular dependency in DI detected for ${o}${l}`)}(function Te(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():se(o)}(g[l]));const x=Fi(y.canSeeViewProviders);y.resolving=!0;const S=y.injectImpl?xn(y.injectImpl):null;zp(o,u,Tt.Default);try{f=o[l]=y.factory(void 0,g,o,u),a.firstCreatePass&&l>=u.directiveStart&&function kn(o,a,l){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(u){const y=ol(a);(l.preOrderHooks??=[]).push(o,y),(l.preOrderCheckHooks??=[]).push(o,y)}f&&(l.preOrderHooks??=[]).push(0-o,f),g&&((l.preOrderHooks??=[]).push(o,g),(l.preOrderCheckHooks??=[]).push(o,g))}(l,g[l],a)}finally{null!==S&&xn(S),Fi(x),y.resolving=!1,lt()}}return f}function wo(o,a,l){return!!(l[a+(o>>Bf)]&1<<o)}function Zu(o,a){return!(o&Tt.Self||o&Tt.Host&&a)}class Qn{constructor(a,l){this._tNode=a,this._lView=l}get(a,l,u){return hl(this._tNode,this._lView,a,hi(u),l)}}function ks(){return new Qn(Pi(),Re())}function Yo(o){return Gs(()=>{const a=o.prototype.constructor,l=a[qs]||Td(a),u=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==u;){const g=f[qs]||Td(f);if(g&&g!==l)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Td(o){return Xe(o)?()=>{const a=Td(Ne(o));return a&&a()}:ma(o)}function Yu(o){const a=o[st],l=a.type;return 2===l?a.declTNode:1===l?o[$i]:null}function Dd(o){return function Id(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const u=l.length;let f=0;for(;f<u;){const g=l[f];if(vu(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<u&&"string"==typeof l[f];)f++;else{if(g===a)return l[f+1];f+=2}}}return null}(Pi(),o)}const bc="__parameters__";function L(o,a,l){return Gs(()=>{const u=function k(o){return function(...l){if(o){const u=o(...l);for(const f in u)this[f]=u[f]}}}(a);function f(...g){if(this instanceof f)return u.apply(this,g),this;const y=new f(...g);return x.annotation=y,x;function x(I,S,R){const V=I.hasOwnProperty(bc)?I[bc]:Object.defineProperty(I,bc,{value:[]})[bc];for(;V.length<=R;)V.push(null);return(V[R]=V[R]||[]).push(y),I}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}function wc(o,a){o.forEach(l=>Array.isArray(l)?wc(l,a):a(l))}function Uv(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function qp(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Ma(o,a){const l=[];for(let u=0;u<o;u++)l.push(a);return l}function Ms(o,a,l){let u=Sd(o,a);return u>=0?o[1|u]=l:(u=~u,function Hv(o,a,l,u){let f=o.length;if(f==a)o.push(l,u);else if(1===f)o.push(u,o[0]),o[0]=l;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=l,o[a+1]=u}}(o,u,a,l)),u}function Zp(o,a){const l=Sd(o,a);if(l>=0)return o[1|l]}function Sd(o,a){return function Kp(o,a,l){let u=0,f=o.length>>l;for(;f!==u;){const g=u+(f-u>>1),y=o[g<<l];if(a===y)return g<<l;y>a?f=g:u=g+1}return~(f<<l)}(o,a,1)}const Qu=zi(L("Optional"),8),Oa=zi(L("SkipSelf"),4);function Fd(o){return 128==(128&o.flags)}var Ld=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(Ld||{});const sh=new Map;let X0=0;const ah="__ngContext__";function Ur(o,a){Ri(a)?(o[ah]=a[go],function Jr(o){sh.set(o[go],o)}(a)):o[ah]=a}let $;function ee(o,a){return $(o,a)}function qe(o){const a=o[Un];return lr(a)?a[Un]:a}function Xn(o){return Ic(o[Gi])}function Rs(o){return Ic(o[wr])}function Ic(o){for(;null!==o&&!lr(o);)o=o[wr];return o}function wl(o,a,l,u,f){if(null!=u){let g,y=!1;lr(u)?g=u:Ri(u)&&(y=!0,u=u[Vn]);const x=pn(u);0===o&&null!==l?null==f?LI(a,l,x):lh(a,l,x,f||null,!0):1===o&&null!==l?lh(a,l,x,f||null,!0):2===o?function ty(o,a,l){const u=ey(o,a);u&&function UM(o,a,l,u){o.removeChild(a,l,u)}(o,u,a,l)}(a,x,y):3===o&&a.destroyNode(x),null!=g&&function HM(o,a,l,u,f){const g=l[ki];g!==pn(l)&&wl(a,o,u,g,f);for(let x=qi;x<l.length;x++){const I=l[x];og(I[st],I,o,a,u,g)}}(a,o,g,l,f)}}function Vd(o,a,l){return o.createElement(a,l)}function Xv(o,a){const l=o[Mi],u=l.indexOf(a);ud(a),l.splice(u,1)}function Jv(o,a){if(o.length<=qi)return;const l=qi+a,u=o[l];if(u){const f=u[Eu];null!==f&&f!==o&&Xv(f,u),a>0&&(o[l-1][wr]=u[wr]);const g=qp(o,qi+a);!function Yv(o,a){og(o,a,a[St],2,null,null),a[Vn]=null,a[$i]=null}(u[st],u);const y=g[Ai];null!==y&&y.detachView(g[st]),u[Un]=null,u[wr]=null,u[Dt]&=-129}return u}function nw(o,a){if(!(256&a[Dt])){const l=a[St];a[Qc]&&Mu(a[Qc]),a[jo]&&Mu(a[jo]),l.destroyNode&&og(o,a,l,3,null,null),function Qv(o){let a=o[Gi];if(!a)return PI(o[st],o);for(;a;){let l=null;if(Ri(a))l=a[Gi];else{const u=a[qi];u&&(l=u)}if(!l){for(;a&&!a[wr]&&a!==o;)Ri(a)&&PI(a[st],a),a=a[Un];null===a&&(a=o),Ri(a)&&PI(a[st],a),l=a&&a[wr]}a=l}}(a)}}function PI(o,a){if(!(256&a[Dt])){a[Dt]&=-129,a[Dt]|=256,function FI(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let u=0;u<l.length;u+=2){const f=a[l[u]];if(!(f instanceof As)){const g=l[u+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const x=f[g[y]],I=g[y+1];Cs(4,x,I);try{I.call(x)}finally{Cs(5,x,I)}}else{Cs(4,f,g);try{g.call(f)}finally{Cs(5,f,g)}}}}}(o,a),function VM(o,a){const l=o.cleanup,u=a[Yc];if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const y=l[g+3];y>=0?u[y]():u[-y].unsubscribe(),g+=2}else l[g].call(u[l[g+1]]);null!==u&&(a[Yc]=null);const f=a[Uo];if(null!==f){a[Uo]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(o,a),1===a[st].type&&a[St].destroy();const l=a[Eu];if(null!==l&&lr(a[Un])){l!==a[Un]&&Xv(l,a);const u=a[Ai];null!==u&&u.detachView(o)}!function bl(o){sh.delete(o[go])}(a)}}function Zf(o,a,l){return function ch(o,a,l){let u=a;for(;null!==u&&40&u.type;)u=(a=u).parent;if(null===u)return l[Vn];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:g}=o.data[u.directiveStart+f];if(g===xs.None||g===xs.Emulated)return null}return Wi(u,l)}}(o,a.parent,l)}function lh(o,a,l,u,f){o.insertBefore(a,l,u,f)}function LI(o,a,l){o.appendChild(a,l)}function BI(o,a,l,u,f){null!==u?lh(o,a,l,u,f):LI(o,a,l)}function ey(o,a){return o.parentNode(a)}function VI(o,a,l){return iw(o,a,l)}let rw,ny,$I,iy,iw=function UI(o,a,l){return 40&o.type?Wi(o,l):null};function rg(o,a,l,u){const f=Zf(o,u,a),g=a[St],x=VI(u.parent||a[$i],u,a);if(null!=f)if(Array.isArray(l))for(let I=0;I<l.length;I++)BI(g,f,l[I],x,!1);else BI(g,f,l,x,!1);void 0!==rw&&rw(g,u,a,l,f)}function Sc(o,a){if(null!==a){const l=a.type;if(3&l)return Wi(a,o);if(4&l)return ow(-1,o[a.index]);if(8&l){const u=a.child;if(null!==u)return Sc(o,u);{const f=o[a.index];return lr(f)?ow(-1,f):pn(f)}}if(32&l)return ee(a,o)()||pn(o[a.index]);{const u=sw(o,a);return null!==u?Array.isArray(u)?u[0]:Sc(qe(o[jn]),u):Sc(o,a.next)}}return null}function sw(o,a){return null!==a?o[jn][$i].projection[a.projection]:null}function ow(o,a){const l=qi+o+1;if(l<a.length){const u=a[l],f=u[st].firstChild;if(null!==f)return Sc(u,f)}return a[ki]}function sg(o,a,l,u,f,g,y){for(;null!=l;){const x=u[l.index],I=l.type;if(y&&0===a&&(x&&Ur(pn(x),u),l.flags|=2),32!=(32&l.flags))if(8&I)sg(o,a,l.child,u,f,g,!1),wl(a,o,f,x,g);else if(32&I){const S=ee(l,u);let R;for(;R=S();)wl(a,o,f,R,g);wl(a,o,f,x,g)}else 16&I?cw(o,a,u,l,f,g):wl(a,o,f,x,g);l=y?l.projectionNext:l.next}}function og(o,a,l,u,f,g){sg(l,u,o.firstChild,a,f,g,!1)}function cw(o,a,l,u,f,g){const y=l[jn],I=y[$i].projection[u.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)wl(a,o,f,I[S],g);else{let S=I;const R=y[Un];Fd(u)&&(S.flags|=128),sg(o,a,S,R,f,g,!0)}}function HI(o,a,l){""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l)}function ag(o,a,l){const{mergedAttrs:u,classes:f,styles:g}=l;null!==u&&Wc(o,a,u),null!==f&&HI(o,a,f),null!==g&&function $M(o,a,l){o.setAttribute(a,"style",l)}(o,a,g)}function Kf(o){return function lw(){if(void 0===ny&&(ny=null,fn.trustedTypes))try{ny=fn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return ny}()?.createHTML(o)||o}function GI(o){$I=o}function ZI(o){return function dw(){if(void 0===iy&&(iy=null,fn.trustedTypes))try{iy=fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return iy}()?.createScriptURL(o)||o}class uh{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pt})`}}class KI extends uh{getTypeName(){return"HTML"}}class uw extends uh{getTypeName(){return"Style"}}class Yf extends uh{getTypeName(){return"Script"}}class hw extends uh{getTypeName(){return"URL"}}class WM extends uh{getTypeName(){return"ResourceURL"}}function El(o){return o instanceof uh?o.changingThisBreaksApplicationSecurity:o}function hh(o,a){const l=function ry(o){return o instanceof uh&&o.getTypeName()||null}(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see ${pt})`)}return l===a}function YI(o){return new KI(o)}function QI(o){return new uw(o)}function ZM(o){return new Yf(o)}function KM(o){return new hw(o)}function YM(o){return new WM(o)}class sy{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(Kf(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch{return null}}}class QM{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const l=this.inertDocument.createElement("template");return l.innerHTML=Kf(a),l}}const cg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function lg(o){return(o=String(o)).match(cg)?o:"unsafe:"+o}function Cl(o){const a={};for(const l of o.split(","))a[l]=!0;return a}function dg(...o){const a={};for(const l of o)for(const u in l)l.hasOwnProperty(u)&&(a[u]=!0);return a}const JI=Cl("area,br,col,hr,img,wbr"),eT=Cl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xr=Cl("rp,rt"),fw=dg(JI,dg(eT,Cl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),dg(xr,Cl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dg(xr,eT)),mw=Cl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),t1=dg(mw,Cl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),n1=Cl("script,style,template");class pw{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!fw.hasOwnProperty(l))return this.sanitizedSomething=!0,!n1.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=a.attributes;for(let f=0;f<u.length;f++){const g=u.item(f),y=g.name,x=y.toLowerCase();if(!t1.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let I=g.value;mw[x]&&(I=lg(I)),this.buf.push(" ",y,'="',gw(I),'"')}return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();fw.hasOwnProperty(l)&&!JI.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(gw(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const tT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,JF=/([^\#-~ |!])/g;function gw(o){return o.replace(/&/g,"&amp;").replace(tT,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(JF,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xo;function nT(o,a){let l=null;try{Xo=Xo||function XI(o){const a=new QM(o);return function XM(){try{return!!(new window.DOMParser).parseFromString(Kf(""),"text/html")}catch{return!1}}()?new sy(a):a}(o);let u=a?String(a):"";l=Xo.getInertBodyElement(u);let f=5,g=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=g,g=l.innerHTML,l=Xo.getInertBodyElement(u)}while(u!==g);return Kf((new pw).sanitizeChildren(iT(l)||l))}finally{if(l){const u=iT(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function iT(o){return"content"in o&&function eL(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Xf=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(Xf||{});function ug(o){const a=hg();return a?a.sanitize(Xf.URL,o)||"":hh(o,"URL")?El(o):lg(se(o))}function oT(o){const a=hg();if(a)return ZI(a.sanitize(Xf.RESOURCE_URL,o)||"");if(hh(o,"ResourceURL"))return ZI(El(o));throw new ae(904,!1)}function o1(o,a,l){return function s1(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?oT:ug}(a,l)(o)}function hg(){const o=Re();return o&&o[nc].sanitizer}class Rn{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=gt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Jf=new Rn("ENVIRONMENT_INITIALIZER"),cT=new Rn("INJECTOR",-1),lT=new Rn("INJECTOR_DEF_TYPES");class oy{get(a,l=Ze){if(l===Ze){const u=new Error(`NullInjectorError: No provider for ${re(a)}!`);throw u.name="NullInjectorError",u}return l}}function _w(o){return{\u0275providers:o}}function a1(...o){return{\u0275providers:dT(0,o),\u0275fromNgModule:!0}}function dT(o,...a){const l=[],u=new Set;let f;const g=y=>{l.push(y)};return wc(a,y=>{const x=y;ay(x,g,[],u)&&(f||=[],f.push(x))}),void 0!==f&&uT(f,g),l}function uT(o,a){for(let l=0;l<o.length;l++){const{ngModule:u,providers:f}=o[l];vw(f,g=>{a(g,u)})}}function ay(o,a,l,u){if(!(o=Ne(o)))return!1;let f=null,g=Sr(o);const y=!g&&Qt(o);if(g||y){if(y&&!y.standalone)return!1;f=o}else{const I=o.ngModule;if(g=Sr(I),!g)return!1;f=I}const x=u.has(f);if(y){if(x)return!1;if(u.add(f),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of I)ay(S,a,l,u)}}else{if(!g)return!1;{if(null!=g.imports&&!x){let S;u.add(f);try{wc(g.imports,R=>{ay(R,a,l,u)&&(S||=[],S.push(R))})}finally{}void 0!==S&&uT(S,a)}if(!x){const S=ma(f)||(()=>new f);a({provide:f,useFactory:S,deps:Yt},f),a({provide:lT,useValue:f,multi:!0},f),a({provide:Jf,useValue:()=>Rt(f),multi:!0},f)}const I=g.providers;if(null!=I&&!x){const S=o;vw(I,R=>{a(R,S)})}}}return f!==o&&void 0!==o.providers}function vw(o,a){for(let l of o)Pe(l)&&(l=l.\u0275providers),Array.isArray(l)?vw(l,a):a(l)}const nL=j({provide:String,useValue:j});function hT(o){return null!==o&&"object"==typeof o&&nL in o}function em(o){return"function"==typeof o}const cy=new Rn("Set Injector scope."),ly={},Il={};let eo;function gi(){return void 0===eo&&(eo=new oy),eo}class Tl{}class fg extends Tl{get destroyed(){return this._destroyed}constructor(a,l,u,f){super(),this.parent=l,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fT(a,y=>this.processProvider(y)),this.records.set(cT,mg(void 0,this)),f.has("environment")&&this.records.set(Tl,mg(void 0,this));const g=this.records.get(cy);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(lT.multi,Yt,Tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const l of a)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const l=at(this),u=xn(void 0);try{return a()}finally{at(l),xn(u)}}get(a,l=Ze,u=Tt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(Ja))return a[Ja](this);u=hi(u);const g=at(this),y=xn(void 0);try{if(!(u&Tt.SkipSelf)){let I=this.records.get(a);if(void 0===I){const S=function aL(o){return"function"==typeof o||"object"==typeof o&&o instanceof Rn}(a)&&Zn(a);I=S&&this.injectableDefInScope(S)?mg(dn(a),ly):null,this.records.set(a,I)}if(null!=I)return this.hydrate(a,I)}return(u&Tt.Self?gi():this.parent).get(a,l=u&Tt.Optional&&l===Ze?null:l)}catch(x){if("NullInjectorError"===x.name){if((x[bt]=x[bt]||[]).unshift(re(a)),g)throw x;return function Qa(o,a,l,u){const f=o[bt];throw a[Q]&&f.unshift(a[Q]),o.message=function gu(o,a,l,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=re(a);if(Array.isArray(a))f=a.map(re).join(" -> ");else if("object"==typeof a){let g=[];for(let y in a)if(a.hasOwnProperty(y)){let x=a[y];g.push(y+":"+("string"==typeof x?JSON.stringify(x):re(x)))}f=`{${g.join(", ")}}`}return`${l}${u?"("+u+")":""}[${f}]: ${o.replace(z,"\n  ")}`}("\n"+o.message,f,l,u),o.ngTokenPath=f,o[bt]=null,o}(x,a,"R3InjectorError",this.source)}throw x}finally{xn(y),at(g)}}resolveInjectorInitializers(){const a=at(this),l=xn(void 0);try{const f=this.get(Jf.multi,Yt,Tt.Self);for(const g of f)g()}finally{at(a),xn(l)}}toString(){const a=[],l=this.records;for(const u of l.keys())a.push(re(u));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(a){let l=em(a=Ne(a))?a:Ne(a&&a.provide);const u=function rL(o){return hT(o)?mg(void 0,o.useValue):mg(Bi(o),ly)}(a);if(em(a)||!0!==a.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=mg(void 0,ly,!0),f.factory=()=>nn(f.multi),this.records.set(l,f)),l=a,f.multi.push(a)}this.records.set(l,u)}hydrate(a,l){return l.value===ly&&(l.value=Il,l.value=l.factory()),"object"==typeof l.value&&l.value&&function oL(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(a){if(!a.providedIn)return!1;const l=Ne(a.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(a){const l=this._onDestroyHooks.indexOf(a);-1!==l&&this._onDestroyHooks.splice(l,1)}}function dn(o){const a=Zn(o),l=null!==a?a.factory:ma(o);if(null!==l)return l;if(o instanceof Rn)throw new ae(204,!1);if(o instanceof Function)return function fh(o){const a=o.length;if(a>0)throw Ma(a,"?"),new ae(204,!1);const l=function _r(o){return o&&(o[ti]||o[js])||null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new ae(204,!1)}function Bi(o,a,l){let u;if(em(o)){const f=Ne(o);return ma(f)||dn(f)}if(hT(o))u=()=>Ne(o.useValue);else if(function d1(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...nn(o.deps||[]));else if(function l1(o){return!(!o||!o.useExisting)}(o))u=()=>Rt(Ne(o.useExisting));else{const f=Ne(o&&(o.useClass||o.provide));if(!function sL(o){return!!o.deps}(o))return ma(f)||dn(f);u=()=>new f(...nn(o.deps))}return u}function mg(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function fT(o,a){for(const l of o)Array.isArray(l)?fT(l,a):l&&Pe(l)?fT(l.\u0275providers,a):a(l)}const tm=new Rn("AppId",{providedIn:"root",factory:()=>mT}),mT="ng",dy=new Rn("Platform Initializer"),pg=new Rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yw=new Rn("AnimationModuleType"),bw=new Rn("CSP nonce",{providedIn:"root",factory:()=>function dh(){if(void 0!==$I)return $I;if(typeof document<"u")return document;throw new ae(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let es=(o,a,l)=>null;function Ac(o,a,l=!1){return es(o,a,l)}class m1{}class gh{}class g1{resolveComponentFactory(a){throw function vT(o){const a=Error(`No component factory found for ${re(o)}.`);return a.ngComponent=o,a}(a)}}let vg=(()=>{class a{}return a.NULL=new g1,a})();function Cw(){return Hd(Pi(),Re())}function Hd(o,a){return new _h(Wi(o,a))}let _h=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=Cw,a})();function Iw(o){return o instanceof _h?o.nativeElement:o}class _y{}let yT=(()=>{class a{constructor(){this.destroyNode=null}}return a.__NG_ELEMENT_ID__=()=>function _1(){const o=Re(),l=Zi(Pi().index,o);return(Ri(l)?l:o)[St]}(),a})(),yg=(()=>{var o;class a{}return(o=a).\u0275prov=gt({token:o,providedIn:"root",factory:()=>null}),a})();class bT{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const rm=new bT("16.2.6"),Tw={};function yy(o,a=null,l=null,u){const f=kw(o,a,l,u);return f.resolveInjectorInitializers(),f}function kw(o,a=null,l=null,u,f=new Set){const g=[l||Yt,a1(o)];return u=u||("object"==typeof o?void 0:re(o)),new fg(g,a||gi(),u||null,f)}let Jo=(()=>{var o;class a{static create(u,f){if(Array.isArray(u))return yy({name:""},f,u,"");{const g=u.name??"";return yy({name:g},u.parent,u.providers,g)}}}return(o=a).THROW_IF_NOT_FOUND=Ze,o.NULL=new oy,o.\u0275prov=gt({token:o,providedIn:"any",factory:()=>Rt(cT)}),o.__NG_ELEMENT_ID__=-1,a})();function by(o){return o.ngOriginalError}class kc{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a);this._console.error("ERROR",a),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(a){let l=a&&by(a);for(;l&&by(l);)l=by(l);return l||null}}function wg(o){return a=>{setTimeout(o,void 0,a)}}const Gn=class Mw extends d.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,u){let f=a,g=l||(()=>null),y=u;if(a&&"object"==typeof a){const I=a;f=I.next?.bind(I),g=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(g=wg(g),f&&(f=wg(f)),y&&(y=wg(y)));const x=super.subscribe({next:f,error:g,complete:y});return a instanceof ie.w0&&a.add(x),x}};function Hr(...o){}class zr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gn(!1),this.onMicrotaskEmpty=new Gn(!1),this.onStable=new Gn(!1),this.onError=new Gn(!1),typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&l,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function xy(){const o="function"==typeof fn.requestAnimationFrame;let a=fn[o?"requestAnimationFrame":"setTimeout"],l=fn[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function x1(o){const a=()=>{!function DT(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(fn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Ow(o),o.isCheckStableRunning=!0,Rw(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Ow(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,f,g,y,x)=>{if(function E1(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(x))return l.invokeTask(f,g,y,x);try{return ST(o),l.invokeTask(f,g,y,x)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),om(o)}},onInvoke:(l,u,f,g,y,x,I)=>{try{return ST(o),l.invoke(f,g,y,x,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),om(o)}},onHasTask:(l,u,f,g)=>{l.hasTask(f,g),u===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,Ow(o),Rw(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,u,f,g)=>(l.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zr.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(zr.isInAngularZone())throw new ae(909,!1)}run(a,l,u){return this._inner.run(a,l,u)}runTask(a,l,u,f){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+f,a,w1,Hr,Hr);try{return g.runTask(y,l,u)}finally{g.cancelTask(y)}}runGuarded(a,l,u){return this._inner.runGuarded(a,l,u)}runOutsideAngular(a){return this._outer.run(a)}}const w1={};function Rw(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Ow(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function ST(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function om(o){o._nesting--,Rw(o)}class xg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gn,this.onMicrotaskEmpty=new Gn,this.onStable=new Gn,this.onError=new Gn}run(a,l,u){return a.apply(l,u)}runGuarded(a,l,u){return a.apply(l,u)}runOutsideAngular(a){return a()}runTask(a,l,u,f){return a.apply(l,u)}}const Ey=new Rn("",{providedIn:"root",factory:Nw});function Nw(){const o=jt(zr);let a=!0;const l=new B.y(f=>{a=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{f.next(a),f.complete()})}),u=new B.y(f=>{let g;o.runOutsideAngular(()=>{g=o.onStable.subscribe(()=>{zr.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(a=!0,f.next(!0))})})});const y=o.onUnstable.subscribe(()=>{zr.assertInAngularZone(),a&&(a=!1,o.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),y.unsubscribe()}});return(0,te.T)(l,u.pipe((0,ve.B)()))}function Eg(o){return o.ownerDocument.defaultView}function Dl(o){return o instanceof Function?o():o}let Lw=(()=>{var o;class a{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(o=a).\u0275prov=gt({token:o,providedIn:"root",factory:()=>new o}),a})();function Ig(o){for(;o;){o[Dt]|=64;const a=qe(o);if(rc(o)&&!a)return o;o=a}return null}const RT=new Rn("",{providedIn:"root",factory:()=>!1});let Dg=null;function cm(o,a){return o[a]??Sg()}function Dy(o,a){const l=Sg();l.producerNode?.length&&(o[a]=Dg,l.lView=o,Dg=Sy())}const Vw={...ga,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{Ig(o.lView)},lView:null};function Sy(){return Object.create(Vw)}function Sg(){return Dg??=Sy(),Dg}const Vt={};function Uw(o){FT(Wt(),Re(),Qi()+o,!1)}function FT(o,a,l,u){if(!u)if(3==(3&a[Dt])){const g=o.preOrderCheckHooks;null!==g&&Wo(a,g,l)}else{const g=o.preOrderHooks;null!==g&&xd(a,g,0,l)}yo(l)}function zd(o,a=Tt.Default){const l=Re();return null===l?Rt(o,a):hl(Pi(),l,Ne(o),a)}function Ag(){throw new Error("invalid")}function kg(o,a,l,u,f,g,y,x,I,S,R){const V=a.blueprint.slice();return V[Vn]=f,V[Dt]=140|u,(null!==S||o&&2048&o[Dt])&&(V[Dt]|=2048),jp(V),V[Un]=V[po]=o,V[mn]=l,V[nc]=y||o&&o[nc],V[St]=x||o&&o[St],V[mo]=I||o&&o[mo]||null,V[$i]=g,V[go]=function oh(){return X0++}(),V[Zr]=R,V[_o]=S,V[jn]=2==a.type?o[jn]:V,V}function bh(o,a,l,u,f){let g=o.data[a];if(null===g)g=function Ay(o,a,l,u,f){const g=_d(),y=xa(),I=o.data[a]=function My(o,a,l,u,f,g){let y=a?a.injectorIndex:-1,x=0;return Ks()&&(x|=128),{type:l,index:u,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:x,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,l,a,u,f);return null===o.firstChild&&(o.firstChild=I),null!==g&&(y?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I,I.prev=g)),I}(o,a,l,u,f),function zu(){return At.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=l,g.value=u,g.attrs=f;const y=function uc(){const o=At.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return Go(g,!0),g}function Mg(o,a,l,u){if(0===l)return-1;const f=a.length;for(let g=0;g<l;g++)a.push(u),o.blueprint.push(u),o.data.push(null);return f}function lm(o,a,l,u,f){const g=cm(a,Qc),y=Qi(),x=2&u;try{yo(-1),x&&a.length>$t&&FT(o,a,$t,!1),Cs(x?2:0,f);const S=x?g:null,R=wf(S);try{null!==S&&(S.dirty=!1),l(u,f)}finally{Oi(S,R)}}finally{x&&null===a[Qc]&&Dy(a,Qc),yo(y),Cs(x?3:1,f)}}function ky(o,a,l){if(sd(a)){const u=Or(null);try{const g=a.directiveEnd;for(let y=a.directiveStart;y<g;y++){const x=o.data[y];x.contentQueries&&x.contentQueries(1,l[y],y)}}finally{Or(u)}}}function dm(o,a,l){Ki()&&(function Pg(o,a,l,u){const f=l.directiveStart,g=l.directiveEnd;fa(l)&&function F1(o,a,l){const u=Wi(a,o),f=$d(l);let y=16;l.signals?y=4096:l.onPush&&(y=64);const x=Fy(o,kg(o,f,null,y,u,a,null,o[nc].rendererFactory.createRenderer(u,l),null,null,null));o[a.index]=x}(a,l,o.data[f+l.componentOffset]),o.firstCreatePass||Mn(l,a),Ur(u,a);const y=l.initialInputs;for(let x=f;x<g;x++){const I=o.data[x],S=ka(a,o,x,l);Ur(S,a),null!==y&&Gw(0,x-f,S,I,0,y),Rr(I)&&(Zi(l.index,a)[mn]=ka(a,o,x,l))}}(o,a,l,Wi(l,a)),64==(64&l.flags)&&kl(o,a,l))}function wh(o,a,l=Wi){const u=a.localNames;if(null!==u){let f=a.index+1;for(let g=0;g<u.length;g+=2){const y=u[g+1],x=-1===y?l(a,o):o[y];o[f++]=x}}}function $d(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Rg(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function Rg(o,a,l,u,f,g,y,x,I,S,R){const V=$t+u,Z=V+f,J=function D1(o,a){const l=[];for(let u=0;u<a;u++)l.push(u<o?null:Vt);return l}(V,Z),Ce="function"==typeof S?S():S;return J[st]={type:o,blueprint:J,template:l,queries:null,viewQuery:x,declTNode:a,data:J.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:Ce,incompleteFirstPass:!1,ssrId:R}}let Hw=o=>null;function Og(o,a,l,u){for(let f in o)if(o.hasOwnProperty(f)){l=null===l?{}:l;const g=o[f];null===u?zw(l,a,f,g):u.hasOwnProperty(f)&&zw(l,a,u[f],g)}return l}function zw(o,a,l,u){o.hasOwnProperty(l)?o[l].push(a,u):o[l]=[a,u]}function ts(o,a,l,u,f,g,y,x){const I=Wi(a,l);let R,S=a.inputs;!x&&null!=S&&(R=S[u])?(By(o,l,R,u,f),fa(a)&&function Ng(o,a){const l=Zi(a,o);16&l[Dt]||(l[Dt]|=64)}(l,a.index)):3&a.type&&(u=function Ry(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),f=null!=y?y(f,a.value||"",u):f,g.setProperty(I,u,f))}function $w(o,a,l,u){if(Ki()){const f=null===u?null:{"":-1},g=function UT(o,a){const l=o.directiveRegistry;let u=null,f=null;if(l)for(let g=0;g<l.length;g++){const y=l[g];if(Jl(a,y.selectors,!1))if(u||(u=[]),Rr(y))if(null!==y.findHostDirectiveDefs){const x=[];f=f||new Map,y.findHostDirectiveDefs(y,x,f),u.unshift(...x,y),Oy(o,a,x.length)}else u.unshift(y),Oy(o,a,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,u,f),u.push(y)}return null===u?null:[u,f]}(o,l);let y,x;null===g?y=x=null:[y,x]=g,null!==y&&BT(o,a,l,y,f,x),f&&function um(o,a,l){if(a){const u=o.localNames=[];for(let f=0;f<a.length;f+=2){const g=l[a[f+1]];if(null==g)throw new ae(-301,!1);u.push(a[f],g)}}}(l,u,f)}l.mergedAttrs=aa(l.mergedAttrs,l.attrs)}function BT(o,a,l,u,f,g){for(let S=0;S<u.length;S++)Sa(Mn(l,a),o,u[S].type);!function P1(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}(l,o.data.length,u.length);for(let S=0;S<u.length;S++){const R=u[S];R.providersResolver&&R.providersResolver(R)}let y=!1,x=!1,I=Mg(o,a,u.length,null);for(let S=0;S<u.length;S++){const R=u[S];l.mergedAttrs=aa(l.mergedAttrs,R.hostAttrs),jT(o,l,a,I,R),N1(I,R,f),null!==R.contentQueries&&(l.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(l.flags|=64);const V=R.type.prototype;!y&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((o.preOrderHooks??=[]).push(l.index),y=!0),!x&&(V.ngOnChanges||V.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(l.index),x=!0),I++}!function oi(o,a,l){const f=a.directiveEnd,g=o.data,y=a.attrs,x=[];let I=null,S=null;for(let R=a.directiveStart;R<f;R++){const V=g[R],Z=l?l.get(V):null,Ce=Z?Z.outputs:null;I=Og(V.inputs,R,I,Z?Z.inputs:null),S=Og(V.outputs,R,S,Ce);const Ue=null===I||null===y||kr(a)?null:HT(I,R,y);x.push(Ue)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=8),I.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=x,a.inputs=I,a.outputs=S}(o,l,g)}function kl(o,a,l){const u=l.directiveStart,f=l.directiveEnd,g=l.index,y=function Vv(){return At.lFrame.currentDirectiveIndex}();try{yo(g);for(let x=u;x<f;x++){const I=o.data[x],S=a[x];yd(x),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&VT(I,S)}}finally{yo(-1),yd(y)}}function VT(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Oy(o,a,l){a.componentOffset=l,(o.components??=[]).push(a.index)}function N1(o,a,l){if(l){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)l[a.exportAs[u]]=o;Rr(a)&&(l[""]=o)}}function jT(o,a,l,u,f){o.data[u]=f;const g=f.factory||(f.factory=ma(f.type)),y=new As(g,Rr(f),zd);o.blueprint[u]=y,l[u]=y,function R1(o,a,l,u,f){const g=f.hostBindings;if(g){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const x=~a.index;(function O1(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(y)!=x&&y.push(x),y.push(l,u,g)}}(o,a,u,Mg(o,l,f.hostVars,Vt),f)}function La(o,a,l,u,f,g){const y=Wi(o,a);!function Ny(o,a,l,u,f,g,y){if(null==g)o.removeAttribute(a,f,l);else{const x=null==y?se(g):y(g,u||"",f);o.setAttribute(a,f,x,l)}}(a[St],y,g,o.value,l,u,f)}function Gw(o,a,l,u,f,g){const y=g[a];if(null!==y)for(let x=0;x<y.length;)Py(u,l,y[x++],y[x++],y[x++])}function Py(o,a,l,u,f){const g=Or(null);try{const y=o.inputTransforms;null!==y&&y.hasOwnProperty(u)&&(f=y[u].call(a,f)),null!==o.setInput?o.setInput(a,f,l,u):a[u]=f}finally{Or(g)}}function HT(o,a,l){let u=null,f=0;for(;f<l.length;){const g=l[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===u&&(u=[]);const y=o[g];for(let x=0;x<y.length;x+=2)if(y[x]===a){u.push(g,y[x+1],l[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function qw(o,a,l,u){return[o,!0,!1,a,null,0,u,l,null,null,null]}function zT(o,a){const l=o.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const g=l[u+1];if(-1!==g){const y=o.data[g];Nf(l[u]),y.contentQueries(2,a[g],g)}}}function Fy(o,a){return o[Gi]?o[pf][wr]=a:o[Gi]=a,o[pf]=a,a}function Ww(o,a,l){Nf(0);const u=Or(null);try{a(o,l)}finally{Or(u)}}function Fg(o){return o[Yc]||(o[Yc]=[])}function hm(o){return o.cleanup||(o.cleanup=[])}function Ly(o,a){const l=o[mo],u=l?l.get(kc,null):null;u&&u.handleError(a)}function By(o,a,l,u,f){for(let g=0;g<l.length;){const y=l[g++],x=l[g++];Py(o.data[y],a[y],u,x,f)}}function To(o,a,l){const u=ba(a,o);!function Tc(o,a,l){o.setValue(a,l)}(o[St],u,l)}function Bg(o,a){const l=Zi(a,o),u=l[st];!function L1(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])}(u,l);const f=l[Vn];null!==f&&null===l[Zr]&&(l[Zr]=Ac(f,l[mo])),_i(u,l,l[mn])}function _i(o,a,l){ii(a);try{const u=o.viewQuery;null!==u&&Ww(1,u,l);const f=o.template;null!==f&&lm(o,a,f,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&zT(o,a),o.staticViewQueries&&Ww(2,o.viewQuery,l);const g=o.components;null!==g&&function $T(o,a){for(let l=0;l<a.length;l++)Bg(o,a[l])}(a,g)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{a[Dt]&=-5,Yi()}}let GT=(()=>{var o;class a{constructor(){this.all=new Set,this.queue=new Map}create(u,f,g){const y=typeof Zone>"u"?null:Zone.current,x=function Pv(o,a,l){const u=Object.create(Np);l&&(u.consumerAllowSignalWrites=!0),u.fn=o,u.schedule=a;const f=y=>{u.cleanupFn=y};return u.ref={notify:()=>tl(u),run:()=>{if(u.dirty=!1,u.hasRun&&!ku(u))return;u.hasRun=!0;const y=wf(u);try{u.cleanupFn(),u.cleanupFn=Fu,u.fn(f)}finally{Oi(u,y)}},cleanup:()=>u.cleanupFn()},u.ref}(u,R=>{this.all.has(R)&&this.queue.set(R,y)},g);let I;this.all.add(x),x.notify();const S=()=>{x.cleanup(),I?.(),this.all.delete(x),this.queue.delete(x)};return I=f?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[u,f]of this.queue)this.queue.delete(u),f?f.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return(o=a).\u0275prov=gt({token:o,providedIn:"root",factory:()=>new o}),a})();function Vy(o,a,l){let u=l?o.styles:null,f=l?o.classes:null,g=0;if(null!==a)for(let y=0;y<a.length;y++){const x=a[y];"number"==typeof x?g=x:1==g?f=He(f,x):2==g&&(u=He(u,x+": "+a[++y]+";"))}l?o.styles=u:o.stylesWithoutHost=u,l?o.classes=f:o.classesWithoutHost=f}function fm(o,a,l,u,f=!1){for(;null!==l;){const g=a[l.index];null!==g&&u.push(pn(g)),lr(g)&&Zw(g,u);const y=l.type;if(8&y)fm(o,a,l.child,u);else if(32&y){const x=ee(l,a);let I;for(;I=x();)u.push(I)}else if(16&y){const x=sw(a,l);if(Array.isArray(x))u.push(...x);else{const I=qe(a[jn]);fm(I[st],I,x,u,!0)}}l=f?l.projectionNext:l.next}return u}function Zw(o,a){for(let l=qi;l<o.length;l++){const u=o[l],f=u[st].firstChild;null!==f&&fm(u[st],u,f,a)}o[ki]!==o[Vn]&&a.push(o[ki])}function Vg(o,a,l,u=!0){const f=a[nc],g=f.rendererFactory,y=f.afterRenderEventManager;g.begin?.(),y?.begin();try{Ba(o,a,o.template,l)}catch(I){throw u&&Ly(a,I),I}finally{g.end?.(),f.effectManager?.flush(),y?.end()}}function Ba(o,a,l,u){const f=a[Dt];if(256!=(256&f)){a[nc].effectManager?.flush(),ii(a);try{jp(a),function Rf(o){return At.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&lm(o,a,l,2,u);const y=3==(3&f);if(y){const S=o.preOrderCheckHooks;null!==S&&Wo(a,S,null)}else{const S=o.preOrderHooks;null!==S&&xd(a,S,0,null),gc(a,0)}if(function V1(o){for(let a=Xn(o);null!==a;a=Rs(a)){if(!a[rd])continue;const l=a[Mi];for(let u=0;u<l.length;u++){Vu(l[u])}}}(a),Yw(a,2),null!==o.contentQueries&&zT(o,a),y){const S=o.contentCheckHooks;null!==S&&Wo(a,S)}else{const S=o.contentHooks;null!==S&&xd(a,S,1),gc(a,1)}!function jw(o,a){const l=o.hostBindingOpCodes;if(null===l)return;const u=cm(a,jo);try{for(let f=0;f<l.length;f++){const g=l[f];if(g<0)yo(~g);else{const y=g,x=l[++f],I=l[++f];vd(x,y),u.dirty=!1;const S=wf(u);try{I(2,a[y])}finally{Oi(u,S)}}}}finally{null===a[jo]&&Dy(a,jo),yo(-1)}}(o,a);const x=o.components;null!==x&&mm(a,x,0);const I=o.viewQuery;if(null!==I&&Ww(2,I,u),y){const S=o.viewCheckHooks;null!==S&&Wo(a,S)}else{const S=o.viewHooks;null!==S&&xd(a,S,2),gc(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Dt]&=-73,ud(a)}finally{Yi()}}}function Yw(o,a){for(let l=Xn(o);null!==l;l=Rs(l))for(let u=qi;u<l.length;u++)Uy(l[u],a)}function WT(o,a,l){Uy(Zi(a,o),l)}function Uy(o,a){if(!function dc(o){return 128==(128&o[Dt])}(o))return;const l=o[st],u=o[Dt];if(80&u&&0===a||1024&u||2===a)Ba(l,o,l.template,o[mn]);else if(o[da]>0){Yw(o,1);const f=l.components;null!==f&&mm(o,f,1)}}function mm(o,a,l){for(let u=0;u<a.length;u++)WT(o,a[u],l)}class pm{get rootNodes(){const a=this._lView,l=a[st];return fm(l,a,l.firstChild,[])}constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mn]}set context(a){this._lView[mn]=a}get destroyed(){return 256==(256&this._lView[Dt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Un];if(lr(a)){const l=a[8],u=l?l.indexOf(this):-1;u>-1&&(Jv(a,u),qp(l,u))}this._attachedToViewContainer=!1}nw(this._lView[st],this._lView)}onDestroy(a){!function Pn(o,a){if(256==(256&o[Dt]))throw new ae(911,!1);null===o[Uo]&&(o[Uo]=[]),o[Uo].push(a)}(this._lView,a)}markForCheck(){Ig(this._cdRefInjectingView||this._lView)}detach(){this._lView[Dt]&=-129}reattach(){this._lView[Dt]|=128}detectChanges(){Vg(this._lView[st],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xl(o,a){og(o,a,a[St],2,null,null)}(this._lView[st],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=a}}class Qw extends pm{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Vg(a[st],a,a[mn],!1)}checkNoChanges(){}get context(){return null}}class Ug extends vg{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=Qt(a);return new gm(l,this.ngModule)}}function Xw(o){const a=[];for(let l in o)o.hasOwnProperty(l)&&a.push({propName:o[l],templateName:l});return a}class U1{constructor(a,l){this.injector=a,this.parentInjector=l}get(a,l,u){u=hi(u);const f=this.injector.get(a,Tw,u);return f!==Tw||l===Tw?f:this.parentInjector.get(a,l,u)}}class gm extends gh{get inputs(){const a=this.componentDef,l=a.inputTransforms,u=Xw(a.inputs);if(null!==l)for(const f of u)l.hasOwnProperty(f.propName)&&(f.transform=l[f.propName]);return u}get outputs(){return Xw(this.componentDef.outputs)}constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=function ff(o){return o.map(Zc).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}create(a,l,u,f){let g=(f=f||this.ngModule)instanceof Tl?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new U1(a,g):a,x=y.get(_y,null);if(null===x)throw new ae(407,!1);const V={rendererFactory:x,sanitizer:y.get(yg,null),effectManager:y.get(GT,null),afterRenderEventManager:y.get(Lw,null)},Z=x.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",Ce=u?function S1(o,a,l,u){const g=u.get(RT,!1)||l===xs.ShadowDom,y=o.selectRootElement(a,g);return function LT(o){Hw(o)}(y),y}(Z,u,this.componentDef.encapsulation,y):Vd(Z,J,function jy(o){const a=o.toLowerCase();return"svg"===a?Df:"math"===a?"math":null}(J)),It=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Le=null;null!==Ce&&(Le=Ac(Ce,y,!0));const Ut=Rg(0,null,null,1,0,null,null,null,null,null,null),Zt=kg(null,Ut,null,It,null,null,V,Z,y,null,Le);let wn,ao;ii(Zt);try{const Fs=this.componentDef;let ql,Jh=null;Fs.findHostDirectiveDefs?(ql=[],Jh=new Map,Fs.findHostDirectiveDefs(Fs,ql,Jh),ql.push(Fs)):ql=[Fs];const RA=function ZT(o,a){const l=o[st],u=$t;return o[u]=a,bh(l,u,2,"#host",null)}(Zt,Ce),gC=function KT(o,a,l,u,f,g,y){const x=f[st];!function Jw(o,a,l,u){for(const f of o)a.mergedAttrs=aa(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(Vy(a,a.mergedAttrs,!0),null!==l&&ag(u,l,a))}(u,o,a,y);let I=null;null!==a&&(I=Ac(a,f[mo]));const S=g.rendererFactory.createRenderer(a,l);let R=16;l.signals?R=4096:l.onPush&&(R=64);const V=kg(f,$d(l),null,R,f[o.index],o,g,S,null,null,I);return x.firstCreatePass&&Oy(x,o,u.length-1),Fy(f,V),f[o.index]=V}(RA,Ce,Fs,ql,Zt,V,Z);ao=Bu(Ut,$t),Ce&&function YT(o,a,l,u){if(u)Wc(o,l,["ng-version",rm.full]);else{const{attrs:f,classes:g}=function os(o){const a=[],l=[];let u=1,f=2;for(;u<o.length;){let g=o[u];if("string"==typeof g)2===f?""!==g&&a.push(g,o[++u]):8===f&&l.push(g);else{if(!Mr(f))break;f=g}u++}return{attrs:a,classes:l}}(a.selectors[0]);f&&Wc(o,l,f),g&&g.length>0&&HI(o,l,g.join(" "))}}(Z,Fs,Ce,u),void 0!==l&&function Hy(o,a,l){const u=o.projection=[];for(let f=0;f<a.length;f++){const g=l[f];u.push(null!=g?Array.from(g):null)}}(ao,this.ngContentSelectors,l),wn=function ex(o,a,l,u,f,g){const y=Pi(),x=f[st],I=Wi(y,f);BT(x,f,y,l,null,u);for(let R=0;R<l.length;R++)Ur(ka(f,x,y.directiveStart+R,y),f);kl(x,f,y),I&&Ur(I,f);const S=ka(f,x,y.directiveStart+y.componentOffset,y);if(o[mn]=f[mn]=S,null!==g)for(const R of g)R(S,a);return ky(x,y,o),S}(gC,Fs,ql,Jh,Zt,[QT]),_i(Ut,Zt,null)}finally{Yi()}return new jg(this.componentType,wn,Hd(ao,Zt),Zt,ao)}}class jg extends m1{constructor(a,l,u,f,g){super(),this.location=u,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new Qw(f),this.componentType=a}setInput(a,l){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),l))return;const g=this._rootLView;By(g[st],g,f,a,l),this.previousInputValues.set(a,l),Ig(Zi(this._tNode.index,g))}}get injector(){return new Qn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function QT(){const o=Pi();pc(Re()[st],o)}function Ml(o){let a=function tx(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const u=[o];for(;a;){let f;if(Rr(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ae(903,!1);f=a.\u0275dir}if(f){if(l){u.push(f);const y=o;y.inputs=Hg(o.inputs),y.inputTransforms=Hg(o.inputTransforms),y.declaredInputs=Hg(o.declaredInputs),y.outputs=Hg(o.outputs);const x=f.hostBindings;x&&zy(o,x);const I=f.viewQuery,S=f.contentQueries;if(I&&JT(o,I),S&&eD(o,S),G(o.inputs,f.inputs),G(o.declaredInputs,f.declaredInputs),G(o.outputs,f.outputs),null!==f.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),G(y.inputTransforms,f.inputTransforms)),Rr(f)&&f.data.animation){const R=o.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let y=0;y<g.length;y++){const x=g[y];x&&x.ngInherit&&x(o),x===Ml&&(l=!1)}}a=Object.getPrototypeOf(a)}!function XT(o){let a=0,l=null;for(let u=o.length-1;u>=0;u--){const f=o[u];f.hostVars=a+=f.hostVars,f.hostAttrs=aa(f.hostAttrs,l=aa(l,f.hostAttrs))}}(u)}function Hg(o){return o===Es?{}:o===Yt?[]:o}function JT(o,a){const l=o.viewQuery;o.viewQuery=l?(u,f)=>{a(u,f),l(u,f)}:a}function eD(o,a){const l=o.contentQueries;o.contentQueries=l?(u,f,g)=>{a(u,f,g),l(u,f,g)}:a}function zy(o,a){const l=o.hostBindings;o.hostBindings=l?(u,f)=>{a(u,f),l(u,f)}:a}function $y(o){const a=o.inputConfig,l={};for(const u in a)if(a.hasOwnProperty(u)){const f=a[u];Array.isArray(f)&&f[2]&&(l[u]=f[2])}o.inputTransforms=l}function zg(o){return!!$g(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function $g(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function $r(o,a,l){return o[a]=l}function bn(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function Rc(o,a,l,u){const f=bn(o,a,l);return bn(o,a+1,u)||f}function ym(o,a,l,u){const f=Re();return bn(f,Ea(),a)&&(Wt(),La(An(),f,o,a,l,u)),ym}function Va(o,a,l,u){return bn(o,Ea(),l)?a+se(l)+u:Vt}function wm(o,a,l,u,f,g,y,x){const S=function Eh(o,a,l,u,f){const g=Rc(o,a,l,u);return bn(o,a+2,f)||g}(o,function Yr(){return At.lFrame.bindingIndex}(),l,f,y);return Ts(3),S?a+se(l)+u+se(f)+g+se(y)+x:Vt}function dD(o,a,l,u,f,g,y,x){const I=Re(),S=Wt(),R=o+$t,V=S.firstCreatePass?function Sh(o,a,l,u,f,g,y,x,I){const S=a.consts,R=bh(a,o,4,y||null,Nr(S,x));$w(a,l,R,Nr(S,I)),pc(a,R);const V=R.tView=Rg(2,R,u,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S,null);return null!==a.queries&&(a.queries.template(a,R),V.queries=a.queries.embeddedTView(R)),R}(R,S,I,a,l,u,f,g,y):S.data[R];Go(V,!1);const Z=Kg(S,I,V,o);ls()&&rg(S,I,Z,V),Ur(Z,I),Fy(I,I[R]=qw(Z,I,Z,V)),Kr(V)&&dm(S,I,V),null!=y&&wh(I,V,x)}let Kg=function uD(o,a,l,u){return Ss(!0),a[St].createComment("")};function io(o){return wa(function Hp(){return At.lFrame.contextLView}(),$t+o)}function Qg(o,a,l){const u=Re();return bn(u,Ea(),a)&&ts(Wt(),An(),u,o,a,u[St],l,!1),Qg}function Qy(o,a,l,u,f){const y=f?"class":"style";By(o,l,a.inputs[y],y,u)}function ja(o,a,l,u){const f=Re(),g=Wt(),y=$t+o,x=f[St],I=g.firstCreatePass?function mD(o,a,l,u,f,g){const y=a.consts,I=bh(a,o,2,u,Nr(y,f));return $w(a,l,I,Nr(y,g)),null!==I.attrs&&Vy(I,I.attrs,!1),null!==I.mergedAttrs&&Vy(I,I.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,I),I}(y,g,f,a,l,u):g.data[y],S=Xg(g,f,I,x,a,o);f[y]=S;const R=Kr(I);return Go(I,!0),ag(x,S,I),32!=(32&I.flags)&&ls()&&rg(g,f,S,I),0===function hd(){return At.lFrame.elementDepthCount}()&&Ur(S,f),function Ni(){At.lFrame.elementDepthCount++}(),R&&(dm(g,f,I),ky(g,I,f)),null!==u&&wh(f,I),ja}function Tm(){let o=Pi();xa()?ju():(o=o.parent,Go(o,!1));const a=o;(function fd(o){return At.skipHydrationRootTNode===o})(a)&&function Uu(){At.skipHydrationRootTNode=null}(),function Mf(){At.lFrame.elementDepthCount--}();const l=Wt();return l.firstCreatePass&&(pc(l,o),sd(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Ys(o){return 0!=(8&o.flags)}(a)&&Qy(l,a,Re(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Ta(o){return 0!=(16&o.flags)}(a)&&Qy(l,a,Re(),a.stylesWithoutHost,!1),Tm}function le(o,a,l,u){return ja(o,a,l,u),Tm(),le}let Xg=(o,a,l,u,f,g)=>(Ss(!0),Vd(u,f,function Gu(){return At.lFrame.currentNamespace}()));function pD(){return Re()}function Ns(o){return!!o&&"function"==typeof o.then}function Dm(o){return!!o&&"function"==typeof o.subscribe}function Ah(o,a,l,u){const f=Re(),g=Wt(),y=Pi();return function gD(o,a,l,u,f,g,y){const x=Kr(u),S=o.firstCreatePass&&hm(o),R=a[mn],V=Fg(a);let Z=!0;if(3&u.type||y){const Ue=Wi(u,a),nt=y?y(Ue):Ue,It=V.length,Le=y?Zt=>y(pn(Zt[u.index])):u.index;let Ut=null;if(!y&&x&&(Ut=function ms(o,a,l,u){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const y=f[g];if(y===l&&f[g+1]===u){const x=a[Yc],I=f[g+2];return x.length>I?x[I]:null}"string"==typeof y&&(g+=2)}return null}(o,a,f,u.index)),null!==Ut)(Ut.__ngLastListenerFn__||Ut).__ngNextListenerFn__=g,Ut.__ngLastListenerFn__=g,Z=!1;else{g=za(u,a,R,g,!1);const Zt=l.listen(nt,f,g);V.push(g,Zt),S&&S.push(f,Le,It,It+1)}}else g=za(u,a,R,g,!1);const J=u.outputs;let Ce;if(Z&&null!==J&&(Ce=J[f])){const Ue=Ce.length;if(Ue)for(let nt=0;nt<Ue;nt+=2){const wn=a[Ce[nt]][Ce[nt+1]].subscribe(g),ao=V.length;V.push(g,wn),S&&S.push(f,u.index,ao,-(ao+1))}}}(g,f,f[St],y,o,a,u),Ah}function mx(o,a,l,u){try{return Cs(6,a,l),!1!==l(u)}catch(f){return Ly(o,f),!1}finally{Cs(7,a,l)}}function za(o,a,l,u,f){return function g(y){if(y===Function)return u;Ig(o.componentOffset>-1?Zi(o.index,a):a);let I=mx(a,l,u,y),S=g.__ngNextListenerFn__;for(;S;)I=mx(a,l,S,y)&&I,S=S.__ngNextListenerFn__;return f&&!1===I&&y.preventDefault(),I}}function px(o=1){return function wd(o){return(At.lFrame.contextLView=function cl(o,a){for(;o>0;)a=a[po],o--;return a}(o,At.lFrame.contextLView))[mn]}(o)}function Xy(o,a){let l=null;const u=function uf(o){const a=o.attrs;if(null!=a){const l=a.indexOf(5);if(!(1&l))return a[l+1]}return null}(o);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===u?Jl(o,g,!0):hf(u,g))return f}else l=f}return l}function gx(o){const a=Re()[jn][$i];if(!a.projection){const u=a.projection=Ma(o?o.length:1,null),f=u.slice();let g=a.child;for(;null!==g;){const y=o?Xy(g,o):0;null!==y&&(f[y]?f[y].projectionNext=g:u[y]=g,f[y]=g),g=g.next}}}function _D(o,a=0,l){const u=Re(),f=Wt(),g=bh(f,$t+o,16,null,l||null);null===g.projection&&(g.projection=a),ju(),(!u[Zr]||Ks())&&32!=(32&g.flags)&&function aw(o,a,l){cw(a[St],0,a,l,Zf(o,l,a),VI(l.parent||a[$i],l,a))}(f,u,g)}function _x(o,a,l){return vx(o,"",a,"",l),_x}function vx(o,a,l,u,f){const g=Re(),y=Va(g,a,l,u);return y!==Vt&&ts(Wt(),An(),g,o,y,g[St],f,!1),vx}function Jy(o,a){return o<<17|a<<2}function Wd(o){return o>>17&32767}function eb(o){return 2|o}function kh(o){return(131068&o)>>2}function tb(o,a){return-131069&o|a<<2}function yx(o){return 1|o}function bx(o,a,l,u,f){const g=o[l+1],y=null===a;let x=u?Wd(g):kh(g),I=!1;for(;0!==x&&(!1===I||y);){const R=o[x+1];Jn(o[x],a)&&(I=!0,o[x+1]=u?yx(R):eb(R)),x=u?Wd(R):kh(R)}I&&(o[l+1]=u?eb(g):yx(g))}function Jn(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Sd(o,a)>=0}function Rh(o,a,l){return hr(o,a,l,!1),Rh}function Ex(o,a){return hr(o,a,null,!0),Ex}function hr(o,a,l,u){const f=Re(),g=Wt(),y=Ts(2);g.firstUpdatePass&&function Cx(o,a,l,u){const f=o.data;if(null===f[l+1]){const g=f[Qi()],y=function Pl(o,a){return a>=o.expandoStartIndex}(o,l);(function Sx(o,a){return 0!=(o.flags&(a?8:16))})(g,u)&&null===a&&!y&&(a=!1),a=function Sm(o,a,l,u){const f=function Of(o){const a=At.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let g=u?a.residualClasses:a.residualStyles;if(null===f)0===(u?a.classBindings:a.styleBindings)&&(l=Fl(l=t_(null,o,a,l,u),a.attrs,u),g=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==f)if(l=t_(f,o,a,l,u),null===g){let I=function Ix(o,a,l){const u=l?a.classBindings:a.styleBindings;if(0!==kh(u))return o[Wd(u)]}(o,a,u);void 0!==I&&Array.isArray(I)&&(I=t_(null,o,a,I[1],u),I=Fl(I,a.attrs,u),function ib(o,a,l,u){o[Wd(l?a.classBindings:a.styleBindings)]=u}(o,a,u,I))}else g=function Oh(o,a,l){let u;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)u=Fl(u,o[g].hostAttrs,l);return Fl(u,a.attrs,l)}(o,a,u)}return void 0!==g&&(u?a.residualClasses=g:a.residualStyles=g),l}(f,g,a,u),function SD(o,a,l,u,f,g){let y=g?a.classBindings:a.styleBindings,x=Wd(y),I=kh(y);o[u]=l;let R,S=!1;if(Array.isArray(l)?(R=l[1],(null===R||Sd(l,R)>0)&&(S=!0)):R=l,f)if(0!==I){const Z=Wd(o[x+1]);o[u+1]=Jy(Z,x),0!==Z&&(o[Z+1]=tb(o[Z+1],u)),o[x+1]=function Z1(o,a){return 131071&o|a<<17}(o[x+1],u)}else o[u+1]=Jy(x,0),0!==x&&(o[x+1]=tb(o[x+1],u)),x=u;else o[u+1]=Jy(I,0),0===x?x=u:o[I+1]=tb(o[I+1],u),I=u;S&&(o[u+1]=eb(o[u+1])),bx(o,R,u,!0),bx(o,R,u,!1),function Zd(o,a,l,u,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&Sd(g,a)>=0&&(l[u+1]=yx(l[u+1]))}(a,R,o,u,g),y=Jy(x,I),g?a.classBindings=y:a.styleBindings=y}(f,g,a,l,y,u)}}(g,o,y,u),a!==Vt&&bn(f,y,a)&&function Dx(o,a,l,u,f,g,y,x){if(!(3&a.type))return;const I=o.data,S=I[x+1],R=function TD(o){return 1==(1&o)}(S)?RD(I,a,l,f,kh(S),y):void 0;sb(R)||(sb(g)||function W1(o){return 2==(2&o)}(S)&&(g=RD(I,null,l,f,x,y)),function zM(o,a,l,u,f){if(a)f?o.addClass(l,u):o.removeClass(l,u);else{let g=-1===u.indexOf("-")?void 0:Ld.DashCase;null==f?o.removeStyle(l,u,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Ld.Important),o.setStyle(l,u,f,g))}}(u,y,ba(Qi(),l),f,g))}(g,g.data[Qi()],f,f[St],o,f[y+1]=function OD(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=re(El(o)))),o}(a,l),u,y)}function t_(o,a,l,u,f){let g=null;const y=l.directiveEnd;let x=l.directiveStylingLast;for(-1===x?x=l.directiveStart:x++;x<y&&(g=a[x],u=Fl(u,g.hostAttrs,f),g!==o);)x++;return null!==o&&(l.directiveStylingLast=x),u}function Fl(o,a,l){const u=l?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const y=a[g];"number"==typeof y?f=y:f===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Ms(o,y,!!l||a[++g]))}return void 0===o?null:o}function RD(o,a,l,u,f,g){const y=null===a;let x;for(;f>0;){const I=o[f],S=Array.isArray(I),R=S?I[1]:I,V=null===R;let Z=l[f+1];Z===Vt&&(Z=V?Yt:void 0);let J=V?Zp(Z,u):R===u?Z:void 0;if(S&&!sb(J)&&(J=Zp(I,u)),sb(J)&&(x=J,y))return x;const Ce=o[f+1];f=y?Wd(Ce):kh(Ce)}if(null!==a){let I=g?a.residualClasses:a.residualStyles;null!=I&&(x=Zp(I,u))}return x}function sb(o){return void 0!==o}function qr(o,a=""){const l=Re(),u=Wt(),f=o+$t,g=u.firstCreatePass?bh(u,f,1,a,null):u.data[f],y=Ax(u,l,g,a,o);l[f]=y,ls()&&rg(u,l,y,g),Go(g,!1)}let Ax=(o,a,l,u,f)=>(Ss(!0),function Bd(o,a){return o.createText(a)}(a[St],u));function ob(o){return i_("",o,""),ob}function i_(o,a,l){const u=Re(),f=Va(u,o,a,l);return f!==Vt&&To(u,Qi(),f),i_}function kx(o,a,l,u,f,g,y){const x=Re(),I=wm(x,o,a,l,u,f,g,y);return I!==Vt&&To(x,Qi(),I),kx}function a_(o,a,l){const u=Re();return bn(u,Ea(),a)&&ts(Wt(),An(),u,o,a,u[St],l,!0),a_}const er=void 0;var ub=["en",[["a","p"],["AM","PM"],er],[["AM","PM"],er,er],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],er,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],er,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",er,"{1} 'at' {0}",er],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Bx(o){const l=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let Pc={};function c_(o){const a=function rR(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=Ux(a);if(l)return l;const u=a.split("-")[0];if(l=Ux(u),l)return l;if("en"===u)return ub;throw new ae(701,!1)}function Vx(o){return c_(o)[so.PluralCase]}function Ux(o){return o in Pc||(Pc[o]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[o]),Pc[o]}var so=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(so||{});const Fc="en-US";let HD=Fc;function w_(o,a,l,u,f){if(o=Ne(o),Array.isArray(o))for(let g=0;g<o.length;g++)w_(o[g],a,l,u,f);else{const g=Wt(),y=Re(),x=Pi();let I=em(o)?o:Ne(o.provide);const S=Bi(o),R=1048575&x.providerIndexes,V=x.directiveStart,Z=x.providerIndexes>>20;if(em(o)||!o.multi){const J=new As(S,f,zd),Ce=x_(I,a,f?R:R+Z,V);-1===Ce?(Sa(Mn(x,y),g,I),tE(g,o,a.length),a.push(I),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),l.push(J),y.push(J)):(l[Ce]=J,y[Ce]=J)}else{const J=x_(I,a,R+Z,V),Ce=x_(I,a,R,R+Z),nt=Ce>=0&&l[Ce];if(f&&!nt||!f&&!(J>=0&&l[J])){Sa(Mn(x,y),g,I);const It=function xR(o,a,l,u,f){const g=new As(o,l,zd);return g.multi=[],g.index=a,g.componentProviders=0,nE(g,f,u&&!l),g}(f?wR:sS,l.length,f,u,S);!f&&nt&&(l[Ce].providerFactory=It),tE(g,o,a.length,0),a.push(I),x.directiveStart++,x.directiveEnd++,f&&(x.providerIndexes+=1048576),l.push(It),y.push(It)}else tE(g,o,J>-1?J:Ce,nE(l[f?Ce:J],S,!f&&u));!f&&u&&nt&&l[Ce].componentProviders++}}}function tE(o,a,l,u){const f=em(a),g=function iL(o){return!!o.useClass}(a);if(f||g){const I=(g?Ne(a.useClass):a).prototype.ngOnDestroy;if(I){const S=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const R=S.indexOf(l);-1===R?S.push(l,[u,I]):S[R+1].push(u,I)}else S.push(l,I)}}}function nE(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function x_(o,a,l,u){for(let f=l;f<u;f++)if(a[f]===o)return f;return-1}function sS(o,a,l,u){return wb(this.multi,[])}function wR(o,a,l,u){const f=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,x=ka(l,l[st],this.providerFactory.index,u);g=x.slice(0,y),wb(f,g);for(let I=y;I<x.length;I++)g.push(x[I])}else g=[],wb(f,g);return g}function wb(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function oS(o,a=[]){return l=>{l.providersResolver=(u,f)=>function b_(o,a,l){const u=Wt();if(u.firstCreatePass){const f=Rr(o);w_(l,u.data,u.blueprint,f,!0),w_(a,u.data,u.blueprint,f,!1)}}(u,f?f(o):o,a)}}class jh{}class Bl{}function Fm(o,a){return new iE(o,a??null,[])}class iE extends jh{constructor(a,l,u){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ug(this);const f=br(a);this._bootstrapComponents=Dl(f.bootstrap),this._r3Injector=kw(a,l,[{provide:jh,useValue:this},{provide:vg,useValue:this.componentFactoryResolver},...u],re(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class xb extends Bl{constructor(a){super(),this.moduleType=a}create(a){return new iE(this.moduleType,a,[])}}class rE extends jh{constructor(a){super(),this.componentFactoryResolver=new Ug(this),this.instance=null;const l=new fg([...a.providers,{provide:jh,useValue:this},{provide:vg,useValue:this.componentFactoryResolver}],a.parent||gi(),a.debugName,new Set(["environment"]));this.injector=l,a.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function aS(o,a,l=null){return new rE({providers:o,parent:a,debugName:l,runEnvironmentInitializers:!0}).injector}let cS=(()=>{var o;class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u)){const f=dT(0,u.type),g=f.length>0?aS([f],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u,g)}return this.cachedInjectors.get(u)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return(o=a).\u0275prov=gt({token:o,providedIn:"environment",factory:()=>new o(Rt(Tl))}),a})();function E_(o){o.getStandaloneInjector=a=>a.get(cS).getOrCreateStandaloneInjector(o)}function zh(o,a){const l=o[a];return l===Vt?void 0:l}function T_(o,a){const l=Wt();let u;const f=o+$t;l.firstCreatePass?(u=function MR(o,a){if(a)for(let l=a.length-1;l>=0;l--){const u=a[l];if(o===u.name)return u}}(a,l.pipeRegistry),l.data[f]=u,u.onDestroy&&(l.destroyHooks??=[]).push(f,u.onDestroy)):u=l.data[f];const g=u.factory||(u.factory=ma(u.type)),x=xn(zd);try{const I=Fi(!1),S=g();return Fi(I),function fD(o,a,l,u){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),a[l]=u}(l,Re(),f,S),S}finally{xn(x)}}function gS(o,a,l){const u=o+$t,f=Re(),g=wa(f,u);return Vm(f,u)?function Cb(o,a,l,u,f,g){const y=a+l;return bn(o,y,f)?$r(o,y+1,g?u.call(g,f):u(f)):zh(o,y+1)}(f,Pr(),a,g.transform,l,g):g.transform(l)}function hE(o,a,l,u){const f=o+$t,g=Re(),y=wa(g,f);return Vm(g,f)?function lE(o,a,l,u,f,g,y){const x=a+l;return Rc(o,x,f,g)?$r(o,x+2,y?u.call(y,f,g):u(f,g)):zh(o,x+2)}(g,Pr(),a,y.transform,l,u,y):y.transform(l,u)}function Vm(o,a){return o[st].data[a].pure}function _S(){return this._results[Symbol.iterator]()}class Tr{get changes(){return this._changes||(this._changes=new Gn)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Tr.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=_S)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const u=this;u.dirty=!1;const f=function Vr(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Js(o,a,l){if(o.length!==a.length)return!1;for(let u=0;u<o.length;u++){let f=o[u],g=a[u];if(l&&(f=l(f),g=l(g)),g!==f)return!1}return!0}(u._results,f,l))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Sb(o,a,l,u=!0){const f=a[st];if(function tw(o,a,l,u){const f=qi+u,g=l.length;u>0&&(l[f-1][wr]=a),u<g-qi?(a[wr]=l[f],Uv(l,qi+u,a)):(l.push(a),a[wr]=null),a[Un]=l;const y=a[Eu];null!==y&&l!==y&&function ng(o,a){const l=o[Mi];a[jn]!==a[Un][Un][jn]&&(o[rd]=!0),null===l?o[Mi]=[a]:l.push(a)}(y,a);const x=a[Ai];null!==x&&x.insertView(o),a[Dt]|=128}(f,a,o,l),u){const g=ow(l,o),y=a[St],x=ey(y,o[ki]);null!==x&&function Ud(o,a,l,u,f,g){u[Vn]=f,u[$i]=a,og(o,u,l,1,f,g)}(f,o[$i],y,a,x,g)}}let ta=(()=>{class a{}return a.__NG_ELEMENT_ID__=$h,a})();const Um=ta,yS=class extends Um{constructor(a,l,u){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,l){return this.createEmbeddedViewImpl(a,l)}createEmbeddedViewImpl(a,l,u){const f=function vS(o,a,l,u){const f=a.tView,x=kg(o,f,l,4096&o[Dt]?4096:16,null,a,null,null,null,u?.injector??null,u?.hydrationInfo??null);x[Eu]=o[a.index];const S=o[Ai];return null!==S&&(x[Ai]=S.createEmbeddedView(f)),_i(f,x,l),x}(this._declarationLView,this._declarationTContainer,a,{injector:l,hydrationInfo:u});return new pm(f)}};function $h(){return Ab(Pi(),Re())}function Ab(o,a){return 4&o.type?new yS(a,o,Hd(o,a)):null}let M_=(()=>{class a{}return a.__NG_ELEMENT_ID__=PR,a})();function PR(){return jm(Pi(),Re())}const CS=M_,IS=class extends CS{constructor(a,l,u){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=u}get element(){return Hd(this._hostTNode,this._hostLView)}get injector(){return new Qn(this._hostTNode,this._hostLView)}get parentInjector(){const a=Qr(this._hostTNode,this._hostLView);if(_c(a)){const l=Fr(a,this._hostLView),u=gn(a);return new Qn(l[st].data[u+8],l)}return new Qn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=mE(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-qi}createEmbeddedView(a,l,u){let f,g;"number"==typeof u?f=u:null!=u&&(f=u.index,g=u.injector);const x=a.createEmbeddedViewImpl(l||{},g,null);return this.insertImpl(x,f,false),x}createComponent(a,l,u,f,g){const y=a&&!function Li(o){return"function"==typeof o}(a);let x;if(y)x=l;else{const Ue=l||{};x=Ue.index,u=Ue.injector,f=Ue.projectableNodes,g=Ue.environmentInjector||Ue.ngModuleRef}const I=y?a:new gm(Qt(a)),S=u||this.parentInjector;if(!g&&null==I.ngModule){const nt=(y?S:this.parentInjector).get(Tl,null);nt&&(g=nt)}Qt(I.componentType??{});const J=I.create(S,f,null,g);return this.insertImpl(J.hostView,x,false),J}insert(a,l){return this.insertImpl(a,l,!1)}insertImpl(a,l,u){const f=a._lView;if(function Up(o){return lr(o[Un])}(f)){const I=this.indexOf(a);if(-1!==I)this.detach(I);else{const S=f[Un],R=new IS(S,S[$i],S[Un]);R.detach(R.indexOf(a))}}const y=this._adjustIndex(l),x=this._lContainer;return Sb(x,f,y,!u),a.attachToViewContainerRef(),Uv(Hl(x),y,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=mE(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),u=Jv(this._lContainer,l);u&&(qp(Hl(this._lContainer),l),nw(u[st],u))}detach(a){const l=this._adjustIndex(a,-1),u=Jv(this._lContainer,l);return u&&null!=qp(Hl(this._lContainer),l)?new pm(u):null}_adjustIndex(a,l=0){return a??this.length+l}};function mE(o){return o[8]}function Hl(o){return o[8]||(o[8]=[])}function jm(o,a){let l;const u=a[o.index];return lr(u)?l=u:(l=qw(u,a,null,o),a[o.index]=l,Fy(a,l)),pE(l,a,o,u),new IS(l,o,a)}let pE=function DS(o,a,l,u){if(o[ki])return;let f;f=8&l.type?pn(u):function TS(o,a){const l=o[St],u=l.createComment(""),f=Wi(a,o);return lh(l,ey(l,f),u,function jM(o,a){return o.nextSibling(a)}(l,f),!1),u}(a,l),o[ki]=f};class gE{constructor(a){this.queryList=a,this.matches=null}clone(){return new gE(this.queryList)}setDirty(){this.queryList.setDirty()}}class R_{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const u=null!==a.contentQueries?a.contentQueries[0]:l.length,f=[];for(let g=0;g<u;g++){const y=l.getByIndex(g);f.push(this.queries[y.indexInDeclarationView].clone())}return new R_(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==xE(a,l).matches&&this.queries[l].setDirty()}}class Dr{constructor(a,l,u=null){this.predicate=a,this.flags=l,this.read=u}}class _E{constructor(a=[]){this.queries=a}elementStart(a,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let u=0;u<this.length;u++){const f=null!==l?l.length:0,g=this.getByIndex(u).embeddedTView(a,f);g&&(g.indexInDeclarationView=u,null!==l?l.push(g):l=[g])}return null!==l?new _E(l):null}template(a,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class vE{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new vE(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const g=u[f];this.matchTNodeWithReadOption(a,l,LR(l,g)),this.matchTNodeWithReadOption(a,l,Aa(l,a,g,!1,!1))}else u===ta?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Aa(l,a,u,!1,!1))}matchTNodeWithReadOption(a,l,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===_h||f===M_||f===ta&&4&l.type)this.addMatch(l.index,-2);else{const g=Aa(l,a,f,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,u)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function LR(o,a){const l=o.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===a)return l[u+1];return null}function yE(o,a,l,u){return-1===l?function BR(o,a){return 11&o.type?Hd(o,a):4&o.type?Ab(o,a):null}(a,o):-2===l?function VR(o,a,l){return l===_h?Hd(a,o):l===ta?Ab(a,o):l===M_?jm(a,o):void 0}(o,a,u):ka(o,o[st],l,a)}function O_(o,a,l,u){const f=a[Ai].queries[u];if(null===f.matches){const g=o.data,y=l.matches,x=[];for(let I=0;I<y.length;I+=2){const S=y[I];x.push(S<0?null:yE(a,g[S],y[I+1],l.metadata.read))}f.matches=x}return f.matches}function Hm(o,a,l,u){const f=o.queries.getByIndex(l),g=f.matches;if(null!==g){const y=O_(o,a,f,l);for(let x=0;x<g.length;x+=2){const I=g[x];if(I>0)u.push(y[x/2]);else{const S=g[x+1],R=a[-I];for(let V=qi;V<R.length;V++){const Z=R[V];Z[Eu]===Z[Un]&&Hm(Z[st],Z,S,u)}if(null!==R[Mi]){const V=R[Mi];for(let Z=0;Z<V.length;Z++){const J=V[Z];Hm(J[st],J,S,u)}}}}}return u}function AS(o){const a=Re(),l=Wt(),u=bd();Nf(u+1);const f=xE(l,u);if(o.dirty&&function Vp(o){return 4==(4&o[Dt])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?Hm(l,a,u,[]):O_(l,a,f,u);o.reset(g,Iw),o.notifyOnChanges()}return!0}return!1}function bE(o,a,l){const u=Wt();u.firstCreatePass&&(Rb(u,new Dr(o,a,l),-1),2==(2&a)&&(u.staticViewQueries=!0)),P_(u,Re(),a)}function kb(o,a,l,u){const f=Wt();if(f.firstCreatePass){const g=Pi();Rb(f,new Dr(a,l,u),g.index),function wE(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(f,o),2==(2&l)&&(f.staticContentQueries=!0)}P_(f,Re(),l)}function Mb(){return function N_(o,a){return o[Ai].queries[a].queryList}(Re(),bd())}function P_(o,a,l){const u=new Tr(4==(4&l));(function Al(o,a,l,u){const f=Fg(a);f.push(l),o.firstCreatePass&&hm(o).push(u,f.length-1)})(o,a,u,u.destroy),null===a[Ai]&&(a[Ai]=new R_),a[Ai].queries.push(new gE(u))}function Rb(o,a,l){null===o.queries&&(o.queries=new _E),o.queries.track(new vE(a,l))}function xE(o,a){return o.queries.getByIndex(a)}function kS(o,a){return Ab(o,a)}function IE(o){return!!br(o)}const Bb=new Rn("Application Initializer");let BE=(()=>{var o;class a{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f}),this.appInits=jt(Bb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const g of this.appInits){const y=g();if(Ns(y))u.push(y);else if(Dm(y)){const x=new Promise((I,S)=>{y.subscribe({complete:I,error:S})});u.push(x)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{f()}).catch(g=>{this.reject(g)}),0===u.length&&f(),this.initialized=!0}}return(o=a).\u0275fac=function(u){return new(u||o)},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"root"}),a})(),Vb=(()=>{var o;class a{log(u){console.log(u)}warn(u){console.warn(u)}}return(o=a).\u0275fac=function(u){return new(u||o)},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"platform"}),a})();const Zm=new Rn("LocaleId",{providedIn:"root",factory:()=>jt(Zm,Tt.Optional|Tt.SkipSelf)||function Ub(){return typeof $localize<"u"&&$localize.locale||Fc}()}),GS=new Rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let WS=(()=>{var o;class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new oe.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(o=a).\u0275fac=function(u){return new(u||o)},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();class ZS{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}let KS=(()=>{var o;class a{compileModuleSync(u){return new xb(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),y=Dl(br(u).declarations).reduce((x,I)=>{const S=Qt(I);return S&&x.push(new gm(S)),x},[]);return new ZS(f,y)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return(o=a).\u0275fac=function(u){return new(u||o)},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();const nA=new Rn(""),qE=new Rn("");let zb,nO=(()=>{var o;class a{constructor(u,f,g){this._ngZone=u,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zb||(function iA(o){zb=o}(g),g.addToWindow(f)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,g){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==y),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:g})}whenStable(u,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,f,g){return[]}}return(o=a).\u0275fac=function(u){return new(u||o)(Rt(zr),Rt(WE),Rt(qE))},o.\u0275prov=gt({token:o,factory:o.\u0275fac}),a})(),WE=(()=>{var o;class a{constructor(){this._applications=new Map}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return zb?.findTestabilityInTree(this,u,f)??null}}return(o=a).\u0275fac=function(u){return new(u||o)},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"platform"}),a})(),zl=null;const rA=new Rn("AllowMultipleToken"),ZE=new Rn("PlatformDestroyListeners"),KE=new Rn("appBootstrapListener");class rO{constructor(a,l){this.name=a,this.token=l}}function qb(o,a,l=[]){const u=`Platform: ${a}`,f=new Rn(u);return(g=[])=>{let y=XE();if(!y||y.injector.get(rA,!1)){const x=[...l,...g,{provide:f,useValue:!0}];o?o(x):function QE(o){if(zl&&!zl.get(rA,!1))throw new ae(400,!1);(function $b(){!function Rp(o){Cf=o}(()=>{throw new ae(600,!1)})})(),zl=o;const a=o.get(Wb);(function Gb(o){o.get(dy,null)?.forEach(l=>l())})(o)}(function aA(o=[],a){return Jo.create({name:a,providers:[{provide:cy,useValue:"platform"},{provide:ZE,useValue:new Set([()=>zl=null])},...o]})}(x,u))}return function oA(o){const a=XE();if(!a)throw new ae(401,!1);return a}()}}function XE(){return zl?.get(Wb)??null}let Wb=(()=>{var o;class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const g=function JE(o="zone.js",a){return"noop"===o?new xg:"zone.js"===o?new zr(a):o}(f?.ngZone,function lA(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return g.run(()=>{const y=function Vl(o,a,l){return new iE(o,a,l)}(u.moduleType,this.injector,function Vc(o){return[{provide:zr,useFactory:o},{provide:Jf,multi:!0,useFactory:()=>{const a=jt(aO,{optional:!0});return()=>a.initialize()}},{provide:eC,useFactory:tC},{provide:Ey,useFactory:Nw}]}(()=>g)),x=y.injector.get(kc,null);return g.runOutsideAngular(()=>{const I=g.onError.subscribe({next:S=>{x.handleError(S)}});y.onDestroy(()=>{Jm(this._modules,y),I.unsubscribe()})}),function dA(o,a,l){try{const u=l();return Ns(u)?u.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):u}catch(u){throw a.runOutsideAngular(()=>o.handleError(u)),u}}(x,g,()=>{const I=y.injector.get(BE);return I.runInitializers(),I.donePromise.then(()=>(function qt(o){Je(o,"Expected localeId to be defined"),"string"==typeof o&&(HD=o.toLowerCase().replace(/_/g,"-"))}(y.injector.get(Zm,Fc)||Fc),this._moduleDoBootstrap(y),y))})})}bootstrapModule(u,f=[]){const g=Zb({},f);return function iO(o,a,l){const u=new xb(l);return Promise.resolve(u)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(u){const f=u.injector.get(su);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!u.instance.ngDoBootstrap)throw new ae(-403,!1);u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ae(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const u=this._injector.get(ZE,null);u&&(u.forEach(f=>f()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(o=a).\u0275fac=function(u){return new(u||o)(Rt(Jo))},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"platform"}),a})();function Zb(o,a){return Array.isArray(a)?a.reduce(Zb,o):{...o,...a}}let su=(()=>{var o;class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=jt(eC),this.zoneIsStable=jt(Ey),this.componentTypes=[],this.components=[],this.isStable=jt(WS).hasPendingTasks.pipe((0,Oe.w)(u=>u?(0,de.of)(!1):this.zoneIsStable),(0,fe.x)(),(0,ve.B)()),this._injector=jt(Tl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,f){const g=u instanceof gh;if(!this._injector.get(BE).done)throw!g&&fo(u),new ae(405,!1);let x;x=g?u:this._injector.get(vg).resolveComponentFactory(u),this.componentTypes.push(x.componentType);const I=function YE(o){return o.isBoundToModule}(x)?void 0:this._injector.get(jh),R=x.create(Jo.NULL,[],f||x.selector,I),V=R.location.nativeElement,Z=R.injector.get(nA,null);return Z?.registerApplication(V),R.onDestroy(()=>{this.detachView(R.hostView),Jm(this.components,R),Z?.unregisterApplication(V)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new ae(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;Jm(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const f=this._injector.get(KE,[]);f.push(...this._bootstrapListeners),f.forEach(g=>g(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Jm(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ae(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(o=a).\u0275fac=function(u){return new(u||o)},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();function Jm(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}const eC=new Rn("",{providedIn:"root",factory:()=>jt(kc).handleError.bind(void 0)});function tC(){const o=jt(zr),a=jt(kc);return l=>o.runOutsideAngular(()=>a.handleError(l))}let aO=(()=>{var o;class a{constructor(){this.zone=jt(zr),this.applicationRef=jt(su)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(o=a).\u0275fac=function(u){return new(u||o)},o.\u0275prov=gt({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();function cO(){return!1}let lO=(()=>{class a{}return a.__NG_ELEMENT_ID__=iC,a})();function iC(o){return function dO(o,a,l){if(fa(o)&&!l){const u=Zi(o.index,a);return new pm(u,u)}return 47&o.type?new pm(a[jn],a):null}(Pi(),Re(),16==(16&o))}class vA{constructor(){}supports(a){return zg(a)}create(a){return new pO(a)}}const mO=(o,a)=>a;class pO{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||mO}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,u=this._removalsHead,f=0,g=null;for(;l||u;){const y=!u||l&&l.currentIndex<e0(u,f,g)?l:u,x=e0(y,f,g),I=y.currentIndex;if(y===u)f--,u=u._nextRemoved;else if(l=l._next,null==y.previousIndex)f++;else{g||(g=[]);const S=x-f,R=I-f;if(S!=R){for(let Z=0;Z<S;Z++){const J=Z<g.length?g[Z]:g[Z]=0,Ce=J+Z;R<=Ce&&Ce<S&&(g[Z]=J+1)}g[y.previousIndex]=R-S}}x!==I&&a(y,x,I)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!zg(a))throw new ae(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,y,l=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let x=0;x<this.length;x++)g=a[x],y=this._trackByFn(x,g),null!==l&&Object.is(l.trackById,y)?(u&&(l=this._verifyReinsertion(l,g,y,x)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,y,x),u=!0),l=l._next}else f=0,function vm(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[Symbol.iterator]();let u;for(;!(u=l.next()).done;)a(u.value)}}(a,x=>{y=this._trackByFn(f,x),null!==l&&Object.is(l.trackById,y)?(u&&(l=this._verifyReinsertion(l,x,y,f)),Object.is(l.item,x)||this._addIdentityChange(l,x)):(l=this._mismatch(l,x,y,f),u=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,u,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,g,f)):a=this._addAfter(new gO(l,u),g,f),a}_verifyReinsertion(a,l,u,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,l,u),this._addToMoves(a,u),a}_moveAfter(a,l,u){return this._unlink(a),this._insertAfter(a,l,u),this._addToMoves(a,u),a}_addAfter(a,l,u){return this._insertAfter(a,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,u){const f=null===l?this._itHead:l._next;return a._next=f,a._prev=l,null===f?this._itTail=a:f._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new Jb),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,u=a._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Jb),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class gO{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Xb{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const l=a._prevDup,u=a._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class Jb{constructor(){this.map=new Map}put(a){const l=a.trackById;let u=this.map.get(l);u||(u=new Xb,this.map.set(l,u)),u.add(a)}get(a,l){const f=this.map.get(a);return f?f.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function e0(o,a,l){const u=o.previousIndex;if(null===u)return u;let f=0;return l&&u<l.length&&(f=l[u]),u+a+f}class t0{constructor(){}supports(a){return a instanceof Map||$g(a)}create(){return new yA}}class yA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||$g(a)))throw new ae(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(f,u);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const u=a._prev;return l._next=a,l._prev=u,a._prev=l,u&&(u._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,l);const g=f._prev,y=f._next;return g&&(g._next=y),y&&(y._prev=g),f._next=null,f._prev=null,f}const u=new cC(a);return this._records.set(a,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(u=>l(a[u],u))}}class cC{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function n0(){return new ep([new vA])}let ep=(()=>{var o;class a{constructor(u){this.factories=u}static create(u,f){if(null!=f){const g=f.factories.slice();u=u.concat(g)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||n0()),deps:[[a,new Oa,new Qu]]}}find(u){const f=this.factories.find(g=>g.supports(u));if(null!=f)return f;throw new ae(901,!1)}}return(o=a).\u0275prov=gt({token:o,providedIn:"root",factory:n0}),a})();function lC(){return new tp([new t0])}let tp=(()=>{var o;class a{constructor(u){this.factories=u}static create(u,f){if(f){const g=f.factories.slice();u=u.concat(g)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||lC()),deps:[[a,new Oa,new Qu]]}}find(u){const f=this.factories.find(g=>g.supports(u));if(f)return f;throw new ae(901,!1)}}return(o=a).\u0275prov=gt({token:o,providedIn:"root",factory:lC}),a})();const uC=qb(null,"core",[]);let vO=(()=>{var o;class a{constructor(u){}}return(o=a).\u0275fac=function(u){return new(u||o)(Rt(su))},o.\u0275mod=Vo({type:o}),o.\u0275inj=Sn({}),a})();function CO(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function MA(o){const a=Qt(o);if(!a)return null;const l=new gm(a);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3399:(mt,Se,F)=>{F.d(Se,{Z:()=>Qe});var d=F(9058),ie=F(4537),B=F(7592),te=F(7879);class oe{constructor(Xe,Pe){this._delegate=Xe,this.firebase=Pe,(0,B._addComponent)(Xe,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=Xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Xe){this._delegate.automaticDataCollectionEnabled=Xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Xe=>{this._delegate.checkDestroyed(),Xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Xe,Pe=B._DEFAULT_ENTRY_NAME){var _t;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(Xe);return!pt.isInitialized()&&"EXPLICIT"===(null===(_t=pt.getComponent())||void 0===_t?void 0:_t.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:Pe})}_removeServiceInstance(Xe,Pe=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Xe).clearInstance(Pe)}_addComponent(Xe){(0,B._addComponent)(this._delegate,Xe)}_addOrOverwriteComponent(Xe){(0,B._addOrOverwriteComponent)(this._delegate,Xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function fe(){const Ne=function Oe(Ne){const Xe={},Pe={__esModule:!0,initializeApp:function ae(Be,ue={}){const Y=B.initializeApp(Be,ue);if((0,d.r3)(Xe,Y.name))return Xe[Y.name];const We=new Ne(Y,Pe);return Xe[Y.name]=We,We},app:pt,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function se(Be){const ue=Be.name,Y=ue.replace("-compat","");if(B._registerComponent(Be)&&"PUBLIC"===Be.type){const We=(vt=pt())=>{if("function"!=typeof vt[Y])throw ve.create("invalid-app-argument",{appName:ue});return vt[Y]()};void 0!==Be.serviceProps&&(0,d.ZB)(We,Be.serviceProps),Pe[Y]=We,Ne.prototype[Y]=function(...vt){return this._getService.bind(this,ue).apply(this,Be.multipleInstances?vt:[])}}return"PUBLIC"===Be.type?Pe[Y]:null},removeApp:function _t(Be){delete Xe[Be]},useAsService:function Te(Be,ue){return"serverAuth"===ue?null:ue},modularAPIs:B}};function pt(Be){if(!(0,d.r3)(Xe,Be=Be||B._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:Be});return Xe[Be]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function Ee(){return Object.keys(Xe).map(Be=>Xe[Be])}}),pt.App=Ne,Pe}(oe);return Ne.INTERNAL=Object.assign(Object.assign({},Ne.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function Xe(Pe){(0,d.ZB)(Ne,Pe)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Ne}(),G=new te.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ne=self.firebase.SDK_VERSION;Ne&&Ne.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=j;!function Me(Ne){(0,B.registerVersion)("@firebase/app-compat","0.2.13",Ne)}()},7592:(mt,Se,F)=>{F.r(Se),F.d(Se,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>Sn,_DEFAULT_ENTRY_NAME:()=>ce,_addComponent:()=>De,_addOrOverwriteComponent:()=>ke,_apps:()=>_e,_clearComponents:()=>yt,_components:()=>be,_getProvider:()=>Ke,_registerComponent:()=>Je,_removeServiceInstance:()=>Ln,deleteApp:()=>_r,getApp:()=>hn,getApps:()=>Si,initializeApp:()=>Zn,onLog:()=>vr,registerVersion:()=>ti,setLogLevel:()=>js});var d=F(5861),ie=F(4537),B=F(7879),te=F(9058),oe=F(1878);class de{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map(ye=>{if(function ve(we){const q=we.getComponent();return"VERSION"===q?.type}(ye)){const Ze=ye.getImmediate();return`${Ze.library}/${Ze.version}`}return null}).filter(ye=>ye).join(" ")}}const Oe="@firebase/app",j=new B.Yd("@firebase/app"),ce="[DEFAULT]",ge={[Oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_e=new Map,be=new Map;function De(we,q){try{we.container.addComponent(q)}catch(ye){j.debug(`Component ${q.name} failed to register with FirebaseApp ${we.name}`,ye)}}function ke(we,q){we.container.addOrOverwriteComponent(q)}function Je(we){const q=we.name;if(be.has(q))return j.debug(`There were multiple attempts to register component ${q}.`),!1;be.set(q,we);for(const ye of _e.values())De(ye,we);return!0}function Ke(we,q){const ye=we.container.getProvider("heartbeat").getImmediate({optional:!0});return ye&&ye.triggerHeartbeat(),we.container.getProvider(q)}function Ln(we,q,ye=ce){Ke(we,q).clearInstance(ye)}function yt(){be.clear()}const gt=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Dn{constructor(q,ye,Ze){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},ye),this._name=ye.name,this._automaticDataCollectionEnabled=ye.automaticDataCollectionEnabled,this._container=Ze,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw gt.create("app-deleted",{appName:this._name})}}const Sn="9.23.0";function Zn(we,q={}){let ye=we;"object"!=typeof q&&(q={name:q});const Ze=Object.assign({name:ce,automaticDataCollectionEnabled:!1},q),et=Ze.name;if("string"!=typeof et||!et)throw gt.create("bad-app-name",{appName:String(et)});if(ye||(ye=(0,te.aH)()),!ye)throw gt.create("no-options");const bt=_e.get(et);if(bt){if((0,te.vZ)(ye,bt.options)&&(0,te.vZ)(Ze,bt.config))return bt;throw gt.create("duplicate-app",{appName:et})}const ln=new ie.H0(et);for(const H of be.values())ln.addComponent(H);const z=new Dn(ye,Ze,ln);return _e.set(et,z),z}function hn(we=ce){const q=_e.get(we);if(!q&&we===ce&&(0,te.aH)())return Zn();if(!q)throw gt.create("no-app",{appName:we});return q}function Si(){return Array.from(_e.values())}function _r(we){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,d.Z)(function*(we){const q=we.name;_e.has(q)&&(_e.delete(q),yield Promise.all(we.container.getProviders().map(ye=>ye.delete())),we.isDeleted=!0)})).apply(this,arguments)}function ti(we,q,ye){var Ze;let et=null!==(Ze=ge[we])&&void 0!==Ze?Ze:we;ye&&(et+=`-${ye}`);const bt=et.match(/\s|\//),ln=q.match(/\s|\//);if(bt||ln){const z=[`Unable to register library "${et}" with version "${q}":`];return bt&&z.push(`library name "${et}" contains illegal characters (whitespace or "/")`),bt&&ln&&z.push("and"),ln&&z.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void j.warn(z.join(" "))}Je(new ie.wA(`${et}-version`,()=>({library:et,version:q}),"VERSION"))}function vr(we,q){if(null!==we&&"function"!=typeof we)throw gt.create("invalid-log-argument");(0,B.Am)(we,q)}function js(we){(0,B.Ub)(we)}const sa="firebase-heartbeat-database",Tt=1,Mt="firebase-heartbeat-store";let Ft=null;function xn(){return Ft||(Ft=(0,oe.X3)(sa,Tt,{upgrade:(we,q)=>{0===q&&we.createObjectStore(Mt)}}).catch(we=>{throw gt.create("idb-open",{originalErrorMessage:we.message})})),Ft}function ui(){return(ui=(0,d.Z)(function*(we){try{return yield(yield xn()).transaction(Mt).objectStore(Mt).get(Hs(we))}catch(q){if(q instanceof te.ZR)j.warn(q.message);else{const ye=gt.create("idb-get",{originalErrorMessage:q?.message});j.warn(ye.message)}}})).apply(this,arguments)}function fn(we,q){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,d.Z)(function*(we,q){try{const Ze=(yield xn()).transaction(Mt,"readwrite");yield Ze.objectStore(Mt).put(q,Hs(we)),yield Ze.done}catch(ye){if(ye instanceof te.ZR)j.warn(ye.message);else{const Ze=gt.create("idb-set",{originalErrorMessage:ye?.message});j.warn(Ze.message)}}})).apply(this,arguments)}function Hs(we){return`${we.name}!${we.options.appId}`}class en{constructor(q){this.container=q,this._heartbeatsCache=null;const ye=this.container.getProvider("app").getImmediate();this._storage=new ho(ye),this._heartbeatsCachePromise=this._storage.read().then(Ze=>(this._heartbeatsCache=Ze,Ze))}triggerHeartbeat(){var q=this;return(0,d.Z)(function*(){const Ze=q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),et=Ar();if(null===q._heartbeatsCache&&(q._heartbeatsCache=yield q._heartbeatsCachePromise),q._heartbeatsCache.lastSentHeartbeatDate!==et&&!q._heartbeatsCache.heartbeats.some(bt=>bt.date===et))return q._heartbeatsCache.heartbeats.push({date:et,agent:Ze}),q._heartbeatsCache.heartbeats=q._heartbeatsCache.heartbeats.filter(bt=>{const ln=new Date(bt.date).valueOf();return Date.now()-ln<=2592e6}),q._storage.overwrite(q._heartbeatsCache)})()}getHeartbeatsHeader(){var q=this;return(0,d.Z)(function*(){if(null===q._heartbeatsCache&&(yield q._heartbeatsCachePromise),null===q._heartbeatsCache||0===q._heartbeatsCache.heartbeats.length)return"";const ye=Ar(),{heartbeatsToSend:Ze,unsentEntries:et}=function zs(we,q=1024){const ye=[];let Ze=we.slice();for(const et of we){const bt=ye.find(ln=>ln.agent===et.agent);if(bt){if(bt.dates.push(et.date),or(ye)>q){bt.dates.pop();break}}else if(ye.push({agent:et.agent,dates:[et.date]}),or(ye)>q){ye.pop();break}Ze=Ze.slice(1)}return{heartbeatsToSend:ye,unsentEntries:Ze}}(q._heartbeatsCache.heartbeats),bt=(0,te.L)(JSON.stringify({version:2,heartbeats:Ze}));return q._heartbeatsCache.lastSentHeartbeatDate=ye,et.length>0?(q._heartbeatsCache.heartbeats=et,yield q._storage.overwrite(q._heartbeatsCache)):(q._heartbeatsCache.heartbeats=[],q._storage.overwrite(q._heartbeatsCache)),bt})()}}function Ar(){return(new Date).toISOString().substring(0,10)}class ho{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var q=this;return(0,d.Z)(function*(){return(yield q._canUseIndexedDBPromise)&&(yield function Bn(we){return ui.apply(this,arguments)}(q.app))||{heartbeats:[]}})()}overwrite(q){var ye=this;return(0,d.Z)(function*(){var Ze;if(yield ye._canUseIndexedDBPromise){const bt=yield ye.read();return fn(ye.app,{lastSentHeartbeatDate:null!==(Ze=q.lastSentHeartbeatDate)&&void 0!==Ze?Ze:bt.lastSentHeartbeatDate,heartbeats:q.heartbeats})}})()}add(q){var ye=this;return(0,d.Z)(function*(){var Ze;if(yield ye._canUseIndexedDBPromise){const bt=yield ye.read();return fn(ye.app,{lastSentHeartbeatDate:null!==(Ze=q.lastSentHeartbeatDate)&&void 0!==Ze?Ze:bt.lastSentHeartbeatDate,heartbeats:[...bt.heartbeats,...q.heartbeats]})}})()}}function or(we){return(0,te.L)(JSON.stringify({version:2,heartbeats:we})).length}!function $s(we){Je(new ie.wA("platform-logger",q=>new de(q),"PRIVATE")),Je(new ie.wA("heartbeat",q=>new en(q),"PRIVATE")),ti(Oe,"0.9.13",we),ti(Oe,"0.9.13","esm2017"),ti("fire-js","")}("")},4097:(mt,Se,F)=>{F.d(Se,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=F(7592);(0,d.registerVersion)("firebase","9.23.0","app")},120:(mt,Se,F)=>{F.d(Se,{Z:()=>d.Z});var d=F(3399);d.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(mt,Se,F)=>{F.r(Se);var d=F(5861),ie=F(3399),B=F(9058),te=F(7592),oe=F(7582),de=F(7879),ve=F(4537);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Qe=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ne=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Xe=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new de.Yd("@firebase/auth");function ae(b,...m){_t.logLevel<=de.in.ERROR&&_t.error(`Auth (${te.SDK_VERSION}): ${b}`,...m)}function Ee(b,...m){throw ue(b,...m)}function se(b,...m){return ue(b,...m)}function Te(b,m,_){const w=Object.assign(Object.assign({},Ne()),{[m]:_});return new B.LL("auth","Firebase",w).create(m,{appName:b.name})}function Be(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Ee(b,"argument-error"),Te(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ue(b,...m){if("string"!=typeof b){const _=m[0],w=[...m.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return Xe.create(b,...m)}function Y(b,m,..._){if(!b)throw ue(m,..._)}function We(b){const m="INTERNAL ASSERTION FAILED: "+b;throw ae(m),new Error(m)}function vt(b,m){b||We(m)}function cn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function In(){return"http:"===Tn()||"https:"===Tn()}function Tn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Di{constructor(m,_){this.shortDelay=m,this.longDelay=_,vt(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Wn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(In()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ce(b,m){vt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class ge{static initialize(m,_,w){this.fetchImpl=m,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void We("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void We("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void We("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},be=new Di(3e4,6e4);function De(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function ke(b,m,_,w){return Je.apply(this,arguments)}function Je(){return(Je=(0,d.Z)(function*(b,m,_,w,A={}){return Ke(b,A,(0,d.Z)(function*(){let O={},$={};w&&("GET"===m?$=w:O={body:JSON.stringify(w)});const ee=(0,B.xO)(Object.assign({key:b.config.apiKey},$)).slice(1),Ve=yield b._getAdditionalHeaders();return Ve["Content-Type"]="application/json",b.languageCode&&(Ve["X-Firebase-Locale"]=b.languageCode),ge.fetch()(gt(b,b.config.apiHost,_,ee),Object.assign({method:m,headers:Ve,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Ke(b,m,_){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,d.Z)(function*(b,m,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},_e),m);try{const A=new Dn(b),O=yield Promise.race([_(),A.promise]);A.clearNetworkTimeout();const $=yield O.json();if("needConfirmation"in $)throw Sn(b,"account-exists-with-different-credential",$);if(O.ok&&!("errorMessage"in $))return $;{const ee=O.ok?$.errorMessage:$.error.message,[Ve,qe]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw Sn(b,"credential-already-in-use",$);if("EMAIL_EXISTS"===Ve)throw Sn(b,"email-already-in-use",$);if("USER_DISABLED"===Ve)throw Sn(b,"user-disabled",$);const dt=w[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw Te(b,dt,qe);Ee(b,dt)}}catch(A){if(A instanceof B.ZR)throw A;Ee(b,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function yt(b,m,_,w){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,d.Z)(function*(b,m,_,w,A={}){const O=yield ke(b,m,_,w,A);return"mfaPendingCredential"in O&&Ee(b,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function gt(b,m,_,w){const A=`${m}${_}?${w}`;return b.config.emulator?ce(b.config,A):`${b.config.apiScheme}://${A}`}class Dn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(se(this.auth,"network-request-failed")),be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sn(b,m,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const A=se(b,m,w);return A.customData._tokenResponse=_,A}function hn(){return(hn=(0,d.Z)(function*(b,m){return ke(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function _r(){return(_r=(0,d.Z)(function*(b,m){return ke(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ti(){return(ti=(0,d.Z)(function*(b,m){return ke(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function vr(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Tt(){return(Tt=(0,d.Z)(function*(b,m=!1){const _=(0,B.m9)(b),w=yield _.getIdToken(m),A=Ft(w);Y(A&&A.exp&&A.auth_time&&A.iat,_.auth,"internal-error");const O="object"==typeof A.firebase?A.firebase:void 0,$=O?.sign_in_provider;return{claims:A,token:w,authTime:vr(Mt(A.auth_time)),issuedAtTime:vr(Mt(A.iat)),expirationTime:vr(Mt(A.exp)),signInProvider:$||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Mt(b){return 1e3*Number(b)}function Ft(b){const[m,_,w]=b.split(".");if(void 0===m||void 0===_||void 0===w)return ae("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,B.tV)(_);return A?JSON.parse(A):(ae("Failed to decode base64 JWT payload"),null)}catch(A){return ae("Caught error parsing JWT payload as JSON",A?.toString()),null}}function Bn(b,m){return ui.apply(this,arguments)}function ui(){return(ui=(0,d.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(w){throw w instanceof B.ZR&&function fn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}class Kn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(m);this.timerId=setTimeout((0,d.Z)(function*(){yield _.iteration()}),w)}iteration(){var m=this;return(0,d.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class Hs{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=vr(this.lastLoginAt),this.creationTime=vr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jt(b){return sr.apply(this,arguments)}function sr(){return sr=(0,d.Z)(function*(b){var m;const _=b.auth,w=yield b.getIdToken(),A=yield Bn(b,function Sr(b,m){return ti.apply(this,arguments)}(_,{idToken:w}));Y(A?.users.length,_,"internal-error");const O=A.users[0];b._notifyReloadListener(O);const $=null!==(m=O.providerUserInfo)&&void 0!==m&&m.length?function ho(b){return b.map(m=>{var{providerId:_}=m,w=(0,oe._T)(m,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(O.providerUserInfo):[],ee=function zs(b,m){return[...b.filter(w=>!m.some(A=>A.providerId===w.providerId)),...m]}(b.providerData,$),dt=!!b.isAnonymous&&!(b.email&&O.passwordHash||ee?.length),ut={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ee,metadata:new Hs(O.createdAt,O.lastLoginAt),isAnonymous:dt};Object.assign(b,ut)}),sr.apply(this,arguments)}function Ar(){return(Ar=(0,d.Z)(function*(b){const m=(0,B.m9)(b);yield Jt(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function $s(){return($s=(0,d.Z)(function*(b,m){const _=yield Ke(b,{},(0,d.Z)(function*(){const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:A,apiKey:O}=b.config,$=gt(b,A,"/v1/token",`key=${O}`),ee=yield b._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",ge.fetch()($,{method:"POST",headers:ee,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class we{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Y(m.idToken,"internal-error"),Y(typeof m.idToken<"u","internal-error"),Y(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function xn(b){const m=Ft(b);return Y(m,"internal-error"),Y(typeof m.exp<"u","internal-error"),Y(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var w=this;return(0,d.Z)(function*(){return Y(!w.accessToken||w.refreshToken,m,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(m,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var w=this;return(0,d.Z)(function*(){const{accessToken:A,refreshToken:O,expiresIn:$}=yield function or(b,m){return $s.apply(this,arguments)}(m,_);w.updateTokensAndExpiration(A,O,Number($))})()}updateTokensAndExpiration(m,_,w){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(m,_){const{refreshToken:w,accessToken:A,expirationTime:O}=_,$=new we;return w&&(Y("string"==typeof w,"internal-error",{appName:m}),$.refreshToken=w),A&&(Y("string"==typeof A,"internal-error",{appName:m}),$.accessToken=A),O&&(Y("number"==typeof O,"internal-error",{appName:m}),$.expirationTime=O),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new we,this.toJSON())}_performRefresh(){return We("not implemented")}}function q(b,m){Y("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class ye{constructor(m){var{uid:_,auth:w,stsTokenManager:A}=m,O=(0,oe._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Hs(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,d.Z)(function*(){const w=yield Bn(_,_.stsTokenManager.getToken(_.auth,m));return Y(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(m){return function sa(b){return Tt.apply(this,arguments)}(this,m)}reload(){return function en(b){return Ar.apply(this,arguments)}(this)}_assign(m){this!==m&&(Y(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const _=new ye(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(m){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var w=this;return(0,d.Z)(function*(){let A=!1;m.idToken&&m.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(m),A=!0),_&&(yield Jt(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var m=this;return(0,d.Z)(function*(){const _=yield m.getIdToken();return yield Bn(m,function Zn(b,m){return hn.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var w,A,O,$,ee,Ve,qe,dt;const ut=null!==(w=_.displayName)&&void 0!==w?w:void 0,Xn=null!==(A=_.email)&&void 0!==A?A:void 0,Rs=null!==(O=_.phoneNumber)&&void 0!==O?O:void 0,Ic=null!==($=_.photoURL)&&void 0!==$?$:void 0,wl=null!==(ee=_.tenantId)&&void 0!==ee?ee:void 0,Bd=null!==(Ve=_._redirectEventId)&&void 0!==Ve?Ve:void 0,Tc=null!==(qe=_.createdAt)&&void 0!==qe?qe:void 0,Dc=null!==(dt=_.lastLoginAt)&&void 0!==dt?dt:void 0,{uid:Vd,emailVerified:Yv,isAnonymous:Ud,providerData:xl,stsTokenManager:Qv}=_;Y(Vd&&Qv,m,"internal-error");const tw=we.fromJSON(this.name,Qv);Y("string"==typeof Vd,m,"internal-error"),q(ut,m.name),q(Xn,m.name),Y("boolean"==typeof Yv,m,"internal-error"),Y("boolean"==typeof Ud,m,"internal-error"),q(Rs,m.name),q(Ic,m.name),q(wl,m.name),q(Bd,m.name),q(Tc,m.name),q(Dc,m.name);const ng=new ye({uid:Vd,auth:m,email:Xn,emailVerified:Yv,displayName:ut,isAnonymous:Ud,photoURL:Ic,phoneNumber:Rs,tenantId:wl,stsTokenManager:tw,createdAt:Tc,lastLoginAt:Dc});return xl&&Array.isArray(xl)&&(ng.providerData=xl.map(Xv=>Object.assign({},Xv))),Bd&&(ng._redirectEventId=Bd),ng}static _fromIdTokenResponse(m,_,w=!1){return(0,d.Z)(function*(){const A=new we;A.updateFromServerResponse(_);const O=new ye({uid:_.localId,auth:m,stsTokenManager:A,isAnonymous:w});return yield Jt(O),O})()}}const Ze=new Map;function et(b){vt(b instanceof Function,"Expected a class definition");let m=Ze.get(b);return m?(vt(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,Ze.set(b,m),m)}const ln=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(_,w){var A=this;return(0,d.Z)(function*(){A.storage[_]=w})()}_get(_){var w=this;return(0,d.Z)(function*(){const A=w.storage[_];return void 0===A?null:A})()}_remove(_){var w=this;return(0,d.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function z(b,m,_){return`firebase:${b}:${m}:${_}`}class H{constructor(m,_,w){this.persistence=m,this.auth=_,this.userKey=w;const{config:A,name:O}=this.auth;this.fullUserKey=z(this.userKey,A.apiKey,O),this.fullPersistenceKey=z("persistence",A.apiKey,O),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,d.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?ye._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,d.Z)(function*(){if(_.persistence===m)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,w="authUser"){return(0,d.Z)(function*(){if(!_.length)return new H(et(ln),m,w);const A=(yield Promise.all(_.map(function(){var qe=(0,d.Z)(function*(dt){if(yield dt._isAvailable())return dt});return function(dt){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let O=A[0]||et(ln);const $=z(w,m.config.apiKey,m.name);let ee=null;for(const qe of _)try{const dt=yield qe._get($);if(dt){const ut=ye._fromJSON(m,dt);qe!==O&&(ee=ut),O=qe;break}}catch{}const Ve=A.filter(qe=>qe._shouldAllowMigration);return O._shouldAllowMigration&&Ve.length?(O=Ve[0],ee&&(yield O._set($,ee.toJSON())),yield Promise.all(_.map(function(){var qe=(0,d.Z)(function*(dt){if(dt!==O)try{yield dt._remove($)}catch{}});return function(dt){return qe.apply(this,arguments)}}())),new H(O,m,w)):new H(O,m,w)})()}}function Q(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Bt(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Ae(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(ar(m))return"Blackberry";if(jt(m))return"Webos";if(he(m))return"Safari";if((m.includes("chrome/")||at(m))&&!m.includes("edge/"))return"Chrome";if(Rt(m))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Ae(b=(0,B.z$)()){return/firefox\//i.test(b)}function he(b=(0,B.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function at(b=(0,B.z$)()){return/crios\//i.test(b)}function Bt(b=(0,B.z$)()){return/iemobile/i.test(b)}function Rt(b=(0,B.z$)()){return/android/i.test(b)}function ar(b=(0,B.z$)()){return/blackberry/i.test(b)}function jt(b=(0,B.z$)()){return/webos/i.test(b)}function hi(b=(0,B.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Qa(b=(0,B.z$)()){return hi(b)||Rt(b)||jt(b)||ar(b)||/windows phone/i.test(b)||Bt(b)}function Gs(b,m=[]){let _;switch(b){case"Browser":_=Q((0,B.z$)());break;case"Worker":_=`${Q((0,B.z$)())}-${b}`;break;default:_=b}const w=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${te.SDK_VERSION}/${w}`}function xs(){return(xs=(0,d.Z)(function*(b){return(yield ke(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Es(b,m){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,d.Z)(function*(b,m){return ke(b,"GET","/v2/recaptchaConfig",De(b,m))})).apply(this,arguments)}function Lo(b){return void 0!==b&&void 0!==b.getResponse}function Xa(b){return void 0!==b&&void 0!==b.enterprise}class qc{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function qs(b){return new Promise((m,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=m,w.onerror=A=>{const O=se("internal-error");O.customData=A,_(O)},w.type="text/javascript",w.charset="UTF-8",function df(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(w)})}function oa(b){return`__${b}${Math.floor(1e6*Math.random())}`}class vu{constructor(m){this.type="recaptcha-enterprise",this.auth=fi(m)}verify(m="verify",_=!1){var w=this;return(0,d.Z)(function*(){function O(){return O=(0,d.Z)(function*(ee){if(!_){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var Ve=(0,d.Z)(function*(qe,dt){Es(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ut=>{if(void 0!==ut.recaptchaKey){const Xn=new qc(ut);return null==ee.tenantId?ee._agentRecaptchaConfig=Xn:ee._tenantRecaptchaConfigs[ee.tenantId]=Xn,qe(Xn.siteKey)}dt(new Error("recaptcha Enterprise site key undefined"))}).catch(ut=>{dt(ut)})});return function(qe,dt){return Ve.apply(this,arguments)}}())}),O.apply(this,arguments)}function $(ee,Ve,qe){const dt=window.grecaptcha;Xa(dt)?dt.enterprise.ready(()=>{dt.enterprise.execute(ee,{action:m}).then(ut=>{Ve(ut)}).catch(()=>{Ve("NO_RECAPTCHA")})}):qe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,Ve)=>{(function A(ee){return O.apply(this,arguments)})(w.auth).then(qe=>{if(!_&&Xa(window.grecaptcha))$(qe,ee,Ve);else{if(typeof window>"u")return void Ve(new Error("RecaptchaVerifier is only supported in browser"));qs("https://www.google.com/recaptcha/enterprise.js?render="+qe).then(()=>{$(qe,ee,Ve)}).catch(dt=>{Ve(dt)})}}).catch(qe=>{Ve(qe)})})})()}}function ss(b,m,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,d.Z)(function*(b,m,_,w=!1){const A=new vu(b);let O;try{O=yield A.verify(_)}catch{O=yield A.verify(_,!0)}const $=Object.assign({},m);return Object.assign($,w?{captchaResp:O}:{captchaResponse:O}),Object.assign($,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$})).apply(this,arguments)}class Bo{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const w=O=>new Promise(($,ee)=>{try{$(m(O))}catch(Ve){ee(Ve)}});w.onAbort=_,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,d.Z)(function*(){if(_.auth.currentUser===m)return;const w=[];try{for(const A of _.queue)yield A(m),A.onAbort&&w.push(A.onAbort)}catch(A){w.reverse();for(const O of w)try{O()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class yu{constructor(m,_,w,A){this.app=m,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=w,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kr(this),this.idTokenSubscription=new kr(this),this.beforeStateQueue=new Bo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(m,_){var w=this;return _&&(this._popupRedirectResolver=et(_)),this._initializationPromise=this.queue((0,d.Z)(function*(){var A,O;if(!w._deleted&&(w.persistenceManager=yield H.create(w,m),!w._deleted)){if(null!==(A=w._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,d.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,d.Z)(function*(){var w;const A=yield _.assertedPersistence.getCurrentUser();let O=A,$=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ee=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,Ve=O?._redirectEventId,qe=yield _.tryRedirectSignIn(m);(!ee||ee===Ve)&&qe?.user&&(O=qe.user,$=!0)}if(!O)return _.directlySetCurrentUser(null);if(!O._redirectEventId){if($)try{yield _.beforeStateQueue.runMiddleware(O)}catch(ee){O=A,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ee))}return O?_.reloadAndSetCurrentUserOrClear(O):_.directlySetCurrentUser(null)}return Y(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===O._redirectEventId?_.directlySetCurrentUser(O):_.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(m){var _=this;return(0,d.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,d.Z)(function*(){try{yield Jt(m)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Fn(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,d.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,d.Z)(function*(){const w=m?(0,B.m9)(m):null;return w&&Y(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(m,_=!1){var w=this;return(0,d.Z)(function*(){if(!w._deleted)return m&&Y(w.tenantId===m.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(m)),w.queue((0,d.Z)(function*(){yield w.directlySetCurrentUser(m),w.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,d.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,d.Z)(function*(){yield _.assertedPersistence.setPersistence(et(m))}))}initializeRecaptchaConfig(){var m=this;return(0,d.Z)(function*(){const _=yield Es(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new qc(_);null==m.tenantId?m._agentRecaptchaConfig=w:m._tenantRecaptchaConfigs[m.tenantId]=w,w.emailPasswordEnabled&&new vu(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new B.LL("auth","Firebase",m())}onAuthStateChanged(m,_,w){return this.registerStateListener(this.authStateSubscription,m,_,w)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,w){return this.registerStateListener(this.idTokenSubscription,m,_,w)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var w=this;return(0,d.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(_);return null===m?A.removeCurrentUser():A.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,d.Z)(function*(){if(!_.redirectPersistenceManager){const w=m&&et(m)||_._popupRedirectResolver;Y(w,_,"argument-error"),_.redirectPersistenceManager=yield H.create(_,[et(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,d.Z)(function*(){var w,A;return _._isInitialized&&(yield _.queue((0,d.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===m?_._currentUser:(null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,d.Z)(function*(){if(m===_.currentUser)return _.queue((0,d.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,w,A){if(this._deleted)return()=>{};const O="function"==typeof _?_:_.next.bind(_),$=this._isInitialized?Promise.resolve():this._initializationPromise;return Y($,this,"internal-error"),$.then(()=>O(this.currentUser)),"function"==typeof _?m.addObserver(_,w,A):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,d.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Gs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,d.Z)(function*(){var _;const w={"X-Client-Version":m.clientVersion};m.app.options.appId&&(w["X-Firebase-gmpid"]=m.app.options.appId);const A=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();A&&(w["X-Firebase-Client"]=A);const O=yield m._getAppCheckToken();return O&&(w["X-Firebase-AppCheck"]=O),w})()}_getAppCheckToken(){var m=this;return(0,d.Z)(function*(){var _;const w=yield null===(_=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return w?.error&&function pt(b,...m){_t.logLevel<=de.in.WARN&&_t.warn(`Auth (${te.SDK_VERSION}): ${b}`,...m)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function fi(b){return(0,B.m9)(b)}class kr{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ca(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function uf(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class la{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return We("not implemented")}_getIdTokenResponse(m){return We("not implemented")}_linkToIdToken(m,_){return We("not implemented")}_getReauthenticationResolver(m){return We("not implemented")}}function hf(b,m){return ec.apply(this,arguments)}function ec(){return(ec=(0,d.Z)(function*(b,m){return ke(b,"POST","/v1/accounts:resetPassword",De(b,m))})).apply(this,arguments)}function Zc(b,m){return ff.apply(this,arguments)}function ff(){return(ff=(0,d.Z)(function*(b,m){return ke(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ed(){return(ed=(0,d.Z)(function*(b,m){return ke(b,"POST","/v1/accounts:update",De(b,m))})).apply(this,arguments)}function cr(b,m){return bu.apply(this,arguments)}function bu(){return(bu=(0,d.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:signInWithPassword",De(b,m))})).apply(this,arguments)}function td(b,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,d.Z)(function*(b,m){return ke(b,"POST","/v1/accounts:sendOobCode",De(b,m))})).apply(this,arguments)}function nd(){return(nd=(0,d.Z)(function*(b,m){return td(b,m)})).apply(this,arguments)}function tc(b,m){return wu.apply(this,arguments)}function wu(){return(wu=(0,d.Z)(function*(b,m){return td(b,m)})).apply(this,arguments)}function Qt(b,m){return ni.apply(this,arguments)}function ni(){return(ni=(0,d.Z)(function*(b,m){return td(b,m)})).apply(this,arguments)}function fo(){return(fo=(0,d.Z)(function*(b,m){return td(b,m)})).apply(this,arguments)}function xu(){return(xu=(0,d.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:signInWithEmailLink",De(b,m))})).apply(this,arguments)}function Kc(){return(Kc=(0,d.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:signInWithEmailLink",De(b,m))})).apply(this,arguments)}class id extends la{constructor(m,_,w,A=null){super("password",w),this._email=m,this._password=_,this._tenantId=A}static _fromEmailAndPassword(m,_){return new id(m,_,"password")}static _fromEmailAndCode(m,_,w=null){return new id(m,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,d.Z)(function*(){var w;switch(_.signInMethod){case"password":const A={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=m._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const O=yield ss(m,A,"signInWithPassword");return cr(m,O)}return cr(m,A).catch(function(){var O=(0,d.Z)(function*($){if("auth/missing-recaptcha-token"===$.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield ss(m,A,"signInWithPassword");return cr(m,ee)}return Promise.reject($)});return function($){return O.apply(this,arguments)}}());case"emailLink":return function br(b,m){return xu.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Ee(m,"internal-error")}})()}_linkToIdToken(m,_){var w=this;return(0,d.Z)(function*(){switch(w.signInMethod){case"password":return Zc(m,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Sp(b,m){return Kc.apply(this,arguments)}(m,{idToken:_,email:w._email,oobCode:w._password});default:Ee(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function as(b,m){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,d.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:signInWithIdp",De(b,m))})).apply(this,arguments)}class Dt extends la{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new Dt(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Ee("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:A}=_,O=(0,oe._T)(_,["providerId","signInMethod"]);if(!w||!A)return null;const $=new Dt(w,A);return $.idToken=O.idToken||void 0,$.accessToken=O.accessToken||void 0,$.secret=O.secret,$.nonce=O.nonce,$.pendingToken=O.pendingToken||null,$}_getIdTokenResponse(m){return as(m,this.buildRequest())}_linkToIdToken(m,_){const w=this.buildRequest();return w.idToken=_,as(m,w)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,as(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,B.xO)(_)}return m}}function wr(){return(wr=(0,d.Z)(function*(b,m){return ke(b,"POST","/v1/accounts:sendVerificationCode",De(b,m))})).apply(this,arguments)}function $i(){return($i=(0,d.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:signInWithPhoneNumber",De(b,m))})).apply(this,arguments)}function mn(){return(mn=(0,d.Z)(function*(b,m){const _=yield yt(b,"POST","/v1/accounts:signInWithPhoneNumber",De(b,m));if(_.temporaryProof)throw Sn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const mo={USER_NOT_FOUND:"user-not-found"};function St(){return(St=(0,d.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:signInWithPhoneNumber",De(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),mo)})).apply(this,arguments)}class Gi extends la{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Gi({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Gi({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function da(b,m){return $i.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Yc(b,m){return mn.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function nc(b,m){return St.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:w,verificationCode:A}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:w,code:A}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:w,phoneNumber:A,temporaryProof:O}=m;return w||_||A||O?new Gi({verificationId:_,verificationCode:w,phoneNumber:A,temporaryProof:O}):null}}class jn{constructor(m){var _,w,A,O,$,ee;const Ve=(0,B.zd)((0,B.pd)(m)),qe=null!==(_=Ve.apiKey)&&void 0!==_?_:null,dt=null!==(w=Ve.oobCode)&&void 0!==w?w:null,ut=function pf(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ve.mode)&&void 0!==A?A:null);Y(qe&&dt&&ut,"argument-error"),this.apiKey=qe,this.operation=ut,this.code=dt,this.continueUrl=null!==(O=Ve.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==($=Ve.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(ee=Ve.tenantId)&&void 0!==ee?ee:null}static parseLink(m){const _=function po(b){const m=(0,B.zd)((0,B.pd)(b)).link,_=m?(0,B.zd)((0,B.pd)(m)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(b)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||_||m||b}(m);try{return new jn(_)}catch{return null}}}let ua=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return id._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const A=jn.parseLink(w);return Y(A,"argument-error"),id._fromEmailAndCode(_,A.code,A.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ai{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class go extends Ai{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class _o extends go{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return Y("providerId"in _&&"signInMethod"in _,"argument-error"),Dt._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return Y(m.idToken||m.accessToken,"argument-error"),Dt._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return _o.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return _o.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:O,nonce:$,providerId:ee}=m;if(!w&&!A&&!_&&!O||!ee)return null;try{return new _o(ee)._credential({idToken:_,accessToken:w,nonce:$,pendingToken:O})}catch{return null}}}let Uo=(()=>{class b extends go{constructor(){super("facebook.com")}static credential(_){return Dt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Zr=(()=>{class b extends go{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Dt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:A}=_;if(!w&&!A)return null;try{return b.credential(w,A)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Qc=(()=>{class b extends go{constructor(){super("github.com")}static credential(_){return Dt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class $t extends la{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return as(m,this.buildRequest())}_linkToIdToken(m,_){const w=this.buildRequest();return w.idToken=_,as(m,w)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,as(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:A,pendingToken:O}=_;return w&&A&&O&&w===A?new $t(w,O):null}static _create(m,_){return new $t(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ic extends Ai{constructor(m){Y(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return ic.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return ic.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=$t.fromJSON(m);return Y(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:w}=m;if(!_||!w)return null;try{return $t._create(w,_)}catch{return null}}}let rd=(()=>{class b extends go{constructor(){super("twitter.com")}static credential(_,w){return Dt._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=_;if(!w||!A)return null;try{return b.credential(w,A)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ki(b,m){return ha.apply(this,arguments)}function ha(){return(ha=(0,d.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:signUp",De(b,m))})).apply(this,arguments)}class Mi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,w,A=!1){return(0,d.Z)(function*(){const O=yield ye._fromIdTokenResponse(m,w,A),$=Ho(w);return new Mi({user:O,providerId:$,_tokenResponse:w,operationType:_})})()}static _forOperation(m,_,w){return(0,d.Z)(function*(){yield m._updateTokensIfNecessary(w,!0);const A=Ho(w);return new Mi({user:m,providerId:A,_tokenResponse:w,operationType:_})})()}}function Ho(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Ap(){return(Ap=(0,d.Z)(function*(b){var m;const _=fi(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new Mi({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield ki(_,{returnSecureToken:!0}),A=yield Mi._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ri extends B.ZR{constructor(m,_,w,A){var O;super(_.code,_.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,Ri.prototype),this.customData={appName:m.name,tenantId:null!==(O=m.tenantId)&&void 0!==O?O:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(m,_,w,A){return new Ri(m,_,w,A)}}function lr(b,m,_,w){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Ri._fromErrorAndOperation(b,O,m,w):O})}function sd(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Kr(){return Kr=(0,d.Z)(function*(b,m){const _=(0,B.m9)(b);yield sc(!0,_,m);const{providerUserInfo:w}=yield function Si(b,m){return _r.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),A=sd(w||[]);return _.providerData=_.providerData.filter(O=>A.has(O.providerId)),A.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Kr.apply(this,arguments)}function Rr(b,m){return rc.apply(this,arguments)}function rc(){return(rc=(0,d.Z)(function*(b,m,_=!1){const w=yield Bn(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return Mi._forOperation(b,"link",w)})).apply(this,arguments)}function sc(b,m,_){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,d.Z)(function*(b,m,_){yield Jt(m);const A=!1===b?"provider-already-linked":"no-such-provider";Y(sd(m.providerData).has(_)===b,m.auth,A)})).apply(this,arguments)}function Av(b,m){return od.apply(this,arguments)}function od(){return(od=(0,d.Z)(function*(b,m,_=!1){const{auth:w}=b,A="reauthenticate";try{const O=yield Bn(b,lr(w,A,m,b),_);Y(O.idToken,w,"internal-error");const $=Ft(O.idToken);Y($,w,"internal-error");const{sub:ee}=$;return Y(b.uid===ee,w,"user-mismatch"),Mi._forOperation(b,A,O)}catch(O){throw"auth/user-not-found"===O?.code&&Ee(w,"user-mismatch"),O}})).apply(this,arguments)}function Iu(b,m){return gf.apply(this,arguments)}function gf(){return(gf=(0,d.Z)(function*(b,m,_=!1){const w="signIn",A=yield lr(b,w,m),O=yield Mi._fromIdTokenResponse(b,w,A);return _||(yield b._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Tu(b,m){return _f.apply(this,arguments)}function _f(){return(_f=(0,d.Z)(function*(b,m){return Iu(fi(b),m)})).apply(this,arguments)}function kv(b,m){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,d.Z)(function*(b,m){const _=(0,B.m9)(b);return yield sc(!1,_,m.providerId),Rr(_,m)})).apply(this,arguments)}function Mv(b,m){return kp.apply(this,arguments)}function kp(){return(kp=(0,d.Z)(function*(b,m){return Av((0,B.m9)(b),m)})).apply(this,arguments)}function Mp(){return(Mp=(0,d.Z)(function*(b,m){return yt(b,"POST","/v1/accounts:signInWithCustomToken",De(b,m))})).apply(this,arguments)}function vo(){return vo=(0,d.Z)(function*(b,m){const _=fi(b),w=yield function V0(b,m){return Mp.apply(this,arguments)}(_,{token:m,returnSecureToken:!0}),A=yield Mi._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(A.user),A}),vo.apply(this,arguments)}class Du{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?oc._fromServerResponse(m,_):"totpInfo"in _?Su._fromServerResponse(m,_):Ee(m,"internal-error")}}class oc extends Du{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new oc(_)}}class Su extends Du{constructor(m){super("totp",m)}static _fromServerResponse(m,_){return new Su(_)}}function Xc(b,m,_){var w;Y((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),Y(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Y(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(Y(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Jc(){return Jc=(0,d.Z)(function*(b,m,_){var w;const A=fi(b),O={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=A._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const $=yield ss(A,O,"getOobCode",!0);_&&Xc(A,$,_),yield tc(A,$)}else _&&Xc(A,O,_),yield tc(A,O).catch(function(){var $=(0,d.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ve=yield ss(A,O,"getOobCode",!0);_&&Xc(A,Ve,_),yield tc(A,Ve)}});return function(ee){return $.apply(this,arguments)}}())}),Jc.apply(this,arguments)}function Ws(){return(Ws=(0,d.Z)(function*(b,m,_){yield hf((0,B.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function cs(){return cs=(0,d.Z)(function*(b,m){yield function os(b,m){return ed.apply(this,arguments)}((0,B.m9)(b),{oobCode:m})}),cs.apply(this,arguments)}function Ii(b,m){return pa.apply(this,arguments)}function pa(){return(pa=(0,d.Z)(function*(b,m){const _=(0,B.m9)(b),w=yield hf(_,{oobCode:m}),A=w.requestType;switch(Y(A,_,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(w.mfaInfo,_,"internal-error");default:Y(w.email,_,"internal-error")}let O=null;return w.mfaInfo&&(O=Du._fromServerResponse(fi(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:A}})).apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(b,m){const{data:_}=yield Ii((0,B.m9)(b),m);return _.email})).apply(this,arguments)}function el(){return el=(0,d.Z)(function*(b,m,_){var w;const A=fi(b),O={returnSecureToken:!0,email:m,password:_,clientType:"CLIENT_TYPE_WEB"};let $;if(null!==(w=A._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const qe=yield ss(A,O,"signUpPassword");$=ki(A,qe)}else $=ki(A,O).catch(function(){var qe=(0,d.Z)(function*(dt){if("auth/missing-recaptcha-token"===dt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ut=yield ss(A,O,"signUpPassword");return ki(A,ut)}return Promise.reject(dt)});return function(dt){return qe.apply(this,arguments)}}());const ee=yield $.catch(qe=>Promise.reject(qe)),Ve=yield Mi._fromIdTokenResponse(A,"signIn",ee);return yield A._updateCurrentUser(Ve.user),Ve}),el.apply(this,arguments)}function tl(){return tl=(0,d.Z)(function*(b,m,_){var w;const A=fi(b),O={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function $(ee,Ve){Y(Ve.handleCodeInApp,A,"argument-error"),Ve&&Xc(A,ee,Ve)}if(null!==(w=A._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ee=yield ss(A,O,"getOobCode",!0);$(ee,_),yield Qt(A,ee)}else $(O,_),yield Qt(A,O).catch(function(){var ee=(0,d.Z)(function*(Ve){if("auth/missing-recaptcha-token"!==Ve.code)return Promise.reject(Ve);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const qe=yield ss(A,O,"getOobCode",!0);$(qe,_),yield Qt(A,qe)}});return function(Ve){return ee.apply(this,arguments)}}())}),tl.apply(this,arguments)}function ku(){return(ku=(0,d.Z)(function*(b,m,_){const w=(0,B.m9)(b),A=ua.credentialWithLink(m,_||cn());return Y(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Tu(w,A)})).apply(this,arguments)}function Ru(){return(Ru=(0,d.Z)(function*(b,m){return ke(b,"POST","/v1/accounts:createAuthUri",De(b,m))})).apply(this,arguments)}function _a(){return _a=(0,d.Z)(function*(b,m){const w={identifier:m,continueUri:In()?cn():"http://localhost"},{signinMethods:A}=yield function Mu(b,m){return Ru.apply(this,arguments)}((0,B.m9)(b),w);return A||[]}),_a.apply(this,arguments)}function il(){return il=(0,d.Z)(function*(b,m){const _=(0,B.m9)(b),A={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&Xc(_.auth,A,m);const{email:O}=yield function mf(b,m){return nd.apply(this,arguments)}(_.auth,A);O!==b.email&&(yield b.reload())}),il.apply(this,arguments)}function ad(){return ad=(0,d.Z)(function*(b,m,_){const w=(0,B.m9)(b),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&Xc(w.auth,O,_);const{email:$}=yield function yr(b,m){return fo.apply(this,arguments)}(w.auth,O);$!==b.email&&(yield b.reload())}),ad.apply(this,arguments)}function Ef(){return(Ef=(0,d.Z)(function*(b,m){return ke(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ou(){return Ou=(0,d.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const w=(0,B.m9)(b),O={idToken:yield w.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},$=yield Bn(w,function Rv(b,m){return Ef.apply(this,arguments)}(w.auth,O));w.displayName=$.displayName||null,w.photoURL=$.photoUrl||null;const ee=w.providerData.find(({providerId:Ve})=>"password"===Ve);ee&&(ee.displayName=w.displayName,ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary($)}),Ou.apply(this,arguments)}function Rp(b,m,_){return cc.apply(this,arguments)}function cc(){return(cc=(0,d.Z)(function*(b,m,_){const{auth:w}=b,O={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(O.email=m),_&&(O.password=_);const $=yield Bn(b,Zc(w,O));yield b._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class lc{constructor(m,_,w={}){this.isNewUser=m,this.providerId=_,this.profile=w}}class rl extends lc{constructor(m,_,w,A){super(m,_,w),this.username=A}}class Nu extends lc{constructor(m,_){super(m,"facebook.com",_)}}class If extends rl{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class ld extends lc{constructor(m,_){super(m,"google.com",_)}}class sl extends rl{constructor(m,_,w){super(m,"twitter.com",_,w)}}function Op(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Nv(b){var m,_;if(!b)return null;const{providerId:w}=b,A=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},O=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const $=null===(_=null===(m=Ft(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if($)return new lc(O,"anonymous"!==$&&"custom"!==$?$:null)}if(!w)return null;switch(w){case"facebook.com":return new Nu(O,A);case"github.com":return new If(O,A);case"google.com":return new ld(O,A);case"twitter.com":return new sl(O,A,b.screenName||null);case"custom":case"anonymous":return new lc(O,null);default:return new lc(O,w,A)}}(_)}class Zs{constructor(m,_,w){this.type=m,this.credential=_,this.auth=w}static _fromIdtoken(m,_){return new Zs("enroll",m,_)}static _fromMfaPendingCredential(m){return new Zs("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,w;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Zs._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(w=m.multiFactorSession)&&void 0!==w&&w.idToken)return Zs._fromIdtoken(m.multiFactorSession.idToken)}return null}}class ya{constructor(m,_,w){this.session=m,this.hints=_,this.signInResolver=w}static _fromError(m,_){const w=fi(m),A=_.customData._serverResponse,O=(A.mfaInfo||[]).map(ee=>Du._fromServerResponse(w,ee));Y(A.mfaPendingCredential,w,"internal-error");const $=Zs._fromMfaPendingCredential(A.mfaPendingCredential);return new ya($,O,function(){var ee=(0,d.Z)(function*(Ve){const qe=yield Ve._process(w,$);delete A.mfaInfo,delete A.mfaPendingCredential;const dt=Object.assign(Object.assign({},A),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(_.operationType){case"signIn":const ut=yield Mi._fromIdTokenResponse(w,_.operationType,dt);return yield w._updateCurrentUser(ut.user),ut;case"reauthenticate":return Y(_.user,w,"internal-error"),Mi._forOperation(_.user,_.operationType,dt);default:Ee(w,"internal-error")}});return function(Ve){return ee.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,d.Z)(function*(){return _.signInResolver(m)})()}}class pn{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>Du._fromServerResponse(m.auth,w)))})}static _fromUser(m){return new pn(m)}getSession(){var m=this;return(0,d.Z)(function*(){return Zs._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var w=this;return(0,d.Z)(function*(){const A=m,O=yield w.getSession(),$=yield Bn(w.user,A._process(w.user.auth,O,_));return yield w.user._updateTokensIfNecessary($),w.user.reload()})()}unenroll(m){var _=this;return(0,d.Z)(function*(){const w="string"==typeof m?m:m.uid,A=yield _.user.getIdToken();try{const O=yield Bn(_.user,function Sf(b,m){return ke(b,"POST","/v2/accounts/mfaEnrollment:withdraw",De(b,m))}(_.user.auth,{idToken:A,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:$})=>$!==w),yield _.user._updateTokensIfNecessary(O),yield _.user.reload()}catch(O){throw O}})()}}const $o=new WeakMap,Wi="__sak";class Bp{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Wi,"1"),this.storage.removeItem(Wi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const dc=(()=>{class b extends Bp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bu(){const b=(0,B.z$)();return he(b)||hi(b)}()&&function gu(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qa(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),O=this.localCache[w];A!==O&&_(w,O,A)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((ee,Ve,qe)=>{this.notifyListeners(ee,qe)});const A=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(A);if(_.newValue!==ee)null!==_.newValue?this.storage.setItem(A,_.newValue):this.storage.removeItem(A);else if(this.localCache[A]===_.newValue&&!w)return}const O=()=>{const ee=this.storage.getItem(A);!w&&this.localCache[A]===ee||this.notifyListeners(A,ee)},$=this.storage.getItem(A);!function Po(){return(0,B.w1)()&&10===document.documentMode}()||$===_.newValue||_.newValue===_.oldValue?O():setTimeout(O,10)}notifyListeners(_,w){this.localCache[_]=w;const A=this.listeners[_];if(A)for(const O of Array.from(A))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var A=()=>super._set,O=this;return(0,d.Z)(function*(){yield A().call(O,_,w),O.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,A=this;return(0,d.Z)(function*(){const O=yield w().call(A,_);return A.localCache[_]=JSON.stringify(O),O})()}_remove(_){var w=()=>super._remove,A=this;return(0,d.Z)(function*(){yield w().call(A,_),delete A.localCache[_]})()}}return b.type="LOCAL",b})(),Nr=(()=>{class b extends Bp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let Vu=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(O=>O.isListeningto(_));if(w)return w;const A=new b(_);return this.receivers.push(A),A}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,d.Z)(function*(){const A=_,{eventId:O,eventType:$,data:ee}=A.data,Ve=w.handlersMap[$];if(!Ve?.size)return;A.ports[0].postMessage({status:"ack",eventId:O,eventType:$});const qe=Array.from(Ve).map(function(){var ut=(0,d.Z)(function*(Xn){return Xn(A.origin,ee)});return function(Xn){return ut.apply(this,arguments)}}()),dt=yield function jp(b){return Promise.all(b.map(function(){var m=(0,d.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return m.apply(this,arguments)}}()))}(qe);A.ports[0].postMessage({status:"done",eventId:O,eventType:$,response:dt})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function ud(b="",m=10){let _="";for(let w=0;w<m;w++)_+=Math.floor(10*Math.random());return b+_}class Fv{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,w=50){var A=this;return(0,d.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let $,ee;return new Promise((Ve,qe)=>{const dt=ud("",20);O.port1.start();const ut=setTimeout(()=>{qe(new Error("unsupported_event"))},w);ee={messageChannel:O,onMessage(Xn){const Rs=Xn;if(Rs.data.eventId===dt)switch(Rs.data.status){case"ack":clearTimeout(ut),$=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout($),Ve(Rs.data.response);break;default:clearTimeout(ut),clearTimeout($),qe(new Error("invalid_response"))}}},A.handlers.add(ee),O.port1.addEventListener("message",ee.onMessage),A.target.postMessage({eventType:m,eventId:dt,data:_},[O.port2])}).finally(()=>{ee&&A.removeMessageHandler(ee)})})()}}function Pn(){return window}function At(){return typeof Pn().WorkerGlobalScope<"u"&&"function"==typeof Pn().importScripts}function kf(){return(kf=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Mf="firebaseLocalStorageDb",Ks="firebaseLocalStorage",fd="fbase_key";class md{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function pd(b,m){return b.transaction([Ks],m?"readwrite":"readonly").objectStore(Ks)}function Uu(){const b=indexedDB.open(Mf,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(Ks,{keyPath:fd})}catch(A){_(A)}}),b.addEventListener("success",(0,d.Z)(function*(){const w=b.result;w.objectStoreNames.contains(Ks)?m(w):(w.close(),yield function Bv(){const b=indexedDB.deleteDatabase(Mf);return new md(b).toPromise()}(),m(yield Uu()))}))})}function Re(b,m,_){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,d.Z)(function*(b,m,_){const w=pd(b,!0).put({[fd]:m,value:_});return new md(w).toPromise()})).apply(this,arguments)}function gd(){return(gd=(0,d.Z)(function*(b,m){const _=pd(b,!1).get(m),w=yield new md(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Pi(b,m){const _=pd(b,!0).delete(m);return new md(_).toPromise()}const xa=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.Z)(function*(){return _.db||(_.db=yield Uu()),_.db})()}_withRetries(_){var w=this;return(0,d.Z)(function*(){let A=0;for(;;)try{const O=yield w._openDb();return yield _(O)}catch(O){if(A++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.Z)(function*(){return At()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.Z)(function*(){_.receiver=Vu._getInstance(function Ni(){return At()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,d.Z)(function*(A,O){return{keyProcessed:(yield _._poll()).includes(O.key)}});return function(A,O){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,d.Z)(function*(A,O){return["keyChanged"]});return function(A,O){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.Z)(function*(){var w,A;if(_.activeServiceWorker=yield function Af(){return kf.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Fv(_.activeServiceWorker);const O=yield _.sender._send("ping",{},800);O&&null!==(w=O[0])&&void 0!==w&&w.fulfilled&&null!==(A=O[0])&&void 0!==A&&A.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,d.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function hd(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Uu();return yield Re(_,Wi,"1"),yield Pi(_,Wi),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,d.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var A=this;return(0,d.Z)(function*(){return A._withPendingWrite((0,d.Z)(function*(){return yield A._withRetries(O=>Re(O,_,w)),A.localCache[_]=w,A.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,d.Z)(function*(){const A=yield w._withRetries(O=>function Is(b,m){return gd.apply(this,arguments)}(O,_));return w.localCache[_]=A,A})()}_remove(_){var w=this;return(0,d.Z)(function*(){return w._withPendingWrite((0,d.Z)(function*(){return yield w._withRetries(A=>Pi(A,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.Z)(function*(){const w=yield _._withRetries($=>{const ee=pd($,!1).getAll();return new md(ee).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const A=[],O=new Set;for(const{fbase_key:$,value:ee}of w)O.add($),JSON.stringify(_.localCache[$])!==JSON.stringify(ee)&&(_.notifyListeners($,ee),A.push($));for(const $ of Object.keys(_.localCache))_.localCache[$]&&!O.has($)&&(_.notifyListeners($,null),A.push($));return A})()}notifyListeners(_,w){this.localCache[_]=w;const A=this.listeners[_];if(A)for(const O of Array.from(A))O(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Yr=1e12;class Rf{constructor(m){this.auth=m,this.counter=Yr,this._widgets=new Map}render(m,_){const w=this.counter;return this._widgets.set(w,new Ea(m,this.auth.name,_||{})),this.counter++,w}reset(m){var _;const w=m||Yr;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Yr))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,d.Z)(function*(){var w;return null===(w=_._widgets.get(m||Yr))||void 0===w||w.execute(),""})()}}class Ea{constructor(m,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof m?document.getElementById(m):m;Y(A,"argument-error",{appName:_}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ts(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)m.push(_.charAt(Math.floor(62*Math.random())));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const zu=oa("rcb"),$u=new Di(3e4,6e4);class Vv{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Pn().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return Y(function yd(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)&&Lo(Pn().grecaptcha)?Promise.resolve(Pn().grecaptcha):new Promise((w,A)=>{const O=Pn().setTimeout(()=>{A(se(m,"network-request-failed"))},$u.get());Pn()[zu]=()=>{Pn().clearTimeout(O),delete Pn()[zu];const ee=Pn().grecaptcha;if(!ee||!Lo(ee))return void A(se(m,"internal-error"));const Ve=ee.render;ee.render=(qe,dt)=>{const ut=Ve(qe,dt);return this.counter++,ut},this.hostLanguage=_,w(ee)},qs(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:zu,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(O),A(se(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Pn().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Of{load(m){return(0,d.Z)(function*(){return new Rf(m)})()}clearedOneInstance(){}}const bd="recaptcha",Nf={theme:"light",type:"image"};class Pf{constructor(m,_=Object.assign({},Nf),w){this.parameters=_,this.type=bd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fi(w),this.isInvisible="invisible"===this.parameters.size,Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof m?document.getElementById(m):m;Y(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Of:new Vv,this.validateStartingState()}verify(){var m=this;return(0,d.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),w=m.getAssertedRecaptcha();return w.getResponse(_)||new Promise(O=>{const $=ee=>{ee&&(m.tokenChangeListeners.delete($),O(ee))};m.tokenChangeListeners.add($),m.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof m)m(_);else if("string"==typeof m){const w=Pn()[m];"function"==typeof w&&w(_)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,d.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,d.Z)(function*(){Y(In()&&!At(),m.auth,"internal-error"),yield function zp(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function Fo(b){return xs.apply(this,arguments)}(m.auth);Y(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ii{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Gi._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function fc(){return(fc=(0,d.Z)(function*(b,m,_){const w=fi(b),A=yield cl(w,m,(0,B.m9)(_));return new ii(A,O=>Tu(w,O))})).apply(this,arguments)}function lt(){return(lt=(0,d.Z)(function*(b,m,_){const w=(0,B.m9)(b);yield sc(!1,w,"phone");const A=yield cl(w.auth,m,(0,B.m9)(_));return new ii(A,O=>kv(w,O))})).apply(this,arguments)}function wd(){return(wd=(0,d.Z)(function*(b,m,_){const w=(0,B.m9)(b),A=yield cl(w.auth,m,(0,B.m9)(_));return new ii(A,O=>Mv(w,O))})).apply(this,arguments)}function cl(b,m,_){return Qi.apply(this,arguments)}function Qi(){return Qi=(0,d.Z)(function*(b,m,_){var w;const A=yield _.verify();try{let O;if(Y("string"==typeof A,b,"argument-error"),Y(_.type===bd,b,"argument-error"),O="string"==typeof m?{phoneNumber:m}:m,"session"in O){const $=O.session;if("phoneNumber"in O)return Y("enroll"===$.type,b,"internal-error"),(yield function al(b,m){return ke(b,"POST","/v2/accounts/mfaEnrollment:start",De(b,m))}(b,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{Y("signin"===$.type,b,"internal-error");const ee=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return Y(ee,b,"missing-multi-factor-info"),(yield function ju(b,m){return ke(b,"POST","/v2/accounts/mfaSignIn:start",De(b,m))}(b,{mfaPendingCredential:$.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield function Un(b,m){return wr.apply(this,arguments)}(b,{phoneNumber:O.phoneNumber,recaptchaToken:A});return $}}finally{_._reset()}}),Qi.apply(this,arguments)}function An(){return(An=(0,d.Z)(function*(b,m){yield Rr((0,B.m9)(b),m)})).apply(this,arguments)}let qo=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=fi(_)}verifyPhoneNumber(_,w){return cl(this.auth,_,(0,B.m9)(w))}static credential(_,w){return Gi._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:A}=_;return w&&A?Gi._fromTokenResponse(w,A):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Ds(b,m){return m?et(m):(Y(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class ct extends la{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return as(m,this._buildIdpRequest())}_linkToIdToken(m,_){return as(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return as(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Ff(b){return Iu(b.auth,new ct(b),b.bypassAuthState)}function Gu(b){const{auth:m,user:_}=b;return Y(_,m,"internal-error"),Av(_,new ct(b),b.bypassAuthState)}function mc(b){return ls.apply(this,arguments)}function ls(){return(ls=(0,d.Z)(function*(b){const{auth:m,user:_}=b;return Y(_,m,"internal-error"),Rr(_,new ct(b),b.bypassAuthState)})).apply(this,arguments)}class Ss{constructor(m,_,w,A,O=!1){this.auth=m,this.resolver=w,this.user=A,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,d.Z)(function*(w,A){m.pendingPromise={resolve:w,reject:A};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(O){m.reject(O)}});return function(w,A){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,d.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:O,tenantId:$,error:ee,type:Ve}=m;if(ee)return void _.reject(ee);const qe={auth:_.auth,requestUri:w,sessionId:A,tenantId:$||void 0,postBody:O||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Ve)(qe))}catch(dt){_.reject(dt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Ff;case"linkViaPopup":case"linkViaRedirect":return mc;case"reauthViaPopup":case"reauthViaRedirect":return Gu;default:Ee(this.auth,"internal-error")}}resolve(m){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kn=new Di(2e3,1e4);function Wo(){return(Wo=(0,d.Z)(function*(b,m,_){const w=fi(b);Be(b,m,Ai);const A=Ds(w,_);return new Ia(w,"signInViaPopup",m,A).executeNotNull()})).apply(this,arguments)}function gc(){return(gc=(0,d.Z)(function*(b,m,_){const w=(0,B.m9)(b);Be(w.auth,m,Ai);const A=Ds(w.auth,_);return new Ia(w.auth,"reauthViaPopup",m,A,w).executeNotNull()})).apply(this,arguments)}function Ca(){return(Ca=(0,d.Z)(function*(b,m,_){const w=(0,B.m9)(b);Be(w.auth,m,Ai);const A=Ds(w.auth,_);return new Ia(w.auth,"linkViaPopup",m,A,w).executeNotNull()})).apply(this,arguments)}let Ia=(()=>{class b extends Ss{constructor(_,w,A,O,$){super(_,w,O,$),this.provider=A,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.Z)(function*(){const w=yield _.execute();return Y(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,d.Z)(function*(){vt(1===_.filter.length,"Popup operations only handle one event");const w=ud();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(A=>{_.reject(A)}),_.resolver._isIframeWebStorageSupported(_.auth,A=>{A||_.reject(se(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,A;this.pollId=null!==(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(se(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,kn.get())};_()}}return b.currentPopupAction=null,b})();const Zo="pendingRedirect",As=new Map;class Ed extends Ss{constructor(m,_,w=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,d.Z)(function*(){let w=As.get(_.auth._key());if(!w){try{const O=(yield function qu(b,m){return Cd.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;w=()=>Promise.resolve(O)}catch(A){w=()=>Promise.reject(A)}As.set(_.auth._key(),w)}return _.bypassAuthState||As.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,w=this;return(0,d.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(w,m);if("unknown"!==m.type){if(m.eventId){const A=yield w.auth._redirectUserForId(m.eventId);if(A)return w.user=A,_().call(w,m);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Cd(){return(Cd=(0,d.Z)(function*(b,m){const _=_c(m),w=Lf(b);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(_));return yield w._remove(_),A})).apply(this,arguments)}function Ko(b,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,d.Z)(function*(b,m){return Lf(b)._set(_c(m),"true")})).apply(this,arguments)}function Xi(b,m){As.set(b._key(),m)}function Lf(b){return et(b._redirectPersistence)}function _c(b){return z(Zo,b.config.apiKey,b.name)}function gn(b,m,_){return function Yn(b,m,_){return Fr.apply(this,arguments)}(b,m,_)}function Fr(){return(Fr=(0,d.Z)(function*(b,m,_){const w=fi(b);Be(b,m,Ai),yield w._initializationPromise;const A=Ds(w,_);return yield Ko(A,w),A._openRedirect(w,m,"signInViaRedirect")})).apply(this,arguments)}function Da(b,m,_){return function Fi(b,m,_){return dr.apply(this,arguments)}(b,m,_)}function dr(){return(dr=(0,d.Z)(function*(b,m,_){const w=(0,B.m9)(b);Be(w.auth,m,Ai),yield w.auth._initializationPromise;const A=Ds(w.auth,_);yield Ko(A,w.auth);const O=yield dl(w);return A._openRedirect(w.auth,m,"reauthViaRedirect",O)})).apply(this,arguments)}function ll(b,m,_){return function Bf(b,m,_){return Wu.apply(this,arguments)}(b,m,_)}function Wu(){return(Wu=(0,d.Z)(function*(b,m,_){const w=(0,B.m9)(b);Be(w.auth,m,Ai),yield w.auth._initializationPromise;const A=Ds(w.auth,_);yield sc(!1,w,m.providerId),yield Ko(A,w.auth);const O=yield dl(w);return A._openRedirect(w.auth,m,"linkViaRedirect",O)})).apply(this,arguments)}function bo(){return(bo=(0,d.Z)(function*(b,m){return yield fi(b)._initializationPromise,Mn(b,m,!1)})).apply(this,arguments)}function Mn(b,m){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,d.Z)(function*(b,m,_=!1){const w=fi(b),A=Ds(w,m),$=yield new Ed(w,A,_).execute();return $&&!_&&(delete $.user._redirectEventId,yield w._persistUserIfCurrent($.user),yield w._setRedirectUser(null,m)),$})).apply(this,arguments)}function dl(b){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,d.Z)(function*(b){const m=ud(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Id{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(m,w)&&(_=!0,this.sendToConsumer(m,w),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function hl(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qs(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var w;if(m.error&&!Qs(m)){const A=(null===(w=m.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(se(this.auth,A))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const w=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&w}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ul(m))}saveEventToCache(m){this.cachedEventUids.add(ul(m)),this.lastProcessedEventTime=Date.now()}}function ul(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function Qs({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function Xs(b){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,d.Z)(function*(b,m={}){return ke(b,"GET","/v1/projects",m)})).apply(this,arguments)}const Aa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ka=/^https?/;function wo(){return(wo=(0,d.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Xs(b);for(const _ of m)try{if(Zu(_))return}catch{}Ee(b,"unauthorized-domain")})).apply(this,arguments)}function Zu(b){const m=cn(),{protocol:_,hostname:w}=new URL(m);if(b.startsWith("chrome-extension://")){const $=new URL(b);return""===$.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&$.hostname===w}if(!ka.test(_))return!1;if(Aa.test(b))return w===b;const A=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const Br=new Di(3e4,6e4);function Ku(){const b=Pn().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let ks=null;const Td=new Di(5e3,15e3),Gp="__/auth/iframe",Yu="emulator/auth/iframe",Dd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bc(b){const m=b.config;Y(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?ce(m,Yu):`https://${b.config.authDomain}/${Gp}`,w={apiKey:m.apiKey,appName:b.name,v:te.SDK_VERSION},A=yc.get(b.config.apiHost);A&&(w.eid=A);const O=b._getFrameworks();return O.length&&(w.fw=O.join(",")),`${_}?${(0,B.xO)(w).slice(1)}`}function T(){return T=(0,d.Z)(function*(b){const m=yield function Yo(b){return ks=ks||function Qn(b){return new Promise((m,_)=>{var w,A,O;function $(){Ku(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Ku(),_(se(b,"network-request-failed"))},timeout:Br.get()})}if(null!==(A=null===(w=Pn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==A&&A.Iframe)m(gapi.iframes.getContext());else{if(null===(O=Pn().gapi)||void 0===O||!O.load){const ee=oa("iframefcb");return Pn()[ee]=()=>{gapi.load?$():_(se(b,"network-request-failed"))},qs(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Ve=>_(Ve))}$()}}).catch(m=>{throw ks=null,m})}(b),ks}(b),_=Pn().gapi;return Y(_,b,"internal-error"),m.open({where:document.body,url:bc(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dd,dontclear:!0},w=>new Promise(function(){var A=(0,d.Z)(function*(O,$){yield w.restyle({setHideOnLeave:!1});const ee=se(b,"network-request-failed"),Ve=Pn().setTimeout(()=>{$(ee)},Td.get());function qe(){Pn().clearTimeout(Ve),O(w)}w.ping(qe).then(qe,()=>{$(ee)})});return function(O,$){return A.apply(this,arguments)}}()))}),T.apply(this,arguments)}const k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tt{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Lt="__/auth/handler",Ot="emulator/auth/handler",ri=encodeURIComponent("fac");function mi(b,m,_,w,A,O){return xo.apply(this,arguments)}function xo(){return(xo=(0,d.Z)(function*(b,m,_,w,A,O){Y(b.config.authDomain,b,"auth-domain-config-required"),Y(b.config.apiKey,b,"invalid-api-key");const $={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:te.SDK_VERSION,eventId:A};if(m instanceof Ai){m.setDefaultLanguage(b.languageCode),$.providerId=m.providerId||"",(0,B.xb)(m.getCustomParameters())||($.customParameters=JSON.stringify(m.getCustomParameters()));for(const[dt,ut]of Object.entries(O||{}))$[dt]=ut}if(m instanceof go){const dt=m.getScopes().filter(ut=>""!==ut);dt.length>0&&($.scopes=dt.join(","))}b.tenantId&&($.tid=b.tenantId);const ee=$;for(const dt of Object.keys(ee))void 0===ee[dt]&&delete ee[dt];const Ve=yield b._getAppCheckToken(),qe=Ve?`#${ri}=${encodeURIComponent(Ve)}`:"";return`${function si({config:b}){return b.emulator?ce(b,Ot):`https://${b.authDomain}/${Lt}`}(b)}?${(0,B.xO)(ee).slice(1)}${qe}`})).apply(this,arguments)}const Eo="webStorageSupport",Js=class Li{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nr,this._completeRedirectFn=Mn,this._overrideRedirectResult=Xi}_openPopup(m,_,w,A){var O=this;return(0,d.Z)(function*(){var $;vt(null===($=O.eventManagers[m._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const ee=yield mi(m,_,w,cn(),A);return function Ye(b,m,_,w=500,A=600){const O=Math.max((window.screen.availHeight-A)/2,0).toString(),$=Math.max((window.screen.availWidth-w)/2,0).toString();let ee="";const Ve=Object.assign(Object.assign({},k),{width:w.toString(),height:A.toString(),top:O,left:$}),qe=(0,B.z$)().toLowerCase();_&&(ee=at(qe)?"_blank":_),Ae(qe)&&(m=m||"http://localhost",Ve.scrollbars="yes");const dt=Object.entries(Ve).reduce((Xn,[Rs,Ic])=>`${Xn}${Rs}=${Ic},`,"");if(function zi(b=(0,B.z$)()){var m;return hi(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(qe)&&"_self"!==ee)return function ft(b,m){const _=document.createElement("a");_.href=b,_.target=m;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(m||"",ee),new tt(null);const ut=window.open(m||"",ee,dt);Y(ut,b,"popup-blocked");try{ut.focus()}catch{}return new tt(ut)}(m,ee,ud())})()}_openRedirect(m,_,w,A){var O=this;return(0,d.Z)(function*(){return yield O._originValidation(m),function Lv(b){Pn().location.href=b}(yield mi(m,_,w,cn(),A)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:A,promise:O}=this.eventManagers[_];return A?Promise.resolve(A):(vt(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(m);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(m){var _=this;return(0,d.Z)(function*(){const w=yield function C(b){return T.apply(this,arguments)}(m),A=new Id(m);return w.register("authEvent",O=>(Y(O?.authEvent,m,"invalid-auth-event"),{status:A.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:A},_.iframes[m._key()]=w,A})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Eo,{type:Eo},A=>{var O;const $=null===(O=A?.[0])||void 0===O?void 0:O[Eo];void 0!==$&&_(!!$),Ee(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function vc(b){return wo.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return Qa()||he()||hi()}};class Vr{constructor(m){this.factorId=m}_process(m,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,w);case"signin":return this._finalizeSignIn(m,_.credential);default:return We("unexpected MultiFactorSessionType")}}}class wc extends Vr{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new wc(m)}_finalizeEnroll(m,_,w){return function Lp(b,m){return ke(b,"POST","/v2/accounts/mfaEnrollment:finalize",De(b,m))}(m,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function Hp(b,m){return ke(b,"POST","/v2/accounts/mfaSignIn:finalize",De(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Uv=(()=>{class b{constructor(){}static assertion(_){return wc._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Hv="@firebase/auth";class Ms{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,d.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(w=>{m(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);_&&(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xc(){return window}(0,B.Pz)("authIdTokenMaxAge"),function Sd(b){(0,te._registerComponent)(new ve.wA("auth",(m,{options:_})=>{const w=m.getProvider("app").getImmediate(),A=m.getProvider("heartbeat"),O=m.getProvider("app-check-internal"),{apiKey:$,authDomain:ee}=w.options;Y($&&!$.includes(":"),"invalid-api-key",{appName:w.name});const Ve={apiKey:$,authDomain:ee,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gs(b)},qe=new yu(w,A,O,Ve);return function Dp(b,m){const _=m?.persistence||[],w=(Array.isArray(_)?_:[_]).map(et);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(w,m?.popupRedirectResolver)}(qe,_),qe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,w)=>{m.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new ve.wA("auth-internal",m=>{const _=fi(m.getProvider("auth").getImmediate());return new Ms(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(Hv,"0.23.2",function Zp(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,te.registerVersion)(Hv,"0.23.2","esm2017")}("Browser");function Ra(){return Ra=(0,d.Z)(function*(b,m,_){var w;const{BuildInfo:A}=xc();vt(m.sessionId,"AuthEvent did not contain a session ID");const O=yield function Gv(b){return Xu.apply(this,arguments)}(m.sessionId),$={};return hi()?$.ibi=A.packageName:Rt()?$.apn=A.packageName:Ee(b,"operation-not-supported-in-this-environment"),A.displayName&&($.appDisplayName=A.displayName),$.sessionId=O,mi(b,_,m.type,void 0,null!==(w=m.eventId)&&void 0!==w?w:void 0,$)}),Ra.apply(this,arguments)}function Uf(){return(Uf=(0,d.Z)(function*(b){const{BuildInfo:m}=xc(),_={};hi()?_.iosBundleId=m.packageName:Rt()?_.androidPackageName=m.packageName:Ee(b,"operation-not-supported-in-this-environment"),yield Xs(b,_)})).apply(this,arguments)}function Oa(){return(Oa=(0,d.Z)(function*(b,m,_){const{cordova:w}=xc();let A=()=>{};try{yield new Promise((O,$)=>{let ee=null;function Ve(){var ut;O();const Xn=null===(ut=w.plugins.browsertab)||void 0===ut?void 0:ut.close;"function"==typeof Xn&&Xn(),"function"==typeof _?.close&&_.close()}function qe(){ee||(ee=window.setTimeout(()=>{$(se(b,"redirect-cancelled-by-user"))},2e3))}function dt(){"visible"===document?.visibilityState&&qe()}m.addPassiveListener(Ve),document.addEventListener("resume",qe,!1),Rt()&&document.addEventListener("visibilitychange",dt,!1),A=()=>{m.removePassiveListener(Ve),document.removeEventListener("resume",qe,!1),document.removeEventListener("visibilitychange",dt,!1),ee&&window.clearTimeout(ee)}})}finally{A()}})).apply(this,arguments)}function Xu(){return(Xu=(0,d.Z)(function*(b){const m=function Ju(b){if(vt(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const m=new ArrayBuffer(b.length),_=new Uint8Array(m);for(let w=0;w<b.length;w++)_[w]=b.charCodeAt(w);return _}(b),_=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(_)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class q0 extends Id{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(m)),super.onEvent(m)}initialized(){var m=this;return(0,d.Z)(function*(){yield m.initPromise})()}}function ml(b){return jf.apply(this,arguments)}function jf(){return(jf=(0,d.Z)(function*(b){const m=yield Rd()._get(Qo(b));return m&&(yield Rd()._remove(Qo(b))),m})).apply(this,arguments)}function Co(){const b=[];for(let _=0;_<20;_++){const w=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(w))}return b.join("")}function Rd(){return et(dc)}function Qo(b){return z("authEvent",b.config.apiKey,b.name)}function pl(b){if(!b?.includes("?"))return{};const[m,..._]=b.split("?");return(0,B.zd)(_.join("?"))}const W0=class qv{constructor(){this._redirectPersistence=Nr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mn,this._overrideRedirectResult=Xi}_initialize(m){var _=this;return(0,d.Z)(function*(){const w=m._key();let A=_.eventManagers.get(w);return A||(A=new q0(m),_.eventManagers.set(w,A),_.attachCallbackListeners(m,A)),A})()}_openPopup(m){Ee(m,"operation-not-supported-in-this-environment")}_openRedirect(m,_,w,A){var O=this;return(0,d.Z)(function*(){!function G0(b){var m,_,w,A,O,$,ee,Ve,qe,dt;const ut=xc();Y("function"==typeof(null===(m=ut?.universalLinks)||void 0===m?void 0:m.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Y(typeof(null===(_=ut?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Y("function"==typeof(null===(O=null===(A=null===(w=ut?.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===O?void 0:O.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(Ve=null===(ee=null===($=ut?.cordova)||void 0===$?void 0:$.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===Ve?void 0:Ve.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(dt=null===(qe=ut?.cordova)||void 0===qe?void 0:qe.InAppBrowser)||void 0===dt?void 0:dt.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const $=yield O._initialize(m);yield $.initialized(),$.resetRedirect(),function Ta(){As.clear()}(),yield O._originValidation(m);const ee=function Yp(b,m,_=null){return{type:m,eventId:_,urlResponse:null,sessionId:Co(),postBody:null,tenantId:b.tenantId,error:se(b,"no-auth-event")}}(m,w,A);yield function Md(b,m){return Rd()._set(Qo(b),m)}(m,ee);const Ve=yield function Vf(b,m,_){return Ra.apply(this,arguments)}(m,ee,_),qe=yield function Qu(b){const{cordova:m}=xc();return new Promise(_=>{m.plugins.browsertab.isAvailable(w=>{let A=null;w?m.plugins.browsertab.openUrl(b):A=m.InAppBrowser.open(b,function nn(b=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(A)})})}(Ve);return function $0(b,m,_){return Oa.apply(this,arguments)}(m,$,qe)})()}_isIframeWebStorageSupported(m,_){throw new Error("Method not implemented.")}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ad(b){return Uf.apply(this,arguments)}(m)),this.originValidationPromises[_]}attachCallbackListeners(m,_){const{universalLinks:w,handleOpenURL:A,BuildInfo:O}=xc(),$=setTimeout((0,d.Z)(function*(){yield ml(m),_.onEvent(Qp())}),500),ee=function(){var dt=(0,d.Z)(function*(ut){clearTimeout($);const Xn=yield ml(m);let Rs=null;Xn&&ut?.url&&(Rs=function Hf(b,m){var _,w;const A=function Od(b){const m=pl(b),_=m.link?decodeURIComponent(m.link):void 0,w=pl(_).link,A=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return pl(A).link||A||w||_||b}(m);if(A.includes("/__/auth/callback")){const O=pl(A),$=O.firebaseError?function eh(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,ee=null===(w=null===(_=$?.code)||void 0===_?void 0:_.split("auth/"))||void 0===w?void 0:w[1],Ve=ee?se(ee):null;return Ve?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:A,postBody:null}}return null}(Xn,ut.url)),_.onEvent(Rs||Qp())});return function(Xn){return dt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ee);const Ve=A,qe=`${O.packageName.toLowerCase()}://`;xc().handleOpenURL=function(){var dt=(0,d.Z)(function*(ut){if(ut.toLowerCase().startsWith(qe)&&ee({url:ut}),"function"==typeof Ve)try{Ve(ut)}catch(Xn){console.error(Xn)}});return function(ut){return dt.apply(this,arguments)}}()}};function Qp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:se("no-auth-event")}}function nh(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function K0(b=(0,B.z$)()){return!("file:"!==nh()&&"ionic:"!==nh()&&"capacitor:"!==nh()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function Q0(){try{const b=self.localStorage,m=ud();if(b)return b.setItem(m,"1"),b.removeItem(m),!function BM(b=(0,B.z$)()){return function ih(){return(0,B.w1)()&&11===document?.documentMode}()||function Zv(b=(0,B.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,B.hl)()}catch{return Nd()&&(0,B.hl)()}return!1}function Nd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Jp(){return(function Xp(){return"http:"===nh()||"https:"===nh()}()||(0,B.ru)()||K0())&&!function Y0(){return(0,B.b$)()||(0,B.UG)()}()&&Q0()&&!Nd()}function zf(){return K0()&&typeof document<"u"}function ds(){return(ds=(0,d.Z)(function*(){return!!zf()&&new Promise(b=>{const m=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),b(!0)})})})).apply(this,arguments)}const Xr={LOCAL:"local",NONE:"none",SESSION:"session"},_l=Y,vl="persistence";function rh(b){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,d.Z)(function*(b){yield b._initializationPromise;const m=Ld(),_=z(vl,b.config.apiKey,b.name);m&&m.setItem(_,b._getPersistence())})).apply(this,arguments)}function Ld(){var b;try{return(null===(b=function gl(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const eg=Y;class Na{constructor(){this.browserResolver=et(Js),this.cordovaResolver=et(W0),this.underlyingResolver=null,this._redirectPersistence=Nr,this._completeRedirectFn=Mn,this._overrideRedirectResult=Xi}_initialize(m){var _=this;return(0,d.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,_,w,A){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(m,_,w,A)})()}_openRedirect(m,_,w,A){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(m,_,w,A)})()}_isIframeWebStorageSupported(m,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,_)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return zf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return eg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,d.Z)(function*(){if(m.underlyingResolver)return;const _=yield function Pd(){return ds.apply(this,arguments)}();m.underlyingResolver=_?m.cordovaResolver:m.browserResolver})()}}function $f(b){return b.unwrap()}function sh(b){return oh(b)}function oh(b){const{_tokenResponse:m}=b instanceof B.ZR?b.customData:b;if(!m)return null;if(!(b instanceof B.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return qo.credentialFromResult(b);const _=m.providerId;if(!_||_===fe.PASSWORD)return null;let w;switch(_){case fe.GOOGLE:w=Zr;break;case fe.FACEBOOK:w=Uo;break;case fe.GITHUB:w=Qc;break;case fe.TWITTER:w=rd;break;default:const{oauthIdToken:A,oauthAccessToken:O,oauthTokenSecret:$,pendingToken:ee,nonce:Ve}=m;return O||$||A||ee?ee?_.startsWith("saml.")?$t._create(_,ee):Dt._fromParams({providerId:_,signInMethod:_,pendingToken:ee,idToken:A,accessToken:O}):new _o(_).credential({idToken:A,accessToken:O,rawNonce:Ve}):null}return b instanceof B.ZR?w.credentialFromError(b):w.credentialFromResult(b)}function Jr(b,m){return m.catch(_=>{throw _ instanceof B.ZR&&function X0(b,m){var _;const w=null===(_=m.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===m?.code)m.resolver=new J0(b,function Tf(b,m){var _;const w=(0,B.m9)(b),A=m;return Y(m.customData.operationType,w,"argument-error"),Y(null===(_=A.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),ya._fromError(w,A)}(b,m));else if(w){const A=oh(m),O=m;A&&(O.credential=A,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(b,_),_}).then(_=>{const A=_.user;return{operationType:_.operationType,credential:sh(_),additionalUserInfo:Op(_),user:pi.getOrCreate(A)}})}function qf(b,m){return bl.apply(this,arguments)}function bl(){return(bl=(0,d.Z)(function*(b,m){const _=yield m;return{verificationId:_.verificationId,confirm:w=>Jr(b,_.confirm(w))}})).apply(this,arguments)}class J0{constructor(m,_){this.resolver=_,this.auth=function Gf(b){return b.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Jr($f(this.auth),this.resolver.resolveSignIn(m))}}class pi{constructor(m){this._delegate=m,this.multiFactor=function ba(b){const m=(0,B.m9)(b);return $o.has(m)||$o.set(m,pn._fromUser(m)),$o.get(m)}(m)}static getOrCreate(m){return pi.USER_MAP.has(m)||pi.USER_MAP.set(m,new pi(m)),pi.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var _=this;return(0,d.Z)(function*(){return Jr(_.auth,kv(_._delegate,m))})()}linkWithPhoneNumber(m,_){var w=this;return(0,d.Z)(function*(){return qf(w.auth,function yn(b,m,_){return lt.apply(this,arguments)}(w._delegate,m,_))})()}linkWithPopup(m){var _=this;return(0,d.Z)(function*(){return Jr(_.auth,function $p(b,m,_){return Ca.apply(this,arguments)}(_._delegate,m,Na))})()}linkWithRedirect(m){var _=this;return(0,d.Z)(function*(){return yield rh(fi(_.auth)),ll(_._delegate,m,Na)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var _=this;return(0,d.Z)(function*(){return Jr(_.auth,Mv(_._delegate,m))})()}reauthenticateWithPhoneNumber(m,_){return qf(this.auth,function Yi(b,m,_){return wd.apply(this,arguments)}(this._delegate,m,_))}reauthenticateWithPopup(m){return Jr(this.auth,function xd(b,m,_){return gc.apply(this,arguments)}(this._delegate,m,Na))}reauthenticateWithRedirect(m){var _=this;return(0,d.Z)(function*(){return yield rh(fi(_.auth)),Da(_._delegate,m,Na)})()}sendEmailVerification(m){return function zo(b,m){return il.apply(this,arguments)}(this._delegate,m)}unlink(m){var _=this;return(0,d.Z)(function*(){return yield function fa(b,m){return Kr.apply(this,arguments)}(_._delegate,m),_})()}updateEmail(m){return function Cf(b,m){return Rp((0,B.m9)(b),m,null)}(this._delegate,m)}updatePassword(m){return function cd(b,m){return Rp((0,B.m9)(b),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function yo(b,m){return An.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function Ov(b,m){return Ou.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,_){return function xf(b,m,_){return ad.apply(this,arguments)}(this._delegate,m,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pi.USER_MAP=new WeakMap;const Pa=Y;let Wf=(()=>{class b{constructor(_,w){if(this.app=_,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=_.options;Pa(A,"invalid-api-key",{appName:_.name}),Pa(A,"invalid-api-key",{appName:_.name});const O=typeof window<"u"?Na:void 0;this._delegate=w.initialize({options:{persistence:Ur(A,_.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,w){!function Mr(b,m,_){const w=fi(b);Y(w._canInitEmulator,w,"emulator-config-failed"),Y(/^https?:\/\//.test(m),w,"invalid-emulator-scheme");const A=!!_?.disableWarnings,O=ca(m),{host:$,port:ee}=function Jl(b){const m=ca(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const O=A[1];return{host:O,port:uf(w.substr(O.length+1))}}{const[O,$]=w.split(":");return{host:O,port:uf($)}}}(m);w.config.emulator={url:`${O}//${$}${null===ee?"":`:${ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:$,port:ee,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Dv(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,_,w)}applyActionCode(_){return function yf(b,m){return cs.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Ii(this._delegate,_)}confirmPasswordReset(_,w){return function ma(b,m,_){return Ws.apply(this,arguments)}(this._delegate,_,w)}createUserWithEmailAndPassword(_,w){var A=this;return(0,d.Z)(function*(){return Jr(A._delegate,function Au(b,m,_){return el.apply(this,arguments)}(A._delegate,_,w))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function nl(b,m){return _a.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function wf(b,m){const _=jn.parseLink(m);return"EMAIL_SIGNIN"===_?.operation}(0,_)}getRedirectResult(){var _=this;return(0,d.Z)(function*(){Pa(Jp(),_._delegate,"operation-not-supported-in-this-environment");const w=yield function Ji(b,m){return bo.apply(this,arguments)}(_._delegate,Na);return w?Jr(_._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function RI(b,m){fi(b)._logFramework(m)}(this._delegate,_)}onAuthStateChanged(_,w,A){const{next:O,error:$,complete:ee}=ah(_,w,A);return this._delegate.onAuthStateChanged(O,$,ee)}onIdTokenChanged(_,w,A){const{next:O,error:$,complete:ee}=ah(_,w,A);return this._delegate.onIdTokenChanged(O,$,ee)}sendSignInLinkToEmail(_,w){return function ac(b,m,_){return tl.apply(this,arguments)}(this._delegate,_,w)}sendPasswordResetEmail(_,w){return function U0(b,m,_){return Jc.apply(this,arguments)}(this._delegate,_,w||void 0)}setPersistence(_){var w=this;return(0,d.Z)(function*(){let A;switch(function Ec(b,m){_l(Object.values(Xr).includes(m),b,"invalid-persistence-type"),(0,B.b$)()?_l(m!==Xr.SESSION,b,"unsupported-persistence-type"):(0,B.UG)()?_l(m===Xr.NONE,b,"unsupported-persistence-type"):Nd()?_l(m===Xr.NONE||m===Xr.LOCAL&&(0,B.hl)(),b,"unsupported-persistence-type"):_l(m===Xr.NONE||Q0(),b,"unsupported-persistence-type")}(w._delegate,_),_){case Xr.SESSION:A=Nr;break;case Xr.LOCAL:A=(yield et(xa)._isAvailable())?xa:dc;break;case Xr.NONE:A=ln;break;default:return Ee("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return Jr(this._delegate,function qi(b){return Ap.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return Jr(this._delegate,Tu(this._delegate,_))}signInWithCustomToken(_){return Jr(this._delegate,function vf(b,m){return vo.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,w){return Jr(this._delegate,function bf(b,m,_){return Tu((0,B.m9)(b),ua.credential(m,_))}(this._delegate,_,w))}signInWithEmailLink(_,w){return Jr(this._delegate,function Oi(b,m,_){return ku.apply(this,arguments)}(this._delegate,_,w))}signInWithPhoneNumber(_,w){return qf(this._delegate,function hc(b,m,_){return fc.apply(this,arguments)}(this._delegate,_,w))}signInWithPopup(_){var w=this;return(0,d.Z)(function*(){return Pa(Jp(),w._delegate,"operation-not-supported-in-this-environment"),Jr(w._delegate,function pc(b,m,_){return Wo.apply(this,arguments)}(w._delegate,_,Na))})()}signInWithRedirect(_){var w=this;return(0,d.Z)(function*(){return Pa(Jp(),w._delegate,"operation-not-supported-in-this-environment"),yield rh(w._delegate),gn(w._delegate,_,Na)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Or(b,m){return ga.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=Xr,b})();function ah(b,m,_){let w=b;"function"!=typeof b&&({next:w,error:m,complete:_}=b);const A=w;return{next:$=>A($&&pi.getOrCreate($)),error:m,complete:_}}function Ur(b,m){const _=function yl(b,m){const _=Ld();if(!_)return[];const w=z(vl,b,m);switch(_.getItem(w)){case Xr.NONE:return[ln];case Xr.LOCAL:return[xa,Nr];case Xr.SESSION:return[Nr];default:return[]}}(b,m);if(typeof self<"u"&&!_.includes(xa)&&_.push(xa),typeof window<"u")for(const w of[dc,Nr])_.includes(w)||_.push(w);return _.includes(ln)||_.push(ln),_}class Cc{constructor(){this.providerId="phone",this._delegate=new qo($f(ie.Z.auth()))}static credential(m,_){return qo.credential(m,_)}verifyPhoneNumber(m,_){return this._delegate.verifyPhoneNumber(m,_)}unwrap(){return this._delegate}}Cc.PHONE_SIGN_IN_METHOD=qo.PHONE_SIGN_IN_METHOD,Cc.PROVIDER_ID=qo.PROVIDER_ID;const tg=Y;class Kv{constructor(m,_,w=ie.Z.app()){var A;tg(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Pf(m,_,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ew(b){b.INTERNAL.registerComponent(new ve.wA("auth-compat",m=>{const _=m.getProvider("app-compat").getImmediate(),w=m.getProvider("auth");return new Wf(_,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ua,FacebookAuthProvider:Uo,GithubAuthProvider:Qc,GoogleAuthProvider:Zr,OAuthProvider:_o,SAMLAuthProvider:ic,PhoneAuthProvider:Cc,PhoneMultiFactorGenerator:Uv,RecaptchaVerifier:Kv,TwitterAuthProvider:rd,Auth:Wf,AuthCredential:la,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.4.2")}(ie.Z)},4303:(mt,Se,F)=>{F.r(Se),F.d(Se,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>Sn,_DEFAULT_ENTRY_NAME:()=>ce,_addComponent:()=>De,_addOrOverwriteComponent:()=>ke,_apps:()=>_e,_clearComponents:()=>yt,_components:()=>be,_getProvider:()=>Ke,_registerComponent:()=>Je,_removeServiceInstance:()=>Ln,deleteApp:()=>_r,getApp:()=>hn,getApps:()=>Si,initializeApp:()=>Zn,onLog:()=>vr,registerVersion:()=>ti,setLogLevel:()=>js});var d=F(5861),ie=F(4537),B=F(7879),te=F(9058),oe=F(1878);class de{constructor(q){this.container=q}getPlatformInfoString(){return this.container.getProviders().map(ye=>{if(function ve(we){const q=we.getComponent();return"VERSION"===q?.type}(ye)){const Ze=ye.getImmediate();return`${Ze.library}/${Ze.version}`}return null}).filter(ye=>ye).join(" ")}}const Oe="@firebase/app",j=new B.Yd("@firebase/app"),ce="[DEFAULT]",ge={[Oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_e=new Map,be=new Map;function De(we,q){try{we.container.addComponent(q)}catch(ye){j.debug(`Component ${q.name} failed to register with FirebaseApp ${we.name}`,ye)}}function ke(we,q){we.container.addOrOverwriteComponent(q)}function Je(we){const q=we.name;if(be.has(q))return j.debug(`There were multiple attempts to register component ${q}.`),!1;be.set(q,we);for(const ye of _e.values())De(ye,we);return!0}function Ke(we,q){const ye=we.container.getProvider("heartbeat").getImmediate({optional:!0});return ye&&ye.triggerHeartbeat(),we.container.getProvider(q)}function Ln(we,q,ye=ce){Ke(we,q).clearInstance(ye)}function yt(){be.clear()}const gt=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Dn{constructor(q,ye,Ze){this._isDeleted=!1,this._options=Object.assign({},q),this._config=Object.assign({},ye),this._name=ye.name,this._automaticDataCollectionEnabled=ye.automaticDataCollectionEnabled,this._container=Ze,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this.checkDestroyed(),this._automaticDataCollectionEnabled=q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(q){this._isDeleted=q}checkDestroyed(){if(this.isDeleted)throw gt.create("app-deleted",{appName:this._name})}}const Sn="10.4.0";function Zn(we,q={}){let ye=we;"object"!=typeof q&&(q={name:q});const Ze=Object.assign({name:ce,automaticDataCollectionEnabled:!1},q),et=Ze.name;if("string"!=typeof et||!et)throw gt.create("bad-app-name",{appName:String(et)});if(ye||(ye=(0,te.aH)()),!ye)throw gt.create("no-options");const bt=_e.get(et);if(bt){if((0,te.vZ)(ye,bt.options)&&(0,te.vZ)(Ze,bt.config))return bt;throw gt.create("duplicate-app",{appName:et})}const ln=new ie.H0(et);for(const H of be.values())ln.addComponent(H);const z=new Dn(ye,Ze,ln);return _e.set(et,z),z}function hn(we=ce){const q=_e.get(we);if(!q&&we===ce&&(0,te.aH)())return Zn();if(!q)throw gt.create("no-app",{appName:we});return q}function Si(){return Array.from(_e.values())}function _r(we){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,d.Z)(function*(we){const q=we.name;_e.has(q)&&(_e.delete(q),yield Promise.all(we.container.getProviders().map(ye=>ye.delete())),we.isDeleted=!0)})).apply(this,arguments)}function ti(we,q,ye){var Ze;let et=null!==(Ze=ge[we])&&void 0!==Ze?Ze:we;ye&&(et+=`-${ye}`);const bt=et.match(/\s|\//),ln=q.match(/\s|\//);if(bt||ln){const z=[`Unable to register library "${et}" with version "${q}":`];return bt&&z.push(`library name "${et}" contains illegal characters (whitespace or "/")`),bt&&ln&&z.push("and"),ln&&z.push(`version name "${q}" contains illegal characters (whitespace or "/")`),void j.warn(z.join(" "))}Je(new ie.wA(`${et}-version`,()=>({library:et,version:q}),"VERSION"))}function vr(we,q){if(null!==we&&"function"!=typeof we)throw gt.create("invalid-log-argument");(0,B.Am)(we,q)}function js(we){(0,B.Ub)(we)}const sa="firebase-heartbeat-database",Tt=1,Mt="firebase-heartbeat-store";let Ft=null;function xn(){return Ft||(Ft=(0,oe.X3)(sa,Tt,{upgrade:(we,q)=>{0===q&&we.createObjectStore(Mt)}}).catch(we=>{throw gt.create("idb-open",{originalErrorMessage:we.message})})),Ft}function ui(){return(ui=(0,d.Z)(function*(we){try{return yield(yield xn()).transaction(Mt).objectStore(Mt).get(Hs(we))}catch(q){if(q instanceof te.ZR)j.warn(q.message);else{const ye=gt.create("idb-get",{originalErrorMessage:q?.message});j.warn(ye.message)}}})).apply(this,arguments)}function fn(we,q){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,d.Z)(function*(we,q){try{const Ze=(yield xn()).transaction(Mt,"readwrite");yield Ze.objectStore(Mt).put(q,Hs(we)),yield Ze.done}catch(ye){if(ye instanceof te.ZR)j.warn(ye.message);else{const Ze=gt.create("idb-set",{originalErrorMessage:ye?.message});j.warn(Ze.message)}}})).apply(this,arguments)}function Hs(we){return`${we.name}!${we.options.appId}`}class en{constructor(q){this.container=q,this._heartbeatsCache=null;const ye=this.container.getProvider("app").getImmediate();this._storage=new ho(ye),this._heartbeatsCachePromise=this._storage.read().then(Ze=>(this._heartbeatsCache=Ze,Ze))}triggerHeartbeat(){var q=this;return(0,d.Z)(function*(){const Ze=q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),et=Ar();if(null===q._heartbeatsCache&&(q._heartbeatsCache=yield q._heartbeatsCachePromise),q._heartbeatsCache.lastSentHeartbeatDate!==et&&!q._heartbeatsCache.heartbeats.some(bt=>bt.date===et))return q._heartbeatsCache.heartbeats.push({date:et,agent:Ze}),q._heartbeatsCache.heartbeats=q._heartbeatsCache.heartbeats.filter(bt=>{const ln=new Date(bt.date).valueOf();return Date.now()-ln<=2592e6}),q._storage.overwrite(q._heartbeatsCache)})()}getHeartbeatsHeader(){var q=this;return(0,d.Z)(function*(){if(null===q._heartbeatsCache&&(yield q._heartbeatsCachePromise),null===q._heartbeatsCache||0===q._heartbeatsCache.heartbeats.length)return"";const ye=Ar(),{heartbeatsToSend:Ze,unsentEntries:et}=function zs(we,q=1024){const ye=[];let Ze=we.slice();for(const et of we){const bt=ye.find(ln=>ln.agent===et.agent);if(bt){if(bt.dates.push(et.date),or(ye)>q){bt.dates.pop();break}}else if(ye.push({agent:et.agent,dates:[et.date]}),or(ye)>q){ye.pop();break}Ze=Ze.slice(1)}return{heartbeatsToSend:ye,unsentEntries:Ze}}(q._heartbeatsCache.heartbeats),bt=(0,te.L)(JSON.stringify({version:2,heartbeats:Ze}));return q._heartbeatsCache.lastSentHeartbeatDate=ye,et.length>0?(q._heartbeatsCache.heartbeats=et,yield q._storage.overwrite(q._heartbeatsCache)):(q._heartbeatsCache.heartbeats=[],q._storage.overwrite(q._heartbeatsCache)),bt})()}}function Ar(){return(new Date).toISOString().substring(0,10)}class ho{constructor(q){this.app=q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var q=this;return(0,d.Z)(function*(){return(yield q._canUseIndexedDBPromise)&&(yield function Bn(we){return ui.apply(this,arguments)}(q.app))||{heartbeats:[]}})()}overwrite(q){var ye=this;return(0,d.Z)(function*(){var Ze;if(yield ye._canUseIndexedDBPromise){const bt=yield ye.read();return fn(ye.app,{lastSentHeartbeatDate:null!==(Ze=q.lastSentHeartbeatDate)&&void 0!==Ze?Ze:bt.lastSentHeartbeatDate,heartbeats:q.heartbeats})}})()}add(q){var ye=this;return(0,d.Z)(function*(){var Ze;if(yield ye._canUseIndexedDBPromise){const bt=yield ye.read();return fn(ye.app,{lastSentHeartbeatDate:null!==(Ze=q.lastSentHeartbeatDate)&&void 0!==Ze?Ze:bt.lastSentHeartbeatDate,heartbeats:[...bt.heartbeats,...q.heartbeats]})}})()}}function or(we){return(0,te.L)(JSON.stringify({version:2,heartbeats:we})).length}!function $s(we){Je(new ie.wA("platform-logger",q=>new de(q),"PRIVATE")),Je(new ie.wA("heartbeat",q=>new en(q),"PRIVATE")),ti(Oe,"0.9.19",we),ti(Oe,"0.9.19","esm2017"),ti("fire-js","")}("")},4537:(mt,Se,F)=>{F.d(Se,{H0:()=>Oe,wA:()=>B,zt:()=>oe});var d=F(5861),ie=F(9058);class B{constructor(j,G,re){this.name=j,this.instanceFactory=G,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const te="[DEFAULT]";class oe{constructor(j,G){this.name=j,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const G=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(G)){const re=new ie.BH;if(this.instancesDeferred.set(G,re),this.isInitialized(G)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:G});He&&re.resolve(He)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(j){var G;const re=this.normalizeInstanceIdentifier(j?.identifier),He=null!==(G=j?.optional)&&void 0!==G&&G;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Me){if(He)return null;throw Me}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ve(fe){return"EAGER"===fe.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[G,re]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(G);try{const Me=this.getOrInitializeService({instanceIdentifier:He});re.resolve(Me)}catch{}}}}clearInstance(j=te){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,d.Z)(function*(){const G=Array.from(j.instances.values());yield Promise.all([...G.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...G.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=te){return this.instances.has(j)}getOptions(j=te){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:G={}}=j,re=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:re,options:G});for(const[Me,Qe]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Me)&&Qe.resolve(He);return He}onInit(j,G){var re;const He=this.normalizeInstanceIdentifier(G),Me=null!==(re=this.onInitCallbacks.get(He))&&void 0!==re?re:new Set;Me.add(j),this.onInitCallbacks.set(He,Me);const Qe=this.instances.get(He);return Qe&&j(Qe,He),()=>{Me.delete(j)}}invokeOnInitCallbacks(j,G){const re=this.onInitCallbacks.get(G);if(re)for(const He of re)try{He(j,G)}catch{}}getOrInitializeService({instanceIdentifier:j,options:G={}}){let re=this.instances.get(j);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(fe=j,fe===te?void 0:fe),options:G}),this.instances.set(j,re),this.instancesOptions.set(j,G),this.invokeOnInitCallbacks(re,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,re)}catch{}var fe;return re||null}normalizeInstanceIdentifier(j=te){return this.component?this.component.multipleInstances?j:te:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const G=this.getProvider(j.name);if(G.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);G.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const G=new oe(j,this);return this.providers.set(j,G),G}getProviders(){return Array.from(this.providers.values())}}},7879:(mt,Se,F)=>{F.d(Se,{Am:()=>fe,Ub:()=>Oe,Yd:()=>ve,in:()=>ie});const d=[];var ie=function(j){return j[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",j}(ie||{});const B={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},te=ie.INFO,oe={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},de=(j,G,...re)=>{if(G<j.logLevel)return;const He=(new Date).toISOString(),Me=oe[G];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Me](`[${He}]  ${j.name}:`,...re)};class ve{constructor(G){this.name=G,this._logLevel=te,this._logHandler=de,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in ie))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?B[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...G),this._logHandler(this,ie.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...G),this._logHandler(this,ie.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...G),this._logHandler(this,ie.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...G),this._logHandler(this,ie.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...G),this._logHandler(this,ie.ERROR,...G)}}function Oe(j){d.forEach(G=>{G.setLogLevel(j)})}function fe(j,G){for(const re of d){let He=null;G&&G.level&&(He=B[G.level]),re.userLogHandler=null===j?null:(Me,Qe,...Ne)=>{const Xe=Ne.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch{return null}}).filter(Pe=>Pe).join(" ");Qe>=(He??Me.logLevel)&&j({level:ie[Qe].toLowerCase(),message:Xe,args:Ne,type:Me.name})}}}},1878:(mt,Se,F)=>{F.d(Se,{X3:()=>pt});var d=F(5861);const ie=(ue,Y)=>Y.some(We=>ue instanceof We);let B,te;const ve=new WeakMap,Oe=new WeakMap,fe=new WeakMap,j=new WeakMap,G=new WeakMap;let Me={get(ue,Y,We){if(ue instanceof IDBTransaction){if("done"===Y)return Oe.get(ue);if("objectStoreNames"===Y)return ue.objectStoreNames||fe.get(ue);if("store"===Y)return We.objectStoreNames[1]?void 0:We.objectStore(We.objectStoreNames[0])}return Pe(ue[Y])},set:(ue,Y,We)=>(ue[Y]=We,!0),has:(ue,Y)=>ue instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in ue};function Xe(ue){return"function"==typeof ue?function Ne(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...Y){return ue.apply(_t(this),Y),Pe(ve.get(this))}:function(...Y){return Pe(ue.apply(_t(this),Y))}:function(Y,...We){const vt=ue.call(_t(this),Y,...We);return fe.set(vt,Y.sort?Y.sort():[Y]),Pe(vt)}}(ue):(ue instanceof IDBTransaction&&function He(ue){if(Oe.has(ue))return;const Y=new Promise((We,vt)=>{const cn=()=>{ue.removeEventListener("complete",In),ue.removeEventListener("error",Tn),ue.removeEventListener("abort",Tn)},In=()=>{We(),cn()},Tn=()=>{vt(ue.error||new DOMException("AbortError","AbortError")),cn()};ue.addEventListener("complete",In),ue.addEventListener("error",Tn),ue.addEventListener("abort",Tn)});Oe.set(ue,Y)}(ue),ie(ue,function oe(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,Me):ue)}function Pe(ue){if(ue instanceof IDBRequest)return function re(ue){const Y=new Promise((We,vt)=>{const cn=()=>{ue.removeEventListener("success",In),ue.removeEventListener("error",Tn)},In=()=>{We(Pe(ue.result)),cn()},Tn=()=>{vt(ue.error),cn()};ue.addEventListener("success",In),ue.addEventListener("error",Tn)});return Y.then(We=>{We instanceof IDBCursor&&ve.set(We,ue)}).catch(()=>{}),G.set(Y,ue),Y}(ue);if(j.has(ue))return j.get(ue);const Y=Xe(ue);return Y!==ue&&(j.set(ue,Y),G.set(Y,ue)),Y}const _t=ue=>G.get(ue);function pt(ue,Y,{blocked:We,upgrade:vt,blocking:cn,terminated:In}={}){const Tn=indexedDB.open(ue,Y),Wn=Pe(Tn);return vt&&Tn.addEventListener("upgradeneeded",Fn=>{vt(Pe(Tn.result),Fn.oldVersion,Fn.newVersion,Pe(Tn.transaction),Fn)}),We&&Tn.addEventListener("blocked",Fn=>We(Fn.oldVersion,Fn.newVersion,Fn)),Wn.then(Fn=>{In&&Fn.addEventListener("close",()=>In()),cn&&Fn.addEventListener("versionchange",Di=>cn(Di.oldVersion,Di.newVersion,Di))}).catch(()=>{}),Wn}const Ee=["get","getKey","getAll","getAllKeys","count"],se=["put","add","delete","clear"],Te=new Map;function Be(ue,Y){if(!(ue instanceof IDBDatabase)||Y in ue||"string"!=typeof Y)return;if(Te.get(Y))return Te.get(Y);const We=Y.replace(/FromIndex$/,""),vt=Y!==We,cn=se.includes(We);if(!(We in(vt?IDBIndex:IDBObjectStore).prototype)||!cn&&!Ee.includes(We))return;const In=function(){var Tn=(0,d.Z)(function*(Wn,...Fn){const Di=this.transaction(Wn,cn?"readwrite":"readonly");let ce=Di.store;return vt&&(ce=ce.index(Fn.shift())),(yield Promise.all([ce[We](...Fn),cn&&Di.done]))[0]});return function(Fn){return Tn.apply(this,arguments)}}();return Te.set(Y,In),In}!function Qe(ue){Me=ue(Me)}(ue=>({...ue,get:(Y,We,vt)=>Be(Y,We)||ue.get(Y,We,vt),has:(Y,We)=>!!Be(Y,We)||ue.has(Y,We)}))},5861:(mt,Se,F)=>{function d(B,te,oe,de,ve,Oe,fe){try{var j=B[Oe](fe),G=j.value}catch(re){return void oe(re)}j.done?te(G):Promise.resolve(G).then(de,ve)}function ie(B){return function(){var te=this,oe=arguments;return new Promise(function(de,ve){var Oe=B.apply(te,oe);function fe(G){d(Oe,de,ve,fe,j,"next",G)}function j(G){d(Oe,de,ve,fe,j,"throw",G)}fe(void 0)})}}F.d(Se,{Z:()=>ie})},7582:(mt,Se,F)=>{function te(ce,ge){var _e={};for(var be in ce)Object.prototype.hasOwnProperty.call(ce,be)&&ge.indexOf(be)<0&&(_e[be]=ce[be]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(be=Object.getOwnPropertySymbols(ce);De<be.length;De++)ge.indexOf(be[De])<0&&Object.prototype.propertyIsEnumerable.call(ce,be[De])&&(_e[be[De]]=ce[be[De]])}return _e}function re(ce,ge,_e,be){return new(_e||(_e=Promise))(function(ke,Je){function Ke(Xt){try{yt(be.next(Xt))}catch(gt){Je(gt)}}function Ln(Xt){try{yt(be.throw(Xt))}catch(gt){Je(gt)}}function yt(Xt){Xt.done?ke(Xt.value):function De(ke){return ke instanceof _e?ke:new _e(function(Je){Je(ke)})}(Xt.value).then(Ke,Ln)}yt((be=be.apply(ce,ge||[])).next())})}function ae(ce){return this instanceof ae?(this.v=ce,this):new ae(ce)}function Ee(ce,ge,_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,be=_e.apply(ce,ge||[]),ke=[];return De={},Je("next"),Je("throw"),Je("return"),De[Symbol.asyncIterator]=function(){return this},De;function Je(Dn){be[Dn]&&(De[Dn]=function(Sn){return new Promise(function(Zn,hn){ke.push([Dn,Sn,Zn,hn])>1||Ke(Dn,Sn)})})}function Ke(Dn,Sn){try{!function Ln(Dn){Dn.value instanceof ae?Promise.resolve(Dn.value.v).then(yt,Xt):gt(ke[0][2],Dn)}(be[Dn](Sn))}catch(Zn){gt(ke[0][3],Zn)}}function yt(Dn){Ke("next",Dn)}function Xt(Dn){Ke("throw",Dn)}function gt(Dn,Sn){Dn(Sn),ke.shift(),ke.length&&Ke(ke[0][0],ke[0][1])}}function Te(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ge=ce[Symbol.asyncIterator];return ge?ge.call(ce):(ce=function Ne(ce){var ge="function"==typeof Symbol&&Symbol.iterator,_e=ge&&ce[ge],be=0;if(_e)return _e.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&be>=ce.length&&(ce=void 0),{value:ce&&ce[be++],done:!ce}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),_e={},be("next"),be("throw"),be("return"),_e[Symbol.asyncIterator]=function(){return this},_e);function be(ke){_e[ke]=ce[ke]&&function(Je){return new Promise(function(Ke,Ln){!function De(ke,Je,Ke,Ln){Promise.resolve(Ln).then(function(yt){ke({value:yt,done:Ke})},Je)}(Ke,Ln,(Je=ce[ke](Je)).done,Je.value)})}}}F.d(Se,{FC:()=>Ee,KL:()=>Te,_T:()=>te,mG:()=>re,qq:()=>ae}),"function"==typeof SuppressedError&&SuppressedError}},mt=>{mt(mt.s=7293)}]);