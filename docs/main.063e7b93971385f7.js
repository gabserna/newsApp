"use strict";(self.webpackChunknewsApp=self.webpackChunknewsApp||[]).push([[179],{304:(zt,$e,K)=>{K.d($e,{Dh:()=>Ue,GT:()=>te,cc:()=>Oe,hO:()=>Xe,on:()=>Y,pX:()=>Ee,xv:()=>Ce});var d=K(212),se=K(120),B=K(497);zt=K.hmd(zt);const ge=["ngOnDestroy"],Ee=(Ve,Ct,kt,gt={})=>new Proxy(Ve,{get:(Pe,et)=>kt.runOutsideAngular(()=>{var Mt;if(Ve[et])return!(null===(Mt=gt?.spy)||void 0===Mt)&&Mt.get&&gt.spy.get(et,Ve[et]),Ve[et];if(ge.indexOf(et)>-1)return()=>{};const qe=Ct.toPromise().then(_e=>{const J=_e&&_e[et];return"function"==typeof J?J.bind(_e):J&&J.then?J.then(ze=>kt.run(()=>ze)):kt.run(()=>J)});return new Proxy(()=>{},{get:(_e,J)=>qe[J],apply:(_e,J,ze)=>qe.then(Vt=>{var Tn;const oi=Vt&&Vt(...ze);return!(null===(Tn=gt?.spy)||void 0===Tn)&&Tn.apply&&gt.spy.apply(et,ze,oi),oi})})})}),te=(Ve,Ct)=>{Ct.forEach(kt=>{Object.getOwnPropertyNames(kt.prototype||kt).forEach(gt=>{Object.defineProperty(Ve.prototype,gt,Object.getOwnPropertyDescriptor(kt.prototype||kt,gt))})})};class Le{constructor(Ct){return Ct}}const Ue=new d.OlP("angularfire2.app.options"),Ce=new d.OlP("angularfire2.app.name");function Y(Ve,Ct,kt){const Pe="object"==typeof kt&&kt||{};Pe.name=Pe.name||"string"==typeof kt&&kt||"[DEFAULT]";const Mt=se.Z.apps.filter(qe=>qe&&qe.name===Pe.name)[0]||Ct.runOutsideAngular(()=>se.Z.initializeApp(Ve,Pe));try{JSON.stringify(Ve)!==JSON.stringify(Mt.options)&&q("error",`${Mt.name} Firebase App already initialized with different options${zt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Le(Mt)}const q=(Ve,...Ct)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ve](...Ct)},le={provide:Le,useFactory:Y,deps:[Ue,d.R0b,[new d.FiY,Ce]]};let Xe=(()=>{class Ve{constructor(kt){se.Z.registerVersion("angularfire",B.q4.full,"core"),se.Z.registerVersion("angularfire",B.q4.full,"app-compat"),se.Z.registerVersion("angular",d.q4F.full,kt.toString())}static initializeApp(kt,gt){return{ngModule:Ve,providers:[{provide:Ue,useValue:kt},{provide:Ce,useValue:gt}]}}}return Ve.\u0275fac=function(kt){return new(kt||Ve)(d.LFG(d.Lbi))},Ve.\u0275mod=d.oAB({type:Ve}),Ve.\u0275inj=d.cJS({providers:[le]}),Ve})();function Oe(Ve,Ct,kt,gt,Pe){const[,et,Mt]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===Ve)||[];if(et)return function dt(Ve,Ct){try{return Ve.toString()===Ct.toString()}catch{return Ve===Ct}}(Pe,Mt)||(nt("error",`${Ct} was already initialized on the ${kt} Firebase App with different settings.${Lt?" You may need to reload as Firebase is not HMR aware.":""}`),nt("warn",{is:Pe,was:Mt})),et;{const qe=gt();return globalThis.\u0275AngularfireInstanceCache.push([Ve,qe,Pe]),qe}}const Lt=!!zt.hot,nt=(Ve,...Ct)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ve](...Ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},497:(zt,$e,K)=>{K.d($e,{q4:()=>x_,iC:()=>Vu,fc:()=>tp,HU:()=>Lu,vb:()=>dc,JM:()=>ll});var d=K(212),se=K(97),B=K(861),ge=K(537),Ee=K(879),te=K(58),Le=K(878);class Ue{constructor(T){this.container=T}getPlatformInfoString(){return this.container.getProviders().map(k=>{if(function Ce(E){const T=E.getComponent();return"VERSION"===T?.type}(k)){const O=k.getImmediate();return`${O.library}/${O.version}`}return null}).filter(k=>k).join(" ")}}const Y="@firebase/app",q="0.9.25",le=new Ee.Yd("@firebase/app"),me={[Y]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ve=new Map,be=new Map;function yt(E,T){try{E.container.addComponent(T)}catch(k){le.debug(`Component ${T.name} failed to register with FirebaseApp ${E.name}`,k)}}function Pn(E){const T=E.name;if(be.has(T))return le.debug(`There were multiple attempts to register component ${T}.`),!1;be.set(T,E);for(const k of ve.values())yt(k,E);return!0}function ut(E,T){const k=E.container.getProvider("heartbeat").getImmediate({optional:!0});return k&&k.triggerHeartbeat(),E.container.getProvider(T)}const Sn=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});function yr(E,T,k){var O;let H=null!==(O=me[E])&&void 0!==O?O:E;k&&(H+=`-${k}`);const W=H.match(/\s|\//),ie=T.match(/\s|\//);if(W||ie){const Me=[`Unable to register library "${H}" with version "${T}":`];return W&&Me.push(`library name "${H}" contains illegal characters (whitespace or "/")`),W&&ie&&Me.push("and"),ie&&Me.push(`version name "${T}" contains illegal characters (whitespace or "/")`),void le.warn(Me.join(" "))}Pn(new ge.wA(`${H}-version`,()=>({library:H,version:T}),"VERSION"))}const Nt="firebase-heartbeat-database",$t=1,ws="firebase-heartbeat-store";let _i=null;function je(){return _i||(_i=(0,Le.X3)(Nt,$t,{upgrade:(E,T)=>{0===T&&E.createObjectStore(ws)}}).catch(E=>{throw Sn.create("idb-open",{originalErrorMessage:E.message})})),_i}function jn(){return(jn=(0,B.Z)(function*(E){try{return yield(yield je()).transaction(ws).objectStore(ws).get(na(E))}catch(T){if(T instanceof te.ZR)le.warn(T.message);else{const k=Sn.create("idb-get",{originalErrorMessage:T?.message});le.warn(k.message)}}})).apply(this,arguments)}function Yo(E,T){return cn.apply(this,arguments)}function cn(){return(cn=(0,B.Z)(function*(E,T){try{const O=(yield je()).transaction(ws,"readwrite");yield O.objectStore(ws).put(T,na(E)),yield O.done}catch(k){if(k instanceof te.ZR)le.warn(k.message);else{const O=Sn.create("idb-set",{originalErrorMessage:k?.message});le.warn(O.message)}}})).apply(this,arguments)}function na(E){return`${E.name}!${E.options.appId}`}class xs{constructor(T){this.container=T,this._heartbeatsCache=null;const k=this.container.getProvider("app").getImmediate();this._storage=new Ac(k),this._heartbeatsCachePromise=this._storage.read().then(O=>(this._heartbeatsCache=O,O))}triggerHeartbeat(){var T=this;return(0,B.Z)(function*(){var k,O;const W=T.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ie=It();if((null!=(null===(k=T._heartbeatsCache)||void 0===k?void 0:k.heartbeats)||(T._heartbeatsCache=yield T._heartbeatsCachePromise,null!=(null===(O=T._heartbeatsCache)||void 0===O?void 0:O.heartbeats)))&&T._heartbeatsCache.lastSentHeartbeatDate!==ie&&!T._heartbeatsCache.heartbeats.some(Me=>Me.date===ie))return T._heartbeatsCache.heartbeats.push({date:ie,agent:W}),T._heartbeatsCache.heartbeats=T._heartbeatsCache.heartbeats.filter(Me=>{const Re=new Date(Me.date).valueOf();return Date.now()-Re<=2592e6}),T._storage.overwrite(T._heartbeatsCache)})()}getHeartbeatsHeader(){var T=this;return(0,B.Z)(function*(){var k;if(null===T._heartbeatsCache&&(yield T._heartbeatsCachePromise),null==(null===(k=T._heartbeatsCache)||void 0===k?void 0:k.heartbeats)||0===T._heartbeatsCache.heartbeats.length)return"";const O=It(),{heartbeatsToSend:H,unsentEntries:W}=function Xt(E,T=1024){const k=[];let O=E.slice();for(const H of E){const W=k.find(ie=>ie.agent===H.agent);if(W){if(W.dates.push(H.date),Ye(k)>T){W.dates.pop();break}}else if(k.push({agent:H.agent,dates:[H.date]}),Ye(k)>T){k.pop();break}O=O.slice(1)}return{heartbeatsToSend:k,unsentEntries:O}}(T._heartbeatsCache.heartbeats),ie=(0,te.L)(JSON.stringify({version:2,heartbeats:H}));return T._heartbeatsCache.lastSentHeartbeatDate=O,W.length>0?(T._heartbeatsCache.heartbeats=W,yield T._storage.overwrite(T._heartbeatsCache)):(T._heartbeatsCache.heartbeats=[],T._storage.overwrite(T._heartbeatsCache)),ie})()}}function It(){return(new Date).toISOString().substring(0,10)}class Ac{constructor(T){this.app=T,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,B.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var T=this;return(0,B.Z)(function*(){if(yield T._canUseIndexedDBPromise){const O=yield function br(E){return jn.apply(this,arguments)}(T.app);return O?.heartbeats?O:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(T){var k=this;return(0,B.Z)(function*(){var O;if(yield k._canUseIndexedDBPromise){const W=yield k.read();return Yo(k.app,{lastSentHeartbeatDate:null!==(O=T.lastSentHeartbeatDate)&&void 0!==O?O:W.lastSentHeartbeatDate,heartbeats:T.heartbeats})}})()}add(T){var k=this;return(0,B.Z)(function*(){var O;if(yield k._canUseIndexedDBPromise){const W=yield k.read();return Yo(k.app,{lastSentHeartbeatDate:null!==(O=T.lastSentHeartbeatDate)&&void 0!==O?O:W.lastSentHeartbeatDate,heartbeats:[...W.heartbeats,...T.heartbeats]})}})()}}function Ye(E){return(0,te.L)(JSON.stringify({version:2,heartbeats:E})).length}!function we(E){Pn(new ge.wA("platform-logger",T=>new Ue(T),"PRIVATE")),Pn(new ge.wA("heartbeat",T=>new xs(T),"PRIVATE")),yr(Y,q,E),yr(Y,q,"esm2017"),yr("fire-js","")}("");const Ze=(E,T)=>T.some(k=>E instanceof k);let Rt,Dt;const $=new WeakMap,j=new WeakMap,Q=new WeakMap,ye=new WeakMap,re=new WeakMap;let dn={get(E,T,k){if(E instanceof IDBTransaction){if("done"===T)return j.get(E);if("objectStoreNames"===T)return E.objectStoreNames||Q.get(E);if("store"===T)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return xt(E[T])},set:(E,T,k)=>(E[T]=k,!0),has:(E,T)=>E instanceof IDBTransaction&&("done"===T||"store"===T)||T in E};function sr(E){return"function"==typeof E?function or(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ni(){return Dt||(Dt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...T){return E.apply(lt(this),T),xt($.get(this))}:function(...T){return xt(E.apply(lt(this),T))}:function(T,...k){const O=E.call(lt(this),T,...k);return Q.set(O,T.sort?T.sort():[T]),xt(O)}}(E):(E instanceof IDBTransaction&&function Ut(E){if(j.has(E))return;const T=new Promise((k,O)=>{const H=()=>{E.removeEventListener("complete",W),E.removeEventListener("error",ie),E.removeEventListener("abort",ie)},W=()=>{k(),H()},ie=()=>{O(E.error||new DOMException("AbortError","AbortError")),H()};E.addEventListener("complete",W),E.addEventListener("error",ie),E.addEventListener("abort",ie)});j.set(E,T)}(E),Ze(E,function Yt(){return Rt||(Rt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,dn):E)}function xt(E){if(E instanceof IDBRequest)return function ct(E){const T=new Promise((k,O)=>{const H=()=>{E.removeEventListener("success",W),E.removeEventListener("error",ie)},W=()=>{k(xt(E.result)),H()},ie=()=>{O(E.error),H()};E.addEventListener("success",W),E.addEventListener("error",ie)});return T.then(k=>{k instanceof IDBCursor&&$.set(k,E)}).catch(()=>{}),re.set(T,E),T}(E);if(ye.has(E))return ye.get(E);const T=sr(E);return T!==E&&(ye.set(E,T),re.set(T,E)),T}const lt=E=>re.get(E),zy=["get","getKey","getAll","getAllKeys","count"],r_=["put","add","delete","clear"],En=new Map;function Nh(E,T){if(!(E instanceof IDBDatabase)||T in E||"string"!=typeof T)return;if(En.get(T))return En.get(T);const k=T.replace(/FromIndex$/,""),O=T!==k,H=r_.includes(k);if(!(k in(O?IDBIndex:IDBObjectStore).prototype)||!H&&!zy.includes(k))return;const W=function(){var ie=(0,B.Z)(function*(Me,...Re){const it=this.transaction(Me,H?"readwrite":"readonly");let wt=it.store;return O&&(wt=wt.index(Re.shift())),(yield Promise.all([wt[k](...Re),H&&it.done]))[0]});return function(Re){return ie.apply(this,arguments)}}();return En.set(T,W),W}!function zr(E){dn=E(dn)}(E=>({...E,get:(T,k,O)=>Nh(T,k)||E.get(T,k,O),has:(T,k)=>!!Nh(T,k)||E.has(T,k)}));const kc="@firebase/installations",ia="0.6.4",Gl=1e4,Mc=`w:${ia}`,au="FIS_v2",cu="https://firebaseinstallations.googleapis.com/v1",ql=36e5,Ot=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Zl(E){return E instanceof te.ZR&&E.code.includes("request-failed")}function ro({projectId:E}){return`${cu}/projects/${E}/installations`}function Gi(E){return{token:E.token,requestStatus:2,expiresIn:du(E.expiresIn),creationTime:Date.now()}}function ra(E,T){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,B.Z)(function*(E,T){const O=(yield T.json()).error;return Ot.create("request-failed",{requestName:E,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function Zt({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function km(E){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,B.Z)(function*(E){const T=yield E();return T.status>=500&&T.status<600?E():T})).apply(this,arguments)}function du(E){return Number(E.replace("s","000"))}function Nc(){return(Nc=(0,B.Z)(function*({appConfig:E,heartbeatServiceProvider:T},{fid:k}){const O=ro(E),H=Zt(E),W=T.getImmediate({optional:!0});if(W){const it=yield W.getHeartbeatsHeader();it&&H.append("x-firebase-client",it)}const Me={method:"POST",headers:H,body:JSON.stringify({fid:k,authVersion:au,appId:E.appId,sdkVersion:Mc})},Re=yield km(()=>fetch(O,Me));if(Re.ok){const it=yield Re.json();return{fid:it.fid||k,registrationStatus:2,refreshToken:it.refreshToken,authToken:Gi(it.authToken)}}throw yield ra("Create Installation",Re)})).apply(this,arguments)}function Mm(E){return new Promise(T=>{setTimeout(T,E)})}const $y=/^[cdef][\w-]{21}$/,Kl="";function o_(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const k=function Rm(E){return function Ha(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return $y.test(k)?k:Kl}catch{return Kl}}function za(E){return`${E.appName}!${E.appId}`}const Co=new Map;function ar(E,T){const k=za(E);fu(k,T),function s_(E,T){const k=function Es(){return!$r&&"BroadcastChannel"in self&&($r=new BroadcastChannel("[Firebase] FID Change"),$r.onmessage=E=>{fu(E.data.key,E.data.fid)}),$r}();k&&k.postMessage({key:E,fid:T}),function mu(){0===Co.size&&$r&&($r.close(),$r=null)}()}(k,T)}function fu(E,T){const k=Co.get(E);if(k)for(const O of k)O(T)}let $r=null;const Qo="firebase-installations-database",Ph=1,ai="firebase-installations-store";let Pc=null;function rn(){return Pc||(Pc=function ja(E,T,{blocked:k,upgrade:O,blocking:H,terminated:W}={}){const ie=indexedDB.open(E,T),Me=xt(ie);return O&&ie.addEventListener("upgradeneeded",Re=>{O(xt(ie.result),Re.oldVersion,Re.newVersion,xt(ie.transaction))}),k&&ie.addEventListener("blocked",()=>k()),Me.then(Re=>{W&&Re.addEventListener("close",()=>W()),H&&Re.addEventListener("versionchange",()=>H())}).catch(()=>{}),Me}(Qo,Ph,{upgrade:(E,T)=>{0===T&&E.createObjectStore(ai)}})),Pc}function Xo(E,T){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,B.Z)(function*(E,T){const k=za(E),H=(yield rn()).transaction(ai,"readwrite"),W=H.objectStore(ai),ie=yield W.get(k);return yield W.put(T,k),yield H.done,(!ie||ie.fid!==T.fid)&&ar(E,T.fid),T})).apply(this,arguments)}function Cs(E){return $a.apply(this,arguments)}function $a(){return($a=(0,B.Z)(function*(E){const T=za(E),O=(yield rn()).transaction(ai,"readwrite");yield O.objectStore(ai).delete(T),yield O.done})).apply(this,arguments)}function Gr(E,T){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,B.Z)(function*(E,T){const k=za(E),H=(yield rn()).transaction(ai,"readwrite"),W=H.objectStore(ai),ie=yield W.get(k),Me=T(ie);return void 0===Me?yield W.delete(k):yield W.put(Me,k),yield H.done,Me&&(!ie||ie.fid!==Me.fid)&&ar(E,Me.fid),Me})).apply(this,arguments)}function Io(E){return cr.apply(this,arguments)}function cr(){return cr=(0,B.Z)(function*(E){let T;const k=yield Gr(E.appConfig,O=>{const H=function sa(E){return To(E||{fid:o_(),registrationStatus:0})}(O),W=function oo(E,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Ot.create("app-offline"))};const k={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},O=function yn(E,T){return aa.apply(this,arguments)}(E,k);return{installationEntry:k,registrationPromise:O}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Xl(E)}:{installationEntry:T}}(E,H);return T=W.registrationPromise,W.installationEntry});return k.fid===Kl?{installationEntry:yield T}:{installationEntry:k,registrationPromise:T}}),cr.apply(this,arguments)}function aa(){return aa=(0,B.Z)(function*(E,T){try{const k=yield function uu(E,T){return Nc.apply(this,arguments)}(E,T);return Xo(E.appConfig,k)}catch(k){throw Zl(k)&&409===k.customData.serverCode?yield Cs(E.appConfig):yield Xo(E.appConfig,{fid:T.fid,registrationStatus:0}),k}}),aa.apply(this,arguments)}function Xl(E){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,B.Z)(function*(E){let T=yield Nm(E.appConfig);for(;1===T.registrationStatus;)yield Mm(100),T=yield Nm(E.appConfig);if(0===T.registrationStatus){const{installationEntry:k,registrationPromise:O}=yield Io(E);return O||k}return T})).apply(this,arguments)}function Nm(E){return Gr(E,T=>{if(!T)throw Ot.create("installation-not-found");return To(T)})}function To(E){return function ed(E){return 1===E.registrationStatus&&E.registrationTime+Gl<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Fh(){return(Fh=(0,B.Z)(function*({appConfig:E,heartbeatServiceProvider:T},k){const O=function Om(E,{fid:T}){return`${ro(E)}/${T}/authTokens:generate`}(E,k),H=function oa(E,{refreshToken:T}){const k=Zt(E);return k.append("Authorization",function Rc(E){return`${au} ${E}`}(T)),k}(E,k),W=T.getImmediate({optional:!0});if(W){const it=yield W.getHeartbeatsHeader();it&&H.append("x-firebase-client",it)}const Me={method:"POST",headers:H,body:JSON.stringify({installation:{sdkVersion:Mc,appId:E.appId}})},Re=yield km(()=>fetch(O,Me));if(Re.ok)return Gi(yield Re.json());throw yield ra("Generate Auth Token",Re)})).apply(this,arguments)}function la(E){return td.apply(this,arguments)}function td(){return td=(0,B.Z)(function*(E,T=!1){let k;const O=yield Gr(E.appConfig,W=>{if(!Lh(W))throw Ot.create("not-registered");const ie=W.authToken;if(!T&&function Pm(E){return 2===E.requestStatus&&!function Vh(E){const T=Date.now();return T<E.creationTime||E.creationTime+E.expiresIn<T+ql}(E)}(ie))return W;if(1===ie.requestStatus)return k=function so(E,T){return Jo.apply(this,arguments)}(E,T),W;{if(!navigator.onLine)throw Ot.create("app-offline");const Me=function nd(E){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:T})}(W);return k=function Fc(E,T){return pu.apply(this,arguments)}(E,Me),Me}});return k?yield k:O.authToken}),td.apply(this,arguments)}function Jo(){return(Jo=(0,B.Z)(function*(E,T){let k=yield Ga(E.appConfig);for(;1===k.authToken.requestStatus;)yield Mm(100),k=yield Ga(E.appConfig);const O=k.authToken;return 0===O.requestStatus?la(E,T):O})).apply(this,arguments)}function Ga(E){return Gr(E,T=>{if(!Lh(T))throw Ot.create("not-registered");return function Bh(E){return 1===E.requestStatus&&E.requestTime+Gl<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function pu(){return pu=(0,B.Z)(function*(E,T){try{const k=yield function ca(E,T){return Fh.apply(this,arguments)}(E,T),O=Object.assign(Object.assign({},T),{authToken:k});return yield Xo(E.appConfig,O),k}catch(k){if(!Zl(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const O=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Xo(E.appConfig,O)}else yield Cs(E.appConfig);throw k}}),pu.apply(this,arguments)}function Lh(E){return void 0!==E&&2===E.registrationStatus}function id(){return(id=(0,B.Z)(function*(E){const T=E,{installationEntry:k,registrationPromise:O}=yield Io(T);return O?O.catch(console.error):la(T).catch(console.error),k.fid})).apply(this,arguments)}function rd(){return rd=(0,B.Z)(function*(E,T=!1){const k=E;return yield function qi(E){return od.apply(this,arguments)}(k),(yield la(k,T)).token}),rd.apply(this,arguments)}function od(){return(od=(0,B.Z)(function*(E){const{registrationPromise:T}=yield Io(E);T&&(yield T)})).apply(this,arguments)}function sd(E){return Ot.create("missing-app-config-values",{valueName:E})}const Wa="installations",Fm=E=>{const T=E.getProvider("app").getImmediate(),k=function _u(E){if(!E||!E.options)throw sd("App Configuration");if(!E.name)throw sd("App Name");const T=["projectId","apiKey","appId"];for(const k of T)if(!E.options[k])throw sd(k);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(T);return{app:T,appConfig:k,heartbeatServiceProvider:ut(T,"heartbeat"),_delete:()=>Promise.resolve()}},Jn=E=>{const k=ut(E.getProvider("app").getImmediate(),Wa).getImmediate();return{getId:()=>function Uh(E){return id.apply(this,arguments)}(k),getToken:H=>function gu(E){return rd.apply(this,arguments)}(k,H)}};(function Be(){Pn(new ge.wA(Wa,Fm,"PUBLIC")),Pn(new ge.wA("installations-internal",Jn,"PRIVATE"))})(),yr(kc,ia),yr(kc,ia,"esm2017");const ft="@firebase/remote-config",Si=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ao{constructor(T,k,O,H){this.client=T,this.storage=k,this.storageCache=O,this.logger=H}isCachedDataFresh(T,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-k,H=O<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${H}.`),H}fetch(T){var k=this;return(0,B.Z)(function*(){const[O,H]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(H&&k.isCachedDataFresh(T.cacheMaxAgeMillis,O))return H;T.eTag=H&&H.eTag;const W=yield k.client.fetch(T),ie=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===W.status&&ie.push(k.storage.setLastSuccessfulFetchResponse(W)),yield Promise.all(ie),W})()}}function Ya(E=navigator){return E.languages&&E.languages[0]||E.language}class ld{constructor(T,k,O,H,W,ie){this.firebaseInstallations=T,this.sdkVersion=k,this.namespace=O,this.projectId=H,this.apiKey=W,this.appId=ie}fetch(T){var k=this;return(0,B.Z)(function*(){const[O,H]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),ie=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Me={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Re={sdk_version:k.sdkVersion,app_instance_id:O,app_instance_id_token:H,app_id:k.appId,language_code:Ya()},it={method:"POST",headers:Me,body:JSON.stringify(Re)},wt=fetch(ie,it),St=new Promise((ni,dr)=>{T.signal.addEventListener(()=>{const Sa=new Error("The operation was aborted.");Sa.name="AbortError",dr(Sa)})});let Sr;try{yield Promise.race([wt,St]),Sr=yield wt}catch(ni){let dr="fetch-client-network";throw"AbortError"===ni?.name&&(dr="fetch-timeout"),Si.create(dr,{originalErrorMessage:ni?.message})}let sn=Sr.status;const Ia=Sr.headers.get("ETag")||void 0;let Ta,Da;if(200===Sr.status){let ni;try{ni=yield Sr.json()}catch(dr){throw Si.create("fetch-client-parse",{originalErrorMessage:dr?.message})}Ta=ni.entries,Da=ni.state}if("INSTANCE_STATE_UNSPECIFIED"===Da?sn=500:"NO_CHANGE"===Da?sn=304:("NO_TEMPLATE"===Da||"EMPTY_CONFIG"===Da)&&(Ta={}),304!==sn&&200!==sn)throw Si.create("fetch-status",{httpStatus:sn});return{status:sn,eTag:Ia,config:Ta}})()}}class wr{constructor(T,k){this.client=T,this.storage=k}fetch(T){var k=this;return(0,B.Z)(function*(){const O=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(T,O)})()}attemptFetch(T,{throttleEndTimeMillis:k,backoffCount:O}){var H=this;return(0,B.Z)(function*(){yield function vi(E,T){return new Promise((k,O)=>{const H=Math.max(T-Date.now(),0),W=setTimeout(k,H);E.addEventListener(()=>{clearTimeout(W),O(Si.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,k);try{const W=yield H.client.fetch(T);return yield H.storage.deleteThrottleMetadata(),W}catch(W){if(!function dd(E){if(!(E instanceof te.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}(W))throw W;const ie={throttleEndTimeMillis:Date.now()+(0,te.$s)(O),backoffCount:O+1};return yield H.storage.setThrottleMetadata(ie),H.attemptFetch(T,ie)}})()}}class Hc{constructor(T,k,O,H,W){this.app=T,this._client=k,this._storageCache=O,this._storage=H,this._logger=W,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function da(E,T){const k=E.target.error||void 0;return Si.create(T,{originalErrorMessage:k&&k?.message})}const lr="app_namespace_store";class Hh{constructor(T,k,O,H=function Lm(){return new Promise((E,T)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=O=>{T(da(O,"storage-open"))},k.onsuccess=O=>{E(O.target.result)},k.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(lr,{keyPath:"compositeKey"})}}catch(k){T(Si.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=T,this.appName=k,this.namespace=O,this.openDbPromise=H}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var k=this;return(0,B.Z)(function*(){const O=yield k.openDbPromise;return new Promise((H,W)=>{const Me=O.transaction([lr],"readonly").objectStore(lr),Re=k.createCompositeKey(T);try{const it=Me.get(Re);it.onerror=wt=>{W(da(wt,"storage-get"))},it.onsuccess=wt=>{const St=wt.target.result;H(St?St.value:void 0)}}catch(it){W(Si.create("storage-get",{originalErrorMessage:it?.message}))}})})()}set(T,k){var O=this;return(0,B.Z)(function*(){const H=yield O.openDbPromise;return new Promise((W,ie)=>{const Re=H.transaction([lr],"readwrite").objectStore(lr),it=O.createCompositeKey(T);try{const wt=Re.put({compositeKey:it,value:k});wt.onerror=St=>{ie(da(St,"storage-set"))},wt.onsuccess=()=>{W()}}catch(wt){ie(Si.create("storage-set",{originalErrorMessage:wt?.message}))}})})()}delete(T){var k=this;return(0,B.Z)(function*(){const O=yield k.openDbPromise;return new Promise((H,W)=>{const Me=O.transaction([lr],"readwrite").objectStore(lr),Re=k.createCompositeKey(T);try{const it=Me.delete(Re);it.onerror=wt=>{W(da(wt,"storage-delete"))},it.onsuccess=()=>{H()}}catch(it){W(Si.create("storage-delete",{originalErrorMessage:it?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class wu{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,B.Z)(function*(){const k=T.storage.getLastFetchStatus(),O=T.storage.getLastSuccessfulFetchTimestampMillis(),H=T.storage.getActiveConfig(),W=yield k;W&&(T.lastFetchStatus=W);const ie=yield O;ie&&(T.lastSuccessfulFetchTimestampMillis=ie);const Me=yield H;Me&&(T.activeConfig=Me)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function u_(){return h_.apply(this,arguments)}function h_(){return(h_=(0,B.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch{return!1}})).apply(this,arguments)}!function Gy(){Pn(new ge.wA("remote-config",function E(T,{instanceIdentifier:k}){const O=T.getProvider("app").getImmediate(),H=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Si.create("registration-window");if(!(0,te.hl)())throw Si.create("indexed-db-unavailable");const{projectId:W,apiKey:ie,appId:Me}=O.options;if(!W)throw Si.create("registration-project-id");if(!ie)throw Si.create("registration-api-key");if(!Me)throw Si.create("registration-app-id");const Re=new Hh(Me,O.name,k=k||"firebase"),it=new wu(Re),wt=new Ee.Yd(ft);wt.logLevel=Ee.in.ERROR;const St=new ld(H,"10.7.1",k,W,ie,Me),Sr=new wr(St,Re),sn=new Ao(Sr,Re,it,wt),Ia=new Hc(O,sn,it,Re,wt);return function ad(E){const T=(0,te.m9)(E);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Ia),Ia},"PUBLIC").setMultipleInstances(!0)),yr(ft,"0.4.4"),yr(ft,"0.4.4","esm2017")}();const _x=(E,T)=>T.some(k=>E instanceof k);let f_,Vm;const ud=new WeakMap,m_=new WeakMap,p_=new WeakMap,Eu=new WeakMap,ua=new WeakMap;let g_={get(E,T,k){if(E instanceof IDBTransaction){if("done"===T)return m_.get(E);if("objectStoreNames"===T)return E.objectStoreNames||p_.get(E);if("store"===T)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return Ts(E[T])},set:(E,T,k)=>(E[T]=k,!0),has:(E,T)=>E instanceof IDBTransaction&&("done"===T||"store"===T)||T in E};function Qa(E){return"function"==typeof E?function Um(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xu(){return Vm||(Vm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...T){return E.apply(zc(this),T),Ts(ud.get(this))}:function(...T){return Ts(E.apply(zc(this),T))}:function(T,...k){const O=E.call(zc(this),T,...k);return p_.set(O,T.sort?T.sort():[T]),Ts(O)}}(E):(E instanceof IDBTransaction&&function yx(E){if(m_.has(E))return;const T=new Promise((k,O)=>{const H=()=>{E.removeEventListener("complete",W),E.removeEventListener("error",ie),E.removeEventListener("abort",ie)},W=()=>{k(),H()},ie=()=>{O(E.error||new DOMException("AbortError","AbortError")),H()};E.addEventListener("complete",W),E.addEventListener("error",ie),E.addEventListener("abort",ie)});m_.set(E,T)}(E),_x(E,function vx(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,g_):E)}function Ts(E){if(E instanceof IDBRequest)return function Bm(E){const T=new Promise((k,O)=>{const H=()=>{E.removeEventListener("success",W),E.removeEventListener("error",ie)},W=()=>{k(Ts(E.result)),H()},ie=()=>{O(E.error),H()};E.addEventListener("success",W),E.addEventListener("error",ie)});return T.then(k=>{k instanceof IDBCursor&&ud.set(k,E)}).catch(()=>{}),ua.set(T,E),T}(E);if(Eu.has(E))return Eu.get(E);const T=Qa(E);return T!==E&&(Eu.set(E,T),ua.set(T,E)),T}const zc=E=>ua.get(E);function $h(E,T,{blocked:k,upgrade:O,blocking:H,terminated:W}={}){const ie=indexedDB.open(E,T),Me=Ts(ie);return O&&ie.addEventListener("upgradeneeded",Re=>{O(Ts(ie.result),Re.oldVersion,Re.newVersion,Ts(ie.transaction))}),k&&ie.addEventListener("blocked",()=>k()),Me.then(Re=>{W&&Re.addEventListener("close",()=>W()),H&&Re.addEventListener("versionchange",()=>H())}).catch(()=>{}),Me}function Cu(E,{blocked:T}={}){const k=indexedDB.deleteDatabase(E);return T&&k.addEventListener("blocked",()=>T()),Ts(k).then(()=>{})}const hd=["get","getKey","getAll","getAllKeys","count"],Ds=["put","add","delete","clear"],$c=new Map;function jm(E,T){if(!(E instanceof IDBDatabase)||T in E||"string"!=typeof T)return;if($c.get(T))return $c.get(T);const k=T.replace(/FromIndex$/,""),O=T!==k,H=Ds.includes(k);if(!(k in(O?IDBIndex:IDBObjectStore).prototype)||!H&&!hd.includes(k))return;const W=function(){var ie=(0,B.Z)(function*(Me,...Re){const it=this.transaction(Me,H?"readwrite":"readonly");let wt=it.store;return O&&(wt=wt.index(Re.shift())),(yield Promise.all([wt[k](...Re),H&&it.done]))[0]});return function(Re){return ie.apply(this,arguments)}}();return $c.set(T,W),W}!function qy(E){g_=E(g_)}(E=>({...E,get:(T,k,O)=>jm(T,k)||E.get(T,k,O),has:(T,k)=>!!jm(T,k)||E.has(T,k)}));var Gc=K(594);const __="/firebase-messaging-sw.js",Ss="/firebase-cloud-messaging-push-scope",Gh="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",qh="https://fcmregistrations.googleapis.com/v1",Xa="google.c.a.c_id",fd="google.c.a.c_l",Wy="google.c.a.ts";var ha=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(ha||{});function zn(E){const T=new Uint8Array(E);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hm(E){const k=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(k),H=new Uint8Array(O.length);for(let W=0;W<O.length;++W)H[W]=O.charCodeAt(W);return H}const qc="fcm_token_details_db",es=5,Wr="fcm_token_object_Store";function pd(){return pd=(0,B.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(W=>W.name).includes(qc))return null;let T=null;return(yield $h(qc,es,{upgrade:(O=(0,B.Z)(function*(H,W,ie,Me){var Re;if(W<2||!H.objectStoreNames.contains(Wr))return;const it=Me.objectStore(Wr),wt=yield it.index("fcmSenderId").get(E);if(yield it.clear(),wt)if(2===W){const St=wt;if(!St.auth||!St.p256dh||!St.endpoint)return;T={token:St.fcmToken,createTime:null!==(Re=St.createTime)&&void 0!==Re?Re:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:zn(St.vapidKey)}}}else if(3===W){const St=wt;T={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:zn(St.auth),p256dh:zn(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:zn(St.vapidKey)}}}else if(4===W){const St=wt;T={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:zn(St.auth),p256dh:zn(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:zn(St.vapidKey)}}}}),function(W,ie,Me,Re){return O.apply(this,arguments)})})).close(),yield Cu(qc),yield Cu("fcm_vapid_details_db"),yield Cu("undefined"),function Zy(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:T}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var O}),pd.apply(this,arguments)}const Zr="firebase-messaging-database",Wh=1,$n="firebase-messaging-store";let Iu=null;function Wc(){return Iu||(Iu=$h(Zr,Wh,{upgrade:(E,T)=>{0===T&&E.createObjectStore($n)}})),Iu}function Tu(E){return ts.apply(this,arguments)}function ts(){return ts=(0,B.Z)(function*(E){const T=ma(E),O=yield(yield Wc()).transaction($n).objectStore($n).get(T);if(O)return O;{const H=yield function fa(E){return pd.apply(this,arguments)}(E.appConfig.senderId);if(H)return yield Zc(E,H),H}}),ts.apply(this,arguments)}function Zc(E,T){return gd.apply(this,arguments)}function gd(){return(gd=(0,B.Z)(function*(E,T){const k=ma(E),H=(yield Wc()).transaction($n,"readwrite");return yield H.objectStore($n).put(T,k),yield H.done,T})).apply(this,arguments)}function Et(){return(Et=(0,B.Z)(function*(E){const T=ma(E),O=(yield Wc()).transaction($n,"readwrite");yield O.objectStore($n).delete(T),yield O.done})).apply(this,arguments)}function ma({appConfig:E}){return E.appId}const hi=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Zh(E,T){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,B.Z)(function*(E,T){const k=yield Kc(E),O=pe(T),H={method:"POST",headers:k,body:JSON.stringify(O)};let W;try{W=yield(yield fetch(vd(E.appConfig),H)).json()}catch(ie){throw hi.create("token-subscribe-failed",{errorInfo:ie?.toString()})}if(W.error)throw hi.create("token-subscribe-failed",{errorInfo:W.error.message});if(!W.token)throw hi.create("token-subscribe-no-token");return W.token})).apply(this,arguments)}function ns(){return(ns=(0,B.Z)(function*(E,T){const k=yield Kc(E),O=pe(T.subscriptionOptions),H={method:"PATCH",headers:k,body:JSON.stringify(O)};let W;try{W=yield(yield fetch(`${vd(E.appConfig)}/${T.token}`,H)).json()}catch(ie){throw hi.create("token-update-failed",{errorInfo:ie?.toString()})}if(W.error)throw hi.create("token-update-failed",{errorInfo:W.error.message});if(!W.token)throw hi.create("token-update-no-token");return W.token})).apply(this,arguments)}function ko(E,T){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,B.Z)(function*(E,T){const O={method:"DELETE",headers:yield Kc(E)};try{const W=yield(yield fetch(`${vd(E.appConfig)}/${T}`,O)).json();if(W.error)throw hi.create("token-unsubscribe-failed",{errorInfo:W.error.message})}catch(H){throw hi.create("token-unsubscribe-failed",{errorInfo:H?.toString()})}})).apply(this,arguments)}function vd({projectId:E}){return`${qh}/projects/${E}/registrations`}function Kc(E){return Du.apply(this,arguments)}function Du(){return(Du=(0,B.Z)(function*({appConfig:E,installations:T}){const k=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function pe({p256dh:E,auth:T,endpoint:k,vapidKey:O}){const H={web:{endpoint:k,auth:T,p256dh:E}};return O!==Gh&&(H.web.applicationPubKey=O),H}const un=6048e5;function Su(){return Su=(0,B.Z)(function*(E){const T=yield function Xh(E,T){return zm.apply(this,arguments)}(E.swRegistration,E.vapidKey),k={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:T.endpoint,auth:zn(T.getKey("auth")),p256dh:zn(T.getKey("p256dh"))},O=yield Tu(E.firebaseDependencies);if(O){if(function yd(E,T){return T.vapidKey===E.vapidKey&&T.endpoint===E.endpoint&&T.auth===E.auth&&T.p256dh===E.p256dh}(O.subscriptionOptions,k))return Date.now()>=O.createTime+un?function Au(E,T){return Mo.apply(this,arguments)}(E,{token:O.token,createTime:Date.now(),subscriptionOptions:k}):O.token;try{yield ko(E.firebaseDependencies,O.token)}catch(H){console.warn(H)}return Qc(E.firebaseDependencies,k)}return Qc(E.firebaseDependencies,k)}),Su.apply(this,arguments)}function Qh(){return Qh=(0,B.Z)(function*(E){const T=yield Tu(E.firebaseDependencies);T&&(yield ko(E.firebaseDependencies,T.token),yield function As(E){return Et.apply(this,arguments)}(E.firebaseDependencies));const k=yield E.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()}),Qh.apply(this,arguments)}function Mo(){return Mo=(0,B.Z)(function*(E,T){try{const k=yield function _d(E,T){return ns.apply(this,arguments)}(E.firebaseDependencies,T),O=Object.assign(Object.assign({},T),{token:k,createTime:Date.now()});return yield Zc(E.firebaseDependencies,O),k}catch(k){throw yield function Mn(E){return Qh.apply(this,arguments)}(E),k}}),Mo.apply(this,arguments)}function Qc(E,T){return ku.apply(this,arguments)}function ku(){return(ku=(0,B.Z)(function*(E,T){const O={token:yield Zh(E,T),createTime:Date.now(),subscriptionOptions:T};return yield Zc(E,O),O.token})).apply(this,arguments)}function zm(){return(zm=(0,B.Z)(function*(E,T){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hm(T)})})).apply(this,arguments)}function Zi(E){const T={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function pa(E,T){if(!T.notification)return;E.notification={};const k=T.notification.title;k&&(E.notification.title=k);const O=T.notification.body;O&&(E.notification.body=O);const H=T.notification.image;H&&(E.notification.image=H);const W=T.notification.icon;W&&(E.notification.icon=W)}(T,E),function v_(E,T){T.data&&(E.data=T.data)}(T,E),function ks(E,T){var k,O,H,W,ie;if(!(T.fcmOptions||null!==(k=T.notification)&&void 0!==k&&k.click_action))return;E.fcmOptions={};const Me=null!==(H=null===(O=T.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==H?H:null===(W=T.notification)||void 0===W?void 0:W.click_action;Me&&(E.fcmOptions.link=Me);const Re=null===(ie=T.fcmOptions)||void 0===ie?void 0:ie.analytics_label;Re&&(E.fcmOptions.analyticsLabel=Re)}(T,E),T}function $m(E,T){const k=[];for(let O=0;O<E.length;O++)k.push(E.charAt(O)),O<T.length&&k.push(T.charAt(O));return k.join("")}function Gm(E){return hi.create("missing-app-config-values",{valueName:E})}$m("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$m("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vn{constructor(T,k,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const H=function y_(E){if(!E||!E.options)throw Gm("App Configuration Object");if(!E.name)throw Gm("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:k}=E;for(const O of T)if(!k[O])throw Gm(O);return{appName:E.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:H,installations:k,analyticsProvider:O}}_delete(){return Promise.resolve()}}function bd(){return(bd=(0,B.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(__,{scope:Ss}),E.swRegistration.update().catch(()=>{})}catch(T){throw hi.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Xc(){return(Xc=(0,B.Z)(function*(E,T){if(!T&&!E.swRegistration&&(yield function yi(E){return bd.apply(this,arguments)}(E)),T||!E.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw hi.create("invalid-sw-registration");E.swRegistration=T}})).apply(this,arguments)}function wd(){return(wd=(0,B.Z)(function*(E,T){T?E.vapidKey=T:E.vapidKey||(E.vapidKey=Gh)})).apply(this,arguments)}function _a(){return _a=(0,B.Z)(function*(E,T){if(!navigator)throw hi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw hi.create("permission-blocked");return yield function Mu(E,T){return wd.apply(this,arguments)}(E,T?.vapidKey),yield function Ms(E,T){return Xc.apply(this,arguments)}(E,T?.serviceWorkerRegistration),function Yc(E){return Su.apply(this,arguments)}(E)}),_a.apply(this,arguments)}function Ru(){return(Ru=(0,B.Z)(function*(E,T,k){const O=function Ed(E){switch(E){case ha.NOTIFICATION_CLICKED:return"notification_open";case ha.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:k[Xa],message_name:k[fd],message_time:k[Wy],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function is(){return is=(0,B.Z)(function*(E,T){const k=T.data;if(!k.isFirebaseMessaging)return;E.onMessageHandler&&k.messageType===ha.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Zi(k)):E.onMessageHandler.next(Zi(k)));const O=k.data;(function ga(E){return"object"==typeof E&&!!E&&Xa in E})(O)&&"1"===O["google.c.a.e"]&&(yield function xd(E,T,k){return Ru.apply(this,arguments)}(E,k.messageType,O))}),is.apply(this,arguments)}const bi="@firebase/messaging",en=E=>{const T=new Vn(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function va(E,T){return is.apply(this,arguments)}(T,k)),T},qm=E=>{const T=E.getProvider("messaging").getImmediate();return{getToken:O=>function Ja(E,T){return _a.apply(this,arguments)}(T,O)}};function Nu(){return ef.apply(this,arguments)}function ef(){return(ef=(0,B.Z)(function*(){try{yield(0,te.eu)()}catch{return!1}return typeof window<"u"&&(0,te.hl)()&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Jh(){(0,Gc._registerComponent)(new ge.wA("messaging",en,"PUBLIC")),(0,Gc._registerComponent)(new ge.wA("messaging-internal",qm,"PRIVATE")),(0,Gc.registerVersion)(bi,"0.12.4"),(0,Gc.registerVersion)(bi,"0.12.4","esm2017")}();const Er="analytics",Wm="firebase_id",rf="origin",sf=6e4,wa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tn="https://www.googletagmanager.com/gtag/js",Fi=new Ee.Yd("@firebase/analytics"),Li=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function el(E){if(!E.startsWith(tn)){const T=Li.create("invalid-gtag-resource",{gtagURL:E});return Fi.warn(T.message),""}return E}function Zm(E){return Promise.all(E.map(T=>T.catch(k=>k)))}function Td(){return(Td=(0,B.Z)(function*(E,T,k,O,H,W){const ie=O[H];try{if(ie)yield T[ie];else{const Re=(yield Zm(k)).find(it=>it.measurementId===H);Re&&(yield T[Re.appId])}}catch(Me){Fi.error(Me)}E("config",H,W)})).apply(this,arguments)}function tl(){return(tl=(0,B.Z)(function*(E,T,k,O,H){try{let W=[];if(H&&H.send_to){let ie=H.send_to;Array.isArray(ie)||(ie=[ie]);const Me=yield Zm(k);for(const Re of ie){const it=Me.find(St=>St.measurementId===Re),wt=it&&T[it.appId];if(!wt){W=[];break}W.push(wt)}}0===W.length&&(W=Object.values(T)),yield Promise.all(W),E("event",O,H||{})}catch(W){Fi.error(W)}})).apply(this,arguments)}const Sd=30,Ad=new class lo{constructor(T={},k=1e3){this.throttleMetadata=T,this.intervalMillis=k}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,k){this.throttleMetadata[T]=k}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Gn(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function kd(){return(kd=(0,B.Z)(function*(E){var T;const{appId:k,apiKey:O}=E,H={method:"GET",headers:Gn(O)},W=wa.replace("{app-id}",k),ie=yield fetch(W,H);if(200!==ie.status&&304!==ie.status){let Me="";try{const Re=yield ie.json();null!==(T=Re.error)&&void 0!==T&&T.message&&(Me=Re.error.message)}catch{}throw Li.create("config-fetch-failed",{httpStatus:ie.status,responseMessage:Me})}return ie.json()})).apply(this,arguments)}function Md(){return(Md=(0,B.Z)(function*(E,T=Ad,k){const{appId:O,apiKey:H,measurementId:W}=E.options;if(!O)throw Li.create("no-app-id");if(!H){if(W)return{measurementId:W,appId:O};throw Li.create("no-api-key")}const ie=T.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Me=new nc;return setTimeout((0,B.Z)(function*(){Me.abort()}),void 0!==k?k:sf),ol({appId:O,apiKey:H,measurementId:W},ie,Me,T)})).apply(this,arguments)}function ol(E,T,k){return qn.apply(this,arguments)}function qn(){return qn=(0,B.Z)(function*(E,{throttleEndTimeMillis:T,backoffCount:k},O,H=Ad){var W;const{appId:ie,measurementId:Me}=E;try{yield function Km(E,T){return new Promise((k,O)=>{const H=Math.max(T-Date.now(),0),W=setTimeout(k,H);E.addEventListener(()=>{clearTimeout(W),O(Li.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(O,T)}catch(Re){if(Me)return Fi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${Re?.message}]`),{appId:ie,measurementId:Me};throw Re}try{const Re=yield function tc(E){return kd.apply(this,arguments)}(E);return H.deleteThrottleMetadata(ie),Re}catch(Re){const it=Re;if(!function Ki(E){if(!(E instanceof te.ZR&&E.customData))return!1;const T=Number(E.customData.httpStatus);return 429===T||500===T||503===T||504===T}(it)){if(H.deleteThrottleMetadata(ie),Me)return Fi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${it?.message}]`),{appId:ie,measurementId:Me};throw Re}const wt=503===Number(null===(W=it?.customData)||void 0===W?void 0:W.httpStatus)?(0,te.$s)(k,H.intervalMillis,Sd):(0,te.$s)(k,H.intervalMillis),St={throttleEndTimeMillis:Date.now()+wt,backoffCount:k+1};return H.setThrottleMetadata(ie,St),Fi.debug(`Calling attemptFetch again in ${wt} millis`),ol(E,St,O,H)}}),qn.apply(this,arguments)}class nc{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Rd,Ro;function rs(){return(rs=(0,B.Z)(function*(E,T,k,O,H){if(H&&H.global)E("event",k,O);else{const W=yield T;E("event",k,Object.assign(Object.assign({},O),{send_to:W}))}})).apply(this,arguments)}function Ns(){return(Ns=(0,B.Z)(function*(){if(!(0,te.hl)())return Fi.warn(Li.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(E){return Fi.warn(Li.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function uo(){return uo=(0,B.Z)(function*(E,T,k,O,H,W,ie){var Me;const Re=function rl(E){return Md.apply(this,arguments)}(E);Re.then(sn=>{k[sn.measurementId]=sn.appId,E.options.measurementId&&sn.measurementId!==E.options.measurementId&&Fi.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${sn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(sn=>Fi.error(sn)),T.push(Re);const it=function Rs(){return Ns.apply(this,arguments)}().then(sn=>{if(sn)return O.getId()}),[wt,St]=yield Promise.all([Re,it]);(function st(E){const T=window.document.getElementsByTagName("script");for(const k of Object.values(T))if(k.src&&k.src.includes(tn)&&k.src.includes(E))return k;return null})(W)||function Lr(E,T){const k=function ot(E,T){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(E,T)),k}("firebase-js-sdk-policy",{createScriptURL:el}),O=document.createElement("script"),H=`${tn}?l=${E}&id=${T}`;O.src=k?k?.createScriptURL(H):H,O.async=!0,document.head.appendChild(O)}(W,wt.measurementId),Ro&&(H("consent","default",Ro),function ss(E){Ro=E}(void 0)),H("js",new Date);const Sr=null!==(Me=ie?.config)&&void 0!==Me?Me:{};return Sr[rf]="firebase",Sr.update=!0,null!=St&&(Sr[Wm]=St),H("config",wt.measurementId,Sr),Rd&&(H("set",Rd),function fi(E){Rd=E}(void 0)),wt.measurementId}),uo.apply(this,arguments)}class ho{constructor(T){this.app=T}_delete(){return delete Nn[this.app.options.appId],Promise.resolve()}}let Nn={},as=[];const b_={};let uf,No,xa="dataLayer",oc=!1;function qt(E,T,k){!function Os(){const E=[];if((0,te.ru)()&&E.push("This is a browser extension environment."),(0,te.zI)()||E.push("Cookies are not available."),E.length>0){const T=E.map((O,H)=>`(${H+1}) ${O}`).join(" "),k=Li.create("invalid-analytics-context",{errorInfo:T});Fi.warn(k.message)}}();const O=E.options.appId;if(!O)throw Li.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Li.create("no-api-key");Fi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nn[O])throw Li.create("already-exists",{id:O});if(!oc){!function af(E){let T=[];Array.isArray(window[E])?T=window[E]:window[E]=T}(xa);const{wrappedGtag:W,gtagCore:ie}=function il(E,T,k,O,H){let W=function(...ie){window[O].push(arguments)};return window[H]&&"function"==typeof window[H]&&(W=window[H]),window[H]=function nl(E,T,k,O){function W(){return W=(0,B.Z)(function*(ie,...Me){try{if("event"===ie){const[Re,it]=Me;yield function Dd(E,T,k,O,H){return tl.apply(this,arguments)}(E,T,k,Re,it)}else if("config"===ie){const[Re,it]=Me;yield function Id(E,T,k,O,H,W){return Td.apply(this,arguments)}(E,T,k,O,Re,it)}else if("consent"===ie){const[Re]=Me;E("consent","update",Re)}else if("get"===ie){const[Re,it,wt]=Me;E("get",Re,it,wt)}else if("set"===ie){const[Re]=Me;E("set",Re)}else E(ie,...Me)}catch(Re){Fi.error(Re)}}),W.apply(this,arguments)}return function H(ie){return W.apply(this,arguments)}}(W,E,T,k),{gtagCore:W,wrappedGtag:window[H]}}(Nn,as,b_,xa,"gtag");No=W,uf=ie,oc=!0}return Nn[O]=function Qm(E,T,k,O,H,W,ie){return uo.apply(this,arguments)}(E,as,b_,T,uf,xa,k),new ho(E)}function cs(){return Xm.apply(this,arguments)}function Xm(){return(Xm=(0,B.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch{return!1}})).apply(this,arguments)}const Dr="@firebase/analytics";!function sc(){Pn(new ge.wA(Er,(T,{options:k})=>qt(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),Pn(new ge.wA("analytics-internal",function E(T){try{const k=T.getProvider(Er).getImmediate();return{logEvent:(O,H,W)=>function ff(E,T,k,O){E=(0,te.m9)(E),function ic(E,T,k,O,H){return rs.apply(this,arguments)}(No,Nn[E.app.options.appId],T,k,O).catch(H=>Fi.error(H))}(k,O,H,W)}}catch(k){throw Li.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),yr(Dr,"0.10.0"),yr(Dr,"0.10.0","esm2017")}();var Qy=K(954),al=K(631);const ac=new class On extends al.v{}(class Po extends Qy.o{constructor(T,k){super(T,k),this.scheduler=T,this.work=k}schedule(T,k=0){return k>0?super.schedule(T,k):(this.delay=k,this.state=T,this.scheduler.flush(this),this)}execute(T,k){return k>0||this.closed?super.execute(T,k):this._execute(T,k)}requestAsyncId(T,k,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(T,k,O):(T.flush(this),0)}});var Fs=K(321),w_=K(397),Ls=K(93),Ca=K(137);const x_=new d.GfV("7.6.1"),Vs="__angularfire_symbol__analyticsIsSupportedValue",Bs="__angularfire_symbol__analyticsIsSupported",cc="__angularfire_symbol__remoteConfigIsSupportedValue",cl="__angularfire_symbol__remoteConfigIsSupported",Fu="__angularfire_symbol__messagingIsSupportedValue",lc="__angularfire_symbol__messagingIsSupported";function ll(E,T,k){if(T){if(1===T.length)return T[0];const W=T.filter(ie=>ie.app===k);if(1===W.length)return W[0]}return k.container.getProvider(E).getImmediate({optional:!0})}globalThis[Bs]||(globalThis[Bs]=cs().then(E=>globalThis[Vs]=E).catch(()=>globalThis[Vs]=!1)),globalThis[lc]||(globalThis[lc]=Nu().then(E=>globalThis[Fu]=E).catch(()=>globalThis[Fu]=!1)),globalThis[cl]||(globalThis[cl]=u_().then(E=>globalThis[cc]=E).catch(()=>globalThis[cc]=!1));const dc=(E,T)=>{const k=T?[T]:(0,se.C6)(),O=[];return k.forEach(H=>{H.container.getProvider(E).instances.forEach(ie=>{O.includes(ie)||O.push(ie)})}),O};function ls(){}class E_{constructor(T,k=ac){this.zone=T,this.delegate=k}now(){return this.delegate.now()}schedule(T,k,O){const H=this.zone;return this.delegate.schedule(function(ie){H.runGuarded(()=>{T.apply(this,[ie])})},k,O)}}class ep{constructor(T){this.zone=T,this.task=null}call(T,k){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ls,{},ls,ls)),k.pipe((0,w_.b)({next:O,complete:O,error:O})).subscribe(T).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Lu=(()=>{class E{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new E_(Zone.current)),this.insideAngular=k.run(()=>new E_(Zone.current,Fs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(k){return new(k||E)(d.LFG(d.R0b))},E.\u0275prov=d.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function dl(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function tp(E){return E.pipe((0,Ls.Q)(dl().outsideAngular))}function Vu(E){return dl(),function gf(E){return function(k){return(k=k.lift(new ep(E.ngZone))).pipe((0,Ca.R)(E.outsideAngular),(0,Ls.Q)(E.insideAngular))}}(dl())(E)}},58:(zt,$e,K)=>{K.d($e,{$s:()=>Rt,BH:()=>et,DV:()=>Bt,Dv:()=>Yo,G6:()=>Ri,GJ:()=>Or,L:()=>Ce,LL:()=>be,Pz:()=>Pe,Sg:()=>Mt,UG:()=>J,UI:()=>Xn,US:()=>te,Wj:()=>Qt,Wl:()=>ut,Yr:()=>si,ZB:()=>le,ZR:()=>ve,aH:()=>gt,b$:()=>Tn,cI:()=>Pn,dS:()=>xs,eu:()=>de,g5:()=>B,gK:()=>cn,gQ:()=>$t,h$:()=>Ue,hl:()=>oe,hu:()=>se,jU:()=>ze,lb:()=>io,m9:()=>Ni,ne:()=>ws,p$:()=>q,pd:()=>Nt,r3:()=>Fn,ru:()=>Vt,tV:()=>Y,uI:()=>_e,ug:()=>It,vZ:()=>no,w1:()=>Un,w9:()=>Sn,xO:()=>Ua,xb:()=>vr,z$:()=>qe,zI:()=>ue,zd:()=>at});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},se=function($,j){if(!$)throw B(j)},B=function($){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+$)},ge=function($){const j=[];let Q=0;for(let ye=0;ye<$.length;ye++){let re=$.charCodeAt(ye);re<128?j[Q++]=re:re<2048?(j[Q++]=re>>6|192,j[Q++]=63&re|128):55296==(64512&re)&&ye+1<$.length&&56320==(64512&$.charCodeAt(ye+1))?(re=65536+((1023&re)<<10)+(1023&$.charCodeAt(++ye)),j[Q++]=re>>18|240,j[Q++]=re>>12&63|128,j[Q++]=re>>6&63|128,j[Q++]=63&re|128):(j[Q++]=re>>12|224,j[Q++]=re>>6&63|128,j[Q++]=63&re|128)}return j},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,j){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let re=0;re<$.length;re+=3){const ct=$[re],Ut=re+1<$.length,dn=Ut?$[re+1]:0,zr=re+2<$.length,or=zr?$[re+2]:0;let lt=(15&dn)<<2|or>>6,ja=63&or;zr||(ja=64,Ut||(lt=64)),ye.push(Q[ct>>2],Q[(3&ct)<<4|dn>>4],Q[lt],Q[ja])}return ye.join("")},encodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa($):this.encodeByteArray(ge($),j)},decodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?atob($):function($){const j=[];let Q=0,ye=0;for(;Q<$.length;){const re=$[Q++];if(re<128)j[ye++]=String.fromCharCode(re);else if(re>191&&re<224){const ct=$[Q++];j[ye++]=String.fromCharCode((31&re)<<6|63&ct)}else if(re>239&&re<365){const zr=((7&re)<<18|(63&$[Q++])<<12|(63&$[Q++])<<6|63&$[Q++])-65536;j[ye++]=String.fromCharCode(55296+(zr>>10)),j[ye++]=String.fromCharCode(56320+(1023&zr))}else{const ct=$[Q++],Ut=$[Q++];j[ye++]=String.fromCharCode((15&re)<<12|(63&ct)<<6|63&Ut)}}return j.join("")}(this.decodeStringToByteArray($,j))},decodeStringToByteArray($,j){this.init_();const Q=j?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let re=0;re<$.length;){const ct=Q[$.charAt(re++)],dn=re<$.length?Q[$.charAt(re)]:0;++re;const or=re<$.length?Q[$.charAt(re)]:64;++re;const xt=re<$.length?Q[$.charAt(re)]:64;if(++re,null==ct||null==dn||null==or||null==xt)throw new Le;ye.push(ct<<2|dn>>4),64!==or&&(ye.push(dn<<4&240|or>>2),64!==xt&&ye.push(or<<6&192|xt))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class Le extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ue=function($){const j=ge($);return te.encodeByteArray(j,!0)},Ce=function($){return Ue($).replace(/\./g,"")},Y=function($){try{return te.decodeString($,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function q($){return le(void 0,$)}function le($,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return j}for(const Q in j)!j.hasOwnProperty(Q)||!Xe(Q)||($[Q]=le($[Q],j[Q]));return $}function Xe($){return"__proto__"!==$}const Ve=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=$&&Y($[1]);return j&&JSON.parse(j)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},gt=()=>{var $;return null===($=Ve())||void 0===$?void 0:$.config},Pe=$=>{var j;return null===(j=Ve())||void 0===j?void 0:j[`_${$}`]};class et{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,Q)=>{this.resolve=j,this.reject=Q})}wrapCallback(j){return(Q,ye)=>{Q?this.reject(Q):this.resolve(ye),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(Q):j(Q,ye))}}}function Mt($,j){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=j||"demo-project",re=$.iat||0,ct=$.sub||$.user_id;if(!ct)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ut=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:re,exp:re+3600,auth_time:re,sub:ct,user_id:ct,firebase:{sign_in_provider:"custom",identities:{}}},$);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(Ut)),""].join(".")}function qe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function J(){var $;const j=null===($=Ve())||void 0===$?void 0:$.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ze(){return"object"==typeof self&&self.self===self}function Vt(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Tn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Un(){const $=qe();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function si(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function Ri(){return!J()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){try{return"object"==typeof indexedDB}catch{return!1}}function de(){return new Promise(($,j)=>{try{let Q=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(ye);re.onsuccess=()=>{re.result.close(),Q||self.indexedDB.deleteDatabase(ye),$(!0)},re.onupgradeneeded=()=>{Q=!1},re.onerror=()=>{var ct;j((null===(ct=re.error)||void 0===ct?void 0:ct.message)||"")}}catch(Q){j(Q)}})}function ue(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ve extends Error{constructor(j,Q,ye){super(Q),this.code=j,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,be.prototype.create)}}class be{constructor(j,Q,ye){this.service=j,this.serviceName=Q,this.errors=ye}create(j,...Q){const ye=Q[0]||{},re=`${this.service}/${j}`,ct=this.errors[j],Ut=ct?function yt($,j){return $.replace(an,(Q,ye)=>{const re=j[ye];return null!=re?String(re):`<${ye}?>`})}(ct,ye):"Error";return new ve(re,`${this.serviceName}: ${Ut} (${re}).`,ye)}}const an=/\{\$([^}]+)}/g;function Pn($){return JSON.parse($)}function ut($){return JSON.stringify($)}const wn=function($){let j={},Q={},ye={},re="";try{const ct=$.split(".");j=Pn(Y(ct[0])||""),Q=Pn(Y(ct[1])||""),re=ct[2],ye=Q.d||{},delete Q.d}catch{}return{header:j,claims:Q,data:ye,signature:re}},Sn=function($){const Q=wn($).claims;return!!Q&&"object"==typeof Q&&Q.hasOwnProperty("iat")},Or=function($){const j=wn($).claims;return"object"==typeof j&&!0===j.admin};function Fn($,j){return Object.prototype.hasOwnProperty.call($,j)}function Bt($,j){if(Object.prototype.hasOwnProperty.call($,j))return $[j]}function vr($){for(const j in $)if(Object.prototype.hasOwnProperty.call($,j))return!1;return!0}function Xn($,j,Q){const ye={};for(const re in $)Object.prototype.hasOwnProperty.call($,re)&&(ye[re]=j.call(Q,$[re],re,$));return ye}function no($,j){if($===j)return!0;const Q=Object.keys($),ye=Object.keys(j);for(const re of Q){if(!ye.includes(re))return!1;const ct=$[re],Ut=j[re];if(Eo(ct)&&Eo(Ut)){if(!no(ct,Ut))return!1}else if(ct!==Ut)return!1}for(const re of ye)if(!Q.includes(re))return!1;return!0}function Eo($){return null!==$&&"object"==typeof $}function Ua($){const j=[];for(const[Q,ye]of Object.entries($))Array.isArray(ye)?ye.forEach(re=>{j.push(encodeURIComponent(Q)+"="+encodeURIComponent(re))}):j.push(encodeURIComponent(Q)+"="+encodeURIComponent(ye));return j.length?"&"+j.join("&"):""}function at($){const j={};return $.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[re,ct]=ye.split("=");j[decodeURIComponent(re)]=decodeURIComponent(ct)}}),j}function Nt($){const j=$.indexOf("?");if(!j)return"";const Q=$.indexOf("#",j);return $.substring(j,Q>0?Q:void 0)}class $t{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(j,Q){Q||(Q=0);const ye=this.W_;if("string"==typeof j)for(let xt=0;xt<16;xt++)ye[xt]=j.charCodeAt(Q)<<24|j.charCodeAt(Q+1)<<16|j.charCodeAt(Q+2)<<8|j.charCodeAt(Q+3),Q+=4;else for(let xt=0;xt<16;xt++)ye[xt]=j[Q]<<24|j[Q+1]<<16|j[Q+2]<<8|j[Q+3],Q+=4;for(let xt=16;xt<80;xt++){const lt=ye[xt-3]^ye[xt-8]^ye[xt-14]^ye[xt-16];ye[xt]=4294967295&(lt<<1|lt>>>31)}let or,sr,re=this.chain_[0],ct=this.chain_[1],Ut=this.chain_[2],dn=this.chain_[3],zr=this.chain_[4];for(let xt=0;xt<80;xt++){xt<40?xt<20?(or=dn^ct&(Ut^dn),sr=1518500249):(or=ct^Ut^dn,sr=1859775393):xt<60?(or=ct&Ut|dn&(ct|Ut),sr=2400959708):(or=ct^Ut^dn,sr=3395469782);const lt=(re<<5|re>>>27)+or+zr+sr+ye[xt]&4294967295;zr=dn,dn=Ut,Ut=4294967295&(ct<<30|ct>>>2),ct=re,re=lt}this.chain_[0]=this.chain_[0]+re&4294967295,this.chain_[1]=this.chain_[1]+ct&4294967295,this.chain_[2]=this.chain_[2]+Ut&4294967295,this.chain_[3]=this.chain_[3]+dn&4294967295,this.chain_[4]=this.chain_[4]+zr&4294967295}update(j,Q){if(null==j)return;void 0===Q&&(Q=j.length);const ye=Q-this.blockSize;let re=0;const ct=this.buf_;let Ut=this.inbuf_;for(;re<Q;){if(0===Ut)for(;re<=ye;)this.compress_(j,re),re+=this.blockSize;if("string"==typeof j){for(;re<Q;)if(ct[Ut]=j.charCodeAt(re),++Ut,++re,Ut===this.blockSize){this.compress_(ct),Ut=0;break}}else for(;re<Q;)if(ct[Ut]=j[re],++Ut,++re,Ut===this.blockSize){this.compress_(ct),Ut=0;break}}this.inbuf_=Ut,this.total_+=Q}digest(){const j=[];let Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let re=this.blockSize-1;re>=56;re--)this.buf_[re]=255&Q,Q/=256;this.compress_(this.buf_);let ye=0;for(let re=0;re<5;re++)for(let ct=24;ct>=0;ct-=8)j[ye]=this.chain_[re]>>ct&255,++ye;return j}}function ws($,j){const Q=new _i($,j);return Q.subscribe.bind(Q)}class _i{constructor(j,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{j(this)}).catch(ye=>{this.error(ye)})}next(j){this.forEachObserver(Q=>{Q.next(j)})}error(j){this.forEachObserver(Q=>{Q.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,Q,ye){let re;if(void 0===j&&void 0===Q&&void 0===ye)throw new Error("Missing Observer.");re=function br($,j){if("object"!=typeof $||null===$)return!1;for(const Q of j)if(Q in $&&"function"==typeof $[Q])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:Q,complete:ye},void 0===re.next&&(re.next=jn),void 0===re.error&&(re.error=jn),void 0===re.complete&&(re.complete=jn);const ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),ct}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,j)}sendOne(j,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{Q(this.observers[j])}catch(ye){typeof console<"u"&&console.error&&console.error(ye)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jn(){}const Yo=function($,j,Q,ye){let re;if(ye<j?re="at least "+j:ye>Q&&(re=0===Q?"none":"no more than "+Q),re)throw new Error($+" failed: Was called with "+ye+(1===ye?" argument.":" arguments.")+" Expects "+re+".")};function cn($,j){return`${$} failed: ${j} argument `}function Qt($,j,Q,ye){if((!ye||Q)&&"function"!=typeof Q)throw new Error(cn($,j)+"must be a valid function.")}function io($,j,Q,ye){if((!ye||Q)&&("object"!=typeof Q||null===Q))throw new Error(cn($,j)+"must be a valid context object.")}const xs=function($){const j=[];let Q=0;for(let ye=0;ye<$.length;ye++){let re=$.charCodeAt(ye);if(re>=55296&&re<=56319){const ct=re-55296;ye++,se(ye<$.length,"Surrogate pair missing trail surrogate."),re=65536+(ct<<10)+($.charCodeAt(ye)-56320)}re<128?j[Q++]=re:re<2048?(j[Q++]=re>>6|192,j[Q++]=63&re|128):re<65536?(j[Q++]=re>>12|224,j[Q++]=re>>6&63|128,j[Q++]=63&re|128):(j[Q++]=re>>18|240,j[Q++]=re>>12&63|128,j[Q++]=re>>6&63|128,j[Q++]=63&re|128)}return j},It=function($){let j=0;for(let Q=0;Q<$.length;Q++){const ye=$.charCodeAt(Q);ye<128?j++:ye<2048?j+=2:ye>=55296&&ye<=56319?(j+=4,Q++):j+=3}return j},Ac=1e3,Ye=2,we=144e5,Ze=.5;function Rt($,j=Ac,Q=Ye){const ye=j*Math.pow(Q,$),re=Math.round(Ze*ye*(Math.random()-.5)*2);return Math.min(we,ye+re)}function Ni($){return $&&$._delegate?$._delegate:$}},554:(zt,$e,K)=>{var d=K(212);let se=null;function B(){return se}class Ee{}const te=new d.OlP("DocumentToken");let Le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(Ce),providedIn:"platform"})}return n})();const Ue=new d.OlP("Location Initialized");let Ce=(()=>{class n extends Le{constructor(){super(),this._doc=(0,d.f3M)(te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Y(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function q(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function le(n){return n&&"?"!==n[0]?"?"+n:n}let Xe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(dt),providedIn:"root"})}return n})();const Oe=new d.OlP("appBaseHref");let dt=(()=>{class n extends Xe{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Y(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+le(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const l=this.prepareExternalUrl(r+le(s));this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){const l=this.prepareExternalUrl(r+le(s));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Le),d.LFG(Oe,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lt=(()=>{class n extends Xe{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Y(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let l=this.prepareExternalUrl(r+le(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){let l=this.prepareExternalUrl(r+le(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Le),d.LFG(Oe,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})(),nt=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function gt(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(q(kt(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+le(i))}normalize(t){return n.stripTrailingSlash(function Ct(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,kt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+le(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+le(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=le;static#t=this.joinWithSlash=Y;static#n=this.stripTrailingSlash=q;static#i=this.\u0275fac=function(i){return new(i||n)(d.LFG(Xe))};static#r=this.\u0275prov=d.Yz7({token:n,factory:()=>function Ve(){return new nt((0,d.LFG)(Xe))}(),providedIn:"root"})}return n})();function kt(n){return n.replace(/\/index.html$/,"")}var qe=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(qe||{}),_e=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(_e||{}),J=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(J||{}),ze=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(ze||{});function de(n,e){return Fn((0,d.cg1)(n)[d.wAp.DateFormat],e)}function ue(n,e){return Fn((0,d.cg1)(n)[d.wAp.TimeFormat],e)}function me(n,e){return Fn((0,d.cg1)(n)[d.wAp.DateTimeFormat],e)}function ve(n,e){const t=(0,d.cg1)(n),i=t[d.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===ze.CurrencyDecimal)return t[d.wAp.NumberSymbols][ze.Decimal];if(e===ze.CurrencyGroup)return t[d.wAp.NumberSymbols][ze.Group]}return i}function Dn(n){if(!n[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Fn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Bt(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Eo=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yr={},Ua=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var at=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(at||{}),Nt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Nt||{}),$t=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}($t||{});function ws(n,e,t,i){let r=function j(n){if(ye(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,l=1]=n.split("-").map(f=>+f);return _i(r,s-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Eo))return function Q(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,f=Number(n[5]||0)-i,p=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,l,f,p,y),e}(i)}const e=new Date(n);if(!ye(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=je(t,e)||e;let f,l=[];for(;e;){if(f=Ua.exec(e),!f){l.push(e);break}{l=l.concat(f.slice(1));const I=l.pop();if(!I)break;e=I}}let p=r.getTimezoneOffset();i&&(p=Yt(i,p),r=function $(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function Ni(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(Yt(e,r)-r))}(r,i,!0));let y="";return l.forEach(I=>{const D=function Dt(n){if(Rt[n])return Rt[n];let e;switch(n){case"G":case"GG":case"GGG":e=Qt($t.Eras,_e.Abbreviated);break;case"GGGG":e=Qt($t.Eras,_e.Wide);break;case"GGGGG":e=Qt($t.Eras,_e.Narrow);break;case"y":e=cn(Nt.FullYear,1,0,!1,!0);break;case"yy":e=cn(Nt.FullYear,2,0,!0,!0);break;case"yyy":e=cn(Nt.FullYear,3,0,!1,!0);break;case"yyyy":e=cn(Nt.FullYear,4,0,!1,!0);break;case"Y":e=Ze(1);break;case"YY":e=Ze(2,!0);break;case"YYY":e=Ze(3);break;case"YYYY":e=Ze(4);break;case"M":case"L":e=cn(Nt.Month,1,1);break;case"MM":case"LL":e=cn(Nt.Month,2,1);break;case"MMM":e=Qt($t.Months,_e.Abbreviated);break;case"MMMM":e=Qt($t.Months,_e.Wide);break;case"MMMMM":e=Qt($t.Months,_e.Narrow);break;case"LLL":e=Qt($t.Months,_e.Abbreviated,qe.Standalone);break;case"LLLL":e=Qt($t.Months,_e.Wide,qe.Standalone);break;case"LLLLL":e=Qt($t.Months,_e.Narrow,qe.Standalone);break;case"w":e=we(1);break;case"ww":e=we(2);break;case"W":e=we(1,!0);break;case"d":e=cn(Nt.Date,1);break;case"dd":e=cn(Nt.Date,2);break;case"c":case"cc":e=cn(Nt.Day,1);break;case"ccc":e=Qt($t.Days,_e.Abbreviated,qe.Standalone);break;case"cccc":e=Qt($t.Days,_e.Wide,qe.Standalone);break;case"ccccc":e=Qt($t.Days,_e.Narrow,qe.Standalone);break;case"cccccc":e=Qt($t.Days,_e.Short,qe.Standalone);break;case"E":case"EE":case"EEE":e=Qt($t.Days,_e.Abbreviated);break;case"EEEE":e=Qt($t.Days,_e.Wide);break;case"EEEEE":e=Qt($t.Days,_e.Narrow);break;case"EEEEEE":e=Qt($t.Days,_e.Short);break;case"a":case"aa":case"aaa":e=Qt($t.DayPeriods,_e.Abbreviated);break;case"aaaa":e=Qt($t.DayPeriods,_e.Wide);break;case"aaaaa":e=Qt($t.DayPeriods,_e.Narrow);break;case"b":case"bb":case"bbb":e=Qt($t.DayPeriods,_e.Abbreviated,qe.Standalone,!0);break;case"bbbb":e=Qt($t.DayPeriods,_e.Wide,qe.Standalone,!0);break;case"bbbbb":e=Qt($t.DayPeriods,_e.Narrow,qe.Standalone,!0);break;case"B":case"BB":case"BBB":e=Qt($t.DayPeriods,_e.Abbreviated,qe.Format,!0);break;case"BBBB":e=Qt($t.DayPeriods,_e.Wide,qe.Format,!0);break;case"BBBBB":e=Qt($t.DayPeriods,_e.Narrow,qe.Format,!0);break;case"h":e=cn(Nt.Hours,1,-12);break;case"hh":e=cn(Nt.Hours,2,-12);break;case"H":e=cn(Nt.Hours,1);break;case"HH":e=cn(Nt.Hours,2);break;case"m":e=cn(Nt.Minutes,1);break;case"mm":e=cn(Nt.Minutes,2);break;case"s":e=cn(Nt.Seconds,1);break;case"ss":e=cn(Nt.Seconds,2);break;case"S":e=cn(Nt.FractionalSeconds,1);break;case"SS":e=cn(Nt.FractionalSeconds,2);break;case"SSS":e=cn(Nt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=xs(at.Short);break;case"ZZZZZ":e=xs(at.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=xs(at.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=xs(at.Long);break;default:return null}return Rt[n]=e,e}(I);y+=D?D(r,t,p):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function _i(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function je(n,e){const t=function Tn(n){return(0,d.cg1)(n)[d.wAp.LocaleId]}(n);if(yr[t]=yr[t]||{},yr[t][e])return yr[t][e];let i="";switch(e){case"shortDate":i=de(n,J.Short);break;case"mediumDate":i=de(n,J.Medium);break;case"longDate":i=de(n,J.Long);break;case"fullDate":i=de(n,J.Full);break;case"shortTime":i=ue(n,J.Short);break;case"mediumTime":i=ue(n,J.Medium);break;case"longTime":i=ue(n,J.Long);break;case"fullTime":i=ue(n,J.Full);break;case"short":const r=je(n,"shortTime"),s=je(n,"shortDate");i=br(me(n,J.Short),[r,s]);break;case"medium":const l=je(n,"mediumTime"),f=je(n,"mediumDate");i=br(me(n,J.Medium),[l,f]);break;case"long":const p=je(n,"longTime"),y=je(n,"longDate");i=br(me(n,J.Long),[p,y]);break;case"full":const I=je(n,"fullTime"),D=je(n,"fullDate");i=br(me(n,J.Full),[I,D])}return i&&(yr[t][e]=i),i}function br(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function jn(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let l=String(n);for(;l.length<e;)l="0"+l;return i&&(l=l.slice(l.length-e)),s+l}function cn(n,e,t=0,i=!1,r=!1){return function(s,l){let f=function na(n,e){switch(n){case Nt.FullYear:return e.getFullYear();case Nt.Month:return e.getMonth();case Nt.Date:return e.getDate();case Nt.Hours:return e.getHours();case Nt.Minutes:return e.getMinutes();case Nt.Seconds:return e.getSeconds();case Nt.FractionalSeconds:return e.getMilliseconds();case Nt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||f>-t)&&(f+=t),n===Nt.Hours)0===f&&-12===t&&(f=12);else if(n===Nt.FractionalSeconds)return function Yo(n,e){return jn(n,3).substring(0,e)}(f,e);const p=ve(l,ze.MinusSign);return jn(f,e,p,i,r)}}function Qt(n,e,t=qe.Format,i=!1){return function(r,s){return function io(n,e,t,i,r,s){switch(t){case $t.Months:return function Nr(n,e,t){const i=(0,d.cg1)(n),s=Fn([i[d.wAp.MonthsFormat],i[d.wAp.MonthsStandalone]],e);return Fn(s,t)}(e,r,i)[n.getMonth()];case $t.Days:return function Un(n,e,t){const i=(0,d.cg1)(n),s=Fn([i[d.wAp.DaysFormat],i[d.wAp.DaysStandalone]],e);return Fn(s,t)}(e,r,i)[n.getDay()];case $t.DayPeriods:const l=n.getHours(),f=n.getMinutes();if(s){const y=function Qn(n){const e=(0,d.cg1)(n);return Dn(e),(e[d.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Bt(i):[Bt(i[0]),Bt(i[1])])}(e),I=function Sn(n,e,t){const i=(0,d.cg1)(n);Dn(i);const s=Fn([i[d.wAp.ExtraData][0],i[d.wAp.ExtraData][1]],e)||[];return Fn(s,t)||[]}(e,r,i),D=y.findIndex(M=>{if(Array.isArray(M)){const[F,V]=M,U=l>=F.hours&&f>=F.minutes,X=l<V.hours||l===V.hours&&f<V.minutes;if(F.hours<V.hours){if(U&&X)return!0}else if(U||X)return!0}else if(M.hours===l&&M.minutes===f)return!0;return!1});if(-1!==D)return I[D]}return function oi(n,e,t){const i=(0,d.cg1)(n),s=Fn([i[d.wAp.DayPeriodsFormat],i[d.wAp.DayPeriodsStandalone]],e);return Fn(s,t)}(e,r,i)[l<12?0:1];case $t.Eras:return function si(n,e){return Fn((0,d.cg1)(n)[d.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function xs(n){return function(e,t,i){const r=-1*i,s=ve(t,ze.MinusSign),l=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case at.Short:return(r>=0?"+":"")+jn(l,2,s)+jn(Math.abs(r%60),2,s);case at.ShortGMT:return"GMT"+(r>=0?"+":"")+jn(l,1,s);case at.Long:return"GMT"+(r>=0?"+":"")+jn(l,2,s)+":"+jn(Math.abs(r%60),2,s);case at.Extended:return 0===i?"Z":(r>=0?"+":"")+jn(l,2,s)+":"+jn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const It=0,Xt=4;function Ye(n){return _i(n.getFullYear(),n.getMonth(),n.getDate()+(Xt-n.getDay()))}function we(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();r=1+Math.floor((l+s)/7)}else{const s=Ye(t),l=function Ac(n){const e=_i(n,It,1).getDay();return _i(n,0,1+(e<=Xt?Xt:Xt+7)-e)}(s.getFullYear()),f=s.getTime()-l.getTime();r=1+Math.round(f/6048e5)}return jn(r,n,ve(i,ze.MinusSign))}}function Ze(n,e=!1){return function(t,i){return jn(Ye(t).getFullYear(),n,ve(i,ze.MinusSign),e)}}const Rt={};function Yt(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function ye(n){return n instanceof Date&&!isNaN(n.valueOf())}function Wl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}class Gi{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ra=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Gi(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===s?void 0:s);else if(null!==s){const f=i.get(s);i.move(f,l),Oh(f,r)}});for(let r=0,s=i.length;r<s;r++){const f=i.get(r).context;f.index=r,f.count=s,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Oh(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Oh(n,e){n.context.$implicit=e.item}let oa=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new km,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Jt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Jt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b),d.Y36(d.Rgc))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class km{constructor(){this.$implicit=null,this.ngIf=null}}function Jt(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}let za=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]})}return n})();function ar(n,e){return new d.vHH(2100,!1)}class Oc{createSubscription(e,t){return(0,d.rg0)(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){(0,d.rg0)(()=>e.unsubscribe())}}class hu{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const fu=new hu,s_=new Oc;let $r=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,d.QGY)(t))return fu;if((0,d.F4k)(t))return s_;throw ar()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.sBO,16))};static#t=this.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Pc=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),rn=new d.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Xo=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,s){if(null==t||""===t||t!=t)return null;try{return ws(t,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw ar()}}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.soG,16),d.Y36(Pc,24),d.Y36(rn,24))};static#t=this.\u0275pipe=d.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),To=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();const ed="browser";function la(n){return n===ed}function td(n){return"server"===n}let Fc=(()=>{class n{static#e=this.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>la((0,d.f3M)(d.Lbi))?new pu((0,d.f3M)(te),window):new Pm})}return n})();class pu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function Lh(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}}class Pm{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class Vh{}class p_ extends Ee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Eu extends p_{static makeCurrent(){!function ge(n){se||(se=n)}(new Eu)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Bm(){return ua=ua||document.querySelector("base"),ua?ua.getAttribute("href"):null}();return null==t?null:function yx(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){ua=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wl(document.cookie,e)}}let ua=null,qy=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const Um=new d.OlP("EventManagerPlugins");let Qa=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Um),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();class Ts{constructor(e){this._doc=e}}const zc="ng-app-id";let $h=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=td(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${zc}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(zc),s;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=i,this.platformIsServer&&l.setAttribute(zc,this.appId),t.appendChild(l),l}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),s=this.styleRef,l=s.get(i)?.elements;l?l.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(te),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const Cu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hd=/%COMP%/g,__=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function qh(n,e){return e.map(t=>t.replace(hd,n))}let Xa=(()=>{class n{constructor(t,i,r,s,l,f,p,y=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=l,this.platformId=f,this.ngZone=p,this.nonce=y,this.rendererByCompId=new Map,this.platformIsServer=td(f),this.defaultRenderer=new fd(t,l,p,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===d.ifc.ShadowDom&&(i={...i,encapsulation:d.ifc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof Hm?r.applyToHost(t):r instanceof zn&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const l=this.doc,f=this.ngZone,p=this.eventManager,y=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,D=this.platformIsServer;switch(i.encapsulation){case d.ifc.Emulated:s=new Hm(p,y,i,this.appId,I,l,f,D);break;case d.ifc.ShadowDom:return new ha(p,y,t,i,l,f,this.nonce,D);default:s=new zn(p,y,i,I,l,f,D)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Qa),d.LFG($h),d.LFG(d.AFp),d.LFG(__),d.LFG(te),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();class fd{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Cu[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(md(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(md(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new d.vHH(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Cu[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Cu[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,i,r&d.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=B().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function md(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ha extends fd{constructor(e,t,i,r,s,l,f,p){super(e,s,l,p),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const y=qh(r.id,r.styles);for(const I of y){const D=document.createElement("style");f&&D.setAttribute("nonce",f),D.textContent=I,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zn extends fd{constructor(e,t,i,r,s,l,f,p){super(e,s,l,f),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=p?qh(p,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Hm extends zn{constructor(e,t,i,r,s,l,f,p){const y=r+"-"+i.id;super(e,t,i,s,l,f,p,y),this.contentAttr=function Ss(n){return"_ngcontent-%COMP%".replace(hd,n)}(y),this.hostAttr=function Gh(n){return"_nghost-%COMP%".replace(hd,n)}(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let qc=(()=>{class n extends Ts{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(te))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const es=["alt","control","meta","shift"],Wr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fa={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pd=(()=>{class n extends Ts{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),l="code."),es.forEach(y=>{const I=i.indexOf(y);I>-1&&(i.splice(I,1),l+=y+".")}),l+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=l,p}static matchEventFullKeyCode(t,i){let r=Wr[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),es.forEach(l=>{l!==r&&(0,fa[l])(t)&&(s+=l+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(te))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const Zc=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:ed},{provide:d.g9A,useValue:function Iu(){Eu.makeCurrent()},multi:!0},{provide:te,useFactory:function Tu(){return(0,d.RDi)(document),document},deps:[]}]),gd=new d.OlP(""),As=[{provide:d.rWj,useClass:class g_{addToWindow(e){d.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new d.vHH(5103,!1);return s},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(i=>{const r=d.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const f=function(p){l=l||p,s--,0==s&&i(l)};r.forEach(p=>{p.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Et=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Wc(){return new d.qLn},deps:[]},{provide:Um,useClass:qc,multi:!0,deps:[te,d.R0b,d.Lbi]},{provide:Um,useClass:pd,multi:!0,deps:[te]},Xa,$h,Qa,{provide:d.FYo,useExisting:Xa},{provide:Vh,useClass:qy,deps:[]},[]];let ma=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(gd,12))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[...Et,...As],imports:[To,d.hGG]})}return n})(),_d=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(te))};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function Kh(){return new _d((0,d.LFG)(te))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let Xh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(i){let r=null;return r=i?new(i||n):d.LFG(yd),r},providedIn:"root"})}return n})(),yd=(()=>{class n extends Xh{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case d.q3G.NONE:return i;case d.q3G.HTML:return(0,d.qzn)(i,"HTML")?(0,d.z3N)(i):(0,d.EiD)(this._doc,String(i)).toString();case d.q3G.STYLE:return(0,d.qzn)(i,"Style")?(0,d.z3N)(i):i;case d.q3G.SCRIPT:if((0,d.qzn)(i,"Script"))return(0,d.z3N)(i);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(i,"URL")?(0,d.z3N)(i):(0,d.mCW)(String(i));case d.q3G.RESOURCE_URL:if((0,d.qzn)(i,"ResourceURL"))return(0,d.z3N)(i);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(te))};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function zm(n){return new yd(n.get(te))}(d.LFG(d.zs3)),r},providedIn:"root"})}return n})();var Vn=K(592),yi=K(674),Ms=K(582);const Xc=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Mu(n){return(0,yi.m)(n?.then)}var wd=K(850);function Ja(n){return(0,yi.m)(n[wd.L])}function _a(n){return Symbol.asyncIterator&&(0,yi.m)(n?.[Symbol.asyncIterator])}function xd(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ed=function Ru(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function va(n){return(0,yi.m)(n?.[Ed])}function is(n){return(0,Ms.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Ms.qq)(t.read());if(r)return yield(0,Ms.qq)(void 0);yield yield(0,Ms.qq)(i)}}finally{t.releaseLock()}})}function bi(n){return(0,yi.m)(n?.getReader)}var ya=K(894);function en(n){if(n instanceof Vn.y)return n;if(null!=n){if(Ja(n))return function qm(n){return new Vn.y(e=>{const t=n[wd.L]();if((0,yi.m)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Xc(n))return function Jh(n){return new Vn.y(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Mu(n))return function Nu(n){return new Vn.y(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ya.h)})}(n);if(_a(n))return tf(n);if(va(n))return function ef(n){return new Vn.y(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(bi(n))return function Jc(n){return tf(is(n))}(n)}throw xd(n)}function tf(n){return new Vn.y(e=>{(function Ou(n,e){var t,i,r,s;return(0,Ms.mG)(this,void 0,void 0,function*(){try{for(t=(0,Ms.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(l){r={error:l}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}var Fr=K(93),Pu=K(137),Er=K(103);function rf(n,e){if(!n)throw new Error("Iterable cannot be null");return new Vn.y(t=>{(0,Er.f)(t,e,()=>{const i=n[Symbol.asyncIterator]();(0,Er.f)(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function tn(n,e){return e?function wa(n,e){if(null!=n){if(Ja(n))return function ba(n,e){return en(n).pipe((0,Pu.R)(e),(0,Fr.Q)(e))}(n,e);if(Xc(n))return function nf(n,e){return new Vn.y(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Mu(n))return function Cd(n,e){return en(n).pipe((0,Pu.R)(e),(0,Fr.Q)(e))}(n,e);if(_a(n))return rf(n,e);if(va(n))return function Wm(n,e){return new Vn.y(t=>{let i;return(0,Er.f)(t,e,()=>{i=n[Ed](),(0,Er.f)(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(l){return void t.error(l)}s?t.complete():t.next(r)},0,!0)}),()=>(0,yi.m)(i?.return)&&i.return()})}(n,e);if(bi(n))return function sf(n,e){return rf(is(n),e)}(n,e)}throw xd(n)}(n,e):en(n)}function ec(n){return n[n.length-1]}function Li(n){return(0,yi.m)(ec(n))?n.pop():void 0}function el(n){return function Fi(n){return n&&(0,yi.m)(n.schedule)}(ec(n))?n.pop():void 0}function ot(...n){return tn(n,el(n))}var Lr=K(619);const{isArray:af}=Array,{getPrototypeOf:Id,prototype:Td,keys:Dd}=Object;function tl(n){if(1===n.length){const e=n[0];if(af(e))return{args:e,keys:null};if(function nl(n){return n&&"object"==typeof n&&Id(n)===Td}(e)){const t=Dd(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var il=K(737),st=K(398);const{isArray:Sd}=Array;function lo(n){return(0,st.U)(e=>function cf(n,e){return Sd(e)?n(...e):n(e)}(n,e))}function Ad(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Gn=K(251);function tc(...n){const e=el(n),t=Li(n),{args:i,keys:r}=tl(n);if(0===i.length)return tn([],e);const s=new Vn.y(function kd(n,e,t=il.y){return i=>{rl(e,()=>{const{length:r}=n,s=new Array(r);let l=r,f=r;for(let p=0;p<r;p++)rl(e,()=>{const y=tn(n[p],e);let I=!1;y.subscribe((0,Gn.x)(i,D=>{s[p]=D,I||(I=!0,f--),f||i.next(t(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,e,r?l=>Ad(r,l):il.y));return t?s.pipe(lo(t)):s}function rl(n,e,t){n?(0,Er.f)(t,n,e):e()}const ol=(0,K(306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var qn=K(360);function Ki(n,e,t=1/0){return(0,yi.m)(e)?Ki((i,r)=>(0,st.U)((s,l)=>e(i,s,r,l))(en(n(i,r))),t):("number"==typeof e&&(t=e),(0,qn.e)((i,r)=>function Km(n,e,t,i,r,s,l,f){const p=[];let y=0,I=0,D=!1;const M=()=>{D&&!p.length&&!y&&e.complete()},F=U=>y<i?V(U):p.push(U),V=U=>{s&&e.next(U),y++;let X=!1;en(t(U,I++)).subscribe((0,Gn.x)(e,fe=>{r?.(fe),s?F(fe):e.next(fe)},()=>{X=!0},void 0,()=>{if(X)try{for(y--;p.length&&y<i;){const fe=p.shift();l?(0,Er.f)(e,l,()=>V(fe)):V(fe)}M()}catch(fe){e.error(fe)}}))};return n.subscribe((0,Gn.x)(e,F,()=>{D=!0,M()})),()=>{f?.()}}(i,r,n,t)))}function nc(n=1/0){return Ki(il.y,n)}function ic(...n){return function Rd(){return nc(1)}()(tn(n,el(n)))}function rs(n){return new Vn.y(e=>{en(n()).subscribe(e)})}var Ym=K(407);function os(n,e){const t=(0,yi.m)(n)?n:()=>n,i=r=>r.error(t());return new Vn.y(e?r=>e.schedule(i,0,r):i)}const Cr=new Vn.y(n=>n.complete());var Rn=K(394);function lf(){return(0,qn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Nd extends Vn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,qn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Rn.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Gn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Rn.w0.EMPTY)}return e}refCount(){return lf()(this)}}var An=K(645);function Wn(n,e){return(0,qn.e)((t,i)=>{let r=null,s=0,l=!1;const f=()=>l&&!r&&i.complete();t.subscribe((0,Gn.x)(i,p=>{r?.unsubscribe();let y=0;const I=s++;en(n(p,I)).subscribe(r=(0,Gn.x)(i,D=>i.next(e?e(p,D,I,y++):D),()=>{r=null,f()}))},()=>{l=!0,f()}))})}function Ro(n){return n<=0?()=>Cr:(0,qn.e)((e,t)=>{let i=0;e.subscribe((0,Gn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function ss(...n){const e=el(n);return(0,qn.e)((t,i)=>{(e?ic(n,t,e):ic(n,t)).subscribe(i)})}function fi(n,e){return(0,qn.e)((t,i)=>{let r=0;t.subscribe((0,Gn.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Rs(n){return(0,qn.e)((e,t)=>{let i=!1;e.subscribe((0,Gn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Ns(n=Qm){return(0,qn.e)((e,t)=>{let i=!1;e.subscribe((0,Gn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Qm(){return new ol}function uo(n,e){const t=arguments.length>=2;return i=>i.pipe(n?fi((r,s)=>n(r,s,i)):il.y,Ro(1),t?Rs(e):Ns(()=>new ol))}function ho(n,e){return(0,yi.m)(e)?Ki(n,e,1):Ki(n,1)}var Nn=K(397);function as(n){return(0,qn.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,Gn.x)(t,void 0,void 0,l=>{s=en(n(l,as(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function xa(n,e){return(0,qn.e)(function b_(n,e,t,i,r){return(s,l)=>{let f=t,p=e,y=0;s.subscribe((0,Gn.x)(l,I=>{const D=y++;p=f?n(p,I,D):(f=!0,I),i&&l.next(p)},r&&(()=>{f&&l.next(p),l.complete()})))}}(n,e,arguments.length>=2,!0))}function df(n){return n<=0?()=>Cr:(0,qn.e)((e,t)=>{let i=[];e.subscribe((0,Gn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function oc(n){return(0,qn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Ea=K(420);function Os(n){return(0,qn.e)((e,t)=>{en(n).subscribe((0,Gn.x)(t,()=>t.complete(),Ea.Z)),!t.closed&&e.subscribe(t)})}const qt="primary",ci=Symbol("RouteTitle");class hf{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function cs(n){return new hf(n)}function Xm(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],f=n[s];if(l.startsWith(":"))r[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Tr(n,e){const t=n?Ps(n):void 0,i=e?Ps(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!Od(n[r],e[r]))return!1;return!0}function Ps(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Od(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function Oo(n){return function bd(n){return!!n&&(n instanceof Vn.y||(0,yi.m)(n.lift)&&(0,yi.m)(n.subscribe))}(n)?n:(0,d.QGY)(n)?tn(Promise.resolve(n)):ot(n)}const Jm={exact:function Dr(n,e,t){if(!Fs(n.segments,e.segments)||!Po(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Dr(n.children[i],e.children[i],t))return!1;return!0},subset:sc},Yy={exact:function bx(n,e){return Tr(n,e)},subset:function Pd(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Od(n[t],e[t]))},ignored:()=>!0};function ff(n,e,t){return Jm[t.paths](n.root,e.root,t.matrixParams)&&Yy[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function sc(n,e,t){return Qy(n,e,e.segments,t)}function Qy(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Fs(r,t)||e.hasChildren()||!Po(r,t,i))}if(n.segments.length===t.length){if(!Fs(n.segments,t)||!Po(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!sc(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Fs(n.segments,r)&&Po(n.segments,r,i)&&n.children[qt])&&Qy(n.children[qt],e,s,i)}}function Po(n,e,t){return e.every((i,r)=>Yy[t](n[r].parameters,i.parameters))}class al{constructor(e=new On([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cs(this.queryParams)),this._queryParamMap}toString(){return x_.serialize(this)}}class On{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vs(this)}}class ac{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=cs(this.parameters)),this._parameterMap}toString(){return pf(this)}}function Fs(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Ls=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>new Ca,providedIn:"root"})}return n})();class Ca{parse(e){const t=new tp(e);return new al(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Bs(e.root,!0)}`,i=function ll(n){const e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${cl(t)}=${cl(r)}`).join("&"):`${cl(t)}=${cl(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Fu(n){return encodeURI(n)}(e.fragment)}`:""}`}}const x_=new Ca;function Vs(n){return n.segments.map(e=>pf(e)).join("/")}function Bs(n,e){if(!n.hasChildren())return Vs(n);if(e){const t=n.children[qt]?Bs(n.children[qt],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==qt&&i.push(`${r}:${Bs(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function w_(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===qt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==qt&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===qt?[Bs(n.children[qt],!1)]:[`${r}:${Bs(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[qt]?`${Vs(n)}/${t[0]}`:`${Vs(n)}/(${t.join("//")})`}}function cc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cl(n){return cc(n).replace(/%3B/gi,";")}function lc(n){return cc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Us(n){return decodeURIComponent(n)}function mf(n){return Us(n.replace(/\+/g,"%20"))}function pf(n){return`${lc(n.path)}${function Jy(n){return Object.entries(n).map(([e,t])=>`;${lc(e)}=${lc(t)}`).join("")}(n.parameters)}`}const dc=/^[^\/()?;#]+/;function ls(n){const e=n.match(dc);return e?e[0]:""}const E_=/^[^\/()?;=#]+/,Lu=/^[^=?&#]+/,C_=/^[^&#]+/;class tp{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new On([],{}):new On([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[qt]=new On(e,t)),i}parseSegment(){const e=ls(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new ac(Us(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function ep(n){const e=n.match(E_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=ls(this.remaining);r&&(i=r,this.capture(i))}e[Us(t)]=Us(i)}parseQueryParam(e){const t=function dl(n){const e=n.match(Lu);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function uc(n){const e=n.match(C_);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=mf(t),s=mf(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ls(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new d.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=qt);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[qt]:new On([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function hc(n){return n.segments.length>0?new On([],{[qt]:n}):n}function Vu(n){const e={};for(const[i,r]of Object.entries(n.children)){const s=Vu(r);if(i===qt&&0===s.segments.length&&s.hasChildren())for(const[l,f]of Object.entries(s.children))e[l]=f;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function gf(n){if(1===n.numberOfChildren&&n.children[qt]){const e=n.children[qt];return new On(n.segments.concat(e.segments),e.children)}return n}(new On(n.segments,e))}function ds(n){return n instanceof al}function E(n){let e;const r=hc(function t(s){const l={};for(const p of s.children){const y=t(p);l[p.outlet]=y}const f=new On(s.url,l);return s===n&&(e=f),f}(n.root));return e??r}function T(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return H(r,r,r,t,i);const s=function Me(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new ie(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const f={};return Object.entries(s.outlets).forEach(([p,y])=>{f[p]="string"==typeof y?y.split("/"):y}),[...r,{outlets:f}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((f,p)=>{0==p&&"."===f||(0==p&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,s]},[]);return new ie(t,e,i)}(e);if(s.toRoot())return H(r,r,new On([],{}),t,i);const l=function it(n,e,t){if(n.isAbsolute)return new Re(e,!0,0);if(!t)return new Re(e,!1,NaN);if(null===t.parent)return new Re(t,!0,0);const i=k(n.commands[0])?0:1;return function wt(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new d.vHH(4005,!1);r=i.segments.length}return new Re(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),f=l.processChildren?sn(l.segmentGroup,l.index,s.commands):Sr(l.segmentGroup,l.index,s.commands);return H(r,l.segmentGroup,f,t,i)}function k(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function O(n){return"object"==typeof n&&null!=n&&n.outlets}function H(n,e,t,i,r){let l,s={};i&&Object.entries(i).forEach(([p,y])=>{s[p]=Array.isArray(y)?y.map(I=>`${I}`):`${y}`}),l=n===e?t:W(n,e,t);const f=hc(Vu(l));return new al(f,s,r)}function W(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:W(s,e,t)}),new On(n.segments,i)}class ie{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&k(i[0]))throw new d.vHH(4003,!1);const r=i.find(O);if(r&&r!==i.at(-1))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Re{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Sr(n,e,t){if(n||(n=new On([],{})),0===n.segments.length&&n.hasChildren())return sn(n,e,t);const i=function Ia(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const l=n.segments[r],f=t[i];if(O(f))break;const p=`${f}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!dr(p,y,l))return s;i+=2}else{if(!dr(p,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new On(n.segments.slice(0,i.pathIndex),{});return s.children[qt]=new On(n.segments.slice(i.pathIndex),n.children),sn(s,0,r)}return i.match&&0===r.length?new On(n.segments,{}):i.match&&!n.hasChildren()?Ta(n,e,t):i.match?sn(n,0,r):Ta(n,e,t)}function sn(n,e,t){if(0===t.length)return new On(n.segments,{});{const i=function St(n){return O(n[0])?n[0].outlets:{[qt]:n}}(t),r={};if(Object.keys(i).some(s=>s!==qt)&&n.children[qt]&&1===n.numberOfChildren&&0===n.children[qt].segments.length){const s=sn(n.children[qt],e,t);return new On(n.segments,s.children)}return Object.entries(i).forEach(([s,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(r[s]=Sr(n.children[s],e,l))}),Object.entries(n.children).forEach(([s,l])=>{void 0===i[s]&&(r[s]=l)}),new On(n.segments,r)}}function Ta(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(O(s)){const p=Da(s.outlets);return new On(i,p)}if(0===r&&k(t[0])){i.push(new ac(n.segments[e].path,ni(t[0]))),r++;continue}const l=O(s)?s.outlets[qt]:`${s}`,f=r<t.length-1?t[r+1]:null;l&&f&&k(f)?(i.push(new ac(l,ni(f))),r+=2):(i.push(new ac(l,{})),r++)}return new On(i,{})}function Da(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=Ta(new On([],{}),0,i))}),e}function ni(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function dr(n,e,t){return n==t.path&&Tr(e,t.parameters)}const Sa="imperative";class js{constructor(e,t){this.id=e,this.url=t}}class np extends js{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ur extends js{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class us extends js{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bu extends js{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class ip extends js{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eb extends js{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rp extends js{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fo extends js{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _f extends js{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class op extends js{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wx{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mc{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Uu{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tb{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I_{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xx{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sp{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nb{}class ap{constructor(e){this.url=e}}class hs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new b,this.attachRef=null}}let b=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new hs,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class g{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=_(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=x(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return x(e,this._root).map(t=>t.value)}}function _(n,e){if(n===e.value)return e;for(const t of e.children){const i=_(n,t);if(i)return i}return null}function x(n,e){if(n===e.value)return[e];for(const t of e.children){const i=x(n,t);if(i.length)return i.unshift(e),i}return[]}class A{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function N(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class G extends g{constructor(e,t){super(e),this.snapshot=t,Kr(this,e)}toString(){return this.snapshot.toString()}}function ee(n){const e=function Se(n){const s=new Je([],{},{},"",{},qt,n,null,{});return new ii("",new A(s,[]))}(n),t=new Lr.X([new ac("",{})]),i=new Lr.X({}),r=new Lr.X({}),s=new Lr.X({}),l=new Lr.X(""),f=new Ae(t,i,s,l,r,qt,n,e.root);return f.snapshot=e.root,new G(new A(f,[]),e)}class Ae{constructor(e,t,i,r,s,l,f,p){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=l,this.component=f,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,st.U)(y=>y[ci]))??ot(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(e=>cs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(e=>cs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ke(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&T_(r)&&(i.resolve[ci]=r.title),i}class Je{get title(){return this.data?.[ci]}constructor(e,t,i,r,s,l,f,p,y){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=f,this.routeConfig=p,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ii extends g{constructor(e,t){super(t),this.url=e,Kr(this,t)}toString(){return cp(this._root)}}function Kr(n,e){e.value._routerState=n,e.children.forEach(t=>Kr(n,t))}function cp(n){const e=n.children.length>0?` { ${n.children.map(cp).join(", ")} } `:"";return`${n.value}${e}`}function lp(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Tr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Tr(e.params,t.params)||n.paramsSubject.next(t.params),function Ir(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Tr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Tr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function vf(n,e){const t=Tr(n.params,e.params)&&function Xy(n,e){return Fs(n,e)&&n.every((t,i)=>Tr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||vf(n.parent,e.parent))}function T_(n){return"string"==typeof n.title||null===n.title}let dp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=qt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(b),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(yf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=t;const r=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,p=new up(t,f,r.injector);this.activated=r.createComponent(l,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]})}return n})();class up{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Ae?this.route:e===b?this.childContexts:this.parent.get(e,t)}}const yf=new d.OlP("");let hp=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=tc([i.queryParams,i.params,i.data]).pipe(Wn(([s,l,f],p)=>(f={...s,...l,...f},0===p?ot(f):Promise.resolve(f)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const l=(0,d.qFp)(i.component);if(l)for(const{templateName:f}of l.inputs)t.activatedComponentRef.setInput(f,s[f]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function hr(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function hl(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return hr(n,i,r);return hr(n,i)})}(n,e,t);return new A(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>hr(n,f)),l}}const i=function bf(n){return new Ae(new Lr.X(n.url),new Lr.X(n.params),new Lr.X(n.queryParams),new Lr.X(n.fragment),new Lr.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>hr(n,s));return new A(i,r)}}const fp="ngNavigationCancelingError";function Fd(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=ds(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=mp(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function mp(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[fp]=!0,i.cancellationCode=e,t&&(i.url=t),i}function D_(n){return n&&n[fp]}let Cx=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(i,r){1&i&&d._UZ(0,"router-outlet")},dependencies:[dp],encapsulation:2})}return n})();function KT(n){const e=n.children&&n.children.map(KT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==qt&&(t.component=Cx),t}function Aa(n){return n.outlet||qt}function ib(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class G2{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),lp(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=N(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=N(e);for(const l of Object.values(s))this.deactivateRouteAndItsChildren(l,r);if(i&&i.outlet){const l=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=N(e);for(const l of Object.values(s))this.deactivateRouteAndItsChildren(l,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=N(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new xx(s.value.snapshot))}),e.children.length&&this.forwardEvent(new tb(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(lp(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),lp(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=ib(r.snapshot);l.attachRef=null,l.route=r,l.injector=f,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class YT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wf{constructor(e,t){this.component=e,this.route=t}}function rb(n,e,t){const i=n._root;return pp(i,e?e._root:null,t,[i.value])}function xf(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:i}function pp(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=N(e);return n.children.forEach(l=>{(function S_(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const p=function g1(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Fs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fs(n.url,e.url)||!Tr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vf(n,e)||!Tr(n.queryParams,e.queryParams);default:return!vf(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new YT(i)):(s.data=l.data,s._resolvedData=l._resolvedData),pp(n,e,s.component?f?f.children:null:t,i,r),p&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new wf(f.outlet.component,l))}else l&&gp(e,f,r),r.canActivateChecks.push(new YT(i)),pp(n,null,s.component?f?f.children:null:t,i,r)})(l,s[l.value.outlet],t,i.concat([l.value]),r),delete s[l.value.outlet]}),Object.entries(s).forEach(([l,f])=>gp(f,t.getContext(l),r)),r}function gp(n,e,t){const i=N(n),r=n.value;Object.entries(i).forEach(([s,l])=>{gp(l,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new wf(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function _p(n){return"function"==typeof n}function QT(n){return n instanceof ol||"EmptyError"===n?.name}const cb=Symbol("INITIAL_VALUE");function vp(){return Wn(n=>tc(n.map(e=>e.pipe(Ro(1),ss(cb)))).pipe((0,st.U)(e=>{for(const t of e)if(!0!==t){if(t===cb)return cb;if(!1===t||t instanceof al)return t}return!0}),fi(e=>e!==cb),Ro(1)))}function kx(n){return(0,Ym.z)((0,Nn.b)(e=>{if(ds(e))throw Fd(0,e)}),(0,st.U)(e=>!0===e))}class Mx{constructor(e){this.segmentGroup=e||null}}class lb extends Error{constructor(e){super(),this.urlTree=e}}function yp(n){return os(new Mx(n))}class I1{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ot(i);if(r.numberOfChildren>1||!r.children[qt])return os(new d.vHH(4e3,!1));r=r.children[qt]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new lb(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new al(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const f=s.substring(1);i[r]=t[f]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let l={};return Object.entries(t.children).forEach(([f,p])=>{l[f]=this.createSegmentGroup(e,p,i,r)}),new On(s,l)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new d.vHH(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const Rx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nx(n,e,t,i,r){const s=k_(n,e,t);return s.matched?(i=function h1(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function eD(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?ot(r.map(l=>{const f=xf(l,n);return Oo(function y1(n){return n&&_p(n.canMatch)}(f)?f.canMatch(e,t):(0,d.r_H)(n,()=>f(e,t)))})).pipe(vp(),kx()):ot(!0)}(i,e,t).pipe((0,st.U)(l=>!0===l?s:{...Rx}))):ot(s)}function k_(n,e,t){if("**"===e.path)return function T1(n){return{matched:!0,parameters:n.at(-1)?.parameters??{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Rx}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Xm)(t,n,e);if(!r)return{...Rx};const s={};Object.entries(r.posParams??{}).forEach(([f,p])=>{s[f]=p.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function Ef(n,e,t,i){return t.length>0&&function Ox(n,e,t){return t.some(i=>hb(n,e,i)&&Aa(i)!==qt)}(n,t,i)?{segmentGroup:new On(e,nD(i,new On(t,n.children))),slicedSegments:[]}:0===t.length&&function ub(n,e,t){return t.some(i=>hb(n,e,i))}(n,t,i)?{segmentGroup:new On(n.segments,db(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new On(n.segments,n.children),slicedSegments:t}}function db(n,e,t,i){const r={};for(const s of t)if(hb(n,e,s)&&!i[Aa(s)]){const l=new On([],{});r[Aa(s)]=l}return{...i,...r}}function nD(n,e){const t={};t[qt]=e;for(const i of n)if(""===i.path&&Aa(i)!==qt){const r=new On([],{});t[Aa(i)]=r}return t}function hb(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class S1{}class rD{constructor(e,t,i,r,s,l,f){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.applyRedirects=new I1(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new d.vHH(4002,`'${e.segmentGroup}'`)}recognize(){const e=Ef(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe((0,st.U)(t=>{const i=new Je([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},qt,this.rootComponentType,null,{}),r=new A(i,t),s=new ii("",r),l=function fc(n,e,t=null,i=null){return T(E(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(s._root,null),{state:s,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,qt).pipe(as(i=>{if(i instanceof lb)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Mx?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=Ke(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe((0,st.U)(s=>s instanceof A?[s]:[]))}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return tn(r).pipe(ho(s=>{const l=i.children[s],f=function z2(n,e){const t=n.filter(i=>Aa(i)===e);return t.push(...n.filter(i=>Aa(i)!==e)),t}(t,s);return this.processSegmentGroup(e,f,l,s)}),xa((s,l)=>(s.push(...l),s)),Rs(null),function uf(n,e){const t=arguments.length>=2;return i=>i.pipe(n?fi((r,s)=>n(r,s,i)):il.y,df(1),t?Rs(e):Ns(()=>new ol))}(),Ki(s=>{if(null===s)return yp(i);const l=mb(s);return function M_(n){n.sort((e,t)=>e.value.outlet===qt?-1:t.value.outlet===qt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),ot(l)}))}processSegment(e,t,i,r,s,l){return tn(t).pipe(ho(f=>this.processSegmentAgainstRoute(f._injector??e,t,f,i,r,s,l).pipe(as(p=>{if(p instanceof Mx)return ot(null);throw p}))),uo(f=>!!f),as(f=>{if(QT(f))return function iD(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?ot(new S1):yp(i);throw f}))}processSegmentAgainstRoute(e,t,i,r,s,l,f){return function D1(n,e,t,i){return!!(Aa(n)===i||i!==qt&&hb(e,t,n))&&k_(e,n,t).matched}(i,r,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,l):this.allowRedirects&&f?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,l):yp(r):yp(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){const{matched:f,consumedSegments:p,positionalParamSegments:y,remainingSegments:I}=k_(t,r,s);if(!f)return yp(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const D=this.applyRedirects.applyRedirectCommands(p,r.redirectTo,y);return this.applyRedirects.lineralizeSegments(r,D).pipe(Ki(M=>this.processSegment(e,i,t,M.concat(I),l,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){const l=Nx(t,i,r,e);return"**"===i.path&&(t.children={}),l.pipe(Wn(f=>f.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(Wn(({routes:p})=>{const y=i._loadedInjector??e,{consumedSegments:I,remainingSegments:D,parameters:M}=f,F=new Je(I,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function M1(n){return n.data||{}}(i),Aa(i),i.component??i._loadedComponent??null,i,function Px(n){return n.resolve||{}}(i)),{segmentGroup:V,slicedSegments:U}=Ef(t,I,D,p);if(0===U.length&&V.hasChildren())return this.processChildren(y,p,V).pipe((0,st.U)(fe=>null===fe?null:new A(F,fe)));if(0===p.length&&0===U.length)return ot(new A(F,[]));const X=Aa(i)===s;return this.processSegment(y,p,V,U,X?qt:s,!0).pipe((0,st.U)(fe=>new A(F,fe instanceof A?[fe]:[])))})):yp(t)))}getChildConfig(e,t,i){return t.children?ot({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ot({routes:t._loadedRoutes,injector:t._loadedInjector}):function A_(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?ot(!0):ot(r.map(l=>{const f=xf(l,n);return Oo(function sb(n){return n&&_p(n.canLoad)}(f)?f.canLoad(e,t):(0,d.r_H)(n,()=>f(e,t)))})).pipe(vp(),kx())}(e,t,i).pipe(Ki(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Nn.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function tD(n){return os(mp(!1,3))}())):ot({routes:[],injector:e})}}function fb(n){const e=n.value.routeConfig;return e&&""===e.path}function mb(n){const e=[],t=new Set;for(const i of n){if(!fb(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=mb(i.children);e.push(new A(i.value,r))}return e.filter(i=>!t.has(i))}function Fx(n){const e=n.children.map(t=>Fx(t)).flat();return[n,...e]}function bp(n){return Wn(e=>{const t=n(e);return t?tn(t).pipe((0,st.U)(()=>e)):ot(e)})}let aD=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===qt);return i}getResolvedTitleForRoute(t){return t.data[ci]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(cD),providedIn:"root"})}return n})(),cD=(()=>{class n extends aD{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(_d))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const If=new d.OlP("",{providedIn:"root",factory:()=>({})}),Tf=new d.OlP("ROUTES");let R_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ot(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Oo(t.loadComponent()).pipe((0,st.U)(wp),(0,Nn.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),oc(()=>{this.componentLoaders.delete(t)})),r=new Nd(i,()=>new An.x).pipe(lf());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ot({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function lD(n,e,t,i){return Oo(n.loadChildren()).pipe((0,st.U)(wp),Ki(r=>r instanceof d.YKP||Array.isArray(r)?ot(r):tn(e.compileModuleAsync(r))),(0,st.U)(r=>{i&&i(n);let s,l,f=!1;return Array.isArray(r)?(l=r,!0):(s=r.create(t).injector,l=s.get(Tf,[],{optional:!0,self:!0}).flat()),{routes:l.map(KT),injector:s}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(oc(()=>{this.childrenLoaders.delete(i)})),l=new Nd(s,()=>new An.x).pipe(lf());return this.childrenLoaders.set(i,l),l}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wp(n){return function pb(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let gb=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(Lx),providedIn:"root"})}return n})(),Lx=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const N_=new d.OlP(""),Vx=new d.OlP("");function Bx(n,e,t){const i=n.get(Vx),r=n.get(te);return n.get(d.R0b).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let s;const l=new Promise(y=>{s=y}),f=r.startViewTransition(()=>(s(),function _b(n){return new Promise(e=>{(0,d.T8G)(e,{injector:n})})}(n))),{onViewTransitionCreated:p}=i;return p&&(0,d.r_H)(n,()=>p({transition:f,from:e,to:t})),l})}let vb=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new An.x,this.transitionAbortSubject=new An.x,this.configLoader=(0,d.f3M)(R_),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Ls),this.rootContexts=(0,d.f3M)(b),this.location=(0,d.f3M)(nt),this.inputBindingEnabled=null!==(0,d.f3M)(yf,{optional:!0}),this.titleStrategy=(0,d.f3M)(aD),this.options=(0,d.f3M)(If,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.f3M)(gb),this.createViewTransition=(0,d.f3M)(N_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ot(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new mc(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new wx(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new Lr.X({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sa,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fi(s=>0!==s.id),(0,st.U)(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Wn(s=>{this.currentTransition=s;let l=!1,f=!1;return ot(s).pipe((0,Nn.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Wn(p=>{const y=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!y&&"reload"!==(p.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const D="";return this.events.next(new Bu(p.id,this.urlSerializer.serialize(p.rawUrl),D,0)),p.resolve(null),Cr}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return ot(p).pipe(Wn(D=>{const M=this.transitions?.getValue();return this.events.next(new np(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),M!==this.transitions?.getValue()?Cr:Promise.resolve(D)}),function oD(n,e,t,i,r,s){return Ki(l=>function A1(n,e,t,i,r,s,l="emptyOnly"){return new rD(n,e,t,i,r,l,s).recognize()}(n,e,t,i,l.extractedUrl,r,s).pipe((0,st.U)(({state:f,tree:p})=>({...l,targetSnapshot:f,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Nn.b)(D=>{s.targetSnapshot=D.targetSnapshot,s.urlAfterRedirects=D.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects};const M=new eb(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(M)}));if(y&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){const{id:D,extractedUrl:M,source:F,restoredState:V,extras:U}=p,X=new np(D,this.urlSerializer.serialize(M),F,V);this.events.next(X);const fe=ee(this.rootComponentType).snapshot;return this.currentTransition=s={...p,targetSnapshot:fe,urlAfterRedirects:M,extras:{...U,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=M,ot(s)}{const D="";return this.events.next(new Bu(p.id,this.urlSerializer.serialize(p.extractedUrl),D,1)),p.resolve(null),Cr}}),(0,Nn.b)(p=>{const y=new rp(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}),(0,st.U)(p=>(this.currentTransition=s={...p,guards:rb(p.targetSnapshot,p.currentSnapshot,this.rootContexts)},s)),function XT(n,e){return Ki(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?ot({...t,guardsResult:!0}):function w1(n,e,t,i){return tn(n).pipe(Ki(r=>function mo(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ot(s.map(f=>{const p=ib(e)??r,y=xf(f,p);return Oo(function v1(n){return n&&_p(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,i):(0,d.r_H)(p,()=>y(n,e,t,i))).pipe(uo())})).pipe(vp()):ot(!0)}(r.component,r.route,t,e,i)),uo(r=>!0!==r,!0))}(l,i,r,n).pipe(Ki(f=>f&&function ob(n){return"boolean"==typeof n}(f)?function x1(n,e,t,i){return tn(e).pipe(ho(r=>ic(function Sx(n,e){return null!==n&&e&&e(new Uu(n)),ot(!0)}(r.route.parent,i),function fs(n,e){return null!==n&&e&&e(new I_(n)),ot(!0)}(r.route,i),function Ax(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function Tx(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>rs(()=>ot(l.guards.map(p=>{const y=ib(l.node)??t,I=xf(p,y);return Oo(function _1(n){return n&&_p(n.canActivateChild)}(I)?I.canActivateChild(i,n):(0,d.r_H)(y,()=>I(i,n))).pipe(uo())})).pipe(vp())));return ot(s).pipe(vp())}(n,r.path,t),function JT(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ot(!0);const r=i.map(s=>rs(()=>{const l=ib(e)??t,f=xf(s,l);return Oo(function ab(n){return n&&_p(n.canActivate)}(f)?f.canActivate(e,n):(0,d.r_H)(l,()=>f(e,n))).pipe(uo())}));return ot(r).pipe(vp())}(n,r.route,t))),uo(r=>!0!==r,!0))}(i,s,n,e):ot(f)),(0,st.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,p=>this.events.next(p)),(0,Nn.b)(p=>{if(s.guardsResult=p.guardsResult,ds(p.guardsResult))throw Fd(0,p.guardsResult);const y=new fo(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(y)}),fi(p=>!!p.guardsResult||(this.cancelNavigationTransition(p,"",3),!1)),bp(p=>{if(p.guards.canActivateChecks.length)return ot(p).pipe((0,Nn.b)(y=>{const I=new _f(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}),Wn(y=>{let I=!1;return ot(y).pipe(function Cf(n,e){return Ki(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ot(t);const s=new Set(r.map(p=>p.route)),l=new Set;for(const p of s)if(!l.has(p))for(const y of Fx(p))l.add(y);let f=0;return tn(l).pipe(ho(p=>s.has(p)?function sD(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!T_(r)&&(s[ci]=r.title),function R1(n,e,t,i){const r=Ps(n);if(0===r.length)return ot({});const s={};return tn(r).pipe(Ki(l=>function W2(n,e,t,i){const r=ib(e)??i,s=xf(n,r);return Oo(s.resolve?s.resolve(e,t):(0,d.r_H)(r,()=>s(e,t)))}(n[l],e,t,i).pipe(uo(),(0,Nn.b)(f=>{s[l]=f}))),df(1),function No(n){return(0,st.U)(()=>n)}(s),as(l=>QT(l)?Cr:os(l)))}(s,n,e,i).pipe((0,st.U)(l=>(n._resolvedData=l,n.data=Ke(n,n.parent,t).resolve,null)))}(p,i,n,e):(p.data=Ke(p,p.parent,n).resolve,ot(void 0))),(0,Nn.b)(()=>f++),df(1),Ki(p=>f===l.size?ot(t):Cr))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Nn.b)({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(y,"",2)}}))}),(0,Nn.b)(y=>{const I=new op(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}))}),bp(p=>{const y=I=>{const D=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,Nn.b)(M=>{I.component=M}),(0,st.U)(()=>{})));for(const M of I.children)D.push(...y(M));return D};return tc(y(p.targetSnapshot.root)).pipe(Rs(null),Ro(1))}),bp(()=>this.afterPreactivation()),Wn(()=>{const{currentSnapshot:p,targetSnapshot:y}=s,I=this.createViewTransition?.(this.environmentInjector,p.root,y.root);return I?tn(I).pipe((0,st.U)(()=>s)):ot(s)}),(0,st.U)(p=>{const y=function ul(n,e,t){const i=hr(n,e._root,t?t._root:void 0);return new G(i,e)}(t.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=s={...p,targetRouterState:y},this.currentNavigation.targetRouterState=y,s}),(0,Nn.b)(()=>{this.events.next(new nb)}),((n,e,t,i)=>(0,st.U)(r=>(new G2(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),Ro(1),(0,Nn.b)({next:p=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ur(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{l=!0}}),Os(this.transitionAbortSubject.pipe((0,Nn.b)(p=>{throw p}))),oc(()=>{l||f||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),as(p=>{if(f=!0,D_(p))this.events.next(new us(s.id,this.urlSerializer.serialize(s.extractedUrl),p.message,p.cancellationCode)),function U2(n){return D_(n)&&ds(n.url)}(p)?this.events.next(new ap(p.url)):s.resolve(!1);else{this.events.next(new ip(s.id,this.urlSerializer.serialize(s.extractedUrl),p,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(p))}catch(y){s.reject(y)}}return Cr}))}))}cancelNavigationTransition(t,i,r){const s=new us(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dD(n){return n!==Sa}let N1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(P1),providedIn:"root"})}return n})();class O1{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let P1=(()=>{class n extends O1{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=d.n5z(n)))(r||n)}})();static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ux=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(uD),providedIn:"root"})}return n})(),uD=(()=>{class n extends Ux{constructor(){super(...arguments),this.location=(0,d.f3M)(nt),this.urlSerializer=(0,d.f3M)(Ls),this.options=(0,d.f3M)(If,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.f3M)(gb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new al,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ee(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof np)this.stateMemento=this.createStateMemento();else if(t instanceof Bu)this.rawUrlTree=i.initialUrl;else if(t instanceof eb){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof nb?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof us&&(3===t.code||2===t.code)?this.restoreHistory(i):t instanceof ip?this.restoreHistory(i,!0):t instanceof ur&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=d.n5z(n)))(r||n)}})();static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ju=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ju||{});function yb(n,e){n.events.pipe(fi(t=>t instanceof ur||t instanceof us||t instanceof ip||t instanceof Bu),(0,st.U)(t=>t instanceof ur||t instanceof Bu?ju.COMPLETE:t instanceof us&&(0===t.code||1===t.code)?ju.REDIRECTING:ju.FAILED),fi(t=>t!==ju.REDIRECTING),Ro(1)).subscribe(()=>{e()})}function xp(n){throw n}const F1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},L1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let po=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,d.f3M)(d.c2e),this.stateManager=(0,d.f3M)(Ux),this.options=(0,d.f3M)(If,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.I6F),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.f3M)(vb),this.urlSerializer=(0,d.f3M)(Ls),this.location=(0,d.f3M)(nt),this.urlHandlingStrategy=(0,d.f3M)(gb),this._events=new An.x,this.errorHandler=this.options.errorHandler||xp,this.navigated=!1,this.routeReuseStrategy=(0,d.f3M)(N1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,d.f3M)(Tf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,d.f3M)(yf,{optional:!0}),this.eventsSubscription=new Rn.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==r&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof us&&0!==i.code&&1!==i.code)this.navigated=!0;else if(i instanceof ur)this.navigated=!0;else if(i instanceof ap){const l=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),f={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||dD(r.source)};this.scheduleNavigation(l,Sa,null,f,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function bb(n){return!(n instanceof nb||n instanceof ap)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const p={...r};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const f=this.parseUrl(t);this.scheduleNavigation(f,i,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(KT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:f,preserveFragment:p}=i,y=p?this.currentUrlTree.fragment:l;let D,I=null;switch(f){case"merge":I={...this.currentUrlTree.queryParams,...s};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=s||null}null!==I&&(I=this.removeEmptyProps(I));try{D=E(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),D=this.currentUrlTree.root}return T(D,t,I,y??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=ds(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Sa,null,i)}navigate(t,i={skipLocationChange:!1}){return function V1(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new d.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...F1}:!1===i?{...L1}:i,ds(t))return ff(this.currentUrlTree,t,r);const s=this.parseUrl(t);return ff(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,s])=>(null!=s&&(i[r]=s),i),{})}scheduleNavigation(t,i,r,s,l){if(this.disposed)return Promise.resolve(!1);let f,p,y;l?(f=l.resolve,p=l.reject,y=l.promise):y=new Promise((D,M)=>{f=D,p=M});const I=this.pendingTasks.add();return yb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:f,reject:p,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(D=>Promise.reject(D))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ld=(()=>{class n{constructor(t,i,r,s,l,f){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=l,this.locationStrategy=f,this.href=null,this.commands=null,this.onChanges=new An.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const p=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=t.events.subscribe(y=>{y instanceof ur&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(po),d.Y36(Ae),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Xe))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&d.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&i&&d.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]})}return n})();class jx{}let B1=(()=>{class n{constructor(t,i,r,s,l){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(fi(t=>t instanceof ur),ho(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,d.MMx)(s.providers,t,`Route: ${s.path}`));const l=s._injector??t,f=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(f,s.children??s._loadedRoutes))}return tn(r).pipe(nc())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):ot(null);const s=r.pipe(Ki(l=>null===l?ot(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));return i.loadComponent&&!i._loadedComponent?tn([s,this.loader.loadComponent(i)]).pipe(nc()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(po),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(jx),d.LFG(R_))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Hx=new d.OlP("");let mD=(()=>{class n{constructor(t,i,r,s,l={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof np?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ur?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Bu&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sp&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sp(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){d.$Z()};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function Fo(n,e){return{\u0275kind:n,\u0275providers:e}}function pD(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const i=n.get(po),r=n.get(gD);1===n.get(wb)&&i.initialNavigation(),n.get(_D,null,d.XFs.Optional)?.setUpPreloading(),n.get(Hx,null,d.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const gD=new d.OlP("",{factory:()=>new An.x}),wb=new d.OlP("",{providedIn:"root",factory:()=>1}),_D=new d.OlP("");function xb(n){return Fo(0,[{provide:_D,useExisting:B1},{provide:jx,useExisting:n}])}function yD(n){return Fo(9,[{provide:N_,useValue:Bx},{provide:Vx,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const $1=new d.OlP("ROUTER_FORROOT_GUARD"),eV=[nt,{provide:Ls,useClass:Ca},po,b,{provide:Ae,useFactory:function fl(n){return n.routerState.root},deps:[po]},R_,[]];let Cb=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[eV,[],{provide:Tf,multi:!0,useValue:t},{provide:$1,useFactory:bD,deps:[[po,new d.FiY,new d.tp0]]},{provide:If,useValue:i||{}},i?.useHash?{provide:Xe,useClass:Lt}:{provide:Xe,useClass:dt},{provide:Hx,useFactory:()=>{const n=(0,d.f3M)(Fc),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(If),i=(0,d.f3M)(vb),r=(0,d.f3M)(Ls);return t.scrollOffset&&n.setOffset(t.scrollOffset),new mD(r,i,n,e,t)}},i?.preloadingStrategy?xb(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?G1(i):[],i?.bindToComponentInputs?Fo(8,[hp,{provide:yf,useExisting:hp}]).\u0275providers:[],i?.enableViewTransitions?yD().\u0275providers:[],[{provide:wD,useFactory:pD},{provide:d.tb,multi:!0,useExisting:wD}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Tf,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG($1,8))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();function bD(n){return"guarded"}function G1(n){return["disabled"===n.initialNavigation?Fo(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(po);return()=>{e.setUpLocationChangeListener()}}},{provide:wb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Fo(2,[{provide:wb,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(Ue,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(po),s=e.get(gD);yb(r,()=>{i(!0)}),e.get(vb).afterPreactivation=()=>(i(!0),s.closed?ot(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const wD=new d.OlP(""),Lo="*";function ka(n,e){return{type:7,name:n,definitions:e,options:{}}}function Yi(n,e=null){return{type:4,styles:e,timings:n}}function Cn(n){return{type:6,styles:n,offset:null}}function Df(n,e,t){return{type:0,name:n,styles:e,options:t}}function Qi(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class Sf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Ip{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}var zu=K(321),In=K(497);function O_(){return(0,qn.e)((n,e)=>{let t,i=!1;n.subscribe((0,Gn.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function Dp(n,e=il.y){return n=n??aV,(0,qn.e)((t,i)=>{let r,s=!0;t.subscribe((0,Gn.x)(i,l=>{const f=e(l);(s||!n(r,f))&&(s=!1,r=f,i.next(l))}))})}function aV(n,e){return n===e}var Qe,Xi=K(304),Zx=(K(977),K(399)),he=K(861),Vo=K(594),pc=K(537),Hs=K(879),L=K(58),Q1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gc={},Kx=Kx||{},Ft=Q1||self;function Sp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function P_(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var F_="closure_uid_"+(1e9*Math.random()>>>0),Db=0;function X1(n,e,t){return n.call.apply(n.bind,arguments)}function DD(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function go(n,e,t){return(go=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?X1:DD).apply(null,arguments)}function L_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Yr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[r].apply(i,l)}}function $u(){this.s=this.s,this.o=this.o}$u.prototype.s=!1,$u.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function TD(n){Object.prototype.hasOwnProperty.call(n,F_)&&n[F_]||(n[F_]=++Db)}(this)},$u.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const SD=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Gu(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Ap(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Sp(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let l=0;l<s;l++)n[r+l]=i[l]}else n.push(i)}}function _o(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}_o.prototype.h=function(){this.defaultPrevented=!0};var AD=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",()=>{},e),Ft.removeEventListener("test",()=>{},e)}catch{}return n}();function V_(n){return/^[\s\xa0]*$/.test(n)}function Ab(){var n=Ft.navigator;return n&&(n=n.userAgent)?n:""}function ml(n){return-1!=Ab().indexOf(n)}function B_(n){return B_[" "](n),n}B_[" "]=function(){};var Qx,n,lV=ml("Opera"),U_=ml("Trident")||ml("MSIE"),kD=ml("Edge"),Yx=kD||U_,J1=ml("Gecko")&&!(-1!=Ab().toLowerCase().indexOf("webkit")&&!ml("Edge"))&&!(ml("Trident")||ml("MSIE"))&&!ml("Edge"),kb=-1!=Ab().toLowerCase().indexOf("webkit")&&!ml("Edge");function MD(){var n=Ft.document;return n?n.documentMode:void 0}e:{var j_="",Mb=(n=Ab(),J1?/rv:([^\);]+)(\)|;)/.exec(n):kD?/Edge\/([\d\.]+)/.exec(n):U_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):kb?/WebKit\/(\S+)/.exec(n):lV?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Mb&&(j_=Mb?Mb[1]:""),U_){var Xx=MD();if(null!=Xx&&Xx>parseFloat(j_)){Qx=String(Xx);break e}}Qx=j_}var eN=Ft.document&&U_&&(MD()||parseInt(Qx,10))||void 0;function kp(n,e){if(_o.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(J1){e:{try{B_(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ND[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&kp.$.h.call(this)}}Yr(kp,_o);var ND={2:"touch",3:"pen",4:"mouse"};kp.prototype.h=function(){kp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Mp="closure_listenable_"+(1e6*Math.random()|0),tN=0;function nN(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++tN,this.fa=this.ia=!1}function H_(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function z_(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function eE(n){const e={};for(const t in n)e[t]=n[t];return e}const Rb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function OD(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<Rb.length;s++)t=Rb[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function qu(n){this.src=n,this.g={},this.h=0}function Nb(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=SD(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(H_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ob(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}qu.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=Ob(n,e,i,r);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new nN(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var tE="closure_lm_"+(1e6*Math.random()|0),nE={};function PD(n,e,t,i,r){if(i&&i.once)return LD(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)PD(n,e[s],t,i,r);return null}return t=pl(t),n&&n[Mp]?n.O(e,t,P_(i)?!!i.capture:!!i,r):FD(n,e,t,!1,i,r)}function FD(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var l=P_(r)?!!r.capture:!!r,f=BD(n);if(f||(n[tE]=f=new qu(n)),(t=f.add(e,t,i,l,s)).proxy)return t;if(i=function iN(){const e=VD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)AD||(r=l),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(rE(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function LD(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)LD(n,e[s],t,i,r);return null}return t=pl(t),n&&n[Mp]?n.P(e,t,P_(i)?!!i.capture:!!i,r):FD(n,e,t,!0,i,r)}function iE(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)iE(n,e[s],t,i,r);else i=P_(i)?!!i.capture:!!i,t=pl(t),n&&n[Mp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ob(s=n.g[e],t,i,r))&&(H_(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=BD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ob(e,t,i,r)),(t=-1<n?e[n]:null)&&Pb(t))}function Pb(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Mp])Nb(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(rE(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=BD(e))?(Nb(t,n),0==t.h&&(t.src=null,e[tE]=null)):H_(n)}}}function rE(n){return n in nE?nE[n]:nE[n]="on"+n}function VD(n,e){if(n.fa)n=!0;else{e=new kp(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Pb(n),n=t.call(i,e)}return n}function BD(n){return(n=n[tE])instanceof qu?n:null}var $_="__closure_events_fn_"+(1e9*Math.random()>>>0);function pl(n){return"function"==typeof n?n:(n[$_]||(n[$_]=function(e){return n.handleEvent(e)}),n[$_])}function Ar(){$u.call(this),this.i=new qu(this),this.S=this,this.J=null}function fr(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new _o(e,n);else if(e instanceof _o)e.target=e.target||n;else{var r=e;OD(e=new _o(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];r=G_(l,i,!0,e)&&r}if(r=G_(l=e.g=n,i,!0,e)&&r,r=G_(l,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=G_(l=e.g=t[s],i,!1,e)&&r}function G_(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.fa&&l.capture==t){var f=l.listener,p=l.la||l.src;l.ia&&Nb(n.i,l),r=!1!==f.call(p,i)&&r}}return r&&!i.defaultPrevented}Yr(Ar,$u),Ar.prototype[Mp]=!0,Ar.prototype.removeEventListener=function(n,e,t,i){iE(this,n,e,t,i)},Ar.prototype.N=function(){if(Ar.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)H_(t[i]);delete n.g[e],n.h--}}this.J=null},Ar.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ar.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Fb=Ft.JSON.stringify;function oN(){var n=Bb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var UD=new class rN{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new jD,n=>n.reset());class jD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function uV(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function aN(n){Ft.setTimeout(()=>{throw n},0)}let Lb,Vb=!1,Bb=new class sN{constructor(){this.h=this.g=null}add(e,t){const i=UD.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},oE=()=>{const n=Ft.Promise.resolve(void 0);Lb=()=>{n.then(hV)}};var hV=()=>{for(var n;n=oN();){try{n.h.call(n.g)}catch(t){aN(t)}var e=UD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Vb=!1};function jt(n,e){Ar.call(this),this.h=n||1,this.g=e||Ft,this.j=go(this.qb,this),this.l=Date.now()}function Ub(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function jb(n,e,t){if("function"==typeof n)t&&(n=go(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=go(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function Af(n){n.g=jb(()=>{n.g=null,n.i&&(n.i=!1,Af(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Yr(jt,Ar),(Qe=jt.prototype).ga=!1,Qe.T=null,Qe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fr(this,"tick"),this.ga&&(Ub(this),this.start()))}},Qe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.N=function(){jt.$.N.call(this),Ub(this),delete this.g};class HD extends $u{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Af(this)}N(){super.N(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function q_(n){$u.call(this),this.h=n,this.g={}}Yr(q_,$u);var W_=[];function kf(n,e,t,i){Array.isArray(t)||(t&&(W_[0]=t.toString()),t=W_);for(var r=0;r<t.length;r++){var s=PD(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Hb(n){z_(n.g,function(e,t){this.g.hasOwnProperty(t)&&Pb(e)},n),n.g={}}function Wu(){this.g=!0}function Zu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $D(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return Fb(t)}catch{return e}}(n,t)+(i?" "+i:"")})}q_.prototype.N=function(){q_.$.N.call(this),Hb(this)},q_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wu.prototype.Ea=function(){this.g=!1},Wu.prototype.info=function(){};var Vd={},GD=null;function zb(){return GD=GD||new Ar}function qD(n){_o.call(this,Vd.Ta,n)}function Rp(n){const e=zb();fr(e,new qD(e))}function WD(n,e){_o.call(this,Vd.STAT_EVENT,n),this.stat=e}function Bo(n){const e=zb();fr(e,new WD(e,n))}function ZD(n,e){_o.call(this,Vd.Ua,n),this.size=e}function Z_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}Vd.Ta="serverreachability",Yr(qD,_o),Vd.STAT_EVENT="statevent",Yr(WD,_o),Vd.Ua="timingevent",Yr(ZD,_o);var K_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},cE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lE(){}function ms(){}lE.prototype.h=null;var Q_,Y_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dE(){_o.call(this,"d")}function YD(){_o.call(this,"c")}function X_(){}function J_(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new q_(this),this.P=cN,this.V=new jt(n=Yx?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QD}function QD(){this.i=null,this.g="",this.h=!1}Yr(dE,_o),Yr(YD,_o),Yr(X_,lE),X_.prototype.g=function(){return new XMLHttpRequest},X_.prototype.i=function(){return{}},Q_=new X_;var cN=45e3,$b={},Gb={};function uE(n,e,t){n.L=1,n.v=Ma(gl(e)),n.s=t,n.S=!0,qb(n,null)}function qb(n,e){n.G=Date.now(),ev(n),n.A=gl(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Op(t.i,"t",i),n.C=0,t=n.l.J,n.h=new QD,n.g=vS(n.l,t?e:null,!n.s),0<n.O&&(n.M=new HD(go(n.Pa,n,n.g),n.O)),kf(n.U,n.g,"readystatechange",n.nb),e=n.I?eE(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Rp(),function zD(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",f=s.split("&"),p=0;p<f.length;p++){var y=f[p].split("=");if(1<y.length){var I=y[0];y=y[1];var D=I.split("_");l=2<=D.length&&"type"==D[1]?l+(I+"=")+y+"&":l+(I+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function XD(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function JD(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=lN(n,t),r==Gb){4==e&&(n.o=4,Bo(14),i=!1),Zu(n.j,n.m,null,"[Incomplete Response]");break}if(r==$b){n.o=4,Bo(15),Zu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Zu(n.j,n.m,r,null),Wb(n,r)}XD(n)&&r!=Gb&&r!=$b&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Bo(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),e0(e),e.M=!0,Bo(11))):(Zu(n.j,n.m,t,"[Invalid Chunked Response]"),Rf(n),Mf(n))}function lN(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Gb:(t=Number(e.substring(t,i)),isNaN(t)?$b:(i+=1)+t>e.length?Gb:(e=e.slice(i,i+t),n.C=i+t,e))}function ev(n){n.Y=Date.now()+n.P,eS(n,n.P)}function eS(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Z_(go(n.lb,n),e)}function zs(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function Mf(n){0==n.l.H||n.J||pS(n.l,n)}function Rf(n){zs(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Ub(n.V),Hb(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Wb(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||sS(t.i,n)))if(!n.K&&sS(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;t0(t),lv(t)}Vp(t),Bo(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Z_(go(t.ib,t),6e3));if(1>=vN(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Pf(t,11)}else if((n.K||t.g==n)&&t0(t),!V_(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.V=y[0],y=y[1],2==t.H)if("c"==y[0]){t.K=y[1],t.pa=y[2];const I=y[3];null!=I&&(t.ra=I,t.l.info("VER="+t.ra));const D=y[4];null!=D&&(t.Ga=D,t.l.info("SVER="+t.Ga));const M=y[5];null!=M&&"number"==typeof M&&0<M&&(t.L=i=1.5*M,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const F=n.g;if(F){const V=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var s=i.i;s.g||-1==V.indexOf("spdy")&&-1==V.indexOf("quic")&&-1==V.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Pp(s,s.h),s.h=null))}if(i.F){const U=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;U&&(i.Da=U,ri(i.I,i.F,U))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((i=t).wa=_S(i,i.J?i.pa:null,i.Y),l.K){aS(i.i,l);var f=l,p=i.L;p&&f.setTimeout(p),f.B&&(zs(f),ev(f)),i.g=l}else mS(i);0<t.j.length&&dv(t)}else"stop"!=y[0]&&"close"!=y[0]||Pf(t,7);else 3==t.H&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Pf(t,7):vE(t):"noop"!=y[0]&&t.h&&t.h.Aa(y),t.A=0)}Rp()}catch{}}function hE(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Sp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function tS(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Sp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function dN(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Sp(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(Qe=J_.prototype).setTimeout=function(n){this.P=n},Qe.nb=function(n){n=n.target;const e=this.M;e&&3==_c(n)?e.l():this.Pa(n)},Qe.Pa=function(n){try{if(n==this.g)e:{const I=_c(this.g);var e=this.g.Ia();if(this.g.da(),!(3>I)&&(3!=I||Yx||this.g&&(this.h.h||this.g.ja()||gE(this.g)))){this.J||4!=I||7==e||Rp(),zs(this);var t=this.g.da();this.ca=t;t:if(XD(this)){var i=gE(this.g);n="";var r=i.length,s=4==_c(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Rf(this),Mf(this);var l="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function sE(n,e,t,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.W,I,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,p=this.g;if((f=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V_(f)){var y=f;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,Bo(12),Rf(this),Mf(this);break e}Zu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wb(this,t)}this.S?(JD(this,I,l),Yx&&this.i&&3==I&&(kf(this.U,this.V,"tick",this.mb),this.V.start())):(Zu(this.j,this.m,l,null),Wb(this,l)),4==I&&Rf(this),this.i&&!this.J&&(4==I?pS(this.l,this):(this.i=!1,ev(this)))}else(function EN(n){const e={};n=(n.g&&2<=_c(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(V_(n[i]))continue;var t=uV(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function dV(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Bo(12)):(this.o=0,Bo(13)),Rf(this),Mf(this)}}}catch{}},Qe.mb=function(){if(this.g){var n=_c(this.g),e=this.g.ja();this.C<e.length&&(zs(this),JD(this,n,e),this.i&&4!=n&&ev(this))}},Qe.cancel=function(){this.J=!0,Rf(this)},Qe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function aE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Rp(),Bo(17)),Rf(this),this.o=2,Mf(this)):eS(this,this.Y-n)};var tv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Np(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Np){this.h=n.h,nv(this,n.j),this.s=n.s,this.g=n.g,iv(this,n.m),this.l=n.l;var e=n.i,t=new sv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),rv(this,t),this.o=n.o}else n&&(e=String(n).match(tv))?(this.h=!1,nv(this,e[1]||"",!0),this.s=ov(e[2]||""),this.g=ov(e[3]||"",!0),iv(this,e[4]),this.l=ov(e[5]||"",!0),rv(this,e[6]||"",!0),this.o=ov(e[7]||"")):(this.h=!1,this.i=new sv(null,this.h))}function gl(n){return new Np(n)}function nv(n,e,t){n.j=t?ov(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function iv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function rv(n,e,t){e instanceof sv?(n.i=e,function iS(n,e){e&&!n.j&&(Bd(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Zb(this,i),Op(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Nf(e,nS)),n.i=new sv(e,n.h))}function ri(n,e,t){n.i.set(e,t)}function Ma(n){return ri(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ov(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Nf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,uN),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function uN(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Np.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Nf(e,hN,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Nf(e,hN,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Nf(t,"/"==t.charAt(0)?mN:fN,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Nf(t,pN)),n.join("")};var hN=/[#\/\?@]/g,fN=/[#\?:]/g,mN=/[#\?]/g,nS=/[#\?@]/g,pN=/#/g;function sv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Bd(n){n.g||(n.g=new Map,n.h=0,n.i&&function fE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Zb(n,e){Bd(n),e=_l(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function mE(n,e){return Bd(n),e=_l(n,e),n.g.has(e)}function Op(n,e,t){Zb(n,e),0<t.length&&(n.i=null,n.g.set(_l(n,e),Gu(t)),n.h+=t.length)}function _l(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(Qe=sv.prototype).add=function(n,e){Bd(this),this.i=null,n=_l(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qe.forEach=function(n,e){Bd(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},Qe.ta=function(){Bd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},Qe.Z=function(n){Bd(this);let e=[];if("string"==typeof n)mE(this,n)&&(e=e.concat(this.g.get(_l(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Qe.set=function(n,e){return Bd(this),this.i=null,mE(this,n=_l(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=s;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var gN=class{constructor(n,e){this.g=n,this.map=e}};function rS(n){this.l=n||_N,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ka&&Ft.g.Ka()&&Ft.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _N=10;function oS(n){return!!n.h||!!n.g&&n.g.size>=n.j}function vN(n){return n.h?1:n.g?n.g.size:0}function sS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Pp(n,e){n.g?n.g.add(e):n.h=e}function aS(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function cS(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Gu(n.i)}rS.prototype.cancel=function(){if(this.i=cS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var fV=class{stringify(n){return Ft.JSON.stringify(n,void 0)}parse(n){return Ft.JSON.parse(n,void 0)}};function yN(){this.g=new fV}function bN(n,e,t){const i=t||"";try{hE(n,function(r,s){let l=r;P_(r)&&(l=Fb(r)),e.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Kb(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function av(n){this.l=n.fc||null,this.j=n.ob||!1}function Yb(n,e){Ar.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Qb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yr(av,lE),av.prototype.g=function(){return new Yb(this.l,this.j)},av.prototype.i=function(n){return function(){return n}}({}),Yr(Yb,Ar);var Qb=0;function Ku(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function cv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Of(n)}function Of(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=Yb.prototype).open=function(n,e){if(this.readyState!=Qb)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Of(this)},Qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ft).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cv(this)),this.readyState=Qb},Qe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Of(this)),this.g&&(this.readyState=3,Of(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ft.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ku(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Qe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?cv(this):Of(this),3==this.readyState&&Ku(this)}},Qe.Za=function(n){this.g&&(this.response=this.responseText=n,cv(this))},Qe.Ya=function(n){this.g&&(this.response=n,cv(this))},Qe.ka=function(){this.g&&cv(this)},Qe.setRequestHeader=function(n,e){this.v.append(n,e)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Yb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var vl=Ft.JSON.parse;function Ai(n){Ar.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=lS,this.L=this.M=!1}Yr(Ai,Ar);var lS="",mV=/^https?$/i,Ji=["POST","PUT"];function Xb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,dS(n),Fp(n)}function dS(n){n.F||(n.F=!0,fr(n,"complete"),fr(n,"error"))}function uS(n){if(n.h&&typeof Kx<"u"&&(!n.C[1]||4!=_c(n)||2!=n.da()))if(n.v&&4==_c(n))jb(n.La,0,n);else if(fr(n,"readystatechange"),4==_c(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===l){var r=String(n.I).match(tv)[1]||null;!r&&Ft.self&&Ft.self.location&&(r=Ft.self.location.protocol.slice(0,-1)),i=!mV.test(r?r.toLowerCase():"")}t=i}if(t)fr(n,"complete"),fr(n,"success");else{n.m=6;try{var s=2<_c(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",dS(n)}}finally{Fp(n)}}}function Fp(n,e){if(n.g){pE(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||fr(n,"ready");try{t.onreadystatechange=i}catch{}}}function pE(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function _c(n){return n.g?n.g.readyState:0}function gE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case lS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function hS(n){let e="";return z_(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Ud(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=hS(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ri(n,e,t))}function Lp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _E(n){this.Ga=0,this.j=[],this.l=new Wu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Lp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Lp("baseRetryDelayMs",5e3,n),this.hb=Lp("retryDelaySeedMs",1e4,n),this.eb=Lp("forwardChannelMaxRetries",2,n),this.xa=Lp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new rS(n&&n.concurrentRequestLimit),this.Ja=new yN,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vE(n){if(yE(n),3==n.H){var e=n.W++,t=gl(n.I);if(ri(t,"SID",n.K),ri(t,"RID",e),ri(t,"TYPE","terminate"),hv(n,t),(e=new J_(n,n.l,e)).L=2,e.v=Ma(gl(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon)try{t=Ft.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=vS(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ev(e)}gS(n)}function lv(n){n.g&&(e0(n),n.g.cancel(),n.g=null)}function yE(n){lv(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),t0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function dv(n){if(!oS(n.i)&&!n.m){n.m=!0;var e=n.Na;Lb||oE(),Vb||(Lb(),Vb=!0),Bb.add(e,n),n.C=0}}function fS(n,e){var t;t=e?e.m:n.W++;const i=gl(n.I);ri(i,"SID",n.K),ri(i,"RID",t),ri(i,"AID",n.V),hv(n,i),n.o&&n.s&&Ud(i,n.o,n.s),t=new J_(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Jb(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Pp(n.i,t),uE(t,i,e)}function hv(n,e){n.na&&z_(n.na,function(t,i){ri(e,i,t)}),n.h&&hE({},function(t,i){ri(e,i,t)})}function Jb(n,e,t){t=Math.min(n.j.length,t);var i=n.h?go(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=r[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let f=!0;for(let p=0;p<t;p++){let y=r[p].g;const I=r[p].map;if(y-=s,0>y)s=Math.max(0,r[p].g-100),f=!1;else try{bN(I,l,"req"+y+"_")}catch{i&&i(I)}}if(f){i=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function mS(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Lb||oE(),Vb||(Lb(),Vb=!0),Bb.add(e,n),n.A=0}}function Vp(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Z_(go(n.Ma,n),Bp(n,n.A)),n.A++,0))}function e0(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function bE(n){n.g=new J_(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=gl(n.wa);ri(e,"RID","rpc"),ri(e,"SID",n.K),ri(e,"AID",n.V),ri(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ri(e,"TO",n.qa),ri(e,"TYPE","xmlhttp"),hv(n,e),n.o&&n.s&&Ud(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Ma(gl(e)),t.s=null,t.S=!0,qb(t,n)}function t0(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function pS(n,e){var t=null;if(n.g==e){t0(n),e0(n),n.g=null;var i=2}else{if(!sS(n.i,e))return;t=e.F,aS(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;fr(i=zb(),new ZD(i,t)),dv(n)}else mS(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function uv(n,e){return!(vN(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Z_(go(n.Na,n,e),Bp(n,n.C)),n.C++,0)))}(n,e)||2==i&&Vp(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Pf(n,5);break;case 4:Pf(n,10);break;case 3:Pf(n,6);break;default:Pf(n,2)}}function Bp(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Pf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=go(n.pb,n);t||(t=new Np("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||nv(t,"https"),Ma(t)),function wN(n,e){const t=new Wu;if(Ft.Image){const i=new Image;i.onload=L_(Kb,t,i,"TestLoadImage: loaded",!0,e),i.onerror=L_(Kb,t,i,"TestLoadImage: error",!1,e),i.onabort=L_(Kb,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=L_(Kb,t,i,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Bo(2);n.H=0,n.h&&n.h.za(e),gS(n),yE(n)}function gS(n){if(n.H=0,n.ma=[],n.h){const e=cS(n.i);(0!=e.length||0!=n.j.length)&&(Ap(n.ma,e),Ap(n.ma,n.j),n.i.i.length=0,Gu(n.j),n.j.length=0),n.h.ya()}}function _S(n,e,t){var i=t instanceof Np?gl(t):new Np(t);if(""!=i.g)e&&(i.g=e+"."+i.g),iv(i,i.m);else{var r=Ft.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Np(null);i&&nv(s,i),e&&(s.g=e),r&&iv(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&ri(i,t,e),ri(i,"VER",n.ra),hv(n,i),i}function vS(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ai(t&&n.Ha&&!n.va?new av({ob:!0}):n.va)).Oa(n.J),e}function yS(){}function n0(){if(U_&&!(10<=Number(eN)))throw Error("Environmental error: no available transport.")}function $s(n,e){Ar.call(this),this.g=new _E(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!V_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!V_(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Yu(this)}function bS(n){dE.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function wE(){YD.call(this),this.status=1}function Yu(n){this.g=n}function ps(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function xE(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],l=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;l=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(l<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((s=(e=t+((l=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=s+((l=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Zn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(Qe=Ai.prototype).Oa=function(n){this.M=n},Qe.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Q_.g(),this.C=function KD(n){return n.h||(n.h=n.i())}(this.u?this.u:Q_),this.g.onreadystatechange=go(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void Xb(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Ft.FormData&&n instanceof Ft.FormData,!(0<=SD(Ji,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of t)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pE(this),0<this.B&&((this.L=function xN(n){return U_&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=go(this.ua,this)):this.A=jb(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Xb(this,s)}},Qe.ua=function(){typeof Kx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fr(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fr(this,"complete"),fr(this,"abort"),Fp(this))},Qe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fp(this,!0)),Ai.$.N.call(this)},Qe.La=function(){this.s||(this.G||this.v||this.l?uS(this):this.kb())},Qe.kb=function(){uS(this)},Qe.isActive=function(){return!!this.g},Qe.da=function(){try{return 2<_c(this)?this.g.status:-1}catch{return-1}},Qe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Qe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),vl(e)}},Qe.Ia=function(){return this.m},Qe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=_E.prototype).ra=8,Qe.H=1,Qe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new J_(this,this.l,n);let s=this.s;if(this.U&&(s?(s=eE(s),OD(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Jb(this,r,e),ri(t=gl(this.I),"RID",n),ri(t,"CVER",22),this.F&&ri(t,"X-HTTP-Session-Id",this.F),hv(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(hS(s)))+"&"+e:this.o&&Ud(t,this.o,s)),Pp(this.i,r),this.bb&&ri(t,"TYPE","init"),this.P?(ri(t,"$req",e),ri(t,"SID","null"),r.aa=!0,uE(r,t,null)):uE(r,t,e),this.H=2}}else 3==this.H&&(n?fS(this,n):0==this.j.length||oS(this.i)||fS(this))},Qe.Ma=function(){if(this.u=null,bE(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Z_(go(this.jb,this),n)}},Qe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bo(10),lv(this),bE(this))},Qe.ib=function(){null!=this.v&&(this.v=null,lv(this),Vp(this),Bo(19))},Qe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Bo(2)):(this.l.info("Failed to ping google.com"),Bo(1))},Qe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Qe=yS.prototype).Ba=function(){},Qe.Aa=function(){},Qe.za=function(){},Qe.ya=function(){},Qe.isActive=function(){return!0},Qe.Va=function(){},n0.prototype.g=function(n,e){return new $s(n,e)},Yr($s,Ar),$s.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Bo(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=_S(n,null,n.Y),dv(n)},$s.prototype.close=function(){vE(this.g)},$s.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Fb(n),n=t);e.j.push(new gN(e.fb++,n)),3==e.H&&dv(e)},$s.prototype.N=function(){this.g.h=null,delete this.j,vE(this.g),delete this.g,$s.$.N.call(this)},Yr(bS,dE),Yr(wE,YD),Yr(Yu,yS),Yu.prototype.Ba=function(){fr(this.g,"a")},Yu.prototype.Aa=function(n){fr(this.g,new bS(n))},Yu.prototype.za=function(n){fr(this.g,new wE)},Yu.prototype.ya=function(){fr(this.g,"b")},Yr(ps,function CN(){this.blockSize=-1}),ps.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ps.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)xE(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){xE(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){xE(this,i),r=0;break}}this.h=r,this.i+=e},ps.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var IN={};function EE(n){return-128<=n&&128>n?function cV(n,e){var t=IN;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Zn([0|e],0>e?-1:0)}):new Zn([0|n],0>n?-1:0)}function yl(n){if(isNaN(n)||!isFinite(n))return Ff;if(0>n)return Vr(yl(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=CE;return new Zn(e,0)}var CE=4294967296,Ff=EE(0),r0=EE(1),xS=EE(16777216);function Qu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Gs(n){return-1==n.h}function Vr(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Zn(t,~n.h).add(r0)}function qs(n,e){return n.add(Vr(e))}function Xu(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function wi(n,e){this.g=n,this.h=e}function bl(n,e){if(Qu(e))throw Error("division by zero");if(Qu(n))return new wi(Ff,Ff);if(Gs(n))return e=bl(Vr(n),e),new wi(Vr(e.g),Vr(e.h));if(Gs(e))return e=bl(n,Vr(e)),new wi(Vr(e.g),e.h);if(30<n.g.length){if(Gs(n)||Gs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=r0,i=e;0>=i.X(n);)t=fv(t),i=fv(i);var r=Qr(t,1),s=Qr(i,1);for(i=Qr(i,2),t=Qr(t,2);!Qu(i);){var l=s.add(i);0>=l.X(n)&&(r=r.add(t),s=l),i=Qr(i,1),t=Qr(t,1)}return e=qs(n,r.R(e)),new wi(r,e)}for(r=Ff;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),l=(s=yl(t)).R(e);Gs(l)||0<l.X(n);)l=(s=yl(t-=i)).R(e);Qu(s)&&(s=r0),r=r.add(s),n=qs(n,l)}return new wi(r,n)}function fv(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Zn(t,n.h)}function Qr(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Zn(r,n.h)}(Qe=Zn.prototype).ea=function(){if(Gs(this))return-Vr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:CE+i)*e,e*=CE}return n},Qe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Qu(this))return"0";if(Gs(this))return"-"+Vr(this).toString(n);for(var e=yl(Math.pow(n,6)),t=this,i="";;){var r=bl(t,e).g,s=((0<(t=qs(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Qu(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},Qe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Qe.X=function(n){return Gs(n=qs(this,n))?-1:Qu(n)?0:1},Qe.abs=function(){return Gs(this)?Vr(this):this},Qe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),l=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,t[r]=(l&=65535)<<16|(s&=65535)}return new Zn(t,-2147483648&t[t.length-1]?-1:0)},Qe.R=function(n){if(Qu(this)||Qu(n))return Ff;if(Gs(this))return Gs(n)?Vr(this).R(Vr(n)):Vr(Vr(this).R(n));if(Gs(n))return Vr(this.R(Vr(n)));if(0>this.X(xS)&&0>n.X(xS))return yl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,l=65535&this.D(i),f=n.D(r)>>>16,p=65535&n.D(r);t[2*i+2*r]+=l*p,Xu(t,2*i+2*r),t[2*i+2*r+1]+=s*p,Xu(t,2*i+2*r+1),t[2*i+2*r+1]+=l*f,Xu(t,2*i+2*r+1),t[2*i+2*r+2]+=s*f,Xu(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Zn(t,0)},Qe.gb=function(n){return bl(this,n).h},Qe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Zn(t,this.h&n.h)},Qe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Zn(t,this.h|n.h)},Qe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Zn(t,this.h^n.h)},n0.prototype.createWebChannel=n0.prototype.g,$s.prototype.send=$s.prototype.u,$s.prototype.open=$s.prototype.m,$s.prototype.close=$s.prototype.close,K_.NO_ERROR=0,K_.TIMEOUT=8,K_.HTTP_ERROR=6,cE.COMPLETE="complete",ms.EventType=Y_,Y_.OPEN="a",Y_.CLOSE="b",Y_.ERROR="c",Y_.MESSAGE="d",Ar.prototype.listen=Ar.prototype.O,Ai.prototype.listenOnce=Ai.prototype.P,Ai.prototype.getLastError=Ai.prototype.Sa,Ai.prototype.getLastErrorCode=Ai.prototype.Ia,Ai.prototype.getStatus=Ai.prototype.da,Ai.prototype.getResponseJson=Ai.prototype.Wa,Ai.prototype.getResponseText=Ai.prototype.ja,Ai.prototype.send=Ai.prototype.ha,Ai.prototype.setWithCredentials=Ai.prototype.Oa,ps.prototype.digest=ps.prototype.l,ps.prototype.reset=ps.prototype.reset,ps.prototype.update=ps.prototype.j,Zn.prototype.add=Zn.prototype.add,Zn.prototype.multiply=Zn.prototype.R,Zn.prototype.modulo=Zn.prototype.gb,Zn.prototype.compare=Zn.prototype.X,Zn.prototype.toNumber=Zn.prototype.ea,Zn.prototype.toString=Zn.prototype.toString,Zn.prototype.getBits=Zn.prototype.D,Zn.fromNumber=yl,Zn.fromString=function wS(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Vr(wS(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=yl(Math.pow(e,8)),i=Ff,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+s),e);8>s?(s=yl(Math.pow(e,s)),i=i.R(s).add(yl(l))):i=(i=i.R(t)).add(yl(l))}return i};var IE=gc.createWebChannelTransport=function(){return new n0},Up=gc.getStatEventTarget=function(){return zb()},Ju=gc.ErrorCode=K_,jp=gc.EventType=cE,Hp=gc.Event=Vd,Lf=gc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zp=gc.FetchXmlHttpFactory=av,jd=gc.WebChannel=ms,$p=gc.XhrIo=Ai,Gp=gc.Md5=ps,Vf=gc.Integer=Zn;const TE="@firebase/firestore";class kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let Bf="9.23.0";const Hd=new Hs.Yd("@firebase/firestore");function o0(){return Hd.logLevel}function ke(n,...e){if(Hd.logLevel<=Hs.in.DEBUG){const t=e.map(wl);Hd.debug(`Firestore (${Bf}): ${n}`,...t)}}function Vi(n,...e){if(Hd.logLevel<=Hs.in.ERROR){const t=e.map(wl);Hd.error(`Firestore (${Bf}): ${n}`,...t)}}function Uo(n,...e){if(Hd.logLevel<=Hs.in.WARN){const t=e.map(wl);Hd.warn(`Firestore (${Bf}): ${n}`,...t)}}function wl(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function rt(n="Unexpected state"){const e=`FIRESTORE (${Bf}) INTERNAL ASSERTION FAILED: `+n;throw Vi(e),new Error(e)}function mt(n,e){n||rt()}function Ge(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends L.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class er{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class TN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kr.UNAUTHENTICATED))}shutdown(){}}class DN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class SN{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let l=new er;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new er,e.enqueueRetryable(()=>s(this.currentUser))};const f=()=>{const y=l;e.enqueueRetryable((0,he.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},p=y=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new er)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mt("string"==typeof i.accessToken),new TN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mt(null===e||"string"==typeof e),new kr(e)}}class CS{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class AN{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new CS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IS{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.T;return this.T=s.token,ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt("string"==typeof t.token),this.T=t.token,new mr(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function kN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class SE{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=kN(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Wt(n,e){return n<e?-1:n>e?1:0}function Uf(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function AE(n){return n+"\0"}class Kn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Te(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kn.fromMillis(Date.now())}static fromDate(e){return Kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Kn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Kn(0,0))}static max(){return new _t(new Kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class mv{constructor(e,t,i){void 0===t?t=0:t>e.length&&rt(),void 0===i?i=e.length-t:i>e.length-t&&rt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===mv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mv?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),l=t.get(r);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xn extends mv{construct(e,t,i){return new xn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Te(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new xn(t)}static emptyPath(){return new xn([])}}const MN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ki extends mv{construct(e,t,i){return new ki(e,t,i)}static isValidIdentifier(e){return MN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ki.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ki(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Te(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Te(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Te(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===f?(l=!l,r++):"."!==f||l?(i+=f,r++):(s(),r++)}if(s(),l)throw new Te(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ki(t)}static emptyPath(){return new ki([])}}class We{constructor(e){this.path=e}static fromPath(e){return new We(xn.fromString(e))}static fromName(e){return new We(xn.fromString(e).popFirst(5))}static empty(){return new We(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new xn(e.slice()))}}class qp{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function pv(n){return n.fields.find(e=>2===e.kind)}function zd(n){return n.fields.filter(e=>2!==e.kind)}qp.UNKNOWN_ID=-1;class Ws{constructor(e,t){this.fieldPath=e,this.kind=t}}class Wp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Wp(0,Mi.min())}}function vc(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=_t.fromTimestamp(1e9===i?new Kn(t+1,0):new Kn(t,i));return new Mi(r,We.empty(),e)}function Ra(n){return new Mi(n.readTime,n.key,-1)}class Mi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Mi(_t.min(),We.empty(),-1)}static max(){return new Mi(_t.max(),We.empty(),-1)}}function s0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=We.comparator(n.documentKey,e.documentKey),0!==t?t:Wt(n.largestBatchId,e.largestBatchId))}const ME="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function eh(n){return RE.apply(this,arguments)}function RE(){return RE=(0,he.Z)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==ME)throw n;ke("LocalStore","Unexpectedly lost primary lease")}),RE.apply(this,arguments)}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,i)=>{t(e)})}static reject(e){return new ne((t,i)=>{i(e)})}static waitFor(e){return new ne((t,i)=>{let r=0,s=0,l=!1;e.forEach(f=>{++r,f.next(()=>{++s,l&&s===r&&t()},p=>i(p))}),l=!0,s===r&&t()})}static or(e){let t=ne.resolve(!1);for(const i of e)t=t.next(r=>r?ne.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new ne((i,r)=>{const s=e.length,l=new Array(s);let f=0;for(let p=0;p<s;p++){const y=p;t(e[y]).next(I=>{l[y]=I,++f,f===s&&i(l)},I=>r(I))}})}static doWhile(e,t){return new ne((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class Zp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new er,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Kp(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=Yp(i.target.error);this.v.reject(new Kp(e,r))}}static open(e,t,i,r){try{return new Zp(t,e.transaction(r,i))}catch(s){throw new Kp(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ON(t)}}class jo{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===jo.S((0,L.z$)())&&Vi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),nh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,L.hl)())return!1;if(jo.C())return!0;const e=(0,L.z$)(),t=jo.S(e),i=0<t&&t<10,r=jo.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,he.Z)(function*(){return t.db||(ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=l=>{i(l.target.result)},s.onblocked=()=>{r(new Kp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const f=l.target.error;r("VersionError"===f.name?new Te(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Te(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Kp(e,f))},s.onupgradeneeded=l=>{ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,s.transaction,l.oldVersion,t.version).next(()=>{ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,he.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{s.db=yield s.$(e);const p=Zp.open(s.db,e,l?"readonly":"readwrite",i),y=r(p).next(I=>(p.P(),I)).catch(I=>(p.abort(I),ne.reject(I))).toPromise();return y.catch(()=>{}),yield p.R,y}catch(p){const y=p,I="FirebaseError"!==y.name&&f<3;if(ke("SimpleDb","Transaction failed with error:",y.message,"Retrying:",I),s.close(),!I)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class NN{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return nh(this.L.delete())}}class Kp extends Te{constructor(e,t){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function th(n){return"IndexedDbTransactionError"===n.name}class ON{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(ke("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),nh(i)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),nh(this.store.add(e))}get(e){return nh(this.store.get(e)).next(t=>(void 0===t&&(t=null),ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),nh(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),nh(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(l,f)=>{s.push(f)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ne((s,l)=>{r.onerror=f=>{l(f.target.error)},r.onsuccess=f=>{s(f.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ne((r,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}J(e,t){ke("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,l,f)=>f.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new ne((i,r)=>{t.onerror=s=>{const l=Yp(s.target.error);r(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():i()}):i()}})}W(e,t){const i=[];return new ne((r,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void r();const p=new NN(f),y=t(f.primaryKey,f.value,p);if(y instanceof ne){const I=y.catch(D=>(p.done(),ne.reject(D)));i.push(I)}p.isDone?r():null===p.K?f.continue():f.continue(p.K)}}).next(()=>ne.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function nh(n){return new ne((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Yp(i.target.error);t(r)}})}let NE=!1;function Yp(n){const e=jo.S((0,L.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return NE||(NE=!0,setTimeout(()=>{throw i},0)),i}}return n}class PN{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,he.Z)(function*(){t.task=null;try{ke("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){th(i)?ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield eh(i)}yield t.et(6e4)}))}}class DS{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,he.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,s=!0;return ne.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!i.has(l))return ke("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,r).next(f=>{r-=f,i.add(l)});s=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(r,s)).next(f=>(ke("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,s)=>{const l=Ra(s);s0(l,i)>0&&(i=l)}),new Mi(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Zs=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function gv(n){return null==n}function _v(n){return 0===n&&1/n==-1/0}function SS(n){return"number"==typeof n&&Number.isInteger(n)&&!_v(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function vo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AS(e)),e=FN(n.get(t),e);return AS(e)}function FN(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function AS(n){return n+"\x01\x01"}function xl(n){const e=n.length;if(mt(e>=2),2===e)return mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),xn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const l=n.indexOf("\x01",s);switch((l<0||l>t)&&rt(),n.charAt(l+1)){case"\x01":const f=n.substring(s,l);let p;0===r.length?p=f:(r+=f,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,l),r+="\0";break;case"\x11":r+=n.substring(s,l+1);break;default:rt()}s=l+2}return new xn(i)}const kS=["userId","batchId"];function a0(n,e){return[n,vo(e)]}function c0(n,e,t){return[n,vo(e),t]}const LN={},_V=["prefixPath","collectionGroup","readTime","documentId"],vV=["prefixPath","collectionGroup","documentId"],VN=["collectionGroup","readTime","prefixPath","documentId"],BN=["canonicalId","targetId"],yV=["targetId","path"],UN=["path","targetId"],bV=["collectionId","parent"],jN=["indexId","uid"],HN=["uid","sequenceNumber"],zN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],OE=["indexId","uid","orderedDocumentKey"],vv=["userId","collectionPath","documentId"],PE=["userId","collectionPath","largestBatchId"],l0=["userId","collectionGroup","largestBatchId"],FE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yv=[...FE,"documentOverlays"],LE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],MS=LE,bv=[...MS,"indexConfiguration","indexState","indexEntries"];class d0 extends TS{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Br(n,e){const t=Ge(n);return jo.M(t.ht,e)}function VE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function RS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class li{constructor(e,t){this.comparator=e,this.root=t||Xr.EMPTY}insert(e,t){return new li(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new li(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new u0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new u0(this.root,e,this.comparator,!1)}getReverseIterator(){return new u0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new u0(this.root,e,this.comparator,!0)}}class u0{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Xr.RED,this.left=r??Xr.EMPTY,this.right=s??Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Xr(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Xr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rt();const e=this.left.check();if(e!==this.right.check())throw rt();return e+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1,Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt()}get value(){throw rt()}get color(){throw rt()}get left(){throw rt()}get right(){throw rt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Xr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mi{constructor(e){this.comparator=e,this.data=new li(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(e){return new h0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof mi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mi(this.comparator);return t.data=e,t}}class h0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function El(n){return n.hasNext()?n.getNext():void 0}class Jr{constructor(e){this.fields=e,e.sort(ki.comparator)}static empty(){return new Jr([])}unionWith(e){let t=new mi(ki.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Jr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class wv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new wv("Invalid base64 string: "+r):r}}(e);return new Mr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Mr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mr.EMPTY_BYTE_STRING=new Mr("");const $N=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cl(n){if(mt(!!n),"string"==typeof n){let e=0;const t=$N.exec(n);if(mt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Bi(n.seconds),nanos:Bi(n.nanos)}}function Bi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Il(n){return"string"==typeof n?Mr.fromBase64String(n):Mr.fromUint8Array(n)}function f0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function m0(n){const e=n.mapValue.fields.__previous_value__;return f0(e)?m0(e):e}function Qp(n){const e=Cl(n.mapValue.fields.__local_write_time__.timestampValue);return new Kn(e.seconds,e.nanos)}class GN{constructor(e,t,i,r,s,l,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class ih{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ih("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ih&&e.projectId===this.projectId&&e.database===this.database}}const Ks={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},p0={nullValue:"NULL_VALUE"};function Tl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?f0(n)?4:UE(n)?9007199254740991:10:rt()}function Dl(n,e){if(n===e)return!0;const t=Tl(n);if(t!==Tl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qp(n).isEqual(Qp(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Cl(i.timestampValue),l=Cl(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Il(n.bytesValue).isEqual(Il(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Bi(i.geoPointValue.latitude)===Bi(r.geoPointValue.latitude)&&Bi(i.geoPointValue.longitude)===Bi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Bi(i.integerValue)===Bi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Bi(i.doubleValue),l=Bi(r.doubleValue);return s===l?_v(s)===_v(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return Uf(n.arrayValue.values||[],e.arrayValue.values||[],Dl);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(VE(s)!==VE(l))return!1;for(const f in s)if(s.hasOwnProperty(f)&&(void 0===l[f]||!Dl(s[f],l[f])))return!1;return!0}(n,e);default:return rt()}var r}function jf(n,e){return void 0!==(n.values||[]).find(t=>Dl(t,e))}function $d(n,e){if(n===e)return 0;const t=Tl(n),i=Tl(e);if(t!==i)return Wt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const l=Bi(r.integerValue||r.doubleValue),f=Bi(s.integerValue||s.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return BE(n.timestampValue,e.timestampValue);case 4:return BE(Qp(n),Qp(e));case 5:return Wt(n.stringValue,e.stringValue);case 6:return function(r,s){const l=Il(r),f=Il(s);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const l=r.split("/"),f=s.split("/");for(let p=0;p<l.length&&p<f.length;p++){const y=Wt(l[p],f[p]);if(0!==y)return y}return Wt(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const l=Wt(Bi(r.latitude),Bi(s.latitude));return 0!==l?l:Wt(Bi(r.longitude),Bi(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const l=r.values||[],f=s.values||[];for(let p=0;p<l.length&&p<f.length;++p){const y=$d(l[p],f[p]);if(y)return y}return Wt(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Ks.mapValue&&s===Ks.mapValue)return 0;if(r===Ks.mapValue)return 1;if(s===Ks.mapValue)return-1;const l=r.fields||{},f=Object.keys(l),p=s.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let I=0;I<f.length&&I<y.length;++I){const D=Wt(f[I],y[I]);if(0!==D)return D;const M=$d(l[f[I]],p[y[I]]);if(0!==M)return M}return Wt(f.length,y.length)}(n.mapValue,e.mapValue);default:throw rt()}}function BE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Wt(n,e);const t=Cl(n),i=Cl(e),r=Wt(t.seconds,i.seconds);return 0!==r?r:Wt(t.nanos,i.nanos)}function Hf(n){return zf(n)}function zf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Cl(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Il(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=zf(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const f of r)l?l=!1:s+=",",s+=`${f}:${zf(i.fields[f])}`;return s+"}"}(n.mapValue):rt();var e}function Na(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $f(n){return!!n&&"integerValue"in n}function Gf(n){return!!n&&"arrayValue"in n}function Ev(n){return!!n&&"nullValue"in n}function NS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function g0(n){return!!n&&"mapValue"in n}function Xp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return yc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Xp(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function UE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function jE(n){return"nullValue"in n?p0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Na(ih.empty(),We.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:rt()}function OS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Na(ih.empty(),We.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ks:rt()}function PS(n,e){const t=$d(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function HE(n,e){const t=$d(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Rr{constructor(e){this.value=e}static empty(){return new Rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!g0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xp(t)}setAll(e){let t=ki.emptyPath(),i={},r=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=f.popLast()}l?i[f.lastSegment()]=Xp(l):r.push(f.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());g0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];g0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){yc(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Rr(Xp(this.value))}}function zE(n){const e=[];return yc(n.fields,(t,i)=>{const r=new ki([t]);if(g0(i)){const s=zE(i.mapValue).fields;if(0===s.length)e.push(r);else for(const l of s)e.push(r.child(l))}else e.push(r)}),new Jr(e)}class di{constructor(e,t,i,r,s,l,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=l,this.documentState=f}static newInvalidDocument(e){return new di(e,0,_t.min(),_t.min(),_t.min(),Rr.empty(),0)}static newFoundDocument(e,t,i,r){return new di(e,1,t,_t.min(),i,r,0)}static newNoDocument(e,t){return new di(e,2,t,_t.min(),_t.min(),Rr.empty(),0)}static newUnknownDocument(e,t){return new di(e,3,t,_t.min(),_t.min(),Rr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(e,t){this.position=e,this.inclusive=t}}function FS(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],l=n.position[r];if(i=s.field.isKeyField()?We.comparator(We.fromName(l.referenceValue),t.key):$d(l,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function LS(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Dl(n.position[t],e.position[t]))return!1;return!0}class Jp{constructor(e,t="asc"){this.field=e,this.dir=t}}function eg(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class $E{}class hn extends $E{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new qN(e,t,i):"array-contains"===t?new ZE(e,i):"in"===t?new Ui(e,i):"not-in"===t?new zS(e,i):"array-contains-any"===t?new ZN(e,i):new hn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new WE(e,i):new WN(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($d(t,this.value)):null!==t&&Tl(this.value)===Tl(t)&&this.matchesComparison($d(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Yn extends $E{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Yn(e,t)}matches(e){return tg(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function tg(n){return"and"===n.op}function _0(n){return"or"===n.op}function GE(n){return VS(n)&&tg(n)}function VS(n){for(const e of n.filters)if(e instanceof Yn)return!1;return!0}function qE(n){if(n instanceof hn)return n.field.canonicalString()+n.op.toString()+Hf(n.value);if(GE(n))return n.filters.map(e=>qE(e)).join(",");{const e=n.filters.map(t=>qE(t)).join(",");return`${n.op}(${e})`}}function BS(n,e){return n instanceof hn?(t=n,(i=e)instanceof hn&&t.op===i.op&&t.field.isEqual(i.field)&&Dl(t.value,i.value)):n instanceof Yn?function(t,i){return i instanceof Yn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,l)=>r&&BS(s,i.filters[l]),!0)}(n,e):void rt();var t,i}function US(n,e){const t=n.filters.concat(e);return Yn.create(t,n.op)}function jS(n){return n instanceof hn?`${(e=n).field.canonicalString()} ${e.op} ${Hf(e.value)}`:n instanceof Yn?function(e){return e.op.toString()+" {"+e.getFilters().map(jS).join(" ,")+"}"}(n):"Filter";var e}class qN extends hn{constructor(e,t,i){super(e,t,i),this.key=We.fromName(i.referenceValue)}matches(e){const t=We.comparator(e.key,this.key);return this.matchesComparison(t)}}class WE extends hn{constructor(e,t){super(e,"in",t),this.keys=HS(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class WN extends hn{constructor(e,t){super(e,"not-in",t),this.keys=HS(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HS(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>We.fromName(i.referenceValue))}class ZE extends hn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gf(t)&&jf(t.arrayValue,this.value)}}class Ui extends hn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&jf(this.value.arrayValue,t)}}class zS extends hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!jf(this.value.arrayValue,t)}}class ZN extends hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>jf(this.value.arrayValue,i))}}class pr{constructor(e,t=null,i=[],r=[],s=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=f,this.dt=null}}function qf(n,e=null,t=[],i=[],r=null,s=null,l=null){return new pr(n,e,t,i,r,s,l)}function Oa(n){const e=Ge(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>qE(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),gv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Hf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Hf(i)).join(",")),e.dt=t}return e.dt}function oh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!eg(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!BS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!LS(n.startAt,e.startAt)&&LS(n.endAt,e.endAt)}function sh(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Wf(n,e){return n.filters.filter(t=>t instanceof hn&&t.field.isEqual(e))}function KE(n,e,t){let i=p0,r=!0;for(const s of Wf(n,e)){let l=p0,f=!0;switch(s.op){case"<":case"<=":l=jE(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,f=!1;break;case"!=":case"not-in":l=p0}PS({value:i,inclusive:r},{value:l,inclusive:f})<0&&(i=l,r=f)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];PS({value:i,inclusive:r},{value:l,inclusive:t.inclusive})<0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}function YE(n,e,t){let i=Ks,r=!0;for(const s of Wf(n,e)){let l=Ks,f=!0;switch(s.op){case">=":case">":l=OS(s.value),f=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,f=!1;break;case"!=":case"not-in":l=Ks}HE({value:i,inclusive:r},{value:l,inclusive:f})>0&&(i=l,r=f)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];HE({value:i,inclusive:r},{value:l,inclusive:t.inclusive})>0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}class Sl{constructor(e,t=null,i=[],r=[],s=null,l="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=f,this.endAt=p,this.wt=null,this._t=null}}function Cv(n,e,t,i,r,s,l,f){return new Sl(n,e,t,i,r,s,l,f)}function ah(n){return new Sl(n)}function QE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ng(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Al(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function XE(n){return null!==n.collectionGroup}function Ur(n){const e=Ge(n);if(null===e.wt){e.wt=[];const t=Al(e),i=ng(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Jp(t)),e.wt.push(new Jp(ki.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Jp(ki.keyField(),s))}}}return e.wt}function Ho(n){const e=Ge(n);if(!e._t)if("F"===e.limitType)e._t=qf(e.path,e.collectionGroup,Ur(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Ur(e))t.push(new Jp(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new rh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new rh(e.startAt.position,e.startAt.inclusive):null;e._t=qf(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function JE(n,e){e.getFirstInequalityField(),Al(n);const t=n.filters.concat([e]);return new Sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ig(n,e,t){return new Sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rg(n,e){return oh(Ho(n),Ho(e))&&n.limitType===e.limitType}function eC(n){return`${Oa(Ho(n))}|lt:${n.limitType}`}function tC(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>jS(i)).join(", ")}]`),gv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Hf(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Hf(i)).join(",")),`Target(${t})`}(Ho(n))}; limitType=${n.limitType})`}function v0(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):We.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Ur(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,l){const f=FS(r,s,l);return r.inclusive?f<=0:f<0}(t.startAt,Ur(t),i)||t.endAt&&!function(r,s,l){const f=FS(r,s,l);return r.inclusive?f>=0:f>0}(t.endAt,Ur(t),i)));var t,i}function $S(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Iv(n){return(e,t)=>{let i=!1;for(const r of Ur(n)){const s=nC(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function nC(n,e,t){const i=n.field.isKeyField()?We.comparator(e.key,t.key):function(r,s,l){const f=s.data.field(r),p=l.data.field(r);return null!==f&&null!==p?$d(f,p):rt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return rt()}}class bc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yc(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return RS(this.inner)}size(){return this.innerSize}}const og=new li(We.comparator);function zo(){return og}const iC=new li(We.comparator);function kl(...n){let e=iC;for(const t of n)e=e.insert(t.key,t);return e}function y0(n){let e=iC;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Pa(){return sg()}function rC(){return sg()}function sg(){return new bc(n=>n.toString(),(n,e)=>n.isEqual(e))}const GS=new li(We.comparator),KN=new mi(We.comparator);function nn(...n){let e=KN;for(const t of n)e=e.add(t);return e}const ag=new mi(Wt);function b0(){return ag}function qS(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_v(e)?"-0":e}}function WS(n){return{integerValue:""+n}}function ZS(n,e){return SS(e)?WS(e):qS(n,e)}class Tv{constructor(){this._=void 0}}function KS(n,e,t){return n instanceof cg?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&f0(r)&&(r=m0(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof ch?w0(n,e):n instanceof Zf?YS(n,e):function(i,r){const s=QN(i,r),l=QS(s)+QS(i.gt);return $f(s)&&$f(i.gt)?WS(l):qS(i.serializer,l)}(n,e)}function YN(n,e,t){return n instanceof ch?w0(n,e):n instanceof Zf?YS(n,e):t}function QN(n,e){return n instanceof lg?$f(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class cg extends Tv{}class ch extends Tv{constructor(e){super(),this.elements=e}}function w0(n,e){const t=XS(e);for(const i of n.elements)t.some(r=>Dl(r,i))||t.push(i);return{arrayValue:{values:t}}}class Zf extends Tv{constructor(e){super(),this.elements=e}}function YS(n,e){let t=XS(e);for(const i of n.elements)t=t.filter(r=>!Dl(r,i));return{arrayValue:{values:t}}}class lg extends Tv{constructor(e,t){super(),this.serializer=e,this.gt=t}}function QS(n){return Bi(n.integerValue||n.doubleValue)}function XS(n){return Gf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Dv{constructor(e,t){this.field=e,this.transform=t}}class JN{constructor(e,t){this.version=e,this.transformResults=t}}class xi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function x0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class E0{}function JS(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Yf(n.key,xi.none()):new Kf(n.key,n.data,xi.none());{const t=n.data,i=Rr.empty();let r=new mi(ki.comparator);for(let s of e.fields)if(!r.has(s)){let l=t.field(s);null===l&&s.length>1&&(s=s.popLast(),l=t.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new Ml(n.key,i,new Jr(r.toArray()),xi.none())}}function eO(n,e,t){n instanceof Kf?function(i,r,s){const l=i.value.clone(),f=oC(i.fieldTransforms,r,s.transformResults);l.setAll(f),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Ml?function(i,r,s){if(!x0(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=oC(i.fieldTransforms,r,s.transformResults),f=r.data;f.setAll(Gd(i)),f.setAll(l),r.convertToFoundDocument(s.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Sv(n,e,t,i){return n instanceof Kf?function(r,s,l,f){if(!x0(r.precondition,s))return l;const p=r.value.clone(),y=tA(r.fieldTransforms,f,s);return p.setAll(y),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ml?function(r,s,l,f){if(!x0(r.precondition,s))return l;const p=tA(r.fieldTransforms,f,s),y=s.data;return y.setAll(Gd(r)),y.setAll(p),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,e,t,i):(l=t,x0(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function tO(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=QN(i.transform,r||null);null!=s&&(null===t&&(t=Rr.empty()),t.set(i.field,s))}return t||null}function eA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Uf(t,i,(r,s)=>function XN(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof ch&&i instanceof ch||t instanceof Zf&&i instanceof Zf?Uf(t.elements,i.elements,Dl):t instanceof lg&&i instanceof lg?Dl(t.gt,i.gt):t instanceof cg&&i instanceof cg);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Kf extends E0{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ml extends E0{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Gd(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function oC(n,e,t){const i=new Map;mt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],l=s.transform,f=e.data.field(s.field);i.set(s.field,YN(l,f,t[r]))}return i}function tA(n,e,t){const i=new Map;for(const r of n){const s=r.transform,l=t.data.field(r.field);i.set(r.field,KS(s,l,e))}return i}class Yf extends E0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C0 extends E0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Qf{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&eO(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Sv(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Sv(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=rC();return this.mutations.forEach(r=>{const s=e.get(r.key),l=s.overlayedDocument;let f=this.applyToLocalView(l,s.mutatedFields);f=t.has(r.key)?null:f;const p=JS(l,f);null!==p&&i.set(r.key,p),l.isValidDocument()||l.convertToNoDocument(_t.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nn())}isEqual(e){return this.batchId===e.batchId&&Uf(this.mutations,e.mutations,(t,i)=>eA(t,i))&&Uf(this.baseMutations,e.baseMutations,(t,i)=>eA(t,i))}}class Av{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){mt(e.mutations.length===i.length);let r=GS;const s=e.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new Av(e,t,i,r)}}class lh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dg{constructor(e,t){this.count=e,this.unchangedNames=t}}var gr,fn;function kv(n){switch(n){default:return rt();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function I0(n){if(void 0===n)return Vi("GRPC error has no .code"),ae.UNKNOWN;switch(n){case gr.OK:return ae.OK;case gr.CANCELLED:return ae.CANCELLED;case gr.UNKNOWN:return ae.UNKNOWN;case gr.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case gr.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case gr.INTERNAL:return ae.INTERNAL;case gr.UNAVAILABLE:return ae.UNAVAILABLE;case gr.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case gr.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case gr.NOT_FOUND:return ae.NOT_FOUND;case gr.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case gr.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case gr.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case gr.ABORTED:return ae.ABORTED;case gr.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case gr.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case gr.DATA_LOSS:return ae.DATA_LOSS;default:return rt()}}(fn=gr||(gr={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";class T0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return D0}static getOrCreateInstance(){return null===D0&&(D0=new T0),D0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let D0=null;function iA(){return new TextEncoder}const nO=new Vf([4294967295,4294967295],0);function S0(n){const e=iA().encode(n),t=new Gp;return t.update(e),new Uint8Array(t.digest())}function A0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vf([t,i],0),new Vf([r,s],0)]}class k0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ug(`Invalid padding: ${t}`);if(i<0)throw new ug(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new ug(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new ug(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Vf.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(Vf.fromNumber(i)));return 1===r.compare(nO)&&(r=new Vf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=S0(e),[i,r]=A0(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);if(!this.At(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new k0(s,r,t);return i.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=S0(e),[i,r]=A0(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ug extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mv{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Rv.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Mv(_t.min(),r,new li(Wt),zo(),nn())}}class Rv{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Rv(i,t,nn(),nn(),nn())}}class Nv{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class M0{constructor(e,t){this.targetId=e,this.Vt=t}}class sC{constructor(e,t,i=Mr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class dh{constructor(){this.St=0,this.Dt=Xf(),this.Ct=Mr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=nn(),t=nn(),i=nn();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:rt()}}),new Rv(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=Xf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class iO{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=zo(),this.zt=rA(),this.Wt=new li(Wt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const l=s.target;if(sh(l))if(0===r){const f=new We(l.path);this.Yt(i,f,di.newNoDocument(f,_t.min()))}else mt(1===r);else{const f=this.ie(i);if(f!==r){const p=this.re(e,f);0!==p&&(this.ee(i),this.Wt=this.Wt.insert(i,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=T0.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(y,I,D){var M,F,V,U,X,fe;const Ne={localCacheCount:I,existenceFilterCount:D.count},Ie=D.unchangedNames;return Ie&&(Ne.bloomFilter={applied:0===y,hashCount:null!==(M=Ie?.hashCount)&&void 0!==M?M:0,bitmapLength:null!==(U=null===(V=null===(F=Ie?.bits)||void 0===F?void 0:F.bitmap)||void 0===V?void 0:V.length)&&void 0!==U?U:0,padding:null!==(fe=null===(X=Ie?.bits)||void 0===X?void 0:X.padding)&&void 0!==fe?fe:0}),Ne}(p,f,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:l=0},hashCount:f=0}=i;let p,y;try{p=Il(s).toUint8Array()}catch(I){if(I instanceof wv)return Uo("Decoding the base64 bloom filter in existence filter failed ("+I.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw I}try{y=new k0(p,l,f)}catch(I){return Uo(I instanceof ug?"BloomFilter error: ":"Applying bloom filter failed: ",I),1}return 0===y.It?1:r!==t-this.oe(e.targetId,y)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;t.vt(f)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,l)=>{const f=this.se(l);if(f){if(s.current&&sh(f.target)){const p=new We(f.target.path);null!==this.jt.get(p)||this.ae(l,p)||this.Yt(l,p,di.newNoDocument(p,e))}s.Mt&&(t.set(l,s.Ot()),s.Ft())}});let i=nn();this.zt.forEach((s,l)=>{let f=!0;l.forEachWhile(p=>{const y=this.se(p);return!y||"TargetPurposeLimboResolution"===y.purpose||(f=!1,!1)}),f&&(i=i.add(s))}),this.jt.forEach((s,l)=>l.setReadTime(e));const r=new Mv(e,t,this.Wt,this.jt,i);return this.jt=zo(),this.zt=rA(),this.Wt=new li(Wt),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new dh,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new mi(Wt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new dh),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function rA(){return new li(We.comparator)}function Xf(){return new li(We.comparator)}const xV={asc:"ASCENDING",desc:"DESCENDING"},aC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EV={and:"AND",or:"OR"};class oA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function R0(n,e){return n.useProto3Json||gv(e)?e:{value:e}}function Ov(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jf(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rO(n,e){return Ov(n,e.toTimestamp())}function tr(n){return mt(!!n),_t.fromTimestamp(function(e){const t=Cl(e);return new Kn(t.seconds,t.nanos)}(n))}function cC(n,e){return(t=n,new xn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function em(n){const e=xn.fromString(n);return mt(mA(e)),e}function Pv(n,e){return cC(n.databaseId,e.path)}function Ys(n,e){const t=em(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new We(lC(t))}function hg(n,e){return cC(n.databaseId,e)}function $o(n){const e=em(n);return 4===e.length?xn.emptyPath():lC(e)}function fg(n){return new xn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lC(n){return mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function sA(n,e,t){return{name:Pv(n,e),fields:t.value.mapValue.fields}}function dC(n,e,t){const i=Ys(n,e.name),r=tr(e.updateTime),s=e.createTime?tr(e.createTime):_t.min(),l=new Rr({mapValue:{fields:e.fields}}),f=di.newFoundDocument(i,r,s,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function mg(n,e){let t;if(e instanceof Kf)t={update:sA(n,e.key,e.value)};else if(e instanceof Yf)t={delete:Pv(n,e.key)};else if(e instanceof Ml)t={update:sA(n,e.key,e.data),updateMask:Fv(e.fieldMask)};else{if(!(e instanceof C0))return rt();t={verify:Pv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof cg)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ch)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Zf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof lg)return{fieldPath:s.field.canonicalString(),increment:l.gt};throw rt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:rO(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:rt()),t;var r}function uC(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?xi.updateTime(tr(r.updateTime)):void 0!==r.exists?xi.exists(r.exists):xi.none():xi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,l){let f=null;"setToServerValue"in l?(mt("REQUEST_TIME"===l.setToServerValue),f=new cg):"appendMissingElements"in l?f=new ch(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new Zf(l.removeAllFromArray.values||[]):"increment"in l?f=new lg(s,l.increment):rt();const p=ki.fromServerFormat(l.fieldPath);return new Dv(p,f)}(n,r)):[];var r;if(e.update){const r=Ys(n,e.update.name),s=new Rr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Jr((e.updateMask.fieldPaths||[]).map(y=>ki.fromServerFormat(y)));return new Ml(r,s,l,t,i)}return new Kf(r,s,t,i)}if(e.delete){const r=Ys(n,e.delete);return new Yf(r,t)}if(e.verify){const r=Ys(n,e.verify);return new C0(r,t)}return rt()}function lA(n,e){return{documents:[hg(n,e.path)]}}function tm(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=hg(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=hg(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0!==p.length)return gg(Yn.create(p,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(y=>{return{field:qd((I=y).field),direction:N0(I.dir)};var I})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=R0(n,e.limit);var f,p;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function dA(n){let e=$o(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){mt(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let s=[];t.where&&(s=function(I){const D=uA(I);return D instanceof Yn&&GE(D)?D.getFilters():[D]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(I=>{return new Jp(pg((D=I).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let f=null;t.limit&&(f=function(I){let D;return D="object"==typeof I?I.value:I,gv(D)?null:D}(t.limit));let p=null;var I;t.startAt&&(p=new rh((I=t.startAt).values||[],!!I.before));let y=null;return t.endAt&&(y=function(I){return new rh(I.values||[],!I.before)}(t.endAt)),Cv(e,r,l,s,f,"F",p,y)}function uA(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=pg(e.unaryFilter.field);return hn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=pg(e.unaryFilter.field);return hn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=pg(e.unaryFilter.field);return hn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=pg(e.unaryFilter.field);return hn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return rt()}}(n):void 0!==n.fieldFilter?hn.create(pg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Yn.create(e.compositeFilter.filters.map(t=>uA(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rt()}}(e.compositeFilter.op))}(n):rt();var e}function N0(n){return xV[n]}function hA(n){return aC[n]}function fA(n){return EV[n]}function qd(n){return{fieldPath:n.canonicalString()}}function pg(n){return ki.fromServerFormat(n.fieldPath)}function gg(n){return n instanceof hn?function(e){if("=="===e.op){if(NS(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NAN"}};if(Ev(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(NS(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NOT_NAN"}};if(Ev(e.value))return{unaryFilter:{field:qd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qd(e.field),op:hA(e.op),value:e.value}}}(n):n instanceof Yn?function(e){const t=e.getFilters().map(i=>gg(i));return 1===t.length?t[0]:{compositeFilter:{op:fA(e.op),filters:t}}}(n):rt()}function Fv(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mA(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Wd{constructor(e,t,i,r,s=_t.min(),l=_t.min(),f=Mr.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Wd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pA{constructor(e){this.fe=e}}function hC(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Lv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Pv(r=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Ov(r,s.version.toTimestamp()),createTime:Ov(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:nm(e.version)};else{if(!e.isUnknownDocument())return rt();i.unknownDocument={path:t.path.toArray(),version:nm(e.version)}}var r,s;return i}function Lv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function nm(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function uh(n){const e=new Kn(n.seconds,n.nanoseconds);return _t.fromTimestamp(e)}function im(n,e){const t=(e.baseMutations||[]).map(s=>uC(n.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>uC(n.fe,s)),r=Kn.fromMillis(e.localWriteTimeMs);return new Qf(e.batchId,r,t,i)}function Vv(n){const e=uh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?uh(n.lastLimboFreeSnapshotVersion):_t.min();let i;var r;return void 0!==n.query.documents?(mt(1===(r=n.query).documents.length),i=Ho(ah($o(r.documents[0])))):i=Ho(dA(n.query)),new Wd(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Mr.fromBase64String(n.resumeToken))}function aO(n,e){const t=nm(e.snapshotVersion),i=nm(e.lastLimboFreeSnapshotVersion);let r;r=sh(e.target)?lA(n.fe,e.target):tm(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oa(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function _A(n){const e=dA({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ig(e,e.limit,"L"):e}function vA(n,e){return new lh(e.largestBatchId,uC(n.fe,e.overlayMutation))}function cO(n,e){const t=e.path.lastSegment();return[n,vo(e.path.popLast()),t]}function fC(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:nm(i.readTime),documentKey:vo(i.documentKey.path),largestBatchId:i.largestBatchId}}class O0{getBundleMetadata(e,t){return yA(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:uh(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return yA(e).put({bundleId:(i=t).id,createTime:nm(tr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return bA(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:_A(r.bundledQuery),readTime:uh(r.readTime)};var r})}saveNamedQuery(e,t){return bA(e).put({name:(i=t).name,readTime:nm(tr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function yA(n){return Br(n,"bundles")}function bA(n){return Br(n,"namedQueries")}class Bv{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Bv(e,t.uid||"")}getOverlay(e,t){return Zd(e).get(cO(this.userId,t)).next(i=>i?vA(this.serializer,i):null)}getOverlays(e,t){const i=Pa();return ne.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,l)=>{const f=new lh(t,l);r.push(this.we(e,f))}),ne.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(l=>r.add(vo(l.getCollectionPath())));const s=[];return r.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(Zd(e).J("collectionPathOverlayIndex",f))}),ne.waitFor(s)}getOverlaysForCollection(e,t,i){const r=Pa(),s=vo(t),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Zd(e).j("collectionPathOverlayIndex",l).next(f=>{for(const p of f){const y=vA(this.serializer,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=Pa();let l;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Zd(e).X({index:"collectionGroupOverlayIndex",range:f},(p,y,I)=>{const D=vA(this.serializer,y);s.size()<r||D.largestBatchId===l?(s.set(D.getKey(),D),l=D.largestBatchId):I.done()}).next(()=>s)}we(e,t){return Zd(e).put(function(i,r,s){const[l,f,p]=cO(r,s.mutation.key);return{userId:r,collectionPath:f,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:mg(i.fe,s.mutation)}}(this.serializer,this.userId,t))}}function Zd(n){return Br(n,"documentOverlays")}class rm{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Bi(e.integerValue));else if("doubleValue"in e){const i=Bi(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),_v(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Il(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?UE(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):rt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),We.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function lO(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function wA(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=lO(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}rm.Ve=new rm;class dO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=wA(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=wA(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class CV{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class uO{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class _g{constructor(){this.je=new dO,this.ze=new CV(this.je),this.We=new uO(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class om{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new om(this.indexId,this.documentKey,this.arrayValue,i)}}function hh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=vg(n.arrayValue,e.arrayValue),0!==t?t:(t=vg(n.directionalValue,e.directionalValue),0!==t?t:We.comparator(n.documentKey,e.documentKey)))}function vg(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class hO{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){mt(e.collectionGroup===this.collectionId);const t=pv(e);if(void 0!==t&&!this.en(t))return!1;const i=zd(e);let r=new Set,s=0,l=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const f=i[s];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[l++],f))return!1}++s}for(;s<i.length;++s)if(l>=this.Ye.length||!this.sn(this.Ye[l++],i[s]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function mC(n){var e,t;if(mt(n instanceof hn||n instanceof Yn),n instanceof hn){if(n instanceof Ui){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>hn.create(n.field,"==",s)))||[];return Yn.create(r,"or")}return n}const i=n.filters.map(r=>mC(r));return Yn.create(i,n.op)}function fO(n){if(0===n.getFilters().length)return[];const e=_C(mC(n));return mt(gC(e)),P0(e)||pC(e)?[e]:e.getFilters()}function P0(n){return n instanceof hn}function pC(n){return n instanceof Yn&&GE(n)}function gC(n){return P0(n)||pC(n)||function(e){if(e instanceof Yn&&_0(e)){for(const t of e.getFilters())if(!P0(t)&&!pC(t))return!1;return!0}return!1}(n)}function _C(n){if(mt(n instanceof hn||n instanceof Yn),n instanceof hn)return n;if(1===n.filters.length)return _C(n.filters[0]);const e=n.filters.map(i=>_C(i));let t=Yn.create(e,n.op);return t=jv(t),gC(t)?t:(mt(t instanceof Yn),mt(tg(t)),mt(t.filters.length>1),t.filters.reduce((i,r)=>Uv(i,r)))}function Uv(n,e){let t;return mt(n instanceof hn||n instanceof Yn),mt(e instanceof hn||e instanceof Yn),t=n instanceof hn?e instanceof hn?Yn.create([n,e],"and"):xA(n,e):e instanceof hn?xA(e,n):function(i,r){if(mt(i.filters.length>0&&r.filters.length>0),tg(i)&&tg(r))return US(i,r.getFilters());const s=_0(i)?i:r,l=_0(i)?r:i,f=s.filters.map(p=>Uv(p,l));return Yn.create(f,"or")}(n,e),jv(t)}function xA(n,e){if(tg(e))return US(e,n.getFilters());{const t=e.filters.map(i=>Uv(n,i));return Yn.create(t,"or")}}function jv(n){if(mt(n instanceof hn||n instanceof Yn),n instanceof hn)return n;const e=n.getFilters();if(1===e.length)return jv(e[0]);if(VS(n))return n;const t=e.map(r=>jv(r)),i=[];return t.forEach(r=>{r instanceof hn?i.push(r):r instanceof Yn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Yn.create(i,n.op)}class EA{constructor(){this.rn=new vC}addToCollectionParentIndex(e,t){return this.rn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Mi.min())}updateCollectionGroup(e,t,i){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class vC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new mi(xn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new mi(xn.comparator)).toArray()}}const F0=new Uint8Array(0);class mO{constructor(e,t){this.user=e,this.databaseId=t,this.on=new vC,this.un=new bc(i=>Oa(i),(i,r)=>oh(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:i,parent:vo(r)};return L0(e).put(s)}return ne.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[AE(t),""],!1,!0);return L0(e).j(r).next(s=>{for(const l of s){if(l.collectionId!==t)break;i.push(xl(l.parent))}return i})}addFieldIndex(e,t){const i=zv(e),r={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete r.indexId;const s=i.add(r);if(t.indexState){const l=$v(e);return s.next(f=>{l.put(fC(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=zv(e),r=$v(e),s=Hv(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Hv(e);let r=!0;const s=new Map;return ne.forEach(this.cn(t),l=>this.an(e,l).next(f=>{r&&(r=!!f),s.set(l,f)})).next(()=>{if(r){let l=nn();const f=[];return ne.forEach(s,(p,y)=>{var I;ke("IndexedDbIndexManager",`Using index ${I=p,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(Ie=>`${Ie.fieldPath}:${Ie.kind}`).join(",")}`} to execute ${Oa(t)}`);const D=function(Ie,Fe){const vt=pv(Fe);if(void 0===vt)return null;for(const ht of Wf(Ie,vt.fieldPath))switch(ht.op){case"array-contains-any":return ht.value.arrayValue.values||[];case"array-contains":return[ht.value]}return null}(y,p),M=function(Ie,Fe){const vt=new Map;for(const ht of zd(Fe))for(const ln of Wf(Ie,ht.fieldPath))switch(ln.op){case"==":case"in":vt.set(ht.fieldPath.canonicalString(),ln.value);break;case"not-in":case"!=":return vt.set(ht.fieldPath.canonicalString(),ln.value),Array.from(vt.values())}return null}(y,p),F=function(Ie,Fe){const vt=[];let ht=!0;for(const ln of zd(Fe)){const Ti=0===ln.kind?KE(Ie,ln.fieldPath,Ie.startAt):YE(Ie,ln.fieldPath,Ie.startAt);vt.push(Ti.value),ht&&(ht=Ti.inclusive)}return new rh(vt,ht)}(y,p),V=function(Ie,Fe){const vt=[];let ht=!0;for(const ln of zd(Fe)){const Ti=0===ln.kind?YE(Ie,ln.fieldPath,Ie.endAt):KE(Ie,ln.fieldPath,Ie.endAt);vt.push(Ti.value),ht&&(ht=Ti.inclusive)}return new rh(vt,ht)}(y,p),U=this.hn(p,y,F),X=this.hn(p,y,V),fe=this.ln(p,y,M),Ne=this.fn(p.indexId,D,U,F.inclusive,X,V.inclusive,fe);return ne.forEach(Ne,Ie=>i.H(Ie,t.limit).next(Fe=>{Fe.forEach(vt=>{const ht=We.fromSegments(vt.documentKey);l.has(ht)||(l=l.add(ht),f.push(ht))})}))}).next(()=>f)}return ne.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:fO(Yn.create(e.filters,"and")).map(i=>qf(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,s,l,f){const p=(null!=t?t.length:1)*Math.max(i.length,s.length),y=p/(null!=t?t.length:1),I=[];for(let D=0;D<p;++D){const M=t?this.dn(t[D/y]):F0,F=this.wn(e,M,i[D%y],r),V=this._n(e,M,s[D%y],l),U=f.map(X=>this.wn(e,M,X,!0));I.push(...this.createRange(F,V,U))}return I}wn(e,t,i,r){const s=new om(e,We.empty(),t,i);return r?s:s.Je()}_n(e,t,i,r){const s=new om(e,We.empty(),t,i);return r?s.Je():s}an(e,t){const i=new hO(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let l=null;for(const f of s)i.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let i=2;const r=this.cn(t);return ne.forEach(r,s=>this.an(e,s).next(l=>{l?0!==i&&l.fields.length<function(f){let p=new mi(ki.comparator),y=!1;for(const I of f.filters)for(const D of I.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?y=!0:p=p.add(D.field));for(const I of f.orderBy)I.field.isKeyField()||(p=p.add(I.field));return p.size+(y?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new _g;for(const r of zd(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const l=i.He(r.kind);rm.Ve._e(s,l)}return i.Qe()}dn(e){const t=new _g;return rm.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new _g;return rm.Ve._e(Na(this.databaseId,t),i.He(function(r){const s=zd(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new _g);let s=0;for(const l of zd(e)){const f=i[s++];for(const p of r)if(this.yn(t,l.fieldPath)&&Gf(f))r=this.pn(r,l,f);else{const y=p.He(l.kind);rm.Ve._e(f,y)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],s=[];for(const l of i.arrayValue.values||[])for(const f of r){const p=new _g;p.seed(f.Qe()),rm.Ve._e(l,p.He(t.kind)),s.push(p)}return s}yn(e,t){return!!e.filters.find(i=>i instanceof hn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=zv(e),r=$v(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(s=>{const l=[];return ne.forEach(s,f=>r.get([f.indexId,this.uid]).next(p=>{l.push(function(y,I){const D=I?new Wp(I.sequenceNumber,new Mi(uh(I.readTime),new We(xl(I.documentKey)),I.largestBatchId)):Wp.empty(),M=y.fields.map(([F,V])=>new Ws(ki.fromServerFormat(F),V));return new qp(y.indexId,y.collectionGroup,M,D)}(f,p))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Wt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=zv(e),s=$v(e);return this.Tn(e).next(l=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ne.forEach(f,p=>s.put(fC(p.indexId,this.user,l,i)))))}updateIndexEntries(e,t){const i=new Map;return ne.forEach(t,(r,s)=>{const l=i.get(r.collectionGroup);return(l?ne.resolve(l):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),ne.forEach(f,p=>this.En(e,r,p).next(y=>{const I=this.An(s,p);return y.isEqual(I)?ne.resolve():this.vn(e,s,p,y,I)}))))})}Rn(e,t,i,r){return Hv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return Hv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=Hv(e);let s=new mi(hh);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(l,f)=>{s=s.add(new om(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>s)}An(e,t){let i=new mi(hh);const r=this.mn(t,e);if(null==r)return i;const s=pv(t);if(null!=s){const l=e.data.field(s.fieldPath);if(Gf(l))for(const f of l.arrayValue.values||[])i=i.add(new om(t.indexId,e.key,this.dn(f),r))}else i=i.add(new om(t.indexId,e.key,F0,r));return i}vn(e,t,i,r,s){ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,p,y,I,D){const M=f.getIterator(),F=p.getIterator();let V=El(M),U=El(F);for(;V||U;){let X=!1,fe=!1;if(V&&U){const Ne=y(V,U);Ne<0?fe=!0:Ne>0&&(X=!0)}else null!=V?fe=!0:X=!0;X?(I(U),U=El(F)):fe?(D(V),V=El(M)):(V=El(M),U=El(F))}}(r,s,hh,f=>{l.push(this.Rn(e,t,i,f))},f=>{l.push(this.Pn(e,t,i,f))}),ne.waitFor(l)}Tn(e){let t=1;return $v(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,f)=>hh(l,f)).filter((l,f,p)=>!f||0!==hh(l,p[f-1]));const r=[];r.push(e);for(const l of i){const f=hh(l,e),p=hh(l,t);if(0===f)r[0]=e.Je();else if(f>0&&p<0)r.push(l),r.push(l.Je());else if(p>0)break}r.push(t);const s=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];s.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,F0,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,F0,[]]))}return s}bn(e,t){return hh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(CA)}getMinOffset(e,t){return ne.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||rt())).next(CA)}}function L0(n){return Br(n,"collectionParents")}function Hv(n){return Br(n,"indexEntries")}function zv(n){return Br(n,"indexConfiguration")}function $v(n){return Br(n,"indexState")}function CA(n){mt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;s0(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Mi(e.readTime,e.documentKey,t)}const IA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new yo(e,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function TA(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],l=IDBKeyRange.only(t.batchId);let f=0;const p=i.X({range:l},(I,D,M)=>(f++,M.delete()));s.push(p.next(()=>{mt(1===f)}));const y=[];for(const I of t.mutations){const D=c0(e,I.key.path,t.batchId);s.push(r.delete(D)),y.push(I.key)}return ne.waitFor(s).next(()=>y)}function V0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw rt();e=n.noDocument}return JSON.stringify(e).length}yo.DEFAULT_COLLECTION_PERCENTILE=10,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yo.DEFAULT=new yo(41943040,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yo.DISABLED=new yo(-1,0,0);class B0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){mt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new B0(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kd(e).X({index:"userMutationsIndex",range:i},(r,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=sm(e),l=Kd(e);return l.add({}).next(f=>{mt("number"==typeof f);const p=new Qf(f,t,i,r),y=function(M,F,V){const U=V.baseMutations.map(fe=>mg(M.fe,fe)),X=V.mutations.map(fe=>mg(M.fe,fe));return{userId:F,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:U,mutations:X}}(this.serializer,this.userId,p),I=[];let D=new mi((M,F)=>Wt(M.canonicalString(),F.canonicalString()));for(const M of r){const F=c0(this.userId,M.key.path,f);D=D.add(M.key.path.popLast()),I.push(l.put(y)),I.push(s.put(F,LN))}return D.forEach(M=>{I.push(this.indexManager.addToCollectionParentIndex(e,M))}),e.addOnCommittedListener(()=>{this.Vn[f]=p.keys()}),ne.waitFor(I).next(()=>p)})}lookupMutationBatch(e,t){return Kd(e).get(t).next(i=>i?(mt(i.userId===this.userId),im(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?ne.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Kd(e).X({index:"userMutationsIndex",range:r},(l,f,p)=>{f.userId===this.userId&&(mt(f.batchId>=i),s=im(this.serializer,f)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Kd(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kd(e).j("userMutationsIndex",t).next(i=>i.map(r=>im(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=a0(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return sm(e).X({range:r},(l,f,p)=>{const[y,I,D]=l,M=xl(I);if(y===this.userId&&t.path.isEqual(M))return Kd(e).get(D).next(F=>{if(!F)throw rt();mt(F.userId===this.userId),s.push(im(this.serializer,F))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new mi(Wt);const r=[];return t.forEach(s=>{const l=a0(this.userId,s.path),f=IDBKeyRange.lowerBound(l),p=sm(e).X({range:f},(y,I,D)=>{const[M,F,V]=y,U=xl(F);M===this.userId&&s.path.isEqual(U)?i=i.add(V):D.done()});r.push(p)}),ne.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=a0(this.userId,i),l=IDBKeyRange.lowerBound(s);let f=new mi(Wt);return sm(e).X({range:l},(p,y,I)=>{const[D,M,F]=p,V=xl(M);D===this.userId&&i.isPrefixOf(V)?V.length===r&&(f=f.add(F)):I.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(Kd(e).get(s).next(l=>{if(null===l)throw rt();mt(l.userId===this.userId),i.push(im(this.serializer,l))}))}),ne.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return TA(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ne.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ne.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return sm(e).X({range:i},(s,l,f)=>{if(s[0]===this.userId){const p=xl(s[1]);r.push(p)}else f.done()}).next(()=>{mt(0===r.length)})})}containsKey(e,t){return DA(e,this.userId,t)}xn(e){return SA(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function DA(n,e,t){const i=a0(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return sm(n).X({range:s,Y:!0},(f,p,y)=>{const[I,D,M]=f;I===e&&D===r&&(l=!0),y.done()}).next(()=>l)}function Kd(n){return Br(n,"mutations")}function sm(n){return Br(n,"documentMutations")}function SA(n){return Br(n,"mutationQueues")}class am{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new am(0)}static Mn(){return new am(-1)}}class AA{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new am(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>_t.fromTimestamp(new Kn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>yg(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(mt(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return yg(e).X((l,f)=>{const p=Vv(f);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>ne.waitFor(s)).next(()=>r)}forEachTarget(e,t){return yg(e).X((i,r)=>{const s=Vv(r);t(s)})}$n(e){return kA(e).get("targetGlobalKey").next(t=>(mt(null!==t),t))}On(e,t){return kA(e).put("targetGlobalKey",t)}Fn(e,t){return yg(e).put(aO(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Oa(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return yg(e).X({range:r,index:"queryTargetsIndex"},(l,f,p)=>{const y=Vv(f);oh(t,y.target)&&(s=y,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=Rl(e);return t.forEach(l=>{const f=vo(l.path);r.push(s.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,l))}),ne.waitFor(r)}removeMatchingKeys(e,t,i){const r=Rl(e);return ne.forEach(t,s=>{const l=vo(s.path);return ne.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=Rl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Rl(e);let s=nn();return r.X({range:i,Y:!0},(l,f,p)=>{const y=xl(l[1]),I=new We(y);s=s.add(I)}).next(()=>s)}containsKey(e,t){const i=vo(t.path),r=IDBKeyRange.bound([i],[AE(i)],!1,!0);let s=0;return Rl(e).X({index:"documentTargetsIndex",Y:!0,range:r},([l,f],p,y)=>{0!==l&&(s++,y.done())}).next(()=>s>0)}le(e,t){return yg(e).get(t).next(i=>i?Vv(i):null)}}function yg(n){return Br(n,"targets")}function kA(n){return Br(n,"targetGlobal")}function Rl(n){return Br(n,"targetDocuments")}function yC([n,e],[t,i]){const r=Wt(n,t);return 0===r?Wt(e,i):r}class bC{constructor(e){this.Ln=e,this.buffer=new mi(yC),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();yC(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,he.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){th(i)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield eh(i)}yield t.Qn(3e5)}))}}class pO{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ne.resolve(Zs.ct);const i=new bC(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(IA)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IA):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,s,l,f,p,y;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,l=Date.now(),this.nthSequenceNumber(e,r))).next(D=>(i=D,f=Date.now(),this.removeTargets(e,i,t))).next(D=>(s=D,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(D=>(y=Date.now(),o0()<=Hs.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-I}ms\n\tDetermined least recently used ${r} in `+(f-l)+`ms\n\tRemoved ${s} targets in `+(p-f)+`ms\n\tRemoved ${D} documents in `+(y-p)+`ms\nTotal Duration: ${y-I}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:D})))}}class MA{constructor(e,t){this.db=e,this.garbageCollector=function xC(n,e){return new pO(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return Gv(e,i)}removeReference(e,t,i){return Gv(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Gv(e,t)}Xn(e,t){return function(i,r){let s=!1;return SA(i).Z(l=>DA(i,l,r).next(f=>(f&&(s=!0),ne.resolve(!f)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(e,(l,f)=>{if(f<=t){const p=this.Xn(e,l).next(y=>{if(!y)return s++,i.getEntry(e,l).next(()=>(i.removeEntry(l,_t.min()),Rl(e).delete([0,vo(l.path)])))});r.push(p)}}).next(()=>ne.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Gv(e,t)}Yn(e,t){const i=Rl(e);let r,s=Zs.ct;return i.X({index:"documentTargetsIndex"},([l,f],{path:p,sequenceNumber:y})=>{0===l?(s!==Zs.ct&&t(new We(xl(r)),s),s=y,r=p):s=Zs.ct}).next(()=>{s!==Zs.ct&&t(new We(xl(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Gv(n,e){return Rl(n).put((i=n.currentSequenceNumber,{targetId:0,path:vo(e.path),sequenceNumber:i}));var i}class EC{constructor(){this.changes=new bc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,di.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ne.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gO{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Yd(e).put(i)}removeEntry(e,t,i){return Yd(e).delete(function(r,s){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Lv(s),l[l.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=di.newInvalidDocument(t);return Yd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(bg(t))},(r,s)=>{i=this.ts(t,s)}).next(()=>i)}es(e,t){let i={size:0,document:di.newInvalidDocument(t)};return Yd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(bg(t))},(r,s)=>{i={document:this.ts(t,s),size:V0(s)}}).next(()=>i)}getEntries(e,t){let i=zo();return this.ns(e,t,(r,s)=>{const l=this.ts(r,s);i=i.insert(r,l)}).next(()=>i)}ss(e,t){let i=zo(),r=new li(We.comparator);return this.ns(e,t,(s,l)=>{const f=this.ts(s,l);i=i.insert(s,f),r=r.insert(s,V0(l))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return ne.resolve();let r=new mi(TC);t.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(bg(r.first()),bg(r.last())),l=r.getIterator();let f=l.getNext();return Yd(e).X({index:"documentKeyIndex",range:s},(p,y,I)=>{const D=We.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;f&&TC(f,D)<0;)i(f,null),f=l.getNext();f&&f.isEqual(D)&&(i(f,y),f=l.hasNext()?l.getNext():null),f?I.G(bg(f)):I.done()}).next(()=>{for(;f;)i(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const s=t.path,l=[s.popLast().toArray(),s.lastSegment(),Lv(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yd(e).j(IDBKeyRange.bound(l,f,!0)).next(p=>{let y=zo();for(const I of p){const D=this.ts(We.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);D.isFoundDocument()&&(v0(t,D)||r.has(D.key))&&(y=y.insert(D.key,D))}return y})}getAllFromCollectionGroup(e,t,i,r){let s=zo();const l=IC(t,i),f=IC(t,Mi.max());return Yd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(p,y,I)=>{const D=this.ts(We.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(D.key,D),s.size===r&&I.done()}).next(()=>s)}newChangeBuffer(e){return new RA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return U0(e).get("remoteDocumentGlobalKey").next(t=>(mt(!!t),t))}Zn(e,t){return U0(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function gA(n,e){let t;if(e.document)t=dC(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=We.fromSegments(e.noDocument.path),r=uh(e.noDocument.readTime);t=di.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return rt();{const i=We.fromSegments(e.unknownDocument.path),r=uh(e.unknownDocument.version);t=di.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Kn(i[0],i[1]);return _t.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(_t.min()))return i}return di.newInvalidDocument(e)}}function CC(n){return new gO(n)}class RA extends EC{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new bc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new mi((s,l)=>Wt(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const f=this.us.get(s);if(t.push(this.os.removeEntry(e,s,f.readTime)),l.isValidDocument()){const p=hC(this.os.serializer,l);r=r.add(s.path.popLast());const y=V0(p);i+=y-f.size,t.push(this.os.addEntry(e,s,p))}else if(i-=f.size,this.trackRemovals){const p=hC(this.os.serializer,l.convertToNoDocument(_t.min()));t.push(this.os.addEntry(e,s,p))}}),r.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,i)),ne.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((s,l)=>{this.us.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function U0(n){return Br(n,"remoteDocumentGlobal")}function Yd(n){return Br(n,"remoteDocumentsV14")}function bg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function IC(n,e){const t=e.documentKey.path.toArray();return[n,Lv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function TC(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=Wt(t[s],i[s]),r)return r;return r=Wt(t.length,i.length),r||(r=Wt(t[t.length-2],i[i.length-2]),r||Wt(t[t.length-1],i[i.length-1]))}class NA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class DC{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Sv(i.mutation,r,Jr.empty(),Kn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,nn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=nn()){const r=Pa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let l=kl();return s.forEach((f,p)=>{l=l.insert(f,p.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=Pa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,nn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,i,r){let s=zo();const l=sg(),f=sg();return t.forEach((p,y)=>{const I=i.get(y.key);r.has(y.key)&&(void 0===I||I.mutation instanceof Ml)?s=s.insert(y.key,y):void 0!==I?(l.set(y.key,I.mutation.getFieldMask()),Sv(I.mutation,y,I.mutation.getFieldMask(),Kn.now())):l.set(y.key,Jr.empty())}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((y,I)=>l.set(y,I)),t.forEach((y,I)=>{var D;return f.set(y,new NA(I,null!==(D=l.get(y))&&void 0!==D?D:null))}),f))}recalculateAndSaveOverlays(e,t){const i=sg();let r=new li((l,f)=>l-f),s=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(p=>{const y=t.get(p);if(null===y)return;let I=i.get(p)||Jr.empty();I=f.applyToLocalView(y,I),i.set(p,I);const D=(r.get(f.batchId)||nn()).add(p);r=r.insert(f.batchId,D)})}).next(()=>{const l=[],f=r.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,I=p.value,D=rC();I.forEach(M=>{if(!s.has(M)){const F=JS(t.get(M),i.get(M));null!==F&&D.set(M,F),s=s.add(M)}}),l.push(this.documentOverlayCache.saveOverlays(e,y,D))}return ne.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return We.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):XE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):ne.resolve(Pa());let f=-1,p=s;return l.next(y=>ne.forEach(y,(I,D)=>(f<D.largestBatchId&&(f=D.largestBatchId),s.get(I)?ne.resolve():this.remoteDocumentCache.getEntry(e,I).next(M=>{p=p.insert(I,M)}))).next(()=>this.populateOverlays(e,y,s)).next(()=>this.computeViews(e,p,y,nn())).next(I=>({batchId:f,changes:y0(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new We(t)).next(i=>{let r=kl();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=kl();return this.indexManager.getCollectionParents(e,r).next(l=>ne.forEach(l,f=>{const p=(y=t,I=f.child(r),new Sl(I,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,I;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(y=>{y.forEach((I,D)=>{s=s.insert(I,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((f,p)=>{const y=p.getKey();null===s.get(y)&&(s=s.insert(y,di.newInvalidDocument(y)))});let l=kl();return s.forEach((f,p)=>{const y=r.get(f);void 0!==y&&Sv(y.mutation,p,Jr.empty(),Kn.now()),v0(t,p)&&(l=l.insert(f,p))}),l})}}class OA{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ne.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:tr(i.createTime)}),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:_A(i.bundledQuery),readTime:tr(i.readTime)}),ne.resolve();var i}}class PA{constructor(){this.overlays=new li(We.comparator),this.ls=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Pa();return ne.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),ne.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),ne.resolve()}getOverlaysForCollection(e,t,i){const r=Pa(),s=t.length+1,l=new We(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return ne.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new li((y,I)=>y-I);const l=this.overlays.getIterator();for(;l.hasNext();){const y=l.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let I=s.get(y.largestBatchId);null===I&&(I=Pa(),s=s.insert(y.largestBatchId,I)),I.set(y.getKey(),y)}}const f=Pa(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,I)=>f.set(y,I)),!(f.size()>=r)););return ne.resolve(f)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new lh(t,i));let s=this.ls.get(t);void 0===s&&(s=nn(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class j0{constructor(){this.fs=new mi(jr.ds),this.ws=new mi(jr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new jr(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new jr(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new We(new xn([])),i=new jr(t,e),r=new jr(t,e+1),s=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),s.push(l.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new We(new xn([])),i=new jr(t,e),r=new jr(t,e+1);let s=nn();return this.ws.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new jr(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class jr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return We.comparator(e.key,t.key)||Wt(e.As,t.As)}static _s(e,t){return Wt(e.As,t.As)||We.comparator(e.key,t.key)}}class FA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new mi(jr.ds)}checkEmpty(e){return ne.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const l=new Qf(s,t,i,r);this.mutationQueue.push(l);for(const f of r)this.Rs=this.Rs.add(new jr(f.key,s)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,t){return ne.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new jr(t,0),r=new jr(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],l=>{const f=this.Ps(l.As);s.push(f)}),ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new mi(Wt);return t.forEach(r=>{const s=new jr(r,0),l=new jr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,l],f=>{i=i.add(f.As)})}),ne.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;We.isDocumentKey(s)||(s=s.child(""));const l=new jr(new We(s),0);let f=new mi(Wt);return this.Rs.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(f=f.add(p.As)),!0)},l),ne.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){mt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ne.forEach(t.mutations,r=>{const s=new jr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new jr(t,0),r=this.Rs.firstAfterOrEqual(i);return ne.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ne.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _O{constructor(e){this.Ds=e,this.docs=new li(We.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,l=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ne.resolve(i?i.document.mutableCopy():di.newInvalidDocument(t))}getEntries(e,t){let i=zo();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():di.newInvalidDocument(r))}),ne.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=zo();const l=t.path,f=new We(l.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:I}}=p.getNext();if(!l.isPrefixOf(y.path))break;y.path.length>l.length+1||s0(Ra(I),i)<=0||(r.has(I.key)||v0(t,I))&&(s=s.insert(I.key,I.mutableCopy()))}return ne.resolve(s)}getAllFromCollectionGroup(e,t,i,r){rt()}Cs(e,t){return ne.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new vO(this)}getSize(e){return ne.resolve(this.size)}}class vO extends EC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),ne.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class yO{constructor(e){this.persistence=e,this.xs=new bc(t=>Oa(t),oh),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Ns=0,this.ks=new j0,this.targetCount=0,this.Ms=am.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),ne.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new am(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Fn(t),ne.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.xs.delete(l),s.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),ne.waitFor(s).next(()=>r)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return ne.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),ne.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(l=>{s.push(r.markPotentiallyOrphaned(e,l))}),ne.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return ne.resolve(i)}containsKey(e,t){return ne.resolve(this.ks.containsKey(t))}}class SC{constructor(e,t){this.$s={},this.overlays={},this.Os=new Zs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new yO(this),this.indexManager=new EA,this.remoteDocumentCache=new _O(i=>this.referenceDelegate.Ls(i)),this.serializer=new pA(t),this.qs=new OA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new FA(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){ke("MemoryPersistence","Starting transaction:",e);const r=new bO(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return ne.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class bO extends TS{constructor(e){super(),this.currentSequenceNumber=e}}class H0{constructor(e){this.persistence=e,this.Qs=new j0,this.js=null}static zs(e){return new H0(e)}get Ws(){if(this.js)return this.js;throw rt()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),ne.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Ws,i=>{const r=We.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,_t.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ne.or([()=>ne.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class wO{constructor(e){this.serializer=e}O(e,t,i,r){const s=new Zp("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kS,{unique:!0}),f.createObjectStore("documentMutations"),LA(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=ne.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),LA(e)),l=l.next(()=>function(f){const p=f.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(s))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(f,p){return p.store("mutations").j().next(y=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kS,{unique:!0});const I=p.store("mutations"),D=y.map(M=>I.put(M));return ne.waitFor(D)})}(e,s))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(l=l.next(()=>this.Ys(s))),i<6&&r>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),i<7&&r>=7&&(l=l.next(()=>this.Zs(s))),i<8&&r>=8&&(l=l.next(()=>this.ti(e,s))),i<9&&r>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(l=l.next(()=>this.ei(s))),i<11&&r>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(l=l.next(()=>{!function(f){const p=f.createObjectStore("documentOverlays",{keyPath:vv});p.createIndex("collectionPathOverlayIndex",PE,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",l0,{unique:!1})}(e)})),i<13&&r>=13&&(l=l.next(()=>function(f){const p=f.createObjectStore("remoteDocumentsV14",{keyPath:_V});p.createIndex("documentKeyIndex",vV),p.createIndex("collectionGroupIndex",VN)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.si(e,s))),i<15&&r>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:jN}).createIndex("sequenceNumberIndex",HN,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:zN}).createIndex("documentKeyIndex",OE,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=V0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>ne.forEach(r,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",l).next(f=>ne.forEach(f,p=>{mt(p.userId===s.userId);const y=im(this.serializer,p);return TA(e,s.userId,y).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((l,f)=>{const p=new xn(l),y=[0,vo(p)];s.push(t.get(y).next(I=>I?ne.resolve():t.put({targetId:0,path:vo(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ne.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:bV});const i=t.store("collectionParents"),r=new vC,s=l=>{if(r.add(l)){const f=l.lastSegment(),p=l.popLast();return i.put({collectionId:f,parent:vo(p)})}};return t.store("remoteDocuments").X({Y:!0},(l,f)=>{const p=new xn(l);return s(p.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,f,p],y)=>{const I=xl(f);return s(I.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const s=Vv(r),l=aO(this.serializer,s);return t.put(l)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((s,l)=>{const f=t.store("remoteDocumentsV14"),p=(y=l,y.document?new We(xn.fromString(y.document.name).popFirst(5)):y.noDocument?We.fromSegments(y.noDocument.path):y.unknownDocument?We.fromSegments(y.unknownDocument.path):rt()).path.toArray();var y;const I={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(f.put(I))}).next(()=>ne.waitFor(r))}si(e,t){const i=t.store("mutations"),r=CC(this.serializer),s=new SC(H0.zs,this.serializer.fe);return i.j().next(l=>{const f=new Map;return l.forEach(p=>{var y;let I=null!==(y=f.get(p.userId))&&void 0!==y?y:nn();im(this.serializer,p).keys().forEach(D=>I=I.add(D)),f.set(p.userId,I)}),ne.forEach(f,(p,y)=>{const I=new kr(y),D=Bv.de(this.serializer,I),M=s.getIndexManager(I),F=B0.de(I,this.serializer,M,s.referenceDelegate);return new DC(r,F,D,M).recalculateAndSaveOverlaysForDocumentKeys(new d0(t,Zs.ct),p).next()})})}}function LA(n){n.createObjectStore("targetDocuments",{keyPath:yV}).createIndex("documentTargetsIndex",UN,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",BN,{unique:!0}),n.createObjectStore("targetGlobal")}const $0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class G0{constructor(e,t,i,r,s,l,f,p,y,I,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=s,this.window=l,this.document=f,this.ri=y,this.oi=I,this.ui=D,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=M=>Promise.resolve(),!G0.D())throw new Te(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new MA(this,r),this.di=t+"main",this.serializer=new pA(p),this.wi=new jo(this.di,this.ui,new wO(this.serializer)),this.Bs=new AA(this.referenceDelegate,this.serializer),this.remoteDocumentCache=CC(this.serializer),this.qs=new O0,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===I&&Vi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Te(ae.FAILED_PRECONDITION,$0);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Zs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,he.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,he.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,he.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>qv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(th(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return wg(e).get("owner").next(t=>ne.resolve(this.Ri(t)))}Pi(e){return qv(e).delete(this.clientId)}bi(){var e=this;return(0,he.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Br(i,"clientMetadata");return r.j().next(s=>{const l=e.Si(s,18e5),f=s.filter(p=>-1===l.indexOf(p));return ne.forEach(f,p=>r.delete(p.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ne.resolve(!0):wg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Te(ae.FAILED_PRECONDITION,$0);return!1}}return!(!this.networkEnabled||!this.inForeground)||qv(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,he.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new d0(t,Zs.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>qv(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return B0.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mO(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Bv.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){ke("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(l=this.ui)?bv:14===l?MS:13===l?LE:12===l?yv:11===l?FE:void rt();var l;let f;return this.wi.runTransaction(e,r,s,p=>(f=new d0(p,this.Os?this.Os.next():Zs.ct),"readwrite-primary"===t?this.Ti(f).next(y=>!!y||this.Ei(f)).next(y=>{if(!y)throw Vi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Te(ae.FAILED_PRECONDITION,ME);return i(f)}).next(y=>this.vi(f).next(()=>y)):this.Oi(f).next(()=>i(f)))).then(p=>(f.raiseOnCommittedEvent(),p))}Oi(e){return wg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Te(ae.FAILED_PRECONDITION,$0)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wg(e).put("owner",t)}static D(){return jo.D()}Ai(e){const t=wg(e);return t.get("owner").next(i=>this.Ri(i)?(ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ne.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Vi(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,L.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ke("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Vi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Vi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wg(n){return Br(n,"owner")}function qv(n){return Br(n,"clientMetadata")}function q0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class W0{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=nn(),r=nn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new W0(e,t.fromCache,i,r)}}class AC{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(QE(t))return ne.resolve(null);let i=Ho(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ig(t,null,"F"),i=Ho(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const l=nn(...s);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.ji(t,f);return this.zi(t,y,l,p.readTime)?this.Ki(e,ig(t,null,"F")):this.Wi(e,y,t,p)}))})))}Gi(e,t,i,r){return QE(t)||r.isEqual(_t.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const l=this.ji(t,s);return this.zi(t,l,i,r)?this.Qi(e,t):(o0()<=Hs.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tC(t)),this.Wi(e,l,t,vc(r,-1)))})}ji(e,t){let i=new mi(Iv(e));return t.forEach((r,s)=>{v0(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return o0()<=Hs.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",tC(t)),this.Ui.getDocumentsMatchingQuery(e,t,Mi.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}class VA{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new li(Wt),this.Yi=new bc(s=>Oa(s),oh),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DC(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function kC(n,e,t,i){return new VA(n,e,t,i)}function MC(n,e){return Z0.apply(this,arguments)}function Z0(){return Z0=(0,he.Z)(function*(n,e){const t=Ge(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],f=[];let p=nn();for(const y of r){l.push(y.batchId);for(const I of y.mutations)p=p.add(I.key)}for(const y of s){f.push(y.batchId);for(const I of y.mutations)p=p.add(I.key)}return t.localDocuments.getDocuments(i,p).next(y=>({er:y,removedBatchIds:l,addedBatchIds:f}))})})}),Z0.apply(this,arguments)}function BA(n){const e=Ge(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Wv(n,e,t){let i=nn(),r=nn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let l=zo();return t.forEach((f,p)=>{const y=s.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(f)),p.isNoDocument()&&p.version.isEqual(_t.min())?(e.removeEntry(f,p.readTime),l=l.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(p),l=l.insert(f,p)):ke("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{nr:l,sr:r}})}function UA(n,e){const t=Ge(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function fh(n,e){const t=Ge(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,ne.resolve(r)):t.Bs.allocateTargetId(i).next(l=>(r=new Wd(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function cm(n,e,t){return K0.apply(this,arguments)}function K0(){return K0=(0,he.Z)(function*(n,e,t){const i=Ge(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!th(l))throw l;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),K0.apply(this,arguments)}function Zv(n,e,t){const i=Ge(n);let r=_t.min(),s=nn();return i.persistence.runTransaction("Execute query","readonly",l=>function(f,p,y){const I=Ge(f),D=I.Yi.get(y);return void 0!==D?ne.resolve(I.Ji.get(D)):I.Bs.getTargetData(p,y)}(i,l,Ho(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,f.targetId).next(p=>{s=p})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,e,t?r:_t.min(),t?s:nn())).next(f=>(PC(i,$S(e),f),{documents:f,ir:s})))}function NC(n,e){const t=Ge(n),i=Ge(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.le(s,e).next(l=>l?l.target:null))}function OC(n,e){const t=Ge(n),i=t.Xi.get(e)||_t.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,vc(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(PC(t,e,r),r))}function PC(n,e,t){let i=n.Xi.get(e)||_t.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}function Kv(){return Kv=(0,he.Z)(function*(n,e,t,i){const r=Ge(n);let s=nn(),l=zo();for(const y of t){const I=e.rr(y.metadata.name);y.document&&(s=s.add(I));const D=e.ur(y);D.setReadTime(e.cr(y.metadata.readTime)),l=l.insert(I,D)}const f=r.Zi.newChangeBuffer({trackRemovals:!0}),p=yield fh(r,(y=i,Ho(ah(xn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>Wv(y,f,l).next(I=>(f.apply(y),I)).next(I=>r.Bs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.Bs.addMatchingKeys(y,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,I.nr,I.sr)).next(()=>I.nr)))}),Kv.apply(this,arguments)}function FC(n,e){return Y0.apply(this,arguments)}function Y0(){return Y0=(0,he.Z)(function*(n,e,t=nn()){const i=yield fh(n,Ho(_A(e.bundledQuery))),r=Ge(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const l=tr(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.qs.saveNamedQuery(s,e);const f=i.withResumeToken(Mr.EMPTY_BYTE_STRING,l);return r.Ji=r.Ji.insert(f.targetId,f),r.Bs.updateTargetData(s,f).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,t,i.targetId)).next(()=>r.qs.saveNamedQuery(s,e))})}),Y0.apply(this,arguments)}function Q0(n,e){return`firestore_clients_${n}_${e}`}function jA(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function LC(n,e){return`firestore_targets_${n}_${e}`}class xg{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let s,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new Te(r.error.code,r.error.message))),l?new xg(e,t,r.state,s):(Vi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yv{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Te(i.error.code,i.error.message))),s?new Yv(e,i.state,r):(Vi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=b0();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=SS(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return r?new Qv(e,s):(Vi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Qd{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Qd(t.clientId,t.onlineState):(Vi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class X0{constructor(){this.activeTargetIds=b0()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VC{constructor(e,t,i,r,s){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new li(Wt),this.started=!1,this.yr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=Q0(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new X0),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,he.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const s=e.getItem(Q0(e.persistenceKey,r));if(s){const l=Qv.ar(r,s);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(LC(this.persistenceKey,e));if(i){const r=Yv.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(LC(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ke("SharedClientState","READ",e,t),t}setItem(e,t){ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(ke("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Vi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,he.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(s){let l=Zs.ct;if(null!=s)try{const f=JSON.parse(s);mt("number"==typeof f),l=f}catch(f){Vi("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(i.newValue);r!==Zs.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new xg(this.currentUser,e,t,i),s=jA(this.persistenceKey,this.currentUser,e);this.setItem(s,r.hr())}Cr(e){const t=jA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=LC(this.persistenceKey,e),s=new Yv(e,t,i);this.setItem(r,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return Qv.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return xg.ar(new kr(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return Yv.ar(r,t)}br(e){return Qd.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,he.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),s=this.Sr(i),l=[],f=[];return s.forEach(p=>{r.has(p)||l.push(p)}),r.forEach(p=>{s.has(p)||f.push(p)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=b0();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class CO{constructor(){this.Hr=new X0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new X0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BC{Yr(e){}shutdown(){}}class J0{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ew=null;function tw(){return null===ew?ew=268435456+Math.round(2147483648*Math.random()):ew++,"0x"+ew.toString(16)}const HA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IO{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const eo="WebChannelConnection";class TO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const l=tw(),f=this.To(e,t);ke("RestConnection",`Sending RPC '${e}' ${l}:`,f,i);const p={};return this.Eo(p,r,s),this.Ao(e,f,p,i).then(y=>(ke("RestConnection",`Received RPC '${e}' ${l}: `,y),y),y=>{throw Uo("RestConnection",`RPC '${e}' ${l} failed with error: `,y,"url: ",f,"request:",i),y})}vo(e,t,i,r,s,l){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${HA[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=tw();return new Promise((l,f)=>{const p=new $p;p.setWithCredentials(!0),p.listenOnce(jp.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ju.NO_ERROR:const I=p.getResponseJson();ke(eo,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(I)),l(I);break;case Ju.TIMEOUT:ke(eo,`RPC '${e}' ${s} timed out`),f(new Te(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const D=p.getStatus();if(ke(eo,`RPC '${e}' ${s} failed with status:`,D,"response text:",p.getResponseText()),D>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const F=M?.error;if(F&&F.status&&F.message){const V=function(U){const X=U.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(X)>=0?X:ae.UNKNOWN}(F.status);f(new Te(V,F.message))}else f(new Te(ae.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Te(ae.UNAVAILABLE,"Connection failed."));break;default:rt()}}finally{ke(eo,`RPC '${e}' ${s} completed.`)}});const y=JSON.stringify(r);ke(eo,`RPC '${e}' ${s} sending request:`,r),p.send(t,"POST",y,i,15)})}Ro(e,t,i){const r=tw(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=IE(),f=Up(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;void 0!==y&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.xmlHttpFactory=new zp({})),this.Eo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const I=s.join("");ke(eo,`Creating RPC '${e}' stream ${r}: ${I}`,p);const D=l.createWebChannel(I,p);let M=!1,F=!1;const V=new IO({ro:X=>{F?ke(eo,`Not sending because RPC '${e}' stream ${r} is closed:`,X):(M||(ke(eo,`Opening RPC '${e}' stream ${r} transport.`),D.open(),M=!0),ke(eo,`RPC '${e}' stream ${r} sending:`,X),D.send(X))},oo:()=>D.close()}),U=(X,fe,Ne)=>{X.listen(fe,Ie=>{try{Ne(Ie)}catch(Fe){setTimeout(()=>{throw Fe},0)}})};return U(D,jd.EventType.OPEN,()=>{F||ke(eo,`RPC '${e}' stream ${r} transport opened.`)}),U(D,jd.EventType.CLOSE,()=>{F||(F=!0,ke(eo,`RPC '${e}' stream ${r} transport closed`),V.wo())}),U(D,jd.EventType.ERROR,X=>{F||(F=!0,Uo(eo,`RPC '${e}' stream ${r} transport errored:`,X),V.wo(new Te(ae.UNAVAILABLE,"The operation could not be completed")))}),U(D,jd.EventType.MESSAGE,X=>{var fe;if(!F){const Ne=X.data[0];mt(!!Ne);const Fe=Ne.error||(null===(fe=Ne[0])||void 0===fe?void 0:fe.error);if(Fe){ke(eo,`RPC '${e}' stream ${r} received error:`,Fe);const vt=Fe.status;let ht=function(Ti){const ys=gr[Ti];if(void 0!==ys)return I0(ys)}(vt),ln=Fe.message;void 0===ht&&(ht=ae.INTERNAL,ln="Unknown error status: "+vt+" with message "+Fe.message),F=!0,V.wo(new Te(ht,ln)),D.close()}else ke(eo,`RPC '${e}' stream ${r} received:`,Ne),V._o(Ne)}}),U(f,Hp.STAT_EVENT,X=>{X.stat===Lf.PROXY?ke(eo,`RPC '${e}' stream ${r} detected buffering proxy`):X.stat===Lf.NOPROXY&&ke(eo,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{V.fo()},0),V}}function zA(){return typeof window<"u"?window:null}function lm(){return typeof document<"u"?document:null}function Eg(n){return new oA(n,!0)}class Xv{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&ke("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class UC{constructor(e,t,i,r,s,l,f,p){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Xv(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,he.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,he.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,he.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Vi(t.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===ae.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Te(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,he.Z)(function*(){e.state=0,e.start()}))}tu(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $A extends UC{constructor(e,t,i,r,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function cA(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:rt(),r=e.targetChange.targetIds||[],s=function(p,y){return p.useProto3Json?(mt(void 0===y||"string"==typeof y),Mr.fromBase64String(y||"")):(mt(void 0===y||y instanceof Uint8Array),Mr.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(p){const y=void 0===p.code?ae.UNKNOWN:I0(p.code);return new Te(y,p.message||"")}(l);t=new sC(i,r,s,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Ys(n,i.document.name),s=tr(i.document.updateTime),l=i.document.createTime?tr(i.document.createTime):_t.min(),f=new Rr({mapValue:{fields:i.document.fields}}),p=di.newFoundDocument(r,s,l,f);t=new Nv(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const i=e.documentDelete,r=Ys(n,i.document),s=i.readTime?tr(i.readTime):_t.min(),l=di.newNoDocument(r,s);t=new Nv([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=Ys(n,i.document);t=new Nv([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return rt();{const i=e.filter,{count:r=0,unchangedNames:s}=i,l=new dg(r,s);t=new M0(i.targetId,l)}}var p;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return _t.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?_t.min():s.readTime?tr(s.readTime):_t.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=fg(this.serializer),t.addTarget=function(r,s){let l;const f=s.target;if(l=sh(f)?{documents:lA(r,f)}:{query:tm(r,f)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=Jf(r,s.resumeToken);const p=R0(r,s.expectedCount);null!==p&&(l.expectedCount=p)}else if(s.snapshotVersion.compareTo(_t.min())>0){l.readTime=Ov(r,s.snapshotVersion.toTimestamp());const p=R0(r,s.expectedCount);null!==p&&(l.expectedCount=p)}return l}(this.serializer,e);const i=function sO(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=fg(this.serializer),t.removeTarget=e,this.Wo(t)}}class GA extends UC{constructor(e,t,i,r,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function oO(n,e){return n&&n.length>0?(mt(void 0!==e),n.map(t=>function(i,r){let s=tr(i.updateTime?i.updateTime:r);return s.isEqual(_t.min())&&(s=tr(r)),new JN(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=tr(e.commitTime);return this.listener.cu(i,t)}return mt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=fg(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>mg(this.serializer,i))};this.Wo(t)}}class qA extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Te(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Te(ae.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.vo(e,t,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(ae.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class SO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Vi(t),this.mu=!1):ke("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class AO{constructor(e,t,i,r,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(f=>{i.enqueueAndForget((0,he.Z)(function*(){var p;mh(l)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,he.Z)(function*(y){const I=Ge(y);I.vu.add(4),yield dm(I),I.bu.set("Unknown"),I.vu.delete(4),yield Cg(I)}),function(y){return p.apply(this,arguments)})(l))}))}),this.bu=new SO(i,r)}}function Cg(n){return WA.apply(this,arguments)}function WA(){return WA=(0,he.Z)(function*(n){if(mh(n))for(const e of n.Ru)yield e(!0)}),WA.apply(this,arguments)}function dm(n){return HC.apply(this,arguments)}function HC(){return HC=(0,he.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),HC.apply(this,arguments)}function nw(n,e){const t=Ge(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),KA(t)?ZA(t):Ol(t).Ko()&&zC(t,e))}function iw(n,e){const t=Ge(n),i=Ol(t);t.Au.delete(e),i.Ko()&&Jv(t,e),0===t.Au.size&&(i.Ko()?i.jo():mh(t)&&t.bu.set("Unknown"))}function zC(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ol(n).su(e)}function Jv(n,e){n.Vu.qt(e),Ol(n).iu(e)}function ZA(n){n.Vu=new iO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Ol(n).start(),n.bu.gu()}function KA(n){return mh(n)&&!Ol(n).Uo()&&n.Au.size>0}function mh(n){return 0===Ge(n).vu.size}function YA(n){n.Vu=void 0}function kO(n){return $C.apply(this,arguments)}function $C(){return $C=(0,he.Z)(function*(n){n.Au.forEach((e,t)=>{zC(n,e)})}),$C.apply(this,arguments)}function MO(n,e){return GC.apply(this,arguments)}function GC(){return GC=(0,he.Z)(function*(n,e){YA(n),KA(n)?(n.bu.Iu(e),ZA(n)):n.bu.set("Unknown")}),GC.apply(this,arguments)}function RO(n,e,t){return qC.apply(this,arguments)}function qC(){return qC=(0,he.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof sC&&2===e.state&&e.cause)try{yield(i=(0,he.Z)(function*(r,s){const l=s.cause;for(const f of s.targetIds)r.Au.has(f)&&(yield r.remoteSyncer.rejectListen(f,l),r.Au.delete(f),r.Vu.removeTarget(f))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield rw(n,i)}else if(e instanceof Nv?n.Vu.Ht(e):e instanceof M0?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(_t.min()))try{const i=yield BA(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const l=r.Vu.ce(s);return l.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=r.Au.get(p);y&&r.Au.set(p,y.withResumeToken(f.resumeToken,s))}}),l.targetMismatches.forEach((f,p)=>{const y=r.Au.get(f);if(!y)return;r.Au.set(f,y.withResumeToken(Mr.EMPTY_BYTE_STRING,y.snapshotVersion)),Jv(r,f);const I=new Wd(y.target,f,p,y.sequenceNumber);zC(r,I)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(i){ke("RemoteStore","Failed to raise snapshot:",i),yield rw(n,i)}var i}),qC.apply(this,arguments)}function rw(n,e,t){return WC.apply(this,arguments)}function WC(){return WC=(0,he.Z)(function*(n,e,t){if(!th(e))throw e;n.vu.add(1),yield dm(n),n.bu.set("Offline"),t||(t=()=>BA(n.localStore)),n.asyncQueue.enqueueRetryable((0,he.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Cg(n)}))}),WC.apply(this,arguments)}function QA(n,e){return e().catch(t=>rw(n,t,e))}function Nl(n){return ow.apply(this,arguments)}function ow(){return ow=(0,he.Z)(function*(n){const e=Ge(n),t=ph(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;XA(e);)try{const r=yield UA(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,JA(e,r)}catch(r){yield rw(e,r)}ZC(e)&&KC(e)}),ow.apply(this,arguments)}function XA(n){return mh(n)&&n.Eu.length<10}function JA(n,e){n.Eu.push(e);const t=ph(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function ZC(n){return mh(n)&&!ph(n).Uo()&&n.Eu.length>0}function KC(n){ph(n).start()}function ek(n){return YC.apply(this,arguments)}function YC(){return YC=(0,he.Z)(function*(n){ph(n).hu()}),YC.apply(this,arguments)}function IV(n){return tk.apply(this,arguments)}function tk(){return tk=(0,he.Z)(function*(n){const e=ph(n);for(const t of n.Eu)e.uu(t.mutations)}),tk.apply(this,arguments)}function nk(n,e,t){return sw.apply(this,arguments)}function sw(){return sw=(0,he.Z)(function*(n,e,t){const i=n.Eu.shift(),r=Av.from(i,e,t);yield QA(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Nl(n)}),sw.apply(this,arguments)}function NO(n,e){return QC.apply(this,arguments)}function QC(){return QC=(0,he.Z)(function*(n,e){var t;e&&ph(n).ou&&(yield(t=(0,he.Z)(function*(i,r){if(kv(s=r.code)&&s!==ae.ABORTED){const l=i.Eu.shift();ph(i).Qo(),yield QA(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield Nl(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),ZC(n)&&KC(n)}),QC.apply(this,arguments)}function ik(n,e){return um.apply(this,arguments)}function um(){return um=(0,he.Z)(function*(n,e){const t=Ge(n);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const i=mh(t);t.vu.add(3),yield dm(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Cg(t)}),um.apply(this,arguments)}function XC(n,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,he.Z)(function*(n,e){const t=Ge(n);e?(t.vu.delete(2),yield Cg(t)):e||(t.vu.add(2),yield dm(t),t.bu.set("Unknown"))}),Ig.apply(this,arguments)}function Ol(n){return n.Su||(n.Su=function(e,t,i){const r=Ge(e);return r.fu(),new $A(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:kO.bind(null,n),ao:MO.bind(null,n),nu:RO.bind(null,n)}),n.Ru.push(function(){var e=(0,he.Z)(function*(t){t?(n.Su.Qo(),KA(n)?ZA(n):n.bu.set("Unknown")):(yield n.Su.stop(),YA(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function ph(n){return n.Du||(n.Du=function(e,t,i){const r=Ge(e);return r.fu(),new GA(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:ek.bind(null,n),ao:NO.bind(null,n),au:IV.bind(null,n),cu:nk.bind(null,n)}),n.Ru.push(function(){var e=(0,he.Z)(function*(t){t?(n.Du.Qo(),yield Nl(n)):(yield n.Du.stop(),n.Eu.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class JC{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,i,r,s){const l=Date.now()+i,f=new JC(e,t,l,r,s);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tg(n,e){if(Vi("AsyncQueue",`${e}: ${n}`),th(n))return new Te(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class Xd{constructor(e){this.comparator=e?(t,i)=>e(t,i)||We.comparator(t.key,i.key):(t,i)=>We.comparator(t.key,i.key),this.keyedMap=kl(),this.sortedSet=new li(this.comparator)}static emptySet(e){return new Xd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Xd;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class aw{constructor(){this.Cu=new li(We.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):rt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class gh{constructor(e,t,i,r,s,l,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,r,s){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new gh(e,t,Xd.emptySet(t),l,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class rk{constructor(){this.Nu=void 0,this.listeners=[]}}class eI{constructor(){this.queries=new bc(e=>eC(e),rg),this.onlineState="Unknown",this.ku=new Set}}function ey(n,e){return tI.apply(this,arguments)}function tI(){return tI=(0,he.Z)(function*(n,e){const t=Ge(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new rk),r)try{s.Nu=yield t.onListen(i)}catch(l){const f=Tg(l,`Initialization of query '${tC(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&ty(t)}),tI.apply(this,arguments)}function nI(n,e){return iI.apply(this,arguments)}function iI(){return iI=(0,he.Z)(function*(n,e){const t=Ge(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),iI.apply(this,arguments)}function OO(n,e){const t=Ge(n);let i=!1;for(const r of e){const l=t.queries.get(r.query);if(l){for(const f of l.listeners)f.$u(r)&&(i=!0);l.Nu=r}}i&&ty(t)}function ok(n,e,t){const i=Ge(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function ty(n){n.ku.forEach(e=>{e.next()})}class cw{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new gh(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=gh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class sk{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class rI{constructor(e){this.serializer=e}rr(e){return Ys(this.serializer,e)}ur(e){return e.metadata.exists?dC(this.serializer,e.document,!1):di.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return tr(e)}}class ak{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ck(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=xn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new rI(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const l of r.metadata.queries){const f=(t.get(l)||nn()).add(s);t.set(l,f)}}return t}complete(){var e=this;return(0,he.Z)(function*(){const t=yield function EO(n,e,t,i){return Kv.apply(this,arguments)}(e.localStore,new rI(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield FC(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function ck(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class oI{constructor(e){this.key=e}}class sI{constructor(e){this.key=e}}class lk{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=nn(),this.mutatedKeys=nn(),this.tc=Iv(e),this.ec=new Xd(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new aw,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,l=r,f=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,D)=>{const M=r.get(I),F=v0(this.query,D)?D:null,V=!!M&&this.mutatedKeys.has(M.key),U=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let X=!1;M&&F?M.data.isEqual(F.data)?V!==U&&(i.track({type:3,doc:F}),X=!0):this.rc(M,F)||(i.track({type:2,doc:F}),X=!0,(p&&this.tc(F,p)>0||y&&this.tc(F,y)<0)&&(f=!0)):!M&&F?(i.track({type:0,doc:F}),X=!0):M&&!F&&(i.track({type:1,doc:M}),X=!0,(p||y)&&(f=!0)),X&&(F?(l=l.add(F),s=U?s.add(I):s.delete(I)):(l=l.delete(I),s=s.delete(I)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const I="F"===this.query.limitType?l.last():l.first();l=l.delete(I.key),s=s.delete(I.key),i.track({type:1,doc:I})}return{ec:l,ic:i,zi:f,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((y,I)=>function(D,M){const F=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt()}};return F(D)-F(M)}(y.type,I.type)||this.tc(y.doc,I.doc)),this.oc(i);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,p=f!==this.Xu;return this.Xu=f,0!==s.length||p?{snapshot:new gh(this.query,e.ec,r,s,e.mutatedKeys,0===f,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new aw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=nn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new sI(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new oI(i))}),t}hc(e){this.Yu=e.ir,this.Zu=nn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return gh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class dk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class uk{constructor(e){this.key=e,this.fc=!1}}class PO{constructor(e,t,i,r,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new bc(f=>eC(f),rg),this._c=new Map,this.mc=new Set,this.gc=new li(We.comparator),this.yc=new Map,this.Ic=new j0,this.Tc={},this.Ec=new Map,this.Ac=am.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function FO(n,e){return to.apply(this,arguments)}function to(){return to=(0,he.Z)(function*(n,e){const t=xk(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const l=yield fh(t.localStore,Ho(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield _h(t,e,i,"current"===f,l.resumeToken),t.isPrimaryClient&&nw(t.remoteStore,l)}return r}),to.apply(this,arguments)}function _h(n,e,t,i,r){return aI.apply(this,arguments)}function aI(){return aI=(0,he.Z)(function*(n,e,t,i,r){n.Rc=(D,M,F)=>{return(V=(0,he.Z)(function*(U,X,fe,Ne){let Ie=X.view.sc(fe);Ie.zi&&(Ie=yield Zv(U.localStore,X.query,!1).then(({documents:ht})=>X.view.sc(ht,Ie)));const Fe=Ne&&Ne.targetChanges.get(X.targetId),vt=X.view.applyChanges(Ie,U.isPrimaryClient,Fe);return dw(U,X.targetId,vt.cc),vt.snapshot}),function(U,X,fe,Ne){return V.apply(this,arguments)})(n,D,M,F);var V};const s=yield Zv(n.localStore,e,!0),l=new lk(e,s.ir),f=l.sc(s.documents),p=Rv.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),y=l.applyChanges(f,n.isPrimaryClient,p);dw(n,t,y.cc);const I=new dk(e,t,l);return n.wc.set(e,I),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),y.snapshot}),aI.apply(this,arguments)}function LO(n,e){return hk.apply(this,arguments)}function hk(){return hk=(0,he.Z)(function*(n,e){const t=Ge(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!rg(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield cm(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),iw(t.remoteStore,i.targetId),fm(t,i.targetId)}).catch(eh))):(fm(t,i.targetId),yield cm(t.localStore,i.targetId,!0))}),hk.apply(this,arguments)}function hm(){return hm=(0,he.Z)(function*(n,e,t){const i=mw(n);try{const r=yield function(s,l){const f=Ge(s),p=Kn.now(),y=l.reduce((M,F)=>M.add(F.key),nn());let I,D;return f.persistence.runTransaction("Locally write mutations","readwrite",M=>{let F=zo(),V=nn();return f.Zi.getEntries(M,y).next(U=>{F=U,F.forEach((X,fe)=>{fe.isValidDocument()||(V=V.add(X))})}).next(()=>f.localDocuments.getOverlayedDocuments(M,F)).next(U=>{I=U;const X=[];for(const fe of l){const Ne=tO(fe,I.get(fe.key).overlayedDocument);null!=Ne&&X.push(new Ml(fe.key,Ne,zE(Ne.value.mapValue),xi.exists(!0)))}return f.mutationQueue.addMutationBatch(M,p,X,l)}).next(U=>{D=U;const X=U.applyToLocalDocumentSet(I,V);return f.documentOverlayCache.saveOverlays(M,U.batchId,X)})}).then(()=>({batchId:D.batchId,changes:y0(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,f){let p=s.Tc[s.currentUser.toKey()];p||(p=new li(Wt)),p=p.insert(l,f),s.Tc[s.currentUser.toKey()]=p}(i,r.batchId,t),yield Pl(i,r.changes),yield Nl(i.remoteStore)}catch(r){const s=Tg(r,"Failed to persist write");t.reject(s)}}),hm.apply(this,arguments)}function fk(n,e){return ny.apply(this,arguments)}function ny(){return ny=(0,he.Z)(function*(n,e){const t=Ge(n);try{const i=yield function RC(n,e){const t=Ge(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const f=[];e.targetChanges.forEach((I,D)=>{const M=r.get(D);if(!M)return;f.push(t.Bs.removeMatchingKeys(s,I.removedDocuments,D).next(()=>t.Bs.addMatchingKeys(s,I.addedDocuments,D)));let F=M.withSequenceNumber(s.currentSequenceNumber);var V,U,X;null!==e.targetMismatches.get(D)?F=F.withResumeToken(Mr.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):I.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(I.resumeToken,i)),r=r.insert(D,F),U=F,X=I,(0===(V=M).resumeToken.approximateByteSize()||U.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(s,F))});let p=zo(),y=nn();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(s,I))}),f.push(Wv(s,l,e.documentUpdates).next(I=>{p=I.nr,y=I.sr})),!i.isEqual(_t.min())){const I=t.Bs.getLastRemoteSnapshotVersion(s).next(D=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));f.push(I)}return ne.waitFor(f).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,y)).next(()=>p)}).then(s=>(t.Ji=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const l=t.yc.get(s);l&&(mt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?mt(l.fc):r.removedDocuments.size>0&&(mt(l.fc),l.fc=!1))}),yield Pl(t,i,e)}catch(i){yield eh(i)}}),ny.apply(this,arguments)}function mk(n,e,t){const i=Ge(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,l)=>{const f=l.view.Mu(e);f.snapshot&&r.push(f.snapshot)}),function(s,l){const f=Ge(s);f.onlineState=l;let p=!1;f.queries.forEach((y,I)=>{for(const D of I.listeners)D.Mu(l)&&(p=!0)}),p&&ty(f)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function pk(n,e,t){return cI.apply(this,arguments)}function cI(){return cI=(0,he.Z)(function*(n,e,t){const i=Ge(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let l=new li(We.comparator);l=l.insert(s,di.newNoDocument(s,_t.min()));const f=nn().add(s),p=new Mv(_t.min(),new Map,new li(Wt),l,f);yield fk(i,p),i.gc=i.gc.remove(s),i.yc.delete(e),uI(i)}else yield cm(i.localStore,e,!1).then(()=>fm(i,e,t)).catch(eh)}),cI.apply(this,arguments)}function VO(n,e){return lI.apply(this,arguments)}function lI(){return lI=(0,he.Z)(function*(n,e){const t=Ge(n),i=e.batch.batchId;try{const r=yield function xO(n,e){const t=Ge(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,p,y){const I=p.batch,D=I.keys();let M=ne.resolve();return D.forEach(F=>{M=M.next(()=>y.getEntry(f,F)).next(V=>{const U=p.docVersions.get(F);mt(null!==U),V.version.compareTo(U)<0&&(I.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),y.addEntry(V)))})}),M.next(()=>l.mutationQueue.removeMutationBatch(f,I))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let f=nn();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(f=f.add(l.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);gk(t,i,null),iy(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Pl(t,r)}catch(r){yield eh(r)}}),lI.apply(this,arguments)}function dI(n,e,t){return lw.apply(this,arguments)}function lw(){return lw=(0,he.Z)(function*(n,e,t){const i=Ge(n);try{const r=yield function(s,l){const f=Ge(s);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return f.mutationQueue.lookupMutationBatch(p,l).next(I=>(mt(null!==I),y=I.keys(),f.mutationQueue.removeMutationBatch(p,I))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>f.localDocuments.getDocuments(p,y))})}(i.localStore,e);gk(i,e,t),iy(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Pl(i,r)}catch(r){yield eh(r)}}),lw.apply(this,arguments)}function Dg(){return Dg=(0,he.Z)(function*(n,e){const t=Ge(n);mh(t.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const l=Ge(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=Tg(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Dg.apply(this,arguments)}function iy(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function gk(n,e,t){const i=Ge(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function fm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||_k(n,i)})}function _k(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(iw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),uI(n))}function dw(n,e,t){for(const i of t)i instanceof oI?(n.Ic.addReference(i.key,e),Sg(n,i)):i instanceof sI?(ke("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||_k(n,i.key)):rt()}function Sg(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(ke("SyncEngine","New document in limbo: "+t),n.mc.add(i),uI(n))}function uI(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new We(xn.fromString(e)),i=n.Ac.next();n.yc.set(i,new uk(t)),n.gc=n.gc.insert(t,i),nw(n.remoteStore,new Wd(Ho(ah(t.path)),i,"TargetPurposeLimboResolution",Zs.ct))}}function Pl(n,e,t){return ry.apply(this,arguments)}function ry(){return ry=(0,he.Z)(function*(n,e,t){const i=Ge(n),r=[],s=[],l=[];var f;i.wc.isEmpty()||(i.wc.forEach((f,p)=>{l.push(i.Rc(p,e,t).then(y=>{if((y||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const I=W0.Li(p.targetId,y);s.push(I)}}))}),yield Promise.all(l),i.dc.nu(r),yield(f=(0,he.Z)(function*(p,y){const I=Ge(p);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>ne.forEach(y,M=>ne.forEach(M.Fi,F=>I.persistence.referenceDelegate.addReference(D,M.targetId,F)).next(()=>ne.forEach(M.Bi,F=>I.persistence.referenceDelegate.removeReference(D,M.targetId,F)))))}catch(D){if(!th(D))throw D;ke("LocalStore","Failed to update sequence numbers: "+D)}for(const D of y){const M=D.targetId;if(!D.fromCache){const F=I.Ji.get(M),U=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);I.Ji=I.Ji.insert(M,U)}}}),function(p,y){return f.apply(this,arguments)})(i.localStore,s))}),ry.apply(this,arguments)}function DV(n,e){return hI.apply(this,arguments)}function hI(){return hI=(0,he.Z)(function*(n,e){const t=Ge(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const i=yield MC(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Te(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Pl(t,i.er)}var r}),hI.apply(this,arguments)}function UO(n,e){const t=Ge(n),i=t.yc.get(e);if(i&&i.fc)return nn().add(i.key);{let r=nn();const s=t._c.get(e);if(!s)return r;for(const l of s){const f=t.wc.get(l);r=r.unionWith(f.view.nc)}return r}}function jO(n,e){return uw.apply(this,arguments)}function uw(){return uw=(0,he.Z)(function*(n,e){const t=Ge(n),i=yield Zv(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&dw(t,e.targetId,r.cc),r}),uw.apply(this,arguments)}function vk(n,e){return fI.apply(this,arguments)}function fI(){return fI=(0,he.Z)(function*(n,e){const t=Ge(n);return OC(t.localStore,e).then(i=>Pl(t,i))}),fI.apply(this,arguments)}function yk(n,e,t,i){return hw.apply(this,arguments)}function hw(){return hw=(0,he.Z)(function*(n,e,t,i){const r=Ge(n),s=yield function(l,f){const p=Ge(l),y=Ge(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",I=>y.Sn(I,f).next(D=>D?p.localDocuments.getDocuments(I,D):ne.resolve(null)))}(r.localStore,e);var f;null!==s?("pending"===t?yield Nl(r.remoteStore):"acknowledged"===t||"rejected"===t?(gk(r,e,i||null),iy(r,e),f=e,Ge(Ge(r.localStore).mutationQueue).Cn(f)):rt(),yield Pl(r,s)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),hw.apply(this,arguments)}function mI(){return mI=(0,he.Z)(function*(n,e){const t=Ge(n);if(xk(t),mw(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield pI(t,i.toArray());t.vc=!0,yield XC(t.remoteStore,!0);for(const s of r)nw(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(fm(t,l),cm(t.localStore,l,!0))),iw(t.remoteStore,l)}),yield r,yield pI(t,i),function(s){const l=Ge(s);l.yc.forEach((f,p)=>{iw(l.remoteStore,p)}),l.Ic.Ts(),l.yc=new Map,l.gc=new li(We.comparator)}(t),t.vc=!1,yield XC(t.remoteStore,!1)}}),mI.apply(this,arguments)}function pI(n,e,t){return gI.apply(this,arguments)}function gI(){return gI=(0,he.Z)(function*(n,e,t){const i=Ge(n),r=[],s=[];for(const l of e){let f;const p=i._c.get(l);if(p&&0!==p.length){f=yield fh(i.localStore,Ho(p[0]));for(const y of p){const I=i.wc.get(y),D=yield jO(i,I);D.snapshot&&s.push(D.snapshot)}}else{const y=yield NC(i.localStore,l);f=yield fh(i.localStore,y),yield _h(i,_I(y),l,!1,f.resumeToken)}r.push(f)}return i.dc.nu(s),r}),gI.apply(this,arguments)}function _I(n){return Cv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function bk(n){const e=Ge(n);return Ge(Ge(e.localStore).persistence).$i()}function wk(n,e,t,i){return fw.apply(this,arguments)}function fw(){return fw=(0,he.Z)(function*(n,e,t,i){const r=Ge(n);if(r.vc)return void ke("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=yield OC(r.localStore,$S(s[0])),f=Mv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Mr.EMPTY_BYTE_STRING);yield Pl(r,l,f);break}case"rejected":yield cm(r.localStore,e,!0),fm(r,e,i);break;default:rt()}}),fw.apply(this,arguments)}function zO(n,e,t){return vI.apply(this,arguments)}function vI(){return vI=(0,he.Z)(function*(n,e,t){const i=xk(n);if(i.vc){for(const r of e){if(i._c.has(r)){ke("SyncEngine","Adding an already active target "+r);continue}const s=yield NC(i.localStore,r),l=yield fh(i.localStore,s);yield _h(i,_I(s),l.targetId,!1,l.resumeToken),nw(i.remoteStore,l)}for(const r of t)i._c.has(r)&&(yield cm(i.localStore,r,!1).then(()=>{iw(i.remoteStore,r),fm(i,r)}).catch(eh))}}),vI.apply(this,arguments)}function xk(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pk.bind(null,e),e.dc.nu=OO.bind(null,e.eventManager),e.dc.Pc=ok.bind(null,e.eventManager),e}function mw(n){const e=Ge(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dI.bind(null,e),e}class pw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,he.Z)(function*(){t.serializer=Eg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return kC(this.persistence,new AC,e.initialUser,this.serializer)}createPersistence(e){return new SC(H0.zs,this.serializer)}createSharedClientState(e){return new CO}terminate(){var e=this;return(0,he.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ek extends pw{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,he.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield mw(i.Vc.syncEngine),yield Nl(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return kC(this.persistence,new AC,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new wC(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new DS(t,this.persistence);return new PN(e.asyncQueue,i)}createPersistence(e){const t=q0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?yo.withCacheSize(this.cacheSizeBytes):yo.DEFAULT;return new G0(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,zA(),lm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new CO}}class $O extends Ek{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,he.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof VC&&(i.sharedClientState.syncEngine={jr:yk.bind(null,r),zr:wk.bind(null,r),Wr:zO.bind(null,r),$i:bk.bind(null,r),Qr:vk.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,he.Z)(function*(l){yield function HO(n,e){return mI.apply(this,arguments)}(i.Vc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=zA();if(!VC.D(t))throw new Te(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=q0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new VC(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class oy{initialize(e,t){var i=this;return(0,he.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>mk(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=DV.bind(null,i.syncEngine),yield XC(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new eI}createDatastore(e){const t=Eg(e.databaseInfo.databaseId),i=new TO(e.databaseInfo);return new qA(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=f=>mk(this.syncEngine,f,0),l=J0.D()?new J0:new BC,new AO(t,i,r,s,l);var t,i,r,s,l}createSyncEngine(e,t){return function(i,r,s,l,f,p,y){const I=new PO(i,r,s,l,f,p);return y&&(I.vc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,he.Z)(function*(t){const i=Ge(t);ke("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield dm(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function GO(n,e=10240){let t=0;return{read:()=>(0,he.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,he.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class yI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ck{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new er,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,he.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,he.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,he.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const s=yield e.$c(r);return new sk(JSON.parse(s),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,he.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,he.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,he.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class qO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,he.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Te(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,he.Z)(function*(s,l){const f=Ge(s),p=fg(f.serializer)+"/documents",y={documents:l.map(F=>Pv(f.serializer,F))},I=yield f.vo("BatchGetDocuments",p,y,l.length),D=new Map;I.forEach(F=>{const V=function aA(n,e){return"found"in e?function(t,i){mt(!!i.found);const r=Ys(t,i.found.name),s=tr(i.found.updateTime),l=i.found.createTime?tr(i.found.createTime):_t.min(),f=new Rr({mapValue:{fields:i.found.fields}});return di.newFoundDocument(r,s,l,f)}(n,e):"missing"in e?function(t,i){mt(!!i.missing),mt(!!i.readTime);const r=Ys(t,i.missing),s=tr(i.readTime);return di.newNoDocument(r,s)}(n,e):rt()}(f.serializer,F);D.set(V.key.toString(),V)});const M=[];return l.forEach(F=>{const V=D.get(F.toString());mt(!!V),M.push(V)}),M}),function(s,l){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,he.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=We.fromPath(r);e.mutations.push(new C0(s,e.precondition(s)))}),yield(i=(0,he.Z)(function*(r,s){const l=Ge(r),f=fg(l.serializer)+"/documents",p={writes:s.map(y=>mg(l.serializer,y))};yield l.Io("Commit",f,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw rt();t=_t.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Te(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_t.min())?xi.exists(!1):xi.updateTime(t):xi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_t.min()))throw new Te(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xi.updateTime(t)}return xi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class kV{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new Xv(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,he.Z)(function*(){const t=new qO(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Uc(s)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!gv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!kv(t)}return!1}}class Ik{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=kr.UNAUTHENTICATED,this.clientId=SE.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,he.Z)(function*(f){ke("FirestoreClient","Received user=",f.uid),yield s.authCredentialListener(f),s.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(ke("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,he.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Tg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function gw(n,e){return bI.apply(this,arguments)}function bI(){return bI=(0,he.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,he.Z)(function*(s){i.isEqual(s)||(yield MC(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),bI.apply(this,arguments)}function wI(n,e){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,he.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield xI(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>ik(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>ik(e.remoteStore,s)),n._onlineComponents=e}),Tk.apply(this,arguments)}function sy(n){return"FirebaseError"===n.name?n.code===ae.FAILED_PRECONDITION||n.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function xI(n){return mm.apply(this,arguments)}function mm(){return mm=(0,he.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield gw(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!sy(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),yield gw(n,new pw)}}else ke("FirestoreClient","Using default OfflineComponentProvider"),yield gw(n,new pw);return n._offlineComponents}),mm.apply(this,arguments)}function pm(n){return EI.apply(this,arguments)}function EI(){return EI=(0,he.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield wI(n,n._uninitializedComponentsProvider._online)):(ke("FirestoreClient","Using default OnlineComponentProvider"),yield wI(n,new oy))),n._onlineComponents}),EI.apply(this,arguments)}function Dk(n){return xI(n).then(e=>e.persistence)}function _w(n){return xI(n).then(e=>e.localStore)}function Sk(n){return pm(n).then(e=>e.remoteStore)}function CI(n){return pm(n).then(e=>e.syncEngine)}function Ag(n){return vw.apply(this,arguments)}function vw(){return vw=(0,he.Z)(function*(n){const e=yield pm(n),t=e.eventManager;return t.onListen=FO.bind(null,e.syncEngine),t.onUnlisten=LO.bind(null,e.syncEngine),t}),vw.apply(this,arguments)}function kk(n,e,t={}){const i=new er;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(r,s,l,f,p){const y=new yI({next:D=>{s.enqueueAndForget(()=>nI(r,I));const M=D.docs.has(l);!M&&D.fromCache?p.reject(new Te(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&D.fromCache&&f&&"server"===f.source?p.reject(new Te(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),I=new cw(ah(l.path),y,{includeMetadataChanges:!0,Ku:!0});return ey(r,I)}(yield Ag(n),n.asyncQueue,e,t,i)})),i.promise}function Mk(n,e,t={}){const i=new er;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(r,s,l,f,p){const y=new yI({next:D=>{s.enqueueAndForget(()=>nI(r,I)),D.fromCache&&"server"===f.source?p.reject(new Te(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),I=new cw(l,y,{includeMetadataChanges:!0,Ku:!0});return ey(r,I)}(yield Ag(n),n.asyncQueue,e,t,i)})),i.promise}function Rk(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Nk=new Map;function II(n,e,t){if(!t)throw new Te(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function TI(n,e,t,i){if(!0===e&&!0===i)throw new Te(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yw(n){if(!We.isDocumentKey(n))throw new Te(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ok(n){if(We.isDocumentKey(n))throw new Te(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":rt()}function mn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bw(n);throw new Te(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Pk(n,e){if(e<=0)throw new Te(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class DI{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Te(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Te(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Rk(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Te(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Te(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Te(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ww{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Te(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DI(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new pV;switch(t.type){case"firstParty":return new AN(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Te(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Nk.get(e);t&&(ke("ComponentProvider","Removing Datastore"),Nk.delete(e),t.terminate())}(this),Promise.resolve()}}class ui{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ui(this.firestore,e,this._key)}}class Hr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Hr(this.firestore,e,this._query)}}class Fl extends Hr{constructor(e,t,i){super(e,t,ah(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ui(this.firestore,null,new We(e))}withConverter(e){return new Fl(this.firestore,e,this._path)}}function SI(n,e,...t){if(n=(0,L.m9)(n),II("collection","path",e),n instanceof ww){const i=xn.fromString(e,...t);return Ok(i),new Fl(n,null,i)}{if(!(n instanceof ui||n instanceof Fl))throw new Te(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xn.fromString(e,...t));return Ok(i),new Fl(n.firestore,null,i)}}function kg(n,e,...t){if(n=(0,L.m9)(n),1===arguments.length&&(e=SE.A()),II("doc","path",e),n instanceof ww){const i=xn.fromString(e,...t);return yw(i),new ui(n,null,new We(i))}{if(!(n instanceof ui||n instanceof Fl))throw new Te(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xn.fromString(e,...t));return yw(i),new ui(n.firestore,n instanceof Fl?n.converter:null,new We(i))}}function AI(n,e){return n=(0,L.m9)(n),e=(0,L.m9)(e),(n instanceof ui||n instanceof Fl)&&(e instanceof ui||e instanceof Fl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ay(n,e){return n=(0,L.m9)(n),e=(0,L.m9)(e),n instanceof Hr&&e instanceof Hr&&n.firestore===e.firestore&&rg(n._query,e._query)&&n.converter===e.converter}class kI{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Xv(this,"async_queue_retry"),this.Xc=()=>{const t=lm();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=lm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=lm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new er;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,he.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!th(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Vi("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=JC.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&rt()}verifyOperationInProgress(){}sa(){var e=this;return(0,he.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function MI(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class MV{constructor(){this._progressObserver={},this._taskCompletionResolver=new er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class pi extends ww{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new kI,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||vh(this),this._firestoreClient.terminate()}}function ji(n){return n._firestoreClient||vh(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function vh(n){var e,t,i;const r=n._freezeSettings(),s=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new GN(n._databaseId,f,n._persistenceKey,(y=r).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Rk(y.experimentalLongPollingOptions),y.useFetchStreams));var f,y;n._firestoreClient=new Ik(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function cy(n,e,t){const i=new er;return n.asyncQueue.enqueue((0,he.Z)(function*(){try{yield gw(n,t),yield wI(n,e),i.resolve()}catch(r){const s=r;if(!sy(s))throw s;Uo("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function jk(n){if(n._initialized||n._terminated)throw new Te(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ll(Mr.fromBase64String(e))}catch(t){throw new Te(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ll(Mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Te(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ki(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gm{constructor(e){this._methodName=e}}class Mg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}}const Hk=/^__.*__$/;class bh{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Ml(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kf(e,this.data,t,this.fieldTransforms)}}class RI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ml(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt()}}class dy{constructor(e,t,i,r,s,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new dy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Aw(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(zk(this.ca)&&Hk.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class $k{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Eg(e)}ya(e,t,i,r=!1){return new dy({ca:e,methodName:t,ga:i,path:ki.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _m(n){const e=n._freezeSettings(),t=Eg(n._databaseId);return new $k(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Rg(n,e,t,i,r,s={}){const l=n.ya(s.merge||s.mergeFields?2:0,e,t,r);Wk("Data must be an object, but it was:",l,i);const f=cP(i,l);let p,y;if(s.merge)p=new Jr(l.fieldMask),y=l.fieldTransforms;else if(s.mergeFields){const I=[];for(const D of s.mergeFields){const M=uy(e,D,t);if(!l.contains(M))throw new Te(ae.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);NI(I,M)||I.push(M)}p=new Jr(I),y=l.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,y=l.fieldTransforms;return new bh(new Rr(f),p,y)}class Cw extends gm{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cw}}function Gk(n,e,t){return new dy({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Iw extends gm{_toFieldTransform(e){return new Dv(e.path,new cg)}isEqual(e){return e instanceof Iw}}class sP extends gm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Gk(this,e,!0),i=this.pa.map(s=>Ng(s,t)),r=new ch(i);return new Dv(e.path,r)}isEqual(e){return this===e}}class OV extends gm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Gk(this,e,!0),i=this.pa.map(s=>Ng(s,t)),r=new Zf(i);return new Dv(e.path,r)}isEqual(e){return this===e}}class PV extends gm{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new lg(e.serializer,ZS(e.serializer,this.Ia));return new Dv(e.path,t)}isEqual(e){return this===e}}function qk(n,e,t,i){const r=n.ya(1,e,t);Wk("Data must be an object, but it was:",r,i);const s=[],l=Rr.empty();yc(i,(p,y)=>{const I=Sw(e,p,t);y=(0,L.m9)(y);const D=r.da(I);if(y instanceof Cw)s.push(I);else{const M=Ng(y,D);null!=M&&(s.push(I),l.set(I,M))}});const f=new Jr(s);return new RI(l,f,r.fieldTransforms)}function Tw(n,e,t,i,r,s){const l=n.ya(1,e,t),f=[uy(e,i,t)],p=[r];if(s.length%2!=0)throw new Te(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<s.length;M+=2)f.push(uy(e,s[M])),p.push(s[M+1]);const y=[],I=Rr.empty();for(let M=f.length-1;M>=0;--M)if(!NI(y,f[M])){const F=f[M];let V=p[M];V=(0,L.m9)(V);const U=l.da(F);if(V instanceof Cw)y.push(F);else{const X=Ng(V,U);null!=X&&(y.push(F),I.set(F,X))}}const D=new Jr(y);return new RI(I,D,l.fieldTransforms)}function aP(n,e,t,i=!1){return Ng(t,n.ya(i?4:3,e))}function Ng(n,e){if(lP(n=(0,L.m9)(n)))return Wk("Unsupported field value:",e,n),cP(n,e);if(n instanceof gm)return function(t,i){if(!zk(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const l of t){let f=Ng(l,i.wa(s));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,L.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ZS(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Kn.fromDate(t);return{timestampValue:Ov(i.serializer,r)}}if(t instanceof Kn){const r=new Kn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ov(i.serializer,r)}}if(t instanceof Mg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ll)return{bytesValue:Jf(i.serializer,t._byteString)};if(t instanceof ui){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:cC(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${bw(t)}`)}(n,e)}function cP(n,e){const t={};return RS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yc(n,(i,r)=>{const s=Ng(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function lP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Kn||n instanceof Mg||n instanceof Ll||n instanceof ui||n instanceof gm)}function Wk(n,e,t){if(!lP(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=bw(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function uy(n,e,t){if((e=(0,L.m9)(e))instanceof yh)return e._internalPath;if("string"==typeof e)return Sw(n,e);throw Aw("Field path arguments must be of type string or ",n,!1,void 0,t)}const Dw=new RegExp("[~\\*/\\[\\]]");function Sw(n,e,t){if(e.search(Dw)>=0)throw Aw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yh(...e.split("."))._internalPath}catch{throw Aw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Aw(n,e,t,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(s||l)&&(p+=" (found",s&&(p+=` in field ${i}`),l&&(p+=` in document ${r}`),p+=")"),new Te(ae.INVALID_ARGUMENT,f+n+p)}function NI(n,e){return n.some(t=>t.isEqual(e))}class wc{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ui(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Zk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Og("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Zk extends wc{data(){return super.data()}}function Og(n,e){return"string"==typeof e?Sw(n,e):e instanceof yh?e._internalPath:e._delegate._internalPath}function kw(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Te(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OI{}class vm extends OI{}function Vl(n,e,...t){let i=[];e instanceof OI&&i.push(e),i=i.concat(t),function(r){const s=r.filter(f=>f instanceof hy).length,l=r.filter(f=>f instanceof wh).length;if(s>1||s>0&&l>0)throw new Te(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class wh extends vm{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new wh(e,t,i)}_apply(e){const t=this._parse(e);return LI(e._query,t),new Hr(e.firestore,e.converter,JE(e._query,t))}_parse(e){const t=_m(e.firestore);return function(r,s,l,f,p,y,I){let D;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Te(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){FI(I,y);const M=[];for(const F of I)M.push(Yk(f,r,F));D={arrayValue:{values:M}}}else D=Yk(f,r,I)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||FI(I,y),D=aP(l,"where",I,"in"===y||"not-in"===y);return hn.create(p,y,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class hy extends OI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const l=r.getFlattenedFilters();for(const f of l)LI(s,f),s=JE(s,f)}(e._query,t),new Hr(e.firestore,e.converter,JE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class PI extends vm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new PI(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Jp(r,s);return function(f,p){if(null===ng(f)){const y=Al(f);null!==y&&Ow(0,y,p.field)}}(i,l),l}(e._query,this._field,this._direction);return new Hr(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Sl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Hi extends vm{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Hi(e,t,i)}_apply(e){return new Hr(e.firestore,e.converter,ig(e._query,this._limit,this._limitType))}}class ym extends vm{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new ym(e,t,i)}_apply(e){const t=Nw(e,this.type,this._docOrFields,this._inclusive);return new Hr(e.firestore,e.converter,(r=t,new Sl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Rw extends vm{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Rw(e,t,i)}_apply(e){const t=Nw(e,this.type,this._docOrFields,this._inclusive);return new Hr(e.firestore,e.converter,(r=t,new Sl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function Nw(n,e,t,i){if(t[0]=(0,L.m9)(t[0]),t[0]instanceof wc)return function(r,s,l,f,p){if(!f)throw new Te(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const y=[];for(const I of Ur(r))if(I.field.isKeyField())y.push(Na(s,f.key));else{const D=f.data.field(I.field);if(f0(D))throw new Te(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const M=I.field.canonicalString();throw new Te(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}y.push(D)}return new rh(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=_m(n.firestore);return function(s,l,f,p,y,I){const D=s.explicitOrderBy;if(y.length>D.length)throw new Te(ae.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let F=0;F<y.length;F++){const V=y[F];if(D[F].field.isKeyField()){if("string"!=typeof V)throw new Te(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof V}`);if(!XE(s)&&-1!==V.indexOf("/"))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${V}' contains a slash.`);const U=s.path.child(xn.fromString(V));if(!We.isDocumentKey(U))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${U}' is not because it contains an odd number of segments.`);const X=new We(U);M.push(Na(l,X))}else{const U=aP(f,p,V);M.push(U)}}return new rh(M,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function Yk(n,e,t){if("string"==typeof(t=(0,L.m9)(t))){if(""===t)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XE(e)&&-1!==t.indexOf("/"))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(xn.fromString(t));if(!We.isDocumentKey(i))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Na(n,new We(i))}if(t instanceof ui)return Na(n,t._key);throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bw(t)}.`)}function FI(n,e){if(!Array.isArray(n)||0===n.length)throw new Te(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LI(n,e){if(e.isInequality()){const i=Al(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=ng(n);null!==s&&Ow(0,r,s)}const t=function(i,r){for(const s of i)for(const l of s.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Te(ae.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Ow(n,e,t){if(!t.isEqual(e))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class BI{convertValue(e,t="none"){switch(Tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Il(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return yc(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new Mg(Bi(e.latitude),Bi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=m0(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Qp(e));default:return null}}convertTimestamp(e){const t=Cl(e);return new Kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=xn.fromString(e);mt(mA(i));const r=new ih(i.get(1),i.get(3)),s=new We(i.popFirst(5));return r.isEqual(t)||Vi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Pw(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Qk extends BI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ui(this.firestore,null,t)}}class xh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eh extends wc{constructor(e,t,i,r,s,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Og("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Vw extends Eh{data(e={}){return super.data(e)}}class bm{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new xh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Vw(this._firestore,this._userDataWriter,i.key,i,new xh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new Vw(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const f=new Vw(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==l.type&&(p=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),y=s.indexOf(l.doc.key)),{type:uP(l.type),doc:f,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function uP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt()}}function Xk(n,e){return n instanceof Eh&&e instanceof Eh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof bm&&e instanceof bm&&n._firestore===e._firestore&&ay(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Jd extends BI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ui(this.firestore,null,t)}}function hP(n,e,t){n=mn(n,ui);const i=mn(n.firestore,pi),r=Pw(n.converter,e,t);return py(i,[Rg(_m(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,xi.none())])}function Jk(n,e,t,...i){n=mn(n,ui);const r=mn(n.firestore,pi),s=_m(r);let l;return l="string"==typeof(e=(0,L.m9)(e))||e instanceof yh?Tw(s,"updateDoc",n._key,e,t,i):qk(s,"updateDoc",n._key,e),py(r,[l.toMutation(n._key,xi.exists(!0))])}function eM(n,...e){var t,i,r;n=(0,L.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||MI(e[l])||(s=e[l],l++);const f={includeMetadataChanges:s.includeMetadataChanges};if(MI(e[l])){const D=e[l];e[l]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[l+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),e[l+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let p,y,I;if(n instanceof ui)y=mn(n.firestore,pi),I=ah(n._key.path),p={next:D=>{e[l]&&e[l](Bw(y,n,D))},error:e[l+1],complete:e[l+2]};else{const D=mn(n,Hr);y=mn(D.firestore,pi),I=D._query;const M=new Jd(y);p={next:F=>{e[l]&&e[l](new bm(y,M,D,F))},error:e[l+1],complete:e[l+2]},kw(n._query)}return function(D,M,F,V){const U=new yI(V),X=new cw(M,U,F);return D.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return ey(yield Ag(D),X)})),()=>{U.Dc(),D.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return nI(yield Ag(D),X)}))}}(ji(y),I,f,p)}function py(n,e){return function(t,i){const r=new er;return t.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function TV(n,e,t){return hm.apply(this,arguments)}(yield CI(t),i,r)})),r.promise}(ji(n),e)}function Bw(n,e,t){const i=t.docs.get(e._key),r=new Jd(n);return new Eh(n,r,e._key,i,new xh(t.hasPendingWrites,t.fromCache),e.converter)}const rM={maxAttempts:5};class oM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_m(e)}set(e,t,i){this._verifyNotCommitted();const r=eu(e,this._firestore),s=Pw(r.converter,t,i),l=Rg(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,xi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=eu(e,this._firestore);let l;return l="string"==typeof(t=(0,L.m9)(t))||t instanceof yh?Tw(this._dataReader,"WriteBatch.update",s._key,t,i,r):qk(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,xi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=eu(e,this._firestore);return this._mutations=this._mutations.concat(new Yf(t._key,xi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function eu(n,e){if((n=(0,L.m9)(n)).firestore!==e)throw new Te(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class sM extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_m(e)}get(e){const t=eu(e,this._firestore),i=new Qk(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return rt();const s=r[0];if(s.isFoundDocument())return new wc(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new wc(this._firestore,i,t._key,null,t.converter);throw rt()})}set(e,t,i){const r=eu(e,this._firestore),s=Pw(r.converter,t,i),l=Rg(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(e,t,i,...r){const s=eu(e,this._firestore);let l;return l="string"==typeof(t=(0,L.m9)(t))||t instanceof yh?Tw(this._dataReader,"Transaction.update",s._key,t,i,r):qk(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=eu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=eu(e,this._firestore),i=new Jd(this._firestore);return super.get(e).then(r=>new Eh(this._firestore,i,t._key,r._document,new xh(!1,!1),t.converter))}}function uM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Te("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function hM(){if(typeof Uint8Array>"u")throw new Te("unimplemented","Uint8Arrays are not available in this environment.")}function wP(){if(!function wV(){return typeof atob<"u"}())throw new Te("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Bf=Vo.SDK_VERSION,(0,Vo._registerComponent)(new pc.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),l=new pi(new SN(t.getProvider("auth-internal")),new IS(t.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Te(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(f.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,Vo.registerVersion)(TE,"3.13.0",n),(0,Vo.registerVersion)(TE,"3.13.0","esm2017")}();class gy{constructor(e){this._delegate=e}static fromBase64String(e){return wP(),new gy(Ll.fromBase64String(e))}static fromUint8Array(e){return hM(),new gy(Ll.fromUint8Array(e))}toBase64(){return wP(),this._delegate.toBase64()}toUint8Array(){return hM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fM(n){return function nB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class xP{enableIndexedDbPersistence(e,t){return function xw(n,e){jk(n=mn(n,pi));const t=ji(n);if(t._uninitializedComponentsProvider)throw new Te(ae.FAILED_PRECONDITION,"SDK cache is already specified.");Uo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new oy;return cy(t,r,new Ek(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Vk(n){jk(n=mn(n,pi));const e=ji(n);if(e._uninitializedComponentsProvider)throw new Te(ae.FAILED_PRECONDITION,"SDK cache is already specified.");Uo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new oy;return cy(e,i,new $O(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function iP(n){if(n._initialized&&!n._terminated)throw new Te(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new er;return n._queue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{yield(t=(0,he.Z)(function*(i){if(!jo.D())return Promise.resolve();const r=i+"main";yield jo.delete(r)}),function(i){return t.apply(this,arguments)})(q0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class mM{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof ih||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Uo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function Fk(n,e,t,i={}){var r;const s=(n=mn(n,ww))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==l&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),i.mockUserToken){let f,p;if("string"==typeof i.mockUserToken)f=i.mockUserToken,p=kr.MOCK_USER;else{f=(0,L.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Te(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new kr(y)}n._authCredentials=new DN(new TN(f,p))}}(this._delegate,e,t,i)}enableNetwork(){return function RV(n){return function WO(n){return n.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield Dk(n),t=yield Sk(n);return e.setNetworkEnabled(!0),function(i){const r=Ge(i);return r.vu.delete(0),Cg(r)}(t)}))}(ji(n=mn(n,pi)))}(this._delegate)}disableNetwork(){return function Bk(n){return function ZO(n){return n.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield Dk(n),t=yield Sk(n);return e.setNetworkEnabled(!1),(i=(0,he.Z)(function*(r){const s=Ge(r);s.vu.add(0),yield dm(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(ji(n=mn(n,pi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,TI("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function rP(n){return function(e){const t=new er;return e.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function BO(n,e){return Dg.apply(this,arguments)}(yield CI(e),t)})),t.promise}(ji(n=mn(n,pi)))}(this._delegate)}onSnapshotsInSync(e){return function tM(n,e){return function QO(n,e){const t=new yI(e);return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return i=yield Ag(n),r=t,Ge(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return i=yield Ag(n),r=t,void Ge(i).ku.delete(r);var i,r}))}}(ji(n=mn(n,pi)),MI(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new a(this,SI(this._delegate,e))}catch(t){throw gs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Fa(this,kg(this._delegate,e))}catch(t){throw gs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Go(this,function tP(n,e){if(n=mn(n,ww),II("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Te(ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Hr(n,null,(t=e,new Sl(xn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw gs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function eB(n,e,t){n=mn(n,pi);const i=Object.assign(Object.assign({},rM),t);return function(r){if(r.maxAttempts<1)throw new Te(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,l){const f=new er;return r.asyncQueue.enqueueAndForget((0,he.Z)(function*(){const p=yield function Ak(n){return pm(n).then(e=>e.datastore)}(r);new kV(r.asyncQueue,p,l,s,f).run()})),f.promise}(ji(n),r=>e(new sM(n,r)),i)}(this._delegate,t=>e(new EP(this,t)))}batch(){return ji(this._delegate),new CP(new oM(this._delegate,e=>py(this._delegate,e)))}loadBundle(e){return function oP(n,e){const t=ji(n=mn(n,pi)),i=new MV;return function XO(n,e,t,i){const r=function(s,l){let f;return f="string"==typeof s?iA().encode(s):s,p=function(p,y){if(p instanceof Uint8Array)return GO(p,y);if(p instanceof ArrayBuffer)return GO(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new Ck(p,l);var p}(t,Eg(e));n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){!function SV(n,e,t){const i=Ge(n);var r;(r=(0,he.Z)(function*(s,l,f){try{const p=yield l.getMetadata();if(yield function(M,F){const V=Ge(M),U=tr(F.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",X=>V.qs.getBundleMetadata(X,F.id)).then(X=>!!X&&X.createTime.compareTo(U)>=0)}(s.localStore,p))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(M=p).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);f._updateProgress(ck(p));const y=new ak(p,s.localStore,l.serializer);let I=yield l.bc();for(;I;){const M=yield y.zu(I);M&&f._updateProgress(M),I=yield l.bc()}const D=yield y.complete();return yield Pl(s,D.Ju,void 0),yield function(M,F){const V=Ge(M);return V.persistence.runTransaction("Save bundle","readwrite",U=>V.qs.saveBundleMetadata(U,F))}(s.localStore,p),f._completeWith(D.progress),Promise.resolve(D.Hu)}catch(p){return Uo("SyncEngine",`Loading bundle failed with ${p}`),f._failWith(p),Promise.resolve(new Set)}var M}),function(s,l,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield CI(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Uk(n,e){return function JO(n,e){return n.asyncQueue.enqueue((0,he.Z)(function*(){return function(t,i){const r=Ge(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield _w(n),e)}))}(ji(n=mn(n,pi)),e).then(t=>t?new Hr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Go(this,t):null)}}class jw extends BI{constructor(e){super(),this.firestore=e}convertBytes(e){return new gy(new Ll(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Fa.forKey(t,this.firestore,null)}}class EP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jw(e)}get(e){const t=c(e);return this._delegate.get(t).then(i=>new Hw(this._firestore,new Eh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=c(e);return i?(uM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=c(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=c(e);return this._delegate.delete(t),this}}class CP{constructor(e){this._delegate=e}set(e,t,i){const r=c(e);return i?(uM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=c(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=c(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Pg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Vw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zw(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Pg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Pg(e,new jw(e),t),r.set(t,s)),s}}Pg.INSTANCES=new WeakMap;class Fa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jw(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Fa(t,new ui(t._delegate,i,new We(e)))}static forKey(e,t,i){return new Fa(t,new ui(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new a(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new a(this.firestore,SI(this._delegate,e))}catch(t){throw gs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,L.m9)(e))instanceof ui&&AI(this._delegate,e)}set(e,t){t=uM("DocumentReference.set",t);try{return t?hP(this._delegate,e,t):hP(this._delegate,e)}catch(i){throw gs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Jk(this._delegate,e):Jk(this._delegate,e,t,...i)}catch(r){throw gs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function WV(n){return py(mn(n.firestore,pi),[new Yf(n._key,xi.none())])}(this._delegate)}onSnapshot(...e){const t=IP(e),i=TP(e,r=>new Hw(this.firestore,new Eh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return eM(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function UI(n){n=mn(n,ui);const e=mn(n.firestore,pi),t=ji(e),i=new Jd(e);return function KO(n,e){const t=new er;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(i=(0,he.Z)(function*(r,s,l){try{const f=yield function(p,y){const I=Ge(p);return I.persistence.runTransaction("read document","readonly",D=>I.localDocuments.getDocument(D,y))}(r,s);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Te(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const p=Tg(f,`Failed to get document '${s} from cache`);l.reject(p)}}),function(r,s,l){return i.apply(this,arguments)})(yield _w(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Eh(e,i,n._key,r,new xh(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function $V(n){n=mn(n,ui);const e=mn(n.firestore,pi);return kk(ji(e),n._key,{source:"server"}).then(t=>Bw(e,n,t))}(this._delegate):function zV(n){n=mn(n,ui);const e=mn(n.firestore,pi);return kk(ji(e),n._key).then(t=>Bw(e,n,t))}(this._delegate),t.then(i=>new Hw(this.firestore,new Eh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Fa(this.firestore,this._delegate.withConverter(e?Pg.getInstance(this.firestore,e):null))}}function gs(n,e,t){return n.message=n.message.replace(e,t),n}function IP(n){for(const e of n)if("object"==typeof e&&!fM(e))return e;return{}}function TP(n,e){var t,i;let r;return r=fM(n[0])?n[0]:fM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Hw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Fa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Xk(this._delegate,e._delegate)}}class zw extends Hw{data(e){const t=this._delegate.data(e);return function DE(n,e){n||rt()}(void 0!==t),t}}class Go{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jw(e)}where(e,t,i){try{return new Go(this.firestore,Vl(this._delegate,function FV(n,e,t){const i=e,r=Og("where",n);return wh._create(r,i,t)}(e,t,i)))}catch(r){throw gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Go(this.firestore,Vl(this._delegate,function VV(n,e="asc"){const t=e,i=Og("orderBy",n);return PI._create(i,t)}(e,t)))}catch(i){throw gs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Go(this.firestore,Vl(this._delegate,function fy(n){return Pk("limit",n),Hi._create("limit",n,"F")}(e)))}catch(t){throw gs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Go(this.firestore,Vl(this._delegate,function Mw(n){return Pk("limitToLast",n),Hi._create("limitToLast",n,"L")}(e)))}catch(t){throw gs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Go(this.firestore,Vl(this._delegate,function Kk(...n){return ym._create("startAt",n,!0)}(...e)))}catch(t){throw gs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Go(this.firestore,Vl(this._delegate,function BV(...n){return ym._create("startAfter",n,!1)}(...e)))}catch(t){throw gs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Go(this.firestore,Vl(this._delegate,function UV(...n){return Rw._create("endBefore",n,!1)}(...e)))}catch(t){throw gs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Go(this.firestore,Vl(this._delegate,function jV(...n){return Rw._create("endAt",n,!0)}(...e)))}catch(t){throw gs(t,"endAt()","Query.endAt()")}}isEqual(e){return ay(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function GV(n){n=mn(n,Hr);const e=mn(n.firestore,pi),t=ji(e),i=new Jd(e);return function YO(n,e){const t=new er;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(i=(0,he.Z)(function*(r,s,l){try{const f=yield Zv(r,s,!0),p=new lk(s,f.ir),y=p.sc(f.documents),I=p.applyChanges(y,!1);l.resolve(I.snapshot)}catch(f){const p=Tg(f,`Failed to execute query '${s} against cache`);l.reject(p)}}),function(r,s,l){return i.apply(this,arguments)})(yield _w(n),e,t);var i})),t.promise}(t,n._query).then(r=>new bm(e,i,n,r))}(this._delegate):"server"===e?.source?function qV(n){n=mn(n,Hr);const e=mn(n.firestore,pi),t=ji(e),i=new Jd(e);return Mk(t,n._query,{source:"server"}).then(r=>new bm(e,i,n,r))}(this._delegate):function jI(n){n=mn(n,Hr);const e=mn(n.firestore,pi),t=ji(e),i=new Jd(e);return kw(n._query),Mk(t,n._query).then(r=>new bm(e,i,n,r))}(this._delegate),t.then(i=>new o(this.firestore,new bm(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=IP(e),i=TP(e,r=>new o(this.firestore,new bm(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return eM(this._delegate,t,i)}withConverter(e){return new Go(this.firestore,this._delegate.withConverter(e?Pg.getInstance(this.firestore,e):null))}}class rB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new zw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class o{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Go(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new zw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new rB(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new zw(this._firestore,i))})}isEqual(e){return Xk(this._delegate,e._delegate)}}class a extends Go{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Fa(this.firestore,e):null}doc(e){try{return new Fa(this.firestore,void 0===e?kg(this._delegate):kg(this._delegate,e))}catch(t){throw gs(t,"doc()","CollectionReference.doc()")}}add(e){return function ZV(n,e){const t=mn(n.firestore,pi),i=kg(n),r=Pw(n.converter,e);return py(t,[Rg(_m(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,xi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Fa(this.firestore,t))}isEqual(e){return AI(this._delegate,e._delegate)}withConverter(e){return new a(this.firestore,this._delegate.withConverter(e?Pg.getInstance(this.firestore,e):null))}}function c(n){return mn(n,ui)}class u{constructor(...e){this._delegate=new yh(...e)}static documentId(){return new u(ki.keyField().canonicalString())}isEqual(e){return(e=(0,L.m9)(e))instanceof yh&&this._delegate._internalPath.isEqual(e._internalPath)}}class h{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Uw(){return new Iw("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new h(e)}static delete(){const e=function vP(){return new Cw("deleteField")}();return e._methodName="FieldValue.delete",new h(e)}static arrayUnion(...e){const t=function aM(...n){return new sP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new h(t)}static arrayRemove(...e){const t=function cM(...n){return new OV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new h(t)}static increment(e){const t=function yP(n){return new PV("increment",n)}(e);return t._methodName="FieldValue.increment",new h(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const m={Firestore:mM,GeoPoint:Mg,Timestamp:Kn,Blob:gy,Transaction:EP,WriteBatch:CP,DocumentReference:Fa,DocumentSnapshot:Hw,Query:Go,QueryDocumentSnapshot:zw,QuerySnapshot:o,CollectionReference:a,FieldPath:u,FieldValue:h,setLogLevel:function iB(n){!function ES(n){Hd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function C(...n){const e=el(n),t=function Zm(n,e){return"number"==typeof ec(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?en(i[0]):nc(t)(tn(i,e)):Cr}!function w(n){(function v(n,e){n.INTERNAL.registerComponent(new pc.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},m)))})(n,(e,t)=>new mM(e,t,new xP)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(Zx.Z);var S=K(552);class R extends An.x{constructor(e=1/0,t=1/0,i=S.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;t||(i.push(e),!r&&i.push(s.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!e.closed;l+=i?1:2)e.next(s[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const l=t.now();let f=0;for(let p=1;p<i.length&&i[p]<=l;p+=2)f=p;f&&i.splice(0,f+1)}}}var P=K(305);function z(n={}){const{connector:e=(()=>new An.x),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let l,f,p,y=0,I=!1,D=!1;const M=()=>{f?.unsubscribe(),f=void 0},F=()=>{M(),l=p=void 0,I=D=!1},V=()=>{const U=l;F(),U?.unsubscribe()};return(0,qn.e)((U,X)=>{y++,!D&&!I&&M();const fe=p=p??e();X.add(()=>{y--,0===y&&!D&&!I&&(f=Z(V,r))}),fe.subscribe(X),!l&&y>0&&(l=new P.Hp({next:Ne=>fe.next(Ne),error:Ne=>{D=!0,M(),f=Z(F,t,Ne),fe.error(Ne)},complete:()=>{I=!0,M(),f=Z(F,i),fe.complete()}}),en(U).subscribe(l))})(s)}}function Z(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new P.Hp({next:()=>{i.unsubscribe(),n()}});return en(e(...t)).subscribe(i)}function ce(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,z({connector:()=>new R(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function De(n,e){return(0,yi.m)(e)?Wn(()=>n,e):Wn(()=>n)}K(97);const AP=new Map,oB={activated:!1,tokenObservers:[]},S$={initialized:!1,enabled:!1};function _r(n){return AP.get(n)||Object.assign({},oB)}function pM(){return S$}const kP="https://content-firebaseappcheck.googleapis.com/v1",R$="exchangeDebugToken",sB={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class O${constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,he.Z)(function*(){t.stop();try{t.pending=new L.BH,yield function P$(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new L.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Wo=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function MP(n){if(!_r(n).activated)throw Wo.create("use-before-activation",{appName:n.name})}function vM(n,e){return NP.apply(this,arguments)}function NP(){return NP=(0,he.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const D=yield r.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const s={method:"POST",body:JSON.stringify(e),headers:i};let l,f;try{l=yield fetch(n,s)}catch(D){throw Wo.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==l.status)throw Wo.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(D){throw Wo.create("fetch-parse-error",{originalErrorMessage:D?.message})}const p=f.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Wo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const y=1e3*Number(p[1]),I=Date.now();return{token:f.token,expireTimeMillis:I+y,issuedAtTimeMillis:I}}),NP.apply(this,arguments)}function aB(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${kP}/projects/${t}/apps/${i}:${R$}?key=${r}`,body:{debug_token:e}}}const B$="firebase-app-check-database",U$=1,$I="firebase-app-check-store";let yM=null;function OP(){return OP=(0,he.Z)(function*(n,e){const i=(yield function lB(){return yM||(yM=new Promise((n,e)=>{try{const t=indexedDB.open(B$,U$);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Wo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore($I,{keyPath:"compositeKey"})}}catch(t){e(Wo.create("storage-open",{originalErrorMessage:t?.message}))}}),yM)}()).transaction($I,"readwrite"),s=i.objectStore($I).put({compositeKey:n,value:e});return new Promise((l,f)=>{s.onsuccess=p=>{l()},i.onerror=p=>{var y;f(Wo.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})}),OP.apply(this,arguments)}const GI=new Hs.Yd("@firebase/app-check");function LP(n,e){return(0,L.hl)()?function H$(n,e){return function dB(n,e){return OP.apply(this,arguments)}(function hB(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{GI.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function BP(){return pM().enabled}function UP(){return jP.apply(this,arguments)}function jP(){return jP=(0,he.Z)(function*(){const n=pM();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),jP.apply(this,arguments)}const Z$={error:"UNKNOWN_ERROR"};function K$(n){return L.US.encodeString(JSON.stringify(n),!1)}function bM(n){return HP.apply(this,arguments)}function HP(){return HP=(0,he.Z)(function*(n,e=!1){const t=n.app;MP(t);const i=_r(t);let s,r=i.token;if(r&&!$w(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&($w(p)?r=p:yield LP(t,void 0))}if(!e&&r&&$w(r))return{token:r.token};let f,l=!1;if(BP()){i.exchangeTokenPromise||(i.exchangeTokenPromise=vM(aB(t,yield UP()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const p=yield i.exchangeTokenPromise;return yield LP(t,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield _r(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?GI.warn(p.message):GI.error(p),s=p}return r?s?f=$w(r)?{token:r.token,internalError:s}:gB(s):(f={token:r.token},i.token=r,yield LP(t,r)):f=gB(s),l&&function pB(n,e){const t=_r(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,f),f}),HP.apply(this,arguments)}function zP(){return zP=(0,he.Z)(function*(n){const e=n.app;MP(e);const{provider:t}=_r(e);if(BP()){const i=yield UP(),{token:r}=yield vM(aB(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}}),zP.apply(this,arguments)}function GP(n,e){const t=_r(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function mB(n){const{app:e}=n,t=_r(e);let i=t.tokenRefresher;i||(i=function Y$(n){const{app:e}=n;return new O$((0,he.Z)(function*(){let i;if(i=_r(e).token?yield bM(n,!0):yield bM(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=_r(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},sB.RETRIAL_MIN_WAIT,sB.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function $w(n){return n.expireTimeMillis-Date.now()>0}function gB(n){return{token:K$(Z$),error:n}}class Q${constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=_r(this.app);for(const t of e)GP(this.app,t.next);return Promise.resolve()}}const CB="app-check-internal";!function u6(){(0,Vo._registerComponent)(new pc.wA("app-check",n=>function X$(n,e){return new Q$(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(CB).initialize()})),(0,Vo._registerComponent)(new pc.wA(CB,n=>function J$(n){return{getToken:e=>bM(n,e),getLimitedUseToken:()=>function fB(n){return zP.apply(this,arguments)}(n),addTokenListener:e=>function $P(n,e,t,i){const{app:r}=n,s=_r(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&$w(s.token)){const f=s.token;Promise.resolve().then(()=>{t({token:f.token}),mB(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>mB(n))}(n,"INTERNAL",e),removeTokenListener:e=>GP(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Vo.registerVersion)("@firebase/app-check","0.8.0")}();class qI{constructor(){return(0,In.vb)("app-check")}}typeof window<"u"&&window;var xM=K(120);const YP=new d.OlP("angularfire2.auth.use-emulator"),QP=new d.OlP("angularfire2.auth.settings"),XP=new d.OlP("angularfire2.auth.tenant-id"),JP=new d.OlP("angularfire2.auth.langugage-code"),eF=new d.OlP("angularfire2.auth.use-device-language"),tF=new d.OlP("angularfire.auth.persistence"),nF=(n,e,t,i,r,s,l,f)=>(0,Xi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),l)for(const[y,I]of Object.entries(l))p.settings[y]=I;return f&&p.setPersistence(f),p},[t,i,r,s,l,f]);let WI=(()=>{class n{constructor(t,i,r,s,l,f,p,y,I,D,M,F){const V=new An.x,U=ot(void 0).pipe((0,Fr.Q)(l.outsideAngular),Wn(()=>s.runOutsideAngular(()=>Promise.resolve().then(K.bind(K,977)))),(0,st.U)(()=>(0,Xi.on)(t,s,i)),(0,st.U)(X=>nF(X,s,f,y,I,D,p,M)),ce({bufferSize:1,refCount:!1}));if(td(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ot(null);else{U.pipe(uo()).subscribe();const fe=U.pipe(Wn(Fe=>Fe.getRedirectResult().then(vt=>vt,()=>null)),In.iC,ce({bufferSize:1,refCount:!1})),Ne=U.pipe(Wn(Fe=>new Vn.y(vt=>({unsubscribe:s.runOutsideAngular(()=>Fe.onAuthStateChanged(ht=>vt.next(ht),ht=>vt.error(ht),()=>vt.complete()))})))),Ie=U.pipe(Wn(Fe=>new Vn.y(vt=>({unsubscribe:s.runOutsideAngular(()=>Fe.onIdTokenChanged(ht=>vt.next(ht),ht=>vt.error(ht),()=>vt.complete()))}))));this.authState=fe.pipe(De(Ne),(0,Pu.R)(l.outsideAngular),(0,Fr.Q)(l.insideAngular)),this.user=fe.pipe(De(Ie),(0,Pu.R)(l.outsideAngular),(0,Fr.Q)(l.insideAngular)),this.idToken=this.user.pipe(Wn(Fe=>Fe?tn(Fe.getIdToken()):ot(null))),this.idTokenResult=this.user.pipe(Wn(Fe=>Fe?tn(Fe.getIdTokenResult()):ot(null))),this.credential=C(fe,V,this.authState.pipe(fi(Fe=>!Fe))).pipe((0,st.U)(Fe=>Fe?.user?Fe:null),(0,Pu.R)(l.outsideAngular),(0,Fr.Q)(l.insideAngular))}return(0,Xi.pX)(this,U,s,{spy:{apply:(X,fe,Ne)=>{(X.startsWith("signIn")||X.startsWith("createUser"))&&Ne.then(Ie=>V.next(Ie))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Xi.Dh),d.LFG(Xi.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(In.HU),d.LFG(YP,8),d.LFG(QP,8),d.LFG(XP,8),d.LFG(JP,8),d.LFG(eF,8),d.LFG(tF,8),d.LFG(qI,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_6=(()=>{class n{constructor(){xM.Z.registerVersion("angularfire",In.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[WI]}),n})();function TB(n,e){return function v6(n,e=zu.z){return new Vn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function iF(n,e){return TB(n,e).pipe((0,st.U)(t=>({payload:t,type:"query"})))}function EM(n,e){return iF(n,e).pipe(ss(void 0),O_(),(0,st.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,f)=>{const p=r.find(I=>I.doc.ref.isEqual(l.ref)),y=t?.payload.docs.find(I=>I.ref.isEqual(l.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(l.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),s}))}function DB(n,e,t){return EM(n,t).pipe(xa((i,r)=>function b6(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function w6(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return rF(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return rF(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return rF(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),Dp(),(0,st.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function rF(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function SB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class AB{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=EM(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,st.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(ss(void 0),O_(),fi(([i,r])=>r.length>0||!i),(0,st.U)(([i,r])=>r),In.iC)}auditTrail(e){return this.stateChanges(e).pipe(xa((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=SB(e);return DB(this.query,t,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return iF(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),In.iC)}get(e){return tn(this.query.get(e)).pipe(In.iC)}add(e){return this.ref.add(e)}doc(e){return new kB(this.ref.doc(e),this.afs)}}class kB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=NB(i,t);return new AB(r,s,this.afs)}snapshotChanges(){return function y6(n,e){return TB(n,e).pipe(ss(void 0),O_(),(0,st.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,st.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return tn(this.ref.get(e)).pipe(In.iC)}}class x6{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?EM(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),fi(t=>t.length>0),In.iC):EM(this.query,this.afs.schedulers.outsideAngular).pipe(In.iC)}auditTrail(e){return this.stateChanges(e).pipe(xa((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=SB(e);return DB(this.query,t,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return iF(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),In.iC)}get(e){return tn(this.query.get(e)).pipe(In.iC)}}const MB=new d.OlP("angularfire2.enableFirestorePersistence"),RB=new d.OlP("angularfire2.firestore.persistenceSettings"),E6=new d.OlP("angularfire2.firestore.settings"),C6=new d.OlP("angularfire2.firestore.use-emulator");function NB(n,e=(t=>t)){return{query:e(n),ref:n}}let oF,OB=(()=>{class n{constructor(t,i,r,s,l,f,p,y,I,D,M,F,V,U,X,fe,Ne){this.schedulers=p;const Ie=(0,Xi.on)(t,f,i),Fe=I;D&&nF(Ie,f,M,V,U,X,F,fe),[this.firestore,this.persistenceEnabled$]=(0,Xi.cc)(`${Ie.name}.firestore`,"AngularFirestore",Ie.name,()=>{const vt=f.runOutsideAngular(()=>Ie.firestore());if(s&&vt.settings(s),Fe&&vt.useEmulator(...Fe),r&&!td(l)){const ht=()=>{try{return tn(vt.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(ln){return typeof console<"u"&&console.warn(ln),ot(!1)}};return[vt,f.runOutsideAngular(ht)]}return[vt,ot(!1)]},[s,Fe,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:l}=NB(r,i),f=this.schedulers.ngZone.run(()=>s);return new AB(f,l,this)}collectionGroup(t,i){const r=i||(l=>l),s=this.firestore.collectionGroup(t);return new x6(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new kB(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Xi.Dh),d.LFG(Xi.xv,8),d.LFG(MB,8),d.LFG(E6,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(In.HU),d.LFG(RB,8),d.LFG(C6,8),d.LFG(WI,8),d.LFG(YP,8),d.LFG(QP,8),d.LFG(XP,8),d.LFG(JP,8),d.LFG(eF,8),d.LFG(tF,8),d.LFG(qI,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),I6=(()=>{class n{constructor(){xM.Z.registerVersion("angularfire",In.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:MB,useValue:!0},{provide:RB,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[OB]}),n})(),Fg=(()=>{class n{constructor(t,i,r,s){this.afs=t,this.afAuth=i,this.router=r,this.ngZone=s,this.isAuthenticatedSubject=new Lr.X(!1),this.isLoading=new An.x,this.isLoading$=this.isLoading.asObservable(),this.afAuth.authState.subscribe(l=>{l?(this.userData=l,localStorage.setItem("user",JSON.stringify(this.userData)),this.isAuthenticatedSubject.next(!0),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),this.isAuthenticatedSubject.next(!1),JSON.parse(localStorage.getItem("user")))})}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}SignIn(t,i){setTimeout(()=>(this.isLoading.next(!1),this.afAuth.signInWithEmailAndPassword(t,i).then(r=>{this.SetUserData(r.user),this.afAuth.authState.subscribe(s=>{s&&this.router.navigate(["top-headlines"])})}).catch(r=>{window.alert(r.message)})),2e3)}SignUp(t,i){setTimeout(()=>(this.isLoading.next(!1),this.afAuth.createUserWithEmailAndPassword(t,i).then(r=>{this.SendVerificationMail(),this.SetUserData(r.user)}).catch(r=>{window.alert(r.message)})),2e3)}SendVerificationMail(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(t){setTimeout(()=>(this.isLoading.next(!1),this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(i=>{window.alert(i)})),2e3)}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified,likedArticles:[]},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["login"])})}isAuthenticated(){return this.isAuthenticatedSubject.asObservable()}getUserData(){return this.afAuth.authState.pipe(Wn(t=>t?this.afs.doc(`users/${t.uid}`).valueChanges():ot(null)))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(OB),d.LFG(WI),d.LFG(po),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{oF=typeof Intl<"u"&&Intl.v8BreakIterator}catch{oF=!1}let Gw,La=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?la(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!oF)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(d.Lbi))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const PB=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function FB(){if(Gw)return Gw;if("object"!=typeof document||!document)return Gw=new Set(PB),Gw;let n=document.createElement("input");return Gw=new Set(PB.filter(e=>(n.setAttribute("type",e),n.type===e))),Gw}let ZI,sF;function KI(n){return function T6(){if(null==ZI&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ZI=!0}))}finally{ZI=ZI||!1}return ZI}()?n:!!n.capture}function qw(n){return n.composedPath?n.composedPath()[0]:n.target}function IM(n,e=zu.z){return(0,qn.e)((t,i)=>{let r=null,s=null,l=null;const f=()=>{if(r){r.unsubscribe(),r=null;const y=s;s=null,i.next(y)}};function p(){const y=l+n,I=e.now();if(I<y)return r=this.schedule(void 0,y-I),void i.add(r);f()}t.subscribe((0,Gn.x)(i,y=>{s=y,l=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{s=r=null}))})}function BB(n){return fi((e,t)=>n<=t)}function Qs(n){return null!=n&&"false"!=`${n}`}function TM(n,e=0){return function Y6(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function UB(n){return Array.isArray(n)?n:[n]}function Lg(n){return n instanceof d.SBq?n.nativeElement:n}const jB=new Set;let vy,Q6=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):J6}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function X6(n,e){if(!jB.has(n))try{vy||(vy=document.createElement("style"),e&&(vy.nonce=e),vy.setAttribute("type","text/css"),document.head.appendChild(vy)),vy.sheet&&(vy.sheet.insertRule(`@media ${n} {body{ }}`,0),jB.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(La),d.LFG(d.Ojb,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function J6(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let e5=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new An.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return HB(UB(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=tc(HB(UB(t)).map(l=>this._registerQuery(l).observable));return s=ic(s.pipe(Ro(1)),s.pipe(BB(1),IM(0))),s.pipe((0,st.U)(l=>{const f={matches:!1,breakpoints:{}};return l.forEach(({matches:p,query:y})=>{f.matches=f.matches||p,f.breakpoints[y]=p}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new Vn.y(l=>{const f=p=>this._zone.run(()=>l.next(p));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(ss(i),(0,st.U)(({matches:l})=>({query:t,matches:l})),Os(this._destroySubject)),mql:i};return this._queries.set(t,s),s}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Q6),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HB(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function qB(n){return 0===n.buttons||0===n.detail}function WB(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const d5=new d.OlP("cdk-input-modality-detector-options"),u5={ignoreKeys:[18,17,224,91,16]},Ww=KI({passive:!0,capture:!0});let h5=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Lr.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(f=>f===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=qw(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(qB(l)?"keyboard":"mouse"),this._mostRecentTarget=qw(l))},this._onTouchstart=l=>{WB(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=qw(l))},this._options={...u5,...s},this.modalityDetected=this._modality.pipe(BB(1)),this.modalityChanged=this.modalityDetected.pipe(Dp()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ww),r.addEventListener("mousedown",this._onMousedown,Ww),r.addEventListener("touchstart",this._onTouchstart,Ww)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ww),document.removeEventListener("mousedown",this._onMousedown,Ww),document.removeEventListener("touchstart",this._onTouchstart,Ww))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(La),d.LFG(d.R0b),d.LFG(te),d.LFG(d5,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const m5=new d.OlP("cdk-focus-monitor-default-options"),DM=KI({passive:!0,capture:!0});let aF=(()=>{class n{constructor(t,i,r,s,l){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new An.x,this._rootNodeFocusAndBlurListener=f=>{for(let y=qw(f);y;y=y.parentElement)"focus"===f.type?this._onFocus(f,y):this._onBlur(f,y)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(t,i=!1){const r=Lg(t);if(!this._platform.isBrowser||1!==r.nodeType)return ot();const s=function S6(n){if(function D6(){if(null==sF){const n=typeof document<"u"?document.head:null;sF=!(!n||!n.createShadowRoot&&!n.attachShadow)}return sF}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const f={checkChildren:i,subject:new An.x,rootNode:s};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=Lg(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Lg(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([f,p])=>this._originChanged(f,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=qw(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,DM),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,DM)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Os(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,DM),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,DM),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(d.R0b),d.LFG(La),d.LFG(h5),d.LFG(te,8),d.LFG(m5,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const KB="cdk-high-contrast-black-on-white",YB="cdk-high-contrast-white-on-black",cF="cdk-high-contrast-active";let p5=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,d.f3M)(e5).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(cF,KB,YB),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(cF,KB):2===i&&t.add(cF,YB)}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(La),d.LFG(te))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const g5=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function _5(){return(0,d.f3M)(te)}}),v5=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let b5=(()=>{class n{constructor(t){this.value="ltr",this.change=new d.vpe,t&&(this.value=function y5(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?v5.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(g5,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();const x5=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function w5(){return!0}});let Ei=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function k6(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(p5),d.LFG(x5,8),d.LFG(te))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[QB,QB]})}return n})();function lF(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function E5(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let I5=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class T5{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const eU=KI({passive:!0,capture:!0});class D5{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=qw(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const l=s.get(i);l?l.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,eU)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,eU)))}}const tU={enterDuration:225,exitDuration:150},nU=KI({passive:!0,capture:!0}),iU=["mousedown","touchstart"],rU=["mouseup","mouseleave","touchend","touchcancel"];class QI{static#e=this._eventManager=new D5;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Lg(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...tU,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const l=i.radius||function A5(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,p=t-r.top,y=s.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=f-l+"px",I.style.top=p-l+"px",I.style.height=2*l+"px",I.style.width=2*l+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(I);const D=window.getComputedStyle(I),F=D.transitionDuration,V="none"===D.transitionProperty||"0s"===F||"0s, 0s"===F||0===r.width&&0===r.height,U=new T5(this,I,i,V);I.style.transform="scale3d(1, 1, 1)",U.state=0,i.persistent||(this._mostRecentTransientRipple=U);let X=null;return!V&&(y||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const fe=()=>this._finishRippleTransition(U),Ne=()=>this._destroyRipple(U);I.addEventListener("transitionend",fe),I.addEventListener("transitioncancel",Ne),X={onTransitionEnd:fe,onTransitionCancel:Ne}}),this._activeRipples.set(U,X),(V||!y)&&this._finishRippleTransition(U),U}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...tU,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Lg(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,iU.forEach(i=>{QI._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{rU.forEach(t=>{this._triggerElement.addEventListener(t,this,nU)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=qB(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!WB(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(iU.forEach(t=>QI._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&rU.forEach(t=>e.removeEventListener(t,this,nU)))}}const SM=new d.OlP("mat-ripple-global-options");let dF=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new QI(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(La),d.Y36(SM,8),d.Y36(d.QbO,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&d.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),AM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ei,Ei]})}return n})(),k5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ei]})}return n})();const oU={capture:!0},sU=["focus","click","mouseenter","touchstart"],uF="mat-ripple-loader-uninitialized",hF="mat-ripple-loader-class-name",aU="mat-ripple-loader-centered",kM="mat-ripple-loader-disabled";let M5=(()=>{class n{constructor(){this._document=(0,d.f3M)(te,{optional:!0}),this._animationMode=(0,d.f3M)(d.QbO,{optional:!0}),this._globalRippleOptions=(0,d.f3M)(SM,{optional:!0}),this._platform=(0,d.f3M)(La),this._ngZone=(0,d.f3M)(d.R0b),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${uF}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of sU)this._document?.addEventListener(t,this._onInteraction,oU)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of sU)this._document?.removeEventListener(i,this._onInteraction,oU)}configureRipple(t,i){t.setAttribute(uF,""),(i.className||!t.hasAttribute(hF))&&t.setAttribute(hF,i.className||""),i.centered&&t.setAttribute(aU,""),i.disabled&&t.setAttribute(kM,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const r=this._hosts.get(t);r?r.disabled=i:i?t.setAttribute(kM,""):t.removeAttribute(kM)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(hF)),t.append(r);const s=new dF(new d.SBq(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=t,s.centered=t.hasAttribute(aU),s.disabled=t.hasAttribute(kM),this.attachRipple(t,s),s}attachRipple(t,i){t.removeAttribute(uF),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const cU=["mat-button",""],lU=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],dU=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],O5=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let uU=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,r,s){this._elementRef=t,this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,d.f3M)(aF),this._rippleLoader=(0,d.f3M)(M5),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const l=this._elementRef.nativeElement,f=l.classList;for(const{attribute:p,mdcClasses:y}of O5)l.hasAttribute(p)&&f.add(...y)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){d.$Z()};static#t=this.\u0275dir=d.lG2({type:n,inputs:{color:"color",disableRipple:["disableRipple","disableRipple",d.VuI],disabled:["disabled","disabled",d.VuI]},features:[d.Xq5]})}return n})(),P5=(()=>{class n extends uU{constructor(t,i,r,s){super(t,i,r,s),this._haltDisabledEvents=l=>{this.disabled&&(l.preventDefault(),l.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}static#e=this.\u0275fac=function(i){d.$Z()};static#t=this.\u0275dir=d.lG2({type:n,inputs:{tabIndex:["tabIndex","tabIndex",t=>null==t?void 0:(0,d.Cb_)(t)]},features:[d.Xq5,d.qOj]})}return n})(),Zw=(()=>{class n extends uU{constructor(t,i,r,s){super(t,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(La),d.Y36(d.R0b),d.Y36(d.QbO,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:9,hostBindings:function(i,r){2&i&&(d.uIk("disabled",r.disabled||null),d.Tol(r.color?"mat-"+r.color:""),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[d.qOj],attrs:cU,ngContentSelectors:dU,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(d.F$t(lU),d._UZ(0,"span",0),d.Hsn(1),d.TgZ(2,"span",1),d.Hsn(3,1),d.qZA(),d.Hsn(4,2),d._UZ(5,"span",2)(6,"span",3)),2&i&&d.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),F5=(()=>{class n extends P5{constructor(t,i,r,s){super(t,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(La),d.Y36(d.R0b),d.Y36(d.QbO,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:11,hostBindings:function(i,r){2&i&&(d.uIk("disabled",r.disabled||null)("tabindex",r.disabled?-1:r.tabIndex)("aria-disabled",r.disabled.toString()),d.Tol(r.color?"mat-"+r.color:""),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],features:[d.qOj],attrs:cU,ngContentSelectors:dU,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(d.F$t(lU),d._UZ(0,"span",0),d.Hsn(1),d.TgZ(2,"span",1),d.Hsn(3,1),d.qZA(),d.Hsn(4,2),d._UZ(5,"span",2)(6,"span",3)),2&i&&d.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),MM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ei,AM,Ei]})}return n})(),Kw=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Qs(t)}get inset(){return this._inset}set inset(t){this._inset=Qs(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){2&i&&(d.uIk("aria-orientation",r.vertical?"vertical":"horizontal"),d.ekj("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return n})(),RM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ei,Ei]})}return n})();const V5=["*"],j5=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],H5=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],z5=new d.OlP("MAT_CARD_CONFIG");let Vg=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(z5,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&d.ekj("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:V5,decls:1,vars:0,template:function(i,r){1&i&&(d.F$t(),d.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),NM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})(),Yw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),OM=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){2&i&&d.ekj("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})(),yy=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:H5,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(d.F$t(j5),d.Hsn(0),d.TgZ(1,"div",0),d.Hsn(2,1),d.qZA(),d.Hsn(3,2))},encapsulation:2,changeDetection:0})}return n})(),XI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return n})(),hU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ei,To,Ei]})}return n})();class q5{constructor(e){this._box=e,this._destroyed=new An.x,this._resizeSubject=new An.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Vn.y(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(fi(t=>t.some(i=>i.target===e)),ce({bufferSize:1,refCount:!0}),Os(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let W5=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,d.f3M)(d.R0b)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new q5(r)),this._observers.get(r).observe(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fU=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[fU]})}return n})();const Y5=["notch"],Q5=["matFormFieldNotchedOutline",""],X5=["*"],J5=["textField"],eG=["iconPrefixContainer"],tG=["textPrefixContainer"];function nG(n,e){1&n&&d._UZ(0,"span",16)}function iG(n,e){if(1&n&&(d.TgZ(0,"label",14),d.Hsn(1,1),d.YNc(2,nG,1,0,"span",15),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),d.uIk("for",t._control.id),d.xp6(2),d.um2(2,!t.hideRequiredMarker&&t._control.required?2:-1)}}function rG(n,e){if(1&n&&d.YNc(0,iG,3,5,"label",14),2&n){const t=d.oxw();d.um2(0,t._hasFloatingLabel()?0:-1)}}function oG(n,e){1&n&&d._UZ(0,"div",17)}function sG(n,e){}function aG(n,e){if(1&n&&d.YNc(0,sG,0,0,"ng-template",9),2&n){d.oxw(2);const t=d.MAs(1);d.Q6J("ngTemplateOutlet",t)}}function cG(n,e){if(1&n&&(d.TgZ(0,"div",5),d.YNc(1,aG,1,1,null,9),d.qZA()),2&n){const t=d.oxw();d.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),d.xp6(),d.um2(1,t._forceDisplayInfixLabel()?-1:1)}}function lG(n,e){1&n&&(d.TgZ(0,"div",18,19),d.Hsn(2,2),d.qZA())}function dG(n,e){1&n&&(d.TgZ(0,"div",20,21),d.Hsn(2,3),d.qZA())}function uG(n,e){}function hG(n,e){if(1&n&&d.YNc(0,uG,0,0,"ng-template",9),2&n){d.oxw();const t=d.MAs(1);d.Q6J("ngTemplateOutlet",t)}}function fG(n,e){1&n&&(d.TgZ(0,"div",22),d.Hsn(1,4),d.qZA())}function mG(n,e){1&n&&(d.TgZ(0,"div",23),d.Hsn(1,5),d.qZA())}function pG(n,e){1&n&&d._UZ(0,"div",12)}function gG(n,e){if(1&n&&(d.TgZ(0,"div",24),d.Hsn(1,6),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function _G(n,e){if(1&n&&(d.TgZ(0,"mat-hint",26),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(),d.Oqu(t.hintLabel)}}function vG(n,e){if(1&n&&(d.TgZ(0,"div",25),d.YNc(1,_G,2,2,"mat-hint",26),d.Hsn(2,7),d._UZ(3,"div",27),d.Hsn(4,8),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(),d.um2(1,t.hintLabel?1:-1)}}const yG=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],bG=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Qw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-label"]]})}return n})();const wG=new d.OlP("MatError");let xG=0,fF=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+xG++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(d.Ikx("id",r.id),d.uIk("align",null),d.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const EG=new d.OlP("MatPrefix"),pU=new d.OlP("MatSuffix");let CG=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[d._Bn([{provide:pU,useExisting:n}])]})}return n})();const gU=new d.OlP("FloatingLabelParent");let _U=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,d.f3M)(W5),this._ngZone=(0,d.f3M)(d.R0b),this._parent=(0,d.f3M)(gU),this._resizeSubscription=new Rn.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function IG(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&d.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const vU="mdc-line-ripple--active",PM="mdc-line-ripple--deactivating";let yU=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,l=s.contains(PM);"opacity"===r.propertyName&&l&&s.remove(vU,PM)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(PM),t.add(vU)}deactivate(){this._elementRef.nativeElement.classList.add(PM)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),bU=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&d.Gf(Y5,5),2&i){let s;d.iGM(s=d.CRH())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&d.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Q5,ngContentSelectors:X5,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(d.F$t(),d._UZ(0,"div",0),d.TgZ(1,"div",1,2),d.Hsn(3),d.qZA(),d._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const TG={transitionMessages:ka("transitionMessages",[Df("enter",Cn({opacity:1,transform:"translateY(0%)"})),Qi("void => enter",[Cn({opacity:0,transform:"translateY(-5px)"}),Yi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let wU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n})}return n})();const xU=new d.OlP("MatFormField"),DG=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let EU=0,FM=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Qs(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,l,f,p,y){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=l,this._defaults=f,this._animationMode=p,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+EU++,this._hintLabelId="mat-mdc-hint-"+EU++,this._subscriptAnimationState="",this._destroyed=new An.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=!!f?.hideRequiredMarker,f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Os(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),C(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Os(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Os(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(b5),d.Y36(La),d.Y36(DG,8),d.Y36(d.QbO,8),d.Y36(te))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(d.Suo(s,Qw,5),d.Suo(s,Qw,7),d.Suo(s,wU,5),d.Suo(s,EG,5),d.Suo(s,pU,5),d.Suo(s,wG,5),d.Suo(s,fF,5)),2&i){let l;d.iGM(l=d.CRH())&&(r._labelChildNonStatic=l.first),d.iGM(l=d.CRH())&&(r._labelChildStatic=l.first),d.iGM(l=d.CRH())&&(r._formFieldControl=l.first),d.iGM(l=d.CRH())&&(r._prefixChildren=l),d.iGM(l=d.CRH())&&(r._suffixChildren=l),d.iGM(l=d.CRH())&&(r._errorChildren=l),d.iGM(l=d.CRH())&&(r._hintChildren=l)}},viewQuery:function(i,r){if(1&i&&(d.Gf(J5,5),d.Gf(eG,5),d.Gf(tG,5),d.Gf(_U,5),d.Gf(bU,5),d.Gf(yU,5)),2&i){let s;d.iGM(s=d.CRH())&&(r._textField=s.first),d.iGM(s=d.CRH())&&(r._iconPrefixContainer=s.first),d.iGM(s=d.CRH())&&(r._textPrefixContainer=s.first),d.iGM(s=d.CRH())&&(r._floatingLabel=s.first),d.iGM(s=d.CRH())&&(r._notchedOutline=s.first),d.iGM(s=d.CRH())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&d.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:xU,useExisting:n},{provide:gU,useExisting:n}])],ngContentSelectors:bG,decls:18,vars:21,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],["class","mat-mdc-form-field-icon-prefix"],["class","mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],["class","mat-mdc-form-field-text-suffix"],["class","mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(1&i&&(d.F$t(yG),d.YNc(0,rG,1,1,"ng-template",null,0,d.W1O),d.TgZ(2,"div",1,2),d.NdJ("click",function(l){return r._control.onContainerClick(l)}),d.YNc(4,oG,1,0,"div",3),d.TgZ(5,"div",4),d.YNc(6,cG,2,2,"div",5)(7,lG,3,0,"div",6)(8,dG,3,0,"div",7),d.TgZ(9,"div",8),d.YNc(10,hG,1,1,null,9),d.Hsn(11),d.qZA(),d.YNc(12,fG,2,0,"div",10)(13,mG,2,0,"div",11),d.qZA(),d.YNc(14,pG,1,0,"div",12),d.qZA(),d.TgZ(15,"div",13),d.YNc(16,gG,2,1)(17,vG,5,2),d.qZA()),2&i){let s;d.xp6(2),d.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),d.xp6(2),d.um2(4,r._hasOutline()||r._control.disabled?-1:4),d.xp6(2),d.um2(6,r._hasOutline()?6:-1),d.xp6(),d.um2(7,r._hasIconPrefix?7:-1),d.xp6(),d.um2(8,r._hasTextPrefix?8:-1),d.xp6(2),d.um2(10,!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),d.xp6(2),d.um2(12,r._hasTextSuffix?12:-1),d.xp6(),d.um2(13,r._hasIconSuffix?13:-1),d.xp6(),d.um2(14,r._hasOutline()?-1:14),d.xp6(),d.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),d.xp6(),d.um2(16,"error"===(s=r._getDisplayedMessages())?16:"hint"===s?17:-1)}},dependencies:[za,fF,_U,bU,yU],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[TG.transitionMessages]},changeDetection:0})}return n})(),JI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ei,To,mU,Ei]})}return n})();const TU=KI({passive:!0});let kG=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Cr;const i=Lg(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new An.x,l="cdk-text-field-autofilled",f=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,TU),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",f,TU)}}),s}stopMonitoring(t){const i=Lg(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(La),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();function DU(...n){const e=Li(n),{args:t,keys:i}=tl(n),r=new Vn.y(s=>{const{length:l}=t;if(!l)return void s.complete();const f=new Array(l);let p=l,y=l;for(let I=0;I<l;I++){let D=!1;en(t[I]).subscribe((0,Gn.x)(s,M=>{D||(D=!0,y--),f[I]=M},()=>p--,void 0,()=>{(!p||!D)&&(y||s.next(i?Ad(i,f):f),s.complete())}))}});return e?r.pipe(lo(e)):r}let SU=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.Qsj),d.Y36(d.SBq))};static#t=this.\u0275dir=d.lG2({type:n})}return n})(),by=(()=>{class n extends SU{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=d.n5z(n)))(r||n)}})();static#t=this.\u0275dir=d.lG2({type:n,features:[d.qOj]})}return n})();const xc=new d.OlP("NgValueAccessor"),NG={provide:xc,useExisting:(0,d.Gpc)(()=>mF),multi:!0},PG=new d.OlP("CompositionEventMode");let mF=(()=>{class n extends SU{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function OG(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(PG,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&d.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[d._Bn([NG]),d.qOj]})}return n})();function Bg(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function kU(n){return null!=n&&"number"==typeof n.length}const Zo=new d.OlP("NgValidators"),Ug=new d.OlP("NgAsyncValidators"),FG=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class LG{static min(e){return function MU(n){return e=>{if(Bg(e.value)||Bg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function RU(n){return e=>{if(Bg(e.value)||Bg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function NU(n){return Bg(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function OU(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function PU(n){return Bg(n.value)||FG.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function FU(n){return e=>Bg(e.value)||!kU(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function LU(n){return e=>kU(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function VU(n){if(!n)return LM;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Bg(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return $U(e)}static composeAsync(e){return GU(e)}}function LM(n){return null}function BU(n){return null!=n}function UU(n){return(0,d.QGY)(n)?tn(n):n}function jU(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function HU(n,e){return e.map(t=>t(n))}function zU(n){return n.map(e=>function VG(n){return!n.validate}(e)?e:t=>e.validate(t))}function $U(n){if(!n)return null;const e=n.filter(BU);return 0==e.length?null:function(t){return jU(HU(t,e))}}function pF(n){return null!=n?$U(zU(n)):null}function GU(n){if(!n)return null;const e=n.filter(BU);return 0==e.length?null:function(t){return DU(HU(t,e).map(UU)).pipe((0,st.U)(jU))}}function gF(n){return null!=n?GU(zU(n)):null}function qU(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function WU(n){return n._rawValidators}function ZU(n){return n._rawAsyncValidators}function _F(n){return n?Array.isArray(n)?n:[n]:[]}function VM(n,e){return Array.isArray(n)?n.includes(e):n===e}function KU(n,e){const t=_F(e);return _F(n).forEach(r=>{VM(t,r)||t.push(r)}),t}function YU(n,e){return _F(e).filter(t=>!VM(n,t))}class QU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pF(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Xs extends QU{get formDirective(){return null}get path(){return null}}class wm extends QU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class XU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let JU=(()=>{class n extends XU{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(wm,2))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]})}return n})();const eT="VALID",UM="INVALID",Xw="PENDING",tT="DISABLED";function bF(n){return(jM(n)?n.validators:n)||null}function wF(n,e){return(jM(e)?e.asyncValidators:n)||null}function jM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class ij{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===eT}get invalid(){return this.status===UM}get pending(){return this.status==Xw}get disabled(){return this.status===tT}get enabled(){return this.status!==tT}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(KU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YU(e,this._rawAsyncValidators))}hasValidator(e){return VM(this._rawValidators,e)}hasAsyncValidator(e){return VM(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Xw,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tT,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=eT,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eT||this.status===Xw)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tT:eT}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Xw,this._hasOwnPendingAsyncValidator=!0;const t=UU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?tT:this.errors?UM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xw)?Xw:this._anyControlsHaveStatus(UM)?UM:eT}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jM(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function zG(n){return Array.isArray(n)?pF(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function $G(n){return Array.isArray(n)?gF(n):n||null}(this._rawAsyncValidators)}}class xF extends ij{constructor(e,t,i){super(bF(t),wF(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function nj(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new d.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function tj(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new d.vHH(1e3,"");if(!i[t])throw new d.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const wy=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>nT}),nT="always";function iT(n,e,t=nT){EF(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function WG(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&rj(n,e)})}(n,e),function KG(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ZG(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&rj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function qG(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function zM(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),GM(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function $M(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function EF(n,e){const t=WU(n);null!==e.validator?n.setValidators(qU(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=ZU(n);null!==e.asyncValidator?n.setAsyncValidators(qU(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();$M(e._rawValidators,r),$M(e._rawAsyncValidators,r)}function GM(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=WU(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=ZU(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return $M(e._rawValidators,i),$M(e._rawAsyncValidators,i),t}function rj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function oj(n,e){EF(n,e)}function sj(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const eq={provide:Xs,useExisting:(0,d.Gpc)(()=>qM)},rT=(()=>Promise.resolve())();let qM=(()=>{class n extends Xs{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new xF({},pF(t),gF(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){rT.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),iT(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){rT.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){rT.then(()=>{const i=this._findContainer(t.path),r=new xF({});oj(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){rT.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){rT.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,sj(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Zo,10),d.Y36(Ug,10),d.Y36(wy,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&d.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([eq]),d.qOj]})}return n})();function aj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function cj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const lj=class extends ij{constructor(e=null,t,i){super(bF(t),wF(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jM(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=cj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){cj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},iq={provide:wm,useExisting:(0,d.Gpc)(()=>DF)},hj=(()=>Promise.resolve())();let DF=(()=>{class n extends wm{constructor(t,i,r,s,l,f){super(),this._changeDetectorRef=l,this.callSetDisabledState=f,this.control=new lj,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function TF(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===mF?t=s:function XG(n){return Object.getPrototypeOf(n.constructor)===by}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function IF(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){iT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){hj.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,d.VuI)(i);hj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function HM(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Xs,9),d.Y36(Zo,10),d.Y36(Ug,10),d.Y36(xc,10),d.Y36(d.sBO,8),d.Y36(wy,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([iq]),d.qOj,d.TTD]})}return n})(),mj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();const SF=new d.OlP("NgModelWithFormControlWarning"),dq={provide:Xs,useExisting:(0,d.Gpc)(()=>WM)};let WM=(()=>{class n extends Xs{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(GM(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return iT(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){zM(t.control||null,t,!1),function JG(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,sj(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(zM(i||null,t),(n=>n instanceof lj)(r)&&(iT(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);oj(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function YG(n,e){return GM(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){EF(this.form,this),this._oldForm&&GM(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Zo,10),d.Y36(Ug,10),d.Y36(wy,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&d.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([dq]),d.qOj,d.TTD]})}return n})(),kj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[mj]})}return n})(),PF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wy,useValue:t.callSetDisabledState??nT}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[kj]})}return n})(),Aq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:SF,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:wy,useValue:t.callSetDisabledState??nT}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[kj]})}return n})();const kq=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),Mq=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Rq=0;const Nq=E5(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new An.x}});let ZM=(()=>{class n extends Nq{get disabled(){return this._disabled}set disabled(t){this._disabled=Qs(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(LG.required)??!1}set required(t){this._required=Qs(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&FB().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Qs(t)}constructor(t,i,r,s,l,f,p,y,I,D){super(f,s,l,r),this._elementRef=t,this._platform=i,this._autofillMonitor=y,this._formField=D,this._uid="mat-input-"+Rq++,this.focused=!1,this.stateChanges=new An.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(V=>FB().has(V)),this._iOSKeyupListener=V=>{const U=V.target;!U.value&&0===U.selectionStart&&0===U.selectionEnd&&(U.setSelectionRange(1,1),U.setSelectionRange(0,0))};const M=this._elementRef.nativeElement,F=M.nodeName.toLowerCase();this._inputValueAccessor=p||M,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===F,this._isTextarea="textarea"===F,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=M.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Mq.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(La),d.Y36(wm,10),d.Y36(qM,8),d.Y36(WM,8),d.Y36(I5),d.Y36(kq,10),d.Y36(kG),d.Y36(d.R0b),d.Y36(xU,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&d.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(d.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),d.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),d.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:wU,useExisting:n}]),d.qOj,d.TTD]})}return n})(),oT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ei,JI,JI,MG,Ei]})}return n})();const Oq=new d.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),Fq=lF(class{constructor(n){this._elementRef=n}},"primary");let FF=(()=>{class n extends Fq{constructor(t,i,r,s,l){super(t),this._ngZone=i,this._changeDetectorRef=r,this._animationMode=s,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new d.vpe,this._mode="determinate",this._transitionendHandler=f=>{0===this.animationEnd.observers.length||!f.target||!f.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===s,l&&(l.color&&(this.color=this.defaultColor=l.color),this.mode=l.mode||this.mode)}get value(){return this._value}set value(t){this._value=Mj(TM(t)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=Mj(TM(t)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(d.sBO),d.Y36(d.QbO,8),d.Y36(Oq,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(i,r){2&i&&(d.uIk("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),d.ekj("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[d.qOj],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0),d._UZ(1,"div",1)(2,"div",2),d.qZA(),d.TgZ(3,"div",3),d._UZ(4,"span",4),d.qZA(),d.TgZ(5,"div",5),d._UZ(6,"span",4),d.qZA()),2&i&&(d.xp6(),d.Udp("flex-basis",r._getBufferBarFlexBasis()),d.xp6(2),d.Udp("transform",r._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill=''/%3E%3C/svg%3E\")}}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:left;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}[dir=rtl] .mat-mdc-progress-bar{text-align:right}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0})}return n})();function Mj(n,e=0,t=100){return Math.max(e,Math.min(t,n))}let Rj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ei]})}return n})();function Lq(n,e){1&n&&d._UZ(0,"mat-progress-bar",12)}let Vq=(()=>{class n{constructor(t){this.authService=t,this.isLoading=!1}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Fg))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:32,vars:4,consts:[[1,"container"],[1,"login-card"],["src","./assets/infohub_logo.png","alt","logo","width","400"],[1,"example-full-width"],["matInput","","type","text"],["userName",""],["matInput","","type","password"],["userPassword",""],["mat-raised-button","","color","primary",3,"click"],["routerLink","/forgot-password",1,"forgotPassword"],["routerLink","/register",1,"SignUp"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(i,r){if(1&i){const s=d.EpF();d.TgZ(0,"div",0)(1,"mat-card",1),d._UZ(2,"img",2),d.TgZ(3,"mat-card-header")(4,"h2"),d._uU(5,"Login"),d.qZA(),d.TgZ(6,"mat-form-field",3)(7,"mat-label"),d._uU(8,"Username"),d.qZA(),d._UZ(9,"input",4,5),d.qZA(),d.TgZ(11,"mat-form-field",3)(12,"mat-label"),d._uU(13,"Password"),d.qZA(),d._UZ(14,"input",6,7),d.qZA()(),d.TgZ(16,"mat-card-content"),d._UZ(17,"mat-divider"),d.qZA(),d.TgZ(18,"mat-card-actions")(19,"button",8),d.NdJ("click",function(){d.CHM(s);const f=d.MAs(10),p=d.MAs(15);return r.authService.show(),d.KtG(r.authService.SignIn(f.value,p.value))}),d._uU(20," Login "),d.qZA()(),d.TgZ(21,"mat-card-footer")(22,"span"),d._uU(23," Or "),d.TgZ(24,"span",9),d._uU(25,"Forgot Password?"),d.qZA()(),d.TgZ(26,"span"),d._uU(27," Don't have an account? "),d.TgZ(28,"span",10),d._uU(29,"Sign Up"),d.qZA()(),d.YNc(30,Lq,1,0,"mat-progress-bar",11),d.ALo(31,"async"),d.qZA()()()}2&i&&(d.xp6(),d.Q6J("@myInsertRemoveTrigger",void 0),d.xp6(29),d.Q6J("ngIf",d.lcZ(31,2,r.authService.isLoading$)))},dependencies:[oa,Ld,Zw,Kw,Vg,OM,Yw,XI,yy,FM,Qw,ZM,FF,$r],styles:["body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{height:80%;display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{display:block;margin:0 auto;padding:0;overflow:hidden}h2[_ngcontent-%COMP%]{text-align:center}.login-card[_ngcontent-%COMP%]{width:400px;padding:0}button[_ngcontent-%COMP%]{display:block;margin:0 auto}.mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}.forgotPassword[_ngcontent-%COMP%], .SignUp[_ngcontent-%COMP%]{text-align:center;color:#4dd5fe;font-size:14px;cursor:pointer;margin-top:10px}"],data:{animation:[ka("myInsertRemoveTrigger",[Qi(":enter",[Cn({opacity:0}),Yi("1s",Cn({opacity:1}))]),Qi(":leave",[Yi("1s",Cn({opacity:0}))])]),ka("myOtherInsertRemoveTrigger",[Qi(":enter",[Cn({transform:"translateX(-100%)"}),Yi("0.5s",Cn({transform:"translateX(0)"}))]),Qi(":leave",[Yi("0.5s",Cn({transform:"translateX(100%)"}))])])]}})}return n})();const Nj_newsApiFive_apiKey="0266bc550d3e46f9893b52815d2118f2",Nj_firebase={apiKey:"AIzaSyCRNjlAyNOhhSpCayhj8FGHHhbw4MtkpKA",authDomain:"news-project-579a3.firebaseapp.com",projectId:"news-project-579a3",storageBucket:"news-project-579a3.appspot.com",messagingSenderId:"700119532137",appId:"1:700119532137:web:9fd58caf58aa49ded8d8f8",measurementId:"G-DNL6PZSD2R"};class KM{}class YM{}class Bl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Bl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Bl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Bl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===s.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Bq{encodeKey(e){return Oj(e)}encodeValue(e){return Oj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const jq=/%(\d[a-f0-9])/gi,Hq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Oj(n){return encodeURIComponent(n).replace(jq,(e,t)=>Hq[t]??e)}function QM(n){return`${n}`}class jg{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Bq,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Uq(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,f]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(l)||[];p.push(f),t.set(l,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(QM):[QM(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new jg({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(QM(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(QM(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class zq{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Pj(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Fj(n){return typeof Blob<"u"&&n instanceof Blob}function Lj(n){return typeof FormData<"u"&&n instanceof FormData}class sT{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function $q(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new Bl),this.context||(this.context=new zq),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new jg,this.urlWithParams=t}serializeBody(){return null===this.body?null:Pj(this.body)||Fj(this.body)||Lj(this.body)||function Gq(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof jg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Lj(this.body)?null:Fj(this.body)?this.body.type||null:Pj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,y=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((D,M)=>D.set(M,e.setHeaders[M]),p)),e.setParams&&(y=Object.keys(e.setParams).reduce((D,M)=>D.set(M,e.setParams[M]),y)),new sT(t,i,s,{params:y,headers:p,context:I,reportProgress:f,responseType:r,withCredentials:l})}}var Hg=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Hg||{});class LF{constructor(e,t=200,i="OK"){this.headers=e.headers||new Bl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class XM extends LF{constructor(e={}){super(e),this.type=Hg.ResponseHeader}clone(e={}){return new XM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ey extends LF{constructor(e={}){super(e),this.type=Hg.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ey({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Jw extends LF{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function VF(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let JM=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof sT)s=t;else{let p,y;p=r.headers instanceof Bl?r.headers:new Bl(r.headers),r.params&&(y=r.params instanceof jg?r.params:new jg({fromObject:r.params})),s=new sT(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const l=ot(s).pipe(ho(p=>this.handler.handle(p)));if(t instanceof sT||"events"===r.observe)return l;const f=l.pipe(fi(p=>p instanceof Ey));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return f.pipe((0,st.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return f.pipe((0,st.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return f.pipe((0,st.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return f.pipe((0,st.U)(p=>p.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new jg).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,VF(r,i))}post(t,i,r={}){return this.request("POST",t,VF(r,i))}put(t,i,r={}){return this.request("PUT",t,VF(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(KM))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function Bj(n,e){return e(n)}function Yq(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const Xq=new d.OlP(""),aT=new d.OlP(""),Uj=new d.OlP(""),jj=new d.OlP("");function Jq(){let n=null;return(e,t)=>{null===n&&(n=((0,d.f3M)(Xq,{optional:!0})??[]).reduceRight(Yq,Bj));const i=(0,d.f3M)(d.I6F),r=i.add();return n(e,t).pipe(oc(()=>i.remove(r)))}}let Hj=(()=>{class n extends KM{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=(0,d.f3M)(d.I6F);const r=(0,d.f3M)(jj,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(aT),...this.injector.get(Uj,[])]));this.chain=r.reduceRight((s,l)=>function Qq(n,e,t){return(i,r)=>(0,d.r_H)(t,()=>e(i,s=>n(s,r)))}(s,l,this.injector),Bj)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(oc(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(YM),d.LFG(d.lqb))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const r8=/^\)\]\}',?\n/;let $j=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new d.vHH(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?tn(i.\u0275loadImpl()):ot(null)).pipe(Wn(()=>new Vn.y(s=>{const l=i.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((U,X)=>l.setRequestHeader(U,X.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const U=t.detectContentTypeHeader();null!==U&&l.setRequestHeader("Content-Type",U)}if(t.responseType){const U=t.responseType.toLowerCase();l.responseType="json"!==U?U:"text"}const f=t.serializeBody();let p=null;const y=()=>{if(null!==p)return p;const U=l.statusText||"OK",X=new Bl(l.getAllResponseHeaders()),fe=function o8(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return p=new XM({headers:X,status:l.status,statusText:U,url:fe}),p},I=()=>{let{headers:U,status:X,statusText:fe,url:Ne}=y(),Ie=null;204!==X&&(Ie=typeof l.response>"u"?l.responseText:l.response),0===X&&(X=Ie?200:0);let Fe=X>=200&&X<300;if("json"===t.responseType&&"string"==typeof Ie){const vt=Ie;Ie=Ie.replace(r8,"");try{Ie=""!==Ie?JSON.parse(Ie):null}catch(ht){Ie=vt,Fe&&(Fe=!1,Ie={error:ht,text:Ie})}}Fe?(s.next(new Ey({body:Ie,headers:U,status:X,statusText:fe,url:Ne||void 0})),s.complete()):s.error(new Jw({error:Ie,headers:U,status:X,statusText:fe,url:Ne||void 0}))},D=U=>{const{url:X}=y(),fe=new Jw({error:U,status:l.status||0,statusText:l.statusText||"Unknown Error",url:X||void 0});s.error(fe)};let M=!1;const F=U=>{M||(s.next(y()),M=!0);let X={type:Hg.DownloadProgress,loaded:U.loaded};U.lengthComputable&&(X.total=U.total),"text"===t.responseType&&l.responseText&&(X.partialText=l.responseText),s.next(X)},V=U=>{let X={type:Hg.UploadProgress,loaded:U.loaded};U.lengthComputable&&(X.total=U.total),s.next(X)};return l.addEventListener("load",I),l.addEventListener("error",D),l.addEventListener("timeout",D),l.addEventListener("abort",D),t.reportProgress&&(l.addEventListener("progress",F),null!==f&&l.upload&&l.upload.addEventListener("progress",V)),l.send(f),s.next({type:Hg.Sent}),()=>{l.removeEventListener("error",D),l.removeEventListener("abort",D),l.removeEventListener("load",I),l.removeEventListener("timeout",D),t.reportProgress&&(l.removeEventListener("progress",F),null!==f&&l.upload&&l.upload.removeEventListener("progress",V)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Vh))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const jF=new d.OlP("XSRF_ENABLED"),Gj=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),qj=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Wj{}let c8=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(te),d.LFG(d.Lbi),d.LFG(Gj))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function l8(n,e){const t=n.url.toLowerCase();if(!(0,d.f3M)(jF)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,d.f3M)(Wj).getToken(),r=(0,d.f3M)(qj);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var zg=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(zg||{});function d8(...n){const e=[JM,$j,Hj,{provide:KM,useExisting:Hj},{provide:YM,useExisting:$j},{provide:aT,useValue:l8,multi:!0},{provide:jF,useValue:!0},{provide:Wj,useClass:c8}];for(const t of n)e.push(...t.\u0275providers);return(0,d.MR2)(e)}const Zj=new d.OlP("LEGACY_INTERCEPTOR_FN");function u8(){return function Cy(n,e){return{\u0275kind:n,\u0275providers:e}}(zg.LegacyInterceptors,[{provide:Zj,useFactory:Jq},{provide:aT,useExisting:Zj,multi:!0}])}let h8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[d8(u8())]})}return n})(),tR=(()=>{class n{constructor(t){this.http=t,this.apiKey=Nj_newsApiFive_apiKey,this.selectedCategory=new An.x,this.selectedCategory$=this.selectedCategory.asObservable()}show(t){this.selectedCategory.next(t),console.log(typeof t)}getTopHeadlines(t){return this.http.get(`https://newsapi.org/v2/top-headlines?country=US&category=${t}&apiKey=${this.apiKey}`).pipe(as(i=>(console.error("Error:",i),os(i))))}searchArticles(t){return this.http.get(`https://newsapi.org/v2/everything?q=${t}&sortBy=publishedAt&apiKey=${this.apiKey}`).pipe(as(i=>(console.error("API request failed:",i),os(i))))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(JM))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HF=(()=>{class n{constructor(){this.categories=[{name:"General",icon:"description"},{name:"Business",icon:"add_business"},{name:"Entertainment",icon:"theater_comedy"},{name:"Health",icon:"health_and_safety"},{name:"Science",icon:"biotech"},{name:"Sports",icon:"sports_football"},{name:"Technology",icon:"important_devices"},{name:"Search",icon:"search"},{name:"Liked",icon:"favorite"}]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),t3=(()=>{class n{constructor(){this.likedArticles=[]}addLikedArticle(t){this.likedArticles.push(t)}getLikedArticles(){return this.likedArticles}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const v8=["*"];let nR;function cT(n){return function y8(){if(void 0===nR&&(nR=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(nR=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return nR}()?.createHTML(n)||n}function n3(n){return Error(`Unable to find icon with the name "${n}"`)}function r3(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function o3(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Iy{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let iR=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Iy(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const l=this._sanitizer.sanitize(d.q3G.HTML,r);if(!l)throw o3(r);const f=cT(l);return this._addSvgIconConfig(t,i,new Iy("",f,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Iy(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(d.q3G.HTML,i);if(!s)throw o3(i);const l=cT(s);return this._addSvgIconSetConfig(t,new Iy("",l,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,t);if(!i)throw r3(t);const r=this._cachedIconsByUrl.get(i);return r?ot(rR(r)):this._loadSvgIconFromConfig(new Iy(t,null)).pipe((0,Nn.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,st.U)(s=>rR(s)))}getNamedSvgIcon(t,i=""){const r=s3(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(t,l):os(n3(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?ot(rR(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,st.U)(i=>rR(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?ot(r):DU(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(as(f=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,l.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(y)),ot(null)})))).pipe((0,st.U)(()=>{const l=this._extractIconWithNameFromAnySet(t,i);if(!l)throw n3(t);return l}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const l=this._svgElementFromConfig(s),f=this._extractSvgIconFromSet(l,t,s.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Nn.b)(i=>t.svgText=i),(0,st.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?ot(null):this._fetchIcon(t).pipe((0,Nn.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const f=this._svgElementFromString(cT("<svg></svg>"));return f.appendChild(l),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(cT("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:l,value:f}=r[s];"id"!==l&&i.setAttribute(l,f)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function b8(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,i);if(!l)throw r3(i);const f=this._inProgressUrlFetches.get(l);if(f)return f;const p=this._httpClient.get(l,{responseType:"text",withCredentials:s}).pipe((0,st.U)(y=>cT(y)),oc(()=>this._inProgressUrlFetches.delete(l)),z());return this._inProgressUrlFetches.set(l,p),p}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(s3(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return x8(s)?new Iy(s.url,null,s.options):new Iy(s,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(JM,8),d.LFG(Xh),d.LFG(te,8),d.LFG(d.qLn))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rR(n){return n.cloneNode(!0)}function s3(n,e){return n+":"+e}function x8(n){return!(!n.url||!n.options)}const E8=lF(class{constructor(n){this._elementRef=n}}),C8=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),I8=new d.OlP("mat-icon-location",{providedIn:"root",factory:function T8(){const n=(0,d.f3M)(te),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),a3=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],D8=a3.map(n=>`[${n}]`).join(", "),S8=/^url\(['"]?#(.*?)['"]?\)$/;let oR=(()=>{class n extends E8{get inline(){return this._inline}set inline(t){this._inline=Qs(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,l,f){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Rn.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(l=>{s.setAttribute(l.name,`url('${t}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(D8),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)a3.forEach(l=>{const f=i[s],p=f.getAttribute(l),y=p?p.match(S8):null;if(y){let I=r.get(f);I||(I=[],r.set(f,I)),I.push({name:l,value:y[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ro(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(iR),d.$8M("aria-hidden"),d.Y36(I8),d.Y36(d.qLn),d.Y36(C8,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(d.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),d.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:v8,decls:1,vars:0,template:function(i,r){1&i&&(d.F$t(),d.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),sR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ei,Ei]})}return n})();function A8(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"mat-card",6)(1,"a",7)(2,"div",8),d._UZ(3,"img",9),d.qZA()(),d.TgZ(4,"mat-card-header")(5,"mat-card-title")(6,"h3")(7,"a",10),d._uU(8),d.qZA()(),d.TgZ(9,"p",11)(10,"em"),d._uU(11),d.qZA()()()(),d.TgZ(12,"a",12),d.NdJ("click",function(){const s=d.CHM(t).$implicit,l=d.oxw();return d.KtG(l.likedArticles(s.url))}),d._UZ(13,"mat-icon",13),d.qZA()()}if(2&n){const t=e.$implicit,i=d.oxw();d.xp6(),d.s9C("href",t.url,d.LSH),d.xp6(2),d.s9C("src",t.urlToImage?t.urlToImage:i.defaultImage,d.LSH),d.xp6(5),d.Oqu(t.title),d.xp6(3),d.Oqu(t.publishedAt)}}let k8=(()=>{class n{constructor(t,i,r){this.newsService=t,this.categoryService=i,this.likedService=r,this.selectedCategory="business",this.categories=this.categoryService.categories,this.selectedCategory$=this.newsService.selectedCategory$,console.log(this.selectedCategory)}ngOnInit(){this.getNews(this.selectedCategory),this.selectedCategory$.subscribe(t=>{console.log(t),this.selectedCategory=t,this.getNews(this.selectedCategory)})}getNews(t){this.newsService.getTopHeadlines(t).subscribe(i=>{this.headlines=i.articles,console.log(i)})}onCategoryChange(t){console.log(t,"received"),this.selectedCategory=t,this.getNews(this.selectedCategory)}truncatedText(t){return t.length>60?t.substring(0,60)+"...":t}likedArticles(t){this.likedService.addLikedArticle({url:t,title:"title",description:"description"}),console.log(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(tR),d.Y36(HF),d.Y36(t3))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-news-list"]],inputs:{selectedCategory:"selectedCategory"},decls:10,vars:2,consts:[[1,"news-list"],["id","topHeadlinesTitle"],[1,"h1Headlines"],[1,"custom-divider"],[1,"news-items"],["class","news-item",4,"ngFor","ngForOf"],[1,"news-item"],["target","_blank",3,"href"],[1,"image-container"],["alt","img","id","snapshotImg",3,"src"],["id","subtitler"],["id","articlePublished"],["target","_blank",1,"like",3,"href","click"],["aria-hidden","false","aria-label","icon","fontIcon","favorite",2,"font-size","20px"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"mat-card-title",1)(2,"h1",2),d._uU(3,"Top Headlines: "),d.TgZ(4,"small"),d._uU(5),d.qZA()(),d._UZ(6,"mat-divider",3),d.qZA(),d.TgZ(7,"div",4),d.YNc(8,A8,14,4,"mat-card",5),d._UZ(9,"mat-divider"),d.qZA()()),2&i&&(d.xp6(5),d.Oqu(r.selectedCategory),d.xp6(3),d.Q6J("ngForOf",r.headlines))},dependencies:[ra,Kw,Vg,yy,NM,oR],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-top:1rem;font-weight:700;text-align:center;text-transform:uppercase;color:#fff;padding:1vh;margin:0}h3[_ngcontent-%COMP%]{line-height:3vh}.h1Headlines[_ngcontent-%COMP%]{background-color:#0a3161;font-size:2.5vw}.custom-divider[_ngcontent-%COMP%]{height:2px;background-color:#d90429}.news-list[_ngcontent-%COMP%]{width:90%!important;margin:0 auto;width:auto}.news-items[_ngcontent-%COMP%]{width:100%;margin:0;padding:0;display:flex;flex-wrap:wrap;justify-content:space-between}mat-card[_ngcontent-%COMP%]{width:20em;overflow:hidden;margin:5px 5px 10px;padding:0;background-color:#d1d7dc;flex:0 0 calc(20% - 10px)}.mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;padding:0 10px;line-height:0}#snapshotImg[_ngcontent-%COMP%]{width:100%;padding-bottom:0}#actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0;padding:0}.cardButton[_ngcontent-%COMP%]{background-color:#003566;padding:5px 10px;text-decoration:none;border:none}#subtitler[_ngcontent-%COMP%]{color:#000!important;font-weight:bolder;font-size:14px;padding:0;margin:0}#articleDescription[_ngcontent-%COMP%], #articlePublished[_ngcontent-%COMP%]{font-size:12px;padding:0;margin:0}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:0;padding:0}.like[_ngcontent-%COMP%]{color:#0862b5;position:absolute;top:0;right:0;background:transparent;border:none;cursor:pointer}.like[_ngcontent-%COMP%]:hover{color:#d90429}"]})}return n})();function M8(n,e){1&n&&d._UZ(0,"mat-progress-bar",10)}let R8=(()=>{class n{constructor(t){this.authService=t,this.isLoading=!1}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Fg))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-registration"]],decls:27,vars:4,consts:[[1,"container"],[1,"login-card"],[1,"example-full-width"],["matInput","","type","email"],["userEmail",""],["matInput","","type","password"],["userPwd",""],["mat-raised-button","","color","primary",3,"click"],["routerLink","/login",1,"redirect"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(i,r){if(1&i){const s=d.EpF();d.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"h2"),d._uU(4,"Register"),d.qZA(),d.TgZ(5,"mat-form-field",2)(6,"mat-label"),d._uU(7,"Email"),d.qZA(),d._UZ(8,"input",3,4),d.qZA(),d.TgZ(10,"mat-form-field",2)(11,"mat-label"),d._uU(12,"Password"),d.qZA(),d._UZ(13,"input",5,6),d.qZA()(),d.TgZ(15,"mat-card-content"),d._UZ(16,"mat-divider"),d.qZA(),d.TgZ(17,"mat-card-actions")(18,"button",7),d.NdJ("click",function(){d.CHM(s);const f=d.MAs(9),p=d.MAs(14);return d.KtG([r.authService.show(),r.authService.SignUp(f.value,p.value)])}),d._uU(19," Sign Up "),d.qZA()(),d.TgZ(20,"mat-card-footer")(21,"span"),d._uU(22,"Already have an account? "),d.TgZ(23,"span",8),d._uU(24,"Log In"),d.qZA()()(),d.YNc(25,M8,1,0,"mat-progress-bar",9),d.ALo(26,"async"),d.qZA()()}2&i&&(d.xp6(),d.Q6J("@myInsertRemoveTrigger",void 0),d.xp6(24),d.Q6J("ngIf",d.lcZ(26,2,r.authService.isLoading$)))},dependencies:[oa,Ld,Zw,Kw,Vg,OM,Yw,XI,yy,FM,Qw,ZM,FF,$r],styles:[".container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}h2[_ngcontent-%COMP%]{text-align:center}.login-card[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin:0 auto}span[_ngcontent-%COMP%]{padding:.5em;text-align:center;display:block}.mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}.redirect[_ngcontent-%COMP%]{display:inline-block;text-align:center;color:#4dd5fe;font-size:14px;cursor:pointer}.redirect[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[ka("myInsertRemoveTrigger",[Qi(":enter",[Cn({opacity:0}),Yi("1s",Cn({opacity:1}))]),Qi(":leave",[Yi("1s",Cn({opacity:0}))])]),ka("myOtherInsertRemoveTrigger",[Qi(":enter",[Cn({transform:"translateX(-100%)"}),Yi("0.5s",Cn({transform:"translateX(0)"}))]),Qi(":leave",[Yi("0.5s",Cn({transform:"translateX(100%)"}))])])]}})}return n})();function N8(n,e){1&n&&d._UZ(0,"mat-progress-bar",11)}let O8=(()=>{class n{constructor(t){this.authService=t,this.isLoading=!1}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Fg))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-forgot-password"]],decls:24,vars:4,consts:[[1,"container"],[1,"displayTable"],[1,"displayTableCell"],[1,"text-center"],[1,"formGroup"],["matInput","","type","email","placeholder","Email Address","required","",1,"formControl"],["passwordResetEmail",""],["mat-raised-button","","color","primary","type","submit",1,"btn","btnPrimary",3,"click"],[1,"redirectToLogin"],["routerLink","/login",1,"redirect"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(i,r){if(1&i){const s=d.EpF();d.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"mat-card-header",2)(4,"h3"),d._uU(5,"Reset Password"),d.qZA(),d.TgZ(6,"p",3),d._uU(7," Please enter your email address to request a password reset. "),d.qZA()(),d.TgZ(8,"mat-form-field",4)(9,"mat-label"),d._uU(10,"Email"),d.qZA(),d._UZ(11,"input",5,6),d.qZA(),d._UZ(13,"mat-divider"),d.TgZ(14,"mat-card-actions",4)(15,"button",7),d.NdJ("click",function(){d.CHM(s);const f=d.MAs(12);return d.KtG([r.authService.show(),r.authService.ForgotPassword(f.value)])}),d._uU(16," Reset Password "),d.qZA()(),d.TgZ(17,"mat-card-footer",8)(18,"span"),d._uU(19,"Go back to ? "),d.TgZ(20,"span",9),d._uU(21," Log In"),d.qZA()()()(),d.YNc(22,N8,1,0,"mat-progress-bar",10),d.ALo(23,"async"),d.qZA()()}2&i&&(d.xp6(),d.Q6J("@myInsertRemoveTrigger",void 0),d.xp6(21),d.Q6J("ngIf",d.lcZ(23,2,r.authService.isLoading$)))},dependencies:[oa,Ld,Zw,Kw,Vg,OM,Yw,XI,yy,FM,Qw,ZM,FF,$r],styles:[".redirect[_ngcontent-%COMP%], .btnPrimary[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{width:500px;padding:1em;display:flex;flex-direction:column;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{margin:.5em}mat-form-field[_ngcontent-%COMP%]{width:100%}input.formControl[_ngcontent-%COMP%]{width:90%}mat-card-header[_ngcontent-%COMP%], mat-card-footer[_ngcontent-%COMP%], mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.redirect[_ngcontent-%COMP%]{display:inline-block;text-align:center;color:#4dd5fe;font-size:14px;cursor:pointer}"],data:{animation:[ka("myInsertRemoveTrigger",[Qi(":enter",[Cn({opacity:0}),Yi("1s",Cn({opacity:1}))]),Qi(":leave",[Yi("1s",Cn({opacity:0}))])]),ka("myOtherInsertRemoveTrigger",[Qi(":enter",[Cn({transform:"translateX(-100%)"}),Yi("0.5s",Cn({transform:"translateX(0)"}))]),Qi(":leave",[Yi("0.5s",Cn({transform:"translateX(100%)"}))])])]}})}return n})();function P8(n,e){if(1&n&&(d.TgZ(0,"div",9)(1,"p",10),d._uU(2," We have sent a confirmation email to "),d.TgZ(3,"strong"),d._uU(4),d.qZA(),d._uU(5,". "),d.qZA(),d.TgZ(6,"p",10),d._uU(7," Please check your email and click on the link to verify your email address. "),d.qZA()()),2&n){const t=e.ngIf;d.xp6(4),d.Oqu(t.email)}}let F8=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Fg))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-verify-email"]],decls:15,vars:2,consts:[[1,"container"],[1,"displayTableCell"],[1,"authBlock"],["class","formGroup",4,"ngIf"],[1,"button"],["type","button","mat-raised-button","","color","primary",3,"click"],[1,"fas","fa-redo-alt"],[1,"redirectToLogin"],["routerLink","/login",1,"redirect"],[1,"formGroup"],[1,"text-center"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content",2)(3,"h3"),d._uU(4,"Thank You for Registering"),d.qZA(),d.YNc(5,P8,8,1,"div",3),d.TgZ(6,"div",4)(7,"button",5),d.NdJ("click",function(){return r.authService.SendVerificationMail()}),d._UZ(8,"i",6),d._uU(9," Resend Verification Email "),d.qZA()()(),d.TgZ(10,"mat-card-footer",7)(11,"span"),d._uU(12,"Go back to? "),d.TgZ(13,"span",8),d._uU(14," Sign in"),d.qZA()()()()()),2&i&&(d.xp6(),d.Q6J("@myInsertRemoveTrigger",void 0),d.xp6(4),d.Q6J("ngIf",r.authService.userData))},dependencies:[oa,Ld,Zw,Vg,Yw,XI],styles:[".container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}h3[_ngcontent-%COMP%]{text-align:center}mat-card[_ngcontent-%COMP%]{width:500px;padding:1em;display:flex;flex-direction:column;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{margin:.5em}mat-card-header[_ngcontent-%COMP%], mat-card-footer[_ngcontent-%COMP%], mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.redirect[_ngcontent-%COMP%]{display:inline-block;text-align:center;color:#4dd5fe;font-size:14px;cursor:pointer}.button[_ngcontent-%COMP%]{display:flex;justify-content:center}"],data:{animation:[ka("myInsertRemoveTrigger",[Qi(":enter",[Cn({opacity:0}),Yi("1s",Cn({opacity:1}))]),Qi(":leave",[Yi("1s",Cn({opacity:0}))])]),ka("myOtherInsertRemoveTrigger",[Qi(":enter",[Cn({transform:"translateX(-100%)"}),Yi("0.5s",Cn({transform:"translateX(0)"}))]),Qi(":leave",[Yi("0.5s",Cn({transform:"translateX(100%)"}))])])]}})}return n})();function L8(n,e){if(1&n&&(d.TgZ(0,"mat-card",9)(1,"mat-card-header")(2,"mat-card-title")(3,"h3")(4,"a",10),d._uU(5),d.qZA()(),d.TgZ(6,"p"),d._uU(7),d.qZA()()(),d.TgZ(8,"mat-card-content",11)(9,"a",12),d._UZ(10,"mat-icon",13),d.qZA()()()),2&n){const t=e.$implicit,i=d.oxw();d.xp6(4),d.s9C("href",t.url,d.LSH),d.xp6(),d.hij(" ",i.truncatedText(t.title)," "),d.xp6(2),d.Oqu(t.description)}}let V8=(()=>{class n{constructor(t,i){this.newsService=t,this.router=i,this.searchResults=[],this.searchFilter=""}ngOnInit(){this.getSearchResults()}getSearchResults(){""!==this.searchFilter.trim()&&this.newsService.searchArticles(this.searchFilter).subscribe(t=>{this.headlines=t.articles,console.log(this.headlines),this.searchResults=this.headlines.map(i=>({title:i.title,url:i.url}))},t=>{console.error("Error on API request:",t)})}onFilterChange(t){this.searchFilter=t.target.value,this.getSearchResults()}goBackToTopHeadlines(){this.router.navigate(["top-headlines"])}truncatedText(t){return t.length>60?t.substring(0,60)+"...":t}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(tR),d.Y36(po))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-search"]],inputs:{searchFilter:"searchFilter"},decls:24,vars:1,consts:[[1,"searchInput"],["appearance","outline"],["matInput","",3,"input"],["matSuffix",""],["mat-button","",1,"cardButton","goBackButton",3,"click"],["aria-hidden","false","aria-label","icon"],["id","searchTitler"],[1,"news-list"],["class","searchResults",4,"ngFor","ngForOf"],[1,"searchResults"],["id","subtitler","target","_blank",3,"href"],["id","actions"],["mat-button","","target","_blank",1,"cardButton",3,"href"],["aria-hidden","false","aria-label","icon","fontIcon","thumb_up"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"h2"),d._uU(2,"Search by keyword"),d.qZA(),d.TgZ(3,"mat-form-field",1)(4,"mat-label"),d._uU(5,"Type a keyword to find"),d.qZA(),d.TgZ(6,"input",2),d.NdJ("input",function(l){return r.onFilterChange(l)}),d.qZA(),d.TgZ(7,"mat-icon",3),d._uU(8,"search"),d.qZA(),d.TgZ(9,"mat-hint"),d._uU(10,"can use AND / OR / NOT keywords"),d.qZA()(),d._UZ(11,"br"),d.TgZ(12,"button",4),d.NdJ("click",function(){return r.goBackToTopHeadlines()}),d.TgZ(13,"mat-icon",5),d._uU(14,"arrow_back"),d.qZA(),d.TgZ(15,"span"),d._uU(16,"Go Back"),d.qZA()(),d._UZ(17,"br"),d.qZA(),d._UZ(18,"mat-divider"),d.TgZ(19,"h2",6),d._uU(20,"Your Search Results"),d.qZA(),d.TgZ(21,"div",7),d.YNc(22,L8,11,3,"mat-card",8),d._UZ(23,"mat-divider"),d.qZA()),2&i&&(d.xp6(22),d.Q6J("ngForOf",r.searchResults))},dependencies:[ra,F5,Zw,Kw,Vg,Yw,yy,NM,oR,FM,Qw,fF,CG,ZM],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:1rem;font-weight:700;text-align:center;text-transform:uppercase;color:#0a3161;padding:1vh;margin:0}h3[_ngcontent-%COMP%]   #searchTitler[_ngcontent-%COMP%]{margin:0 auto}.news-list[_ngcontent-%COMP%]{margin:0 auto;width:90%;display:flex;flex-wrap:wrap;justify-content:space-between}mat-card[_ngcontent-%COMP%]{width:15em;height:12rem;overflow:hidden;margin:10px 10px 20px;padding:10px;background-color:#d1d7dc;flex:0 0 calc(25% - 20px)}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0;padding:0}mat-icon[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;text-align:center}.cardButton[_ngcontent-%COMP%]{margin:0 auto;background-color:#003566;padding:5px 10px;text-decoration:none;border:none;color:#d1d7dc!important}#subtitler[_ngcontent-%COMP%]{color:#000!important;font-weight:bolder}.cardButton[_ngcontent-%COMP%]:hover{background-color:#d90429}.searchInput[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 auto;width:40%}.goBackButton[_ngcontent-%COMP%]{margin:0 auto;width:40%}"]})}return n})();function B8(n,e){if(1&n&&(d.TgZ(0,"mat-card",5)(1,"mat-card-header")(2,"mat-card-title")(3,"h3")(4,"a",6),d._uU(5),d.qZA()(),d.TgZ(6,"p"),d._uU(7),d.qZA()()()()),2&n){const t=e.$implicit;d.xp6(4),d.Q6J("href",t.url,d.LSH),d.xp6(),d.hij(" ",t.title," "),d.xp6(2),d.Oqu(t.description)}}const U8=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Vq},{path:"register",component:R8},{path:"top-headlines",component:k8,canActivate:[(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return!0!==this.authService.isLoggedIn&&this.router.navigate(["login"]),!0}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Fg),d.LFG(po))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()]},{path:"forgot-password",component:O8},{path:"verify-email-address",component:F8},{path:"search",component:V8},{path:"Liked",component:(()=>{class n{constructor(t,i,r){this.authService=t,this.likedService=i,this.router=r,this.likedArticles=[]}ngOnInit(){this.authService.getUserData().subscribe(t=>{this.likedArticles=this.likedService.getLikedArticles()})}goBackToTopHeadlines(){this.router.navigate(["top-headlines"])}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Fg),d.Y36(t3),d.Y36(po))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-liked"]],decls:13,vars:1,consts:[[1,"likedSection"],["mat-button","",1,"cardButton","goBackButton",3,"click"],["aria-hidden","false","aria-label","icon"],[1,"news-list"],["class","searchResults",4,"ngFor","ngForOf"],[1,"searchResults"],["id","subtitler","target","_blank",3,"href"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"h1"),d._uU(2,"User liked articles"),d.qZA(),d.TgZ(3,"button",1),d.NdJ("click",function(){return r.goBackToTopHeadlines()}),d.TgZ(4,"mat-icon",2),d._uU(5,"arrow_back"),d.qZA(),d.TgZ(6,"span"),d._uU(7,"Go Back"),d.qZA()(),d._UZ(8,"br")(9,"mat-divider"),d.qZA(),d.TgZ(10,"div",3),d.YNc(11,B8,8,3,"mat-card",4),d._UZ(12,"mat-divider"),d.qZA()),2&i&&(d.xp6(11),d.Q6J("ngForOf",r.likedArticles))},dependencies:[ra,Zw,Kw,Vg,yy,NM,oR],styles:["h1[_ngcontent-%COMP%]{margin:0 auto;text-align:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:1rem;font-weight:700;text-align:center;text-transform:uppercase;color:#0a3161;padding:1vh;margin:0}.news-list[_ngcontent-%COMP%]{margin:0 auto;width:90%;display:flex;flex-wrap:wrap;justify-content:space-between}mat-card[_ngcontent-%COMP%]{width:15em;height:12rem;overflow:hidden;margin:10px 10px 20px;padding:10px;background-color:#d1d7dc;flex:0 0 calc(25% - 20px)}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0;padding:0}mat-icon[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;text-align:center}.cardButton[_ngcontent-%COMP%]{margin:0 auto;background-color:#003566;padding:5px 10px;text-decoration:none;border:none;color:#d1d7dc!important}#subtitler[_ngcontent-%COMP%]{color:#000!important;font-weight:bolder}.cardButton[_ngcontent-%COMP%]:hover{background-color:#d90429}.likedSection[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 auto;width:40%}.goBackButton[_ngcontent-%COMP%]{margin:0 auto;width:40%}"]})}return n})()}];let j8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Cb.forRoot(U8),Cb]})}return n})();const H8=["*",[["mat-toolbar-row"]]],z8=["*","mat-toolbar-row"],$8=lF(class{constructor(n){this._elementRef=n}});let G8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),q8=(()=>{class n extends $8{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(La),d.Y36(te))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,s){if(1&i&&d.Suo(s,G8,5),2&i){let l;d.iGM(l=d.CRH())&&(r._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&d.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:z8,decls:2,vars:0,template:function(i,r){1&i&&(d.F$t(H8),d.Hsn(0),d.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),zF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ei,Ei]})}return n})();class $F{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new An.x,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!i.has(this._getConcreteValue(s,i))).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let i of t)if(this.compareWith(e,i))return i;return e}return e}}const W8=["button"],Z8=["*"],c3=new d.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),l3=new d.OlP("MatButtonToggleGroup"),K8={provide:xc,useExisting:(0,d.Gpc)(()=>h3),multi:!0};let d3=0;class u3{constructor(e,t){this.source=e,this.value=t}}let h3=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(i=>i.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=t,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markButtonsForCheck()}constructor(t,i){this._changeDetector=t,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+d3++,this.valueChange=new d.vpe,this.change=new d.vpe,this.appearance=i&&i.appearance?i.appearance:"standard"}ngOnInit(){this._selectionModel=new $F(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(t){const i=new u3(t,this.value);this._rawValue=i.value,this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(t,i,r=!1,s=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(t):this._selectionModel.deselect(t):s=!0,s?Promise.resolve().then(()=>this._updateModelValue(t,r)):this._updateModelValue(t,r)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=t.value&&i===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const i=this._buttonToggles.find(r=>null!=r.value&&r.value===t);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(t,i){i&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.sBO),d.Y36(c3,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(i,r,s){if(1&i&&d.Suo(s,f3,5),2&i){let l;d.iGM(l=d.CRH())&&(r._buttonToggles=l)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(i,r){2&i&&(d.uIk("aria-disabled",r.disabled),d.ekj("mat-button-toggle-vertical",r.vertical)("mat-button-toggle-group-appearance-standard","standard"===r.appearance))},inputs:{appearance:"appearance",name:"name",vertical:["vertical","vertical",d.VuI],value:"value",multiple:["multiple","multiple",d.VuI],disabled:["disabled","disabled",d.VuI]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[d._Bn([K8,{provide:l3,useExisting:n}]),d.Xq5]})}return n})(),f3=(()=>{class n{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=t}constructor(t,i,r,s,l,f){this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=s,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new d.vpe;const p=Number(l);this.tabIndex=p||0===p?p:null,this.buttonToggleGroup=t,this.appearance=f&&f.appearance?f.appearance:"standard"}ngOnInit(){const t=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+d3++,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector()||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new u3(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(l3,8),d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(aF),d.$8M("tabindex"),d.Y36(c3,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(i,r){if(1&i&&d.Gf(W8,5),2&i){let s;d.iGM(s=d.CRH())&&(r._buttonElement=s.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(i,r){1&i&&d.NdJ("focus",function(){return r.focus()}),2&i&&(d.uIk("aria-label",null)("aria-labelledby",null)("id",r.id)("name",null),d.ekj("mat-button-toggle-standalone",!r.buttonToggleGroup)("mat-button-toggle-checked",r.checked)("mat-button-toggle-disabled",r.disabled)("mat-button-toggle-appearance-standard","standard"===r.appearance))},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:["disableRipple","disableRipple",d.VuI],appearance:"appearance",checked:["checked","checked",d.VuI],disabled:["disabled","disabled",d.VuI]},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[d.Xq5],ngContentSelectors:Z8,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){if(1&i&&(d.F$t(),d.TgZ(0,"button",0,1),d.NdJ("click",function(){return r._onButtonClick()}),d.TgZ(2,"span",2),d.Hsn(3),d.qZA()(),d._UZ(4,"span",3)(5,"span",4)),2&i){const s=d.MAs(1);d.Q6J("id",r.buttonId)("disabled",r.disabled||null),d.uIk("tabindex",r.disabled?-1:r.tabIndex)("aria-pressed",r.checked)("name",r._getButtonName())("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),d.xp6(5),d.Q6J("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)}},dependencies:[dF],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-text-font)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-text-font)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0})}return n})(),m3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ei,AM,Ei]})}return n})();function Y8(n,e){if(1&n&&(d.TgZ(0,"mat-icon"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(),d.Oqu(t.icon)}}function Q8(n,e){if(1&n&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(),d.Oqu(t.name)}}function X8(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"mat-button-toggle",3),d.NdJ("click",function(){const s=d.CHM(t).$implicit,l=d.oxw();return d.KtG(l.newsService.show(s.name))}),d.YNc(1,Y8,2,1,"mat-icon",4)(2,Q8,2,1,"span",4),d.qZA()}if(2&n){const t=e.$implicit,i=d.oxw();d.Q6J("value",t.name),d.xp6(),d.Q6J("ngIf",i.isSmallScreen),d.xp6(),d.Q6J("ngIf",!i.isSmallScreen)}}function J8(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"span",5),d.NdJ("click",function(){d.CHM(t);const r=d.oxw();return d.KtG(r.authService.SignOut())}),d._UZ(1,"mat-icon",6),d._uU(2," logout "),d.qZA()}}let eW=(()=>{class n{onResize(t){this.isSmallScreen=t.target.innerWidth<860,this.windowInnerWidth=window.innerWidth}constructor(t,i,r,s){this.router=t,this.authService=i,this.categoryService=r,this.newsService=s,this.isSmallScreen=!1,this.isAuthenticated=!1,this.categories=this.categoryService.categories,this.showSearchComponent=!1,this.newsListComponent=!1,this.selectedCategory="general",this.categoryChanged=new d.vpe,this.windowInnerWidth=window.innerWidth}onCategoryChange(t){this.selectedCategory=t.value,this.categoryChanged.emit(this.selectedCategory),"Search"===t.value?this.router.navigate(["search"]):"Start"===t.value?this.router.navigate(["top-headlines"]):"Liked"===t.value&&this.router.navigate(["Liked"])}ngOnInit(){this.authService.isAuthenticated().subscribe(t=>{this.isAuthenticated=t})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(po),d.Y36(Fg),d.Y36(HF),d.Y36(tR))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-toolbar"]],hostBindings:function(i,r){1&i&&d.NdJ("resize",function(l){return r.onResize(l)},!1,d.Jf7)},outputs:{categoryChanged:"categoryChanged"},decls:4,vars:3,consts:[[3,"ngModel","ngModelChange","change"],[3,"value","click",4,"ngFor","ngForOf"],["class","material-symbols-outlined logout",3,"click",4,"ngIf"],[3,"value","click"],[4,"ngIf"],[1,"material-symbols-outlined","logout",3,"click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","logout","id","logout"]],template:function(i,r){1&i&&(d.TgZ(0,"mat-toolbar")(1,"mat-button-toggle-group",0),d.NdJ("ngModelChange",function(l){return r.selectedCategory=l})("change",function(l){return r.onCategoryChange(l)}),d.YNc(2,X8,3,3,"mat-button-toggle",1),d.qZA(),d.YNc(3,J8,3,0,"span",2),d.qZA()),2&i&&(d.xp6(),d.Q6J("ngModel",r.selectedCategory),d.xp6(),d.Q6J("ngForOf",r.categories),d.xp6(),d.Q6J("ngIf",r.authService.isLoggedIn))},dependencies:[ra,oa,JU,DF,q8,h3,f3,oR],styles:["mat-toolbar[_ngcontent-%COMP%]{font-size:15px!important;padding:0;display:flex;justify-content:space-between;background-color:transparent;border:none}mat-button-toggle-group[_ngcontent-%COMP%]{flex-direction:row;align-items:center;width:100%;margin:0 auto;height:2rem}mat-button-toggle[_ngcontent-%COMP%]:hover{background-color:#ced4da}.material-symbols-outlined[_ngcontent-%COMP%]{cursor:pointer;margin:0 auto}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto;padding:0 1rem}.api[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{font-size:10px;margin:0 auto;padding:0}.logout[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}return n})(),tW=(()=>{class n{constructor(){this.currentDay="",this.currentDate=new Date,this.currentTime=new Date}ngOnInit(){this.updateTime(),setInterval(()=>this.updateTime(),1e3)}updateTime(){const t=new Date;this.currentDay=this.getDayOfWeek(t.getDay()),this.currentDate=t,this.currentTime=t}getDayOfWeek(t){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-header"]],decls:14,vars:9,consts:[[1,"header"],[1,"clock"],[1,"api"],["href","https://newsapi.org/","target","_blank"],["src","./assets/news_logo.png","alt","logo","width","50"],[1,"banner"],[1,"theHeader"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"div",1)(2,"p"),d._uU(3),d.ALo(4,"date"),d.ALo(5,"date"),d.qZA()(),d.TgZ(6,"div",2)(7,"p"),d._uU(8," Powered by: "),d.TgZ(9,"a",3),d._UZ(10,"img",4),d.qZA()()()(),d.TgZ(11,"div",5)(12,"h1",6),d._uU(13,"InfoHub News: Bringing the World to Your Screen"),d.qZA()()),2&i&&(d.xp6(3),d.lnq(" ",r.currentDay," ",d.xi3(4,3,r.currentTime,"HH:mm:ss")," MST, ",d.xi3(5,6,r.currentDate,"MM-dd-yyyy")," "))},dependencies:[Xo],styles:[".clock[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:500}.header[_ngcontent-%COMP%]{background-color:#000;color:#fca311;text-align:center;display:flex;justify-content:space-between;padding:0 2rem}p[_ngcontent-%COMP%]{margin:0;padding:0}.api[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1vh;display:flex;justify-content:center;align-items:center;line-height:0;padding-top:2px}.banner[_ngcontent-%COMP%]{background-image:url(/assets/header.jpg);background-color:#023e8a;background-size:cover;background-repeat:no-repeat;background-position:center;width:100%;height:2em}.theHeader[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#f8edeb;margin:0;padding:0 2rem;font-size:1rem;display:flex;justify-content:flex-end;font-weight:bolder;align-items:center;text-transform:uppercase}"]})}return n})();function nW(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"app-toolbar",2),d.NdJ("categoryChanged",function(r){d.CHM(t);const s=d.oxw();return d.KtG(s.onCategoryChanged(r))}),d.qZA()}}let iW=(()=>{class n{constructor(t,i){this.activatedRoute=t,this.router=i,this.title="newsApp",this.selectedCategory="general",this.isLoggedIn=!1,this.isLoginPage=!1,this.activatedRoute.url.subscribe(r=>{this.isLoginPage=r.some(s=>"login"===s.path)}),this.router.events.subscribe(r=>{r instanceof ur&&(this.isLoggedIn="/login"!==r.url)})}onCategoryChanged(t){this.selectedCategory=t}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Ae),d.Y36(po))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:1,consts:[[1,"container"],[3,"categoryChanged",4,"ngIf"],[3,"categoryChanged"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0),d._UZ(1,"app-header"),d.YNc(2,nW,1,0,"app-toolbar",1),d._UZ(3,"router-outlet"),d.qZA()),2&i&&(d.xp6(2),d.Q6J("ngIf",r.isLoggedIn&&!r.isLoginPage))},dependencies:[oa,dp,eW,tW],styles:[".container[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}"]})}return n})();function p3(n){return new d.vHH(3e3,!1)}function $g(n){switch(n.length){case 0:return new Sf;case 1:return n[0];default:return new Ip(n)}}function g3(n,e,t=new Map,i=new Map){const r=[],s=[];let l=-1,f=null;if(e.forEach(p=>{const y=p.get("offset"),I=y==l,D=I&&f||new Map;p.forEach((M,F)=>{let V=F,U=M;if("offset"!==F)switch(V=n.normalizePropertyName(V,r),U){case"!":U=t.get(F);break;case Lo:U=i.get(F);break;default:U=n.normalizeStyleValue(F,V,U,r)}D.set(V,U)}),I||s.push(D),f=D,l=y}),r.length)throw function TW(n){return new d.vHH(3502,!1)}();return s}function GF(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&qF(t,"start",n)));break;case"done":n.onDone(()=>i(t&&qF(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&qF(t,"destroy",n)))}}function qF(n,e,t){const s=WF(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function WF(n,e,t,i,r="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function Ec(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function _3(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const VW=(()=>typeof document>"u"?null:document.documentElement)();function ZF(n){const e=n.parentNode||n.host||null;return e===VW?null:e}let Ty=null,v3=!1;function y3(n,e){for(;e;){if(e===n)return!0;e=ZF(e)}return!1}function b3(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let KF=(()=>{class n{validateStyleProperty(t){return function UW(n){Ty||(Ty=function jW(){return typeof document<"u"?document.body:null}()||{},v3=!!Ty.style&&"WebkitAppearance"in Ty.style);let e=!0;return Ty.style&&!function BW(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ty.style,!e&&v3&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ty.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return y3(t,i)}getParentElement(t){return ZF(t)}query(t,i,r){return b3(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,l,f=[],p){return new Sf(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})(),YF=(()=>{class n{static#e=this.NOOP=new KF}return n})();class QF{}const zW=1e3,XF="ng-enter",aR="ng-leave",cR="ng-trigger",lR=".ng-trigger",x3="ng-animating",JF=".ng-animating";function xm(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:eL(parseFloat(e[1]),e[2])}function eL(n,e){return"s"===e?n*zW:n}function dR(n,e,t){return n.hasOwnProperty("duration")?n:function GW(n,e,t){let r,s=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(p3()),{duration:0,delay:0,easing:""};r=eL(parseFloat(f[1]),f[2]);const p=f[3];null!=p&&(s=eL(parseFloat(p),f[4]));const y=f[5];y&&(l=y)}else r=n;if(!t){let f=!1,p=e.length;r<0&&(e.push(function rW(){return new d.vHH(3100,!1)}()),f=!0),s<0&&(e.push(function oW(){return new d.vHH(3101,!1)}()),f=!0),f&&e.splice(p,0,p3())}return{duration:r,delay:s,easing:l}}(n,e,t)}function lT(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function E3(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Gg(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Ch(n,e,t){e.forEach((i,r)=>{const s=nL(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function Dy(n,e){e.forEach((t,i)=>{const r=nL(i);n.style[r]=""})}function dT(n){return Array.isArray(n)?1==n.length?n[0]:function CD(n,e=null){return{type:2,steps:n,options:e}}(n):n}const tL=new RegExp("{{\\s*(.+?)\\s*}}","g");function I3(n){let e=[];if("string"==typeof n){let t;for(;t=tL.exec(n);)e.push(t[1]);tL.lastIndex=0}return e}function uT(n,e,t){const i=n.toString(),r=i.replace(tL,(s,l)=>{let f=e[l];return null==f&&(t.push(function aW(n){return new d.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function uR(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ZW=/-+([a-z0-9])/g;function nL(n){return n.replace(ZW,(...e)=>e[1].toUpperCase())}function Cc(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function cW(n){return new d.vHH(3004,!1)}()}}function T3(n,e){return window.getComputedStyle(n)[e]}const QW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class D3 extends QF{normalizePropertyName(e,t){return nL(e)}normalizeStyleValue(e,t,i,r){let s="";const l=i.toString().trim();if(QW.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function lW(n,e){return new d.vHH(3005,!1)}())}return l+s}}const hR="*";function XW(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function JW(n,e,t){if(":"==n[0]){const p=function e9(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function xW(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function wW(n){return new d.vHH(3015,!1)}()),e;const r=i[1],s=i[2],l=i[3];e.push(S3(r,l));"<"==s[0]&&!(r==hR&&l==hR)&&e.push(S3(l,r))}(i,t,e)):t.push(n),t}const fR=new Set(["true","1"]),mR=new Set(["false","0"]);function S3(n,e){const t=fR.has(n)||mR.has(n),i=fR.has(e)||mR.has(e);return(r,s)=>{let l=n==hR||n==r,f=e==hR||e==s;return!l&&t&&"boolean"==typeof r&&(l=r?fR.has(n):mR.has(n)),!f&&i&&"boolean"==typeof s&&(f=s?fR.has(e):mR.has(e)),l&&f}}const t9=new RegExp("s*:selfs*,?","g");function iL(n,e,t,i){return new n9(n).build(e,t,i)}class n9{constructor(e){this._driver=e}build(e,t,i){const r=new o9(t);return this._resetContextStyleTimingState(r),Cc(this,dT(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function dW(){return new d.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const p=f,y=p.name;y.toString().split(/\s*,\s*/).forEach(I=>{p.name=I,s.push(this.visitState(p,t))}),p.name=y}else if(1==f.type){const p=this.visitTransition(f,t);i+=p.queryCount,r+=p.depCount,l.push(p)}else t.errors.push(function uW(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(p=>{I3(p).forEach(y=>{l.hasOwnProperty(y)||s.add(y)})})}),s.size&&(uR(s.values()),t.errors.push(function hW(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Cc(this,dT(e.animation),t);return{type:1,matchers:XW(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Sy(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Cc(this,i,t)),options:Sy(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(l=>{t.currentTime=i;const f=Cc(this,l,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:s,options:Sy(e.options)}}visitAnimate(e,t){const i=function a9(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return rL(dR(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=rL(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=dR(t,e);return rL(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Cn({});if(5==s.type)r=this.visitKeyframes(s,t);else{let l=e.styles,f=!1;if(!l){f=!0;const y={};i.easing&&(y.easing=i.easing),l=Cn(y)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(l,t);p.isEmptyStep=f,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===Lo?i.push(f):t.errors.push(new d.vHH(3002,!1)):i.push(E3(f));let s=!1,l=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!s))for(let p of f.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,p)=>{const y=t.collectedStyles.get(t.currentQuerySelector),I=y.get(p);let D=!0;I&&(s!=r&&s>=I.startTime&&r<=I.endTime&&(t.errors.push(function mW(n,e,t,i,r){return new d.vHH(3010,!1)}()),D=!1),s=I.startTime),D&&y.set(p,{startTime:s,endTime:r}),t.options&&function WW(n,e,t){const i=e.params||{},r=I3(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function sW(n){return new d.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function pW(){return new d.vHH(3011,!1)}()),i;let s=0;const l=[];let f=!1,p=!1,y=0;const I=e.steps.map(fe=>{const Ne=this._makeStyleAst(fe,t);let Ie=null!=Ne.offset?Ne.offset:function s9(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ne.styles),Fe=0;return null!=Ie&&(s++,Fe=Ne.offset=Ie),p=p||Fe<0||Fe>1,f=f||Fe<y,y=Fe,l.push(Fe),Ne});p&&t.errors.push(function gW(){return new d.vHH(3012,!1)}()),f&&t.errors.push(function _W(){return new d.vHH(3200,!1)}());const D=e.steps.length;let M=0;s>0&&s<D?t.errors.push(function vW(){return new d.vHH(3202,!1)}()):0==s&&(M=1/(D-1));const F=D-1,V=t.currentTime,U=t.currentAnimateTimings,X=U.duration;return I.forEach((fe,Ne)=>{const Ie=M>0?Ne==F?1:M*Ne:l[Ne],Fe=Ie*X;t.currentTime=V+U.delay+Fe,U.duration=Fe,this._validateStyleAst(fe,t),fe.offset=Ie,i.styles.push(fe)}),i}visitReference(e,t){return{type:8,animation:Cc(this,dT(e.animation),t),options:Sy(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Sy(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Sy(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function i9(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(t9,"")),n=n.replace(/@\*/g,lR).replace(/@\w+/g,t=>lR+"-"+t.slice(1)).replace(/:animating/g,JF),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Ec(t.collectedStyles,t.currentQuerySelector,new Map);const f=Cc(this,dT(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:Sy(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function yW(){return new d.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:dR(e.timings,t.errors,!0);return{type:12,animation:Cc(this,dT(e.animation),t),timings:i,options:null}}}class o9{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Sy(n){return n?(n=lT(n)).params&&(n.params=function r9(n){return n?lT(n):null}(n.params)):n={},n}function rL(n,e,t){return{duration:n,delay:e,easing:t}}function oL(n,e,t,i,r,s,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:f}}class pR{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const d9=new RegExp(":enter","g"),h9=new RegExp(":leave","g");function sL(n,e,t,i,r,s=new Map,l=new Map,f,p,y=[]){return(new f9).buildKeyframes(n,e,t,i,r,s,l,f,p,y)}class f9{buildKeyframes(e,t,i,r,s,l,f,p,y,I=[]){y=y||new pR;const D=new aL(e,t,y,r,s,I,[]);D.options=p;const M=p.delay?xm(p.delay):0;D.currentTimeline.delayNextStep(M),D.currentTimeline.setStyles([l],null,D.errors,p),Cc(this,i,D);const F=D.timelines.filter(V=>V.containsAnimation());if(F.length&&f.size){let V;for(let U=F.length-1;U>=0;U--){const X=F[U];if(X.element===t){V=X;break}}V&&!V.allowOnlyTimelineStyles()&&V.setStyles([f],null,D.errors,p)}return F.length?F.map(V=>V.buildKeyframes()):[oL(t,[],[],[],0,M,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const l="number"==typeof s?s:xm(uT(s,r?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const l=null!=i.duration?xm(i.duration):null,f=null!=i.delay?xm(i.delay):null;return 0!==l&&e.forEach(p=>{const y=t.appendInstructionToTimeline(p,l,f);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Cc(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=gR);const l=xm(s.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Cc(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?xm(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);s&&f.delayNextStep(s),Cc(this,l,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return dR(t.params?uT(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(p=>{f.forwardTime((p.offset||0)*s),f.setStyles(p.styles,p.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?xm(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=gR);let l=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let p=null;f.forEach((y,I)=>{t.currentQueryIndex=I;const D=t.createSubContext(e.options,y);s&&D.delayNextStep(s),y===t.element&&(p=D.currentTimeline),Cc(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),f=l*(t.currentQueryTotal-1);let p=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=f-p;break;case"full":p=i.currentStaggerTime}const I=t.currentTimeline;p&&I.delayNextStep(p);const D=I.currentTime;Cc(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const gR={};class aL{constructor(e,t,i,r,s,l,f,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gR,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new _R(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=xm(i.duration)),null!=i.delay&&(r.delay=xm(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=uT(s[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new aL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=gR,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new m9(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,l){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(d9,"."+this._enterClassName)).replace(h9,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),f.push(...y)}return!s&&0==f.length&&l.push(function bW(n){return new d.vHH(3014,!1)}()),f}}class _R{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new _R(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Lo),this._currentKeyframe.set(t,Lo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},l=function p9(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Lo)}else Gg(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,p]of l){const y=uT(p,s,i);this._pendingStyles.set(f,y),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Lo),this._updateStyle(f,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,p)=>{const y=Gg(f,new Map,this._backFill);y.forEach((I,D)=>{"!"===I?e.add(D):I===Lo&&t.add(D)}),i||y.set("offset",p/this.duration),r.push(y)});const s=e.size?uR(e.values()):[],l=t.size?uR(t.values()):[];if(i){const f=r[0],p=new Map(f);f.set("offset",0),p.set("offset",1),r=[f,p]}return oL(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class m9 extends _R{constructor(e,t,i,r,s,l,f=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=i+t,f=t/l,p=Gg(e[0]);p.set("offset",0),s.push(p);const y=Gg(e[0]);y.set("offset",M3(f)),s.push(y);const I=e.length-1;for(let D=1;D<=I;D++){let M=Gg(e[D]);const F=M.get("offset");M.set("offset",M3((t+F*i)/l)),s.push(M)}i=l,t=0,r="",e=s}return oL(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function M3(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function R3(n,e,t,i,r,s,l,f,p,y,I,D,M){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:l,timelines:f,queriedElements:p,preStyleProps:y,postStyleProps:I,totalTime:D,errors:M}}const cL={};class N3{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function g9(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,l,f,p,y,I){const D=[],M=this.ast.options&&this.ast.options.params||cL,V=this.buildStyles(i,f&&f.params||cL,D),U=p&&p.params||cL,X=this.buildStyles(r,U,D),fe=new Set,Ne=new Map,Ie=new Map,Fe="void"===r,vt={params:_9(U,M),delay:this.ast.options?.delay},ht=I?[]:sL(e,t,this.ast.animation,s,l,V,X,vt,y,D);let ln=0;if(ht.forEach(ys=>{ln=Math.max(ys.duration+ys.delay,ln)}),D.length)return R3(t,this._triggerName,i,r,Fe,V,X,[],[],Ne,Ie,ln,D);ht.forEach(ys=>{const Dm=ys.element,u$=Ec(Ne,Dm,new Set);ys.preStyleProps.forEach(jy=>u$.add(jy));const ZT=Ec(Ie,Dm,new Set);ys.postStyleProps.forEach(jy=>ZT.add(jy)),Dm!==t&&fe.add(Dm)});const Ti=uR(fe.values());return R3(t,this._triggerName,i,r,Fe,V,X,ht,Ti,Ne,Ie,ln)}}function _9(n,e){const t=lT(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class v9{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=lT(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,f)=>{l&&(l=uT(l,r,t));const p=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,p,l,t),i.set(f,l)})}),i}}class b9{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new v9(r.style,r.options&&r.options.params||{},i))}),O3(this.states,"true","1"),O3(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new N3(e,r,this.states))}),this.fallbackTransition=function w9(n,e,t){return new N3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(l=>l.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function O3(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const x9=new pR;class E9{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=iL(this._driver,t,i,[]);if(i.length)throw function DW(n){return new d.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=g3(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let l;const f=new Map;if(s?(l=sL(this._driver,t,s,XF,aR,new Map,new Map,i,x9,r),l.forEach(I=>{const D=Ec(f,I.element,new Map);I.postStyleProps.forEach(M=>D.set(M,null))})):(r.push(function SW(){return new d.vHH(3300,!1)}()),l=[]),r.length)throw function AW(n){return new d.vHH(3504,!1)}();f.forEach((I,D)=>{I.forEach((M,F)=>{I.set(F,this._driver.computeStyle(D,F,Lo))})});const y=$g(l.map(I=>{const D=f.get(I.element);return this._buildPlayer(I,new Map,D)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function kW(n){return new d.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=WF(t,"","","");return GF(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const P3="ng-animate-queued",lL="ng-animate-disabled",S9=[],F3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},A9={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},tu="__ng_removed";class dL{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function N9(n){return n??null}(i?e.value:e),i){const s=lT(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const hT="void",uL=new dL(hT);class k9{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ul(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function MW(n,e){return new d.vHH(3302,!1)}();if(null==i||0==i.length)throw function RW(n){return new d.vHH(3303,!1)}();if(!function O9(n){return"start"==n||"done"==n}(i))throw function NW(n,e){return new d.vHH(3400,!1)}();const s=Ec(this._elementListeners,e,[]),l={name:t,phase:i,callback:r};s.push(l);const f=Ec(this._engine.statesByElement,e,new Map);return f.has(t)||(Ul(e,cR),Ul(e,cR+"-"+t),f.set(t,uL)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(l);p>=0&&s.splice(p,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function OW(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),l=new hL(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ul(e,cR),Ul(e,cR+"-"+t),this._engine.statesByElement.set(e,f=new Map));let p=f.get(t);const y=new dL(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),f.set(t,y),p||(p=uL),y.value!==hT&&p.value===y.value){if(!function L9(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,y.params)){const U=[],X=s.matchStyles(p.value,p.params,U),fe=s.matchStyles(y.value,y.params,U);U.length?this._engine.reportError(U):this._engine.afterFlush(()=>{Dy(e,X),Ch(e,fe)})}return}const M=Ec(this._engine.playersByElement,e,[]);M.forEach(U=>{U.namespaceId==this.id&&U.triggerName==t&&U.queued&&U.destroy()});let F=s.matchTransition(p.value,y.value,e,y.params),V=!1;if(!F){if(!r)return;F=s.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:F,fromState:p,toState:y,player:l,isFallbackTransition:V}),V||(Ul(e,P3),l.onStart(()=>{ex(e,P3)})),l.onDone(()=>{let U=this.players.indexOf(l);U>=0&&this.players.splice(U,1);const X=this._engine.playersByElement.get(e);if(X){let fe=X.indexOf(l);fe>=0&&X.splice(fe,1)}}),this.players.push(l),M.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,lR,!0);i.forEach(r=>{if(r[tu])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const f=[];if(s.forEach((p,y)=>{if(l.set(y,p.value),this._triggers.has(y)){const I=this.trigger(e,y,hT,r);I&&f.push(I)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&$g(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const p=this._triggers.get(l).fallbackTransition,y=i.get(l)||uL,I=new dL(hT),D=new hL(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:p,fromState:y,toState:I,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[tu];(!s||s===F3)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ul(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(f=>{if(f.name==i.triggerName){const p=WF(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,GF(i.player,f.phase,p,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class M9{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new k9(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const p=r.get(f);if(p){const y=i.indexOf(p);i.splice(y+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(vR(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!vR(t))return;const s=t[tu];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ul(e,lL)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ex(e,lL))}removeNode(e,t,i){if(vR(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[tu]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return vR(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,lR,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,JF,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return $g(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[tu];if(t&&t.setForRemoval){if(e[tu]=F3,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(lL)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ul(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?$g(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function PW(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new pR,r=[],s=new Map,l=[],f=new Map,p=new Map,y=new Map,I=new Set;this.disabledNodes.forEach(pt=>{I.add(pt);const At=this.driver.query(pt,".ng-animate-queued",!0);for(let Ht=0;Ht<At.length;Ht++)I.add(At[Ht])});const D=this.bodyNode,M=Array.from(this.statesByElement.keys()),F=B3(M,this.collectedEnterElements),V=new Map;let U=0;F.forEach((pt,At)=>{const Ht=XF+U++;V.set(At,Ht),pt.forEach(Ln=>Ul(Ln,Ht))});const X=[],fe=new Set,Ne=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const At=this.collectedLeaveElements[pt],Ht=At[tu];Ht&&Ht.setForRemoval&&(X.push(At),fe.add(At),Ht.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(Ln=>fe.add(Ln)):Ne.add(At))}const Ie=new Map,Fe=B3(M,Array.from(fe));Fe.forEach((pt,At)=>{const Ht=aR+U++;Ie.set(At,Ht),pt.forEach(Ln=>Ul(Ln,Ht))}),e.push(()=>{F.forEach((pt,At)=>{const Ht=V.get(At);pt.forEach(Ln=>ex(Ln,Ht))}),Fe.forEach((pt,At)=>{const Ht=Ie.get(At);pt.forEach(Ln=>ex(Ln,Ht))}),X.forEach(pt=>{this.processLeaveNode(pt)})});const vt=[],ht=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(t).forEach(Ht=>{const Ln=Ht.player,xo=Ht.element;if(vt.push(Ln),this.collectedEnterElements.length){const bs=xo[tu];if(bs&&bs.setForMove){if(bs.previousTriggersValues&&bs.previousTriggersValues.has(Ht.triggerName)){const Hy=bs.previousTriggersValues.get(Ht.triggerName),$l=this.statesByElement.get(Ht.element);if($l&&$l.has(Ht.triggerName)){const u1=$l.get(Ht.triggerName);u1.value=Hy,$l.set(Ht.triggerName,u1)}}return void Ln.destroy()}}const Rh=!D||!this.driver.containsElement(D,xo),Sc=Ie.get(xo),i_=V.get(xo),rr=this._buildInstruction(Ht,i,i_,Sc,Rh);if(rr.errors&&rr.errors.length)return void ht.push(rr);if(Rh)return Ln.onStart(()=>Dy(xo,rr.fromStyles)),Ln.onDestroy(()=>Ch(xo,rr.toStyles)),void r.push(Ln);if(Ht.isFallbackTransition)return Ln.onStart(()=>Dy(xo,rr.fromStyles)),Ln.onDestroy(()=>Ch(xo,rr.toStyles)),void r.push(Ln);const m$=[];rr.timelines.forEach(bs=>{bs.stretchStartingKeyframe=!0,this.disabledNodes.has(bs.element)||m$.push(bs)}),rr.timelines=m$,i.append(xo,rr.timelines),l.push({instruction:rr,player:Ln,element:xo}),rr.queriedElements.forEach(bs=>Ec(f,bs,[]).push(Ln)),rr.preStyleProps.forEach((bs,Hy)=>{if(bs.size){let $l=p.get(Hy);$l||p.set(Hy,$l=new Set),bs.forEach((u1,B2)=>$l.add(B2))}}),rr.postStyleProps.forEach((bs,Hy)=>{let $l=y.get(Hy);$l||y.set(Hy,$l=new Set),bs.forEach((u1,B2)=>$l.add(B2))})});if(ht.length){const pt=[];ht.forEach(At=>{pt.push(function FW(n,e){return new d.vHH(3505,!1)}())}),vt.forEach(At=>At.destroy()),this.reportError(pt)}const ln=new Map,Ti=new Map;l.forEach(pt=>{const At=pt.element;i.has(At)&&(Ti.set(At,At),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,ln))}),r.forEach(pt=>{const At=pt.element;this._getPreviousPlayers(At,!1,pt.namespaceId,pt.triggerName,null).forEach(Ln=>{Ec(ln,At,[]).push(Ln),Ln.destroy()})});const ys=X.filter(pt=>j3(pt,p,y)),Dm=new Map;V3(Dm,this.driver,Ne,y,Lo).forEach(pt=>{j3(pt,p,y)&&ys.push(pt)});const ZT=new Map;F.forEach((pt,At)=>{V3(ZT,this.driver,new Set(pt),p,"!")}),ys.forEach(pt=>{const At=Dm.get(pt),Ht=ZT.get(pt);Dm.set(pt,new Map([...At?.entries()??[],...Ht?.entries()??[]]))});const jy=[],h$=[],f$={};l.forEach(pt=>{const{element:At,player:Ht,instruction:Ln}=pt;if(i.has(At)){if(I.has(At))return Ht.onDestroy(()=>Ch(At,Ln.toStyles)),Ht.disabled=!0,Ht.overrideTotalTime(Ln.totalTime),void r.push(Ht);let xo=f$;if(Ti.size>1){let Sc=At;const i_=[];for(;Sc=Sc.parentNode;){const rr=Ti.get(Sc);if(rr){xo=rr;break}i_.push(Sc)}i_.forEach(rr=>Ti.set(rr,xo))}const Rh=this._buildAnimation(Ht.namespaceId,Ln,ln,s,ZT,Dm);if(Ht.setRealPlayer(Rh),xo===f$)jy.push(Ht);else{const Sc=this.playersByElement.get(xo);Sc&&Sc.length&&(Ht.parentPlayer=$g(Sc)),r.push(Ht)}}else Dy(At,Ln.fromStyles),Ht.onDestroy(()=>Ch(At,Ln.toStyles)),h$.push(Ht),I.has(At)&&r.push(Ht)}),h$.forEach(pt=>{const At=s.get(pt.element);if(At&&At.length){const Ht=$g(At);pt.setRealPlayer(Ht)}}),r.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<X.length;pt++){const At=X[pt],Ht=At[tu];if(ex(At,aR),Ht&&Ht.hasAnimation)continue;let Ln=[];if(f.size){let Rh=f.get(At);Rh&&Rh.length&&Ln.push(...Rh);let Sc=this.driver.query(At,JF,!0);for(let i_=0;i_<Sc.length;i_++){let rr=f.get(Sc[i_]);rr&&rr.length&&Ln.push(...rr)}}const xo=Ln.filter(Rh=>!Rh.destroyed);xo.length?P9(this,At,xo):this.processLeaveNode(At)}return X.length=0,jy.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const At=this.players.indexOf(pt);this.players.splice(At,1)}),pt.play()}),jy}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const p=!s||s==hT;f.forEach(y=>{y.queued||!p&&y.triggerName!=r||l.push(y)})}}return(i||r)&&(l=l.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),l}_beforeAnimationBuild(e,t,i){const s=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const y=p.element,I=y!==s,D=Ec(i,y,[]);this._getPreviousPlayers(y,I,l,f,t.toState).forEach(F=>{const V=F.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),F.destroy(),D.push(F)})}Dy(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,l){const f=t.triggerName,p=t.element,y=[],I=new Set,D=new Set,M=t.timelines.map(V=>{const U=V.element;I.add(U);const X=U[tu];if(X&&X.removedBeforeQueried)return new Sf(V.duration,V.delay);const fe=U!==p,Ne=function F9(n){const e=[];return U3(n,e),e}((i.get(U)||S9).map(ln=>ln.getRealPlayer())).filter(ln=>!!ln.element&&ln.element===U),Ie=s.get(U),Fe=l.get(U),vt=g3(this._normalizer,V.keyframes,Ie,Fe),ht=this._buildPlayer(V,vt,Ne);if(V.subTimeline&&r&&D.add(U),fe){const ln=new hL(e,f,U);ln.setRealPlayer(ht),y.push(ln)}return ht});y.forEach(V=>{Ec(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function R9(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,V.element,V))}),I.forEach(V=>Ul(V,x3));const F=$g(M);return F.onDestroy(()=>{I.forEach(V=>ex(V,x3)),Ch(p,t.toStyles)}),D.forEach(V=>{Ec(r,V,[]).push(F)}),F}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Sf(e.duration,e.delay)}}class hL{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>GF(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ec(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function vR(n){return n&&1===n.nodeType}function L3(n,e){const t=n.style.display;return n.style.display=e??"none",t}function V3(n,e,t,i,r){const s=[];t.forEach(p=>s.push(L3(p)));const l=[];i.forEach((p,y)=>{const I=new Map;p.forEach(D=>{const M=e.computeStyle(y,D,r);I.set(D,M),(!M||0==M.length)&&(y[tu]=A9,l.push(y))}),n.set(y,I)});let f=0;return t.forEach(p=>L3(p,s[f++])),l}function B3(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),s=new Map;function l(f){if(!f)return 1;let p=s.get(f);if(p)return p;const y=f.parentNode;return p=t.has(y)?y:r.has(y)?1:l(y),s.set(f,p),p}return e.forEach(f=>{const p=l(f);1!==p&&t.get(p).push(f)}),t}function Ul(n,e){n.classList?.add(e)}function ex(n,e){n.classList?.remove(e)}function P9(n,e,t){$g(t).onDone(()=>n.processLeaveNode(e))}function U3(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Ip?U3(i.players,e):e.push(i)}}function j3(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class fT{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new M9(e.body,t,i),this._timelineEngine=new E9(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const l=e+"-"+r;let f=this._triggerCache[l];if(!f){const p=[],I=iL(this._driver,s,p,[]);if(p.length)throw function IW(n,e){return new d.vHH(3404,!1)}();f=function y9(n,e,t){return new b9(n,e,t)}(r,I,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,l]=_3(i);this._timelineEngine.command(s,t,l,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[l,f]=_3(i);return this._timelineEngine.listen(l,t,f,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let B9=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ch(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ch(this._element,this._initialStyles),this._endStyles&&(Ch(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Dy(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dy(this._element,this._endStyles),this._endStyles=null),Ch(this._element,this._initialStyles),this._state=3)}}return n})();function fL(n){let e=null;return n.forEach((t,i)=>{(function U9(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class H3{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:T3(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class z3{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return y3(e,t)}getParentElement(e){return ZF(e)}query(e,t,i){return b3(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,l=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const y=new Map,I=l.filter(F=>F instanceof H3);(function KW(n,e){return 0===n||0===e})(i,r)&&I.forEach(F=>{F.currentSnapshot.forEach((V,U)=>y.set(U,V))});let D=function qW(n){return n.length?n[0]instanceof Map?n:n.map(e=>E3(e)):[]}(t).map(F=>Gg(F));D=function YW(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<e.length;s++){let l=e[s];r.forEach(f=>l.set(f,T3(n,f)))}}return e}(e,D,y);const M=function V9(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=fL(e[0]),e.length>1&&(i=fL(e[e.length-1]))):e instanceof Map&&(t=fL(e)),t||i?new B9(n,t,i):null}(e,D);return new H3(e,D,p,M)}}const $3="@.disabled";class G3{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==$3?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class j9 extends G3{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==$3?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function H9(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function z9(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}class $9{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{const l=s?.parentNode(r);l&&s.removeChild(l,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const y=this._rendererCache;let I=y.get(r);return I||(I=new G3("",r,this.engine,()=>y.delete(r)),y.set(r,I)),I}const s=t.id,l=t.id+"-"+this._currentId;this._currentId++,this.engine.register(l,e);const f=y=>{Array.isArray(y)?y.forEach(f):this.engine.registerTrigger(s,l,e,y.name,y)};return t.data.animation.forEach(f),new j9(this,l,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{const[l,f]=s;l(f)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let G9=(()=>{class n extends fT{constructor(t,i,r,s){super(t,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(te),d.LFG(YF),d.LFG(QF),d.LFG(d.z2F))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const q3=[{provide:QF,useFactory:function q9(){return new D3}},{provide:fT,useClass:G9},{provide:d.FYo,useFactory:function W9(n,e,t){return new $9(n,e,t)},deps:[Xa,fT,d.R0b]}],mL=[{provide:YF,useFactory:()=>new z3},{provide:d.QbO,useValue:"BrowserAnimations"},...q3],W3=[{provide:YF,useClass:KF},{provide:d.QbO,useValue:"NoopAnimations"},...q3];let Z9=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?W3:mL}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:mL,imports:[ma]})}return n})(),gL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[mU,To,Ei,AM,k5,RM]})}return n})(),CZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})(),SZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})(),J3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ei,CZ,SZ]})}return n})(),AZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[To,zF,MM,m3,RM,gL,hU,sR,PF,JI,oT,Rj,oT,J3,To,zF,MM,m3,RM,gL,hU,sR,PF,JI,oT,Rj,oT,J3]})}return n})();const eH="firebasestorage.googleapis.com",tH="storageBucket";class nr extends L.ZR{constructor(e,t,i=0){super(_L(e),`Firebase Storage: ${t} (${_L(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _L(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var zi=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(zi||{});function _L(n){return"storage/"+n}function vL(){return new nr(zi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function nH(){return new nr(zi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iH(){return new nr(zi.CANCELED,"User canceled the upload/download.")}function rH(){return new nr(zi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tx(n){return new nr(zi.INVALID_ARGUMENT,n)}function oH(){return new nr(zi.APP_DELETED,"The Firebase app was deleted.")}function sH(n){return new nr(zi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mT(n,e){return new nr(zi.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function pT(n){throw new nr(zi.INTERNAL_ERROR,"Internal error: "+n)}class _s{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=_s.makeFromUrl(e,t)}catch{return new _s(e,"")}if(""===i.path)return i;throw function BZ(n){return new nr(zi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+r+"(/(.*))?$","i");function y(Fe){Fe.path_=decodeURIComponent(Fe.path)}const D=t.replace(/[.]/g,"\\."),Ie=[{regex:f,indices:{bucket:1,path:3},postModify:function s(Fe){"/"===Fe.path.charAt(Fe.path.length-1)&&(Fe.path_=Fe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${t===eH?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let Fe=0;Fe<Ie.length;Fe++){const vt=Ie[Fe],ht=vt.regex.exec(e);if(ht){let Ti=ht[vt.indices.path];Ti||(Ti=""),i=new _s(ht[vt.indices.bucket],Ti),vt.postModify(i);break}}if(null==i)throw function VZ(n){return new nr(zi.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class $Z{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function bR(n){return"string"==typeof n||n instanceof String}function aH(n){return yL()&&n instanceof Blob}function yL(){return typeof Blob<"u"&&!(0,L.UG)()}function bL(n,e,t,i){if(i<e)throw tx(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw tx(`Invalid value for '${n}'. Expected ${t} or less.`)}function Em(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function cH(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var nx=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(nx||{});function lH(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class YZ{constructor(e,t,i,r,s,l,f,p,y,I,D,M=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=I,this.connectionFactory_=D,this.retry=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((F,V)=>{this.resolve_=F,this.reject_=V,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,l=this.reject_,f=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());!function WZ(n){return void 0!==n}(p)?s():s(p)}catch(p){l(p)}else if(null!==f){const p=vL();p.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,p):p)}else l(r.canceled?this.appDelete_?oH():iH():nH())};this.canceled_?t(0,new wR(!1,null,!0)):this.backoffId_=function GZ(n,e,t){let i=1,r=null,s=null,l=!1,f=0;function p(){return 2===f}let y=!1;function I(...X){y||(y=!0,e.apply(null,X))}function D(X){r=setTimeout(()=>{r=null,n(F,p())},X)}function M(){s&&clearTimeout(s)}function F(X,...fe){if(y)return void M();if(X)return M(),void I.call(null,X,...fe);if(p()||l)return M(),void I.call(null,X,...fe);let Ie;i<64&&(i*=2),1===f?(f=2,Ie=0):Ie=1e3*(i+Math.random()),D(Ie)}let V=!1;function U(X){V||(V=!0,M(),!y&&(null!==r?(X||(f=2),clearTimeout(r),D(0)):X||(f=1)))}return D(0),s=setTimeout(()=>{l=!0,U(!0)},t),U}((i,r)=>{if(r)return void i(!1,new wR(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const f=s.getErrorCode()===nx.NO_ERROR,p=s.getStatus();if(!f||lH(p,this.additionalRetryCodes_)&&this.retry){const I=s.getErrorCode()===nx.ABORT;return void i(!1,new wR(!1,null,I))}const y=-1!==this.successCodes_.indexOf(p);i(!0,new wR(y,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function qZ(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class wR{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function i7(...n){const e=function n7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(yL())return new Blob(n);throw new nr(zi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ic={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wL{constructor(e,t){this.data=e,this.contentType=t||null}}function xL(n,e){switch(n){case Ic.RAW:return new wL(dH(e));case Ic.BASE64:case Ic.BASE64URL:return new wL(uH(n,e));case Ic.DATA_URL:return new wL(function a7(n){const e=new hH(n);return e.base64?uH(Ic.BASE64,e.rest):function s7(n){let e;try{e=decodeURIComponent(n)}catch{throw mT(Ic.DATA_URL,"Malformed data URL.")}return dH(e)}(e.rest)}(e),function c7(n){return new hH(n).contentType}(e))}throw vL()}function dH(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function uH(n,e){switch(n){case Ic.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw mT(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ic.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw mT(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function o7(n){if(typeof atob>"u")throw function zZ(n){return new nr(zi.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:mT(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class hH{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw mT(Ic.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function l7(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Ih{constructor(e,t){let i=0,r="";aH(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(aH(this.data_)){const r=function r7(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Ih(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ih(i,!0)}}static getBlob(...e){if(yL()){const t=e.map(i=>i instanceof Ih?i.data_:i);return new Ih(i7.apply(null,t))}{const t=e.map(l=>bR(l)?xL(Ic.RAW,l).data:l.data_);let i=0;t.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(l=>{for(let f=0;f<l.length;f++)r[s++]=l[f]}),new Ih(r,!0)}}uploadData(){return this.data_}}function EL(n){let e;try{e=JSON.parse(n)}catch{return null}return function KZ(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function fH(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function h7(n,e){return e}class Js{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||h7}}let xR=null;function gT(){if(xR)return xR;const n=[];n.push(new Js("bucket")),n.push(new Js("generation")),n.push(new Js("metageneration")),n.push(new Js("name","fullPath",!0));const t=new Js("name");t.xform=function e(s,l){return function f7(n){return!bR(n)||n.length<2?n:fH(n)}(l)},n.push(t);const r=new Js("size");return r.xform=function i(s,l){return void 0!==l?Number(l):l},n.push(r),n.push(new Js("timeCreated")),n.push(new Js("updated")),n.push(new Js("md5Hash",null,!0)),n.push(new Js("cacheControl",null,!0)),n.push(new Js("contentDisposition",null,!0)),n.push(new Js("contentEncoding",null,!0)),n.push(new Js("contentLanguage",null,!0)),n.push(new Js("contentType",null,!0)),n.push(new Js("metadata","customMetadata",!0)),xR=n,xR}function mH(n,e,t){const i=EL(e);return null===i?null:function p7(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const l=t[s];i[l.local]=l.xform(i,e[l.server])}return function m7(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new _s(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function CL(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const pH="prefixes",gH="items";class Th{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Dh(n){if(!n)throw vL()}function ER(n,e){return function t(i,r){const s=mH(n,r,e);return Dh(null!==s),s}}function ix(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function FZ(){return new nr(zi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function PZ(){return new nr(zi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function OZ(n){return new nr(zi.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function LZ(n){return new nr(zi.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function _T(n){const e=ix(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function NZ(n){return new nr(zi.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function _H(n,e,t){const r=Em(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new Th(r,"GET",ER(n,t),l);return f.errorHandler=_T(e),f}function w7(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const f=Em(e.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,I=new Th(f,"GET",function y7(n,e){return function t(i,r){const s=function v7(n,e,t){const i=EL(t);return null===i?null:function _7(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[pH])for(const r of t[pH]){const s=r.replace(/\/$/,""),l=n._makeStorageReference(new _s(e,s));i.prefixes.push(l)}if(t[gH])for(const r of t[gH]){const s=n._makeStorageReference(new _s(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Dh(null!==s),s}}(n,e.bucket),y);return I.urlParams=s,I.errorHandler=ix(e),I}function yH(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function I7(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class CR{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function IL(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Dh(!1)}return Dh(!!t&&-1!==(e||["active"]).indexOf(t)),t}const A7={STATE_CHANGED:"state_changed"},ea={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function TL(n){switch(n){case"running":case"pausing":case"canceling":return ea.RUNNING;case"paused":return ea.PAUSED;case"success":return ea.SUCCESS;case"canceled":return ea.CANCELED;default:return ea.ERROR}}class k7{constructor(e,t,i){if(function ZZ(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function rx(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let xH=null;class M7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nx.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nx.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nx.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw pT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pT("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pT("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pT("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pT("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class R7 extends M7{initXhr(){this.xhr_.responseType="text"}}function nu(){return xH?xH():new R7}class EH{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=gT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(zi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(lH(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=nH()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(zi.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function T7(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l=yH(e,i,r),f={name:l.fullPath},p=Em(s,n.host,n._protocol),I={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},D=CL(l,t),V=new Th(p,"POST",function F(U){let X;IL(U);try{X=U.getResponseHeader("X-Goog-Upload-URL")}catch{Dh(!1)}return Dh(bR(X)),X},n.maxUploadRetryTime);return V.urlParams=f,V.headers=I,V.body=D,V.errorHandler=ix(e),V}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,nu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function D7(n,e,t,i){const p=new Th(t,"POST",function s(y){const I=IL(y,["active","final"]);let D=null;try{D=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Dh(!1)}D||Dh(!1);const M=Number(D);return Dh(!isNaN(M)),new CR(M,i.size(),"final"===I)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=ix(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,nu,t,i);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new CR(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let l;try{l=function S7(n,e,t,i,r,s,l,f){const p=new CR(0,0);if(l?(p.current=l.current,p.total=l.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function jZ(){return new nr(zi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const y=p.total-p.current;let I=y;r>0&&(I=Math.min(I,r));const D=p.current;let F="";F=0===I?"finalize":y===I?"upload, finalize":"upload";const V={"X-Goog-Upload-Command":F,"X-Goog-Upload-Offset":`${p.current}`},U=i.slice(D,D+I);if(null===U)throw rH();const Ie=new Th(t,"POST",function X(Fe,vt){const ht=IL(Fe,["active","final"]),ln=p.current+I,Ti=i.size();let ys;return ys="final"===ht?ER(e,s)(Fe,vt):null,new CR(ln,Ti,"final"===ht,ys)},e.maxUploadRetryTime);return Ie.headers=V,Ie.body=U.uploadData(),Ie.progressCallback=f||null,Ie.errorHandler=ix(n),Ie}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const f=this._ref.storage._makeRequest(l,nu,r,s,!1);this._request=f,f.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=_H(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,nu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function bH(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},p=function f(){let Ie="";for(let Fe=0;Fe<2;Fe++)Ie+=Math.random().toString().slice(2);return Ie}();l["Content-Type"]="multipart/related; boundary="+p;const y=yH(e,i,r),I=CL(y,t),F=Ih.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+I+"\r\n--"+p+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===F)throw rH();const V={name:y.fullPath},U=Em(s,n.host,n._protocol),fe=n.maxUploadRetryTime,Ne=new Th(U,"POST",ER(n,t),fe);return Ne.urlParams=V,Ne.headers=l,Ne.body=F.uploadData(),Ne.errorHandler=ix(e),Ne}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,nu,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=iH(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=TL(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new k7(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(TL(this._state)){case ea.SUCCESS:rx(this._resolve.bind(null,this.snapshot))();break;case ea.CANCELED:case ea.ERROR:rx(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(TL(this._state)){case ea.RUNNING:case ea.PAUSED:e.next&&rx(e.next.bind(e,this.snapshot))();break;case ea.SUCCESS:e.complete&&rx(e.complete.bind(e))();break;default:e.error&&rx(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ay{constructor(e,t){this._service=e,this._location=t instanceof _s?t:_s.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ay(e,t)}get root(){const e=new _s(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fH(this._location.path)}get storage(){return this._service}get parent(){const e=function d7(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new _s(this._location.bucket,e);return new Ay(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw sH(e)}}function IH(n,e,t){return DL.apply(this,arguments)}function DL(){return DL=(0,he.Z)(function*(n,e,t){const r=yield TH(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield IH(n,e,r.nextPageToken))}),DL.apply(this,arguments)}function TH(n,e){null!=e&&"number"==typeof e.maxResults&&bL("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=w7(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,nu)}function $7(n){n._throwIfRoot("getDownloadURL");const e=function x7(n,e,t){const r=Em(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new Th(r,"GET",function b7(n,e){return function t(i,r){const s=mH(n,r,e);return Dh(null!==s),function g7(n,e,t,i){const r=EL(e);if(null===r||!bR(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const l=encodeURIComponent;return s.split(",").map(y=>{const D=n.fullPath;return Em("/b/"+l(n.bucket)+"/o/"+l(D),t,i)+cH({alt:"media",token:y})})[0]}(s,r,n.host,n._protocol)}}(n,t),l);return f.errorHandler=_T(e),f}(n.storage,n._location,gT());return n.storage.makeRequestWithTokens(e,nu).then(t=>{if(null===t)throw function HZ(){return new nr(zi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function DH(n,e){const t=function u7(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new _s(n._location.bucket,t);return new Ay(n.storage,i)}function SH(n,e){if(n instanceof SL){const t=n;if(null==t._bucket)throw function UZ(){return new nr(zi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tH+"' property when initializing the app?")}();const i=new Ay(t,t._bucket);return null!=e?SH(i,e):i}return void 0!==e?DH(n,e):n}function Z7(n,e){if(e&&function q7(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof SL)return function W7(n,e){return new Ay(n,e)}(n,e);throw tx("To use ref(service, url), the first argument must be a Storage instance.")}return SH(n,e)}function AH(n,e){const t=e?.[tH];return null==t?null:_s.makeFromBucketSpec(t,n)}class SL{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=eH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?_s.makeFromBucketSpec(r,this._host):AH(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?_s.makeFromBucketSpec(this._url,e):AH(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,he.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,he.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ay(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new $Z(oH());{const l=function t7(n,e,t,i,r,s,l=!0){const f=cH(n.urlParams),p=n.url+f,y=Object.assign({},n.headers);return function JZ(n,e){e&&(n["X-Firebase-GMPID"]=e)}(y,e),function QZ(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(y,t),function XZ(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(y,s),function e7(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(y,i),new YZ(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var i=this;return(0,he.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const kH="@firebase/storage";function NH(n,e){return Z7(n=(0,L.m9)(n),e)}function rK(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new SL(t,i,r,e,Vo.SDK_VERSION)}!function oK(){(0,Vo._registerComponent)(new pc.wA("storage",rK,"PUBLIC").setMultipleInstances(!0)),(0,Vo.registerVersion)(kH,"0.11.2",""),(0,Vo.registerVersion)(kH,"0.11.2","esm2017")}();class IR{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class PH{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new IR(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new IR(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?l=>t(new IR(l,this,this._ref)):{next:t.next?l=>t.next(new IR(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class FH{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Cm(e,this._service))}get items(){return this._delegate.items.map(e=>new Cm(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Cm{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function iK(n,e){return DH(n,e)}(this._delegate,e);return new Cm(t,this.storage)}get root(){return new Cm(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Cm(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new PH(function Y7(n,e,t){return function B7(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new EH(n,new Ih(e),t)}(n=(0,L.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ic.RAW,i){this._throwIfRoot("putString");const r=xL(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new PH(new EH(this._delegate,new Ih(r.data,!0),s),this)}listAll(){return function eK(n){return function j7(n){const e={prefixes:[],items:[]};return IH(n,e).then(()=>e)}(n=(0,L.m9)(n))}(this._delegate).then(e=>new FH(e,this.storage))}list(e){return function J7(n,e){return TH(n=(0,L.m9)(n),e)}(this._delegate,e||void 0).then(t=>new FH(t,this.storage))}getMetadata(){return function Q7(n){return function H7(n){n._throwIfRoot("getMetadata");const e=_H(n.storage,n._location,gT());return n.storage.makeRequestWithTokens(e,nu)}(n=(0,L.m9)(n))}(this._delegate)}updateMetadata(e){return function X7(n,e){return function z7(n,e){n._throwIfRoot("updateMetadata");const t=function E7(n,e,t,i){const s=Em(e.fullServerUrl(),n.host,n._protocol),f=CL(t,i),y=n.maxOperationRetryTime,I=new Th(s,"PATCH",ER(n,i),y);return I.headers={"Content-Type":"application/json; charset=utf-8"},I.body=f,I.errorHandler=_T(e),I}(n.storage,n._location,e,gT());return n.storage.makeRequestWithTokens(t,nu)}(n=(0,L.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function tK(n){return $7(n=(0,L.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function nK(n){return function G7(n){n._throwIfRoot("deleteObject");const e=function C7(n,e){const i=Em(e.fullServerUrl(),n.host,n._protocol),f=new Th(i,"DELETE",function l(p,y){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=_T(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,nu)}(n=(0,L.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw sH(e)}}class LH{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(VH(e))throw tx("ref() expected a child path but got a URL, use refFromURL instead.");return new Cm(NH(this._delegate,e),this)}refFromURL(e){if(!VH(e))throw tx("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_s.makeFromUrl(e,this._delegate.host)}catch{throw tx("refFromUrl() expected a valid full URL but got an invalid one.")}return new Cm(NH(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function OH(n,e,t,i={}){!function K7(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,L.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function VH(n){return/^[A-Za-z]+:\/\//.test(n)}function lK(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new LH(t,i)}function BH(n){const e=function uK(n){return new Vn.y(e=>{const t=l=>e.next(l);t(n.snapshot);const s=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){s()}}).pipe(IM(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,st.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function TR(n){return{getDownloadURL:()=>ot(void 0).pipe(In.fc,Wn(()=>n.getDownloadURL()),In.iC),getMetadata:()=>ot(void 0).pipe(In.fc,Wn(()=>n.getMetadata()),In.iC),delete:()=>tn(n.delete()),child:e=>TR(n.child(e)),updateMetadata:e=>tn(n.updateMetadata(e)),put:(e,t)=>BH(n.put(e,t)),putString:(e,t,i)=>BH(n.putString(e,t,i)),list:e=>tn(n.list(e)),listAll:()=>tn(n.listAll())}}!function dK(n){const e={TaskState:ea,TaskEvent:A7,StringFormat:Ic,Storage:LH,Reference:Cm};n.INTERNAL.registerComponent(new pc.wA("storage-compat",lK,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(Zx.Z);const hK=new d.OlP("angularfire2.storageBucket"),fK=new d.OlP("angularfire2.storage.maxUploadRetryTime"),mK=new d.OlP("angularfire2.storage.maxOperationRetryTime"),pK=new d.OlP("angularfire2.storage.use-emulator");let gK=(()=>{class n{constructor(t,i,r,s,l,f,p,y,I,D){const M=(0,Xi.on)(t,l,i);this.storage=(0,Xi.cc)(`${M.name}.storage.${r}`,"AngularFireStorage",M.name,()=>{const F=l.runOutsideAngular(()=>M.storage(r||void 0)),V=I;return V&&F.useEmulator(...V),p&&F.setMaxUploadRetryTime(p),y&&F.setMaxOperationRetryTime(y),F},[p,y])}ref(t){return TR(this.storage.ref(t))}refFromURL(t){return TR(this.storage.refFromURL(t))}upload(t,i,r){return TR(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Xi.Dh),d.LFG(Xi.xv,8),d.LFG(hK,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(In.HU),d.LFG(fK,8),d.LFG(mK,8),d.LFG(pK,8),d.LFG(qI,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_K=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),vK=(()=>{class n{constructor(){xM.Z.registerVersion("angularfire",In.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[gK],imports:[_K]}),n})();const UH="@firebase/database";let AL="";function HH(n){AL=n}class wK{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,L.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,L.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class xK{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,L.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const zH=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new wK(e)}}catch{}return new xK},ky=zH("localStorage"),kL=zH("sessionStorage"),ox=new Hs.Yd("@firebase/database"),$H=function(){let n=1;return function(){return n++}}(),GH=function(n){const e=(0,L.dS)(n),t=new L.gQ;t.update(e);const i=t.digest();return L.US.encodeByteArray(i)},vT=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=vT.apply(null,i):e+="object"==typeof i?(0,L.Wl)(i):i,e+=" "}return e};let My=null,qH=!0;const WH=function(n,e){(0,L.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(ox.logLevel=Hs.in.VERBOSE,My=ox.log.bind(ox),e&&kL.set("logging_enabled",!0)):"function"==typeof n?My=n:(My=null,kL.remove("logging_enabled"))},bo=function(...n){if(!0===qH&&(qH=!1,null===My&&!0===kL.get("logging_enabled")&&WH(!0)),My){const e=vT.apply(null,n);My(e)}},yT=function(n){return function(...e){bo(n,...e)}},ML=function(...n){const e="FIREBASE INTERNAL ERROR: "+vT(...n);ox.error(e)},Sh=function(...n){const e=`FIREBASE FATAL ERROR: ${vT(...n)}`;throw ox.error(e),new Error(e)},vs=function(...n){const e="FIREBASE WARNING: "+vT(...n);ox.warn(e)},DR=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},qg="[MIN_NAME]",Im="[MAX_NAME]",Ry=function(n,e){if(n===e)return 0;if(n===qg||e===Im)return-1;if(e===qg||n===Im)return 1;{const t=YH(n),i=YH(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},IK=function(n,e){return n===e?0:n<e?-1:1},bT=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,L.Wl)(e))},RL=function(n){if("object"!=typeof n||null===n)return(0,L.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,L.Wl)(e[i]),t+=":",t+=RL(n[e[i]]);return t+="}",t},ZH=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function wo(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const KH=function(n){(0,L.hu)(!DR(n),"Invalid JSON number");const i=1023;let r,s,l,f,p;0===n?(s=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=f+i,l=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const y=[];for(p=52;p;p-=1)y.push(l%2?1:0),l=Math.floor(l/2);for(p=11;p;p-=1)y.push(s%2?1:0),s=Math.floor(s/2);y.push(r?1:0),y.reverse();const I=y.join("");let D="";for(p=0;p<64;p+=8){let M=parseInt(I.substr(p,8),2).toString(16);1===M.length&&(M="0"+M),D+=M}return D.toLowerCase()},AK=new RegExp("^-?(0*)\\d{1,10}$"),YH=function(n){if(AK.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},sx=function(n){try{n()}catch(e){setTimeout(()=>{throw vs("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},wT=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class NK{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){vs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class OK{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(bo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vs(e)}}let xT=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const tz=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rz="websocket",oz="long_polling";class OL{constructor(e,t,i,r,s=!1,l="",f=!1,p=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ky.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ky.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function sz(n,e,t){let i;if((0,L.hu)("string"==typeof e,"typeof type must == string"),(0,L.hu)("object"==typeof t,"typeof params must == object"),e===rz)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==oz)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function PK(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return wo(t,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class FK{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,L.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,L.p$)(this.counters_)}}const PL={},FL={};function LL(n){const e=n.toString();return PL[e]||(PL[e]=new FK),PL[e]}class VK{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&sx(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Wg{constructor(e,t,i,r,s,l,f){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=yT(e),this.stats_=LL(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),sz(t,oz,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new VK(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,L.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new VL((...s)=>{const[l,f,p,y,I]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=f,this.password=p;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,f]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,f)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&tz.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Wg.forceAllow_=!0}static forceDisallow(){Wg.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!Wg.forceAllow_&&(Wg.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,L.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,L.h$)(t),r=ZH(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,L.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class VL{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=$H(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=VL.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(f){bo("frame writing exception"),f.stack&&bo(f.stack),bo(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||bo("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,L.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{bo("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let AR=null;typeof MozWebSocket<"u"?AR=MozWebSocket:typeof WebSocket<"u"&&(AR=WebSocket);let ax=(()=>{class n{constructor(t,i,r,s,l,f,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=yT(this.connId),this.stats_=LL(i),this.connURL=n.connectionURL_(i,f,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,l){const f={v:"5"};return!(0,L.Yr)()&&typeof location<"u"&&location.hostname&&tz.test(location.hostname)&&(f.r="f"),i&&(f.s=i),r&&(f.ls=r),s&&(f.ac=s),l&&(f.p=l),sz(t,rz,f)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ky.set("previous_websocket_failure",!0);try{let r;if((0,L.Yr)()){r={headers:{"User-Agent":`Firebase/5/${AL}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,f=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;f&&(r.proxy={origin:f})}this.mySock=new AR(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==AR&&!n.forceDisallow_}static previouslyFailed(){return ky.isInMemoryStorage||!0===ky.get("previous_websocket_failure")}markConnectionHealthy(){ky.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,L.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,L.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=ZH(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),fz=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Wg,ax]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=ax&&ax.isAvailable();let r=i&&!ax.previouslyFailed();if(t.webSocketOnly&&(i||vs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ax];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class bz{constructor(e,t,i,r,s,l,f,p,y,I){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=f,this.onDisconnect_=p,this.onKill_=y,this.lastSessionId=I,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=yT("c:"+this.id+":"),this.transportManager_=new fz(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=wT(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=bT("t",e),i=bT("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=bT("t",e),i=bT("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=bT("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?ML("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ML("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&vs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),wT(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):wT(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ky.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class wz{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class xz{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,L.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,L.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class kR extends xz{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new kR}getInitialEvent(e){return(0,L.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ti{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Bn(){return new ti("")}function _n(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Zg(n){return n.pieces_.length-n.pieceNum_}function gi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ti(n.pieces_,e)}function UL(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ET(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Iz(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ti(e,0)}function $i(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof ti)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new ti(t,0)}function vn(n){return n.pieceNum_>=n.pieces_.length}function ta(n,e){const t=_n(n),i=_n(e);if(null===t)return e;if(t===i)return ta(gi(n),gi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function sY(n,e){const t=ET(n,0),i=ET(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=Ry(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function jL(n,e){if(Zg(n)!==Zg(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function jl(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Zg(n)>Zg(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class aY{constructor(e,t){this.errorPrefix_=t,this.parts_=ET(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,L.ug)(this.parts_[i]);Tz(this)}}function Tz(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ny(n))}function Ny(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class HL extends xz{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new HL}getInitialEvent(e){return(0,L.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const CT=1e3;let RR,Oy=(()=>{class n extends wz{constructor(t,i,r,s,l,f,p,y){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=f,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=yT("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=CT,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");HL.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&kR.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,l={r:s,a:t,b:i};this.log_((0,L.Wl)(l)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new L.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const p=f.d;"ok"===f.s?i.resolve(p):i.reject(p)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const l=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+l),this.listens.has(f)||this.listens.set(f,new Map),(0,L.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(f).has(l),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(f).set(l,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};t.tag&&(l.q=i._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,p=>{const y=p.d,I=p.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==I&&this.removeListen_(r,s),t.onComplete&&t.onComplete(I,y))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,L.r3)(t,"w")){const r=(0,L.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();vs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,L.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,L.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,f=s.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,L.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const l={p:t};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,f=>{s&&setTimeout(()=>{s(f.s,f.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,l){this.initConnection_();const f={p:i,d:r};void 0!==l&&(f.h=l),this.outstandingPuts_.push({action:t,request:f,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,L.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):ML("Unrecognized action received from server: "+(0,L.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=CT,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=CT,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=CT),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,he.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,f=t.lastSessionId;let p=!1,y=null;const I=function(){y?y.close():(p=!0,s())};t.realtime_={close:I,sendRequest:function(F){(0,L.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(F)}};const M=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[F,V]=yield Promise.all([t.authTokenProvider_.getToken(M),t.appCheckTokenProvider_.getToken(M)]);p?bo("getToken() completed but was canceled"):(bo("getToken() completed. Creating connection."),t.authToken_=F&&F.accessToken,t.appCheckToken_=V&&V.token,y=new bz(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,U=>{vs(U+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},f))}catch(F){t.log_("Failed to get token: "+F),p||(t.repoInfo_.nodeAdmin&&vs(F),I())}}})()}interrupt(t){bo("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){bo("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=CT,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(l=>RL(l)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new ti(t).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){bo("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){bo("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,L.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+AL.replace(/\./g,"-")]=1,(0,L.uI)()?t["framework.cordova"]=1:(0,L.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=kR.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class bn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new bn(e,t)}}class MR{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new bn(qg,e),r=new bn(qg,t);return 0!==this.compare(i,r)}minPost(){return bn.MIN}}class Az extends MR{static get __EMPTY_NODE(){return RR}static set __EMPTY_NODE(e){RR=e}compare(e,t){return Ry(e.name,t.name)}isDefinedOn(e){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return bn.MIN}maxPost(){return new bn(Im,RR)}makePost(e,t){return(0,L.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new bn(e,RR)}toString(){return".key"}}const Ah=new Az;class NR{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,r&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let $L,iu=(()=>{class n{constructor(t,i,r,s,l){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??Va.EMPTY_NODE,this.right=l??Va.EMPTY_NODE}copy(t,i,r,s,l){return new n(t??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const l=r(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Va.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Va.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Va{constructor(e,t=Va.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Va(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,iu.BLACK,null,null))}remove(e){return new Va(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,iu.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new NR(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new NR(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new NR(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new NR(this.root_,null,this.comparator_,!0,e)}}function pY(n,e){return Ry(n.name,e.name)}function zL(n,e){return Ry(n,e)}Va.EMPTY_NODE=new class mY{copy(e,t,i,r,s){return this}insert(e,t,i){return new iu(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const kz=function(n){return"number"==typeof n?"number:"+KH(n):"string:"+n},Mz=function(n){if(n.isLeafNode()){const e=n.val();(0,L.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,L.r3)(e,".sv"),"Priority must be a string or number.")}else(0,L.hu)(n===$L||n.isEmpty(),"priority of unexpected type.");(0,L.hu)(n===$L||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Rz,Nz,Oz,cx=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Mz(this.priorityNode_)}static set __childrenNodeConstructor(t){Rz=t}static get __childrenNodeConstructor(){return Rz}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return vn(t)?this:".priority"===_n(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=_n(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,L.hu)(".priority"!==r||1===Zg(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(gi(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+kz(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?KH(this.value_):this.value_,this.lazyHash_=GH(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,L.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,L.hu)(s>=0,"Unknown leaf type: "+i),(0,L.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ci=new class yY extends MR{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Ry(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return bn.MIN}maxPost(){return new bn(Im,new cx("[PRIORITY-POST]",Oz))}makePost(e,t){const i=Nz(e);return new bn(t,new cx("[PRIORITY-POST]",i))}toString(){return".priority"}},bY=Math.log(2);class wY{constructor(e){this.count=parseInt(Math.log(e+1)/bY,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const OR=function(n,e,t,i){n.sort(e);const r=function(p,y){const I=y-p;let D,M;if(0===I)return null;if(1===I)return D=n[p],M=t?t(D):D,new iu(M,D.node,iu.BLACK,null,null);{const F=parseInt(I/2,10)+p,V=r(p,F),U=r(F+1,y);return D=n[F],M=t?t(D):D,new iu(M,D.node,iu.BLACK,V,U)}},f=function(p){let y=null,I=null,D=n.length;const M=function(V,U){const X=D-V,fe=D;D-=V;const Ne=r(X+1,fe),Ie=n[X],Fe=t?t(Ie):Ie;F(new iu(Fe,Ie.node,U,null,Ne))},F=function(V){y?(y.left=V,y=V):(I=V,y=V)};for(let V=0;V<p.count;++V){const U=p.nextBitIsOne(),X=Math.pow(2,p.count-(V+1));U?M(X,iu.BLACK):(M(X,iu.BLACK),M(X,iu.RED))}return I}(new wY(n.length));return new Va(i||e,f)};let GL;const lx={};class Tm{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,L.hu)(lx&&Ci,"ChildrenNode.ts has not been loaded"),GL=GL||new Tm({".priority":lx},{".priority":Ci}),GL}get(e){const t=(0,L.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Va?t:null}hasIndex(e){return(0,L.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,L.hu)(e!==Ah,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(bn.Wrap);let f,l=s.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=s.getNext();f=r?OR(i,e.getCompare()):lx;const p=e.toString(),y=Object.assign({},this.indexSet_);y[p]=e;const I=Object.assign({},this.indexes_);return I[p]=f,new Tm(I,y)}addToIndexes(e,t){const i=(0,L.UI)(this.indexes_,(r,s)=>{const l=(0,L.DV)(this.indexSet_,s);if((0,L.hu)(l,"Missing index implementation for "+s),r===lx){if(l.isDefinedOn(e.node)){const f=[],p=t.getIterator(bn.Wrap);let y=p.getNext();for(;y;)y.name!==e.name&&f.push(y),y=p.getNext();return f.push(e),OR(f,l.getCompare())}return lx}{const f=t.get(e.name);let p=r;return f&&(p=p.remove(new bn(e.name,f))),p.insert(e,e.node)}});return new Tm(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,L.UI)(this.indexes_,r=>{if(r===lx)return r;{const s=t.get(e.name);return s?r.remove(new bn(e.name,s)):r}});return new Tm(i,this.indexSet_)}}let IT,on=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Mz(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return IT||(IT=new n(new Va(zL),null,Tm.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||IT}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?IT:i}}getChild(t){const i=_n(t);return null===i?this:this.getImmediateChild(i).getChild(gi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,L.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new bn(t,i);let s,l;i.isEmpty()?(s=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),l=this.indexMap_.addToIndexes(r,this.children_));const f=s.isEmpty()?IT:this.priorityNode_;return new n(s,f,l)}}updateChild(t,i){const r=_n(t);if(null===r)return i;{(0,L.hu)(".priority"!==_n(t)||1===Zg(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(gi(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(Ci,(f,p)=>{i[f]=p.val(t),r++,l&&n.INTEGER_REGEXP_.test(f)?s=Math.max(s,Number(f)):l=!1}),!t&&l&&s<2*r){const f=[];for(const p in i)f[p]=i[p];return f}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+kz(this.getPriority().val())+":"),this.forEachChild(Ci,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":GH(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new bn(t,i));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new bn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new bn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,bn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,bn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)>0;)s.getNext(),l=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===TT?-1:0}withIndex(t){if(t===Ah||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Ah||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ci),s=i.getIterator(Ci);let l=r.getNext(),f=s.getNext();for(;l&&f;){if(l.name!==f.name||!l.node.equals(f.node))return!1;l=r.getNext(),f=s.getNext()}return null===l&&null===f}return!1}return!1}}resolveIndex_(t){return t===Ah?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const TT=new class xY extends on{constructor(){super(new Va(zL),on.EMPTY_NODE,Tm.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return on.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(bn,{MIN:{value:new bn(qg,on.EMPTY_NODE)},MAX:{value:new bn(Im,TT)}}),Az.__EMPTY_NODE=on.EMPTY_NODE,cx.__childrenNodeConstructor=on,function gY(n){$L=n}(TT),function vY(n){Oz=n}(TT);const EY=!0;function ir(n,e=null){if(null===n)return on.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,L.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new cx(n,ir(e));if(n instanceof Array||!EY){let t=on.EMPTY_NODE;return wo(n,(i,r)=>{if((0,L.r3)(n,i)&&"."!==i.substring(0,1)){const s=ir(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(ir(e))}{const t=[];let i=!1;if(wo(n,(l,f)=>{if("."!==l.substring(0,1)){const p=ir(f);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new bn(l,p)))}}),0===t.length)return on.EMPTY_NODE;const s=OR(t,pY,l=>l.name,zL);if(i){const l=OR(t,Ci.getCompare());return new on(s,ir(e),new Tm({".priority":l},{".priority":Ci}))}return new on(s,ir(e),Tm.Default)}}!function _Y(n){Nz=n}(ir);class qL extends MR{constructor(e){super(),this.indexPath_=e,(0,L.hu)(!vn(e)&&".priority"!==_n(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Ry(e.name,t.name):s}makePost(e,t){const i=ir(e),r=on.EMPTY_NODE.updateChild(this.indexPath_,i);return new bn(t,r)}maxPost(){const e=on.EMPTY_NODE.updateChild(this.indexPath_,TT);return new bn(Im,e)}toString(){return ET(this.indexPath_,0).join("/")}}const WL=new class CY extends MR{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Ry(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return bn.MIN}maxPost(){return bn.MAX}makePost(e,t){const i=ir(e);return new bn(t,i)}toString(){return".value"}};function Pz(n){return{type:"value",snapshotNode:n}}function dx(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function DT(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function ST(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class ZL{constructor(e){this.index_=e}updateChild(e,t,i,r,s,l){(0,L.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(t);return f.getChild(r).equals(i.getChild(r))&&f.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(DT(t,f)):(0,L.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?l.trackChildChange(dx(t,i)):l.trackChildChange(ST(t,i,f))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Ci,(r,s)=>{t.hasChild(r)||i.trackChildChange(DT(r,s))}),t.isLeafNode()||t.forEachChild(Ci,(r,s)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(s)||i.trackChildChange(ST(r,s,l))}else i.trackChildChange(dx(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?on.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class AT{constructor(e){this.indexedFilter_=new ZL(e.getIndex()),this.index_=e.getIndex(),this.startPost_=AT.getStartPost_(e),this.endPost_=AT.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,l){return this.matches(new bn(t,i))||(i=on.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=on.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(on.EMPTY_NODE);const s=this;return t.forEachChild(Ci,(l,f)=>{s.matches(new bn(l,f))||(r=r.updateImmediateChild(l,on.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class TY{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new AT(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,l){return this.rangedFilter_.matches(new bn(t,i))||(i=on.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,l):this.fullLimitUpdateChild_(e,t,i,s,l)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=on.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=on.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const f=s.getNext();if(this.withinDirectionalStart(f)){if(!this.withinDirectionalEnd(f))break;r=r.updateImmediateChild(f.name,f.node),l++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(on.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let l=0;for(;s.hasNext();){const f=s.getNext();l<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?l++:r=r.updateImmediateChild(f.name,on.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let l;if(this.reverse_){const D=this.index_.getCompare();l=(M,F)=>D(F,M)}else l=this.index_.getCompare();const f=e;(0,L.hu)(f.numChildren()===this.limit_,"");const p=new bn(t,i),y=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),I=this.rangedFilter_.matches(p);if(f.hasChild(t)){const D=f.getImmediateChild(t);let M=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=M&&(M.name===t||f.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const F=null==M?1:l(M,p);if(I&&!i.isEmpty()&&F>=0)return s?.trackChildChange(ST(t,i,D)),f.updateImmediateChild(t,i);{s?.trackChildChange(DT(t,D));const U=f.updateImmediateChild(t,on.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(s?.trackChildChange(dx(M.name,M.node)),U.updateImmediateChild(M.name,M.node)):U}}return i.isEmpty()?e:I&&l(y,p)>=0?(null!=s&&(s.trackChildChange(DT(y.name,y.node)),s.trackChildChange(dx(t,i))),f.updateImmediateChild(t,i).updateImmediateChild(y.name,on.EMPTY_NODE)):e}}class PR{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ci}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qg}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Im}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ci}copy(){const e=new PR;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function KL(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function YL(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function FR(n,e){const t=n.copy();return t.index_=e,t}function Fz(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Ci?t="$priority":n.index_===WL?t="$value":n.index_===Ah?t="$key":((0,L.hu)(n.index_ instanceof qL,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,L.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,L.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,L.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,L.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,L.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Lz(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Ci&&(e.i=n.index_.toString()),e}class LR extends wz{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=yT("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,L.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=LR.getListenId_(e,i),f={};this.listens_[l]=f;const p=Fz(e._queryParams);this.restRequest_(s+".json",p,(y,I)=>{let D=I;if(404===y&&(D=null,y=null),null===y&&this.onDataUpdate_(s,D,!1,i),(0,L.DV)(this.listens_,l)===f){let M;M=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(M,null)}})}unlisten(e,t){const i=LR.getListenId_(e,t);delete this.listens_[i]}get(e){const t=Fz(e._queryParams),i=e._path.toString(),r=new L.BH;return this.restRequest_(i+".json",t,(s,l)=>{let f=l;404===s&&(f=null,s=null),null===s?(this.onDataUpdate_(i,f,!1,null),r.resolve(f)):r.reject(new Error(f))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,L.xO)(t);this.log_("Sending REST request for "+l);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(i&&4===f.readyState){this.log_("REST Response for "+l+" received. status:",f.status,"response:",f.responseText);let p=null;if(f.status>=200&&f.status<300){try{p=(0,L.cI)(f.responseText)}catch{vs("Failed to parse JSON response for "+l+": "+f.responseText)}i(null,p)}else 401!==f.status&&404!==f.status&&vs("Got unsuccessful REST response for "+l+" Status: "+f.status),i(f.status);i=null}},f.open("GET",l,!0),f.send()})}}class RY{constructor(){this.rootNode_=on.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function VR(){return{value:null,children:new Map}}function ux(n,e,t){if(vn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=_n(e);n.children.has(i)||n.children.set(i,VR()),ux(n.children.get(i),e=gi(e),t)}}function QL(n,e){if(vn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Ci,(i,r)=>{ux(n,new ti(i),r)}),QL(n,e)}}if(n.children.size>0){const t=_n(e);return e=gi(e),n.children.has(t)&&QL(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function XL(n,e,t){null!==n.value?t(e,n.value):function NY(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{XL(r,new ti(e.toString()+"/"+i),t)})}class OY{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&wo(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class LY{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new OY(e);const i=1e4+2e4*Math.random();wT(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;wo(e,(r,s)=>{s>0&&(0,L.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),wT(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var kh=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(kh||{});function t2(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class BR{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=kh.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(vn(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ti(e));return new BR(Bn(),t,this.revert)}}return(0,L.hu)(_n(this.path)===e,"operationForChild called for unrelated child."),new BR(gi(this.path),this.affectedTree,this.revert)}}class kT{constructor(e,t){this.source=e,this.path=t,this.type=kh.LISTEN_COMPLETE}operationForChild(e){return vn(this.path)?new kT(this.source,Bn()):new kT(this.source,gi(this.path))}}class Py{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=kh.OVERWRITE}operationForChild(e){return vn(this.path)?new Py(this.source,Bn(),this.snap.getImmediateChild(e)):new Py(this.source,gi(this.path),this.snap)}}class hx{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=kh.MERGE}operationForChild(e){if(vn(this.path)){const t=this.children.subtree(new ti(e));return t.isEmpty()?null:t.value?new Py(this.source,Bn(),t.value):new hx(this.source,Bn(),t)}return(0,L.hu)(_n(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new hx(this.source,gi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Kg{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(vn(e))return this.isFullyInitialized()&&!this.filtered_;const t=_n(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class VY{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function MT(n,e,t,i,r,s){const l=i.filter(f=>f.type===t);l.sort((f,p)=>function jY(n,e,t){if(null==e.childName||null==t.childName)throw(0,L.g5)("Should only compare child_ events.");const i=new bn(e.childName,e.snapshotNode),r=new bn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,f,p)),l.forEach(f=>{const p=function UY(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,f,s);r.forEach(y=>{y.respondsTo(f.type)&&e.push(y.createEvent(p,n.query_))})})}function UR(n,e){return{eventCache:n,serverCache:e}}function RT(n,e,t,i){return UR(new Kg(e,t,i),n.serverCache)}function Bz(n,e,t,i){return UR(n.eventCache,new Kg(e,t,i))}function jR(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Fy(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let n2;class Ii{constructor(e,t=(()=>(n2||(n2=new Va(IK)),n2))()){this.value=e,this.children=t}static fromObject(e){let t=new Ii(null);return wo(e,(i,r)=>{t=t.set(new ti(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Bn(),value:this.value};if(vn(e))return null;{const i=_n(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(gi(e),t);return null!=s?{path:$i(new ti(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(vn(e))return this;{const t=_n(e),i=this.children.get(t);return null!==i?i.subtree(gi(e)):new Ii(null)}}set(e,t){if(vn(e))return new Ii(t,this.children);{const i=_n(e),s=(this.children.get(i)||new Ii(null)).set(gi(e),t),l=this.children.insert(i,s);return new Ii(this.value,l)}}remove(e){if(vn(e))return this.children.isEmpty()?new Ii(null):new Ii(null,this.children);{const t=_n(e),i=this.children.get(t);if(i){const r=i.remove(gi(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Ii(null):new Ii(this.value,s)}return this}}get(e){if(vn(e))return this.value;{const t=_n(e),i=this.children.get(t);return i?i.get(gi(e)):null}}setTree(e,t){if(vn(e))return t;{const i=_n(e),s=(this.children.get(i)||new Ii(null)).setTree(gi(e),t);let l;return l=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Ii(this.value,l)}}fold(e){return this.fold_(Bn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_($i(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Bn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(vn(e))return null;{const s=_n(e),l=this.children.get(s);return l?l.findOnPath_(gi(e),$i(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Bn(),t)}foreachOnPath_(e,t,i){if(vn(e))return this;{this.value&&i(t,this.value);const r=_n(e),s=this.children.get(r);return s?s.foreachOnPath_(gi(e),$i(t,r),i):new Ii(null)}}foreach(e){this.foreach_(Bn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_($i(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class ru{constructor(e){this.writeTree_=e}static empty(){return new ru(new Ii(null))}}function NT(n,e,t){if(vn(e))return new ru(new Ii(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const l=ta(r,e);return s=s.updateChild(l,t),new ru(n.writeTree_.set(r,s))}{const r=new Ii(t),s=n.writeTree_.setTree(e,r);return new ru(s)}}}function r2(n,e,t){let i=n;return wo(t,(r,s)=>{i=NT(i,$i(e,r),s)}),i}function Uz(n,e){if(vn(e))return ru.empty();{const t=n.writeTree_.setTree(e,new Ii(null));return new ru(t)}}function o2(n,e){return null!=Ly(n,e)}function Ly(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(ta(t.path,e)):null}function jz(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ci,(i,r)=>{e.push(new bn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new bn(i,r.value))}),e}function Yg(n,e){if(vn(e))return n;{const t=Ly(n,e);return new ru(null!=t?new Ii(t):n.writeTree_.subtree(e))}}function s2(n){return n.writeTree_.isEmpty()}function fx(n,e){return Hz(Bn(),n.writeTree_,e)}function Hz(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,L.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=Hz($i(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild($i(n,".priority"),i)),t}}function HR(n,e){return Wz(e,n)}function WY(n,e){if(n.snap)return jl(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&jl($i(n.path,t),e))return!0;return!1}function KY(n){return n.visible}function zz(n,e,t){let i=ru.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const l=s.path;let f;if(s.snap)jl(t,l)?(f=ta(t,l),i=NT(i,f,s.snap)):jl(l,t)&&(f=ta(l,t),i=NT(i,Bn(),s.snap.getChild(f)));else{if(!s.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(jl(t,l))f=ta(t,l),i=r2(i,f,s.children);else if(jl(l,t))if(f=ta(l,t),vn(f))i=r2(i,Bn(),s.children);else{const p=(0,L.DV)(s.children,_n(f));if(p){const y=p.getChild(gi(f));i=NT(i,Bn(),y)}}}}}return i}function $z(n,e,t,i,r){if(i||r){const s=Yg(n.visibleWrites,e);return!r&&s2(s)?t:r||null!=t||o2(s,Bn())?fx(zz(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(jl(y.path,e)||jl(e,y.path))},e),t||on.EMPTY_NODE):null}{const s=Ly(n.visibleWrites,e);if(null!=s)return s;{const l=Yg(n.visibleWrites,e);return s2(l)?t:null!=t||o2(l,Bn())?fx(l,t||on.EMPTY_NODE):null}}}function zR(n,e,t,i){return $z(n.writeTree,n.treePath,e,t,i)}function a2(n,e){return function YY(n,e,t){let i=on.EMPTY_NODE;const r=Ly(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ci,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(t){const s=Yg(n.visibleWrites,e);return t.forEachChild(Ci,(l,f)=>{const p=fx(Yg(s,new ti(l)),f);i=i.updateImmediateChild(l,p)}),jz(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return jz(Yg(n.visibleWrites,e)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,e)}function Gz(n,e,t,i){return function QY(n,e,t,i,r){(0,L.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=$i(e,t);if(o2(n.visibleWrites,s))return null;{const l=Yg(n.visibleWrites,s);return s2(l)?r.getChild(t):fx(l,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function $R(n,e){return function JY(n,e){return Ly(n.visibleWrites,e)}(n.writeTree,$i(n.treePath,e))}function c2(n,e,t){return function XY(n,e,t,i){const r=$i(e,t),s=Ly(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?fx(Yg(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function qz(n,e){return Wz($i(n.treePath,e),n.writeTree)}function Wz(n,e){return{treePath:n,writeTree:e}}class iQ{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,L.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,ST(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,DT(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,dx(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,L.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,ST(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const Zz=new class rQ{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class l2{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Kg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return c2(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Fy(this.viewCache_),s=function nQ(n,e,t,i,r,s){return function eQ(n,e,t,i,r,s,l){let f;const p=Yg(n.visibleWrites,e),y=Ly(p,Bn());if(null!=y)f=y;else{if(null==t)return[];f=fx(p,t)}if(f=f.withIndex(l),f.isEmpty()||f.isLeafNode())return[];{const I=[],D=l.getCompare(),M=s?f.getReverseIteratorFrom(i,l):f.getIteratorFrom(i,l);let F=M.getNext();for(;F&&I.length<r;)0!==D(F,i)&&I.push(F),F=M.getNext();return I}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function Kz(n,e,t,i,r,s){const l=e.eventCache;if(null!=$R(i,t))return e;{let f,p;if(vn(t))if((0,L.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=Fy(e),D=a2(i,y instanceof on?y:on.EMPTY_NODE);f=n.filter.updateFullNode(e.eventCache.getNode(),D,s)}else{const y=zR(i,Fy(e));f=n.filter.updateFullNode(e.eventCache.getNode(),y,s)}else{const y=_n(t);if(".priority"===y){(0,L.hu)(1===Zg(t),"Can't have a priority with additional path components");const I=l.getNode();p=e.serverCache.getNode();const D=Gz(i,t,I,p);f=null!=D?n.filter.updatePriority(I,D):l.getNode()}else{const I=gi(t);let D;if(l.isCompleteForChild(y)){p=e.serverCache.getNode();const M=Gz(i,t,l.getNode(),p);D=null!=M?l.getNode().getImmediateChild(y).updateChild(I,M):l.getNode().getImmediateChild(y)}else D=c2(i,y,e.serverCache);f=null!=D?n.filter.updateChild(l.getNode(),y,D,I,r,s):l.getNode()}}return RT(e,f,l.isFullyInitialized()||vn(t),n.filter.filtersNodes())}}function GR(n,e,t,i,r,s,l,f){const p=e.serverCache;let y;const I=l?n.filter:n.filter.getIndexedFilter();if(vn(t))y=I.updateFullNode(p.getNode(),i,null);else if(I.filtersNodes()&&!p.isFiltered()){const F=p.getNode().updateChild(t,i);y=I.updateFullNode(p.getNode(),F,null)}else{const F=_n(t);if(!p.isCompleteForPath(t)&&Zg(t)>1)return e;const V=gi(t),X=p.getNode().getImmediateChild(F).updateChild(V,i);y=".priority"===F?I.updatePriority(p.getNode(),X):I.updateChild(p.getNode(),F,X,V,Zz,null)}const D=Bz(e,y,p.isFullyInitialized()||vn(t),I.filtersNodes());return Kz(n,D,t,r,new l2(r,D,s),f)}function d2(n,e,t,i,r,s,l){const f=e.eventCache;let p,y;const I=new l2(r,e,s);if(vn(t))y=n.filter.updateFullNode(e.eventCache.getNode(),i,l),p=RT(e,y,!0,n.filter.filtersNodes());else{const D=_n(t);if(".priority"===D)y=n.filter.updatePriority(e.eventCache.getNode(),i),p=RT(e,y,f.isFullyInitialized(),f.isFiltered());else{const M=gi(t),F=f.getNode().getImmediateChild(D);let V;if(vn(M))V=i;else{const U=I.getCompleteChild(D);V=null!=U?".priority"===UL(M)&&U.getChild(Iz(M)).isEmpty()?U:U.updateChild(M,i):on.EMPTY_NODE}p=F.equals(V)?e:RT(e,n.filter.updateChild(f.getNode(),D,V,M,I,l),f.isFullyInitialized(),n.filter.filtersNodes())}}return p}function Yz(n,e){return n.eventCache.isCompleteForChild(e)}function Qz(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function u2(n,e,t,i,r,s,l,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let y,p=e;y=vn(t)?i:new Ii(null).setTree(t,i);const I=e.serverCache.getNode();return y.children.inorderTraversal((D,M)=>{if(I.hasChild(D)){const V=Qz(0,e.serverCache.getNode().getImmediateChild(D),M);p=GR(n,p,new ti(D),V,r,s,l,f)}}),y.children.inorderTraversal((D,M)=>{const F=!e.serverCache.isCompleteForChild(D)&&null===M.value;if(!I.hasChild(D)&&!F){const U=Qz(0,e.serverCache.getNode().getImmediateChild(D),M);p=GR(n,p,new ti(D),U,r,s,l,f)}}),p}class fQ{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new ZL(i.getIndex()),s=function DY(n){return n.loadsAllData()?new ZL(n.getIndex()):n.hasLimit()?new TY(n):new AT(n)}(i);this.processor_=function oQ(n){return{filter:n}}(s);const l=t.serverCache,f=t.eventCache,p=r.updateFullNode(on.EMPTY_NODE,l.getNode(),null),y=s.updateFullNode(on.EMPTY_NODE,f.getNode(),null),I=new Kg(p,l.isFullyInitialized(),r.filtersNodes()),D=new Kg(y,f.isFullyInitialized(),s.filtersNodes());this.viewCache_=UR(D,I),this.eventGenerator_=new VY(this.query_)}get query(){return this.query_}}function gQ(n,e){const t=Fy(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!vn(e)&&!t.getImmediateChild(_n(e)).isEmpty())?t.getChild(e):null}function Xz(n){return 0===n.eventRegistrations_.length}function Jz(n,e,t){const i=[];if(t){(0,L.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(t,r);l&&i.push(l)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(l.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function e4(n,e,t,i){e.type===kh.MERGE&&null!==e.source.queryId&&((0,L.hu)(Fy(n.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(jR(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function aQ(n,e,t,i,r){const s=new iQ;let l,f;if(t.type===kh.OVERWRITE){const y=t;y.source.fromUser?l=d2(n,e,y.path,y.snap,i,r,s):((0,L.hu)(y.source.fromServer,"Unknown source."),f=y.source.tagged||e.serverCache.isFiltered()&&!vn(y.path),l=GR(n,e,y.path,y.snap,i,r,f,s))}else if(t.type===kh.MERGE){const y=t;y.source.fromUser?l=function lQ(n,e,t,i,r,s,l){let f=e;return i.foreach((p,y)=>{const I=$i(t,p);Yz(e,_n(I))&&(f=d2(n,f,I,y,r,s,l))}),i.foreach((p,y)=>{const I=$i(t,p);Yz(e,_n(I))||(f=d2(n,f,I,y,r,s,l))}),f}(n,e,y.path,y.children,i,r,s):((0,L.hu)(y.source.fromServer,"Unknown source."),f=y.source.tagged||e.serverCache.isFiltered(),l=u2(n,e,y.path,y.children,i,r,f,s))}else if(t.type===kh.ACK_USER_WRITE){const y=t;l=y.revert?function hQ(n,e,t,i,r,s){let l;if(null!=$R(i,t))return e;{const f=new l2(i,e,r),p=e.eventCache.getNode();let y;if(vn(t)||".priority"===_n(t)){let I;if(e.serverCache.isFullyInitialized())I=zR(i,Fy(e));else{const D=e.serverCache.getNode();(0,L.hu)(D instanceof on,"serverChildren would be complete if leaf node"),I=a2(i,D)}y=n.filter.updateFullNode(p,I,s)}else{const I=_n(t);let D=c2(i,I,e.serverCache);null==D&&e.serverCache.isCompleteForChild(I)&&(D=p.getImmediateChild(I)),y=null!=D?n.filter.updateChild(p,I,D,gi(t),f,s):e.eventCache.getNode().hasChild(I)?n.filter.updateChild(p,I,on.EMPTY_NODE,gi(t),f,s):p,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=zR(i,Fy(e)),l.isLeafNode()&&(y=n.filter.updateFullNode(y,l,s)))}return l=e.serverCache.isFullyInitialized()||null!=$R(i,Bn()),RT(e,y,l,n.filter.filtersNodes())}}(n,e,y.path,i,r,s):function dQ(n,e,t,i,r,s,l){if(null!=$R(r,t))return e;const f=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(vn(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return GR(n,e,t,p.getNode().getChild(t),r,s,f,l);if(vn(t)){let y=new Ii(null);return p.getNode().forEachChild(Ah,(I,D)=>{y=y.set(new ti(I),D)}),u2(n,e,t,y,r,s,f,l)}return e}{let y=new Ii(null);return i.foreach((I,D)=>{const M=$i(t,I);p.isCompleteForPath(M)&&(y=y.set(I,p.getNode().getChild(M)))}),u2(n,e,t,y,r,s,f,l)}}(n,e,y.path,y.affectedTree,i,r,s)}else{if(t.type!==kh.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+t.type);l=function uQ(n,e,t,i,r){const s=e.serverCache;return Kz(n,Bz(e,s.getNode(),s.isFullyInitialized()||vn(t),s.isFiltered()),t,i,Zz,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function cQ(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=jR(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(Pz(jR(e)))}}(e,l,p),{viewCache:l,changes:p}}(n.processor_,r,e,t,i);return function sQ(n,e){(0,L.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,L.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,t4(n,s.changes,s.viewCache.eventCache.getNode(),null)}function t4(n,e,t,i){return function BY(n,e,t,i){const r=[],s=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function IY(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),MT(n,r,"child_removed",e,i,t),MT(n,r,"child_added",e,i,t),MT(n,r,"child_moved",s,i,t),MT(n,r,"child_changed",e,i,t),MT(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let qR,ZR;class n4{constructor(){this.views=new Map}}function h2(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,L.hu)(null!=s,"SyncTree gave us an op for an invalid query."),e4(s,e,t,i)}{let s=[];for(const l of n.views.values())s=s.concat(e4(l,e,t,i));return s}}function r4(n,e,t,i,r){const l=n.views.get(e._queryIdentifier);if(!l){let f=zR(t,r?i:null),p=!1;f?p=!0:i instanceof on?(f=a2(t,i),p=!1):(f=on.EMPTY_NODE,p=!1);const y=UR(new Kg(f,p,!1),new Kg(i,r,!1));return new fQ(e,y)}return l}function o4(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Qg(n,e){let t=null;for(const i of n.views.values())t=t||gQ(i,e);return t}function s4(n,e){return e._queryParams.loadsAllData()?WR(n):n.views.get(e._queryIdentifier)}function a4(n,e){return null!=s4(n,e)}function Xg(n){return null!=WR(n)}function WR(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let TQ=1;class c4{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ii(null),this.pendingWriteTree_=function tQ(){return{visibleWrites:ru.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function f2(n,e,t,i,r){return function zY(n,e,t,i,r){(0,L.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=NT(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?mx(n,new Py({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Jg(n,e,t=!1){const i=function GY(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function qY(n,e){const t=n.allWrites.findIndex(f=>f.writeId===e);(0,L.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const f=n.allWrites[l];f.visible&&(l>=t&&WY(f,i.path)?r=!1:jl(i.path,f.path)&&(s=!0)),l--}return!!r&&(s?(function ZY(n){n.visibleWrites=zz(n.allWrites,KY,Bn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=Uz(n.visibleWrites,i.path):wo(i.children,p=>{n.visibleWrites=Uz(n.visibleWrites,$i(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new Ii(null);return null!=i.snap?s=s.set(Bn(),!0):wo(i.children,l=>{s=s.set(new ti(l),!0)}),mx(n,new BR(i.path,s,t))}return[]}function OT(n,e,t){return mx(n,new Py({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function KR(n,e,t,i,r=!1){const s=e._path,l=n.syncPointTree_.get(s);let f=[];if(l&&("default"===e._queryIdentifier||a4(l,e))){const p=function EQ(n,e,t,i){const r=e._queryIdentifier,s=[];let l=[];const f=Xg(n);if("default"===r)for(const[p,y]of n.views.entries())l=l.concat(Jz(y,t,i)),Xz(y)&&(n.views.delete(p),y.query._queryParams.loadsAllData()||s.push(y.query));else{const p=n.views.get(r);p&&(l=l.concat(Jz(p,t,i)),Xz(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return f&&!Xg(n)&&s.push(new(function bQ(){return(0,L.hu)(qR,"Reference.ts has not been loaded"),qR}())(e._repo,e._path)),{removed:s,events:l}}(l,e,t,i);(function wQ(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const y=p.removed;if(f=p.events,!r){const I=-1!==y.findIndex(M=>M._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(s,(M,F)=>Xg(F));if(I&&!D){const M=n.syncPointTree_.subtree(s);if(!M.isEmpty()){const F=function NQ(n){return n.fold((e,t,i)=>{if(t&&Xg(t))return[WR(t)];{let r=[];return t&&(r=o4(t)),wo(i,(s,l)=>{r=r.concat(l)}),r}})}(M);for(let V=0;V<F.length;++V){const U=F[V],X=U.query,fe=h4(n,U);n.listenProvider_.startListening(FT(X),PT(n,X),fe.hashFn,fe.onComplete)}}}!D&&y.length>0&&!i&&(I?n.listenProvider_.stopListening(FT(e),null):y.forEach(M=>{const F=n.queryToTagMap.get(QR(M));n.listenProvider_.stopListening(FT(M),F)}))}!function OQ(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=QR(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,y)}return f}function l4(n,e,t,i){const r=p2(n,i);if(null!=r){const s=g2(r),l=s.path,f=s.queryId,p=ta(l,e);return _2(n,l,new Py(t2(f),p,t))}return[]}function m2(n,e,t,i=!1){const r=e._path;let s=null,l=!1;n.syncPointTree_.foreachOnPath(r,(M,F)=>{const V=ta(M,r);s=s||Qg(F,V),l=l||Xg(F)});let p,f=n.syncPointTree_.get(r);f?(l=l||Xg(f),s=s||Qg(f,Bn())):(f=new n4,n.syncPointTree_=n.syncPointTree_.set(r,f)),null!=s?p=!0:(p=!1,s=on.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((F,V)=>{const U=Qg(V,Bn());U&&(s=s.updateImmediateChild(F,U))}));const y=a4(f,e);if(!y&&!e._queryParams.loadsAllData()){const M=QR(e);(0,L.hu)(!n.queryToTagMap.has(M),"View does not exist, but we have a tag");const F=function PQ(){return TQ++}();n.queryToTagMap.set(M,F),n.tagToQueryMap.set(F,M)}let D=function xQ(n,e,t,i,r,s){const l=r4(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),function _Q(n,e){n.eventRegistrations_.push(e)}(l,t),function vQ(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ci,(s,l)=>{i.push(dx(s,l))}),t.isFullyInitialized()&&i.push(Pz(t.getNode())),t4(n,i,t.getNode(),e)}(l,t)}(f,e,t,HR(n.pendingWriteTree_,r),s,p);if(!y&&!l&&!i){const M=s4(f,e);D=D.concat(function FQ(n,e,t){const i=e._path,r=PT(n,e),s=h4(n,t),l=n.listenProvider_.startListening(FT(e),r,s.hashFn,s.onComplete),f=n.syncPointTree_.subtree(i);if(r)(0,L.hu)(!Xg(f.value),"If we're adding a query, it shouldn't be shadowed");else{const p=f.fold((y,I,D)=>{if(!vn(y)&&I&&Xg(I))return[WR(I).query];{let M=[];return I&&(M=M.concat(o4(I).map(F=>F.query))),wo(D,(F,V)=>{M=M.concat(V)}),M}});for(let y=0;y<p.length;++y){const I=p[y];n.listenProvider_.stopListening(FT(I),PT(n,I))}}return l}(n,e,M))}return D}function YR(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(l,f)=>{const y=Qg(f,ta(l,e));if(y)return y});return $z(r,e,s,t,!0)}function mx(n,e){return d4(e,n.syncPointTree_,null,HR(n.pendingWriteTree_,Bn()))}function d4(n,e,t,i){if(vn(n.path))return u4(n,e,t,i);{const r=e.get(Bn());null==t&&null!=r&&(t=Qg(r,Bn()));let s=[];const l=_n(n.path),f=n.operationForChild(l),p=e.children.get(l);if(p&&f){const y=t?t.getImmediateChild(l):null,I=qz(i,l);s=s.concat(d4(f,p,y,I))}return r&&(s=s.concat(h2(r,n,i,t))),s}}function u4(n,e,t,i){const r=e.get(Bn());null==t&&null!=r&&(t=Qg(r,Bn()));let s=[];return e.children.inorderTraversal((l,f)=>{const p=t?t.getImmediateChild(l):null,y=qz(i,l),I=n.operationForChild(l);I&&(s=s.concat(u4(I,f,p,y)))}),r&&(s=s.concat(h2(r,n,i,t))),s}function h4(n,e){const t=e.query,i=PT(n,t);return{hashFn:()=>(function mQ(n){return n.viewCache_.serverCache.getNode()}(e)||on.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function kQ(n,e,t){const i=p2(n,t);if(i){const r=g2(i),s=r.path,l=r.queryId,f=ta(s,e);return _2(n,s,new kT(t2(l),f))}return[]}(n,t._path,i):function AQ(n,e){return mx(n,new kT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function SK(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return KR(n,t,null,s)}}}}function PT(n,e){const t=QR(e);return n.queryToTagMap.get(t)}function QR(n){return n._path.toString()+"$"+n._queryIdentifier}function p2(n,e){return n.tagToQueryMap.get(e)}function g2(n){const e=n.indexOf("$");return(0,L.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ti(n.substr(0,e))}}function _2(n,e,t){const i=n.syncPointTree_.get(e);return(0,L.hu)(i,"Missing sync point for query tag that we're tracking"),h2(i,t,HR(n.pendingWriteTree_,e),null)}function FT(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function IQ(){return(0,L.hu)(ZR,"Reference.ts has not been loaded"),ZR}())(n._repo,n._path):n}class v2{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new v2(t)}node(){return this.node_}}class y2{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=$i(this.path_,e);return new y2(this.syncTree_,t)}node(){return YR(this.syncTree_,this.path_)}}const LQ=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},f4=function(n,e,t){return n&&"object"==typeof n?((0,L.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?VQ(n[".sv"],e,t):"object"==typeof n[".sv"]?BQ(n[".sv"],e):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},VQ=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,L.hu)(!1,"Unexpected server value: "+n)},BQ=function(n,e,t){n.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,L.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,L.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},m4=function(n,e,t,i){return w2(e,new y2(t,n),i)},b2=function(n,e,t){return w2(n,new v2(e),t)};function w2(n,e,t){const i=n.getPriority().val(),r=f4(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const l=n,f=f4(l.getValue(),e,t);return f!==l.getValue()||r!==l.getPriority().val()?new cx(f,ir(r)):n}{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new cx(r))),l.forEachChild(Ci,(f,p)=>{const y=w2(p,e.getImmediateChild(f),t);y!==p&&(s=s.updateImmediateChild(f,y))}),s}}class x2{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function XR(n,e){let t=e instanceof ti?e:new ti(e),i=n,r=_n(t);for(;null!==r;){const s=(0,L.DV)(i.node.children,r)||{children:{},childCount:0};i=new x2(r,i,s),t=gi(t),r=_n(t)}return i}function Vy(n){return n.node.value}function E2(n,e){n.node.value=e,C2(n)}function p4(n){return n.node.childCount>0}function JR(n,e){wo(n.node.children,(t,i)=>{e(new x2(t,n,i))})}function g4(n,e,t,i){t&&!i&&e(n),JR(n,r=>{g4(r,e,!0,i)}),t&&i&&e(n)}function LT(n){return new ti(null===n.parent?n.name:LT(n.parent)+"/"+n.name)}function C2(n){null!==n.parent&&function HQ(n,e,t){const i=function UQ(n){return void 0===Vy(n)&&!p4(n)}(t),r=(0,L.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,C2(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,C2(n))}(n.parent,n.name,n)}const zQ=/[\[\].#$\/\u0000-\u001F\u007F]/,$Q=/[\[\].#$\u0000-\u001F\u007F]/,I2=10485760,e1=function(n){return"string"==typeof n&&0!==n.length&&!zQ.test(n)},_4=function(n){return"string"==typeof n&&0!==n.length&&!$Q.test(n)},VT=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!DR(n)||n&&"object"==typeof n&&(0,L.r3)(n,".sv")},Mh=function(n,e,t,i){i&&void 0===e||BT((0,L.gK)(n,"value"),e,t)},BT=function(n,e,t){const i=t instanceof ti?new aY(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Ny(i));if("function"==typeof e)throw new Error(n+"contains a function "+Ny(i)+" with contents = "+e.toString());if(DR(e))throw new Error(n+"contains "+e.toString()+" "+Ny(i));if("string"==typeof e&&e.length>I2/3&&(0,L.ug)(e)>I2)throw new Error(n+"contains a string greater than "+I2+" utf8 bytes "+Ny(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(wo(e,(l,f)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!e1(l)))throw new Error(n+" contains an invalid key ("+l+") "+Ny(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function cY(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,L.ug)(e),Tz(n)})(i,l),BT(n,f,i),function lY(n){const e=n.parts_.pop();n.byteLength_-=(0,L.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Ny(i)+" in addition to actual children.")}},v4=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,L.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];wo(e,(l,f)=>{const p=new ti(l);if(BT(r,f,$i(t,p)),".priority"===UL(p)&&!VT(f))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=ET(i);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!e1(s[l]))throw new Error(n+"contains an invalid key ("+s[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(sY);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&jl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},T2=function(n,e,t){if(!t||void 0!==e){if(DR(e))throw new Error((0,L.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!VT(e))throw new Error((0,L.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},UT=function(n,e,t,i){if(!(i&&void 0===t||e1(t)))throw new Error((0,L.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},jT=function(n,e,t,i){if(!(i&&void 0===t||_4(t)))throw new Error((0,L.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},WQ=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),jT(n,e,t,i)},Hl=function(n,e){if(".info"===_n(e))throw new Error(n+" failed = Can't modify data under /.info/")},y4=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!e1(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_4(n)}(t))throw new Error((0,L.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ZQ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function t1(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!jL(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function b4(n,e,t){t1(n,t),w4(n,i=>jL(i,e))}function Tc(n,e,t){t1(n,t),w4(n,i=>jl(i,e)||jl(e,i))}function w4(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(KQ(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function KQ(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();My&&bo("event: "+t.toString()),sx(i)}}}const x4="repo_interrupt",YQ=25;class QQ{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ZQ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=VR(),this.transactionQueueTree_=new x2,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function E4(n){const t=n.infoData_.getNode(new ti(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function HT(n){return LQ({timestamp:E4(n)})}function C4(n,e,t,i,r){n.dataUpdateCount++;const s=new ti(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(r)if(i){const p=(0,L.UI)(t,y=>ir(y));l=function MQ(n,e,t,i){const r=p2(n,i);if(r){const s=g2(r),l=s.path,f=s.queryId,p=ta(l,e),y=Ii.fromObject(t);return _2(n,l,new hx(t2(f),p,y))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=ir(t);l=l4(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,L.UI)(t,y=>ir(y));l=function SQ(n,e,t){const i=Ii.fromObject(t);return mx(n,new hx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=ir(t);l=OT(n.serverSyncTree_,s,p)}let f=s;l.length>0&&(f=gx(n,s)),Tc(n.eventQueue_,f,l)}function I4(n,e){D2(n,"connected",e),!1===e&&function nX(n){px(n,"onDisconnectEvents");const e=HT(n),t=VR();XL(n.onDisconnect_,Bn(),(r,s)=>{const l=m4(r,s,n.serverSyncTree_,e);ux(t,r,l)});let i=[];XL(t,Bn(),(r,s)=>{i=i.concat(OT(n.serverSyncTree_,r,s));const l=M2(n,r);gx(n,l)}),n.onDisconnect_=VR(),Tc(n.eventQueue_,Bn(),i)}(n)}function D2(n,e,t){const i=new ti("/.info/"+e),r=ir(t);n.infoData_.updateSnapshot(i,r);const s=OT(n.infoSyncTree_,i,r);Tc(n.eventQueue_,i,s)}function n1(n){return n.nextWriteId_++}function S2(n,e,t,i,r){px(n,"set",{path:e.toString(),value:t,priority:i});const s=HT(n),l=ir(t,i),f=YR(n.serverSyncTree_,e),p=b2(l,f,s),y=n1(n),I=f2(n.serverSyncTree_,e,p,y,!0);t1(n.eventQueue_,I),n.server_.put(e.toString(),l.val(!0),(M,F)=>{const V="ok"===M;V||vs("set at "+e+" failed: "+M);const U=Jg(n.serverSyncTree_,y,!V);Tc(n.eventQueue_,e,U),e_(0,r,M,F)});const D=M2(n,e);gx(n,D),Tc(n.eventQueue_,D,[])}function iX(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&QL(n.onDisconnect_,e),e_(0,t,i,r)})}function T4(n,e,t,i){const r=ir(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,l)=>{"ok"===s&&ux(n.onDisconnect_,e,r),e_(0,i,s,l)})}function A2(n,e,t){let i;i=".info"===_n(e._path)?KR(n.infoSyncTree_,e,t):KR(n.serverSyncTree_,e,t),b4(n.eventQueue_,e._path,i)}function D4(n){n.persistentConnection_&&n.persistentConnection_.interrupt(x4)}function px(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),bo(t,...e)}function e_(n,e,t,i){e&&sx(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const l=new Error(s);l.code=r,e(l)}})}function k2(n,e,t){return YR(n.serverSyncTree_,e,t)||on.EMPTY_NODE}function r1(n,e=n.transactionQueueTree_){if(e||o1(n,e),Vy(e)){const t=A4(n,e);(0,L.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function lX(n,e,t){const i=t.map(y=>y.currentWriteId),r=k2(n,e,i);let s=r;const l=r.hash();for(let y=0;y<t.length;y++){const I=t[y];(0,L.hu)(0===I.status,"tryToSendTransactionQueue_: items in queue should all be run."),I.status=1,I.retryCount++;const D=ta(e,I.path);s=s.updateChild(D,I.currentOutputSnapshotRaw)}const f=s.val(!0),p=e;n.server_.put(p.toString(),f,y=>{px(n,"transaction put response",{path:p.toString(),status:y});let I=[];if("ok"===y){const D=[];for(let M=0;M<t.length;M++)t[M].status=2,I=I.concat(Jg(n.serverSyncTree_,t[M].currentWriteId)),t[M].onComplete&&D.push(()=>t[M].onComplete(null,!0,t[M].currentOutputSnapshotResolved)),t[M].unwatcher();o1(n,XR(n.transactionQueueTree_,e)),r1(n,n.transactionQueueTree_),Tc(n.eventQueue_,e,I);for(let M=0;M<D.length;M++)sx(D[M])}else{if("datastale"===y)for(let D=0;D<t.length;D++)t[D].status=3===t[D].status?4:0;else{vs("transaction at "+p.toString()+" failed: "+y);for(let D=0;D<t.length;D++)t[D].status=4,t[D].abortReason=y}gx(n,e)}},l)}(n,LT(e),t)}else p4(e)&&JR(e,t=>{r1(n,t)})}function gx(n,e){const t=S4(n,e),i=LT(t);return function dX(n,e,t){if(0===e.length)return;const i=[];let r=[];const l=e.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const p=e[f],y=ta(t,p.path);let D,I=!1;if((0,L.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)I=!0,D=p.abortReason,r=r.concat(Jg(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=YQ)I=!0,D="maxretry",r=r.concat(Jg(n.serverSyncTree_,p.currentWriteId,!0));else{const M=k2(n,p.path,l);p.currentInputSnapshot=M;const F=e[f].update(M.val());if(void 0!==F){BT("transaction failed: Data returned ",F,p.path);let V=ir(F);"object"==typeof F&&null!=F&&(0,L.r3)(F,".priority")||(V=V.updatePriority(M.getPriority()));const X=p.currentWriteId,fe=HT(n),Ne=b2(V,M,fe);p.currentOutputSnapshotRaw=V,p.currentOutputSnapshotResolved=Ne,p.currentWriteId=n1(n),l.splice(l.indexOf(X),1),r=r.concat(f2(n.serverSyncTree_,p.path,Ne,p.currentWriteId,p.applyLocally)),r=r.concat(Jg(n.serverSyncTree_,X,!0))}else I=!0,D="nodata",r=r.concat(Jg(n.serverSyncTree_,p.currentWriteId,!0))}Tc(n.eventQueue_,t,r),r=[],I&&(e[f].status=2,setTimeout(e[f].unwatcher,Math.floor(0)),e[f].onComplete&&i.push("nodata"===D?()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot):()=>e[f].onComplete(new Error(D),!1,null)))}o1(n,n.transactionQueueTree_);for(let f=0;f<i.length;f++)sx(i[f]);r1(n,n.transactionQueueTree_)}(n,A4(n,t),i),i}function S4(n,e){let t,i=n.transactionQueueTree_;for(t=_n(e);null!==t&&void 0===Vy(i);)i=XR(i,t),t=_n(e=gi(e));return i}function A4(n,e){const t=[];return k4(n,e,t),t.sort((i,r)=>i.order-r.order),t}function k4(n,e,t){const i=Vy(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);JR(e,r=>{k4(n,r,t)})}function o1(n,e){const t=Vy(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,E2(e,t.length>0?t:void 0)}JR(e,i=>{o1(n,i)})}function M2(n,e){const t=LT(S4(n,e)),i=XR(n.transactionQueueTree_,e);return function jQ(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{R2(n,r)}),R2(n,i),g4(i,r=>{R2(n,r)}),t}function R2(n,e){const t=Vy(e);if(t){const i=[];let r=[],s=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,L.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,t[l].status=3,t[l].abortReason="set"):((0,L.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),r=r.concat(Jg(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?E2(e,void 0):t.length=s+1,Tc(n.eventQueue_,LT(e),r);for(let l=0;l<i.length;l++)sx(i[l])}}const N2=function(n,e){const t=fX(n),i=t.namespace;return"firebase.com"===t.domain&&Sh(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Sh("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&vs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new OL(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new ti(t.pathString)}},fX=function(n){let e="",t="",i="",r="",s="",l=!0,f="https",p=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(f=n.substring(0,y-1),n=n.substring(y+2));let I=n.indexOf("/");-1===I&&(I=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),e=n.substring(0,Math.min(I,D)),I<D&&(r=function uX(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(I,D)));const M=function hX(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):vs(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,D)));y=e.indexOf(":"),y>=0?(l="https"===f||"wss"===f,p=parseInt(e.substring(y+1),10)):y=e.length;const F=e.slice(0,y);if("localhost"===F.toLowerCase())t="localhost";else if(F.split(".").length<=2)t=F;else{const V=e.indexOf(".");i=e.substring(0,V).toLowerCase(),t=e.substring(V+1),s=i}"ns"in M&&(s=M.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:l,scheme:f,pathString:r,namespace:s}},M4="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",mX=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=M4.charAt(t%64),t=Math.floor(t/64);(0,L.hu)(0===t,"Cannot push at time == 0");let l=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=M4.charAt(e[r]);return(0,L.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class R4{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Wl)(this.snapshot.exportVal())}}class N4{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class O2{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class O4{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new L.BH;return iX(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Hl("OnDisconnect.remove",this._path);const e=new L.BH;return T4(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Hl("OnDisconnect.set",this._path),Mh("OnDisconnect.set",e,this._path,!1);const t=new L.BH;return T4(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Hl("OnDisconnect.setWithPriority",this._path),Mh("OnDisconnect.setWithPriority",e,this._path,!1),T2("OnDisconnect.setWithPriority",t,!1);const i=new L.BH;return function rX(n,e,t,i,r){const s=ir(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(l,f)=>{"ok"===l&&ux(n.onDisconnect_,e,s),e_(0,r,l,f)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){Hl("OnDisconnect.update",this._path),v4("OnDisconnect.update",e,this._path,!1);const t=new L.BH;return function oX(n,e,t,i){if((0,L.xb)(t))return bo("onDisconnect().update() called with empty data.  Don't do anything."),void e_(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&wo(t,(l,f)=>{const p=ir(f);ux(n.onDisconnect_,$i(e,l),p)}),e_(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Ba{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return vn(this._path)?null:UL(this._path)}get ref(){return new zl(this._repo,this._path)}get _queryIdentifier(){const e=Lz(this._queryParams),t=RL(e);return"{}"===t?"default":t}get _queryObject(){return Lz(this._queryParams)}isEqual(e){if(!((e=(0,L.m9)(e))instanceof Ba))return!1;const t=this._repo===e._repo,i=jL(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function oY(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function s1(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function t_(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Ah){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==qg)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Im)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Ci){if(null!=e&&!VT(e)||null!=t&&!VT(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(n.getIndex()instanceof qL||n.getIndex()===WL,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function a1(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class zl extends Ba{constructor(e,t){super(e,t,new PR,!1)}get parent(){const e=Iz(this._path);return null===e?null:new zl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class By{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ti(e),i=Uy(this.ref,e);return new By(this._node.getChild(t),i,Ci)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new By(r,Uy(this.ref,i),Ci)))}hasChild(e){const t=new ti(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function P4(n,e){return(n=(0,L.m9)(n))._checkNotDeleted("ref"),void 0!==e?Uy(n._root,e):n._root}function F4(n,e){(n=(0,L.m9)(n))._checkNotDeleted("refFromURL");const t=N2(e,n._repo.repoInfo_.nodeAdmin);y4("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Sh("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),P4(n,t.path.toString())}function Uy(n,e){return null===_n((n=(0,L.m9)(n))._path)?WQ("child","path",e,!1):jT("child","path",e,!1),new zl(n._repo,$i(n._path,e))}function P2(n,e){n=(0,L.m9)(n),Hl("set",n._path),Mh("set",e,n._path,!1);const t=new L.BH;return S2(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function yX(n,e){v4("update",e,n._path,!1);const t=new L.BH;return function tX(n,e,t,i){px(n,"update",{path:e.toString(),value:t});let r=!0;const s=HT(n),l={};if(wo(t,(f,p)=>{r=!1,l[f]=m4($i(e,f),ir(p),n.serverSyncTree_,s)}),r)bo("update() called with empty data.  Don't do anything."),e_(0,i,"ok",void 0);else{const f=n1(n),p=function DQ(n,e,t,i){!function $Y(n,e,t,i){(0,L.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=r2(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=Ii.fromObject(t);return mx(n,new hx({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,l,f);t1(n.eventQueue_,p),n.server_.merge(e.toString(),t,(y,I)=>{const D="ok"===y;D||vs("update at "+e+" failed: "+y);const M=Jg(n.serverSyncTree_,f,!D),F=M.length>0?gx(n,e):e;Tc(n.eventQueue_,F,M),e_(0,i,y,I)}),wo(t,y=>{const I=M2(n,$i(e,y));gx(n,I)}),Tc(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function bX(n){n=(0,L.m9)(n);const e=new O2(()=>{}),t=new zT(e);return function eX(n,e,t){const i=function RQ(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(y,I)=>{const D=ta(y,t);i=i||Qg(I,D)});let r=n.syncPointTree_.get(t);r?i=i||Qg(r,Bn()):(r=new n4,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,l=s?new Kg(i,!0,!1):null;return function pQ(n){return jR(n.viewCache_)}(r4(r,e,HR(n.pendingWriteTree_,e._path),s?l.getNode():on.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=ir(r).withIndex(e._queryParams.getIndex());let l;if(m2(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())l=OT(n.serverSyncTree_,e._path,s);else{const f=PT(n.serverSyncTree_,e);l=l4(n.serverSyncTree_,e._path,s,f)}return Tc(n.eventQueue_,e._path,l),KR(n.serverSyncTree_,e,t,null,!0),s},r=>(px(n,"get for query "+(0,L.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new By(i,new zl(n._repo,n._path),n._queryParams.getIndex()))}class zT{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new R4("value",this,new By(e.snapshotNode,new zl(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new N4(this,e,t):null}matches(e){return e instanceof zT&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class c1{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new N4(this,e,t):null}createEvent(e,t){(0,L.hu)(null!=e.childName,"Child events should have a childName.");const i=Uy(new zl(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new R4(e.type,this,new By(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof c1&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function $T(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,y=(I,D)=>{A2(n._repo,n,f),p(I,D)};y.userCallback=t.userCallback,y.context=t.context,t=y}const l=new O2(t,s||void 0),f="value"===e?new zT(l):new c1(e,l);return function sX(n,e,t){let i;i=".info"===_n(e._path)?m2(n.infoSyncTree_,e,t):m2(n.serverSyncTree_,e,t),b4(n.eventQueue_,e._path,i)}(n._repo,n,f),()=>A2(n._repo,n,f)}function F2(n,e,t,i){return $T(n,"value",e,t,i)}function L4(n,e,t,i){return $T(n,"child_added",e,t,i)}function V4(n,e,t,i){return $T(n,"child_changed",e,t,i)}function B4(n,e,t,i){return $T(n,"child_moved",e,t,i)}function U4(n,e,t,i){return $T(n,"child_removed",e,t,i)}function j4(n,e,t){let i=null;const r=t?new O2(t):null;"value"===e?i=new zT(r):e&&(i=new c1(e,r)),A2(n._repo,n,i)}class ou{}class H4 extends ou{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Mh("endAt",this._value,e._path,!0);const t=YL(e._queryParams,this._value,this._key);if(a1(t),t_(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ba(e._repo,e._path,t,e._orderByCalled)}}class xX extends ou{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Mh("endBefore",this._value,e._path,!1);const t=function MY(n,e,t){let i;return i=YL(n,e,n.index_===Ah||t?t:qg),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(a1(t),t_(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ba(e._repo,e._path,t,e._orderByCalled)}}class z4 extends ou{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Mh("startAt",this._value,e._path,!0);const t=KL(e._queryParams,this._value,this._key);if(a1(t),t_(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ba(e._repo,e._path,t,e._orderByCalled)}}class IX extends ou{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Mh("startAfter",this._value,e._path,!1);const t=function kY(n,e,t){let i;return i=KL(n,e,n.index_===Ah||t?t:Im),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(a1(t),t_(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ba(e._repo,e._path,t,e._orderByCalled)}}class DX extends ou{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ba(e._repo,e._path,function SY(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class AX extends ou{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ba(e._repo,e._path,function AY(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class MX extends ou{constructor(e){super(),this._path=e}_apply(e){s1(e,"orderByChild");const t=new ti(this._path);if(vn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new qL(t),r=FR(e._queryParams,i);return t_(r),new Ba(e._repo,e._path,r,!0)}}class NX extends ou{_apply(e){s1(e,"orderByKey");const t=FR(e._queryParams,Ah);return t_(t),new Ba(e._repo,e._path,t,!0)}}class PX extends ou{_apply(e){s1(e,"orderByPriority");const t=FR(e._queryParams,Ci);return t_(t),new Ba(e._repo,e._path,t,!0)}}class LX extends ou{_apply(e){s1(e,"orderByValue");const t=FR(e._queryParams,WL);return t_(t),new Ba(e._repo,e._path,t,!0)}}class BX extends ou{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Mh("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new H4(this._value,this._key)._apply(new z4(this._value,this._key)._apply(e))}}function su(n,...e){let t=(0,L.m9)(n);for(const i of e)t=i._apply(t);return t}(function yQ(n){(0,L.hu)(!qR,"__referenceConstructor has already been defined"),qR=n})(zl),function CQ(n){(0,L.hu)(!ZR,"__referenceConstructor has already been defined"),ZR=n}(zl);const L2={};function G4(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Sh("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bo("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,y,l=N2(s,r),f=l.repoInfo;typeof process<"u"&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(p=!0,s=`http://${y}?ns=${f.namespace}`,l=N2(s,r),f=l.repoInfo):p=!l.repoInfo.secure;const I=r&&p?new xT(xT.OWNER):new OK(n.name,n.options,e);y4("Invalid Firebase Database URL",l),vn(l.path)||Sh("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function $X(n,e,t,i){let r=L2[e.name];r||(r={},L2[e.name]=r);let s=r[n.toURLString()];return s&&Sh("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new QQ(n,false,t,i),r[n.toURLString()]=s,s}(f,n,I,new NK(n.name,t));return new qX(D,n)}class qX{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function XQ(n,e,t){if(n.stats_=LL(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new LR(n.repoInfo_,(i,r,s,l)=>{C4(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>I4(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Oy(n.repoInfo_,e,(i,r,s,l)=>{C4(n,i,r,s,l)},i=>{I4(n,i)},i=>{!function JQ(n,e){wo(e,(t,i)=>{D2(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function LK(n,e){const t=n.toString();return FL[t]||(FL[t]=e()),FL[t]}(n.repoInfo_,()=>new LY(n.stats_,n.server_)),n.infoData_=new RY,n.infoSyncTree_=new c4({startListening:(i,r,s,l)=>{let f=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(f=OT(n.infoSyncTree_,i._path,p),setTimeout(()=>{l("ok")},0)),f},stopListening:()=>{}}),D2(n,"connected",!1),n.serverSyncTree_=new c4({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(f,p)=>{const y=l(f,p);Tc(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zl(this._repo,Bn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function zX(n,e){const t=L2[e];(!t||t[n.key]!==n)&&Sh(`Database ${e}(${n.repoInfo_}) has already been deleted.`),D4(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Sh("Cannot call "+e+" on a deleted database.")}}function q4(){fz.IS_TRANSPORT_INITIALIZED&&vs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function WX(){q4(),Wg.forceDisallow()}function ZX(){q4(),ax.forceDisallow(),Wg.forceAllow()}function QX(n,e){WH(n,e)}const JX={".sv":"timestamp"};class nJ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Oy.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Oy.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function XX(n){HH(Vo.SDK_VERSION),(0,Vo._registerComponent)(new pc.wA("database",(e,{instanceIdentifier:t})=>G4(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Vo.registerVersion)(UH,"0.14.4",n),(0,Vo.registerVersion)(UH,"0.14.4","esm2017")}();const sJ=new Hs.Yd("@firebase/database-compat"),Z4=function(n){sJ.warn("FIREBASE WARNING: "+n)};class lJ{constructor(e){this._delegate=e}cancel(e){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,Z4("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class dJ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class n_{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),jT("DataSnapshot.child","path",e,!1),new n_(this._database,this._delegate.child(e))}hasChild(e){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),jT("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new n_(this._database,t)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new Dc(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ko{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",t,!1);const l=Ko.getCancelAndContextArgs_("Query.on",i,r),f=(y,I)=>{t.call(l.context,new n_(this.database,y),I)};f.userCallback=t,f.context=l.context;const p=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(e){case"value":return F2(this._delegate,f,p),t;case"child_added":return L4(this._delegate,f,p),t;case"child_removed":return U4(this._delegate,f,p),t;case"child_changed":return V4(this._delegate,f,p),t;case"child_moved":return B4(this._delegate,f,p),t;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,L.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,L.Wj)("Query.off","callback",t,!0),(0,L.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,j4(this._delegate,e,r)}else j4(this._delegate,e)}get(){return bX(this._delegate).then(e=>new n_(this.database,e))}once(e,t,i,r){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",t,!0);const s=Ko.getCancelAndContextArgs_("Query.once",i,r),l=new L.BH,f=(y,I)=>{const D=new n_(this.database,y);t&&t.call(s.context,D,I),l.resolve(D)};f.userCallback=t,f.context=s.context;const p=y=>{s.cancel&&s.cancel.call(s.context,y),l.reject(y)};switch(e){case"value":F2(this._delegate,f,p,{onlyOnce:!0});break;case"child_added":L4(this._delegate,f,p,{onlyOnce:!0});break;case"child_removed":U4(this._delegate,f,p,{onlyOnce:!0});break;case"child_changed":V4(this._delegate,f,p,{onlyOnce:!0});break;case"child_moved":B4(this._delegate,f,p,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(e){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new Ko(this.database,su(this._delegate,function SX(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new DX(n)}(e)))}limitToLast(e){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new Ko(this.database,su(this._delegate,function kX(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new AX(n)}(e)))}orderByChild(e){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new Ko(this.database,su(this._delegate,function RX(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return jT("orderByChild","path",n,!1),new MX(n)}(e)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new Ko(this.database,su(this._delegate,function OX(){return new NX}()))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new Ko(this.database,su(this._delegate,function FX(){return new PX}()))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new Ko(this.database,su(this._delegate,function VX(){return new LX}()))}startAt(e=null,t){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new Ko(this.database,su(this._delegate,function CX(n=null,e){return UT("startAt","key",e,!0),new z4(n,e)}(e,t)))}startAfter(e=null,t){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new Ko(this.database,su(this._delegate,function TX(n,e){return UT("startAfter","key",e,!0),new IX(n,e)}(e,t)))}endAt(e=null,t){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new Ko(this.database,su(this._delegate,function wX(n,e){return UT("endAt","key",e,!0),new H4(n,e)}(e,t)))}endBefore(e=null,t){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new Ko(this.database,su(this._delegate,function EX(n,e){return UT("endBefore","key",e,!0),new xX(n,e)}(e,t)))}equalTo(e,t){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new Ko(this.database,su(this._delegate,function UX(n,e){return UT("equalTo","key",e,!0),new BX(n,e)}(e,t)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Ko))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,L.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,L.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,L.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Dc(this.database,new zl(this._delegate._repo,this._delegate._path))}}class Dc extends Ko{constructor(e,t){super(e,new Ba(t._repo,t._path,new PR,!1)),this.database=e,this._delegate=t}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Dc(this.database,Uy(this._delegate,e))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Dc(this.database,e):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new Dc(this.database,this._delegate.root)}set(e,t){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",t,!0);const i=P2(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,Z4("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Hl("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",t,!0);const i=yX(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function vX(n,e,t){if(Hl("setWithPriority",n._path),Mh("setWithPriority",e,n._path,!1),T2("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new L.BH;return S2(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",e,!0);const t=function gX(n){return Hl("remove",n._path),P2(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,L.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function iJ(n,e,t){var i;if(n=(0,L.m9)(n),Hl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new L.BH,f=F2(n,()=>{});return function cX(n,e,t,i,r,s){px(n,"transaction on "+e);const l={path:e,update:t,onComplete:i,status:null,order:$H(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},f=k2(n,e,void 0);l.currentInputSnapshot=f;const p=l.update(f.val());if(void 0===p)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{BT("transaction failed: Data returned ",p,l.path),l.status=0;const y=XR(n.transactionQueueTree_,e),I=Vy(y)||[];let D;I.push(l),E2(y,I),"object"==typeof p&&null!==p&&(0,L.r3)(p,".priority")?(D=(0,L.DV)(p,".priority"),(0,L.hu)(VT(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(YR(n.serverSyncTree_,e)||on.EMPTY_NODE).getPriority().val();const M=HT(n),F=ir(p,D),V=b2(F,f,M);l.currentOutputSnapshotRaw=F,l.currentOutputSnapshotResolved=V,l.currentWriteId=n1(n);const U=f2(n.serverSyncTree_,e,V,l.currentWriteId,l.applyLocally);Tc(n.eventQueue_,e,U),r1(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,y,I)=>{let D=null;p?s.reject(p):(D=new By(I,new zl(n._repo,n._path),Ci),s.resolve(new nJ(y,D)))},f,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new dJ(s.committed,new n_(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",t,!0);const i=function _X(n,e){n=(0,L.m9)(n),Hl("setPriority",n._path),T2("setPriority",e,!1);const t=new L.BH;return S2(n._repo,$i(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",t,!0);const i=function pX(n,e){n=(0,L.m9)(n),Hl("push",n._path),Mh("push",e,n._path,!0);const t=E4(n._repo),i=mX(t),r=Uy(n,i),s=Uy(n,i);let l;return l=null!=e?P2(s,e).then(()=>s):Promise.resolve(s),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,e),r=i.then(l=>new Dc(this.database,l));t&&r.then(()=>t(null),l=>t(l));const s=new Dc(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Hl("Reference.onDisconnect",this._delegate._path),new lJ(new O4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class GT{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:WX,forceLongPolling:ZX}}useEmulator(e,t,i={}){!function W4(n,e,t,i={}){(n=(0,L.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Sh("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Sh('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new xT(xT.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,L.Sg)(i.mockUserToken,n.app.options.projectId);s=new xT(l)}!function HX(n,e,t,i){n.repoInfo_=new OL(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,L.Dv)("database.ref",0,1,arguments.length),e instanceof Dc){const t=F4(this._delegate,e.toString());return new Dc(this,t)}{const t=P4(this._delegate,e);return new Dc(this,t)}}refFromURL(e){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const i=F4(this._delegate,e);return new Dc(this,i)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function KX(n){(n=(0,L.m9)(n))._checkNotDeleted("goOffline"),D4(n._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function YX(n){(n=(0,L.m9)(n))._checkNotDeleted("goOnline"),function aX(n){n.persistentConnection_&&n.persistentConnection_.resume(x4)}(n._repo)}(this._delegate)}}GT.ServerValue={TIMESTAMP:function eJ(){return JX}(),increment:n=>function tJ(n){return{".sv":{increment:n}}}(n)};var hJ=Object.freeze({__proto__:null,initStandalone:function uJ({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){HH(t);const l=new pc.zt("auth-internal",new pc.H0("database-standalone"));return l.setComponent(new pc.wA("auth-internal",()=>i,"PRIVATE")),{instance:new GT(G4(n,l,void 0,e,s),n),namespace:r}}});const fJ=GT.ServerValue;function K4(n){return null==n}function Y4(n){return"function"==typeof n.set}function Q4(n,e){return Y4(e)?e:n.ref(e)}function X4(n,e){if(function pJ(n){return"string"==typeof n}(n))return e.stringCase();if(Y4(n))return e.firebaseCase();if(function gJ(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function qT(n,e,t="on",i=zu.z){return new Vn.y(r=>{let s=null;return s=n[t](e,(l,f)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:f})}),"once"===t&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,st.U)(r=>{const{snapshot:s,prevKey:l}=r;let f=null;return s.exists()&&(f=s.key),{type:e,payload:s,prevKey:l,key:f}}),z())}function J4(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function yJ(n,e){const{payload:t,prevKey:i,key:r}=e,s=J4(n,r),l=function vJ(n,e){if(K4(e))return 0;{const t=J4(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let f=null;e.payload.forEach(p=>{const y={payload:p,type:"value",prevKey:f,key:p.key};return f=p.key,n=[...n,y],!1})}return n;case"child_added":if(s>-1){const f=n[s-1];(f&&f.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(l,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(l,0,e)}return n;case"child_removed":return n.filter(f=>f.payload.key!==t.key);case"child_changed":return n.map(f=>f.payload.key===r?e:f);case"child_moved":if(s>-1){const f=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,f),n}return n;default:return n}}function e$(n){return(K4(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function t$(n,e,t){return function _J(n,e,t){return qT(n,"value","once",t).pipe(Wn(i=>{const r=[ot(i)];return e.forEach(s=>r.push(qT(n,s,"on",t))),C(...r).pipe(xa(yJ,[]))}),Dp())}(n,e=e$(e),t)}function n$(n,e,t){return C(...(e=e$(e)).map(r=>qT(n,r,"on",t)))}function i$(n,e){return function(i,r){return X4(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function EJ(n){return function(t){return t?X4(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function r$(n,e){return function(){return qT(n,"value","on",e)}}!function mJ(n){n.INTERNAL.registerComponent(new pc.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new GT(r,i)},"PUBLIC").setServiceProps({Reference:Dc,Query:Ko,Database:GT,DataSnapshot:n_,enableLogging:QX,INTERNAL:hJ,ServerValue:fJ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(Zx.Z);const TJ=new d.OlP("angularfire2.realtimeDatabaseURL"),DJ=new d.OlP("angularfire2.database.use-emulator");let SJ=(()=>{class n{constructor(t,i,r,s,l,f,p,y,I,D,M,F,V,U,X){this.schedulers=f;const fe=p,Ne=(0,Xi.on)(t,l,i);y&&nF(Ne,l,I,M,F,V,D,U),this.database=(0,Xi.cc)(`${Ne.name}.database.${r}`,"AngularFireDatabase",Ne.name,()=>{const Ie=l.runOutsideAngular(()=>Ne.database(r||void 0));return fe&&Ie.useEmulator(...fe),Ie},[fe])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>Q4(this.database,t));let s=r;return i&&(s=i(r)),function CJ(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:i$(i,"update"),set:i$(i,"set"),push:r=>i.push(r),remove:EJ(i),snapshotChanges:r=>t$(n,r,t).pipe(In.iC),stateChanges:r=>n$(n,r,t).pipe(In.iC),auditTrail:r=>function bJ(n,e,t){return function xJ(n,e,t){return function wJ(n,e){return qT(n,"value","on",e).pipe((0,st.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function yK(...n){const e=Li(n);return(0,qn.e)((t,i)=>{const r=n.length,s=new Array(r);let l=n.map(()=>!1),f=!1;for(let p=0;p<r;p++)en(n[p]).subscribe((0,Gn.x)(i,y=>{s[p]=y,!f&&!l[p]&&(l[p]=!0,(f=l.every(il.y))&&(l=null))},Ea.Z));t.subscribe((0,Gn.x)(i,p=>{if(f){const y=[p,...s];i.next(e?e(...y):y)}}))})}(e),(0,st.U)(([r,s])=>{const l=r.lastKeyToLoad,f=s.map(p=>p.key);return{actions:s,lastKeyToLoad:l,loadedKeys:f}}),function bK(n){return(0,qn.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,Gn.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,st.U)(r=>r.actions))}(n,n$(n,e).pipe(xa((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(In.iC),valueChanges:(r,s)=>t$(n,r,t).pipe((0,st.U)(f=>f.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),In.iC)}}(s,this)}object(t){return function IJ(n,e){return{query:n,snapshotChanges:()=>r$(n,e.schedulers.outsideAngular)().pipe(In.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>r$(n,e.schedulers.outsideAngular)().pipe(In.iC,(0,st.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Q4(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Xi.Dh),d.LFG(Xi.xv,8),d.LFG(TJ,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(In.HU),d.LFG(DJ,8),d.LFG(WI,8),d.LFG(YP,8),d.LFG(QP,8),d.LFG(XP,8),d.LFG(JP,8),d.LFG(eF,8),d.LFG(tF,8),d.LFG(qI,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),AJ=(()=>{class n{constructor(){xM.Z.registerVersion("angularfire",In.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[SJ]}),n})();var o$=K(954);const WT={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=WT;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Rn.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=WT;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=WT;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var s$=K(631);new class MJ extends s$.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class kJ extends o$.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=WT.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(WT.cancelAnimationFrame(t),e._scheduled=void 0)}});let V2,NJ=1;const l1={};function a$(n){return n in l1&&(delete l1[n],!0)}const OJ={setImmediate(n){const e=NJ++;return l1[e]=!0,V2||(V2=Promise.resolve()),V2.then(()=>a$(e)&&n()),e},clearImmediate(n){a$(n)}},{setImmediate:PJ,clearImmediate:FJ}=OJ,d1={setImmediate(...n){const{delegate:e}=d1;return(e?.setImmediate||PJ)(...n)},clearImmediate(n){const{delegate:e}=d1;return(e?.clearImmediate||FJ)(n)},delegate:void 0};new class VJ extends s$.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class LJ extends o$.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=d1.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(d1.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});let c$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})(),jJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ei,c$,c$,Ei]})}return n})(),d$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})(),QJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[d$,Ei,AM,d$,Ei]})}return n})(),XJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n,bootstrap:[iW]});static#n=this.\u0275inj=d.cJS({providers:[Fg,tR,HF],imports:[ma,j8,h8,Z9,PF,AZ,Xi.hO.initializeApp(Nj_firebase),I6,_6,vK,AJ,sR,Aq,oT,MM,sR,JI,MM,zF,jJ,gL,RM,QJ]})}return n})();Zc().bootstrapModule(XJ).catch(n=>console.error(n))},619:(zt,$e,K)=>{K.d($e,{X:()=>se});var d=K(645);class se extends d.x{constructor(ge){super(),this._value=ge}get value(){return this.getValue()}_subscribe(ge){const Ee=super._subscribe(ge);return!Ee.closed&&ge.next(this._value),Ee}getValue(){const{hasError:ge,thrownError:Ee,_value:te}=this;if(ge)throw Ee;return this._throwIfClosed(),te}next(ge){super.next(this._value=ge)}}},592:(zt,$e,K)=>{K.d($e,{y:()=>Ue});var d=K(305),se=K(394),B=K(850),ge=K(407),Ee=K(653),te=K(674),Le=K(441);let Ue=(()=>{class le{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const dt=new le;return dt.source=this,dt.operator=Oe,dt}subscribe(Oe,dt,Lt){const nt=function q(le){return le&&le instanceof d.Lv||function Y(le){return le&&(0,te.m)(le.next)&&(0,te.m)(le.error)&&(0,te.m)(le.complete)}(le)&&(0,se.Nn)(le)}(Oe)?Oe:new d.Hp(Oe,dt,Lt);return(0,Le.x)(()=>{const{operator:Ve,source:Ct}=this;nt.add(Ve?Ve.call(nt,Ct):Ct?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(dt){Oe.error(dt)}}forEach(Oe,dt){return new(dt=Ce(dt))((Lt,nt)=>{const Ve=new d.Hp({next:Ct=>{try{Oe(Ct)}catch(kt){nt(kt),Ve.unsubscribe()}},error:nt,complete:Lt});this.subscribe(Ve)})}_subscribe(Oe){var dt;return null===(dt=this.source)||void 0===dt?void 0:dt.subscribe(Oe)}[B.L](){return this}pipe(...Oe){return(0,ge.U)(Oe)(this)}toPromise(Oe){return new(Oe=Ce(Oe))((dt,Lt)=>{let nt;this.subscribe(Ve=>nt=Ve,Ve=>Lt(Ve),()=>dt(nt))})}}return le.create=Xe=>new le(Xe),le})();function Ce(le){var Xe;return null!==(Xe=le??Ee.config.Promise)&&void 0!==Xe?Xe:Promise}},645:(zt,$e,K)=>{K.d($e,{x:()=>Le});var d=K(592),se=K(394);const ge=(0,K(306).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=K(39),te=K(441);let Le=(()=>{class Ce extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const le=new Ue(this,this);return le.operator=q,le}_throwIfClosed(){if(this.closed)throw new ge}next(q){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const le of this.currentObservers)le.next(q)}})}error(q){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:le}=this;for(;le.length;)le.shift().error(q)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:le,isStopped:Xe,observers:Oe}=this;return le||Xe?se.Lc:(this.currentObservers=null,Oe.push(q),new se.w0(()=>{this.currentObservers=null,(0,Ee.P)(Oe,q)}))}_checkFinalizedStatuses(q){const{hasError:le,thrownError:Xe,isStopped:Oe}=this;le?q.error(Xe):Oe&&q.complete()}asObservable(){const q=new d.y;return q.source=this,q}}return Ce.create=(Y,q)=>new Ue(Y,q),Ce})();class Ue extends Le{constructor(Y,q){super(),this.destination=Y,this.source=q}next(Y){var q,le;null===(le=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===le||le.call(q,Y)}error(Y){var q,le;null===(le=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===le||le.call(q,Y)}complete(){var Y,q;null===(q=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===q||q.call(Y)}_subscribe(Y){var q,le;return null!==(le=null===(q=this.source)||void 0===q?void 0:q.subscribe(Y))&&void 0!==le?le:se.Lc}}},305:(zt,$e,K)=>{K.d($e,{Hp:()=>Lt,Lv:()=>le});var d=K(674),se=K(394),B=K(653),ge=K(894),Ee=K(420);const te=Ce("C",void 0,void 0);function Ce(gt,Pe,et){return{kind:gt,value:Pe,error:et}}var Y=K(599),q=K(441);class le extends se.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,se.Nn)(Pe)&&Pe.add(this)):this.destination=kt}static create(Pe,et,Mt){return new Lt(Pe,et,Mt)}next(Pe){this.isStopped?Ct(function Ue(gt){return Ce("N",gt,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?Ct(function Le(gt){return Ce("E",void 0,gt)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?Ct(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function Oe(gt,Pe){return Xe.call(gt,Pe)}class dt{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:et}=this;if(et.next)try{et.next(Pe)}catch(Mt){nt(Mt)}}error(Pe){const{partialObserver:et}=this;if(et.error)try{et.error(Pe)}catch(Mt){nt(Mt)}else nt(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(et){nt(et)}}}class Lt extends le{constructor(Pe,et,Mt){let qe;if(super(),(0,d.m)(Pe)||!Pe)qe={next:Pe??void 0,error:et??void 0,complete:Mt??void 0};else{let _e;this&&B.config.useDeprecatedNextContext?(_e=Object.create(Pe),_e.unsubscribe=()=>this.unsubscribe(),qe={next:Pe.next&&Oe(Pe.next,_e),error:Pe.error&&Oe(Pe.error,_e),complete:Pe.complete&&Oe(Pe.complete,_e)}):qe=Pe}this.destination=new dt(qe)}}function nt(gt){B.config.useDeprecatedSynchronousErrorHandling?(0,q.O)(gt):(0,ge.h)(gt)}function Ct(gt,Pe){const{onStoppedNotification:et}=B.config;et&&Y.z.setTimeout(()=>et(gt,Pe))}const kt={closed:!0,next:Ee.Z,error:function Ve(gt){throw gt},complete:Ee.Z}},394:(zt,$e,K)=>{K.d($e,{Lc:()=>te,w0:()=>Ee,Nn:()=>Le});var d=K(674);const B=(0,K(306).d)(Ce=>function(q){Ce(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((le,Xe)=>`${Xe+1}) ${le.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var ge=K(39);class Ee{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Oe of q)Oe.remove(this);else q.remove(this);const{initialTeardown:le}=this;if((0,d.m)(le))try{le()}catch(Oe){Y=Oe instanceof B?Oe.errors:[Oe]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const Oe of Xe)try{Ue(Oe)}catch(dt){Y=Y??[],dt instanceof B?Y=[...Y,...dt.errors]:Y.push(dt)}}if(Y)throw new B(Y)}}add(Y){var q;if(Y&&Y!==this)if(this.closed)Ue(Y);else{if(Y instanceof Ee){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(Y)}}_hasParent(Y){const{_parentage:q}=this;return q===Y||Array.isArray(q)&&q.includes(Y)}_addParent(Y){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(Y),q):q?[q,Y]:Y}_removeParent(Y){const{_parentage:q}=this;q===Y?this._parentage=null:Array.isArray(q)&&(0,ge.P)(q,Y)}remove(Y){const{_finalizers:q}=this;q&&(0,ge.P)(q,Y),Y instanceof Ee&&Y._removeParent(this)}}Ee.EMPTY=(()=>{const Ce=new Ee;return Ce.closed=!0,Ce})();const te=Ee.EMPTY;function Le(Ce){return Ce instanceof Ee||Ce&&"closed"in Ce&&(0,d.m)(Ce.remove)&&(0,d.m)(Ce.add)&&(0,d.m)(Ce.unsubscribe)}function Ue(Ce){(0,d.m)(Ce)?Ce():Ce.unsubscribe()}},653:(zt,$e,K)=>{K.d($e,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},251:(zt,$e,K)=>{K.d($e,{x:()=>se});var d=K(305);function se(ge,Ee,te,Le,Ue){return new B(ge,Ee,te,Le,Ue)}class B extends d.Lv{constructor(Ee,te,Le,Ue,Ce,Y){super(Ee),this.onFinalize=Ce,this.shouldUnsubscribe=Y,this._next=te?function(q){try{te(q)}catch(le){Ee.error(le)}}:super._next,this._error=Ue?function(q){try{Ue(q)}catch(le){Ee.error(le)}finally{this.unsubscribe()}}:super._error,this._complete=Le?function(){try{Le()}catch(q){Ee.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:te}=this;super.unsubscribe(),!te&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},398:(zt,$e,K)=>{K.d($e,{U:()=>B});var d=K(360),se=K(251);function B(ge,Ee){return(0,d.e)((te,Le)=>{let Ue=0;te.subscribe((0,se.x)(Le,Ce=>{Le.next(ge.call(Ee,Ce,Ue++))}))})}},93:(zt,$e,K)=>{K.d($e,{Q:()=>ge});var d=K(103),se=K(360),B=K(251);function ge(Ee,te=0){return(0,se.e)((Le,Ue)=>{Le.subscribe((0,B.x)(Ue,Ce=>(0,d.f)(Ue,Ee,()=>Ue.next(Ce),te),()=>(0,d.f)(Ue,Ee,()=>Ue.complete(),te),Ce=>(0,d.f)(Ue,Ee,()=>Ue.error(Ce),te)))})}},137:(zt,$e,K)=>{K.d($e,{R:()=>se});var d=K(360);function se(B,ge=0){return(0,d.e)((Ee,te)=>{te.add(B.schedule(()=>Ee.subscribe(te),ge))})}},397:(zt,$e,K)=>{K.d($e,{b:()=>Ee});var d=K(674),se=K(360),B=K(251),ge=K(737);function Ee(te,Le,Ue){const Ce=(0,d.m)(te)||Le||Ue?{next:te,error:Le,complete:Ue}:te;return Ce?(0,se.e)((Y,q)=>{var le;null===(le=Ce.subscribe)||void 0===le||le.call(Ce);let Xe=!0;Y.subscribe((0,B.x)(q,Oe=>{var dt;null===(dt=Ce.next)||void 0===dt||dt.call(Ce,Oe),q.next(Oe)},()=>{var Oe;Xe=!1,null===(Oe=Ce.complete)||void 0===Oe||Oe.call(Ce),q.complete()},Oe=>{var dt;Xe=!1,null===(dt=Ce.error)||void 0===dt||dt.call(Ce,Oe),q.error(Oe)},()=>{var Oe,dt;Xe&&(null===(Oe=Ce.unsubscribe)||void 0===Oe||Oe.call(Ce)),null===(dt=Ce.finalize)||void 0===dt||dt.call(Ce)}))}):ge.y}},954:(zt,$e,K)=>{K.d($e,{o:()=>Ee});var d=K(394);class se extends d.w0{constructor(Le,Ue){super()}schedule(Le,Ue=0){return this}}const B={setInterval(te,Le,...Ue){const{delegate:Ce}=B;return Ce?.setInterval?Ce.setInterval(te,Le,...Ue):setInterval(te,Le,...Ue)},clearInterval(te){const{delegate:Le}=B;return(Le?.clearInterval||clearInterval)(te)},delegate:void 0};var ge=K(39);class Ee extends se{constructor(Le,Ue){super(Le,Ue),this.scheduler=Le,this.work=Ue,this.pending=!1}schedule(Le,Ue=0){var Ce;if(this.closed)return this;this.state=Le;const Y=this.id,q=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(q,Y,Ue)),this.pending=!0,this.delay=Ue,this.id=null!==(Ce=this.id)&&void 0!==Ce?Ce:this.requestAsyncId(q,this.id,Ue),this}requestAsyncId(Le,Ue,Ce=0){return B.setInterval(Le.flush.bind(Le,this),Ce)}recycleAsyncId(Le,Ue,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return Ue;null!=Ue&&B.clearInterval(Ue)}execute(Le,Ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(Le,Ue);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Le,Ue){let Y,Ce=!1;try{this.work(Le)}catch(q){Ce=!0,Y=q||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:Le,scheduler:Ue}=this,{actions:Ce}=Ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.P)(Ce,this),null!=Le&&(this.id=this.recycleAsyncId(Ue,Le,null)),this.delay=null,super.unsubscribe()}}}},631:(zt,$e,K)=>{K.d($e,{v:()=>B});var d=K(552);class se{constructor(Ee,te=se.now){this.schedulerActionCtor=Ee,this.now=te}schedule(Ee,te=0,Le){return new this.schedulerActionCtor(this,Ee).schedule(Le,te)}}se.now=d.l.now;class B extends se{constructor(Ee,te=se.now){super(Ee,te),this.actions=[],this._active=!1}flush(Ee){const{actions:te}=this;if(this._active)return void te.push(Ee);let Le;this._active=!0;do{if(Le=Ee.execute(Ee.state,Ee.delay))break}while(Ee=te.shift());if(this._active=!1,Le){for(;Ee=te.shift();)Ee.unsubscribe();throw Le}}}},321:(zt,$e,K)=>{K.d($e,{z:()=>B});var d=K(954);const B=new(K(631).v)(d.o)},552:(zt,$e,K)=>{K.d($e,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},599:(zt,$e,K)=>{K.d($e,{z:()=>d});const d={setTimeout(se,B,...ge){const{delegate:Ee}=d;return Ee?.setTimeout?Ee.setTimeout(se,B,...ge):setTimeout(se,B,...ge)},clearTimeout(se){const{delegate:B}=d;return(B?.clearTimeout||clearTimeout)(se)},delegate:void 0}},850:(zt,$e,K)=>{K.d($e,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},39:(zt,$e,K)=>{function d(se,B){if(se){const ge=se.indexOf(B);0<=ge&&se.splice(ge,1)}}K.d($e,{P:()=>d})},306:(zt,$e,K)=>{function d(se){const ge=se(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}K.d($e,{d:()=>d})},441:(zt,$e,K)=>{K.d($e,{O:()=>ge,x:()=>B});var d=K(653);let se=null;function B(Ee){if(d.config.useDeprecatedSynchronousErrorHandling){const te=!se;if(te&&(se={errorThrown:!1,error:null}),Ee(),te){const{errorThrown:Le,error:Ue}=se;if(se=null,Le)throw Ue}}else Ee()}function ge(Ee){d.config.useDeprecatedSynchronousErrorHandling&&se&&(se.errorThrown=!0,se.error=Ee)}},103:(zt,$e,K)=>{function d(se,B,ge,Ee=0,te=!1){const Le=B.schedule(function(){ge(),te?se.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(se.add(Le),!te)return Le}K.d($e,{f:()=>d})},737:(zt,$e,K)=>{function d(se){return se}K.d($e,{y:()=>d})},674:(zt,$e,K)=>{function d(se){return"function"==typeof se}K.d($e,{m:()=>d})},360:(zt,$e,K)=>{K.d($e,{A:()=>se,e:()=>B});var d=K(674);function se(ge){return(0,d.m)(ge?.lift)}function B(ge){return Ee=>{if(se(Ee))return Ee.lift(function(te){try{return ge(te,this)}catch(Le){this.error(Le)}});throw new TypeError("Unable to lift unknown Observable type")}}},420:(zt,$e,K)=>{function d(){}K.d($e,{Z:()=>d})},407:(zt,$e,K)=>{K.d($e,{U:()=>B,z:()=>se});var d=K(737);function se(...ge){return B(ge)}function B(ge){return 0===ge.length?d.y:1===ge.length?ge[0]:function(te){return ge.reduce((Le,Ue)=>Ue(Le),te)}}},894:(zt,$e,K)=>{K.d($e,{h:()=>B});var d=K(653),se=K(599);function B(ge){se.z.setTimeout(()=>{const{onUnhandledError:Ee}=d.config;if(!Ee)throw ge;Ee(ge)})}},212:(zt,$e,K)=>{K.d($e,{QbO:()=>lp,tb:()=>kI,AFp:()=>Ke,ip1:()=>AI,hGG:()=>PI,z2F:()=>vh,Ojb:()=>vf,sBO:()=>iS,Sil:()=>bI,EJc:()=>Ll,Xts:()=>hc,SBq:()=>Ap,lqb:()=>ni,qLn:()=>pl,vpe:()=>vl,XFs:()=>Ot,OlP:()=>Jt,zs3:()=>hs,ZZ4:()=>z_,aQg:()=>Rb,soG:()=>Ew,YKP:()=>X0,h0i:()=>Qd,R0b:()=>Ji,FiY:()=>Vs,Lbi:()=>Kr,g9A:()=>ii,n_E:()=>Ig,Qsj:()=>V_,FYo:()=>AD,JOm:()=>ab,q3G:()=>Lo,tp0:()=>cc,Rgc:()=>Ol,dDg:()=>Fl,eoX:()=>SI,q4F:()=>qO,GfV:()=>Ck,s_b:()=>Ev,ifc:()=>sa,T8G:()=>lv,VuI:()=>mM,MMx:()=>HA,Lck:()=>VC,eFA:()=>dy,Gpc:()=>Ua,f3M:()=>rn,X6Q:()=>sP,$WT:()=>qa,MR2:()=>fc,Cb_:()=>jw,_c5:()=>LV,qFp:()=>Go,r_H:()=>fo,rg0:()=>Yx,c2e:()=>Ik,zSh:()=>Sr,wAp:()=>Jf,I6F:()=>sy,vHH:()=>je,lri:()=>ui,rWj:()=>Hr,JZr:()=>_i,EiD:()=>Z1,mCW:()=>xb,qzn:()=>Fo,JVY:()=>Y2,pB0:()=>gD,eBb:()=>X2,L6k:()=>Q2,LAX:()=>pD,cg1:()=>aC,kuF:()=>br,kL8:()=>oA,dqk:()=>Zt,Z0I:()=>Gl,eJc:()=>g,QGY:()=>Rl,F4k:()=>yC,RDi:()=>Se,AaK:()=>Xn,z3N:()=>fl,qOj:()=>Yu,Xq5:()=>Vr,TTD:()=>zc,_Bn:()=>Qv,jDz:()=>eo,xp6:()=>Ub,uIk:()=>IE,Tol:()=>Wp,ekj:()=>kE,um2:()=>_0,Suo:()=>rI,Xpm:()=>id,lG2:()=>a_,Yz7:()=>En,cJS:()=>kc,oAB:()=>qi,Yjl:()=>Lc,Y36:()=>Af,_UZ:()=>I0,qZA:()=>kv,TgZ:()=>fn,EpF:()=>Nv,n5z:()=>Nd,Ikx:()=>M0,LFG:()=>ai,$8M:()=>ss,$Z:()=>HD,NdJ:()=>bC,CRH:()=>ak,kcU:()=>Nu,O4$:()=>qm,oxw:()=>EC,ALo:()=>ek,lcZ:()=>nk,xi3:()=>sw,Hsn:()=>RA,F$t:()=>CC,Q6J:()=>qp,s9C:()=>U0,iGM:()=>cw,MAs:()=>FA,KtG:()=>Su,Jf7:()=>up,CHM:()=>Yc,LSH:()=>ED,P3R:()=>K1,Udp:()=>zd,YNc:()=>eg,W1O:()=>uk,_uU:()=>MC,Oqu:()=>RC,hij:()=>Wv,lnq:()=>fh,Gf:()=>sk});let se=null,ge=1;function te(o){const a=se;return se=o,a}function Xe(o){if((!et(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==ge)){if(!o.producerMustRecompute(o)&&!Ct(o))return o.dirty=!1,void(o.lastCleanEpoch=ge);o.producerRecomputeValue(o),o.dirty=!1,o.lastCleanEpoch=ge}}function Ct(o){Mt(o);for(let a=0;a<o.producerNode.length;a++){const c=o.producerNode[a],u=o.producerLastReadVersion[a];if(u!==c.version||(Xe(c),u!==c.version))return!0}return!1}function Pe(o,a){if(function qe(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),Mt(o),1===o.liveConsumerNode.length)for(let u=0;u<o.producerNode.length;u++)Pe(o.producerNode[u],o.producerIndexOfThis[u]);const c=o.liveConsumerNode.length-1;if(o.liveConsumerNode[a]=o.liveConsumerNode[c],o.liveConsumerIndexOfThis[a]=o.liveConsumerIndexOfThis[c],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,a<o.liveConsumerNode.length){const u=o.liveConsumerIndexOfThis[a],h=o.liveConsumerNode[a];Mt(h),h.producerIndexOfThis[u]=a}}function et(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function Mt(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let Un=null;var Qn=K(645),Sn=K(394),Or=K(619),Fn=K(398);function Bt(o){for(let a in o)if(o[a]===Bt)return a;throw Error("Could not find renamed property on target object.")}function vr(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function Xn(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Xn).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function no(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const yr=Bt({__forward_ref__:Bt});function Ua(o){return o.__forward_ref__=Ua,o.toString=function(){return Xn(this())},o}function at(o){return Nt(o)?o():o}function Nt(o){return"function"==typeof o&&o.hasOwnProperty(yr)&&o.__forward_ref__===Ua}function $t(o){return o&&!!o.\u0275providers}const _i="https://g.co/ng/security#xss";class je extends Error{constructor(a,c){super(br(a,c)),this.code=a}}function br(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}const jn=Bt({\u0275cmp:Bt}),Yo=Bt({\u0275dir:Bt}),cn=Bt({\u0275pipe:Bt}),na=Bt({\u0275mod:Bt}),Qt=Bt({\u0275fac:Bt}),io=Bt({__NG_ELEMENT_ID__:Bt}),xs=Bt({__NG_ENV_ID__:Bt});function It(o){return"string"==typeof o?o:null==o?"":String(o)}function Dt(o,a){throw new je(-201,!1)}function xt(o,a){null==o&&function lt(o,a,c,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${c} ${u} ${a} <=Actual]`))}(a,o,null,"!=")}function En(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function kc(o){return{providers:o.providers||[],imports:o.imports||[]}}function ia(o){return Mc(o,ql)||Mc(o,lu)}function Gl(o){return null!==ia(o)}function Mc(o,a){return o.hasOwnProperty(a)?o[a]:null}function cu(o){return o&&(o.hasOwnProperty(Wl)||o.hasOwnProperty(Am))?o[Wl]:null}const ql=Bt({\u0275prov:Bt}),Wl=Bt({\u0275inj:Bt}),lu=Bt({ngInjectableDef:Bt}),Am=Bt({ngInjectorDef:Bt});var Ot=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(Ot||{});let Zl;function ro(){return Zl}function Gi(o){const a=Zl;return Zl=o,a}function ra(o,a,c){const u=ia(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&Ot.Optional?null:void 0!==a?a:void Dt()}const Zt=globalThis;class Jt{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=En({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Co={},ar="__NG_DI_FLAG__",Oc="ngTempTokenPath",fu=/\n/gm,$r="__source";let Es;function Qo(o){const a=Es;return Es=o,a}function Ph(o,a=Ot.Default){if(void 0===Es)throw new je(-203,!1);return null===Es?ra(o,void 0,a):Es.get(o,a&Ot.Optional?null:void 0,a)}function ai(o,a=Ot.Default){return(ro()||Ph)(at(o),a)}function rn(o,a=Ot.Default){return ai(o,Xo(a))}function Xo(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Yl(o){const a=[];for(let c=0;c<o.length;c++){const u=at(o[c]);if(Array.isArray(u)){if(0===u.length)throw new je(900,!1);let h,m=Ot.Default;for(let v=0;v<u.length;v++){const w=u[v],C=$a(w);"number"==typeof C?-1===C?h=w.token:m|=C:h=w}a.push(ai(h,m))}else a.push(ai(u))}return a}function Cs(o,a){return o[ar]=a,o.prototype[ar]=a,o}function $a(o){return o[ar]}function Io(o){return{toString:o}.toString()}var cr=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(cr||{}),sa=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(sa||{});const oo={},yn=[];function aa(o,a,c){let u=o.length;for(;;){const h=o.indexOf(a,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=a.length;if(h+m===u||o.charCodeAt(h+m)<=32)return h}c=h+1}}function Xl(o,a,c){let u=0;for(;u<c.length;){const h=c[u];if("number"==typeof h){if(0!==h)break;u++;const m=c[u++],v=c[u++],w=c[u++];o.setAttribute(a,v,w,m)}else{const m=h,v=c[++u];Nm(m)?o.setProperty(a,m,v):o.setAttribute(a,m,v),u++}}return u}function Jl(o){return 3===o||4===o||6===o}function Nm(o){return 64===o.charCodeAt(0)}function To(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let u=0;u<a.length;u++){const h=a[u];"number"==typeof h?c=h:0===c||ed(o,c,h,null,-1===c||2===c?a[++u]:null)}}return o}function ed(o,a,c,u,h){let m=0,v=o.length;if(-1===a)v=-1;else for(;m<o.length;){const w=o[m++];if("number"==typeof w){if(w===a){v=-1;break}if(w>a){v=m-1;break}}}for(;m<o.length;){const w=o[m];if("number"==typeof w)break;if(w===c){if(null===u)return void(null!==h&&(o[m+1]=h));if(u===o[m+1])return void(o[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==v&&(o.splice(v,0,a),m=v+1),o.splice(m++,0,c),null!==u&&o.splice(m++,0,u),null!==h&&o.splice(m++,0,h)}const ca="ng-template";function Fh(o,a,c){let u=0,h=!0;for(;u<o.length;){let m=o[u++];if("string"==typeof m&&h){const v=o[u++];if(c&&"class"===m&&-1!==aa(v.toLowerCase(),a,0))return!0}else{if(1===m){for(;u<o.length&&"string"==typeof(m=o[u++]);)if(m.toLowerCase()===a)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function Om(o){return 4===o.type&&o.value!==ca}function la(o,a,c){return a===(4!==o.type||c?o.value:ca)}function td(o,a,c){let u=4;const h=o.attrs||[],m=function pu(o){for(let a=0;a<o.length;a++)if(Jl(o[a]))return a;return o.length}(h);let v=!1;for(let w=0;w<a.length;w++){const C=a[w];if("number"!=typeof C){if(!v)if(4&u){if(u=2|1&u,""!==C&&!la(o,C,c)||""===C&&1===a.length){if(so(u))return!1;v=!0}}else{const S=8&u?C:a[++w];if(8&u&&null!==o.attrs){if(!Fh(o.attrs,S,c)){if(so(u))return!1;v=!0}continue}const P=Jo(8&u?"class":C,h,Om(o),c);if(-1===P){if(so(u))return!1;v=!0;continue}if(""!==S){let z;z=P>m?"":h[P+1].toLowerCase();const Z=8&u?z:null;if(Z&&-1!==aa(Z,S,0)||2&u&&S!==z){if(so(u))return!1;v=!0}}}}else{if(!v&&!so(u)&&!so(C))return!1;if(v&&so(C))continue;v=!1,u=C|1&u}}return so(u)||v}function so(o){return 0==(1&o)}function Jo(o,a,c,u){if(null===a)return-1;let h=0;if(u||!c){let m=!1;for(;h<a.length;){const v=a[h];if(v===o)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function Lh(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const u=o[c];if("number"==typeof u)return-1;if(u===a)return c;c++}return-1}(a,o)}function Ga(o,a,c=!1){for(let u=0;u<a.length;u++)if(td(o,a[u],c))return!0;return!1}function Pm(o,a){e:for(let c=0;c<a.length;c++){const u=a[c];if(o.length===u.length){for(let h=0;h<o.length;h++)if(o[h]!==u[h])continue e;return!0}}return!1}function Vh(o,a){return o?":not("+a.trim()+")":a}function nd(o){let a=o[0],c=1,u=2,h="",m=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&u){const w=o[++c];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!so(v)&&(a+=Vh(m,h),h=""),u=v,m=m||!so(u);c++}return""!==h&&(a+=Vh(m,h)),a}function id(o){return Io(()=>{const a=_u(o),c={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===cr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||sa.Emulated,styles:o.styles||yn,_:null,schemas:o.schemas||null,tView:null,id:""};sd(c);const u=o.dependencies;return c.directiveDefs=Wa(u,!1),c.pipeDefs=Wa(u,!0),c.id=function Fm(o){let a=0;const c=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of c)a=Math.imul(31,a)+h.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function gu(o){return Gt(o)||Oi(o)}function rd(o){return null!==o}function qi(o){return Io(()=>({type:o.type,bootstrap:o.bootstrap||yn,declarations:o.declarations||yn,imports:o.imports||yn,exports:o.exports||yn,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function od(o,a){if(null==o)return oo;const c={};for(const u in o)if(o.hasOwnProperty(u)){let h=o[u],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),c[h]=u,a&&(a[h]=m)}return c}function a_(o){return Io(()=>{const a=_u(o);return sd(a),a})}function Lc(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Gt(o){return o[jn]||null}function Oi(o){return o[Yo]||null}function Di(o){return o[cn]||null}function qa(o){const a=Gt(o)||Oi(o)||Di(o);return null!==a&&a.standalone}function Wi(o,a){const c=o[na]||null;if(!c&&!0===a)throw new Error(`Type ${Xn(o)} does not have '\u0275mod' property.`);return c}function _u(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||oo,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||yn,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:od(o.inputs,a),outputs:od(o.outputs),debugInfo:null}}function sd(o){o.features?.forEach(a=>a(o))}function Wa(o,a){if(!o)return null;const c=a?Di:gu;return()=>("function"==typeof o?o():o).map(u=>c(u)).filter(rd)}const Jn=0,Be=1,ft=2,Hn=3,qr=4,Pi=5,ao=6,Si=7,Tt=8,Pr=9,Do=10,Pt=11,Vc=12,Za=13,Bc=14,ei=15,co=16,ad=17,So=18,Uc=19,vu=20,Ka=21,cd=22,Is=23,bt=25,c_=1,Ao=7,ld=9,vi=10;var dd=function(o){return o[o.None=0]="None",o[o.HasTransplantedViews=2]="HasTransplantedViews",o}(dd||{});function wr(o){return Array.isArray(o)&&"object"==typeof o[c_]}function xr(o){return Array.isArray(o)&&!0===o[c_]}function yu(o){return 0!=(4&o.flags)}function Hc(o){return o.componentOffset>-1}function da(o){return 1==(1&o.flags)}function lr(o){return!!o.template}function bu(o){return 0!=(512&o[ft])}function Qa(o,a){return o.hasOwnProperty(Qt)?o[Qt]:null}class Ts{constructor(a,c,u){this.previousValue=a,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function zc(){return $h}function $h(o){return o.type.prototype.ngOnChanges&&(o.setInput=hd),Cu}function Cu(){const o=$c(this),a=o?.current;if(a){const c=o.previous;if(c===oo)o.previous=a;else for(let u in a)c[u]=a[u];o.current=null,this.ngOnChanges(a)}}function hd(o,a,c,u){const h=this.declaredInputs[c],m=$c(o)||function jm(o,a){return o[Ds]=a}(o,{previous:oo,current:null}),v=m.current||(m.current={}),w=m.previous,C=w[h];v[h]=new Ts(C&&C.currentValue,a,w===oo),o[u]=a}zc.ngInherit=!0;const Ds="__ngSimpleChanges__";function $c(o){return o[Ds]||null}const Ss=function(o,a,c){},Gh="svg";let Xa=!1;function kn(o){for(;Array.isArray(o);)o=o[Jn];return o}function ha(o,a){return kn(a[o])}function zn(o,a){return kn(a[o.index])}function qc(o,a){return o.data[a]}function es(o,a){return o[a]}function Wr(o,a){const c=a[o];return wr(c)?c:c[Jn]}function pd(o){return 128==(128&o[ft])}function Zr(o,a){return null==a?null:o[a]}function Wh(o){o[ad]=0}function $n(o){1024&o[ft]||(o[ft]|=1024,pd(o)&&ts(o))}function Wc(o){return 9216&o[ft]||o[Is]?.dirty}function Tu(o){Wc(o)?ts(o):64&o[ft]&&(function fd(){return Xa}()?(o[ft]|=1024,ts(o)):o[Do].changeDetectionScheduler?.notify())}function ts(o){o[Do].changeDetectionScheduler?.notify();let a=As(o);for(;null!==a&&!(8192&a[ft])&&(a[ft]|=8192,pd(a));)a=As(a)}function Zc(o,a){if(256==(256&o[ft]))throw new je(911,!1);null===o[Ka]&&(o[Ka]=[]),o[Ka].push(a)}function As(o){const a=o[Hn];return xr(a)?a[Hn]:a}const Et={lFrame:xd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _d(){return Et.bindingsEnabled}function ns(){return null!==Et.skipHydrationRootTNode}function pe(){return Et.lFrame.lView}function un(){return Et.lFrame.tView}function Yc(o){return Et.lFrame.contextLView=o,o[Tt]}function Su(o){return Et.lFrame.contextLView=null,o}function Mn(){let o=Qh();for(;null!==o&&64===o.type;)o=o.parent;return o}function Qh(){return Et.lFrame.currentTNode}function Mo(o,a){const c=Et.lFrame;c.currentTNode=o,c.isParent=a}function Qc(){return Et.lFrame.isParent}function ku(){Et.lFrame.isParent=!1}function Zi(){const o=Et.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function ks(){return Et.lFrame.bindingIndex++}function ga(o){const a=Et.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Gm(o,a){const c=Et.lFrame;c.bindingIndex=c.bindingRootIndex=o,yi(a)}function yi(o){Et.lFrame.currentDirectiveIndex=o}function Ms(){return Et.lFrame.currentQueryIndex}function Xc(o){Et.lFrame.currentQueryIndex=o}function Mu(o){const a=o[Be];return 2===a.type?a.declTNode:1===a.type?o[Pi]:null}function wd(o,a,c){if(c&Ot.SkipSelf){let h=a,m=o;for(;!(h=h.parent,null!==h||c&Ot.Host||(h=Mu(m),null===h||(m=m[Bc],10&h.type))););if(null===h)return!1;a=h,o=m}const u=Et.lFrame=_a();return u.currentTNode=a,u.lView=o,!0}function Ja(o){const a=_a(),c=o[Be];Et.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function _a(){const o=Et.lFrame,a=null===o?null:o.child;return null===a?xd(o):a}function xd(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Ru(){const o=Et.lFrame;return Et.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Ed=Ru;function va(){const o=Ru();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function bi(){return Et.lFrame.selectedIndex}function ya(o){Et.lFrame.selectedIndex=o}function en(){const o=Et.lFrame;return qc(o.tView,o.selectedIndex)}function qm(){Et.lFrame.currentNamespace=Gh}function Nu(){!function ef(){Et.lFrame.currentNamespace=null}()}let Jc=!0;function Ou(){return Jc}function Fr(o){Jc=o}function ba(o,a){for(let c=a.directiveStart,u=a.directiveEnd;c<u;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:R}=m;v&&(o.contentHooks??=[]).push(-c,v),w&&((o.contentHooks??=[]).push(c,w),(o.contentCheckHooks??=[]).push(c,w)),C&&(o.viewHooks??=[]).push(-c,C),S&&((o.viewHooks??=[]).push(c,S),(o.viewCheckHooks??=[]).push(c,S)),null!=R&&(o.destroyHooks??=[]).push(c,R)}}function Cd(o,a,c){Wm(o,a,3,c)}function nf(o,a,c,u){(3&o[ft])===c&&Wm(o,a,c,u)}function Er(o,a){let c=o[ft];(3&c)===a&&(c&=16383,c+=1,o[ft]=c)}function Wm(o,a,c,u){const m=u??-1,v=a.length-1;let w=0;for(let C=void 0!==u?65535&o[ad]:0;C<v;C++)if("number"==typeof a[C+1]){if(w=a[C],null!=u&&w>=u)break}else a[C]<0&&(o[ad]+=65536),(w<m||-1==m)&&(sf(o,c,a,C),o[ad]=(4294901760&o[ad])+C+2),C++}function rf(o,a){Ss(4,o,a);const c=te(null);try{a.call(o)}finally{te(c),Ss(5,o,a)}}function sf(o,a,c,u){const h=c[u]<0,m=c[u+1],w=o[h?-c[u]:c[u]];h?o[ft]>>14<o[ad]>>16&&(3&o[ft])===a&&(o[ft]+=16384,rf(w,m)):rf(w,m)}const wa=-1;class tn{constructor(a,c,u){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function af(o){return o!==wa}function Id(o){return 32767&o}function Dd(o,a){let c=function Td(o){return o>>16}(o),u=a;for(;c>0;)u=u[Bc],c--;return u}let tl=!0;function nl(o){const a=tl;return tl=o,a}const st=255,Sd=5;let cf=0;const lo={};function Gn(o,a){const c=kd(o,a);if(-1!==c)return c;const u=a[Be];u.firstCreatePass&&(o.injectorIndex=a.length,tc(u.data,o),tc(a,null),tc(u.blueprint,null));const h=rl(o,a),m=o.injectorIndex;if(af(h)){const v=Id(h),w=Dd(h,a),C=w[Be].data;for(let S=0;S<8;S++)a[m+S]=w[v+S]|C[v+S]}return a[m+8]=h,m}function tc(o,a){o.push(0,0,0,0,0,0,0,0,a)}function kd(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function rl(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,u=null,h=a;for(;null!==h;){if(u=Ro(h),null===u)return wa;if(c++,h=h[Bc],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return wa}function Md(o,a,c){!function Ad(o,a,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(io)&&(u=c[io]),null==u&&(u=c[io]=cf++);const h=u&st;a.data[o+(h>>Sd)]|=1<<h}(o,a,c)}function qn(o,a,c){if(c&Ot.Optional||void 0!==o)return o;Dt()}function Km(o,a,c,u){if(c&Ot.Optional&&void 0===u&&(u=null),!(c&(Ot.Self|Ot.Host))){const h=o[Pr],m=Gi(void 0);try{return h?h.get(a,u,c&Ot.Optional):ra(a,u,c&Ot.Optional)}finally{Gi(m)}}return qn(u,0,c)}function Ki(o,a,c,u=Ot.Default,h){if(null!==o){if(2048&a[ft]&&!(u&Ot.Self)){const v=function Wn(o,a,c,u,h){let m=o,v=a;for(;null!==m&&null!==v&&2048&v[ft]&&!(512&v[ft]);){const w=nc(m,v,c,u|Ot.Self,lo);if(w!==lo)return w;let C=m.parent;if(!C){const S=v[vu];if(S){const R=S.get(c,lo,u);if(R!==lo)return R}C=Ro(v),v=v[Bc]}m=C}return h}(o,a,c,u,lo);if(v!==lo)return v}const m=nc(o,a,c,u,lo);if(m!==lo)return m}return Km(a,c,u,h)}function nc(o,a,c,u,h){const m=function Ym(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(io)?o[io]:void 0;return"number"==typeof a?a>=0?a&st:lf:a}(c);if("function"==typeof m){if(!wd(a,o,u))return u&Ot.Host?qn(h,0,u):Km(a,c,u,h);try{let v;if(v=m(u),null!=v||u&Ot.Optional)return v;Dt()}finally{Ed()}}else if("number"==typeof m){let v=null,w=kd(o,a),C=wa,S=u&Ot.Host?a[ei][Pi]:null;for((-1===w||u&Ot.SkipSelf)&&(C=-1===w?rl(o,a):a[w+8],C!==wa&&Cr(u,!1)?(v=a[Be],w=Id(C),a=Dd(C,a)):w=-1);-1!==w;){const R=a[Be];if(os(m,w,R.data)){const P=Rd(w,a,c,v,u,S);if(P!==lo)return P}C=a[w+8],C!==wa&&Cr(u,a[Be].data[w+8]===S)&&os(m,w,a)?(v=R,w=Id(C),a=Dd(C,a)):w=-1}}return h}function Rd(o,a,c,u,h,m){const v=a[Be],w=v.data[o+8],R=ic(w,v,c,null==u?Hc(w)&&tl:u!=v&&0!=(3&w.type),h&Ot.Host&&m===w);return null!==R?rs(a,v,R,w):lo}function ic(o,a,c,u,h){const m=o.providerIndexes,v=a.data,w=1048575&m,C=o.directiveStart,R=m>>20,z=h?w+R:o.directiveEnd;for(let Z=u?w:w+R;Z<z;Z++){const ce=v[Z];if(Z<C&&c===ce||Z>=C&&ce.type===c)return Z}if(h){const Z=v[C];if(Z&&lr(Z)&&Z.type===c)return C}return null}function rs(o,a,c,u){let h=o[c];const m=a.data;if(function Fi(o){return o instanceof tn}(h)){const v=h;v.resolving&&function we(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new je(-200,`Circular dependency in DI detected for ${o}${c}`)}(function Xt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():It(o)}(m[c]));const w=nl(v.canSeeViewProviders);v.resolving=!0;const S=v.injectImpl?Gi(v.injectImpl):null;wd(o,u,Ot.Default);try{h=o[c]=v.factory(void 0,m,o,u),a.firstCreatePass&&c>=u.directiveStart&&function Pu(o,a,c){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=a.type.prototype;if(u){const v=$h(a);(c.preOrderHooks??=[]).push(o,v),(c.preOrderCheckHooks??=[]).push(o,v)}h&&(c.preOrderHooks??=[]).push(0-o,h),m&&((c.preOrderHooks??=[]).push(o,m),(c.preOrderCheckHooks??=[]).push(o,m))}(c,m[c],a)}finally{null!==S&&Gi(S),nl(w),v.resolving=!1,Ed()}}return h}function os(o,a,c){return!!(c[a+(o>>Sd)]&1<<o)}function Cr(o,a){return!(o&Ot.Self||o&Ot.Host&&a)}class Rn{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,u){return Ki(this._tNode,this._lView,a,Xo(u),c)}}function lf(){return new Rn(Mn(),pe())}function Nd(o){return Io(()=>{const a=o.prototype.constructor,c=a[Qt]||An(a),u=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==u;){const m=h[Qt]||An(h);if(m&&m!==c)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function An(o){return Nt(o)?()=>{const a=An(at(o));return a&&a()}:Qa(o)}function Ro(o){const a=o[Be],c=a.type;return 2===c?a.declTNode:1===c?o[Pi]:null}function ss(o){return function ol(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const u=c.length;let h=0;for(;h<u;){const m=c[h];if(Jl(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof c[h];)h++;else{if(m===a)return c[h+1];h+=2}}}return null}(Mn(),o)}const Rs="__parameters__";function ho(o,a,c){return Io(()=>{const u=function uo(o){return function(...c){if(o){const u=o(...c);for(const h in u)this[h]=u[h]}}}(a);function h(...m){if(this instanceof h)return u.apply(this,m),this;const v=new h(...m);return w.annotation=v,w;function w(C,S,R){const P=C.hasOwnProperty(Rs)?C[Rs]:Object.defineProperty(C,Rs,{value:[]})[Rs];for(;P.length<=R;)P.push(null);return(P[R]=P[R]||[]).push(v),C}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}function Tr(o,a){o.forEach(c=>Array.isArray(c)?Tr(c,a):a(c))}function Ps(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function Od(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Dr(o,a,c){let u=sc(o,a);return u>=0?o[1|u]=c:(u=~u,function ff(o,a,c,u){let h=o.length;if(h==a)o.push(c,u);else if(1===h)o.push(u,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=c,o[a+1]=u}}(o,u,a,c)),u}function Pd(o,a){const c=sc(o,a);if(c>=0)return o[1|c]}function sc(o,a){return function Po(o,a,c){let u=0,h=o.length>>c;for(;h!==u;){const m=u+(h-u>>1),v=o[m<<c];if(a===v)return m<<c;v>a?h=m:u=m+1}return~(h<<c)}(o,a,1)}const Vs=Cs(ho("Optional"),8),cc=Cs(ho("SkipSelf"),4),hc=new Jt("ENVIRONMENT_INITIALIZER"),Vu=new Jt("INJECTOR",-1),gf=new Jt("INJECTOR_DEF_TYPES");class ds{get(a,c=Co){if(c===Co){const u=new Error(`NullInjectorError: No provider for ${Xn(a)}!`);throw u.name="NullInjectorError",u}return c}}function fc(o){return{\u0275providers:o}}function E(...o){return{\u0275providers:T(0,o),\u0275fromNgModule:!0}}function T(o,...a){const c=[],u=new Set;let h;const m=v=>{c.push(v)};return Tr(a,v=>{const w=v;O(w,m,[],u)&&(h||=[],h.push(w))}),void 0!==h&&k(h,m),c}function k(o,a){for(let c=0;c<o.length;c++){const{ngModule:u,providers:h}=o[c];W(h,m=>{a(m,u)})}}function O(o,a,c,u){if(!(o=at(o)))return!1;let h=null,m=cu(o);const v=!m&&Gt(o);if(m||v){if(v&&!v.standalone)return!1;h=o}else{const C=o.ngModule;if(m=cu(C),!m)return!1;h=C}const w=u.has(h);if(v){if(w)return!1;if(u.add(h),v.dependencies){const C="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of C)O(S,a,c,u)}}else{if(!m)return!1;{if(null!=m.imports&&!w){let S;u.add(h);try{Tr(m.imports,R=>{O(R,a,c,u)&&(S||=[],S.push(R))})}finally{}void 0!==S&&k(S,a)}if(!w){const S=Qa(h)||(()=>new h);a({provide:h,useFactory:S,deps:yn},h),a({provide:gf,useValue:h,multi:!0},h),a({provide:hc,useValue:()=>ai(h),multi:!0},h)}const C=m.providers;if(null!=C&&!w){const S=o;W(C,R=>{a(R,S)})}}}return h!==o&&void 0!==o.providers}function W(o,a){for(let c of o)$t(c)&&(c=c.\u0275providers),Array.isArray(c)?W(c,a):a(c)}const ie=Bt({provide:String,useValue:Bt});function Me(o){return null!==o&&"object"==typeof o&&ie in o}function wt(o){return"function"==typeof o}const Sr=new Jt("Set Injector scope."),sn={},Ia={};let Ta;function Da(){return void 0===Ta&&(Ta=new ds),Ta}class ni{}class dr extends ni{get destroyed(){return this._destroyed}constructor(a,c,u,h){super(),this.parent=c,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rp(a,v=>this.processProvider(v)),this.records.set(Vu,us(void 0,this)),h.has("environment")&&this.records.set(ni,us(void 0,this));const m=this.records.get(Sr);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(gf,yn,Ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=Qo(this),u=Gi(void 0);try{return a()}finally{Qo(c),Gi(u)}}get(a,c=Co,u=Ot.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(xs))return a[xs](this);u=Xo(u);const m=Qo(this),v=Gi(void 0);try{if(!(u&Ot.SkipSelf)){let C=this.records.get(a);if(void 0===C){const S=function eb(o){return"function"==typeof o||"object"==typeof o&&o instanceof Jt}(a)&&ia(a);C=S&&this.injectableDefInScope(S)?us(Sa(a),sn):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(u&Ot.Self?Da():this.parent).get(a,c=u&Ot.Optional&&c===Co?null:c)}catch(w){if("NullInjectorError"===w.name){if((w[Oc]=w[Oc]||[]).unshift(Xn(a)),m)throw w;return function Gr(o,a,c,u){const h=o[Oc];throw a[$r]&&h.unshift(a[$r]),o.message=function Ql(o,a,c,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=Xn(a);if(Array.isArray(a))h=a.map(Xn).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let w=a[v];m.push(v+":"+("string"==typeof w?JSON.stringify(w):Xn(w)))}h=`{${m.join(", ")}}`}return`${c}${u?"("+u+")":""}[${h}]: ${o.replace(fu,"\n  ")}`}("\n"+o.message,h,c,u),o.ngTokenPath=h,o[Oc]=null,o}(w,a,"R3InjectorError",this.source)}throw w}finally{Gi(v),Qo(m)}}resolveInjectorInitializers(){const a=Qo(this),c=Gi(void 0);try{const h=this.get(hc,yn,Ot.Self);for(const m of h)m()}finally{Qo(a),Gi(c)}}toString(){const a=[],c=this.records;for(const u of c.keys())a.push(Xn(u));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new je(205,!1)}processProvider(a){let c=wt(a=at(a))?a:at(a&&a.provide);const u=function np(o){return Me(o)?us(void 0,o.useValue):us(ur(o),sn)}(a);if(!wt(a)&&!0===a.multi){let h=this.records.get(c);h||(h=us(void 0,sn,!0),h.factory=()=>Yl(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,u)}hydrate(a,c){return c.value===sn&&(c.value=Ia,c.value=c.factory()),"object"==typeof c.value&&c.value&&function ip(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=at(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function Sa(o){const a=ia(o),c=null!==a?a.factory:Qa(o);if(null!==c)return c;if(o instanceof Jt)throw new je(204,!1);if(o instanceof Function)return function js(o){if(o.length>0)throw new je(204,!1);const c=function au(o){return o&&(o[ql]||o[lu])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new je(204,!1)}function ur(o,a,c){let u;if(wt(o)){const h=at(o);return Qa(h)||Sa(h)}if(Me(o))u=()=>at(o.useValue);else if(function it(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...Yl(o.deps||[]));else if(function Re(o){return!(!o||!o.useExisting)}(o))u=()=>ai(at(o.useExisting));else{const h=at(o&&(o.useClass||o.provide));if(!function Bu(o){return!!o.deps}(o))return Qa(h)||Sa(h);u=()=>new h(...Yl(o.deps))}return u}function us(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function rp(o,a){for(const c of o)Array.isArray(c)?rp(c,a):c&&$t(c)?rp(c.\u0275providers,a):a(c)}function fo(o,a){o instanceof dr&&o.assertNotDestroyed();const u=Qo(o),h=Gi(void 0);try{return a()}finally{Qo(u),Gi(h)}}function ap(o,a=null,c=null,u){const h=Ex(o,a,c,u);return h.resolveInjectorInitializers(),h}function Ex(o,a=null,c=null,u,h=new Set){const m=[c||yn,E(o)];return u=u||("object"==typeof o?void 0:Xn(o)),new dr(m,a||Da(),u||null,h)}let ee,hs=(()=>{class o{static#e=this.THROW_IF_NOT_FOUND=Co;static#t=this.NULL=new ds;static create(c,u){if(Array.isArray(c))return ap({name:""},u,c,"");{const h=c.name??"";return ap({name:h},c.parent,c.providers,h)}}static#n=this.\u0275prov=En({token:o,providedIn:"any",factory:()=>ai(Vu)});static#i=this.__NG_ELEMENT_ID__=-1}return o})();function g(o){return!!Wi(o)}function Se(o){ee=o}const Ke=new Jt("AppId",{providedIn:"root",factory:()=>Je}),Je="ng",ii=new Jt("Platform Initializer"),Kr=new Jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lp=new Jt("AnimationModuleType"),vf=new Jt("CSP nonce",{providedIn:"root",factory:()=>function Ae(){if(void 0!==ee)return ee;if(typeof document<"u")return document;throw new je(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function up(o){return o.ownerDocument.defaultView}function hr(o){return o instanceof Function?o():o}function ob(o){return 128==(128&o.flags)}var ab=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(ab||{});const Dx=new Map;let QT=0;const Ax="__ngContext__";function mo(o,a){wr(a)?(o[Ax]=a[Uc],function vp(o){Dx.set(o[Uc],o)}(a)):o[Ax]=a}let Nx;function k_(o,a){return Nx(o,a)}function Ef(o,a,c,u,h){if(null!=u){let m,v=!1;xr(u)?m=u:wr(u)&&(v=!0,u=u[Jn]);const w=kn(u);0===o&&null!==c?null==h?Fx(a,c,w):Cf(a,c,w,h||null,!0):1===o&&null!==c?Cf(a,c,w,h||null,!0):2===o?function N_(o,a,c){const u=bp(o,a);u&&function R1(o,a,c,u){o.removeChild(a,c,u)}(o,u,a,c)}(a,w,v):3===o&&a.destroyNode(w),null!=m&&function N1(o,a,c,u,h){const m=c[Ao];m!==kn(c)&&Ef(a,o,u,m,h);for(let w=vi;w<c.length;w++){const C=c[w];_b(C[Be],C,o,a,u,m)}}(a,o,m,c,h)}}function ub(o,a,c){return o.createElement(a,c)}function iD(o,a){a[Do].changeDetectionScheduler?.notify(),_b(o,a,a[Pt],2,null,null)}function rD(o,a){const c=o[ld],u=c.indexOf(a);c.splice(u,1)}function M_(o,a){if(o.length<=vi)return;const c=vi+a,u=o[c];if(u){const h=u[co];null!==h&&h!==o&&rD(h,u),a>0&&(o[c-1][qr]=u[qr]);const m=Od(o,vi+a);!function hb(o,a){iD(o,a),a[Jn]=null,a[Pi]=null}(u[Be],u);const v=m[So];null!==v&&v.detachView(m[Be]),u[Hn]=null,u[qr]=null,u[ft]&=-129}return u}function fb(o,a){if(!(256&a[ft])){const c=a[Pt];c.destroyNode&&_b(o,a,c,3,null,null),function S1(o){let a=o[Vc];if(!a)return mb(o[Be],o);for(;a;){let c=null;if(wr(a))c=a[Vc];else{const u=a[vi];u&&(c=u)}if(!c){for(;a&&!a[qr]&&a!==o;)wr(a)&&mb(a[Be],a),a=a[Hn];null===a&&(a=o),wr(a)&&mb(a[Be],a),c=a&&a[qr]}a=c}}(a)}}function mb(o,a){if(!(256&a[ft])){a[ft]&=-129,a[ft]|=256,a[Is]&&function kt(o){if(Mt(o),et(o))for(let a=0;a<o.producerNode.length;a++)Pe(o.producerNode[a],o.producerIndexOfThis[a]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}(a[Is]),function M1(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let u=0;u<c.length;u+=2){const h=a[c[u]];if(!(h instanceof tn)){const m=c[u+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const w=h[m[v]],C=m[v+1];Ss(4,w,C);try{C.call(w)}finally{Ss(5,w,C)}}else{Ss(4,h,m);try{m.call(h)}finally{Ss(5,h,m)}}}}}(o,a),function q2(o,a){const c=o.cleanup,u=a[Si];if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+3];v>=0?u[v]():u[-v].unsubscribe(),m+=2}else c[m].call(u[c[m+1]]);null!==u&&(a[Si]=null);const h=a[Ka];if(null!==h){a[Ka]=null;for(let m=0;m<h.length;m++)(0,h[m])()}}(o,a),1===a[Be].type&&a[Pt].destroy();const c=a[co];if(null!==c&&xr(a[Hn])){c!==a[Hn]&&rD(c,a);const u=a[So];null!==u&&u.detachView(o)}!function w1(o){Dx.delete(o[Uc])}(a)}}function Px(o,a,c){return function oD(o,a,c){let u=a;for(;null!==u&&40&u.type;)u=(a=u).parent;if(null===u)return c[Jn];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:m}=o.data[u.directiveStart+h];if(m===sa.None||m===sa.Emulated)return null}return zn(u,c)}}(o,a.parent,c)}function Cf(o,a,c,u,h){o.insertBefore(a,c,u,h)}function Fx(o,a,c){o.appendChild(a,c)}function sD(o,a,c,u,h){null!==u?Cf(o,a,c,u,h):Fx(o,a,c)}function bp(o,a){return o.parentNode(a)}function cD(o,a,c){return Tf(o,a,c)}let R_,ju,bb,Tf=function If(o,a,c){return 40&o.type?zn(o,c):null};function pb(o,a,c,u){const h=Px(o,u,a),m=a[Pt],w=cD(u.parent||a[Pi],u,a);if(null!=h)if(Array.isArray(c))for(let C=0;C<c.length;C++)sD(m,h,c[C],w,!1);else sD(m,h,c,w,!1);void 0!==R_&&R_(m,u,a,c,h)}function wp(o,a){if(null!==a){const c=a.type;if(3&c)return zn(a,o);if(4&c)return Lx(-1,o[a.index]);if(8&c){const u=a.child;if(null!==u)return wp(o,u);{const h=o[a.index];return xr(h)?Lx(-1,h):kn(h)}}if(32&c)return k_(a,o)()||kn(o[a.index]);{const u=gb(o,a);return null!==u?Array.isArray(u)?u[0]:wp(As(o[ei]),u):wp(o,a.next)}}return null}function gb(o,a){return null!==a?o[ei][Pi].projection[a.projection]:null}function Lx(o,a){const c=vi+o+1;if(c<a.length){const u=a[c],h=u[Be].firstChild;if(null!==h)return wp(u,h)}return a[Ao]}function Bx(o,a,c,u,h,m,v){for(;null!=c;){const w=u[c.index],C=c.type;if(v&&0===a&&(w&&mo(kn(w),u),c.flags|=2),32!=(32&c.flags))if(8&C)Bx(o,a,c.child,u,h,m,!1),Ef(a,o,h,w,m);else if(32&C){const S=k_(c,u);let R;for(;R=S();)Ef(a,o,h,R,m);Ef(a,o,h,w,m)}else 16&C?dD(o,a,u,c,h,m):Ef(a,o,h,w,m);c=v?c.projectionNext:c.next}}function _b(o,a,c,u,h,m){Bx(c,u,o.firstChild,a,h,m,!1)}function dD(o,a,c,u,h,m){const v=c[ei],C=v[Pi].projection[u.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)Ef(a,o,h,C[S],m);else{let S=C;const R=v[Hn];ob(u)&&(S.flags|=128),Bx(o,a,S,R,h,m,!0)}}function Ux(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function uD(o,a,c){const{mergedAttrs:u,classes:h,styles:m}=c;null!==u&&Xl(o,a,u),null!==h&&Ux(o,a,h),null!==m&&function P1(o,a,c){o.setAttribute(a,"style",c)}(o,a,m)}function xp(o){return function yb(){if(void 0===ju&&(ju=null,Zt.trustedTypes))try{ju=Zt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return ju}()?.createHTML(o)||o}function jx(o){return function Ld(){if(void 0===bb&&(bb=null,Zt.trustedTypes))try{bb=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return bb}()?.createScriptURL(o)||o}class Ep{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_i})`}}class Z2 extends Ep{getTypeName(){return"HTML"}}class B1 extends Ep{getTypeName(){return"Style"}}class Hx extends Ep{getTypeName(){return"Script"}}class mD extends Ep{getTypeName(){return"URL"}}class K2 extends Ep{getTypeName(){return"ResourceURL"}}function fl(o){return o instanceof Ep?o.changingThisBreaksApplicationSecurity:o}function Fo(o,a){const c=function U1(o){return o instanceof Ep&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${_i})`)}return c===a}function Y2(o){return new Z2(o)}function Q2(o){return new B1(o)}function X2(o){return new Hx(o)}function pD(o){return new mD(o)}function gD(o){return new K2(o)}class j1{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(xp(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class H1{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=xp(a),c}}const _D=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xb(o){return(o=String(o)).match(_D)?o:"unsafe:"+o}function Hu(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Eb(...o){const a={};for(const c of o)for(const u in c)c.hasOwnProperty(u)&&(a[u]=!0);return a}const z1=Hu("area,br,col,hr,img,wbr"),vD=Hu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yD=Hu("rp,rt"),Cb=Eb(z1,Eb(vD,Hu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Eb(yD,Hu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Eb(yD,vD)),zx=Hu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bD=Eb(zx,Hu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),G1=Hu("script,style,template");class wD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,u=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!Cb.hasOwnProperty(c))return this.sanitizedSomething=!0,!G1.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=a.attributes;for(let h=0;h<u.length;h++){const m=u.item(h),v=m.name,w=v.toLowerCase();if(!bD.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let C=m.value;zx[w]&&(C=xb(C)),this.buf.push(" ",v,'="',W1(C),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();Cb.hasOwnProperty(c)&&!z1.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(W1(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const q1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iV=/([^\#-~ |!])/g;function W1(o){return o.replace(/&/g,"&amp;").replace(q1,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(iV,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $x;function Z1(o,a){let c=null;try{$x=$x||function wb(o){const a=new H1(o);return function J2(){try{return!!(new window.DOMParser).parseFromString(xp(""),"text/html")}catch{return!1}}()?new j1(a):a}(o);let u=a?String(a):"";c=$x.getInertBodyElement(u);let h=5,m=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=m,m=c.innerHTML,c=$x.getInertBodyElement(u)}while(u!==m);return xp((new wD).sanitizeChildren(xD(c)||c))}finally{if(c){const u=xD(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function xD(o){return"content"in o&&function rV(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Lo=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(Lo||{});function ED(o){const a=Ib();return a?a.sanitize(Lo.URL,o)||"":Fo(o,"URL")?fl(o):xb(It(o))}function CD(o){const a=Ib();if(a)return jx(a.sanitize(Lo.RESOURCE_URL,o)||"");if(Fo(o,"ResourceURL"))return jx(fl(o));throw new je(904,!1)}function K1(o,a,c){return function Qi(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?CD:ED}(a,c)(o)}function Ib(){const o=pe();return o&&o[Do].sanitizer}class Y1{}let he=()=>null;function Hs(o,a,c=!1){return he(o,a,c)}class X1{}class DD{}class $u{resolveComponentFactory(a){throw function go(o){const a=Error(`No component factory found for ${Xn(o)}.`);return a.ngComponent=o,a}(a)}}let Sb=(()=>{class o{static#e=this.NULL=new $u}return o})();function SD(){return Gu(Mn(),pe())}function Gu(o,a){return new Ap(zn(o,a))}let Ap=(()=>{class o{constructor(c){this.nativeElement=c}static#e=this.__NG_ELEMENT_ID__=SD}return o})();function _o(o){return o instanceof Ap?o.nativeElement:o}class AD{}let V_=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Ab(){const o=pe(),c=Wr(Mn().index,o);return(wr(c)?c:o)[Pt]}()}return o})(),ml=(()=>{class o{static#e=this.\u0275prov=En({token:o,providedIn:"root",factory:()=>null})}return o})();const B_={};function Yx(o){const a=te(null);try{return o()}finally{te(a)}}function kb(o){return!!j_(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function j_(o){return null!==o&&("function"==typeof o||"object"==typeof o)}class Mb{constructor(){}supports(a){return kb(a)}create(a){return new Jx(a)}}const Xx=(o,a)=>a;class Jx{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Xx}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,u=this._removalsHead,h=0,m=null;for(;c||u;){const v=!u||c&&c.currentIndex<ND(u,h,m)?c:u,w=ND(v,h,m),C=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{m||(m=[]);const S=w-h,R=C-h;if(S!=R){for(let z=0;z<S;z++){const Z=z<m.length?m[z]:m[z]=0,ce=Z+z;R<=ce&&ce<S&&(m[z]=Z+1)}m[v.previousIndex]=R-S}}w!==C&&a(v,w,C)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!kb(a))throw new je(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,m,v,c=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)m=a[w],v=this._trackByFn(w,m),null!==c&&Object.is(c.trackById,v)?(u&&(c=this._verifyReinsertion(c,m,v,w)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,w),u=!0),c=c._next}else h=0,function Qx(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Symbol.iterator]();let u;for(;!(u=c.next()).done;)a(u.value)}}(a,w=>{v=this._trackByFn(h,w),null!==c&&Object.is(c.trackById,v)?(u&&(c=this._verifyReinsertion(c,w,v,h)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,v,h),u=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,u,h){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,m,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,m,h)):a=this._addAfter(new RD(c,u),m,h),a}_verifyReinsertion(a,c,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?a=this._reinsertAfter(m,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,m=a._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(a,c,u),this._addToMoves(a,u),a}_moveAfter(a,c,u){return this._unlink(a),this._insertAfter(a,c,u),this._addToMoves(a,u),a}_addAfter(a,c,u){return this._insertAfter(a,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,u){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new kp),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,u=a._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kp),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class RD{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eN{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const c=a._prevDup,u=a._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class kp{constructor(){this.map=new Map}put(a){const c=a.trackById;let u=this.map.get(c);u||(u=new eN,this.map.set(c,u)),u.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ND(o,a,c){const u=o.previousIndex;if(null===u)return u;let h=0;return c&&u<c.length&&(h=c[u]),u+a+h}class Mp{constructor(){}supports(a){return a instanceof Map||j_(a)}create(){return new tN}}class tN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||j_(a)))throw new je(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(h,u);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const u=a._prev;return c._next=a,c._prev=u,a._prev=c,u&&(u._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const u=new nN(a);return this._records.set(a,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(u=>c(a[u],u))}}class nN{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function H_(){return new z_([new Mb])}let z_=(()=>{class o{static#e=this.\u0275prov=En({token:o,providedIn:"root",factory:H_});constructor(c){this.factories=c}static create(c,u){if(null!=u){const h=u.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||H_()),deps:[[o,new cc,new Vs]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(null!=u)return u;throw new je(901,!1)}}return o})();function eE(){return new Rb([new Mp])}let Rb=(()=>{class o{static#e=this.\u0275prov=En({token:o,providedIn:"root",factory:eE});constructor(c){this.factories=c}static create(c,u){if(u){const h=u.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||eE()),deps:[[o,new cc,new Vs]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(u)return u;throw new je(901,!1)}}return o})();function qu(o,a,c,u,h=!1){for(;null!==c;){const m=a[c.index];null!==m&&u.push(kn(m)),xr(m)&&Nb(m,u);const v=c.type;if(8&v)qu(o,a,c.child,u);else if(32&v){const w=k_(c,a);let C;for(;C=w();)u.push(C)}else if(16&v){const w=gb(a,c);if(Array.isArray(w))u.push(...w);else{const C=As(a[ei]);qu(C[Be],C,w,u,!0)}}c=h?c.projectionNext:c.next}return u}function Nb(o,a){for(let c=vi;c<o.length;c++){const u=o[c],h=u[Be].firstChild;null!==h&&qu(u[Be],u,h,a)}o[Ao]!==o[Jn]&&a.push(o[Ao])}let Ob=[];const FD={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{ts(o.lView)},consumerOnSignalRead(){this.lView[Is]=this}};function iE(o){return rE(o[Vc])}function Pb(o){return rE(o[qr])}function rE(o){for(;null!==o&&!xr(o);)o=o[qr];return o}function $_(o){return o.ngOriginalError}class pl{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&$_(a);for(;c&&$_(c);)c=$_(c);return c||null}}const Ar=new Jt("",{providedIn:"root",factory:()=>rn(pl).handleError.bind(void 0)}),Fb=new Jt("",{providedIn:"root",factory:()=>!1}),jt={};function Ub(o=1){jb(un(),pe(),bi()+o,!1)}function jb(o,a,c,u){if(!u)if(3==(3&a[ft])){const m=o.preOrderCheckHooks;null!==m&&Cd(a,m,c)}else{const m=o.preOrderHooks;null!==m&&nf(a,m,0,c)}ya(c)}function Af(o,a=Ot.Default){const c=pe();return null===c?ai(o,a):Ki(Mn(),c,at(o),a)}function HD(){throw new Error("invalid")}function W_(o,a,c,u,h,m,v,w,C,S,R){const P=a.blueprint.slice();return P[Jn]=h,P[ft]=204|u,(null!==S||o&&2048&o[ft])&&(P[ft]|=2048),Wh(P),P[Hn]=P[Bc]=o,P[Tt]=c,P[Do]=v||o&&o[Do],P[Pt]=w||o&&o[Pt],P[Pr]=C||o&&o[Pr]||null,P[Pi]=m,P[Uc]=function cb(){return QT++}(),P[ao]=R,P[vu]=S,P[ei]=2==a.type?o[ei]:P,P}function kf(o,a,c,u,h){let m=o.data[a];if(null===m)m=function Hb(o,a,c,u,h){const m=Qh(),v=Qc(),C=o.data[a]=function Z_(o,a,c,u,h,m){let v=a?a.injectorIndex:-1,w=0;return ns()&&(w|=128),{type:c,index:u,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,a,u,h);return null===o.firstChild&&(o.firstChild=C),null!==m&&(v?null==m.child&&null!==C.parent&&(m.child=C):null===m.next&&(m.next=C,C.prev=m)),C}(o,a,c,u,h),function $m(){return Et.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=u,m.attrs=h;const v=function Au(){const o=Et.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return Mo(m,!0),m}function Wu(o,a,c,u){if(0===c)return-1;const h=a.length;for(let m=0;m<c;m++)a.push(u),o.blueprint.push(u),o.data.push(null);return h}function zD(o,a,c,u,h){const m=bi(),v=2&u;try{ya(-1),v&&a.length>bt&&jb(o,a,bt,!1),Ss(v?2:0,h),c(u,h)}finally{ya(m),Ss(v?3:1,h)}}function sE(o,a,c){if(yu(a)){const u=te(null);try{const m=a.directiveEnd;for(let v=a.directiveStart;v<m;v++){const w=o.data[v];w.contentQueries&&w.contentQueries(1,c[v],v)}}finally{te(u)}}}function Zu(o,a,c){_d()&&(function cN(o,a,c,u){const h=c.directiveStart,m=c.directiveEnd;Hc(c)&&function eS(o,a,c){const u=zn(a,o),h=$D(c);let v=16;c.signals?v=4096:c.onPush&&(v=64);const w=tv(o,W_(o,h,null,v,u,a,null,o[Do].rendererFactory.createRenderer(u,c),null,null,null));o[a.index]=w}(a,c,o.data[h+c.componentOffset]),o.firstCreatePass||Gn(c,a),mo(u,a);const v=c.initialInputs;for(let w=h;w<m;w++){const C=o.data[w],S=rs(a,o,w,c);mo(S,a),null!==v&&Rf(0,w-h,S,C,0,v),lr(C)&&(Wr(c.index,a)[Tt]=rs(a,o,w,c))}}(o,a,c,zn(c,a)),64==(64&c.flags)&&$b(o,a,c))}function aE(o,a,c=zn){const u=a.localNames;if(null!==u){let h=a.index+1;for(let m=0;m<u.length;m+=2){const v=u[m+1],w=-1===v?c(a,o):o[v];o[h++]=w}}}function $D(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Vd(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function Vd(o,a,c,u,h,m,v,w,C,S,R){const P=bt+u,z=P+h,Z=function GD(o,a){const c=[];for(let u=0;u<a;u++)c.push(u<o?null:jt);return c}(P,z),ce="function"==typeof S?S():S;return Z[Be]={type:o,blueprint:Z,template:c,queries:null,viewQuery:w,declTNode:a,data:Z.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:ce,incompleteFirstPass:!1,ssrId:R}}let Rp=()=>null;function K_(o,a,c,u){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const m=o[h];null===u?cE(c,a,h,m):u.hasOwnProperty(h)&&cE(c,a,u[h],m)}return c}function cE(o,a,c,u){o.hasOwnProperty(c)?o[c].push(a,u):o[c]=[a,u]}function ms(o,a,c,u,h,m,v,w){const C=zn(a,c);let R,S=a.inputs;!w&&null!=S&&(R=S[u])?(ri(o,c,R,u,h),Hc(a)&&function Y_(o,a){const c=Wr(a,o);16&c[ft]||(c[ft]|=64)}(c,a.index)):3&a.type&&(u=function KD(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),h=null!=v?v(h,a.value||"",u):h,m.setProperty(C,u,h))}function Q_(o,a,c,u){if(_d()){const h=null===u?null:{"":-1},m=function uE(o,a){const c=o.directiveRegistry;let u=null,h=null;if(c)for(let m=0;m<c.length;m++){const v=c[m];if(Ga(a,v.selectors,!1))if(u||(u=[]),lr(v))if(null!==v.findHostDirectiveDefs){const w=[];h=h||new Map,v.findHostDirectiveDefs(v,w,h),u.unshift(...w,v),qb(o,a,w.length)}else u.unshift(v),qb(o,a,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,u,h),u.push(v)}return null===u?null:[u,h]}(o,c);let v,w;null===m?v=w=null:[v,w]=m,null!==v&&X_(o,a,c,v,h,w),h&&function XD(o,a,c){if(a){const u=o.localNames=[];for(let h=0;h<a.length;h+=2){const m=c[a[h+1]];if(null==m)throw new je(-301,!1);u.push(a[h],m)}}}(c,u,h)}c.mergedAttrs=To(c.mergedAttrs,c.attrs)}function X_(o,a,c,u,h,m){for(let S=0;S<u.length;S++)Md(Gn(c,a),o,u[S].type);!function lN(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}(c,o.data.length,u.length);for(let S=0;S<u.length;S++){const R=u[S];R.providersResolver&&R.providersResolver(R)}let v=!1,w=!1,C=Wu(o,a,u.length,null);for(let S=0;S<u.length;S++){const R=u[S];c.mergedAttrs=To(c.mergedAttrs,R.hostAttrs),ev(o,c,a,C,R),JD(C,R,h),null!==R.contentQueries&&(c.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(c.flags|=64);const P=R.type.prototype;!v&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((o.preOrderHooks??=[]).push(c.index),v=!0),!w&&(P.ngOnChanges||P.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(c.index),w=!0),C++}!function lE(o,a,c){const h=a.directiveEnd,m=o.data,v=a.attrs,w=[];let C=null,S=null;for(let R=a.directiveStart;R<h;R++){const P=m[R],z=c?c.get(P):null,ce=z?z.outputs:null;C=K_(P.inputs,R,C,z?z.inputs:null),S=K_(P.outputs,R,S,ce);const De=null===C||null===v||Om(a)?null:dN(C,R,v);w.push(De)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=8),C.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=w,a.inputs=C,a.outputs=S}(o,c,m)}function $b(o,a,c){const u=c.directiveStart,h=c.directiveEnd,m=c.index,v=function Vn(){return Et.lFrame.currentDirectiveIndex}();try{ya(m);for(let w=u;w<h;w++){const C=o.data[w],S=a[w];yi(w),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&Gb(C,S)}}finally{ya(-1),yi(v)}}function Gb(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function qb(o,a,c){a.componentOffset=c,(o.components??=[]).push(a.index)}function JD(o,a,c){if(c){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)c[a.exportAs[u]]=o;lr(a)&&(c[""]=o)}}function ev(o,a,c,u,h){o.data[u]=h;const m=h.factory||(h.factory=Qa(h.type)),v=new tn(m,lr(h),Af);o.blueprint[u]=v,c[u]=v,function J_(o,a,c,u,h){const m=h.hostBindings;if(m){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const w=~a.index;(function QD(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(v)!=w&&v.push(w),v.push(c,u,m)}}(o,a,u,Wu(o,c,h.hostVars,jt),h)}function zs(o,a,c,u,h,m){const v=zn(o,a);!function Mf(o,a,c,u,h,m,v){if(null==m)o.removeAttribute(a,h,c);else{const w=null==v?It(m):v(m,u||"",h);o.setAttribute(a,h,w,c)}}(a[Pt],v,m,o.value,c,u,h)}function Rf(o,a,c,u,h,m){const v=m[a];if(null!==v)for(let w=0;w<v.length;)Wb(u,c,v[w++],v[w++],v[w++])}function Wb(o,a,c,u,h){const m=te(null);try{const v=o.inputTransforms;null!==v&&v.hasOwnProperty(u)&&(h=v[u].call(a,h)),null!==o.setInput?o.setInput(a,h,c,u):a[u]=h}finally{te(m)}}function dN(o,a,c){let u=null,h=0;for(;h<c.length;){const m=c[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===u&&(u=[]);const v=o[m];for(let w=0;w<v.length;w+=2)if(v[w]===a){u.push(m,v[w+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function tS(o,a,c,u){return[o,!0,0,a,null,u,null,c,null,null]}function hE(o,a){const c=o.contentQueries;if(null!==c){const u=te(null);try{for(let h=0;h<c.length;h+=2){const v=c[h+1];if(-1!==v){const w=o.data[v];Xc(c[h]),w.contentQueries(2,a[v],v)}}}finally{te(u)}}}function tv(o,a){return o[Vc]?o[Za][qr]=a:o[Vc]=a,o[Za]=a,a}function fE(o,a,c){Xc(0);const u=te(null);try{a(o,c)}finally{te(u)}}function gl(o){return o[Si]||(o[Si]=[])}function nv(o){return o.cleanup||(o.cleanup=[])}function rv(o,a){const c=o[Pr],u=c?c.get(pl,null):null;u&&u.handleError(a)}function ri(o,a,c,u,h){for(let m=0;m<c.length;){const v=c[m++],w=c[m++];Wb(o.data[v],a[v],u,w,h)}}function Ma(o,a,c){const u=ha(a,o);!function nD(o,a,c){o.setValue(a,c)}(o[Pt],u,c)}function fN(o,a,c,u){const h=a[ft];if(256==(256&h))return;a[Do].inlineEffectRunner?.flush(),Ja(a);let v=null,w=null;(function mN(o){return 2!==o.type})(o)&&(w=function tE(o){return o[Is]??function nE(o){const a=Ob.pop()??Object.create(FD);return a.lView=o,a}(o)}(a),v=function nt(o){return o&&(o.nextProducerIndex=0),te(o)}(w));try{Wh(a),function v_(o){return Et.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&zD(o,a,c,2,u);const C=3==(3&h);if(C){const P=o.preOrderCheckHooks;null!==P&&Cd(a,P,null)}else{const P=o.preOrderHooks;null!==P&&nf(a,P,0,null),Er(a,0)}if(function pN(o){for(let a=iE(o);null!==a;a=Pb(a)){if(!(a[ft]&dd.HasTransplantedViews))continue;const c=a[ld];for(let u=0;u<c.length;u++){$n(c[u])}}}(a),nS(a,0),null!==o.contentQueries&&hE(o,a),C){const P=o.contentCheckHooks;null!==P&&Cd(a,P)}else{const P=o.contentHooks;null!==P&&nf(a,P,1),Er(a,1)}!function q_(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let u=0;u<c.length;u++){const h=c[u];if(h<0)ya(~h);else{const m=h,v=c[++u],w=c[++u];Gm(v,m),w(2,a[m])}}}finally{ya(-1)}}(o,a);const S=o.components;null!==S&&mE(a,S,0);const R=o.viewQuery;if(null!==R&&fE(2,R,u),C){const P=o.viewCheckHooks;null!==P&&Cd(a,P)}else{const P=o.viewHooks;null!==P&&nf(a,P,2),Er(a,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[cd]){for(const P of a[cd])P();a[cd]=null}a[ft]&=-73}catch(C){throw ts(a),C}finally{null!==w&&(function Ve(o,a){if(te(a),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(et(o))for(let c=o.nextProducerIndex;c<o.producerNode.length;c++)Pe(o.producerNode[c],o.producerIndexOfThis[c]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}(w,v),function PD(o){o.lView[Is]!==o&&(o.lView=null,Ob.push(o))}(w)),va()}}function nS(o,a){for(let c=iE(o);null!==c;c=Pb(c))for(let u=vi;u<c.length;u++)Bd(c[u],a)}function sv(o,a,c){Bd(Wr(a,o),c)}function Bd(o,a){pd(o)&&Zb(o,a)}function Zb(o,a){const u=o[Be],h=o[ft],m=o[Is];let v=!!(0===a&&16&h);if(v||=!!(64&h&&0===a),v||=!!(1024&h),v||=!(!m?.dirty||!Ct(m)),m&&(m.dirty=!1),o[ft]&=-9217,v)fN(u,o,u.template,o[Tt]);else if(8192&h){nS(o,1);const w=u.components;null!==w&&mE(o,w,1)}}function mE(o,a,c){for(let u=0;u<a.length;u++)sv(o,a[u],c)}function Op(o){for(o[Do].changeDetectionScheduler?.notify();o;){o[ft]|=64;const a=As(o);if(bu(o)&&!a)return o;o=a}return null}class _l{get rootNodes(){const a=this._lView,c=a[Be];return qu(c,a,c.firstChild,[])}constructor(a,c,u=!0){this._lView=a,this._cdRefInjectingView=c,this.notifyErrorHandler=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tt]}set context(a){this._lView[Tt]=a}get destroyed(){return 256==(256&this._lView[ft])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Hn];if(xr(a)){const c=a[8],u=c?c.indexOf(this):-1;u>-1&&(M_(a,u),Od(c,u))}this._attachedToViewContainer=!1}fb(this._lView[Be],this._lView)}onDestroy(a){Zc(this._lView,a)}markForCheck(){Op(this._cdRefInjectingView||this._lView)}detach(){this._lView[ft]&=-129}reattach(){Tu(this._lView),this._lView[ft]|=128}detectChanges(){this._lView[ft]|=1024,function Nf(o,a=!0){const c=o[Do],u=c.rendererFactory;u.begin?.();try{!function uN(o){Zb(o,0);let a=0;for(;Wc(o);){if(100===a)throw new je(103,!1);a++,Zb(o,1)}}(o)}catch(m){throw a&&rv(o,m),m}finally{u.end?.(),c.inlineEffectRunner?.flush()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,iD(this._lView[Be],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new je(902,!1);this._appRef=a,Tu(this._lView)}}let iS=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=gN}return o})();function gN(o){return function rS(o,a,c){if(Hc(o)&&!c){const u=Wr(o.index,a);return new _l(u,u)}return 47&o.type?new _l(a[ei],a):null}(Mn(),pe(),16==(16&o))}let Pp=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=cS;static#t=this.__NG_ENV_ID__=c=>c}return o})();class aS extends Pp{constructor(a){super(),this._lView=a}onDestroy(a){return Zc(this._lView,a),()=>function gd(o,a){if(null===o[Ka])return;const c=o[Ka].indexOf(a);-1!==c&&o[Ka].splice(c,1)}(this._lView,a)}}function cS(){return new aS(pe())}const Qb=new Set;function Ku(o){Qb.has(o)||(Qb.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}function Of(o){return a=>{setTimeout(o,void 0,a)}}const vl=class cv extends Qn.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,u){let h=a,m=c||(()=>null),v=u;if(a&&"object"==typeof a){const C=a;h=C.next?.bind(C),m=C.error?.bind(C),v=C.complete?.bind(C)}this.__isAsync&&(m=Of(m),h&&(h=Of(h)),v&&(v=Of(v)));const w=super.subscribe({next:h,error:m,complete:v});return a instanceof Sn.w0&&a.add(w),w}};function Ai(...o){}class Ji{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vl(!1),this.onMicrotaskEmpty=new vl(!1),this.onStable=new vl(!1),this.onError=new vl(!1),typeof Zone>"u")throw new je(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&c,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function lS(){const o="function"==typeof Zt.requestAnimationFrame;let a=Zt[o?"requestAnimationFrame":"setTimeout"],c=Zt[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function uS(o){const a=()=>{!function dS(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Zt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Fp(o),o.isCheckStableRunning=!0,Xb(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Fp(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,h,m,v,w)=>{if(function EN(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(w))return c.invokeTask(h,m,v,w);try{return pE(o),c.invokeTask(h,m,v,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),_c(o)}},onInvoke:(c,u,h,m,v,w,C)=>{try{return pE(o),c.invoke(h,m,v,w,C)}finally{o.shouldCoalesceRunChangeDetection&&a(),_c(o)}},onHasTask:(c,u,h,m)=>{c.hasTask(h,m),u===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Fp(o),Xb(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,u,h,m)=>(c.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ji.isInAngularZone())throw new je(909,!1)}static assertNotInAngularZone(){if(Ji.isInAngularZone())throw new je(909,!1)}run(a,c,u){return this._inner.run(a,c,u)}runTask(a,c,u,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,a,xN,Ai,Ai);try{return m.runTask(v,c,u)}finally{m.cancelTask(v)}}runGuarded(a,c,u){return this._inner.runGuarded(a,c,u)}runOutsideAngular(a){return this._outer.run(a)}}const xN={};function Xb(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Fp(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function pE(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function _c(o){o._nesting--,Xb(o)}class gE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vl,this.onMicrotaskEmpty=new vl,this.onStable=new vl,this.onError=new vl}run(a,c,u){return a.apply(c,u)}runGuarded(a,c,u){return a.apply(c,u)}runOutsideAngular(a){return a()}runTask(a,c,u,h){return a.apply(c,u)}}var Ud=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(Ud||{});const Lp={destroy(){}};function lv(o,a){!a&&function _f(o){if(!ro()&&!function mu(){return Es}())throw new je(-203,!1)}();const c=a?.injector??rn(hs);if(!function hl(o){return"browser"===(o??rn(hs)).get(Kr)}(c))return Lp;Ku("NgAfterNextRender");const u=c.get(uv),h=u.handler??=new dv,m=a?.phase??Ud.MixedReadWrite,v=()=>{h.unregister(C),w()},w=c.get(Pp).onDestroy(v),C=new yE(c,m,()=>{v(),o()});return h.register(C),{destroy:v}}class yE{constructor(a,c,u){this.phase=c,this.callbackFn=u,this.zone=a.get(Ji),this.errorHandler=a.get(pl,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(a){this.errorHandler?.handleError(a)}}}class dv{constructor(){this.executingCallbacks=!1,this.buckets={[Ud.EarlyRead]:new Set,[Ud.Write]:new Set,[Ud.MixedReadWrite]:new Set,[Ud.Read]:new Set},this.deferredCallbacks=new Set}register(a){(this.executingCallbacks?this.deferredCallbacks:this.buckets[a.phase]).add(a)}unregister(a){this.buckets[a.phase].delete(a),this.deferredCallbacks.delete(a)}execute(){let a=!1;this.executingCallbacks=!0;for(const c of Object.values(this.buckets))for(const u of c)a=!0,u.invoke();this.executingCallbacks=!1;for(const c of this.deferredCallbacks)this.buckets[c.phase].add(c);return this.deferredCallbacks.clear(),a}destroy(){for(const a of Object.values(this.buckets))a.clear();this.deferredCallbacks.clear()}}let uv=(()=>{class o{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){const c=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const h of c)h();return!!this.handler?.execute()||c.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=En({token:o,providedIn:"root",factory:()=>new o})}return o})();function fS(o,a){const c=Wr(a,o),u=c[Be];!function hv(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])}(u,c);const h=c[Jn];null!==h&&null===c[ao]&&(c[ao]=Hs(h,c[Pr])),Jb(u,c,c[Tt])}function Jb(o,a,c){Ja(a);try{const u=o.viewQuery;null!==u&&fE(1,u,c);const h=o.template;null!==h&&zD(o,a,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&hE(o,a),o.staticViewQueries&&fE(2,o.viewQuery,c);const m=o.components;null!==m&&function mS(o,a){for(let c=0;c<a.length;c++)fS(o,a[c])}(a,m)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{a[ft]&=-5,va()}}function Vp(o,a,c){let u=c?o.styles:null,h=c?o.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const w=a[v];"number"==typeof w?m=w:1==m?h=no(h,w):2==m&&(u=no(u,w+": "+a[++v]+";"))}c?o.styles=u:o.stylesWithoutHost=u,c?o.classes=h:o.classesWithoutHost=h}class e0 extends Sb{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Gt(a);return new Bp(c,this.ngModule)}}function bE(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class pS{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,u){u=Xo(u);const h=this.injector.get(a,B_,u);return h!==B_||c===B_?h:this.parentInjector.get(a,c,u)}}class Bp extends DD{get inputs(){const a=this.componentDef,c=a.inputTransforms,u=bE(a.inputs);if(null!==c)for(const h of u)c.hasOwnProperty(h.propName)&&(h.transform=c[h.propName]);return u}get outputs(){return bE(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function Bh(o){return o.map(nd).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,u,h){let m=(h=h||this.ngModule)instanceof ni?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new pS(a,m):a,w=v.get(AD,null);if(null===w)throw new je(407,!1);const P={rendererFactory:w,sanitizer:v.get(ml,null),inlineEffectRunner:null,afterRenderEventManager:v.get(uv,null),changeDetectionScheduler:v.get(Y1,null)},z=w.createRenderer(null,this.componentDef),Z=this.componentDef.selectors[0][0]||"div",ce=u?function zb(o,a,c,u){const m=u.get(Fb,!1)||c===sa.ShadowDom,v=o.selectRootElement(a,m);return function qD(o){Rp(o)}(v),v}(z,u,this.componentDef.encapsulation,v):ub(z,Z,function t0(o){const a=o.toLowerCase();return"svg"===a?Gh:"math"===a?"math":null}(Z));let De=512;this.componentDef.signals?De|=4096:this.componentDef.onPush||(De|=16);let He=null;null!==ce&&(He=Hs(ce,v,!0));const tt=Vd(0,null,null,1,0,null,null,null,null,null,null),xe=W_(null,tt,null,De,null,null,P,z,v,null,He);let Kt,pn;Ja(xe);try{const gn=this.componentDef;let qo,zI=null;gn.findHostDirectiveDefs?(qo=[],zI=new Map,gn.findHostDirectiveDefs(gn,qo,zI),qo.push(gn)):qo=[gn];const DP=function gS(o,a){const c=o[Be],u=bt;return o[u]=a,kf(c,u,2,"#host",null)}(xe,ce),SP=function _S(o,a,c,u,h,m,v){const w=h[Be];!function vS(o,a,c,u){for(const h of o)a.mergedAttrs=To(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(Vp(a,a.mergedAttrs,!0),null!==c&&uD(u,c,a))}(u,o,a,v);let C=null;null!==a&&(C=Hs(a,h[Pr]));const S=m.rendererFactory.createRenderer(a,c);let R=16;c.signals?R=4096:c.onPush&&(R=64);const P=W_(h,$D(c),null,R,h[o.index],o,m,S,null,null,C);return w.firstCreatePass&&qb(w,o,u.length-1),tv(h,P),h[o.index]=P}(DP,ce,gn,qo,xe,P,z);pn=qc(tt,bt),ce&&function n0(o,a,c,u){if(u)Xl(o,c,["ng-version","17.0.9"]);else{const{attrs:h,classes:m}=function Uh(o){const a=[],c=[];let u=1,h=2;for(;u<o.length;){let m=o[u];if("string"==typeof m)2===h?""!==m&&a.push(m,o[++u]):8===h&&c.push(m);else{if(!so(h))break;h=m}u++}return{attrs:a,classes:c}}(a.selectors[0]);h&&Xl(o,c,h),m&&m.length>0&&Ux(o,c,m.join(" "))}}(z,gn,ce,u),void 0!==c&&function $s(o,a,c){const u=o.projection=[];for(let h=0;h<a.length;h++){const m=c[h];u.push(null!=m?Array.from(m):null)}}(pn,this.ngContentSelectors,c),Kt=function yS(o,a,c,u,h,m){const v=Mn(),w=h[Be],C=zn(v,h);X_(w,h,v,c,null,u);for(let R=0;R<c.length;R++)mo(rs(h,w,v.directiveStart+R,v),h);$b(w,h,v),C&&mo(C,h);const S=rs(h,w,v.directiveStart+v.componentOffset,v);if(o[Tt]=h[Tt]=S,null!==m)for(const R of m)R(S,a);return sE(w,v,o),S}(SP,gn,qo,zI,xe,[bS]),Jb(tt,xe,null)}finally{va()}return new Pf(this.componentType,Kt,Gu(pn,xe),xe,pn)}}class Pf extends X1{constructor(a,c,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new _l(h,void 0,!1),this.componentType=a}setInput(a,c){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const m=this._rootLView;ri(m[Be],m,h,a,c),this.previousInputValues.set(a,c),Op(Wr(this._tNode.index,m))}}get injector(){return new Rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function bS(){const o=Mn();ba(pe()[Be],o)}function Yu(o){let a=function wE(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const u=[o];for(;a;){let h;if(lr(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new je(903,!1);h=a.\u0275dir}if(h){if(c){u.push(h);const v=o;v.inputs=ps(o.inputs),v.inputTransforms=ps(o.inputTransforms),v.declaredInputs=ps(o.declaredInputs),v.outputs=ps(o.outputs);const w=h.hostBindings;w&&IN(o,w);const C=h.viewQuery,S=h.contentQueries;if(C&&xE(o,C),S&&Zn(o,S),vr(o.inputs,h.inputs),vr(o.declaredInputs,h.declaredInputs),vr(o.outputs,h.outputs),null!==h.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),vr(v.inputTransforms,h.inputTransforms)),lr(h)&&h.data.animation){const R=o.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const w=m[v];w&&w.ngInherit&&w(o),w===Yu&&(c=!1)}}a=Object.getPrototypeOf(a)}!function CN(o){let a=0,c=null;for(let u=o.length-1;u>=0;u--){const h=o[u];h.hostVars=a+=h.hostVars,h.hostAttrs=To(h.hostAttrs,c=To(c,h.hostAttrs))}}(u)}function ps(o){return o===oo?{}:o===yn?[]:o}function xE(o,a){const c=o.viewQuery;o.viewQuery=c?(u,h)=>{a(u,h),c(u,h)}:a}function Zn(o,a){const c=o.contentQueries;o.contentQueries=c?(u,h,m)=>{a(u,h,m),c(u,h,m)}:a}function IN(o,a){const c=o.hostBindings;o.hostBindings=c?(u,h)=>{a(u,h),c(u,h)}:a}function Vr(o){const a=o.inputConfig,c={};for(const u in a)if(a.hasOwnProperty(u)){const h=a[u];Array.isArray(h)&&h[2]&&(c[u]=h[2])}o.inputTransforms=c}function qs(o,a,c){return o[a]=c}function wi(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function bl(o,a,c,u){const h=wi(o,a,c);return wi(o,a+1,u)||h}function IE(o,a,c,u){const h=pe();return wi(h,ks(),a)&&(un(),zs(en(),h,o,a,c,u)),IE}function Ju(o,a,c,u){return wi(o,ks(),c)?a+It(c)+u:jt}function Hp(o,a,c,u,h,m,v,w){const S=function fv(o,a,c,u,h){const m=bl(o,a,c,u);return wi(o,a+2,h)||m}(o,function pa(){return Et.lFrame.bindingIndex}(),c,h,v);return ga(3),S?a+It(c)+u+It(h)+m+It(v)+w:jt}function Uo(o,a){return o<<17|a<<2}function wl(o){return o>>17&32767}function DE(o){return 2|o}function Ge(o){return(131068&o)>>2}function ae(o,a){return-131069&o|a<<2}function er(o){return 1|o}function CS(o,a,c,u){const h=o[c+1],m=null===a;let v=u?wl(h):Ge(h),w=!1;for(;0!==v&&(!1===w||m);){const S=o[v+1];AN(o[v],a)&&(w=!0,o[v+1]=u?er(S):DE(S)),v=u?wl(S):Ge(S)}w&&(o[c+1]=u?DE(h):er(h))}function AN(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&sc(o,a)>=0}const mr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function IS(o){return o.substring(mr.key,mr.keyEnd)}function SE(o,a){const c=mr.textEnd;return c===a?-1:(a=mr.keyEnd=function _t(o,a,c){for(;a<c&&o.charCodeAt(a)>32;)a++;return a}(o,mr.key=a,c),Kn(o,a,c))}function Kn(o,a,c){for(;a<c&&o.charCodeAt(a)<=32;)a++;return a}function qp(o,a,c){const u=pe();return wi(u,ks(),a)&&ms(un(),en(),u,o,a,u[Pt],c,!1),qp}function pv(o,a,c,u,h){const v=h?"class":"style";ri(o,c,a.inputs[v],v,u)}function zd(o,a,c){return Ra(o,a,c,!1),zd}function kE(o,a){return Ra(o,a,null,!0),kE}function Wp(o){!function Mi(o,a,c,u){const h=un(),m=ga(2);h.firstUpdatePass&&ME(h,null,m,u);const v=pe();if(c!==jt&&wi(v,m,c)){const w=h.data[bi()];if(DS(w,u)&&!s0(h,m)){let C=u?w.classesWithoutHost:w.stylesWithoutHost;null!==C&&(c=no(C,c||"")),pv(h,w,v,c,u)}else!function ON(o,a,c,u,h,m,v,w){h===jt&&(h=yn);let C=0,S=0,R=0<h.length?h[0]:null,P=0<m.length?m[0]:null;for(;null!==R||null!==P;){const z=C<h.length?h[C+1]:void 0,Z=S<m.length?m[S+1]:void 0;let De,ce=null;R===P?(C+=2,S+=2,z!==Z&&(ce=P,De=Z)):null===P||null!==R&&R<P?(C+=2,ce=R):(S+=2,ce=P,De=Z),null!==ce&&nh(o,a,c,u,ce,De,v,w),R=C<h.length?h[C]:null,P=S<m.length?m[S]:null}}(h,w,v,v[Pt],v[m+1],v[m+1]=function NN(o,a,c){if(null==c||""===c)return yn;const u=[],h=fl(c);if(Array.isArray(h))for(let m=0;m<h.length;m++)o(u,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&o(u,m,h[m]);else"string"==typeof h&&a(u,h);return u}(o,a,c),u,m)}}(th,vc,o,!0)}function vc(o,a){for(let c=function kN(o){return function AE(o){mr.key=0,mr.keyEnd=0,mr.value=0,mr.valueEnd=0,mr.textEnd=o.length}(o),SE(o,Kn(o,0,mr.textEnd))}(a);c>=0;c=SE(a,c))Dr(o,IS(a),!0)}function Ra(o,a,c,u){const h=pe(),m=un(),v=ga(2);m.firstUpdatePass&&ME(m,o,v,u),a!==jt&&wi(h,v,a)&&nh(m,m.data[bi()],h,h[Pt],o,h[v+1]=function PN(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=Xn(fl(o)))),o}(a,c),u,v)}function s0(o,a){return a>=o.expandoStartIndex}function ME(o,a,c,u){const h=o.data;if(null===h[c+1]){const m=h[bi()],v=s0(o,c);DS(m,u)&&null===a&&!v&&(a=!1),a=function TS(o,a,c,u){const h=function bd(o){const a=Et.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let m=u?a.residualClasses:a.residualStyles;if(null===h)0===(u?a.classBindings:a.styleBindings)&&(c=jo(c=Zp(null,o,a,c,u),a.attrs,u),m=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==h)if(c=Zp(h,o,a,c,u),null===m){let C=function eh(o,a,c){const u=c?a.classBindings:a.styleBindings;if(0!==Ge(u))return o[wl(u)]}(o,a,u);void 0!==C&&Array.isArray(C)&&(C=Zp(null,o,a,C[1],u),C=jo(C,a.attrs,u),function RE(o,a,c,u){o[wl(c?a.classBindings:a.styleBindings)]=u}(o,a,u,C))}else m=function ne(o,a,c){let u;const h=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<h;m++)u=jo(u,o[m].hostAttrs,c);return jo(u,a.attrs,c)}(o,a,u)}return void 0!==m&&(u?a.residualClasses=m:a.residualStyles=m),c}(h,m,a,u),function DN(o,a,c,u,h,m){let v=m?a.classBindings:a.styleBindings,w=wl(v),C=Ge(v);o[u]=c;let R,S=!1;if(Array.isArray(c)?(R=c[1],(null===R||sc(c,R)>0)&&(S=!0)):R=c,h)if(0!==C){const z=wl(o[w+1]);o[u+1]=Uo(z,w),0!==z&&(o[z+1]=ae(o[z+1],u)),o[w+1]=function mt(o,a){return 131071&o|a<<17}(o[w+1],u)}else o[u+1]=Uo(w,0),0!==w&&(o[w+1]=ae(o[w+1],u)),w=u;else o[u+1]=Uo(C,0),0===w?w=u:o[C+1]=ae(o[C+1],u),C=u;S&&(o[u+1]=DE(o[u+1])),CS(o,R,u,!0),CS(o,R,u,!1),function SN(o,a,c,u,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&sc(m,a)>=0&&(c[u+1]=er(c[u+1]))}(a,R,o,u,m),v=Uo(w,C),m?a.classBindings=v:a.styleBindings=v}(h,m,a,c,v,u)}}function Zp(o,a,c,u,h){let m=null;const v=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<v&&(m=a[w],u=jo(u,m.hostAttrs,h),m!==o);)w++;return null!==o&&(c.directiveStylingLast=w),u}function jo(o,a,c){const u=c?1:2;let h=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?h=v:h===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Dr(o,v,!!c||a[++m]))}return void 0===o?null:o}function th(o,a,c){const u=String(a);""!==u&&!u.includes(" ")&&Dr(o,u,c)}function nh(o,a,c,u,h,m,v,w){if(!(3&a.type))return;const C=o.data,S=C[w+1],R=function Te(o){return 1==(1&o)}(S)?NE(C,a,c,h,Ge(S),v):void 0;Yp(R)||(Yp(m)||function rt(o){return 2==(2&o)}(S)&&(m=NE(C,null,c,h,w,v)),function O1(o,a,c,u,h){if(a)h?o.addClass(c,u):o.removeClass(c,u);else{let m=-1===u.indexOf("-")?void 0:ab.DashCase;null==h?o.removeStyle(c,u,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=ab.Important),o.setStyle(c,u,h,m))}}(u,v,ha(bi(),c),h,m))}function NE(o,a,c,u,h,m){const v=null===a;let w;for(;h>0;){const C=o[h],S=Array.isArray(C),R=S?C[1]:C,P=null===R;let z=c[h+1];z===jt&&(z=P?yn:void 0);let Z=P?Pd(z,u):R===u?z:void 0;if(S&&!Yp(Z)&&(Z=Pd(C,u)),Yp(Z)&&(w=Z,v))return w;const ce=o[h+1];h=v?wl(ce):Ge(ce)}if(null!==a){let C=m?a.residualClasses:a.residualStyles;null!=C&&(w=Pd(C,u))}return w}function Yp(o){return void 0!==o}function DS(o,a){return 0!=(o.flags&(a?8:16))}let Qp=()=>null;function Ks(o,a){return Qp(o,a)}function zf(o,a,c,u){const h=a.tView,w=W_(o,h,c,4096&o[ft]?4096:16,null,a,null,null,null,u?.injector??null,u?.dehydratedView??null);w[co]=o[a.index];const S=o[So];return null!==S&&(w[So]=S.createEmbeddedView(h)),Jb(h,w,c),w}function Na(o,a){return!a||null===a.firstChild||ob(o)}function $f(o,a,c,u=!0){const h=a[Be];if(function A1(o,a,c,u){const h=vi+u,m=c.length;u>0&&(c[h-1][qr]=a),u<m-vi?(a[qr]=c[h],Ps(c,vi+u,a)):(c.push(a),a[qr]=null),a[Hn]=c;const v=a[co];null!==v&&c!==v&&function k1(o,a){const c=o[ld];a[ei]!==a[Hn][Hn][ei]&&(o[ft]|=dd.HasTransplantedViews),null===c?o[ld]=[a]:c.push(a)}(v,a);const w=a[So];null!==w&&w.insertView(o),Tu(a),a[ft]|=128}(h,a,o,c),u){const v=Lx(c,o),w=a[Pt],C=bp(w,o[Ao]);null!==C&&function D1(o,a,c,u,h,m){u[Jn]=h,u[Pi]=a,_b(o,u,c,1,h,m)}(h,o[Pi],w,a,C,v)}const m=a[ao];null!==m&&null!==m.firstChild&&(m.firstChild=null)}let Ev=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=NS}return o})();function NS(){return OS(Mn(),pe())}const g0=Ev,Xp=class extends g0{constructor(a,c,u){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=u}get element(){return Gu(this._hostTNode,this._hostLView)}get injector(){return new Rn(this._hostTNode,this._hostLView)}get parentInjector(){const a=rl(this._hostTNode,this._hostLView);if(af(a)){const c=Dd(a,this._hostLView),u=Id(a);return new Rn(c[Be].data[u+8],c)}return new Rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=UE(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-vi}createEmbeddedView(a,c,u){let h,m;"number"==typeof u?h=u:null!=u&&(h=u.index,m=u.injector);const v=Ks(this._lContainer,a.ssrId),w=a.createEmbeddedViewImpl(c||{},m,v);return this.insertImpl(w,h,Na(this._hostTNode,v)),w}createComponent(a,c,u,h,m){const v=a&&!function cs(o){return"function"==typeof o}(a);let w;if(v)w=c;else{const ce=c||{};w=ce.index,u=ce.injector,h=ce.projectableNodes,m=ce.environmentInjector||ce.ngModuleRef}const C=v?a:new Bp(Gt(a)),S=u||this.parentInjector;if(!m&&null==C.ngModule){const De=(v?S:this.parentInjector).get(ni,null);De&&(m=De)}const R=Gt(C.componentType??{}),P=Ks(this._lContainer,R?.id??null),Z=C.create(S,h,P?.firstChild??null,m);return this.insertImpl(Z.hostView,w,Na(this._hostTNode,P)),Z}insert(a,c){return this.insertImpl(a,c,!0)}insertImpl(a,c,u){const h=a._lView;if(function Zy(o){return xr(o[Hn])}(h)){const w=this.indexOf(a);if(-1!==w)this.detach(w);else{const C=h[Hn],S=new Xp(C,C[Pi],C[Hn]);S.detach(S.indexOf(a))}}const m=this._adjustIndex(c),v=this._lContainer;return $f(v,h,m,u),a.attachToViewContainerRef(),Ps(jE(v),m,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=UE(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),u=M_(this._lContainer,c);u&&(Od(jE(this._lContainer),c),fb(u[Be],u))}detach(a){const c=this._adjustIndex(a,-1),u=M_(this._lContainer,c);return u&&null!=Od(jE(this._lContainer),c)?new _l(u):null}_adjustIndex(a,c=0){return a??this.length+c}};function UE(o){return o[8]}function jE(o){return o[8]||(o[8]=[])}function OS(o,a){let c;const u=a[o.index];return xr(u)?c=u:(c=tS(u,a,null,o),a[o.index]=c,tv(a,c)),HE(c,a,o,u),new Xp(c,o,a)}let HE=function di(o,a,c,u){if(o[Ao])return;let h;h=8&c.type?kn(u):function PS(o,a){const c=o[Pt],u=c.createComment(""),h=zn(a,o);return Cf(c,bp(c,h),u,function aD(o,a){return o.nextSibling(a)}(c,h),!1),u}(a,c),o[Ao]=h},Rr=()=>!1;function eg(o,a,c,u,h,m,v,w){const C=pe(),S=un(),R=o+bt,P=S.firstCreatePass?function Jp(o,a,c,u,h,m,v,w,C){const S=a.consts,R=kf(a,o,4,v||null,Zr(S,w));Q_(a,c,R,Zr(S,C)),ba(a,R);const P=R.tView=Vd(2,R,u,h,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S,null);return null!==a.queries&&(a.queries.template(a,R),P.queries=a.queries.embeddedTView(R)),R}(R,S,C,a,c,u,h,m,v):S.data[R];Mo(P,!1);const z=$E(S,C,P,o);Ou()&&pb(S,C,z,P),mo(z,C);const Z=tS(z,C,z,P);return C[R]=Z,tv(C,Z),function zE(o,a,c){return Rr(o,a,c)}(Z,P,C),da(P)&&Zu(S,C,P),null!=v&&aE(C,P,w),eg}let $E=function hn(o,a,c,u){return Fr(!0),a[Pt].createComment("")};function _0(o,a,c){Ku("NgControlFlow");const u=pe(),h=ks(),m=function WE(o,a){return o[a]}(u,bt+o);if(wi(u,h,a)){const w=te(null);try{if(function Gf(o,a){const c=M_(o,a);return void 0!==c&&fb(c[Be],c),c}(m,0),-1!==a){const C=function ZE(o,a){return qc(o,a)}(u[Be],bt+a),S=Ks(m,C.tView.ssrId);$f(m,zf(u,C,c,{dehydratedView:S}),0,Na(C,S))}}finally{te(w)}}else{const w=function xv(o,a){const c=vi+a;if(c<o.length)return o[c]}(m,0);void 0!==w&&(w[Tt]=c)}}function fn(o,a,c,u){const h=pe(),m=un(),v=bt+o,w=h[Pt],C=m.firstCreatePass?function gr(o,a,c,u,h,m){const v=a.consts,C=kf(a,o,2,u,Zr(v,h));return Q_(a,c,C,Zr(v,m)),null!==C.attrs&&Vp(C,C.attrs,!1),null!==C.mergedAttrs&&Vp(C,C.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,C),C}(v,m,h,a,c,u):m.data[v],S=T0(m,h,C,w,a,o);h[v]=S;const R=da(C);return Mo(C,!0),uD(w,S,C),32!=(32&C.flags)&&Ou()&&pb(m,h,S,C),0===function hi(){return Et.lFrame.elementDepthCount}()&&mo(S,h),function Zh(){Et.lFrame.elementDepthCount++}(),R&&(Zu(m,h,C),sE(m,C,h)),null!==u&&aE(h,C),fn}function kv(){let o=Mn();Qc()?ku():(o=o.parent,Mo(o,!1));const a=o;(function ko(o){return Et.skipHydrationRootTNode===o})(a)&&function Du(){Et.skipHydrationRootTNode=null}(),function Kh(){Et.lFrame.elementDepthCount--}();const c=un();return c.firstCreatePass&&(ba(c,o),yu(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function el(o){return 0!=(8&o.flags)}(a)&&pv(c,a,pe(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Zm(o){return 0!=(16&o.flags)}(a)&&pv(c,a,pe(),a.stylesWithoutHost,!1),kv}function I0(o,a,c,u){return fn(o,a,c,u),kv(),I0}let T0=(o,a,c,u,h,m)=>(Fr(!0),ub(u,h,function tf(){return Et.lFrame.currentNamespace}()));function Nv(){return pe()}function M0(o,a,c){const u=pe();return wi(u,ks(),a)&&ms(un(),en(),u,o,a,u[Pt],c,!0),M0}const dh=void 0;var rA=["en",[["a","p"],["AM","PM"],dh],[["AM","PM"],dh,dh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dh,"{1} 'at' {0}",dh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function iO(o){const c=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let Xf={};function aC(o){const a=function rO(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=R0(a);if(c)return c;const u=a.split("-")[0];if(c=R0(u),c)return c;if("en"===u)return rA;throw new je(701,!1)}function oA(o){return aC(o)[Jf.PluralCase]}function R0(o){return o in Xf||(Xf[o]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[o]),Xf[o]}var Jf=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Jf||{});const em="en-US";let fg=em;function Rl(o){return!!o&&"function"==typeof o.then}function yC(o){return!!o&&"function"==typeof o.subscribe}function bC(o,a,c,u){const h=pe(),m=un(),v=Mn();return function xC(o,a,c,u,h,m,v){const w=da(u),S=o.firstCreatePass&&nv(o),R=a[Tt],P=gl(a);let z=!0;if(3&u.type||v){const De=zn(u,a),He=v?v(De):De,tt=P.length,xe=v?pn=>v(kn(pn[u.index])):u.index;let Kt=null;if(!v&&w&&(Kt=function pO(o,a,c,u){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===c&&h[m+1]===u){const w=a[Si],C=h[m+2];return w.length>C?w[C]:null}"string"==typeof v&&(m+=2)}return null}(o,a,h,u.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=m,Kt.__ngLastListenerFn__=m,z=!1;else{m=Gv(u,a,R,m,!1);const pn=c.listen(He,h,m);P.push(m,pn),S&&S.push(h,xe,tt,tt+1)}}else m=Gv(u,a,R,m,!1);const Z=u.outputs;let ce;if(z&&null!==Z&&(ce=Z[h])){const De=ce.length;if(De)for(let He=0;He<De;He+=2){const gn=a[ce[He]][ce[He+1]].subscribe(m),qo=P.length;P.push(m,gn),S&&S.push(h,u.index,qo,-(qo+1))}}}(m,h,h[Pt],v,o,a,u),bC}function MA(o,a,c,u){try{return Ss(6,a,c),!1!==c(u)}catch(h){return rv(o,h),!1}finally{Ss(7,a,c)}}function Gv(o,a,c,u,h){return function m(v){if(v===Function)return u;Op(o.componentOffset>-1?Wr(o.index,a):a);let C=MA(a,c,u,v),S=m.__ngNextListenerFn__;for(;S;)C=MA(a,c,S,v)&&C,S=S.__ngNextListenerFn__;return h&&!1===C&&v.preventDefault(),C}}function EC(o=1){return function is(o){return(Et.lFrame.contextLView=function Iu(o,a){for(;o>0;)a=a[Bc],o--;return a}(o,Et.lFrame.contextLView))[Tt]}(o)}function gO(o,a){let c=null;const u=function Fc(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(o);for(let h=0;h<a.length;h++){const m=a[h];if("*"!==m){if(null===u?Ga(o,m,!0):Pm(u,m))return h}else c=h}return c}function CC(o){const a=pe()[ei][Pi];if(!a.projection){const u=a.projection=function Oo(o,a){const c=[];for(let u=0;u<o;u++)c.push(a);return c}(o?o.length:1,null),h=u.slice();let m=a.child;for(;null!==m;){const v=o?gO(m,o):0;null!==v&&(h[v]?h[v].projectionNext=m:u[v]=m,h[v]=m),m=m.next}}}function RA(o,a=0,c){const u=pe(),h=un(),m=kf(h,bt+o,16,null,c||null);null===m.projection&&(m.projection=a),ku(),(!u[ao]||ns())&&32!=(32&m.flags)&&function vb(o,a,c){dD(a[Pt],0,a,c,Px(o,c,a),cD(c.parent||a[Pi],c,a))}(h,u,m)}function U0(o,a,c){return Yd(o,"",a,"",c),U0}function Yd(o,a,c,u,h){const m=pe(),v=Ju(m,a,c,u);return v!==jt&&ms(un(),en(),m,o,v,m[Pt],h,!1),Yd}function FA(o){return es(function Xh(){return Et.lFrame.contextLView}(),bt+o)}function MC(o,a=""){const c=pe(),u=un(),h=o+bt,m=u.firstCreatePass?kf(u,h,1,a,null):u.data[h],v=Z0(u,c,m,a,o);c[h]=v,Ou()&&pb(u,c,v,m),Mo(m,!1)}let Z0=(o,a,c,u,h)=>(Fr(!0),function db(o,a){return o.createText(a)}(a[Pt],u));function RC(o){return Wv("",o,""),RC}function Wv(o,a,c){const u=pe(),h=Ju(u,o,a,c);return h!==jt&&Ma(u,bi(),h),Wv}function fh(o,a,c,u,h,m,v){const w=pe(),C=Hp(w,o,a,c,u,h,m,v);return C!==jt&&Ma(w,bi(),C),fh}function Kv(o,a,c,u,h){if(o=at(o),Array.isArray(o))for(let m=0;m<o.length;m++)Kv(o[m],a,c,u,h);else{const m=un(),v=pe(),w=Mn();let C=wt(o)?o:at(o.provide);const S=ur(o),R=1048575&w.providerIndexes,P=w.directiveStart,z=w.providerIndexes>>20;if(wt(o)||!o.multi){const Z=new tn(S,h,Af),ce=Q0(C,a,h?R:R+z,P);-1===ce?(Md(Gn(w,v),m,C),FC(m,o,a.length),a.push(C),w.directiveStart++,w.directiveEnd++,h&&(w.providerIndexes+=1048576),c.push(Z),v.push(Z)):(c[ce]=Z,v[ce]=Z)}else{const Z=Q0(C,a,R+z,P),ce=Q0(C,a,R,R+z),He=ce>=0&&c[ce];if(h&&!He||!h&&!(Z>=0&&c[Z])){Md(Gn(w,v),m,C);const tt=function Yv(o,a,c,u,h){const m=new tn(o,c,Af);return m.multi=[],m.index=a,m.componentProviders=0,Y0(m,h,u&&!c),m}(h?LC:jA,c.length,h,u,S);!h&&He&&(c[ce].providerFactory=tt),FC(m,o,a.length,0),a.push(C),w.directiveStart++,w.directiveEnd++,h&&(w.providerIndexes+=1048576),c.push(tt),v.push(tt)}else FC(m,o,Z>-1?Z:ce,Y0(c[h?ce:Z],S,!h&&u));!h&&u&&He&&c[ce].componentProviders++}}}function FC(o,a,c,u){const h=wt(a),m=function St(o){return!!o.useClass}(a);if(h||m){const C=(m?at(a.useClass):a).prototype.ngOnDestroy;if(C){const S=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const R=S.indexOf(c);-1===R?S.push(c,[u,C]):S[R+1].push(u,C)}else S.push(c,C)}}}function Y0(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function Q0(o,a,c,u){for(let h=c;h<u;h++)if(a[h]===o)return h;return-1}function jA(o,a,c,u){return xg(this.multi,[])}function LC(o,a,c,u){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=rs(c,c[Be],this.providerFactory.index,u);m=w.slice(0,v),xg(h,m);for(let C=v;C<w.length;C++)m.push(w[C])}else m=[],xg(h,m);return m}function xg(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function Qv(o,a=[]){return c=>{c.providersResolver=(u,h)=>function EO(o,a,c){const u=un();if(u.firstCreatePass){const h=lr(o);Kv(c,u.data,u.blueprint,h,!0),Kv(a,u.data,u.blueprint,h,!1)}}(u,h?h(o):o,a)}}class Qd{}class X0{}function VC(o,a){return new BC(o,a??null,[])}class BC extends Qd{constructor(a,c,u){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new e0(this);const h=Wi(a);this._bootstrapComponents=hr(h.bootstrap),this._r3Injector=Ex(a,c,[{provide:Qd,useValue:this},{provide:Sb,useValue:this.componentFactoryResolver},...u],Xn(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class J0 extends X0{constructor(a){super(),this.moduleType=a}create(a){return new BC(this.moduleType,a,[])}}class tw extends Qd{constructor(a){super(),this.componentFactoryResolver=new e0(this),this.instance=null;const c=new dr([...a.providers,{provide:Qd,useValue:this},{provide:Sb,useValue:this.componentFactoryResolver}],a.parent||Da(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function HA(o,a,c=null){return new tw({providers:o,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let IO=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const u=T(0,c.type),h=u.length>0?HA([u],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,h)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=En({token:o,providedIn:"environment",factory:()=>new o(ai(ni))})}return o})();function eo(o){Ku("NgStandalone"),o.getStandaloneInjector=a=>a.get(IO).getOrCreateStandaloneInjector(o)}function Nl(o,a){const c=o[a];return c===jt?void 0:c}function ek(o,a){const c=un();let u;const h=o+bt;c.firstCreatePass?(u=function YC(o,a){if(a)for(let c=a.length-1;c>=0;c--){const u=a[c];if(o===u.name)return u}}(a,c.pipeRegistry),c.data[h]=u,u.onDestroy&&(c.destroyHooks??=[]).push(h,u.onDestroy)):u=c.data[h];const m=u.factory||(u.factory=Qa(u.type)),w=Gi(Af);try{const C=nl(!1),S=m();return nl(C),function jr(o,a,c,u){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=u}(c,pe(),h,S),S}finally{Gi(w)}}function nk(o,a,c){const u=o+bt,h=pe(),m=es(h,u);return um(h,u)?function ow(o,a,c,u,h,m){const v=a+c;return wi(o,v,h)?qs(o,v+1,m?u.call(m,h):u(h)):Nl(o,v+1)}(h,Zi(),a,m.transform,c,m):m.transform(c)}function sw(o,a,c,u){const h=o+bt,m=pe(),v=es(m,h);return um(m,h)?function XA(o,a,c,u,h,m,v){const w=a+c;return bl(o,w,h,m)?qs(o,w+2,v?u.call(v,h,m):u(h,m)):Nl(o,w+2)}(m,Zi(),a,v.transform,c,u,v):v.transform(c,u)}function um(o,a){return o[Be].data[a].pure}function XC(){return this._results[Symbol.iterator]()}class Ig{static#e=Symbol.iterator;get changes(){return this._changes??=new vl}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const c=Ig.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=XC)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){this.dirty=!1;const u=function Ir(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Xm(o,a,c){if(o.length!==a.length)return!1;for(let u=0;u<o.length;u++){let h=o[u],m=a[u];if(c&&(h=c(h),m=c(m)),m!==h)return!1}return!0}(this._results,u,c))&&(this._results=u,this.length=u.length,this.last=u[this.length-1],this.first=u[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Ol=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Tg}return o})();const ph=Ol,JC=class extends ph{constructor(a,c,u){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c)}createEmbeddedViewImpl(a,c,u){const h=zf(this._declarationLView,this._declarationTContainer,a,{injector:c,dehydratedView:u});return new _l(h)}};function Tg(){return Xd(Mn(),pe())}function Xd(o,a){return 4&o.type?new JC(a,o,Gu(o,a)):null}class aw{constructor(a){this.queryList=a,this.matches=null}clone(){return new aw(this.queryList)}setDirty(){this.queryList.setDirty()}}class gh{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const u=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let m=0;m<u;m++){const v=c.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new gh(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==dk(a,c).matches&&this.queries[c].setDirty()}}class rk{constructor(a,c,u=null){this.predicate=a,this.flags=c,this.read=u}}class eI{constructor(a=[]){this.queries=a}elementStart(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let u=0;u<this.length;u++){const h=null!==c?c.length:0,m=this.getByIndex(u).embeddedTView(a,h);m&&(m.indexInDeclarationView=u,null!==c?c.push(m):c=[m])}return null!==c?new eI(c):null}template(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class ey{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new ey(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(a,c,tI(c,m)),this.matchTNodeWithReadOption(a,c,ic(c,a,m,!1,!1))}else u===Ol?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,ic(c,a,u,!1,!1))}matchTNodeWithReadOption(a,c,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Ap||h===Ev||h===Ol&&4&c.type)this.addMatch(c.index,-2);else{const m=ic(c,a,h,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,u)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function tI(o,a){const c=o.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===a)return c[u+1];return null}function iI(o,a,c,u){return-1===c?function nI(o,a){return 11&o.type?Gu(o,a):4&o.type?Xd(o,a):null}(a,o):-2===c?function OO(o,a,c){return c===Ap?Gu(a,o):c===Ol?Xd(a,o):c===Ev?OS(a,o):void 0}(o,a,u):rs(o,o[Be],c,a)}function ok(o,a,c,u){const h=a[So].queries[u];if(null===h.matches){const m=o.data,v=c.matches,w=[];for(let C=0;C<v.length;C+=2){const S=v[C];w.push(S<0?null:iI(a,m[S],v[C+1],c.metadata.read))}h.matches=w}return h.matches}function ty(o,a,c,u){const h=o.queries.getByIndex(c),m=h.matches;if(null!==m){const v=ok(o,a,h,c);for(let w=0;w<m.length;w+=2){const C=m[w];if(C>0)u.push(v[w/2]);else{const S=m[w+1],R=a[-C];for(let P=vi;P<R.length;P++){const z=R[P];z[co]===z[Hn]&&ty(z[Be],z,S,u)}if(null!==R[ld]){const P=R[ld];for(let z=0;z<P.length;z++){const Z=P[z];ty(Z[Be],Z,S,u)}}}}}return u}function cw(o){const a=pe(),c=un(),u=Ms();Xc(u+1);const h=dk(c,u);if(o.dirty&&function fa(o){return 4==(4&o[ft])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const m=h.crossesNgTemplate?ty(c,a,u,[]):ok(c,a,h,u);o.reset(m,_o),o.notifyOnChanges()}return!0}return!1}function sk(o,a,c){const u=un();u.firstCreatePass&&(sI(u,new rk(o,a,c),-1),2==(2&a)&&(u.staticViewQueries=!0)),oI(u,pe(),a)}function rI(o,a,c,u){const h=un();if(h.firstCreatePass){const m=Mn();sI(h,new rk(a,c,u),m.index),function lk(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}oI(h,pe(),c)}function ak(){return function ck(o,a){return o[So].queries[a].queryList}(pe(),Ms())}function oI(o,a,c){const u=new Ig(4==(4&c));(function ZD(o,a,c,u){const h=gl(a);h.push(c),o.firstCreatePass&&nv(o).push(u,h.length-1)})(o,a,u,u.destroy),null===a[So]&&(a[So]=new gh),a[So].queries.push(new aw(u))}function sI(o,a,c){null===o.queries&&(o.queries=new eI),o.queries.track(new ey(a,c))}function dk(o,a){return o.queries.getByIndex(a)}function uk(o,a){return Xd(o,a)}class Ck{constructor(a){this.full=a;const c=a.split(".");this.major=c[0],this.minor=c[1],this.patch=c.slice(2).join(".")}}const qO=new Ck("17.0.9");let Ik=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=En({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();class gw{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let bI=(()=>{class o{compileModuleSync(c){return new J0(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),m=hr(Wi(c).declarations).reduce((v,w)=>{const C=Gt(w);return C&&v.push(new Bp(C)),v},[]);return new gw(u,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=En({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),sy=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Or.X(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=En({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const ui=new Jt(""),Hr=new Jt("");let kg,Fl=(()=>{class o{constructor(c,u,h){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kg||(function tP(o){kg=o}(h),h.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ji.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:h})}whenStable(c,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,h){return[]}static#e=this.\u0275fac=function(u){return new(u||o)(ai(Ji),ai(SI),ai(Hr))};static#t=this.\u0275prov=En({token:o,factory:o.\u0275fac})}return o})(),SI=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return kg?.findTestabilityInTree(this,c,u)??null}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=En({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const AI=new Jt("Application Initializer");let ay=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u}),this.appInits=rn(AI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const m=h();if(Rl(m))c.push(m);else if(yC(m)){const v=new Promise((w,C)=>{m.subscribe({complete:w,error:C})});c.push(v)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{u()}).catch(h=>{this.reject(h)}),0===c.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=En({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const kI=new Jt("appBootstrapListener");function ji(o,a){return Array.isArray(a)?a.reduce(ji,o):{...o,...a}}let vh=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=rn(Ar),this.afterRenderEffectManager=rn(uv),this.componentTypes=[],this.components=[],this.isStable=rn(sy).hasPendingTasks.pipe((0,Fn.U)(c=>!c)),this._injector=rn(ni)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,u){const h=c instanceof DD;if(!this._injector.get(ay).done)throw!h&&qa(c),new je(405,!1);let v;v=h?c:this._injector.get(Sb).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const w=function pi(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Qd),S=v.create(hs.NULL,[],u||v.selector,w),R=S.location.nativeElement,P=S.injector.get(ui,null);return P?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),xw(this.components,S),P?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new je(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{try{this.afterRenderEffectManager.execute()}catch(c){this.internalErrorHandler(c)}this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;xw(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get(kI,[]);[...this._bootstrapListeners,...u].forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>xw(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new je(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=En({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function xw(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}let rP=(()=>{class o{constructor(){this.zone=rn(Ji),this.applicationRef=rn(vh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=En({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function NV(){const o=rn(Ji),a=rn(pl);return c=>o.runOutsideAngular(()=>a.handleError(c))}let jk=(()=>{class o{constructor(){this.subscription=new Sn.w0,this.initialized=!1,this.zone=rn(Ji),this.pendingTasks=rn(sy)}initialize(){if(this.initialized)return;this.initialized=!0;let c=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(c=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ji.assertNotInAngularZone(),queueMicrotask(()=>{null!==c&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(c),c=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ji.assertInAngularZone(),c??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=En({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Ew=new Jt("LocaleId",{providedIn:"root",factory:()=>rn(Ew,Ot.Optional|Ot.SkipSelf)||function ly(){return typeof $localize<"u"&&$localize.locale||em}()}),Ll=new Jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Mg=new Jt("PlatformDestroyListeners");let Hk=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const h=function hS(o="zone.js",a){return"noop"===o?new gE:"zone.js"===o?new Ji(a):o}(u?.ngZone,function Uk(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return h.run(()=>{const m=function ew(o,a,c){return new BC(o,a,c)}(c.moduleType,this.injector,function Bk(o){return[{provide:Ji,useFactory:o},{provide:hc,multi:!0,useFactory:()=>{const a=rn(rP,{optional:!0});return()=>a.initialize()}},{provide:hc,multi:!0,useFactory:()=>{const a=rn(jk);return()=>{a.initialize()}}},{provide:Ar,useFactory:NV}]}(()=>h)),v=m.injector.get(pl,null);return h.runOutsideAngular(()=>{const w=h.onError.subscribe({next:C=>{v.handleError(C)}});m.onDestroy(()=>{xw(this._modules,m),w.unsubscribe()})}),function nP(o,a,c){try{const u=c();return Rl(u)?u.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):u}catch(u){throw a.runOutsideAngular(()=>o.handleError(u)),u}}(v,h,()=>{const w=m.injector.get(ay);return w.runInitializers(),w.donePromise.then(()=>(function lC(o){xt(o,"Expected localeId to be defined"),"string"==typeof o&&(fg=o.toLowerCase().replace(/_/g,"-"))}(m.injector.get(Ew,em)||em),this._moduleDoBootstrap(m),m))})})}bootstrapModule(c,u=[]){const h=ji({},u);return function MI(o,a,c){const u=new J0(c);return Promise.resolve(u)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(c){const u=c.injector.get(vh);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new je(-403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new je(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get(Mg,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(u){return new(u||o)(ai(hs))};static#t=this.\u0275prov=En({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})(),bh=null;const RI=new Jt("AllowMultipleToken");function dy(o,a,c=[]){const u=`Platform: ${a}`,h=new Jt(u);return(m=[])=>{let v=Rg();if(!v||v.injector.get(RI,!1)){const w=[...c,...m,{provide:h,useValue:!0}];o?o(w):function zk(o){if(bh&&!bh.get(RI,!1))throw new je(400,!1);(function Lk(){!function si(o){Un=o}(()=>{throw new je(600,!1)})})(),bh=o;const a=o.get(Hk);(function Iw(o){o.get(ii,null)?.forEach(c=>c())})(o)}(function $k(o=[],a){return hs.create({name:a,providers:[{provide:Sr,useValue:"platform"},{provide:Mg,useValue:new Set([()=>bh=null])},...o]})}(w,u))}return function _m(o){const a=Rg();if(!a)throw new je(401,!1);return a}()}}function Rg(){return bh?.get(Hk)??null}function sP(){return!1}const LV=dy(null,"core",[]);let PI=(()=>{class o{constructor(c){}static#e=this.\u0275fac=function(u){return new(u||o)(ai(vh))};static#t=this.\u0275mod=qi({type:o});static#n=this.\u0275inj=kc({})}return o})();function mM(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function jw(o,a=NaN){return isNaN(parseFloat(o))||isNaN(Number(o))?a:Number(o)}function Go(o){const a=Gt(o);if(!a)return null;const c=new Bp(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},399:(zt,$e,K)=>{K.d($e,{Z:()=>dt});var d=K(58),se=K(537),B=K(594),ge=K(879);class Ee{constructor(nt,Ve){this._delegate=nt,this.firebase=Ve,(0,B._addComponent)(nt,new se.wA("app-compat",()=>this,"PUBLIC")),this.container=nt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this._delegate.automaticDataCollectionEnabled=nt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nt=>{this._delegate.checkDestroyed(),nt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(nt,Ve=B._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const kt=this._delegate.container.getProvider(nt);return!kt.isInitialized()&&"EXPLICIT"===(null===(Ct=kt.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&kt.initialize(),kt.getImmediate({identifier:Ve})}_removeServiceInstance(nt,Ve=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nt).clearInstance(Ve)}_addComponent(nt){(0,B._addComponent)(this._delegate,nt)}_addOrOverwriteComponent(nt){(0,B._addOrOverwriteComponent)(this._delegate,nt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Le=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function Ce(){const Lt=function Ue(Lt){const nt={},Ve={__esModule:!0,initializeApp:function gt(qe,_e={}){const J=B.initializeApp(qe,_e);if((0,d.r3)(nt,J.name))return nt[J.name];const ze=new Lt(J,Ve);return nt[J.name]=ze,ze},app:kt,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function et(qe){const _e=qe.name,J=_e.replace("-compat","");if(B._registerComponent(qe)&&"PUBLIC"===qe.type){const ze=(Vt=kt())=>{if("function"!=typeof Vt[J])throw Le.create("invalid-app-argument",{appName:_e});return Vt[J]()};void 0!==qe.serviceProps&&(0,d.ZB)(ze,qe.serviceProps),Ve[J]=ze,Lt.prototype[J]=function(...Vt){return this._getService.bind(this,_e).apply(this,qe.multipleInstances?Vt:[])}}return"PUBLIC"===qe.type?Ve[J]:null},removeApp:function Ct(qe){delete nt[qe]},useAsService:function Mt(qe,_e){return"serverAuth"===_e?null:_e},modularAPIs:B}};function kt(qe){if(!(0,d.r3)(nt,qe=qe||B._DEFAULT_ENTRY_NAME))throw Le.create("no-app",{appName:qe});return nt[qe]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function Pe(){return Object.keys(nt).map(qe=>nt[qe])}}),kt.App=Lt,Ve}(Ee);return Lt.INTERNAL=Object.assign(Object.assign({},Lt.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function nt(Ve){(0,d.ZB)(Lt,Ve)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Lt}(),q=new ge.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Lt=self.firebase.SDK_VERSION;Lt&&Lt.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=Y;!function Oe(Lt){(0,B.registerVersion)("@firebase/app-compat","0.2.13",Lt)}()},594:(zt,$e,K)=>{K.r($e),K.d($e,{FirebaseError:()=>ge.ZR,SDK_VERSION:()=>Sn,_DEFAULT_ENTRY_NAME:()=>oe,_addComponent:()=>ve,_addOrOverwriteComponent:()=>be,_apps:()=>ue,_clearComponents:()=>ut,_components:()=>me,_getProvider:()=>an,_registerComponent:()=>yt,_removeServiceInstance:()=>Pn,deleteApp:()=>vr,getApp:()=>Fn,getApps:()=>Bt,initializeApp:()=>Or,onLog:()=>Eo,registerVersion:()=>no,setLogLevel:()=>yr});var d=K(861),se=K(537),B=K(879),ge=K(58),Ee=K(878);class te{constructor(we){this.container=we}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function Le(Ye){const we=Ye.getComponent();return"VERSION"===we?.type}(Ze)){const Rt=Ze.getImmediate();return`${Rt.library}/${Rt.version}`}return null}).filter(Ze=>Ze).join(" ")}}const Ue="@firebase/app",Y=new B.Yd("@firebase/app"),oe="[DEFAULT]",de={[Ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ue=new Map,me=new Map;function ve(Ye,we){try{Ye.container.addComponent(we)}catch(Ze){Y.debug(`Component ${we.name} failed to register with FirebaseApp ${Ye.name}`,Ze)}}function be(Ye,we){Ye.container.addOrOverwriteComponent(we)}function yt(Ye){const we=Ye.name;if(me.has(we))return Y.debug(`There were multiple attempts to register component ${we}.`),!1;me.set(we,Ye);for(const Ze of ue.values())ve(Ze,Ye);return!0}function an(Ye,we){const Ze=Ye.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),Ye.container.getProvider(we)}function Pn(Ye,we,Ze=oe){an(Ye,we).clearInstance(Ze)}function ut(){me.clear()}const Dn=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qn{constructor(we,Ze,Rt){this._isDeleted=!1,this._options=Object.assign({},we),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=Rt,this.container.addComponent(new se.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this.checkDestroyed(),this._automaticDataCollectionEnabled=we}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(we){this._isDeleted=we}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}}const Sn="9.23.0";function Or(Ye,we={}){let Ze=Ye;"object"!=typeof we&&(we={name:we});const Rt=Object.assign({name:oe,automaticDataCollectionEnabled:!1},we),Dt=Rt.name;if("string"!=typeof Dt||!Dt)throw Dn.create("bad-app-name",{appName:String(Dt)});if(Ze||(Ze=(0,ge.aH)()),!Ze)throw Dn.create("no-options");const Yt=ue.get(Dt);if(Yt){if((0,ge.vZ)(Ze,Yt.options)&&(0,ge.vZ)(Rt,Yt.config))return Yt;throw Dn.create("duplicate-app",{appName:Dt})}const Ni=new se.H0(Dt);for(const j of me.values())Ni.addComponent(j);const $=new Qn(Ze,Rt,Ni);return ue.set(Dt,$),$}function Fn(Ye=oe){const we=ue.get(Ye);if(!we&&Ye===oe&&(0,ge.aH)())return Or();if(!we)throw Dn.create("no-app",{appName:Ye});return we}function Bt(){return Array.from(ue.values())}function vr(Ye){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,d.Z)(function*(Ye){const we=Ye.name;ue.has(we)&&(ue.delete(we),yield Promise.all(Ye.container.getProviders().map(Ze=>Ze.delete())),Ye.isDeleted=!0)})).apply(this,arguments)}function no(Ye,we,Ze){var Rt;let Dt=null!==(Rt=de[Ye])&&void 0!==Rt?Rt:Ye;Ze&&(Dt+=`-${Ze}`);const Yt=Dt.match(/\s|\//),Ni=we.match(/\s|\//);if(Yt||Ni){const $=[`Unable to register library "${Dt}" with version "${we}":`];return Yt&&$.push(`library name "${Dt}" contains illegal characters (whitespace or "/")`),Yt&&Ni&&$.push("and"),Ni&&$.push(`version name "${we}" contains illegal characters (whitespace or "/")`),void Y.warn($.join(" "))}yt(new se.wA(`${Dt}-version`,()=>({library:Dt,version:we}),"VERSION"))}function Eo(Ye,we){if(null!==Ye&&"function"!=typeof Ye)throw Dn.create("invalid-log-argument");(0,B.Am)(Ye,we)}function yr(Ye){(0,B.Ub)(Ye)}const Ua="firebase-heartbeat-database",at=1,Nt="firebase-heartbeat-store";let $t=null;function ws(){return $t||($t=(0,Ee.X3)(Ua,at,{upgrade:(Ye,we)=>{0===we&&Ye.createObjectStore(Nt)}}).catch(Ye=>{throw Dn.create("idb-open",{originalErrorMessage:Ye.message})})),$t}function je(){return(je=(0,d.Z)(function*(Ye){try{return yield(yield ws()).transaction(Nt).objectStore(Nt).get(Yo(Ye))}catch(we){if(we instanceof ge.ZR)Y.warn(we.message);else{const Ze=Dn.create("idb-get",{originalErrorMessage:we?.message});Y.warn(Ze.message)}}})).apply(this,arguments)}function br(Ye,we){return jn.apply(this,arguments)}function jn(){return(jn=(0,d.Z)(function*(Ye,we){try{const Rt=(yield ws()).transaction(Nt,"readwrite");yield Rt.objectStore(Nt).put(we,Yo(Ye)),yield Rt.done}catch(Ze){if(Ze instanceof ge.ZR)Y.warn(Ze.message);else{const Rt=Dn.create("idb-set",{originalErrorMessage:Ze?.message});Y.warn(Rt.message)}}})).apply(this,arguments)}function Yo(Ye){return`${Ye.name}!${Ye.options.appId}`}class Qt{constructor(we){this.container=we,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new It(Ze),this._heartbeatsCachePromise=this._storage.read().then(Rt=>(this._heartbeatsCache=Rt,Rt))}triggerHeartbeat(){var we=this;return(0,d.Z)(function*(){const Rt=we.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Dt=io();if(null===we._heartbeatsCache&&(we._heartbeatsCache=yield we._heartbeatsCachePromise),we._heartbeatsCache.lastSentHeartbeatDate!==Dt&&!we._heartbeatsCache.heartbeats.some(Yt=>Yt.date===Dt))return we._heartbeatsCache.heartbeats.push({date:Dt,agent:Rt}),we._heartbeatsCache.heartbeats=we._heartbeatsCache.heartbeats.filter(Yt=>{const Ni=new Date(Yt.date).valueOf();return Date.now()-Ni<=2592e6}),we._storage.overwrite(we._heartbeatsCache)})()}getHeartbeatsHeader(){var we=this;return(0,d.Z)(function*(){if(null===we._heartbeatsCache&&(yield we._heartbeatsCachePromise),null===we._heartbeatsCache||0===we._heartbeatsCache.heartbeats.length)return"";const Ze=io(),{heartbeatsToSend:Rt,unsentEntries:Dt}=function xs(Ye,we=1024){const Ze=[];let Rt=Ye.slice();for(const Dt of Ye){const Yt=Ze.find(Ni=>Ni.agent===Dt.agent);if(Yt){if(Yt.dates.push(Dt.date),Xt(Ze)>we){Yt.dates.pop();break}}else if(Ze.push({agent:Dt.agent,dates:[Dt.date]}),Xt(Ze)>we){Ze.pop();break}Rt=Rt.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:Rt}}(we._heartbeatsCache.heartbeats),Yt=(0,ge.L)(JSON.stringify({version:2,heartbeats:Rt}));return we._heartbeatsCache.lastSentHeartbeatDate=Ze,Dt.length>0?(we._heartbeatsCache.heartbeats=Dt,yield we._storage.overwrite(we._heartbeatsCache)):(we._heartbeatsCache.heartbeats=[],we._storage.overwrite(we._heartbeatsCache)),Yt})()}}function io(){return(new Date).toISOString().substring(0,10)}class It{constructor(we){this.app=we,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ge.hl)()&&(0,ge.eu)().then(()=>!0).catch(()=>!1)})()}read(){var we=this;return(0,d.Z)(function*(){return(yield we._canUseIndexedDBPromise)&&(yield function _i(Ye){return je.apply(this,arguments)}(we.app))||{heartbeats:[]}})()}overwrite(we){var Ze=this;return(0,d.Z)(function*(){var Rt;if(yield Ze._canUseIndexedDBPromise){const Yt=yield Ze.read();return br(Ze.app,{lastSentHeartbeatDate:null!==(Rt=we.lastSentHeartbeatDate)&&void 0!==Rt?Rt:Yt.lastSentHeartbeatDate,heartbeats:we.heartbeats})}})()}add(we){var Ze=this;return(0,d.Z)(function*(){var Rt;if(yield Ze._canUseIndexedDBPromise){const Yt=yield Ze.read();return br(Ze.app,{lastSentHeartbeatDate:null!==(Rt=we.lastSentHeartbeatDate)&&void 0!==Rt?Rt:Yt.lastSentHeartbeatDate,heartbeats:[...Yt.heartbeats,...we.heartbeats]})}})()}}function Xt(Ye){return(0,ge.L)(JSON.stringify({version:2,heartbeats:Ye})).length}!function Ac(Ye){yt(new se.wA("platform-logger",we=>new te(we),"PRIVATE")),yt(new se.wA("heartbeat",we=>new Qt(we),"PRIVATE")),no(Ue,"0.9.13",Ye),no(Ue,"0.9.13","esm2017"),no("fire-js","")}("")},97:(zt,$e,K)=>{K.d($e,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=K(594);(0,d.registerVersion)("firebase","9.23.0","app")},120:(zt,$e,K)=>{K.d($e,{Z:()=>d.Z});var d=K(399);d.Z.registerVersion("firebase","9.23.0","app-compat")},977:(zt,$e,K)=>{K.r($e);var d=K(861),se=K(399),B=K(58),ge=K(594),Ee=K(582),te=K(879),Le=K(537);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const dt=function Xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Lt=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nt=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ct=new te.Yd("@firebase/auth");function gt(b,...g){Ct.logLevel<=te.in.ERROR&&Ct.error(`Auth (${ge.SDK_VERSION}): ${b}`,...g)}function Pe(b,...g){throw _e(b,...g)}function et(b,...g){return _e(b,...g)}function Mt(b,g,_){const x=Object.assign(Object.assign({},Lt()),{[g]:_});return new B.LL("auth","Firebase",x).create(g,{appName:b.name})}function qe(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Pe(b,"argument-error"),Mt(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _e(b,...g){if("string"!=typeof b){const _=g[0],x=[...g.slice(1)];return x[0]&&(x[0].appName=b.name),b._errorFactory.create(_,...x)}return nt.create(b,...g)}function J(b,g,..._){if(!b)throw _e(g,..._)}function ze(b){const g="INTERNAL ASSERTION FAILED: "+b;throw gt(g),new Error(g)}function Vt(b,g){b||ze(g)}function Tn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function oi(){return"http:"===Un()||"https:"===Un()}function Un(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Ri{constructor(g,_){this.shortDelay=g,this.longDelay=_,Vt(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Nr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(oi()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function oe(b,g){Vt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class de{static initialize(g,_,x){this.fetchImpl=g,_&&(this.headersImpl=_),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},me=new Ri(3e4,6e4);function ve(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function be(b,g,_,x){return yt.apply(this,arguments)}function yt(){return(yt=(0,d.Z)(function*(b,g,_,x,A={}){return an(b,A,(0,d.Z)(function*(){let N={},G={};x&&("GET"===g?G=x:N={body:JSON.stringify(x)});const ee=(0,B.xO)(Object.assign({key:b.config.apiKey},G)).slice(1),Se=yield b._getAdditionalHeaders();return Se["Content-Type"]="application/json",b.languageCode&&(Se["X-Firebase-Locale"]=b.languageCode),de.fetch()(Dn(b,b.config.apiHost,_,ee),Object.assign({method:g,headers:Se,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function an(b,g,_){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,d.Z)(function*(b,g,_){b._canInitEmulator=!1;const x=Object.assign(Object.assign({},ue),g);try{const A=new Qn(b),N=yield Promise.race([_(),A.promise]);A.clearNetworkTimeout();const G=yield N.json();if("needConfirmation"in G)throw Sn(b,"account-exists-with-different-credential",G);if(N.ok&&!("errorMessage"in G))return G;{const ee=N.ok?G.errorMessage:G.error.message,[Se,Ae]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Se)throw Sn(b,"credential-already-in-use",G);if("EMAIL_EXISTS"===Se)throw Sn(b,"email-already-in-use",G);if("USER_DISABLED"===Se)throw Sn(b,"user-disabled",G);const Ke=x[Se]||Se.toLowerCase().replace(/[_\s]+/g,"-");if(Ae)throw Mt(b,Ke,Ae);Pe(b,Ke)}}catch(A){if(A instanceof B.ZR)throw A;Pe(b,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function ut(b,g,_,x){return wn.apply(this,arguments)}function wn(){return(wn=(0,d.Z)(function*(b,g,_,x,A={}){const N=yield be(b,g,_,x,A);return"mfaPendingCredential"in N&&Pe(b,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Dn(b,g,_,x){const A=`${g}${_}?${x}`;return b.config.emulator?oe(b.config,A):`${b.config.apiScheme}://${A}`}class Qn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,x)=>{this.timer=setTimeout(()=>x(et(this.auth,"network-request-failed")),me.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sn(b,g,_){const x={appName:b.name};_.email&&(x.email=_.email),_.phoneNumber&&(x.phoneNumber=_.phoneNumber);const A=et(b,g,x);return A.customData._tokenResponse=_,A}function Fn(){return(Fn=(0,d.Z)(function*(b,g){return be(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function vr(){return(vr=(0,d.Z)(function*(b,g){return be(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function no(){return(no=(0,d.Z)(function*(b,g){return be(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Eo(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function at(){return(at=(0,d.Z)(function*(b,g=!1){const _=(0,B.m9)(b),x=yield _.getIdToken(g),A=$t(x);J(A&&A.exp&&A.auth_time&&A.iat,_.auth,"internal-error");const N="object"==typeof A.firebase?A.firebase:void 0,G=N?.sign_in_provider;return{claims:A,token:x,authTime:Eo(Nt(A.auth_time)),issuedAtTime:Eo(Nt(A.iat)),expirationTime:Eo(Nt(A.exp)),signInProvider:G||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function Nt(b){return 1e3*Number(b)}function $t(b){const[g,_,x]=b.split(".");if(void 0===g||void 0===_||void 0===x)return gt("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,B.tV)(_);return A?JSON.parse(A):(gt("Failed to decode base64 JWT payload"),null)}catch(A){return gt("Caught error parsing JWT payload as JSON",A?.toString()),null}}function _i(b,g){return je.apply(this,arguments)}function je(){return(je=(0,d.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(x){throw x instanceof B.ZR&&function br({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(x)&&b.auth.currentUser===b&&(yield b.auth.signOut()),x}})).apply(this,arguments)}class jn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const A=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const x=this.getInterval(g);this.timerId=setTimeout((0,d.Z)(function*(){yield _.iteration()}),x)}iteration(){var g=this;return(0,d.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class Yo{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eo(this.lastLoginAt),this.creationTime=Eo(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cn(b){return na.apply(this,arguments)}function na(){return na=(0,d.Z)(function*(b){var g;const _=b.auth,x=yield b.getIdToken(),A=yield _i(b,function Xn(b,g){return no.apply(this,arguments)}(_,{idToken:x}));J(A?.users.length,_,"internal-error");const N=A.users[0];b._notifyReloadListener(N);const G=null!==(g=N.providerUserInfo)&&void 0!==g&&g.length?function It(b){return b.map(g=>{var{providerId:_}=g,x=(0,Ee._T)(g,["providerId"]);return{providerId:_,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}(N.providerUserInfo):[],ee=function xs(b,g){return[...b.filter(x=>!g.some(A=>A.providerId===x.providerId)),...g]}(b.providerData,G),Ke=!!b.isAnonymous&&!(b.email&&N.passwordHash||ee?.length),Je={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ee,metadata:new Yo(N.createdAt,N.lastLoginAt),isAnonymous:Ke};Object.assign(b,Je)}),na.apply(this,arguments)}function io(){return(io=(0,d.Z)(function*(b){const g=(0,B.m9)(b);yield cn(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ac(){return(Ac=(0,d.Z)(function*(b,g){const _=yield an(b,{},(0,d.Z)(function*(){const x=(0,B.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:A,apiKey:N}=b.config,G=Dn(b,A,"/v1/token",`key=${N}`),ee=yield b._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",de.fetch()(G,{method:"POST",headers:ee,body:x})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Ye{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){J(g.idToken,"internal-error"),J(typeof g.idToken<"u","internal-error"),J(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function ws(b){const g=$t(b);return J(g,"internal-error"),J(typeof g.exp<"u","internal-error"),J(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var x=this;return(0,d.Z)(function*(){return J(!x.accessToken||x.refreshToken,g,"user-token-expired"),_||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(g,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var x=this;return(0,d.Z)(function*(){const{accessToken:A,refreshToken:N,expiresIn:G}=yield function Xt(b,g){return Ac.apply(this,arguments)}(g,_);x.updateTokensAndExpiration(A,N,Number(G))})()}updateTokensAndExpiration(g,_,x){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(g,_){const{refreshToken:x,accessToken:A,expirationTime:N}=_,G=new Ye;return x&&(J("string"==typeof x,"internal-error",{appName:g}),G.refreshToken=x),A&&(J("string"==typeof A,"internal-error",{appName:g}),G.accessToken=A),N&&(J("number"==typeof N,"internal-error",{appName:g}),G.expirationTime=N),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ye,this.toJSON())}_performRefresh(){return ze("not implemented")}}function we(b,g){J("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class Ze{constructor(g){var{uid:_,auth:x,stsTokenManager:A}=g,N=(0,Ee._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=x,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Yo(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,d.Z)(function*(){const x=yield _i(_,_.stsTokenManager.getToken(_.auth,g));return J(x,_.auth,"internal-error"),_.accessToken!==x&&(_.accessToken=x,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),x})()}getIdTokenResult(g){return function Ua(b){return at.apply(this,arguments)}(this,g)}reload(){return function Qt(b){return io.apply(this,arguments)}(this)}_assign(g){this!==g&&(J(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new Ze(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var x=this;return(0,d.Z)(function*(){let A=!1;g.idToken&&g.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(g),A=!0),_&&(yield cn(x)),yield x.auth._persistUserIfCurrent(x),A&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var g=this;return(0,d.Z)(function*(){const _=yield g.getIdToken();return yield _i(g,function Or(b,g){return Fn.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var x,A,N,G,ee,Se,Ae,Ke;const Je=null!==(x=_.displayName)&&void 0!==x?x:void 0,ii=null!==(A=_.email)&&void 0!==A?A:void 0,Kr=null!==(N=_.phoneNumber)&&void 0!==N?N:void 0,cp=null!==(G=_.photoURL)&&void 0!==G?G:void 0,lp=null!==(ee=_.tenantId)&&void 0!==ee?ee:void 0,vf=null!==(Se=_._redirectEventId)&&void 0!==Se?Se:void 0,T_=null!==(Ae=_.createdAt)&&void 0!==Ae?Ae:void 0,dp=null!==(Ke=_.lastLoginAt)&&void 0!==Ke?Ke:void 0,{uid:up,emailVerified:yf,isAnonymous:hp,providerData:ul,stsTokenManager:hr}=_;J(up&&hr,g,"internal-error");const hl=Ye.fromJSON(this.name,hr);J("string"==typeof up,g,"internal-error"),we(Je,g.name),we(ii,g.name),J("boolean"==typeof yf,g,"internal-error"),J("boolean"==typeof hp,g,"internal-error"),we(Kr,g.name),we(cp,g.name),we(lp,g.name),we(vf,g.name),we(T_,g.name),we(dp,g.name);const bf=new Ze({uid:up,auth:g,email:ii,emailVerified:yf,displayName:Je,isAnonymous:hp,photoURL:cp,phoneNumber:Kr,tenantId:lp,stsTokenManager:hl,createdAt:T_,lastLoginAt:dp});return ul&&Array.isArray(ul)&&(bf.providerData=ul.map(fp=>Object.assign({},fp))),vf&&(bf._redirectEventId=vf),bf}static _fromIdTokenResponse(g,_,x=!1){return(0,d.Z)(function*(){const A=new Ye;A.updateFromServerResponse(_);const N=new Ze({uid:_.localId,auth:g,stsTokenManager:A,isAnonymous:x});return yield cn(N),N})()}}const Rt=new Map;function Dt(b){Vt(b instanceof Function,"Expected a class definition");let g=Rt.get(b);return g?(Vt(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,Rt.set(b,g),g)}const Ni=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(_,x){var A=this;return(0,d.Z)(function*(){A.storage[_]=x})()}_get(_){var x=this;return(0,d.Z)(function*(){const A=x.storage[_];return void 0===A?null:A})()}_remove(_){var x=this;return(0,d.Z)(function*(){delete x.storage[_]})()}_addListener(_,x){}_removeListener(_,x){}}return b.type="NONE",b})();function $(b,g,_){return`firebase:${b}:${g}:${_}`}class j{constructor(g,_,x){this.persistence=g,this.auth=_,this.userKey=x;const{config:A,name:N}=this.auth;this.fullUserKey=$(this.userKey,A.apiKey,N),this.fullPersistenceKey=$("persistence",A.apiKey,N),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,d.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?Ze._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,d.Z)(function*(){if(_.persistence===g)return;const x=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,x?_.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,x="authUser"){return(0,d.Z)(function*(){if(!_.length)return new j(Dt(Ni),g,x);const A=(yield Promise.all(_.map(function(){var Ae=(0,d.Z)(function*(Ke){if(yield Ke._isAvailable())return Ke});return function(Ke){return Ae.apply(this,arguments)}}()))).filter(Ae=>Ae);let N=A[0]||Dt(Ni);const G=$(x,g.config.apiKey,g.name);let ee=null;for(const Ae of _)try{const Ke=yield Ae._get(G);if(Ke){const Je=Ze._fromJSON(g,Ke);Ae!==N&&(ee=Je),N=Ae;break}}catch{}const Se=A.filter(Ae=>Ae._shouldAllowMigration);return N._shouldAllowMigration&&Se.length?(N=Se[0],ee&&(yield N._set(G,ee.toJSON())),yield Promise.all(_.map(function(){var Ae=(0,d.Z)(function*(Ke){if(Ke!==N)try{yield Ke._remove(G)}catch{}});return function(Ke){return Ae.apply(this,arguments)}}())),new j(N,g,x)):new j(N,g,x)})()}}function Q(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ut(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(ye(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(zr(g))return"Blackberry";if(or(g))return"Webos";if(re(g))return"Safari";if((g.includes("chrome/")||ct(g))&&!g.includes("edge/"))return"Chrome";if(dn(g))return"Android";{const x=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function ye(b=(0,B.z$)()){return/firefox\//i.test(b)}function re(b=(0,B.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ct(b=(0,B.z$)()){return/crios\//i.test(b)}function Ut(b=(0,B.z$)()){return/iemobile/i.test(b)}function dn(b=(0,B.z$)()){return/android/i.test(b)}function zr(b=(0,B.z$)()){return/blackberry/i.test(b)}function or(b=(0,B.z$)()){return/webos/i.test(b)}function sr(b=(0,B.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Sm(b=(0,B.z$)()){return sr(b)||dn(b)||or(b)||zr(b)||/windows phone/i.test(b)||Ut(b)}function r_(b,g=[]){let _;switch(b){case"Browser":_=Q((0,B.z$)());break;case"Worker":_=`${Q((0,B.z$)())}-${b}`;break;default:_=b}const x=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${ge.SDK_VERSION}/${x}`}function Nh(){return(Nh=(0,d.Z)(function*(b){return(yield be(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function kc(b,g){return ia.apply(this,arguments)}function ia(){return(ia=(0,d.Z)(function*(b,g){return be(b,"GET","/v2/recaptchaConfig",ve(b,g))})).apply(this,arguments)}function Gl(b){return void 0!==b&&void 0!==b.getResponse}function Mc(b){return void 0!==b&&void 0!==b.enterprise}class au{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function ql(b){return new Promise((g,_)=>{const x=document.createElement("script");x.setAttribute("src",b),x.onload=g,x.onerror=A=>{const N=et("internal-error");N.customData=A,_(N)},x.type="text/javascript",x.charset="UTF-8",function cu(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(x)})}function Wl(b){return`__${b}${Math.floor(1e6*Math.random())}`}class Zl{constructor(g){this.type="recaptcha-enterprise",this.auth=Zt(g)}verify(g="verify",_=!1){var x=this;return(0,d.Z)(function*(){function N(){return N=(0,d.Z)(function*(ee){if(!_){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var Se=(0,d.Z)(function*(Ae,Ke){kc(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Je=>{if(void 0!==Je.recaptchaKey){const ii=new au(Je);return null==ee.tenantId?ee._agentRecaptchaConfig=ii:ee._tenantRecaptchaConfigs[ee.tenantId]=ii,Ae(ii.siteKey)}Ke(new Error("recaptcha Enterprise site key undefined"))}).catch(Je=>{Ke(Je)})});return function(Ae,Ke){return Se.apply(this,arguments)}}())}),N.apply(this,arguments)}function G(ee,Se,Ae){const Ke=window.grecaptcha;Mc(Ke)?Ke.enterprise.ready(()=>{Ke.enterprise.execute(ee,{action:g}).then(Je=>{Se(Je)}).catch(()=>{Se("NO_RECAPTCHA")})}):Ae(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,Se)=>{(function A(ee){return N.apply(this,arguments)})(x.auth).then(Ae=>{if(!_&&Mc(window.grecaptcha))G(Ae,ee,Se);else{if(typeof window>"u")return void Se(new Error("RecaptchaVerifier is only supported in browser"));ql("https://www.google.com/recaptcha/enterprise.js?render="+Ae).then(()=>{G(Ae,ee,Se)}).catch(Ke=>{Se(Ke)})}}).catch(Ae=>{Se(Ae)})})})()}}function ro(b,g,_){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,d.Z)(function*(b,g,_,x=!1){const A=new Zl(b);let N;try{N=yield A.verify(_)}catch{N=yield A.verify(_,!0)}const G=Object.assign({},g);return Object.assign(G,x?{captchaResp:N}:{captchaResponse:N}),Object.assign(G,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(G,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),G})).apply(this,arguments)}class ra{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const x=N=>new Promise((G,ee)=>{try{G(g(N))}catch(Se){ee(Se)}});x.onAbort=_,this.queue.push(x);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,d.Z)(function*(){if(_.auth.currentUser===g)return;const x=[];try{for(const A of _.queue)yield A(g),A.onAbort&&x.push(A.onAbort)}catch(A){x.reverse();for(const N of x)try{N()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class Oh{constructor(g,_,x,A){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=x,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oa(this),this.idTokenSubscription=new oa(this),this.beforeStateQueue=new ra(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(g,_){var x=this;return _&&(this._popupRedirectResolver=Dt(_)),this._initializationPromise=this.queue((0,d.Z)(function*(){var A,N;if(!x._deleted&&(x.persistenceManager=yield j.create(x,g),!x._deleted)){if(null!==(A=x._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(_),x.lastNotifiedUid=(null===(N=x.currentUser)||void 0===N?void 0:N.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,d.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,d.Z)(function*(){var x;const A=yield _.assertedPersistence.getCurrentUser();let N=A,G=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ee=null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId,Se=N?._redirectEventId,Ae=yield _.tryRedirectSignIn(g);(!ee||ee===Se)&&Ae?.user&&(N=Ae.user,G=!0)}if(!N)return _.directlySetCurrentUser(null);if(!N._redirectEventId){if(G)try{yield _.beforeStateQueue.runMiddleware(N)}catch(ee){N=A,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ee))}return N?_.reloadAndSetCurrentUserOrClear(N):_.directlySetCurrentUser(null)}return J(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===N._redirectEventId?_.directlySetCurrentUser(N):_.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(g){var _=this;return(0,d.Z)(function*(){let x=null;try{x=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,d.Z)(function*(){try{yield cn(g)}catch(x){if("auth/network-request-failed"!==x?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function si(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,d.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,d.Z)(function*(){const x=g?(0,B.m9)(g):null;return x&&J(x.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(x&&x._clone(_))})()}_updateCurrentUser(g,_=!1){var x=this;return(0,d.Z)(function*(){if(!x._deleted)return g&&J(x.tenantId===g.tenantId,x,"tenant-id-mismatch"),_||(yield x.beforeStateQueue.runMiddleware(g)),x.queue((0,d.Z)(function*(){yield x.directlySetCurrentUser(g),x.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,d.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,d.Z)(function*(){yield _.assertedPersistence.setPersistence(Dt(g))}))}initializeRecaptchaConfig(){var g=this;return(0,d.Z)(function*(){const _=yield kc(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),x=new au(_);null==g.tenantId?g._agentRecaptchaConfig=x:g._tenantRecaptchaConfigs[g.tenantId]=x,x.emailPasswordEnabled&&new Zl(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new B.LL("auth","Firebase",g())}onAuthStateChanged(g,_,x){return this.registerStateListener(this.authStateSubscription,g,_,x)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,x){return this.registerStateListener(this.idTokenSubscription,g,_,x)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var x=this;return(0,d.Z)(function*(){const A=yield x.getOrInitRedirectPersistenceManager(_);return null===g?A.removeCurrentUser():A.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,d.Z)(function*(){if(!_.redirectPersistenceManager){const x=g&&Dt(g)||_._popupRedirectResolver;J(x,_,"argument-error"),_.redirectPersistenceManager=yield j.create(_,[Dt(x._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,d.Z)(function*(){var x,A;return _._isInitialized&&(yield _.queue((0,d.Z)(function*(){}))),(null===(x=_._currentUser)||void 0===x?void 0:x._redirectEventId)===g?_._currentUser:(null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,d.Z)(function*(){if(g===_.currentUser)return _.queue((0,d.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,x,A){if(this._deleted)return()=>{};const N="function"==typeof _?_:_.next.bind(_),G=this._isInitialized?Promise.resolve():this._initializationPromise;return J(G,this,"internal-error"),G.then(()=>N(this.currentUser)),"function"==typeof _?g.addObserver(_,x,A):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,d.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=r_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,d.Z)(function*(){var _;const x={"X-Client-Version":g.clientVersion};g.app.options.appId&&(x["X-Firebase-gmpid"]=g.app.options.appId);const A=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();A&&(x["X-Firebase-Client"]=A);const N=yield g._getAppCheckToken();return N&&(x["X-Firebase-AppCheck"]=N),x})()}_getAppCheckToken(){var g=this;return(0,d.Z)(function*(){var _;const x=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return x?.error&&function kt(b,...g){Ct.logLevel<=te.in.WARN&&Ct.warn(`Auth (${ge.SDK_VERSION}): ${b}`,...g)}(`Error while retrieving App Check token: ${x.error}`),x?.token})()}}function Zt(b){return(0,B.m9)(b)}class oa{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Rc(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Nc(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class Ha{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return ze("not implemented")}_getIdTokenResponse(g){return ze("not implemented")}_linkToIdToken(g,_){return ze("not implemented")}_getReauthenticationResolver(g){return ze("not implemented")}}function $y(b,g){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,d.Z)(function*(b,g){return be(b,"POST","/v1/accounts:resetPassword",ve(b,g))})).apply(this,arguments)}function o_(b,g){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,d.Z)(function*(b,g){return be(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Co(){return(Co=(0,d.Z)(function*(b,g){return be(b,"POST","/v1/accounts:update",ve(b,g))})).apply(this,arguments)}function ar(b,g){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,d.Z)(function*(b,g){return ut(b,"POST","/v1/accounts:signInWithPassword",ve(b,g))})).apply(this,arguments)}function hu(b,g){return fu.apply(this,arguments)}function fu(){return(fu=(0,d.Z)(function*(b,g){return be(b,"POST","/v1/accounts:sendOobCode",ve(b,g))})).apply(this,arguments)}function $r(){return($r=(0,d.Z)(function*(b,g){return hu(b,g)})).apply(this,arguments)}function Es(b,g){return mu.apply(this,arguments)}function mu(){return(mu=(0,d.Z)(function*(b,g){return hu(b,g)})).apply(this,arguments)}function Qo(b,g){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,d.Z)(function*(b,g){return hu(b,g)})).apply(this,arguments)}function Pc(){return(Pc=(0,d.Z)(function*(b,g){return hu(b,g)})).apply(this,arguments)}function Xo(){return(Xo=(0,d.Z)(function*(b,g){return ut(b,"POST","/v1/accounts:signInWithEmailLink",ve(b,g))})).apply(this,arguments)}function Cs(){return(Cs=(0,d.Z)(function*(b,g){return ut(b,"POST","/v1/accounts:signInWithEmailLink",ve(b,g))})).apply(this,arguments)}class $a extends Ha{constructor(g,_,x,A=null){super("password",x),this._email=g,this._password=_,this._tenantId=A}static _fromEmailAndPassword(g,_){return new $a(g,_,"password")}static _fromEmailAndCode(g,_,x=null){return new $a(g,_,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,d.Z)(function*(){var x;switch(_.signInMethod){case"password":const A={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(x=g._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const N=yield ro(g,A,"signInWithPassword");return ar(g,N)}return ar(g,A).catch(function(){var N=(0,d.Z)(function*(G){if("auth/missing-recaptcha-token"===G.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield ro(g,A,"signInWithPassword");return ar(g,ee)}return Promise.reject(G)});return function(G){return N.apply(this,arguments)}}());case"emailLink":return function rn(b,g){return Xo.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Pe(g,"internal-error")}})()}_linkToIdToken(g,_){var x=this;return(0,d.Z)(function*(){switch(x.signInMethod){case"password":return o_(g,{idToken:_,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function Yl(b,g){return Cs.apply(this,arguments)}(g,{idToken:_,email:x._email,oobCode:x._password});default:Pe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Gr(b,g){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,d.Z)(function*(b,g){return ut(b,"POST","/v1/accounts:signInWithIdp",ve(b,g))})).apply(this,arguments)}class cr extends Ha{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new cr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Pe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:A}=_,N=(0,Ee._T)(_,["providerId","signInMethod"]);if(!x||!A)return null;const G=new cr(x,A);return G.idToken=N.idToken||void 0,G.accessToken=N.accessToken||void 0,G.secret=N.secret,G.nonce=N.nonce,G.pendingToken=N.pendingToken||null,G}_getIdTokenResponse(g){return Gr(g,this.buildRequest())}_linkToIdToken(g,_){const x=this.buildRequest();return x.idToken=_,Gr(g,x)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Gr(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,B.xO)(_)}return g}}function oo(){return(oo=(0,d.Z)(function*(b,g){return be(b,"POST","/v1/accounts:sendVerificationCode",ve(b,g))})).apply(this,arguments)}function aa(){return(aa=(0,d.Z)(function*(b,g){return ut(b,"POST","/v1/accounts:signInWithPhoneNumber",ve(b,g))})).apply(this,arguments)}function Jl(){return(Jl=(0,d.Z)(function*(b,g){const _=yield ut(b,"POST","/v1/accounts:signInWithPhoneNumber",ve(b,g));if(_.temporaryProof)throw Sn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Nm={USER_NOT_FOUND:"user-not-found"};function ed(){return(ed=(0,d.Z)(function*(b,g){return ut(b,"POST","/v1/accounts:signInWithPhoneNumber",ve(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Nm)})).apply(this,arguments)}class ca extends Ha{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new ca({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new ca({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function yn(b,g){return aa.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Xl(b,g){return Jl.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function To(b,g){return ed.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:x,verificationCode:A}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:x,code:A}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:x,phoneNumber:A,temporaryProof:N}=g;return x||_||A||N?new ca({verificationId:_,verificationCode:x,phoneNumber:A,temporaryProof:N}):null}}class la{constructor(g){var _,x,A,N,G,ee;const Se=(0,B.zd)((0,B.pd)(g)),Ae=null!==(_=Se.apiKey)&&void 0!==_?_:null,Ke=null!==(x=Se.oobCode)&&void 0!==x?x:null,Je=function Fh(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Se.mode)&&void 0!==A?A:null);J(Ae&&Ke&&Je,"argument-error"),this.apiKey=Ae,this.operation=Je,this.code=Ke,this.continueUrl=null!==(N=Se.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(G=Se.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(ee=Se.tenantId)&&void 0!==ee?ee:null}static parseLink(g){const _=function Om(b){const g=(0,B.zd)((0,B.pd)(b)).link,_=g?(0,B.zd)((0,B.pd)(g)).deep_link_id:null,x=(0,B.zd)((0,B.pd)(b)).deep_link_id;return(x?(0,B.zd)((0,B.pd)(x)).link:null)||x||_||g||b}(g);try{return new la(_)}catch{return null}}}let so=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,x){return $a._fromEmailAndPassword(_,x)}static credentialWithLink(_,x){const A=la.parseLink(x);return J(A,"argument-error"),$a._fromEmailAndCode(_,A.code,A.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Jo{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ga extends Jo{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Fc extends Ga{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return J("providerId"in _&&"signInMethod"in _,"argument-error"),cr._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return J(g.idToken||g.accessToken,"argument-error"),cr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Fc.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Fc.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:x,oauthTokenSecret:A,pendingToken:N,nonce:G,providerId:ee}=g;if(!x&&!A&&!_&&!N||!ee)return null;try{return new Fc(ee)._credential({idToken:_,accessToken:x,nonce:G,pendingToken:N})}catch{return null}}}let pu=(()=>{class b extends Ga{constructor(){super("facebook.com")}static credential(_){return cr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Lh=(()=>{class b extends Ga{constructor(){super("google.com"),this.addScope("profile")}static credential(_,x){return cr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:x})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:x,oauthAccessToken:A}=_;if(!x&&!A)return null;try{return b.credential(x,A)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Pm=(()=>{class b extends Ga{constructor(){super("github.com")}static credential(_){return cr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class nd extends Ha{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return Gr(g,this.buildRequest())}_linkToIdToken(g,_){const x=this.buildRequest();return x.idToken=_,Gr(g,x)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,Gr(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:A,pendingToken:N}=_;return x&&A&&N&&x===A?new nd(x,N):null}static _create(g,_){return new nd(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Uh extends Jo{constructor(g){J(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Uh.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Uh.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=nd.fromJSON(g);return J(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:x}=g;if(!_||!x)return null;try{return nd._create(x,_)}catch{return null}}}let id=(()=>{class b extends Ga{constructor(){super("twitter.com")}static credential(_,x){return cr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:x})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:x,oauthTokenSecret:A}=_;if(!x||!A)return null;try{return b.credential(x,A)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function gu(b,g){return rd.apply(this,arguments)}function rd(){return(rd=(0,d.Z)(function*(b,g){return ut(b,"POST","/v1/accounts:signUp",ve(b,g))})).apply(this,arguments)}class qi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,x,A=!1){return(0,d.Z)(function*(){const N=yield Ze._fromIdTokenResponse(g,x,A),G=od(x);return new qi({user:N,providerId:G,_tokenResponse:x,operationType:_})})()}static _forOperation(g,_,x){return(0,d.Z)(function*(){yield g._updateTokensIfNecessary(x,!0);const A=od(x);return new qi({user:g,providerId:A,_tokenResponse:x,operationType:_})})()}}function od(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Lc(){return(Lc=(0,d.Z)(function*(b){var g;const _=Zt(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new qi({user:_.currentUser,providerId:null,operationType:"signIn"});const x=yield gu(_,{returnSecureToken:!0}),A=yield qi._fromIdTokenResponse(_,"signIn",x,!0);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class Gt extends B.ZR{constructor(g,_,x,A){var N;super(_.code,_.message),this.operationType=x,this.user=A,Object.setPrototypeOf(this,Gt.prototype),this.customData={appName:g.name,tenantId:null!==(N=g.tenantId)&&void 0!==N?N:void 0,_serverResponse:_.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(g,_,x,A){return new Gt(g,_,x,A)}}function Oi(b,g,_,x){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Gt._fromErrorAndOperation(b,N,g,x):N})}function Di(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function Wi(){return Wi=(0,d.Z)(function*(b,g){const _=(0,B.m9)(b);yield Wa(!0,_,g);const{providerUserInfo:x}=yield function Bt(b,g){return vr.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),A=Di(x||[]);return _.providerData=_.providerData.filter(N=>A.has(N.providerId)),A.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Wi.apply(this,arguments)}function _u(b,g){return sd.apply(this,arguments)}function sd(){return(sd=(0,d.Z)(function*(b,g,_=!1){const x=yield _i(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return qi._forOperation(b,"link",x)})).apply(this,arguments)}function Wa(b,g,_){return jh.apply(this,arguments)}function jh(){return(jh=(0,d.Z)(function*(b,g,_){yield cn(g);const A=!1===b?"provider-already-linked":"no-such-provider";J(Di(g.providerData).has(_)===b,g.auth,A)})).apply(this,arguments)}function Fm(b,g){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,d.Z)(function*(b,g,_=!1){const{auth:x}=b,A="reauthenticate";try{const N=yield _i(b,Oi(x,A,g,b),_);J(N.idToken,x,"internal-error");const G=$t(N.idToken);J(G,x,"internal-error");const{sub:ee}=G;return J(b.uid===ee,x,"user-mismatch"),qi._forOperation(b,A,N)}catch(N){throw"auth/user-not-found"===N?.code&&Pe(x,"user-mismatch"),N}})).apply(this,arguments)}function Be(b,g){return ft.apply(this,arguments)}function ft(){return(ft=(0,d.Z)(function*(b,g,_=!1){const x="signIn",A=yield Oi(b,x,g),N=yield qi._fromIdTokenResponse(b,x,A);return _||(yield b._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Hn(b,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(b,g){return Be(Zt(b),g)})).apply(this,arguments)}function Pi(b,g){return ao.apply(this,arguments)}function ao(){return(ao=(0,d.Z)(function*(b,g){const _=(0,B.m9)(b);return yield Wa(!1,_,g.providerId),_u(_,g)})).apply(this,arguments)}function Si(b,g){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)(function*(b,g){return Fm((0,B.m9)(b),g)})).apply(this,arguments)}function Do(){return(Do=(0,d.Z)(function*(b,g){return ut(b,"POST","/v1/accounts:signInWithCustomToken",ve(b,g))})).apply(this,arguments)}function Vc(){return Vc=(0,d.Z)(function*(b,g){const _=Zt(b),x=yield function Pr(b,g){return Do.apply(this,arguments)}(_,{token:g,returnSecureToken:!0}),A=yield qi._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(A.user),A}),Vc.apply(this,arguments)}class Za{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Bc._fromServerResponse(g,_):"totpInfo"in _?ei._fromServerResponse(g,_):Pe(g,"internal-error")}}class Bc extends Za{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Bc(_)}}class ei extends Za{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new ei(_)}}function co(b,g,_){var x;J((null===(x=_.url)||void 0===x?void 0:x.length)>0,b,"invalid-continue-uri"),J(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(J(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(J(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function So(){return So=(0,d.Z)(function*(b,g,_){var x;const A=Zt(b),N={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(x=A._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const G=yield ro(A,N,"getOobCode",!0);_&&co(A,G,_),yield Es(A,G)}else _&&co(A,N,_),yield Es(A,N).catch(function(){var G=(0,d.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Se=yield ro(A,N,"getOobCode",!0);_&&co(A,Se,_),yield Es(A,Se)}});return function(ee){return G.apply(this,arguments)}}())}),So.apply(this,arguments)}function vu(){return(vu=(0,d.Z)(function*(b,g,_){yield $y((0,B.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function cd(){return cd=(0,d.Z)(function*(b,g){yield function za(b,g){return Co.apply(this,arguments)}((0,B.m9)(b),{oobCode:g})}),cd.apply(this,arguments)}function Is(b,g){return bt.apply(this,arguments)}function bt(){return(bt=(0,d.Z)(function*(b,g){const _=(0,B.m9)(b),x=yield $y(_,{oobCode:g}),A=x.requestType;switch(J(A,_,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(x.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(x.mfaInfo,_,"internal-error");default:J(x.email,_,"internal-error")}let N=null;return x.mfaInfo&&(N=Za._fromServerResponse(Zt(_),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:N},operation:A}})).apply(this,arguments)}function jc(){return(jc=(0,d.Z)(function*(b,g){const{data:_}=yield Is((0,B.m9)(b),g);return _.email})).apply(this,arguments)}function Ya(){return Ya=(0,d.Z)(function*(b,g,_){var x;const A=Zt(b),N={returnSecureToken:!0,email:g,password:_,clientType:"CLIENT_TYPE_WEB"};let G;if(null!==(x=A._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const Ae=yield ro(A,N,"signUpPassword");G=gu(A,Ae)}else G=gu(A,N).catch(function(){var Ae=(0,d.Z)(function*(Ke){if("auth/missing-recaptcha-token"===Ke.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Je=yield ro(A,N,"signUpPassword");return gu(A,Je)}return Promise.reject(Ke)});return function(Ke){return Ae.apply(this,arguments)}}());const ee=yield G.catch(Ae=>Promise.reject(Ae)),Se=yield qi._fromIdTokenResponse(A,"signIn",ee);return yield A._updateCurrentUser(Se.user),Se}),Ya.apply(this,arguments)}function dd(){return dd=(0,d.Z)(function*(b,g,_){var x;const A=Zt(b),N={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function G(ee,Se){J(Se.handleCodeInApp,A,"argument-error"),Se&&co(A,ee,Se)}if(null!==(x=A._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const ee=yield ro(A,N,"getOobCode",!0);G(ee,_),yield Qo(A,ee)}else G(N,_),yield Qo(A,N).catch(function(){var ee=(0,d.Z)(function*(Se){if("auth/missing-recaptcha-token"!==Se.code)return Promise.reject(Se);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ae=yield ro(A,N,"getOobCode",!0);G(Ae,_),yield Qo(A,Ae)}});return function(Se){return ee.apply(this,arguments)}}())}),dd.apply(this,arguments)}function yu(){return(yu=(0,d.Z)(function*(b,g,_){const x=(0,B.m9)(b),A=so.credentialWithLink(g,_||Tn());return J(A._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),Hn(x,A)})).apply(this,arguments)}function da(){return(da=(0,d.Z)(function*(b,g){return be(b,"POST","/v1/accounts:createAuthUri",ve(b,g))})).apply(this,arguments)}function bu(){return bu=(0,d.Z)(function*(b,g){const x={identifier:g,continueUri:oi()?Tn():"http://localhost"},{signinMethods:A}=yield function Hc(b,g){return da.apply(this,arguments)}((0,B.m9)(b),x);return A||[]}),bu.apply(this,arguments)}function Lm(){return Lm=(0,d.Z)(function*(b,g){const _=(0,B.m9)(b),A={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&co(_.auth,A,g);const{email:N}=yield function s_(b,g){return $r.apply(this,arguments)}(_.auth,A);N!==b.email&&(yield b.reload())}),Lm.apply(this,arguments)}function wu(){return wu=(0,d.Z)(function*(b,g,_){const x=(0,B.m9)(b),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&co(x.auth,N,_);const{email:G}=yield function ai(b,g){return Pc.apply(this,arguments)}(x.auth,N);G!==b.email&&(yield b.reload())}),wu.apply(this,arguments)}function zh(){return(zh=(0,d.Z)(function*(b,g){return be(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function u_(){return u_=(0,d.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const x=(0,B.m9)(b),N={idToken:yield x.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},G=yield _i(x,function Gy(b,g){return zh.apply(this,arguments)}(x.auth,N));x.displayName=G.displayName||null,x.photoURL=G.photoUrl||null;const ee=x.providerData.find(({providerId:Se})=>"password"===Se);ee&&(ee.displayName=x.displayName,ee.photoURL=x.photoURL),yield x._updateTokensIfNecessary(G)}),u_.apply(this,arguments)}function f_(b,g,_){return Vm.apply(this,arguments)}function Vm(){return(Vm=(0,d.Z)(function*(b,g,_){const{auth:x}=b,N={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(N.email=g),_&&(N.password=_);const G=yield _i(b,o_(x,N));yield b._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class xu{constructor(g,_,x={}){this.isNewUser=g,this.providerId=_,this.profile=x}}class ud extends xu{constructor(g,_,x,A){super(g,_,x),this.username=A}}class m_ extends xu{constructor(g,_){super(g,"facebook.com",_)}}class p_ extends ud{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Eu extends xu{constructor(g,_){super(g,"google.com",_)}}class ua extends ud{constructor(g,_,x){super(g,"twitter.com",_,x)}}function Bm(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function vx(b){var g,_;if(!b)return null;const{providerId:x}=b,A=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},N=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!x&&b?.idToken){const G=null===(_=null===(g=$t(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(G)return new xu(N,"anonymous"!==G&&"custom"!==G?G:null)}if(!x)return null;switch(x){case"facebook.com":return new m_(N,A);case"github.com":return new p_(N,A);case"google.com":return new Eu(N,A);case"twitter.com":return new ua(N,A,b.screenName||null);case"custom":case"anonymous":return new xu(N,null);default:return new xu(N,x,A)}}(_)}class Ds{constructor(g,_,x){this.type=g,this.credential=_,this.auth=x}static _fromIdtoken(g,_){return new Ds("enroll",g,_)}static _fromMfaPendingCredential(g){return new Ds("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,x;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Ds._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(x=g.multiFactorSession)&&void 0!==x&&x.idToken)return Ds._fromIdtoken(g.multiFactorSession.idToken)}return null}}class $c{constructor(g,_,x){this.session=g,this.hints=_,this.signInResolver=x}static _fromError(g,_){const x=Zt(g),A=_.customData._serverResponse,N=(A.mfaInfo||[]).map(ee=>Za._fromServerResponse(x,ee));J(A.mfaPendingCredential,x,"internal-error");const G=Ds._fromMfaPendingCredential(A.mfaPendingCredential);return new $c(G,N,function(){var ee=(0,d.Z)(function*(Se){const Ae=yield Se._process(x,G);delete A.mfaInfo,delete A.mfaPendingCredential;const Ke=Object.assign(Object.assign({},A),{idToken:Ae.idToken,refreshToken:Ae.refreshToken});switch(_.operationType){case"signIn":const Je=yield qi._fromIdTokenResponse(x,_.operationType,Ke);return yield x._updateCurrentUser(Je.user),Je;case"reauthenticate":return J(_.user,x,"internal-error"),qi._forOperation(_.user,_.operationType,Ke);default:Pe(x,"internal-error")}});return function(Se){return ee.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,d.Z)(function*(){return _.signInResolver(g)})()}}class Xa{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(x=>Za._fromServerResponse(g.auth,x)))})}static _fromUser(g){return new Xa(g)}getSession(){var g=this;return(0,d.Z)(function*(){return Ds._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var x=this;return(0,d.Z)(function*(){const A=g,N=yield x.getSession(),G=yield _i(x.user,A._process(x.user.auth,N,_));return yield x.user._updateTokensIfNecessary(G),x.user.reload()})()}unenroll(g){var _=this;return(0,d.Z)(function*(){const x="string"==typeof g?g:g.uid,A=yield _.user.getIdToken();try{const N=yield _i(_.user,function qh(b,g){return be(b,"POST","/v2/accounts/mfaEnrollment:withdraw",ve(b,g))}(_.user.auth,{idToken:A,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:G})=>G!==x),yield _.user._updateTokensIfNecessary(N),yield _.user.reload()}catch(N){throw N}})()}}const fd=new WeakMap,kn="__sak";class md{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(kn,"1"),this.storage.removeItem(kn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const es=(()=>{class b extends md{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,x)=>this.onStorageEvent(_,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ha(){const b=(0,B.z$)();return re(b)||sr(b)}()&&function zy(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Sm(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const x of Object.keys(this.listeners)){const A=this.storage.getItem(x),N=this.localCache[x];A!==N&&_(x,N,A)}}onStorageEvent(_,x=!1){if(!_.key)return void this.forAllChangedKeys((ee,Se,Ae)=>{this.notifyListeners(ee,Ae)});const A=_.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(A);if(_.newValue!==ee)null!==_.newValue?this.storage.setItem(A,_.newValue):this.storage.removeItem(A);else if(this.localCache[A]===_.newValue&&!x)return}const N=()=>{const ee=this.storage.getItem(A);!x&&this.localCache[A]===ee||this.notifyListeners(A,ee)},G=this.storage.getItem(A);!function ja(){return(0,B.w1)()&&10===document.documentMode}()||G===_.newValue||_.newValue===_.oldValue?N():setTimeout(N,10)}notifyListeners(_,x){this.localCache[_]=x;const A=this.listeners[_];if(A)for(const N of Array.from(A))N(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,x,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:x,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,x){var A=()=>super._set,N=this;return(0,d.Z)(function*(){yield A().call(N,_,x),N.localCache[_]=JSON.stringify(x)})()}_get(_){var x=()=>super._get,A=this;return(0,d.Z)(function*(){const N=yield x().call(A,_);return A.localCache[_]=JSON.stringify(N),N})()}_remove(_){var x=()=>super._remove,A=this;return(0,d.Z)(function*(){yield x().call(A,_),delete A.localCache[_]})()}}return b.type="LOCAL",b})(),fa=(()=>{class b extends md{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,x){}_removeListener(_,x){}}return b.type="SESSION",b})();let Zy=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const x=this.receivers.find(N=>N.isListeningto(_));if(x)return x;const A=new b(_);return this.receivers.push(A),A}isListeningto(_){return this.eventTarget===_}handleEvent(_){var x=this;return(0,d.Z)(function*(){const A=_,{eventId:N,eventType:G,data:ee}=A.data,Se=x.handlersMap[G];if(!Se?.size)return;A.ports[0].postMessage({status:"ack",eventId:N,eventType:G});const Ae=Array.from(Se).map(function(){var Je=(0,d.Z)(function*(ii){return ii(A.origin,ee)});return function(ii){return Je.apply(this,arguments)}}()),Ke=yield function pd(b){return Promise.all(b.map(function(){var g=(0,d.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(x){return{fulfilled:!1,reason:x}}});return function(_){return g.apply(this,arguments)}}()))}(Ae);A.ports[0].postMessage({status:"done",eventId:N,eventType:G,response:Ke})})()}_subscribe(_,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(x)}_unsubscribe(_,x){this.handlersMap[_]&&x&&this.handlersMap[_].delete(x),(!x||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Zr(b="",g=10){let _="";for(let x=0;x<g;x++)_+=Math.floor(10*Math.random());return b+_}class Wh{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,x=50){var A=this;return(0,d.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let G,ee;return new Promise((Se,Ae)=>{const Ke=Zr("",20);N.port1.start();const Je=setTimeout(()=>{Ae(new Error("unsupported_event"))},x);ee={messageChannel:N,onMessage(ii){const Kr=ii;if(Kr.data.eventId===Ke)switch(Kr.data.status){case"ack":clearTimeout(Je),G=setTimeout(()=>{Ae(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),Se(Kr.data.response);break;default:clearTimeout(Je),clearTimeout(G),Ae(new Error("invalid_response"))}}},A.handlers.add(ee),N.port1.addEventListener("message",ee.onMessage),A.target.postMessage({eventType:g,eventId:Ke,data:_},[N.port2])}).finally(()=>{ee&&A.removeMessageHandler(ee)})})()}}function $n(){return window}function Wc(){return typeof $n().WorkerGlobalScope<"u"&&"function"==typeof $n().importScripts}function ts(){return(ts=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const As="firebaseLocalStorageDb",ma="firebaseLocalStorage",Ky="fbase_key";class hi{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Zh(b,g){return b.transaction([ma],g?"readwrite":"readonly").objectStore(ma)}function _d(){const b=indexedDB.open(As,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const x=b.result;try{x.createObjectStore(ma,{keyPath:Ky})}catch(A){_(A)}}),b.addEventListener("success",(0,d.Z)(function*(){const x=b.result;x.objectStoreNames.contains(ma)?g(x):(x.close(),yield function Kh(){const b=indexedDB.deleteDatabase(As);return new hi(b).toPromise()}(),g(yield _d()))}))})}function ns(b,g,_){return ko.apply(this,arguments)}function ko(){return(ko=(0,d.Z)(function*(b,g,_){const x=Zh(b,!0).put({[Ky]:g,value:_});return new hi(x).toPromise()})).apply(this,arguments)}function vd(){return(vd=(0,d.Z)(function*(b,g){const _=Zh(b,!1).get(g),x=yield new hi(_).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function Kc(b,g){const _=Zh(b,!0).delete(g);return new hi(_).toPromise()}const Yc=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.Z)(function*(){return _.db||(_.db=yield _d()),_.db})()}_withRetries(_){var x=this;return(0,d.Z)(function*(){let A=0;for(;;)try{const N=yield x._openDb();return yield _(N)}catch(N){if(A++>3)throw N;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.Z)(function*(){return Wc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.Z)(function*(){_.receiver=Zy._getInstance(function gd(){return Wc()?self:null}()),_.receiver._subscribe("keyChanged",function(){var x=(0,d.Z)(function*(A,N){return{keyProcessed:(yield _._poll()).includes(N.key)}});return function(A,N){return x.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var x=(0,d.Z)(function*(A,N){return["keyChanged"]});return function(A,N){return x.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.Z)(function*(){var x,A;if(_.activeServiceWorker=yield function Tu(){return ts.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Wh(_.activeServiceWorker);const N=yield _.sender._send("ping",{},800);N&&null!==(x=N[0])&&void 0!==x&&x.fulfilled&&null!==(A=N[0])&&void 0!==A&&A.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var x=this;return(0,d.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function Zc(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:_},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const _=yield _d();return yield ns(_,kn,"1"),yield Kc(_,kn),!0}catch{}return!1})()}_withPendingWrite(_){var x=this;return(0,d.Z)(function*(){x.pendingWrites++;try{yield _()}finally{x.pendingWrites--}})()}_set(_,x){var A=this;return(0,d.Z)(function*(){return A._withPendingWrite((0,d.Z)(function*(){return yield A._withRetries(N=>ns(N,_,x)),A.localCache[_]=x,A.notifyServiceWorker(_)}))})()}_get(_){var x=this;return(0,d.Z)(function*(){const A=yield x._withRetries(N=>function Yh(b,g){return vd.apply(this,arguments)}(N,_));return x.localCache[_]=A,A})()}_remove(_){var x=this;return(0,d.Z)(function*(){return x._withPendingWrite((0,d.Z)(function*(){return yield x._withRetries(A=>Kc(A,_)),delete x.localCache[_],x.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.Z)(function*(){const x=yield _._withRetries(G=>{const ee=Zh(G,!1).getAll();return new hi(ee).toPromise()});if(!x)return[];if(0!==_.pendingWrites)return[];const A=[],N=new Set;for(const{fbase_key:G,value:ee}of x)N.add(G),JSON.stringify(_.localCache[G])!==JSON.stringify(ee)&&(_.notifyListeners(G,ee),A.push(G));for(const G of Object.keys(_.localCache))_.localCache[G]&&!N.has(G)&&(_.notifyListeners(G,null),A.push(G));return A})()}notifyListeners(_,x){this.localCache[_]=x;const A=this.listeners[_];if(A)for(const N of Array.from(A))N(x)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Qc=1e12;class ku{constructor(g){this.auth=g,this.counter=Qc,this._widgets=new Map}render(g,_){const x=this.counter;return this._widgets.set(x,new Xh(g,this.auth.name,_||{})),this.counter++,x}reset(g){var _;const x=g||Qc;null===(_=this._widgets.get(x))||void 0===_||_.delete(),this._widgets.delete(x)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Qc))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,d.Z)(function*(){var x;return null===(x=_._widgets.get(g||Qc))||void 0===x||x.execute(),""})()}}class Xh{constructor(g,_,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof g?document.getElementById(g):g;J(A,"argument-error",{appName:_}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function zm(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<b;x++)g.push(_.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yd=Wl("rcb"),Zi=new Ri(3e4,6e4);class v_{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=$n().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return J(function ks(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)&&Gl($n().grecaptcha)?Promise.resolve($n().grecaptcha):new Promise((x,A)=>{const N=$n().setTimeout(()=>{A(et(g,"network-request-failed"))},Zi.get());$n()[yd]=()=>{$n().clearTimeout(N),delete $n()[yd];const ee=$n().grecaptcha;if(!ee||!Gl(ee))return void A(et(g,"internal-error"));const Se=ee.render;ee.render=(Ae,Ke)=>{const Je=Se(Ae,Ke);return this.counter++,Je},this.hostLanguage=_,x(ee)},ql(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:yd,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(N),A(et(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=$n().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ga{load(g){return(0,d.Z)(function*(){return new ku(g)})()}clearedOneInstance(){}}const $m="recaptcha",y_={theme:"light",type:"image"};class Gm{constructor(g,_=Object.assign({},y_),x){this.parameters=_,this.type=$m,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zt(x),this.isInvisible="invisible"===this.parameters.size,J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof g?document.getElementById(g):g;J(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ga:new v_,this.validateStartingState()}verify(){var g=this;return(0,d.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),x=g.getAssertedRecaptcha();return x.getResponse(_)||new Promise(N=>{const G=ee=>{ee&&(g.tokenChangeListeners.delete(G),N(ee))};g.tokenChangeListeners.add(G),g.isInvisible&&x.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(x=>x(_)),"function"==typeof g)g(_);else if("string"==typeof g){const x=$n()[g];"function"==typeof x&&x(_)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,d.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const x=document.createElement("div");_.appendChild(x),_=x}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,d.Z)(function*(){J(oi()&&!Wc(),g.auth,"internal-error"),yield function Vn(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function En(b){return Nh.apply(this,arguments)}(g.auth);J(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class yi{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=ca._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Ms(){return(Ms=(0,d.Z)(function*(b,g,_){const x=Zt(b),A=yield _a(x,g,(0,B.m9)(_));return new yi(A,N=>Hn(x,N))})).apply(this,arguments)}function Mu(){return(Mu=(0,d.Z)(function*(b,g,_){const x=(0,B.m9)(b);yield Wa(!1,x,"phone");const A=yield _a(x.auth,g,(0,B.m9)(_));return new yi(A,N=>Pi(x,N))})).apply(this,arguments)}function Ja(){return(Ja=(0,d.Z)(function*(b,g,_){const x=(0,B.m9)(b),A=yield _a(x.auth,g,(0,B.m9)(_));return new yi(A,N=>Si(x,N))})).apply(this,arguments)}function _a(b,g,_){return xd.apply(this,arguments)}function xd(){return xd=(0,d.Z)(function*(b,g,_){var x;const A=yield _.verify();try{let N;if(J("string"==typeof A,b,"argument-error"),J(_.type===$m,b,"argument-error"),N="string"==typeof g?{phoneNumber:g}:g,"session"in N){const G=N.session;if("phoneNumber"in N)return J("enroll"===G.type,b,"internal-error"),(yield function Gc(b,g){return be(b,"POST","/v2/accounts/mfaEnrollment:start",ve(b,g))}(b,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{J("signin"===G.type,b,"internal-error");const ee=(null===(x=N.multiFactorHint)||void 0===x?void 0:x.uid)||N.multiFactorUid;return J(ee,b,"missing-multi-factor-info"),(yield function Su(b,g){return be(b,"POST","/v2/accounts/mfaSignIn:start",ve(b,g))}(b,{mfaPendingCredential:G.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield function sa(b,g){return oo.apply(this,arguments)}(b,{phoneNumber:N.phoneNumber,recaptchaToken:A});return G}}finally{_._reset()}}),xd.apply(this,arguments)}function Ed(){return(Ed=(0,d.Z)(function*(b,g){yield _u((0,B.m9)(b),g)})).apply(this,arguments)}let va=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Zt(_)}verifyPhoneNumber(_,x){return _a(this.auth,_,(0,B.m9)(x))}static credential(_,x){return ca._fromVerification(_,x)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:x,temporaryProof:A}=_;return x&&A?ca._fromTokenResponse(x,A):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function is(b,g){return g?Dt(g):(J(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class bi extends Ha{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Gr(g,this._buildIdpRequest())}_linkToIdToken(g,_){return Gr(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return Gr(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function ya(b){return Be(b.auth,new bi(b),b.bypassAuthState)}function en(b){const{auth:g,user:_}=b;return J(_,g,"internal-error"),Fm(_,new bi(b),b.bypassAuthState)}function qm(b){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,d.Z)(function*(b){const{auth:g,user:_}=b;return J(_,g,"internal-error"),_u(_,new bi(b),b.bypassAuthState)})).apply(this,arguments)}class Nu{constructor(g,_,x,A,N=!1){this.auth=g,this.resolver=x,this.user=A,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,d.Z)(function*(x,A){g.pendingPromise={resolve:x,reject:A};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(N){g.reject(N)}});return function(x,A){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,d.Z)(function*(){const{urlResponse:x,sessionId:A,postBody:N,tenantId:G,error:ee,type:Se}=g;if(ee)return void _.reject(ee);const Ae={auth:_.auth,requestUri:x,sessionId:A,tenantId:G||void 0,postBody:N||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Se)(Ae))}catch(Ke){_.reject(Ke)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return ya;case"linkViaPopup":case"linkViaRedirect":return qm;case"reauthViaPopup":case"reauthViaRedirect":return en;default:Pe(this.auth,"internal-error")}}resolve(g){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ef=new Ri(2e3,1e4);function Jc(){return(Jc=(0,d.Z)(function*(b,g,_){const x=Zt(b);qe(b,g,Jo);const A=is(x,_);return new Cd(x,"signInViaPopup",g,A).executeNotNull()})).apply(this,arguments)}function Fr(){return(Fr=(0,d.Z)(function*(b,g,_){const x=(0,B.m9)(b);qe(x.auth,g,Jo);const A=is(x.auth,_);return new Cd(x.auth,"reauthViaPopup",g,A,x).executeNotNull()})).apply(this,arguments)}function ba(){return(ba=(0,d.Z)(function*(b,g,_){const x=(0,B.m9)(b);qe(x.auth,g,Jo);const A=is(x.auth,_);return new Cd(x.auth,"linkViaPopup",g,A,x).executeNotNull()})).apply(this,arguments)}let Cd=(()=>{class b extends Nu{constructor(_,x,A,N,G){super(_,x,N,G),this.provider=A,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.Z)(function*(){const x=yield _.execute();return J(x,_.auth,"internal-error"),x})()}onExecution(){var _=this;return(0,d.Z)(function*(){Vt(1===_.filter.length,"Popup operations only handle one event");const x=Zr();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],x),_.authWindow.associatedEvent=x,_.resolver._originValidation(_.auth).catch(A=>{_.reject(A)}),_.resolver._isIframeWebStorageSupported(_.auth,A=>{A||_.reject(et(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(et(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var x,A;this.pollId=null!==(A=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(et(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,ef.get())};_()}}return b.currentPopupAction=null,b})();const nf="pendingRedirect",Er=new Map;class Wm extends Nu{constructor(g,_,x=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,x),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,d.Z)(function*(){let x=Er.get(_.auth._key());if(!x){try{const N=(yield function rf(b,g){return sf.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;x=()=>Promise.resolve(N)}catch(A){x=()=>Promise.reject(A)}Er.set(_.auth._key(),x)}return _.bypassAuthState||Er.set(_.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,x=this;return(0,d.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(x,g);if("unknown"!==g.type){if(g.eventId){const A=yield x.auth._redirectUserForId(g.eventId);if(A)return x.user=A,_().call(x,g);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function sf(){return(sf=(0,d.Z)(function*(b,g){const _=el(g),x=Li(b);if(!(yield x._isAvailable()))return!1;const A="true"===(yield x._get(_));return yield x._remove(_),A})).apply(this,arguments)}function wa(b,g){return tn.apply(this,arguments)}function tn(){return(tn=(0,d.Z)(function*(b,g){return Li(b)._set(el(g),"true")})).apply(this,arguments)}function ec(b,g){Er.set(b._key(),g)}function Li(b){return Dt(b._redirectPersistence)}function el(b){return $(nf,b.config.apiKey,b.name)}function Zm(b,g,_){return function ot(b,g,_){return Lr.apply(this,arguments)}(b,g,_)}function Lr(){return(Lr=(0,d.Z)(function*(b,g,_){const x=Zt(b);qe(b,g,Jo),yield x._initializationPromise;const A=is(x,_);return yield wa(A,x),A._openRedirect(x,g,"signInViaRedirect")})).apply(this,arguments)}function af(b,g,_){return function Id(b,g,_){return Td.apply(this,arguments)}(b,g,_)}function Td(){return(Td=(0,d.Z)(function*(b,g,_){const x=(0,B.m9)(b);qe(x.auth,g,Jo),yield x.auth._initializationPromise;const A=is(x.auth,_);yield wa(A,x.auth);const N=yield lo(x);return A._openRedirect(x.auth,g,"reauthViaRedirect",N)})).apply(this,arguments)}function Dd(b,g,_){return function tl(b,g,_){return nl.apply(this,arguments)}(b,g,_)}function nl(){return(nl=(0,d.Z)(function*(b,g,_){const x=(0,B.m9)(b);qe(x.auth,g,Jo),yield x.auth._initializationPromise;const A=is(x.auth,_);yield Wa(!1,x,g.providerId),yield wa(A,x.auth);const N=yield lo(x);return A._openRedirect(x.auth,g,"linkViaRedirect",N)})).apply(this,arguments)}function st(){return(st=(0,d.Z)(function*(b,g){return yield Zt(b)._initializationPromise,Sd(b,g,!1)})).apply(this,arguments)}function Sd(b,g){return cf.apply(this,arguments)}function cf(){return(cf=(0,d.Z)(function*(b,g,_=!1){const x=Zt(b),A=is(x,g),G=yield new Wm(x,A,_).execute();return G&&!_&&(delete G.user._redirectEventId,yield x._persistUserIfCurrent(G.user),yield x._setRedirectUser(null,g)),G})).apply(this,arguments)}function lo(b){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,d.Z)(function*(b){const g=Zr(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class tc{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(g,x)&&(_=!0,this.sendToConsumer(g,x),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Md(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rl(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var x;if(g.error&&!rl(g)){const A=(null===(x=g.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";_.onError(et(this.auth,A))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const x=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&x}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kd(g))}saveEventToCache(g){this.cachedEventUids.add(kd(g)),this.lastProcessedEventTime=Date.now()}}function kd(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function rl({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function ol(b){return qn.apply(this,arguments)}function qn(){return(qn=(0,d.Z)(function*(b,g={}){return be(b,"GET","/v1/projects",g)})).apply(this,arguments)}const Km=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ki=/^https?/;function Rd(){return(Rd=(0,d.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield ol(b);for(const _ of g)try{if(ic(_))return}catch{}Pe(b,"unauthorized-domain")})).apply(this,arguments)}function ic(b){const g=Tn(),{protocol:_,hostname:x}=new URL(g);if(b.startsWith("chrome-extension://")){const G=new URL(b);return""===G.hostname&&""===x?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&G.hostname===x}if(!Ki.test(_))return!1;if(Km.test(b))return x===b;const A=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(x)}const rs=new Ri(3e4,6e4);function Ym(){const b=$n().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Cr=null;const sl=new Ri(5e3,15e3),Rn="__/auth/iframe",lf="emulator/auth/iframe",Nd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},An=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wn(b){const g=b.config;J(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?oe(g,lf):`https://${b.config.authDomain}/${Rn}`,x={apiKey:g.apiKey,appName:b.name,v:ge.SDK_VERSION},A=An.get(b.config.apiHost);A&&(x.eid=A);const N=b._getFrameworks();return N.length&&(x.fw=N.join(",")),`${_}?${(0,B.xO)(x).slice(1)}`}function ss(){return ss=(0,d.Z)(function*(b){const g=yield function rc(b){return Cr=Cr||function os(b){return new Promise((g,_)=>{var x,A,N;function G(){Ym(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Ym(),_(et(b,"network-request-failed"))},timeout:rs.get()})}if(null!==(A=null===(x=$n().gapi)||void 0===x?void 0:x.iframes)&&void 0!==A&&A.Iframe)g(gapi.iframes.getContext());else{if(null===(N=$n().gapi)||void 0===N||!N.load){const ee=Wl("iframefcb");return $n()[ee]=()=>{gapi.load?G():_(et(b,"network-request-failed"))},ql(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Se=>_(Se))}G()}}).catch(g=>{throw Cr=null,g})}(b),Cr}(b),_=$n().gapi;return J(_,b,"internal-error"),g.open({where:document.body,url:Wn(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nd,dontclear:!0},x=>new Promise(function(){var A=(0,d.Z)(function*(N,G){yield x.restyle({setHideOnLeave:!1});const ee=et(b,"network-request-failed"),Se=$n().setTimeout(()=>{G(ee)},sl.get());function Ae(){$n().clearTimeout(Se),N(x)}x.ping(Ae).then(Ae,()=>{G(ee)})});return function(N,G){return A.apply(this,arguments)}}()))}),ss.apply(this,arguments)}const fi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ho{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const b_="__/auth/handler",xa="emulator/auth/handler",df=encodeURIComponent("fac");function uf(b,g,_,x,A,N){return No.apply(this,arguments)}function No(){return(No=(0,d.Z)(function*(b,g,_,x,A,N){J(b.config.authDomain,b,"auth-domain-config-required"),J(b.config.apiKey,b,"invalid-api-key");const G={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:x,v:ge.SDK_VERSION,eventId:A};if(g instanceof Jo){g.setDefaultLanguage(b.languageCode),G.providerId=g.providerId||"",(0,B.xb)(g.getCustomParameters())||(G.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Ke,Je]of Object.entries(N||{}))G[Ke]=Je}if(g instanceof Ga){const Ke=g.getScopes().filter(Je=>""!==Je);Ke.length>0&&(G.scopes=Ke.join(","))}b.tenantId&&(G.tid=b.tenantId);const ee=G;for(const Ke of Object.keys(ee))void 0===ee[Ke]&&delete ee[Ke];const Se=yield b._getAppCheckToken(),Ae=Se?`#${df}=${encodeURIComponent(Se)}`:"";return`${function oc({config:b}){return b.emulator?oe(b,xa):`https://${b.authDomain}/${b_}`}(b)}?${(0,B.xO)(ee).slice(1)}${Ae}`})).apply(this,arguments)}const Ea="webStorageSupport",qt=class Os{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fa,this._completeRedirectFn=Sd,this._overrideRedirectResult=ec}_openPopup(g,_,x,A){var N=this;return(0,d.Z)(function*(){var G;Vt(null===(G=N.eventManagers[g._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const ee=yield uf(g,_,x,Tn(),A);return function Nn(b,g,_,x=500,A=600){const N=Math.max((window.screen.availHeight-A)/2,0).toString(),G=Math.max((window.screen.availWidth-x)/2,0).toString();let ee="";const Se=Object.assign(Object.assign({},fi),{width:x.toString(),height:A.toString(),top:N,left:G}),Ae=(0,B.z$)().toLowerCase();_&&(ee=ct(Ae)?"_blank":_),ye(Ae)&&(g=g||"http://localhost",Se.scrollbars="yes");const Ke=Object.entries(Se).reduce((ii,[Kr,cp])=>`${ii}${Kr}=${cp},`,"");if(function lt(b=(0,B.z$)()){var g;return sr(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Ae)&&"_self"!==ee)return function as(b,g){const _=document.createElement("a");_.href=b,_.target=g;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(x)}(g||"",ee),new ho(null);const Je=window.open(g||"",ee,Ke);J(Je,b,"popup-blocked");try{Je.focus()}catch{}return new ho(Je)}(g,ee,Zr())})()}_openRedirect(g,_,x,A){var N=this;return(0,d.Z)(function*(){return yield N._originValidation(g),function Iu(b){$n().location.href=b}(yield uf(g,_,x,Tn(),A)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:A,promise:N}=this.eventManagers[_];return A?Promise.resolve(A):(Vt(N,"If manager is not set, promise should be"),N)}const x=this.initAndGetManager(g);return this.eventManagers[_]={promise:x},x.catch(()=>{delete this.eventManagers[_]}),x}initAndGetManager(g){var _=this;return(0,d.Z)(function*(){const x=yield function Ro(b){return ss.apply(this,arguments)}(g),A=new tc(g);return x.register("authEvent",N=>(J(N?.authEvent,g,"invalid-auth-event"),{status:A.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:A},_.iframes[g._key()]=x,A})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Ea,{type:Ea},A=>{var N;const G=null===(N=A?.[0])||void 0===N?void 0:N[Ea];void 0!==G&&_(!!G),Pe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function nc(b){return Rd.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Sm()||re()||sr()}};class ci{constructor(g){this.factorId=g}_process(g,_,x){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,x);case"signin":return this._finalizeSignIn(g,_.credential);default:return ze("unexpected MultiFactorSessionType")}}}class hf extends ci{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new hf(g)}_finalizeEnroll(g,_,x){return function __(b,g){return be(b,"POST","/v2/accounts/mfaEnrollment:finalize",ve(b,g))}(g,{idToken:_,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Mn(b,g){return be(b,"POST","/v2/accounts/mfaSignIn:finalize",ve(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let cs=(()=>{class b{constructor(){}static assertion(_){return hf._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Od="@firebase/auth";class Jm{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,d.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(x=>{g(x?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Po(){return window}(0,B.Pz)("authIdTokenMaxAge"),function ff(b){(0,ge._registerComponent)(new Le.wA("auth",(g,{options:_})=>{const x=g.getProvider("app").getImmediate(),A=g.getProvider("heartbeat"),N=g.getProvider("app-check-internal"),{apiKey:G,authDomain:ee}=x.options;J(G&&!G.includes(":"),"invalid-api-key",{appName:x.name});const Se={apiKey:G,authDomain:ee,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r_(b)},Ae=new Oh(x,A,N,Se);return function Jt(b,g){const _=g?.persistence||[],x=(Array.isArray(_)?_:[_]).map(Dt);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(x,g?.popupRedirectResolver)}(Ae,_),Ae},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,x)=>{g.getProvider("auth-internal").initialize()})),(0,ge._registerComponent)(new Le.wA("auth-internal",g=>{const _=Zt(g.getProvider("auth").getImmediate());return new Jm(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ge.registerVersion)(Od,"0.23.2",function Yy(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,ge.registerVersion)(Od,"0.23.2","esm2017")}("Browser");function ac(){return ac=(0,d.Z)(function*(b,g,_){var x;const{BuildInfo:A}=Po();Vt(g.sessionId,"AuthEvent did not contain a session ID");const N=yield function Vs(b){return Bs.apply(this,arguments)}(g.sessionId),G={};return sr()?G.ibi=A.packageName:dn()?G.apn=A.packageName:Pe(b,"operation-not-supported-in-this-environment"),A.displayName&&(G.appDisplayName=A.displayName),G.sessionId=N,uf(b,_,g.type,void 0,null!==(x=g.eventId)&&void 0!==x?x:void 0,G)}),ac.apply(this,arguments)}function Fs(){return(Fs=(0,d.Z)(function*(b){const{BuildInfo:g}=Po(),_={};sr()?_.iosBundleId=g.packageName:dn()?_.androidPackageName=g.packageName:Pe(b,"operation-not-supported-in-this-environment"),yield ol(b,_)})).apply(this,arguments)}function Ca(){return(Ca=(0,d.Z)(function*(b,g,_){const{cordova:x}=Po();let A=()=>{};try{yield new Promise((N,G)=>{let ee=null;function Se(){var Je;N();const ii=null===(Je=x.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof ii&&ii(),"function"==typeof _?.close&&_.close()}function Ae(){ee||(ee=window.setTimeout(()=>{G(et(b,"redirect-cancelled-by-user"))},2e3))}function Ke(){"visible"===document?.visibilityState&&Ae()}g.addPassiveListener(Se),document.addEventListener("resume",Ae,!1),dn()&&document.addEventListener("visibilitychange",Ke,!1),A=()=>{g.removePassiveListener(Se),document.removeEventListener("resume",Ae,!1),document.removeEventListener("visibilitychange",Ke,!1),ee&&window.clearTimeout(ee)}})}finally{A()}})).apply(this,arguments)}function Bs(){return(Bs=(0,d.Z)(function*(b){const g=function cc(b){if(Vt(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const g=new ArrayBuffer(b.length),_=new Uint8Array(g);for(let x=0;x<b.length;x++)_[x]=b.charCodeAt(x);return _}(b),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Fu extends tc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,d.Z)(function*(){yield g.initPromise})()}}function mf(b){return pf.apply(this,arguments)}function pf(){return(pf=(0,d.Z)(function*(b){const g=yield dc()._get(ls(b));return g&&(yield dc()._remove(ls(b))),g})).apply(this,arguments)}function ll(){const b=[];for(let _=0;_<20;_++){const x=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(x))}return b.join("")}function dc(){return Dt(es)}function ls(b){return $("authEvent",b.config.apiKey,b.name)}function Lu(b){if(!b?.includes("?"))return{};const[g,..._]=b.split("?");return(0,B.zd)(_.join("?"))}const uc=class C_{constructor(){this._redirectPersistence=fa,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Sd,this._overrideRedirectResult=ec}_initialize(g){var _=this;return(0,d.Z)(function*(){const x=g._key();let A=_.eventManagers.get(x);return A||(A=new Fu(g),_.eventManagers.set(x,A),_.attachCallbackListeners(g,A)),A})()}_openPopup(g){Pe(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,x,A){var N=this;return(0,d.Z)(function*(){!function x_(b){var g,_,x,A,N,G,ee,Se,Ae,Ke;const Je=Po();J("function"==typeof(null===(g=Je?.universalLinks)||void 0===g?void 0:g.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(typeof(null===(_=Je?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J("function"==typeof(null===(N=null===(A=null===(x=Je?.cordova)||void 0===x?void 0:x.plugins)||void 0===A?void 0:A.browsertab)||void 0===N?void 0:N.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(Se=null===(ee=null===(G=Je?.cordova)||void 0===G?void 0:G.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===Se?void 0:Se.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(Ke=null===(Ae=Je?.cordova)||void 0===Ae?void 0:Ae.InAppBrowser)||void 0===Ke?void 0:Ke.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const G=yield N._initialize(g);yield G.initialized(),G.resetRedirect(),function Fi(){Er.clear()}(),yield N._originValidation(g);const ee=function lc(b,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:ll(),postBody:null,tenantId:b.tenantId,error:et(b,"no-auth-event")}}(g,x,A);yield function Us(b,g){return dc()._set(ls(b),g)}(g,ee);const Se=yield function On(b,g,_){return ac.apply(this,arguments)}(g,ee,_),Ae=yield function w_(b){const{cordova:g}=Po();return new Promise(_=>{g.plugins.browsertab.isAvailable(x=>{let A=null;x?g.plugins.browsertab.openUrl(b):A=g.InAppBrowser.open(b,function xt(b=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(A)})})}(Se);return function Ls(b,g,_){return Ca.apply(this,arguments)}(g,G,Ae)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Xy(b){return Fs.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:x,handleOpenURL:A,BuildInfo:N}=Po(),G=setTimeout((0,d.Z)(function*(){yield mf(g),_.onEvent(tp())}),500),ee=function(){var Ke=(0,d.Z)(function*(Je){clearTimeout(G);const ii=yield mf(g);let Kr=null;ii&&Je?.url&&(Kr=function Jy(b,g){var _,x;const A=function ep(b){const g=Lu(b),_=g.link?decodeURIComponent(g.link):void 0,x=Lu(_).link,A=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Lu(A).link||A||x||_||b}(g);if(A.includes("/__/auth/callback")){const N=Lu(A),G=N.firebaseError?function E_(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,ee=null===(x=null===(_=G?.code)||void 0===_?void 0:_.split("auth/"))||void 0===x?void 0:x[1],Se=ee?et(ee):null;return Se?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Se,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:A,postBody:null}}return null}(ii,Je.url)),_.onEvent(Kr||tp())});return function(ii){return Ke.apply(this,arguments)}}();typeof x<"u"&&"function"==typeof x.subscribe&&x.subscribe(null,ee);const Se=A,Ae=`${N.packageName.toLowerCase()}://`;Po().handleOpenURL=function(){var Ke=(0,d.Z)(function*(Je){if(Je.toLowerCase().startsWith(Ae)&&ee({url:Je}),"function"==typeof Se)try{Se(Je)}catch(ii){console.error(ii)}});return function(Je){return Ke.apply(this,arguments)}}()}};function tp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:et("no-auth-event")}}function fc(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function T(b=(0,B.z$)()){return!("file:"!==fc()&&"ionic:"!==fc()&&"capacitor:"!==fc()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function ie(){try{const b=self.localStorage,g=Zr();if(b)return b.setItem(g,"1"),b.removeItem(g),!function W(b=(0,B.z$)()){return function O(){return(0,B.w1)()&&11===document?.documentMode}()||function H(b=(0,B.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,B.hl)()}catch{return Me()&&(0,B.hl)()}return!1}function Me(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Re(){return(function E(){return"http:"===fc()||"https:"===fc()}()||(0,B.ru)()||T())&&!function k(){return(0,B.b$)()||(0,B.UG)()}()&&ie()&&!Me()}function it(){return T()&&typeof document<"u"}function St(){return(St=(0,d.Z)(function*(){return!!it()&&new Promise(b=>{const g=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),b(!0)})})})).apply(this,arguments)}const sn={LOCAL:"local",NONE:"none",SESSION:"session"},Ia=J,Ta="persistence";function ni(b){return dr.apply(this,arguments)}function dr(){return(dr=(0,d.Z)(function*(b){yield b._initializationPromise;const g=js(),_=$(Ta,b.config.apiKey,b.name);g&&g.setItem(_,b._getPersistence())})).apply(this,arguments)}function js(){var b;try{return(null===(b=function Sr(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const np=J;class ur{constructor(){this.browserResolver=Dt(qt),this.cordovaResolver=Dt(uc),this.underlyingResolver=null,this._redirectPersistence=fa,this._completeRedirectFn=Sd,this._overrideRedirectResult=ec}_initialize(g){var _=this;return(0,d.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,x,A){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(g,_,x,A)})()}_openRedirect(g,_,x,A){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(g,_,x,A)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return it()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return np(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,d.Z)(function*(){if(g.underlyingResolver)return;const _=yield function wt(){return St.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function us(b){return b.unwrap()}function ip(b){return rp(b)}function rp(b){const{_tokenResponse:g}=b instanceof B.ZR?b.customData:b;if(!g)return null;if(!(b instanceof B.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return va.credentialFromResult(b);const _=g.providerId;if(!_||_===Ce.PASSWORD)return null;let x;switch(_){case Ce.GOOGLE:x=Lh;break;case Ce.FACEBOOK:x=pu;break;case Ce.GITHUB:x=Pm;break;case Ce.TWITTER:x=id;break;default:const{oauthIdToken:A,oauthAccessToken:N,oauthTokenSecret:G,pendingToken:ee,nonce:Se}=g;return N||G||A||ee?ee?_.startsWith("saml.")?nd._create(_,ee):cr._fromParams({providerId:_,signInMethod:_,pendingToken:ee,idToken:A,accessToken:N}):new Fc(_).credential({idToken:A,accessToken:N,rawNonce:Se}):null}return b instanceof B.ZR?x.credentialFromError(b):x.credentialFromResult(b)}function fo(b,g){return g.catch(_=>{throw _ instanceof B.ZR&&function eb(b,g){var _;const x=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new wx(b,function jm(b,g){var _;const x=(0,B.m9)(b),A=g;return J(g.customData.operationType,x,"argument-error"),J(null===(_=A.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,x,"argument-error"),$c._fromError(x,A)}(b,g));else if(x){const A=rp(g),N=g;A&&(N.credential=A,N.tenantId=x.tenantId||void 0,N.email=x.email||void 0,N.phoneNumber=x.phoneNumber||void 0)}}(b,_),_}).then(_=>{const A=_.user;return{operationType:_.operationType,credential:ip(_),additionalUserInfo:Bm(_),user:mc.getOrCreate(A)}})}function _f(b,g){return op.apply(this,arguments)}function op(){return(op=(0,d.Z)(function*(b,g){const _=yield g;return{verificationId:_.verificationId,confirm:x=>fo(b,_.confirm(x))}})).apply(this,arguments)}class wx{constructor(g,_){this.resolver=_,this.auth=function Bu(b){return b.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return fo(us(this.auth),this.resolver.resolveSignIn(g))}}class mc{constructor(g){this._delegate=g,this.multiFactor=function Wy(b){const g=(0,B.m9)(b);return fd.has(g)||fd.set(g,Xa._fromUser(g)),fd.get(g)}(g)}static getOrCreate(g){return mc.USER_MAP.has(g)||mc.USER_MAP.set(g,new mc(g)),mc.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,d.Z)(function*(){return fo(_.auth,Pi(_._delegate,g))})()}linkWithPhoneNumber(g,_){var x=this;return(0,d.Z)(function*(){return _f(x.auth,function Xc(b,g,_){return Mu.apply(this,arguments)}(x._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,d.Z)(function*(){return fo(_.auth,function Pu(b,g,_){return ba.apply(this,arguments)}(_._delegate,g,ur))})()}linkWithRedirect(g){var _=this;return(0,d.Z)(function*(){return yield ni(Zt(_.auth)),Dd(_._delegate,g,ur)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,d.Z)(function*(){return fo(_.auth,Si(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return _f(this.auth,function wd(b,g,_){return Ja.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return fo(this.auth,function Ou(b,g,_){return Fr.apply(this,arguments)}(this._delegate,g,ur))}reauthenticateWithRedirect(g){var _=this;return(0,d.Z)(function*(){return yield ni(Zt(_.auth)),af(_._delegate,g,ur)})()}sendEmailVerification(g){return function l_(b,g){return Lm.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,d.Z)(function*(){return yield function qa(b,g){return Wi.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function h_(b,g){return f_((0,B.m9)(b),g,null)}(this._delegate,g)}updatePassword(g){return function _x(b,g){return f_((0,B.m9)(b),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Ru(b,g){return Ed.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function d_(b,g){return u_.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function Hh(b,g,_){return wu.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}mc.USER_MAP=new WeakMap;const Uu=J;let tb=(()=>{class b{constructor(_,x){if(this.app=_,x.isInitialized())return this._delegate=x.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=_.options;Uu(A,"invalid-api-key",{appName:_.name}),Uu(A,"invalid-api-key",{appName:_.name});const N=typeof window<"u"?ur:void 0;this._delegate=x.initialize({options:{persistence:xx(A,_.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(dt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?mc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,x){!function du(b,g,_){const x=Zt(b);J(x._canInitEmulator,x,"emulator-config-failed"),J(/^https?:\/\//.test(g),x,"invalid-emulator-scheme");const A=!!_?.disableWarnings,N=Rc(g),{host:G,port:ee}=function uu(b){const g=Rc(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const x=_[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(x);if(A){const N=A[1];return{host:N,port:Nc(x.substr(N.length+1))}}{const[N,G]=x.split(":");return{host:N,port:Nc(G)}}}(g);x.config.emulator={url:`${N}//${G}${null===ee?"":`:${ee}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:G,port:ee,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Mm(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,_,x)}applyActionCode(_){return function Ka(b,g){return cd.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Is(this._delegate,_)}confirmPasswordReset(_,x){return function Uc(b,g,_){return vu.apply(this,arguments)}(this._delegate,_,x)}createUserWithEmailAndPassword(_,x){var A=this;return(0,d.Z)(function*(){return fo(A._delegate,function Ao(b,g,_){return Ya.apply(this,arguments)}(A._delegate,_,x))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function lr(b,g){return bu.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function wr(b,g){const _=la.parseLink(g);return"EMAIL_SIGNIN"===_?.operation}(0,_)}getRedirectResult(){var _=this;return(0,d.Z)(function*(){Uu(Re(),_._delegate,"operation-not-supported-in-this-environment");const x=yield function il(b,g){return st.apply(this,arguments)}(_._delegate,ur);return x?fo(_._delegate,Promise.resolve(x)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function hc(b,g){Zt(b)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,x,A){const{next:N,error:G,complete:ee}=I_(_,x,A);return this._delegate.onAuthStateChanged(N,G,ee)}onIdTokenChanged(_,x,A){const{next:N,error:G,complete:ee}=I_(_,x,A);return this._delegate.onIdTokenChanged(N,G,ee)}sendSignInLinkToEmail(_,x){return function vi(b,g,_){return dd.apply(this,arguments)}(this._delegate,_,x)}sendPasswordResetEmail(_,x){return function ad(b,g,_){return So.apply(this,arguments)}(this._delegate,_,x||void 0)}setPersistence(_){var x=this;return(0,d.Z)(function*(){let A;switch(function Da(b,g){Ia(Object.values(sn).includes(g),b,"invalid-persistence-type"),(0,B.b$)()?Ia(g!==sn.SESSION,b,"unsupported-persistence-type"):(0,B.UG)()?Ia(g===sn.NONE,b,"unsupported-persistence-type"):Me()?Ia(g===sn.NONE||g===sn.LOCAL&&(0,B.hl)(),b,"unsupported-persistence-type"):Ia(g===sn.NONE||ie(),b,"unsupported-persistence-type")}(x._delegate,_),_){case sn.SESSION:A=fa;break;case sn.LOCAL:A=(yield Dt(Yc)._isAvailable())?Yc:es;break;case sn.NONE:A=Ni;break;default:return Pe("argument-error",{appName:x._delegate.name})}return x._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return fo(this._delegate,function a_(b){return Lc.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return fo(this._delegate,Hn(this._delegate,_))}signInWithCustomToken(_){return fo(this._delegate,function Pt(b,g){return Vc.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,x){return fo(this._delegate,function ld(b,g,_){return Hn((0,B.m9)(b),so.credential(g,_))}(this._delegate,_,x))}signInWithEmailLink(_,x){return fo(this._delegate,function xr(b,g,_){return yu.apply(this,arguments)}(this._delegate,_,x))}signInWithPhoneNumber(_,x){return _f(this._delegate,function bd(b,g,_){return Ms.apply(this,arguments)}(this._delegate,_,x))}signInWithPopup(_){var x=this;return(0,d.Z)(function*(){return Uu(Re(),x._delegate,"operation-not-supported-in-this-environment"),fo(x._delegate,function tf(b,g,_){return Jc.apply(this,arguments)}(x._delegate,_,ur))})()}signInWithRedirect(_){var x=this;return(0,d.Z)(function*(){return Uu(Re(),x._delegate,"operation-not-supported-in-this-environment"),yield ni(x._delegate),Zm(x._delegate,_,ur)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function c_(b,g){return jc.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=sn,b})();function I_(b,g,_){let x=b;"function"!=typeof b&&({next:x,error:g,complete:_}=b);const A=x;return{next:G=>A(G&&mc.getOrCreate(G)),error:g,complete:_}}function xx(b,g){const _=function Sa(b,g){const _=js();if(!_)return[];const x=$(Ta,b,g);switch(_.getItem(x)){case sn.NONE:return[Ni];case sn.LOCAL:return[Yc,fa];case sn.SESSION:return[fa];default:return[]}}(b,g);if(typeof self<"u"&&!_.includes(Yc)&&_.push(Yc),typeof window<"u")for(const x of[es,fa])_.includes(x)||_.push(x);return _.includes(Ni)||_.push(Ni),_}class sp{constructor(){this.providerId="phone",this._delegate=new va(us(se.Z.auth()))}static credential(g,_){return va.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}sp.PHONE_SIGN_IN_METHOD=va.PHONE_SIGN_IN_METHOD,sp.PROVIDER_ID=va.PROVIDER_ID;const nb=J;class ap{constructor(g,_,x=se.Z.app()){var A;nb(null===(A=x.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:x.name}),this._delegate=new Gm(g,_,x.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function hs(b){b.INTERNAL.registerComponent(new Le.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),x=g.getProvider("auth");return new tb(_,x)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:so,FacebookAuthProvider:pu,GithubAuthProvider:Pm,GoogleAuthProvider:Lh,OAuthProvider:Fc,SAMLAuthProvider:Uh,PhoneAuthProvider:sp,PhoneMultiFactorGenerator:cs,RecaptchaVerifier:ap,TwitterAuthProvider:id,Auth:tb,AuthCredential:Ha,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.4.2")}(se.Z)},537:(zt,$e,K)=>{K.d($e,{H0:()=>Ue,wA:()=>B,zt:()=>Ee});var d=K(861),se=K(58);class B{constructor(Y,q,le){this.name=Y,this.instanceFactory=q,this.type=le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const ge="[DEFAULT]";class Ee{constructor(Y,q){this.name=Y,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const q=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(q)){const le=new se.BH;if(this.instancesDeferred.set(q,le),this.isInitialized(q)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:q});Xe&&le.resolve(Xe)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(Y){var q;const le=this.normalizeInstanceIdentifier(Y?.identifier),Xe=null!==(q=Y?.optional)&&void 0!==q&&q;if(!this.isInitialized(le)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:le})}catch(Oe){if(Xe)return null;throw Oe}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function Le(Ce){return"EAGER"===Ce.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:ge})}catch{}for(const[q,le]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(q);try{const Oe=this.getOrInitializeService({instanceIdentifier:Xe});le.resolve(Oe)}catch{}}}}clearInstance(Y=ge){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,d.Z)(function*(){const q=Array.from(Y.instances.values());yield Promise.all([...q.filter(le=>"INTERNAL"in le).map(le=>le.INTERNAL.delete()),...q.filter(le=>"_delete"in le).map(le=>le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=ge){return this.instances.has(Y)}getOptions(Y=ge){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:q={}}=Y,le=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(le))throw Error(`${this.name}(${le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:le,options:q});for(const[Oe,dt]of this.instancesDeferred.entries())le===this.normalizeInstanceIdentifier(Oe)&&dt.resolve(Xe);return Xe}onInit(Y,q){var le;const Xe=this.normalizeInstanceIdentifier(q),Oe=null!==(le=this.onInitCallbacks.get(Xe))&&void 0!==le?le:new Set;Oe.add(Y),this.onInitCallbacks.set(Xe,Oe);const dt=this.instances.get(Xe);return dt&&Y(dt,Xe),()=>{Oe.delete(Y)}}invokeOnInitCallbacks(Y,q){const le=this.onInitCallbacks.get(q);if(le)for(const Xe of le)try{Xe(Y,q)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:q={}}){let le=this.instances.get(Y);if(!le&&this.component&&(le=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=Y,Ce===ge?void 0:Ce),options:q}),this.instances.set(Y,le),this.instancesOptions.set(Y,q),this.invokeOnInitCallbacks(le,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,le)}catch{}var Ce;return le||null}normalizeInstanceIdentifier(Y=ge){return this.component?this.component.multipleInstances?Y:ge:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ue{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const q=this.getProvider(Y.name);if(q.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);q.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const q=new Ee(Y,this);return this.providers.set(Y,q),q}getProviders(){return Array.from(this.providers.values())}}},879:(zt,$e,K)=>{K.d($e,{Am:()=>Ce,Ub:()=>Ue,Yd:()=>Le,in:()=>se});const d=[];var se=function(Y){return Y[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y}(se||{});const B={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},ge=se.INFO,Ee={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},te=(Y,q,...le)=>{if(q<Y.logLevel)return;const Xe=(new Date).toISOString(),Oe=Ee[q];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Oe](`[${Xe}]  ${Y.name}:`,...le)};class Le{constructor(q){this.name=q,this._logLevel=ge,this._logHandler=te,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in se))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?B[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...q),this._logHandler(this,se.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...q),this._logHandler(this,se.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,se.INFO,...q),this._logHandler(this,se.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,se.WARN,...q),this._logHandler(this,se.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...q),this._logHandler(this,se.ERROR,...q)}}function Ue(Y){d.forEach(q=>{q.setLogLevel(Y)})}function Ce(Y,q){for(const le of d){let Xe=null;q&&q.level&&(Xe=B[q.level]),le.userLogHandler=null===Y?null:(Oe,dt,...Lt)=>{const nt=Lt.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");dt>=(Xe??Oe.logLevel)&&Y({level:se[dt].toLowerCase(),message:nt,args:Lt,type:Oe.name})}}}},878:(zt,$e,K)=>{K.d($e,{X3:()=>kt});var d=K(861);const se=(_e,J)=>J.some(ze=>_e instanceof ze);let B,ge;const Le=new WeakMap,Ue=new WeakMap,Ce=new WeakMap,Y=new WeakMap,q=new WeakMap;let Oe={get(_e,J,ze){if(_e instanceof IDBTransaction){if("done"===J)return Ue.get(_e);if("objectStoreNames"===J)return _e.objectStoreNames||Ce.get(_e);if("store"===J)return ze.objectStoreNames[1]?void 0:ze.objectStore(ze.objectStoreNames[0])}return Ve(_e[J])},set:(_e,J,ze)=>(_e[J]=ze,!0),has:(_e,J)=>_e instanceof IDBTransaction&&("done"===J||"store"===J)||J in _e};function nt(_e){return"function"==typeof _e?function Lt(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...J){return _e.apply(Ct(this),J),Ve(Le.get(this))}:function(...J){return Ve(_e.apply(Ct(this),J))}:function(J,...ze){const Vt=_e.call(Ct(this),J,...ze);return Ce.set(Vt,J.sort?J.sort():[J]),Ve(Vt)}}(_e):(_e instanceof IDBTransaction&&function Xe(_e){if(Ue.has(_e))return;const J=new Promise((ze,Vt)=>{const Tn=()=>{_e.removeEventListener("complete",oi),_e.removeEventListener("error",Un),_e.removeEventListener("abort",Un)},oi=()=>{ze(),Tn()},Un=()=>{Vt(_e.error||new DOMException("AbortError","AbortError")),Tn()};_e.addEventListener("complete",oi),_e.addEventListener("error",Un),_e.addEventListener("abort",Un)});Ue.set(_e,J)}(_e),se(_e,function Ee(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,Oe):_e)}function Ve(_e){if(_e instanceof IDBRequest)return function le(_e){const J=new Promise((ze,Vt)=>{const Tn=()=>{_e.removeEventListener("success",oi),_e.removeEventListener("error",Un)},oi=()=>{ze(Ve(_e.result)),Tn()},Un=()=>{Vt(_e.error),Tn()};_e.addEventListener("success",oi),_e.addEventListener("error",Un)});return J.then(ze=>{ze instanceof IDBCursor&&Le.set(ze,_e)}).catch(()=>{}),q.set(J,_e),J}(_e);if(Y.has(_e))return Y.get(_e);const J=nt(_e);return J!==_e&&(Y.set(_e,J),q.set(J,_e)),J}const Ct=_e=>q.get(_e);function kt(_e,J,{blocked:ze,upgrade:Vt,blocking:Tn,terminated:oi}={}){const Un=indexedDB.open(_e,J),Nr=Ve(Un);return Vt&&Un.addEventListener("upgradeneeded",si=>{Vt(Ve(Un.result),si.oldVersion,si.newVersion,Ve(Un.transaction),si)}),ze&&Un.addEventListener("blocked",si=>ze(si.oldVersion,si.newVersion,si)),Nr.then(si=>{oi&&si.addEventListener("close",()=>oi()),Tn&&si.addEventListener("versionchange",Ri=>Tn(Ri.oldVersion,Ri.newVersion,Ri))}).catch(()=>{}),Nr}const Pe=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],Mt=new Map;function qe(_e,J){if(!(_e instanceof IDBDatabase)||J in _e||"string"!=typeof J)return;if(Mt.get(J))return Mt.get(J);const ze=J.replace(/FromIndex$/,""),Vt=J!==ze,Tn=et.includes(ze);if(!(ze in(Vt?IDBIndex:IDBObjectStore).prototype)||!Tn&&!Pe.includes(ze))return;const oi=function(){var Un=(0,d.Z)(function*(Nr,...si){const Ri=this.transaction(Nr,Tn?"readwrite":"readonly");let oe=Ri.store;return Vt&&(oe=oe.index(si.shift())),(yield Promise.all([oe[ze](...si),Tn&&Ri.done]))[0]});return function(si){return Un.apply(this,arguments)}}();return Mt.set(J,oi),oi}!function dt(_e){Oe=_e(Oe)}(_e=>({..._e,get:(J,ze,Vt)=>qe(J,ze)||_e.get(J,ze,Vt),has:(J,ze)=>!!qe(J,ze)||_e.has(J,ze)}))},861:(zt,$e,K)=>{function d(B,ge,Ee,te,Le,Ue,Ce){try{var Y=B[Ue](Ce),q=Y.value}catch(le){return void Ee(le)}Y.done?ge(q):Promise.resolve(q).then(te,Le)}function se(B){return function(){var ge=this,Ee=arguments;return new Promise(function(te,Le){var Ue=B.apply(ge,Ee);function Ce(q){d(Ue,te,Le,Ce,Y,"next",q)}function Y(q){d(Ue,te,Le,Ce,Y,"throw",q)}Ce(void 0)})}}K.d($e,{Z:()=>se})},582:(zt,$e,K)=>{function ge(oe,de){var ue={};for(var me in oe)Object.prototype.hasOwnProperty.call(oe,me)&&de.indexOf(me)<0&&(ue[me]=oe[me]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var ve=0;for(me=Object.getOwnPropertySymbols(oe);ve<me.length;ve++)de.indexOf(me[ve])<0&&Object.prototype.propertyIsEnumerable.call(oe,me[ve])&&(ue[me[ve]]=oe[me[ve]])}return ue}function le(oe,de,ue,me){return new(ue||(ue=Promise))(function(be,yt){function an(wn){try{ut(me.next(wn))}catch(Dn){yt(Dn)}}function Pn(wn){try{ut(me.throw(wn))}catch(Dn){yt(Dn)}}function ut(wn){wn.done?be(wn.value):function ve(be){return be instanceof ue?be:new ue(function(yt){yt(be)})}(wn.value).then(an,Pn)}ut((me=me.apply(oe,de||[])).next())})}function gt(oe){return this instanceof gt?(this.v=oe,this):new gt(oe)}function Pe(oe,de,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,me=ue.apply(oe,de||[]),be=[];return ve={},yt("next"),yt("throw"),yt("return"),ve[Symbol.asyncIterator]=function(){return this},ve;function yt(Qn){me[Qn]&&(ve[Qn]=function(Sn){return new Promise(function(Or,Fn){be.push([Qn,Sn,Or,Fn])>1||an(Qn,Sn)})})}function an(Qn,Sn){try{!function Pn(Qn){Qn.value instanceof gt?Promise.resolve(Qn.value.v).then(ut,wn):Dn(be[0][2],Qn)}(me[Qn](Sn))}catch(Or){Dn(be[0][3],Or)}}function ut(Qn){an("next",Qn)}function wn(Qn){an("throw",Qn)}function Dn(Qn,Sn){Qn(Sn),be.shift(),be.length&&an(be[0][0],be[0][1])}}function Mt(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,de=oe[Symbol.asyncIterator];return de?de.call(oe):(oe=function Lt(oe){var de="function"==typeof Symbol&&Symbol.iterator,ue=de&&oe[de],me=0;if(ue)return ue.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&me>=oe.length&&(oe=void 0),{value:oe&&oe[me++],done:!oe}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),ue={},me("next"),me("throw"),me("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function me(be){ue[be]=oe[be]&&function(yt){return new Promise(function(an,Pn){!function ve(be,yt,an,Pn){Promise.resolve(Pn).then(function(ut){be({value:ut,done:an})},yt)}(an,Pn,(yt=oe[be](yt)).done,yt.value)})}}}K.d($e,{FC:()=>Pe,KL:()=>Mt,_T:()=>ge,mG:()=>le,qq:()=>gt}),"function"==typeof SuppressedError&&SuppressedError}},zt=>{zt(zt.s=554)}]);