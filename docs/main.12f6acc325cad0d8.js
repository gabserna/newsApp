"use strict";(self.webpackChunknewsApp=self.webpackChunknewsApp||[]).push([[179],{304:($t,qe,W)=>{W.d(qe,{Dh:()=>He,GT:()=>de,cc:()=>Oe,hO:()=>Xe,on:()=>Y,pX:()=>fe,xv:()=>Ee});var d=W(212),re=W(120),B=W(793);$t=W.hmd($t);const se=["ngOnDestroy"],fe=(Ve,Tt,St,vt={})=>new Proxy(Ve,{get:(Le,it)=>St.runOutsideAngular(()=>{var wt;if(Ve[it])return!(null===(wt=vt?.spy)||void 0===wt)&&wt.get&&vt.spy.get(it,Ve[it]),Ve[it];if(se.indexOf(it)>-1)return()=>{};const Ke=Tt.toPromise().then(be=>{const J=be&&be[it];return"function"==typeof J?J.bind(be):J&&J.then?J.then(Ge=>St.run(()=>Ge)):St.run(()=>J)});return new Proxy(()=>{},{get:(be,J)=>Ke[J],apply:(be,J,Ge)=>Ke.then(Vt=>{var un;const qn=Vt&&Vt(...Ge);return!(null===(un=vt?.spy)||void 0===un)&&un.apply&&vt.spy.apply(it,Ge,qn),qn})})})}),de=(Ve,Tt)=>{Tt.forEach(St=>{Object.getOwnPropertyNames(St.prototype||St).forEach(vt=>{Object.defineProperty(Ve.prototype,vt,Object.getOwnPropertyDescriptor(St.prototype||St,vt))})})};class Fe{constructor(Tt){return Tt}}const He=new d.OlP("angularfire2.app.options"),Ee=new d.OlP("angularfire2.app.name");function Y(Ve,Tt,St){const Le="object"==typeof St&&St||{};Le.name=Le.name||"string"==typeof St&&St||"[DEFAULT]";const wt=re.Z.apps.filter(Ke=>Ke&&Ke.name===Le.name)[0]||Tt.runOutsideAngular(()=>re.Z.initializeApp(Ve,Le));try{JSON.stringify(Ve)!==JSON.stringify(wt.options)&&Z("error",`${wt.name} Firebase App already initialized with different options${$t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Fe(wt)}const Z=(Ve,...Tt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ve](...Tt)},me={provide:Fe,useFactory:Y,deps:[He,d.R0b,[new d.FiY,Ee]]};let Xe=(()=>{class Ve{constructor(St){re.Z.registerVersion("angularfire",B.q4.full,"core"),re.Z.registerVersion("angularfire",B.q4.full,"app-compat"),re.Z.registerVersion("angular",d.q4F.full,St.toString())}static initializeApp(St,vt){return{ngModule:Ve,providers:[{provide:He,useValue:St},{provide:Ee,useValue:vt}]}}}return Ve.\u0275fac=function(St){return new(St||Ve)(d.LFG(d.Lbi))},Ve.\u0275mod=d.oAB({type:Ve}),Ve.\u0275inj=d.cJS({providers:[me]}),Ve})();function Oe(Ve,Tt,St,vt,Le){const[,it,wt]=globalThis.\u0275AngularfireInstanceCache.find(Ke=>Ke[0]===Ve)||[];if(it)return function ut(Ve,Tt){try{return Ve.toString()===Tt.toString()}catch{return Ve===Tt}}(Le,wt)||(nt("error",`${Tt} was already initialized on the ${St} Firebase App with different settings.${Nt?" You may need to reload as Firebase is not HMR aware.":""}`),nt("warn",{is:Le,was:wt})),it;{const Ke=vt();return globalThis.\u0275AngularfireInstanceCache.push([Ve,Ke,Le]),Ke}}const Nt=!!$t.hot,nt=(Ve,...Tt)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ve](...Tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},793:($t,qe,W)=>{W.d(qe,{q4:()=>Ph,iC:()=>au,fc:()=>Tc,HU:()=>Dm,vb:()=>Oa,JM:()=>Qi});var d=W(212),re=W(97),B=W(861),se=W(303),fe=W(58),de=W(537),Fe=W(879);const He=(I,T)=>T.some(k=>I instanceof k);let Ee,Y;const Xe=new WeakMap,Oe=new WeakMap,ut=new WeakMap,Nt=new WeakMap,nt=new WeakMap;let St={get(I,T,k){if(I instanceof IDBTransaction){if("done"===T)return Oe.get(I);if("objectStoreNames"===T)return I.objectStoreNames||ut.get(I);if("store"===T)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return wt(I[T])},set:(I,T,k)=>(I[T]=k,!0),has:(I,T)=>I instanceof IDBTransaction&&("done"===T||"store"===T)||T in I};function it(I){return"function"==typeof I?function Le(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function me(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...T){return I.apply(Ke(this),T),wt(Xe.get(this))}:function(...T){return wt(I.apply(Ke(this),T))}:function(T,...k){const L=I.call(Ke(this),T,...k);return ut.set(L,T.sort?T.sort():[T]),wt(L)}}(I):(I instanceof IDBTransaction&&function Tt(I){if(Oe.has(I))return;const T=new Promise((k,L)=>{const q=()=>{I.removeEventListener("complete",ee),I.removeEventListener("error",ae),I.removeEventListener("abort",ae)},ee=()=>{k(),q()},ae=()=>{L(I.error||new DOMException("AbortError","AbortError")),q()};I.addEventListener("complete",ee),I.addEventListener("error",ae),I.addEventListener("abort",ae)});Oe.set(I,T)}(I),He(I,function Z(){return Ee||(Ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,St):I)}function wt(I){if(I instanceof IDBRequest)return function Ve(I){const T=new Promise((k,L)=>{const q=()=>{I.removeEventListener("success",ee),I.removeEventListener("error",ae)},ee=()=>{k(wt(I.result)),q()},ae=()=>{L(I.error),q()};I.addEventListener("success",ee),I.addEventListener("error",ae)});return T.then(k=>{k instanceof IDBCursor&&Xe.set(k,I)}).catch(()=>{}),nt.set(T,I),T}(I);if(Nt.has(I))return Nt.get(I);const T=it(I);return T!==I&&(Nt.set(I,T),nt.set(T,I)),T}const Ke=I=>nt.get(I),Ge=["get","getKey","getAll","getAllKeys","count"],Vt=["put","add","delete","clear"],un=new Map;function qn(I,T){if(!(I instanceof IDBDatabase)||T in I||"string"!=typeof T)return;if(un.get(T))return un.get(T);const k=T.replace(/FromIndex$/,""),L=T!==k,q=Vt.includes(k);if(!(k in(L?IDBIndex:IDBObjectStore).prototype)||!q&&!Ge.includes(k))return;const ee=function(){var ae=(0,B.Z)(function*(je,...Me){const et=this.transaction(je,q?"readwrite":"readonly");let Ut=et.store;return L&&(Ut=Ut.index(Me.shift())),(yield Promise.all([Ut[k](...Me),q&&et.done]))[0]});return function(Me){return ae.apply(this,arguments)}}();return un.set(T,ee),ee}!function vt(I){St=I(St)}(I=>({...I,get:(T,k,L)=>qn(T,k)||I.get(T,k,L),has:(T,k)=>!!qn(T,k)||I.has(T,k)}));const Rn="@firebase/installations",Pi="0.6.4",Wn=1e4,pi=`w:${Pi}`,ne="FIS_v2",ue="https://firebaseinstallations.googleapis.com/v1",he=36e5,ot=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xt(I){return I instanceof fe.ZR&&I.code.includes("request-failed")}function Jn({projectId:I}){return`${ue}/projects/${I}/installations`}function gt(I){return{token:I.token,requestStatus:2,expiresIn:Bt(I.expiresIn),creationTime:Date.now()}}function sn(I,T){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,B.Z)(function*(I,T){const L=(yield T.json()).error;return ot.create("request-failed",{requestName:I,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Fn({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Si(I){return En.apply(this,arguments)}function En(){return(En=(0,B.Z)(function*(I){const T=yield I();return T.status>=500&&T.status<600?I():T})).apply(this,arguments)}function Bt(I){return Number(I.replace("s","000"))}function bi(){return(bi=(0,B.Z)(function*({appConfig:I,heartbeatServiceProvider:T},{fid:k}){const L=Jn(I),q=Fn(I),ee=T.getImmediate({optional:!0});if(ee){const et=yield ee.getHeartbeatsHeader();et&&q.append("x-firebase-client",et)}const je={method:"POST",headers:q,body:JSON.stringify({fid:k,authVersion:ne,appId:I.appId,sdkVersion:pi})},Me=yield Si(()=>fetch(L,je));if(Me.ok){const et=yield Me.json();return{fid:et.fid||k,registrationStatus:2,refreshToken:et.refreshToken,authToken:gt(et.authToken)}}throw yield sn("Create Installation",Me)})).apply(this,arguments)}function oo(I){return new Promise(T=>{setTimeout(T,I)})}const Qo=/^[cdef][\w-]{21}$/,st="";function At(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const k=function Ft(I){return function vs(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Qo.test(k)?k:st}catch{return st}}function $r(I){return`${I.appName}!${I.appId}`}const Zn=new Map;function ze(I,T){const k=$r(I);Gr(k,T),function an(I,T){const k=function Yt(){return!br&&"BroadcastChannel"in self&&(br=new BroadcastChannel("[Firebase] FID Change"),br.onmessage=I=>{Gr(I.data.key,I.data.fid)}),br}();k&&k.postMessage({key:I,fid:T}),function ar(){0===Zn.size&&br&&(br.close(),br=null)}()}(k,T)}function Gr(I,T){const k=Zn.get(I);if(k)for(const L of k)L(T)}let br=null;const Ao="firebase-installations-database",Dt=1,Ot="firebase-installations-store";let Xo=null;function _e(){return Xo||(Xo=function be(I,T,{blocked:k,upgrade:L,blocking:q,terminated:ee}={}){const ae=indexedDB.open(I,T),je=wt(ae);return L&&ae.addEventListener("upgradeneeded",Me=>{L(wt(ae.result),Me.oldVersion,Me.newVersion,wt(ae.transaction))}),k&&ae.addEventListener("blocked",()=>k()),je.then(Me=>{ee&&Me.addEventListener("close",()=>ee()),q&&Me.addEventListener("versionchange",()=>q())}).catch(()=>{}),je}(Ao,Dt,{upgrade:(I,T)=>{0===T&&I.createObjectStore(Ot)}})),Xo}function G(I,T){return ge.apply(this,arguments)}function ge(){return(ge=(0,B.Z)(function*(I,T){const k=$r(I),q=(yield _e()).transaction(Ot,"readwrite"),ee=q.objectStore(Ot),ae=yield ee.get(k);return yield ee.put(T,k),yield q.done,(!ae||ae.fid!==T.fid)&&ze(I,T.fid),T})).apply(this,arguments)}function $e(I){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,B.Z)(function*(I){const T=$r(I),L=(yield _e()).transaction(Ot,"readwrite");yield L.objectStore(Ot).delete(T),yield L.done})).apply(this,arguments)}function at(I,T){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,B.Z)(function*(I,T){const k=$r(I),q=(yield _e()).transaction(Ot,"readwrite"),ee=q.objectStore(Ot),ae=yield ee.get(k),je=T(ae);return void 0===je?yield ee.delete(k):yield ee.put(je,k),yield q.done,je&&(!ae||ae.fid!==je.fid)&&ze(I,je.fid),je})).apply(this,arguments)}function H(I){return U.apply(this,arguments)}function U(){return U=(0,B.Z)(function*(I){let T;const k=yield at(I.appConfig,L=>{const q=function Q(I){return Zi(I||{fid:At(),registrationStatus:0})}(L),ee=function Ie(I,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(ot.create("app-offline"))};const k={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},L=function oe(I,T){return ht.apply(this,arguments)}(I,k);return{installationEntry:k,registrationPromise:L}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Gt(I)}:{installationEntry:T}}(I,q);return T=ee.registrationPromise,ee.installationEntry});return k.fid===st?{installationEntry:yield T}:{installationEntry:k,registrationPromise:T}}),U.apply(this,arguments)}function ht(){return ht=(0,B.Z)(function*(I,T){try{const k=yield function kn(I,T){return bi.apply(this,arguments)}(I,T);return G(I.appConfig,k)}catch(k){throw Xt(k)&&409===k.customData.serverCode?yield $e(I.appConfig):yield G(I.appConfig,{fid:T.fid,registrationStatus:0}),k}}),ht.apply(this,arguments)}function Gt(I){return hn.apply(this,arguments)}function hn(){return(hn=(0,B.Z)(function*(I){let T=yield Sr(I.appConfig);for(;1===T.registrationStatus;)yield oo(100),T=yield Sr(I.appConfig);if(0===T.registrationStatus){const{installationEntry:k,registrationPromise:L}=yield H(I);return L||k}return T})).apply(this,arguments)}function Sr(I){return at(I,T=>{if(!T)throw ot.create("installation-not-found");return Zi(T)})}function Zi(I){return function cr(I){return 1===I.registrationStatus&&I.registrationTime+Wn<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function pt(){return(pt=(0,B.Z)(function*({appConfig:I,heartbeatServiceProvider:T},k){const L=function xa(I,{fid:T}){return`${Jn(I)}/${T}/authTokens:generate`}(I,k),q=function ei(I,{refreshToken:T}){const k=Fn(I);return k.append("Authorization",function Fi(I){return`${ne} ${I}`}(T)),k}(I,k),ee=T.getImmediate({optional:!0});if(ee){const et=yield ee.getHeartbeatsHeader();et&&q.append("x-firebase-client",et)}const je={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:pi,appId:I.appId}})},Me=yield Si(()=>fetch(L,je));if(Me.ok)return gt(yield Me.json());throw yield sn("Generate Auth Token",Me)})).apply(this,arguments)}function hl(I){return nm.apply(this,arguments)}function nm(){return nm=(0,B.Z)(function*(I,T=!1){let k;const L=yield at(I.appConfig,ee=>{if(!ml(ee))throw ot.create("not-registered");const ae=ee.authToken;if(!T&&function pl(I){return 2===I.requestStatus&&!function ch(I){const T=Date.now();return T<I.creationTime||I.creationTime+I.expiresIn<T+he}(I)}(ae))return ee;if(1===ae.requestStatus)return k=function Vg(I,T){return Dn.apply(this,arguments)}(I,T),ee;{if(!navigator.onLine)throw ot.create("app-offline");const je=function Rd(I){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:T})}(ee);return k=function fl(I,T){return js.apply(this,arguments)}(I,je),je}});return k?yield k:L.authToken}),nm.apply(this,arguments)}function Dn(){return(Dn=(0,B.Z)(function*(I,T){let k=yield ah(I.appConfig);for(;1===k.authToken.requestStatus;)yield oo(100),k=yield ah(I.appConfig);const L=k.authToken;return 0===L.requestStatus?hl(I,T):L})).apply(this,arguments)}function ah(I){return at(I,T=>{if(!ml(T))throw ot.create("not-registered");return function gl(I){return 1===I.requestStatus&&I.requestTime+Wn<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function js(){return js=(0,B.Z)(function*(I,T){try{const k=yield function jt(I,T){return pt.apply(this,arguments)}(I,T),L=Object.assign(Object.assign({},T),{authToken:k});return yield G(I.appConfig,L),k}catch(k){if(!Xt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const L=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield G(I.appConfig,L)}else yield $e(I.appConfig);throw k}}),js.apply(this,arguments)}function ml(I){return void 0!==I&&2===I.registrationStatus}function Xa(){return(Xa=(0,B.Z)(function*(I){const T=I,{installationEntry:k,registrationPromise:L}=yield H(T);return L?L.catch(console.error):hl(T).catch(console.error),k.fid})).apply(this,arguments)}function tn(){return tn=(0,B.Z)(function*(I,T=!1){const k=I;return yield function Nd(I){return so.apply(this,arguments)}(k),(yield hl(k,T)).token}),tn.apply(this,arguments)}function so(){return(so=(0,B.Z)(function*(I){const{registrationPromise:T}=yield H(I);T&&(yield T)})).apply(this,arguments)}function zs(I){return ot.create("missing-app-config-values",{valueName:I})}const Ja="installations",Ug=I=>{const T=I.getProvider("app").getImmediate(),k=function Od(I){if(!I||!I.options)throw zs("App Configuration");if(!I.name)throw zs("App Name");const T=["projectId","apiKey","appId"];for(const k of T)if(!I.options[k])throw zs(k);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(T);return{app:T,appConfig:k,heartbeatServiceProvider:(0,se._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ea=I=>{const T=I.getProvider("app").getImmediate(),k=(0,se._getProvider)(T,Ja).getImmediate();return{getId:()=>function _l(I){return Xa.apply(this,arguments)}(k),getToken:q=>function im(I){return tn.apply(this,arguments)}(k,q)}};(function My(){(0,se._registerComponent)(new de.wA(Ja,Ug,"PUBLIC")),(0,se._registerComponent)(new de.wA("installations-internal",Ea,"PRIVATE"))})(),(0,se.registerVersion)(Rn,Pi),(0,se.registerVersion)(Rn,Pi,"esm2017");const yl="@firebase/remote-config",Nn=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ar{constructor(T,k,L,q){this.client=T,this.storage=k,this.storageCache=L,this.logger=q}isCachedDataFresh(T,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-k,q=L<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${q}.`),q}fetch(T){var k=this;return(0,B.Z)(function*(){const[L,q]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(q&&k.isCachedDataFresh(T.cacheMaxAgeMillis,L))return q;T.eTag=q&&q.eTag;const ee=yield k.client.fetch(T),ae=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&ae.push(k.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(ae),ee})()}}function $s(I=navigator){return I.languages&&I.languages[0]||I.language}class lo{constructor(T,k,L,q,ee,ae){this.firebaseInstallations=T,this.sdkVersion=k,this.namespace=L,this.projectId=q,this.apiKey=ee,this.appId=ae}fetch(T){var k=this;return(0,B.Z)(function*(){const[L,q]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,je={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Me={sdk_version:k.sdkVersion,app_instance_id:L,app_instance_id_token:q,app_id:k.appId,language_code:$s()},et={method:"POST",headers:je,body:JSON.stringify(Me)},Ut=fetch(ae,et),Mt=new Promise((Mi,Rt)=>{T.signal.addEventListener(()=>{const ii=new Error("The operation was aborted.");ii.name="AbortError",Rt(ii)})});let Yr;try{yield Promise.race([Ut,Mt]),Yr=yield Ut}catch(Mi){let Rt="fetch-client-network";throw"AbortError"===Mi?.name&&(Rt="fetch-timeout"),Nn.create(Rt,{originalErrorMessage:Mi?.message})}let Bi=Yr.status;const Yl=Yr.headers.get("ETag")||void 0;let Pa,Qr;if(200===Yr.status){let Mi;try{Mi=yield Yr.json()}catch(Rt){throw Nn.create("fetch-client-parse",{originalErrorMessage:Rt?.message})}Pa=Mi.entries,Qr=Mi.state}if("INSTANCE_STATE_UNSPECIFIED"===Qr?Bi=500:"NO_CHANGE"===Qr?Bi=304:("NO_TEMPLATE"===Qr||"EMPTY_CONFIG"===Qr)&&(Pa={}),304!==Bi&&200!==Bi)throw Nn.create("fetch-status",{httpStatus:Bi});return{status:Bi,eTag:Yl,config:Pa}})()}}class wl{constructor(T,k){this.client=T,this.storage=k}fetch(T){var k=this;return(0,B.Z)(function*(){const L=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(T,L)})()}attemptFetch(T,{throttleEndTimeMillis:k,backoffCount:L}){var q=this;return(0,B.Z)(function*(){yield function wn(I,T){return new Promise((k,L)=>{const q=Math.max(T-Date.now(),0),ee=setTimeout(k,q);I.addEventListener(()=>{clearTimeout(ee),L(Nn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,k);try{const ee=yield q.client.fetch(T);return yield q.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function rc(I){if(!(I instanceof fe.ZR&&I.customData))return!1;const T=Number(I.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ee))throw ee;const ae={throttleEndTimeMillis:Date.now()+(0,fe.$s)(L),backoffCount:L+1};return yield q.storage.setThrottleMetadata(ae),q.attemptFetch(T,ae)}})()}}class qr{constructor(T,k,L,q,ee){this.app=T,this._client=k,this._storageCache=L,this._storage=q,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Gs(I,T){const k=I.target.error||void 0;return Nn.create(T,{originalErrorMessage:k&&k?.message})}const kr="app_namespace_store";class hh{constructor(T,k,L,q=function oc(){return new Promise((I,T)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=L=>{T(Gs(L,"storage-open"))},k.onsuccess=L=>{I(L.target.result)},k.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(kr,{keyPath:"compositeKey"})}}catch(k){T(Nn.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=T,this.appName=k,this.namespace=L,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var k=this;return(0,B.Z)(function*(){const L=yield k.openDbPromise;return new Promise((q,ee)=>{const je=L.transaction([kr],"readonly").objectStore(kr),Me=k.createCompositeKey(T);try{const et=je.get(Me);et.onerror=Ut=>{ee(Gs(Ut,"storage-get"))},et.onsuccess=Ut=>{const Mt=Ut.target.result;q(Mt?Mt.value:void 0)}}catch(et){ee(Nn.create("storage-get",{originalErrorMessage:et?.message}))}})})()}set(T,k){var L=this;return(0,B.Z)(function*(){const q=yield L.openDbPromise;return new Promise((ee,ae)=>{const Me=q.transaction([kr],"readwrite").objectStore(kr),et=L.createCompositeKey(T);try{const Ut=Me.put({compositeKey:et,value:k});Ut.onerror=Mt=>{ae(Gs(Mt,"storage-set"))},Ut.onsuccess=()=>{ee()}}catch(Ut){ae(Nn.create("storage-set",{originalErrorMessage:Ut?.message}))}})})()}delete(T){var k=this;return(0,B.Z)(function*(){const L=yield k.openDbPromise;return new Promise((q,ee)=>{const je=L.transaction([kr],"readwrite").objectStore(kr),Me=k.createCompositeKey(T);try{const et=je.delete(Me);et.onerror=Ut=>{ee(Gs(Ut,"storage-delete"))},et.onsuccess=()=>{q()}}catch(et){ee(Nn.create("storage-delete",{originalErrorMessage:et?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class uo{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,B.Z)(function*(){const k=T.storage.getLastFetchStatus(),L=T.storage.getLastSuccessfulFetchTimestampMillis(),q=T.storage.getActiveConfig(),ee=yield k;ee&&(T.lastFetchStatus=ee);const ae=yield L;ae&&(T.lastSuccessfulFetchTimestampMillis=ae);const je=yield q;je&&(T.activeConfig=je)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function um(){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,B.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}!function qs(){(0,se._registerComponent)(new de.wA("remote-config",function I(T,{instanceIdentifier:k}){const L=T.getProvider("app").getImmediate(),q=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Nn.create("registration-window");if(!(0,fe.hl)())throw Nn.create("indexed-db-unavailable");const{projectId:ee,apiKey:ae,appId:je}=L.options;if(!ee)throw Nn.create("registration-project-id");if(!ae)throw Nn.create("registration-api-key");if(!je)throw Nn.create("registration-app-id");const Me=new hh(je,L.name,k=k||"firebase"),et=new uo(Me),Ut=new Fe.Yd(yl);Ut.logLevel=Fe.in.ERROR;const Mt=new lo(q,se.SDK_VERSION,k,ee,ae,je),Yr=new wl(Mt,Me),Bi=new Ar(Yr,Me,et,Ut),Yl=new qr(L,Bi,et,Me,Ut);return function dr(I){const T=(0,fe.m9)(I);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Yl),Yl},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(yl,"0.4.4"),(0,se.registerVersion)(yl,"0.4.4","esm2017")}();const hm=(I,T)=>T.some(k=>I instanceof k);let Bd,sc;const Ud=new WeakMap,ac=new WeakMap,jd=new WeakMap,Ai=new WeakMap,El=new WeakMap;let Ht={get(I,T,k){if(I instanceof IDBTransaction){if("done"===T)return ac.get(I);if("objectStoreNames"===T)return I.objectStoreNames||jd.get(I);if("store"===T)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return jn(I[T])},set:(I,T,k)=>(I[T]=k,!0),has:(I,T)=>I instanceof IDBTransaction&&("done"===T||"store"===T)||T in I};function Zs(I){return"function"==typeof I?function Ki(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mh(){return sc||(sc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...T){return I.apply(cc(this),T),jn(Ud.get(this))}:function(...T){return jn(I.apply(cc(this),T))}:function(T,...k){const L=I.call(cc(this),T,...k);return jd.set(L,T.sort?T.sort():[T]),jn(L)}}(I):(I instanceof IDBTransaction&&function Hd(I){if(ac.has(I))return;const T=new Promise((k,L)=>{const q=()=>{I.removeEventListener("complete",ee),I.removeEventListener("error",ae),I.removeEventListener("abort",ae)},ee=()=>{k(),q()},ae=()=>{L(I.error||new DOMException("AbortError","AbortError")),q()};I.addEventListener("complete",ee),I.addEventListener("error",ae),I.addEventListener("abort",ae)});ac.set(I,T)}(I),hm(I,function fh(){return Bd||(Bd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Ht):I)}function jn(I){if(I instanceof IDBRequest)return function zg(I){const T=new Promise((k,L)=>{const q=()=>{I.removeEventListener("success",ee),I.removeEventListener("error",ae)},ee=()=>{k(jn(I.result)),q()},ae=()=>{L(I.error),q()};I.addEventListener("success",ee),I.addEventListener("error",ae)});return T.then(k=>{k instanceof IDBCursor&&Ud.set(k,I)}).catch(()=>{}),El.set(T,I),T}(I);if(Ai.has(I))return Ai.get(I);const T=Zs(I);return T!==I&&(Ai.set(I,T),El.set(T,I)),T}const cc=I=>El.get(I);function zd(I,T,{blocked:k,upgrade:L,blocking:q,terminated:ee}={}){const ae=indexedDB.open(I,T),je=jn(ae);return L&&ae.addEventListener("upgradeneeded",Me=>{L(jn(ae.result),Me.oldVersion,Me.newVersion,jn(ae.transaction))}),k&&ae.addEventListener("blocked",()=>k()),je.then(Me=>{ee&&Me.addEventListener("close",()=>ee()),q&&Me.addEventListener("versionchange",()=>q())}).catch(()=>{}),je}function Ks(I,{blocked:T}={}){const k=indexedDB.deleteDatabase(I);return T&&k.addEventListener("blocked",()=>T()),jn(k).then(()=>{})}const ph=["get","getKey","getAll","getAllKeys","count"],fm=["put","add","delete","clear"],Hn=new Map;function Ue(I,T){if(!(I instanceof IDBDatabase)||T in I||"string"!=typeof T)return;if(Hn.get(T))return Hn.get(T);const k=T.replace(/FromIndex$/,""),L=T!==k,q=fm.includes(k);if(!(k in(L?IDBIndex:IDBObjectStore).prototype)||!q&&!ph.includes(k))return;const ee=function(){var ae=(0,B.Z)(function*(je,...Me){const et=this.transaction(je,q?"readwrite":"readonly");let Ut=et.store;return L&&(Ut=Ut.index(Me.shift())),(yield Promise.all([Ut[k](...Me),q&&et.done]))[0]});return function(Me){return ae.apply(this,arguments)}}();return Hn.set(T,ee),ee}!function ki(I){Ht=I(Ht)}(I=>({...I,get:(T,k,L)=>Ue(T,k)||I.get(T,k,L),has:(T,k)=>!!Ue(T,k)||I.has(T,k)}));const Ct="/firebase-messaging-sw.js",ti="/firebase-cloud-messaging-push-scope",Mr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Yi="https://fcmregistrations.googleapis.com/v1",Wr="google.c.a.c_id",lc="google.c.a.c_l",kt="google.c.a.ts";var Lt=function(I){return I.PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",I}(Lt||{});function Nr(I){const T=new Uint8Array(I);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Cl(I){const k=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(k),q=new Uint8Array(L.length);for(let ee=0;ee<L.length;++ee)q[ee]=L.charCodeAt(ee);return q}const bs="fcm_token_details_db",ni=5,Mo="fcm_token_object_Store";function Zr(){return Zr=(0,B.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(bs))return null;let T=null;return(yield zd(bs,ni,{upgrade:(L=(0,B.Z)(function*(q,ee,ae,je){var Me;if(ee<2||!q.objectStoreNames.contains(Mo))return;const et=je.objectStore(Mo),Ut=yield et.index("fcmSenderId").get(I);if(yield et.clear(),Ut)if(2===ee){const Mt=Ut;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;T={token:Mt.fcmToken,createTime:null!==(Me=Mt.createTime)&&void 0!==Me?Me:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:Nr(Mt.vapidKey)}}}else if(3===ee){const Mt=Ut;T={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:Nr(Mt.auth),p256dh:Nr(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:Nr(Mt.vapidKey)}}}else if(4===ee){const Mt=Ut;T={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:Nr(Mt.auth),p256dh:Nr(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:Nr(Mt.vapidKey)}}}}),function(ee,ae,je,Me){return L.apply(this,arguments)})})).close(),yield Ks(bs),yield Ks("fcm_vapid_details_db"),yield Ks("undefined"),function $d(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:T}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var L}),Zr.apply(this,arguments)}const Tl="firebase-messaging-database",Ys=1,ho="firebase-messaging-store";let fo=null;function It(){return fo||(fo=zd(Tl,Ys,{upgrade:(I,T)=>{0===T&&I.createObjectStore(ho)}})),fo}function gh(I){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,B.Z)(function*(I){const T=Ia(I),L=yield(yield It()).transaction(ho).objectStore(ho).get(T);if(L)return L;{const q=yield function Il(I){return Zr.apply(this,arguments)}(I.appConfig.senderId);if(q)return yield Kr(I,q),q}}),Qs.apply(this,arguments)}function Kr(I,T){return ws.apply(this,arguments)}function ws(){return(ws=(0,B.Z)(function*(I,T){const k=Ia(I),q=(yield It()).transaction(ho,"readwrite");return yield q.objectStore(ho).put(T,k),yield q.done,T})).apply(this,arguments)}function ai(){return(ai=(0,B.Z)(function*(I){const T=Ia(I),L=(yield It()).transaction(ho,"readwrite");yield L.objectStore(ho).delete(T),yield L.done})).apply(this,arguments)}function Ia({appConfig:I}){return I.appId}const In=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Gd(I,T){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,B.Z)(function*(I,T){const k=yield kl(I),L=$g(T),q={method:"POST",headers:k,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(qd(I.appConfig),q)).json()}catch(ae){throw In.create("token-subscribe-failed",{errorInfo:ae?.toString()})}if(ee.error)throw In.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw In.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function mo(){return(mo=(0,B.Z)(function*(I,T){const k=yield kl(I),L=$g(T.subscriptionOptions),q={method:"PATCH",headers:k,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(`${qd(I.appConfig)}/${T.token}`,q)).json()}catch(ae){throw In.create("token-update-failed",{errorInfo:ae?.toString()})}if(ee.error)throw In.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw In.create("token-update-no-token");return ee.token})).apply(this,arguments)}function Al(I,T){return _h.apply(this,arguments)}function _h(){return(_h=(0,B.Z)(function*(I,T){const L={method:"DELETE",headers:yield kl(I)};try{const ee=yield(yield fetch(`${qd(I.appConfig)}/${T}`,L)).json();if(ee.error)throw In.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(q){throw In.create("token-unsubscribe-failed",{errorInfo:q?.toString()})}})).apply(this,arguments)}function qd({projectId:I}){return`${Yi}/projects/${I}/registrations`}function kl(I){return dc.apply(this,arguments)}function dc(){return(dc=(0,B.Z)(function*({appConfig:I,installations:T}){const k=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function $g({p256dh:I,auth:T,endpoint:k,vapidKey:L}){const q={web:{endpoint:k,auth:T,p256dh:I}};return L!==Mr&&(q.web.applicationPubKey=L),q}const Wd=6048e5;function vh(){return vh=(0,B.Z)(function*(I){const T=yield function Zd(I,T){return qg.apply(this,arguments)}(I.swRegistration,I.vapidKey),k={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:T.endpoint,auth:Nr(T.getKey("auth")),p256dh:Nr(T.getKey("p256dh"))},L=yield gh(I.firebaseDependencies);if(L){if(function Py(I,T){return T.vapidKey===I.vapidKey&&T.endpoint===I.endpoint&&T.auth===I.auth&&T.p256dh===I.p256dh}(L.subscriptionOptions,k))return Date.now()>=L.createTime+Wd?function Ny(I,T){return yh.apply(this,arguments)}(I,{token:L.token,createTime:Date.now(),subscriptionOptions:k}):L.token;try{yield Al(I.firebaseDependencies,L.token)}catch(q){console.warn(q)}return Oy(I.firebaseDependencies,k)}return Oy(I.firebaseDependencies,k)}),vh.apply(this,arguments)}function Gg(){return Gg=(0,B.Z)(function*(I){const T=yield gh(I.firebaseDependencies);T&&(yield Al(I.firebaseDependencies,T.token),yield function Dl(I){return ai.apply(this,arguments)}(I.firebaseDependencies));const k=yield I.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()}),Gg.apply(this,arguments)}function yh(){return yh=(0,B.Z)(function*(I,T){try{const k=yield function Sl(I,T){return mo.apply(this,arguments)}(I.firebaseDependencies,T),L=Object.assign(Object.assign({},T),{token:k,createTime:Date.now()});return yield Kr(I.firebaseDependencies,L),k}catch(k){throw yield function Ry(I){return Gg.apply(this,arguments)}(I),k}}),yh.apply(this,arguments)}function Oy(I,T){return uc.apply(this,arguments)}function uc(){return(uc=(0,B.Z)(function*(I,T){const L={token:yield Gd(I,T),createTime:Date.now(),subscriptionOptions:T};return yield Kr(I,L),L.token})).apply(this,arguments)}function qg(){return(qg=(0,B.Z)(function*(I,T){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Cl(T)})})).apply(this,arguments)}function bh(I){const T={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function hc(I,T){if(!T.notification)return;I.notification={};const k=T.notification.title;k&&(I.notification.title=k);const L=T.notification.body;L&&(I.notification.body=L);const q=T.notification.image;q&&(I.notification.image=q);const ee=T.notification.icon;ee&&(I.notification.icon=ee)}(T,I),function mm(I,T){T.data&&(I.data=T.data)}(T,I),function sx(I,T){var k,L,q,ee,ae;if(!(T.fcmOptions||null!==(k=T.notification)&&void 0!==k&&k.click_action))return;I.fcmOptions={};const je=null!==(q=null===(L=T.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==q?q:null===(ee=T.notification)||void 0===ee?void 0:ee.click_action;je&&(I.fcmOptions.link=je);const Me=null===(ae=T.fcmOptions)||void 0===ae?void 0:ae.analytics_label;Me&&(I.fcmOptions.analyticsLabel=Me)}(T,I),T}function Wg(I,T){const k=[];for(let L=0;L<I.length;L++)k.push(I.charAt(L)),L<T.length&&k.push(T.charAt(L));return k.join("")}function xs(I){return In.create("missing-app-config-values",{valueName:I})}Wg("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wg("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zg{constructor(T,k,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function pm(I){if(!I||!I.options)throw xs("App Configuration Object");if(!I.name)throw xs("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:k}=I;for(const L of T)if(!k[L])throw xs(L);return{appName:I.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:q,installations:k,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Kd(){return(Kd=(0,B.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Ct,{scope:ti}),I.swRegistration.update().catch(()=>{})}catch(T){throw In.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Ta(){return(Ta=(0,B.Z)(function*(I,T){if(!T&&!I.swRegistration&&(yield function Ml(I){return Kd.apply(this,arguments)}(I)),T||!I.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw In.create("invalid-sw-registration");I.swRegistration=T}})).apply(this,arguments)}function fc(){return(fc=(0,B.Z)(function*(I,T){T?I.vapidKey=T:I.vapidKey||(I.vapidKey=Mr)})).apply(this,arguments)}function Rl(){return Rl=(0,B.Z)(function*(I,T){if(!navigator)throw In.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw In.create("permission-blocked");return yield function Es(I,T){return fc.apply(this,arguments)}(I,T?.vapidKey),yield function gm(I,T){return Ta.apply(this,arguments)}(I,T?.serviceWorkerRegistration),function ox(I){return vh.apply(this,arguments)}(I)}),Rl.apply(this,arguments)}function Ro(){return(Ro=(0,B.Z)(function*(I,T,k){const L=function vm(I){switch(I){case Lt.NOTIFICATION_CLICKED:return"notification_open";case Lt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:k[Wr],message_name:k[lc],message_time:k[kt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Js(){return Js=(0,B.Z)(function*(I,T){const k=T.data;if(!k.isFirebaseMessaging)return;I.onMessageHandler&&k.messageType===Lt.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(bh(k)):I.onMessageHandler.next(bh(k)));const L=k.data;(function ax(I){return"object"==typeof I&&!!I&&Wr in I})(L)&&"1"===L["google.c.a.e"]&&(yield function Kg(I,T,k){return Ro.apply(this,arguments)}(I,k.messageType,L))}),Js.apply(this,arguments)}const mc="@firebase/messaging",On=I=>{const T=new Zg(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function wh(I,T){return Js.apply(this,arguments)}(T,k)),T},Nl=I=>{const T=I.getProvider("messaging").getImmediate();return{getToken:L=>function _m(I,T){return Rl.apply(this,arguments)}(T,L)}};function Vi(){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,B.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ol(){(0,se._registerComponent)(new de.wA("messaging",On,"PUBLIC")),(0,se._registerComponent)(new de.wA("messaging-internal",Nl,"PRIVATE")),(0,se.registerVersion)(mc,"0.12.4"),(0,se.registerVersion)(mc,"0.12.4","esm2017")}();const ci="analytics",xm="firebase_id",Xd="origin",xh=6e4,ea="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pc="https://www.googletagmanager.com/gtag/js",wi=new Fe.Yd("@firebase/analytics"),ft=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function gc(I){if(!I.startsWith(pc)){const T=ft.create("invalid-gtag-resource",{gtagURL:I});return wi.warn(T.message),""}return I}function Qg(I){return Promise.all(I.map(T=>T.catch(k=>k)))}function ts(){return(ts=(0,B.Z)(function*(I,T,k,L,q,ee){const ae=L[q];try{if(ae)yield T[ae];else{const Me=(yield Qg(k)).find(et=>et.measurementId===q);Me&&(yield T[Me.appId])}}catch(je){wi.error(je)}I("config",q,ee)})).apply(this,arguments)}function Ch(){return(Ch=(0,B.Z)(function*(I,T,k,L,q){try{let ee=[];if(q&&q.send_to){let ae=q.send_to;Array.isArray(ae)||(ae=[ae]);const je=yield Qg(k);for(const Me of ae){const et=je.find(Mt=>Mt.measurementId===Me),Ut=et&&T[et.appId];if(!Ut){ee=[];break}ee.push(Ut)}}0===ee.length&&(ee=Object.values(T)),yield Promise.all(ee),I("event",L,q||{})}catch(ee){wi.error(ee)}})).apply(this,arguments)}const we=30,Th=new class _c{constructor(T={},k=1e3){this.throttleMetadata=T,this.intervalMillis=k}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,k){this.throttleMetadata[T]=k}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Vn(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function vc(){return(vc=(0,B.Z)(function*(I){var T;const{appId:k,apiKey:L}=I,q={method:"GET",headers:Vn(L)},ee=ea.replace("{app-id}",k),ae=yield fetch(ee,q);if(200!==ae.status&&304!==ae.status){let je="";try{const Me=yield ae.json();null!==(T=Me.error)&&void 0!==T&&T.message&&(je=Me.error.message)}catch{}throw ft.create("config-fetch-failed",{httpStatus:ae.status,responseMessage:je})}return ae.json()})).apply(this,arguments)}function Sa(){return(Sa=(0,B.Z)(function*(I,T=Th,k){const{appId:L,apiKey:q,measurementId:ee}=I.options;if(!L)throw ft.create("no-app-id");if(!q){if(ee)return{measurementId:ee,appId:L};throw ft.create("no-api-key")}const ae=T.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new ur;return setTimeout((0,B.Z)(function*(){je.abort()}),void 0!==k?k:xh),Dh({appId:L,apiKey:q,measurementId:ee},ae,je,T)})).apply(this,arguments)}function Dh(I,T,k){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,B.Z)(function*(I,{throttleEndTimeMillis:T,backoffCount:k},L,q=Th){var ee;const{appId:ae,measurementId:je}=I;try{yield function Fy(I,T){return new Promise((k,L)=>{const q=Math.max(T-Date.now(),0),ee=setTimeout(k,q);I.addEventListener(()=>{clearTimeout(ee),L(ft.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(L,T)}catch(Me){if(je)return wi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${Me?.message}]`),{appId:ae,measurementId:je};throw Me}try{const Me=yield function Jg(I){return vc.apply(this,arguments)}(I);return q.deleteThrottleMetadata(ae),Me}catch(Me){const et=Me;if(!function Vl(I){if(!(I instanceof fe.ZR&&I.customData))return!1;const T=Number(I.customData.httpStatus);return 429===T||500===T||503===T||504===T}(et)){if(q.deleteThrottleMetadata(ae),je)return wi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${je} provided in the "measurementId" field in the local Firebase config. [${et?.message}]`),{appId:ae,measurementId:je};throw Me}const Ut=503===Number(null===(ee=et?.customData)||void 0===ee?void 0:ee.httpStatus)?(0,fe.$s)(k,q.intervalMillis,we):(0,fe.$s)(k,q.intervalMillis),Mt={throttleEndTimeMillis:Date.now()+Ut,backoffCount:k+1};return q.setThrottleMetadata(ae,Mt),wi.debug(`Calling attemptFetch again in ${Ut} millis`),Dh(I,Mt,L,q)}}),Ll.apply(this,arguments)}class ur{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let is,Bl;function No(){return(No=(0,B.Z)(function*(I,T,k,L,q){if(q&&q.global)I("event",k,L);else{const ee=yield T;I("event",k,Object.assign(Object.assign({},L),{send_to:ee}))}})).apply(this,arguments)}function tu(){return(tu=(0,B.Z)(function*(){if(!(0,fe.hl)())return wi.warn(ft.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(I){return wi.warn(ft.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function rs(){return rs=(0,B.Z)(function*(I,T,k,L,q,ee,ae){var je;const Me=function Is(I){return Sa.apply(this,arguments)}(I);Me.then(Bi=>{k[Bi.measurementId]=Bi.appId,I.options.measurementId&&Bi.measurementId!==I.options.measurementId&&wi.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Bi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Bi=>wi.error(Bi)),T.push(Me);const et=function Ul(){return tu.apply(this,arguments)}().then(Bi=>{if(Bi)return L.getId()}),[Ut,Mt]=yield Promise.all([Me,et]);(function Em(I){const T=window.document.getElementsByTagName("script");for(const k of Object.values(T))if(k.src&&k.src.includes(pc)&&k.src.includes(I))return k;return null})(ee)||function Eh(I,T){const k=function Pl(I,T){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(I,T)),k}("firebase-js-sdk-policy",{createScriptURL:gc}),L=document.createElement("script"),q=`${pc}?l=${I}&id=${T}`;L.src=k?k?.createScriptURL(q):q,L.async=!0,document.head.appendChild(L)}(ee,Ut.measurementId),Bl&&(q("consent","default",Bl),function Aa(I){Bl=I}(void 0)),q("js",new Date);const Yr=null!==(je=ae?.config)&&void 0!==je?je:{};return Yr[Xd]="firebase",Yr.update=!0,null!=Mt&&(Yr[xm]=Mt),q("config",Ut.measurementId,Yr),is&&(q("set",is),function ka(I){is=I}(void 0)),Ut.measurementId}),rs.apply(this,arguments)}class na{constructor(T){this.app=T}_delete(){return delete Pn[this.app.options.appId],Promise.resolve()}}let Pn={},ia=[];const en={};let iu,os,Hl="dataLayer",zl=!1;function xr(I,T,k){!function ru(){const I=[];if((0,fe.ru)()&&I.push("This is a browser extension environment."),(0,fe.zI)()||I.push("Cookies are not available."),I.length>0){const T=I.map((L,q)=>`(${q+1}) ${L}`).join(" "),k=ft.create("invalid-analytics-context",{errorInfo:T});wi.warn(k.message)}}();const L=I.options.appId;if(!L)throw ft.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw ft.create("no-api-key");wi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pn[L])throw ft.create("already-exists",{id:L});if(!zl){!function Xg(I){let T=[];Array.isArray(window[I])?T=window[I]:window[I]=T}(Hl);const{wrappedGtag:ee,gtagCore:ae}=function Jd(I,T,k,L,q){let ee=function(...ae){window[L].push(arguments)};return window[q]&&"function"==typeof window[q]&&(ee=window[q]),window[q]=function Ih(I,T,k,L){function ee(){return ee=(0,B.Z)(function*(ae,...je){try{if("event"===ae){const[Me,et]=je;yield function ns(I,T,k,L,q){return Ch.apply(this,arguments)}(I,T,k,Me,et)}else if("config"===ae){const[Me,et]=je;yield function Fl(I,T,k,L,q,ee){return ts.apply(this,arguments)}(I,T,k,L,Me,et)}else if("consent"===ae){const[Me]=je;I("consent","update",Me)}else if("get"===ae){const[Me,et,Ut]=je;I("get",Me,et,Ut)}else if("set"===ae){const[Me]=je;I("set",Me)}else I(ae,...je)}catch(Me){wi.error(Me)}}),ee.apply(this,arguments)}return function q(ae){return ee.apply(this,arguments)}}(ee,I,T,k),{gtagCore:ee,wrappedGtag:window[q]}}(Pn,ia,en,Hl,"gtag");os=ee,iu=ae,zl=!0}return Pn[L]=function jl(I,T,k,L,q,ee,ae){return rs.apply(this,arguments)}(I,ia,en,T,iu,Hl,k),new na(I)}function wc(){return xc.apply(this,arguments)}function xc(){return(xc=(0,B.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}const Na="@firebase/analytics";!function mt(){(0,se._registerComponent)(new de.wA(ci,(T,{options:k})=>xr(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,se._registerComponent)(new de.wA("analytics-internal",function I(T){try{const k=T.getProvider(ci).getImmediate();return{logEvent:(L,q,ee)=>function Ra(I,T,k,L){I=(0,fe.m9)(I),function e_(I,T,k,L,q){return No.apply(this,arguments)}(os,Pn[I.app.options.appId],T,k,L).catch(q=>wi.error(q))}(k,L,q,ee)}}catch(k){throw ft.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,se.registerVersion)(Na,"0.10.0"),(0,se.registerVersion)(Na,"0.10.0","esm2017")}();var Or=W(954),Gl=W(631);const ql=new class Nh extends Gl.v{}(class Rh extends Or.o{constructor(T,k){super(T,k),this.scheduler=T,this.work=k}schedule(T,k=0){return k>0?super.schedule(T,k):(this.delay=k,this.state=T,this.scheduler.flush(this),this)}execute(T,k){return k>0||this.closed?super.execute(T,k):this._execute(T,k)}requestAsyncId(T,k,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(T,k,L):(T.flush(this),0)}});var Ec=W(321),Cc=W(397),dt=W(93),Wl=W(137);const Ph=new d.GfV("7.6.1"),Pr="__angularfire_symbol__analyticsIsSupportedValue",Ic="__angularfire_symbol__analyticsIsSupported",Bn="__angularfire_symbol__remoteConfigIsSupportedValue",Ts="__angularfire_symbol__remoteConfigIsSupported",Zl="__angularfire_symbol__messagingIsSupportedValue",ra="__angularfire_symbol__messagingIsSupported";function Qi(I,T,k){if(T){if(1===T.length)return T[0];const ee=T.filter(ae=>ae.app===k);if(1===ee.length)return ee[0]}return k.container.getProvider(I).getImmediate({optional:!0})}globalThis[Ic]||(globalThis[Ic]=wc().then(I=>globalThis[Pr]=I).catch(()=>globalThis[Pr]=!1)),globalThis[ra]||(globalThis[ra]=Vi().then(I=>globalThis[Zl]=I).catch(()=>globalThis[Zl]=!1)),globalThis[Ts]||(globalThis[Ts]=um().then(I=>globalThis[Bn]=I).catch(()=>globalThis[Bn]=!1));const Oa=(I,T)=>{const k=T?[T]:(0,re.C6)(),L=[];return k.forEach(q=>{q.container.getProvider(I).instances.forEach(ae=>{L.includes(ae)||L.push(ae)})}),L};function oa(){}class sa{constructor(T,k=ql){this.zone=T,this.delegate=k}now(){return this.delegate.now()}schedule(T,k,L){const q=this.zone;return this.delegate.schedule(function(ae){q.runGuarded(()=>{T.apply(this,[ae])})},k,L)}}class aa{constructor(T){this.zone=T,this.task=null}call(T,k){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oa,{},oa,oa)),k.pipe((0,Cc.b)({next:L,complete:L,error:L})).subscribe(T).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dm=(()=>{class I{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new sa(Zone.current)),this.insideAngular=k.run(()=>new sa(Zone.current,Ec.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(k){return new(k||I)(d.LFG(d.R0b))},I.\u0275prov=d.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Fr(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Tc(I){return I.pipe((0,dt.Q)(Fr().outsideAngular))}function au(I){return Fr(),function Fh(I){return function(k){return(k=k.lift(new aa(I.ngZone))).pipe((0,Wl.R)(I.outsideAngular),(0,dt.Q)(I.insideAngular))}}(Fr())(I)}},58:($t,qe,W)=>{W.d(qe,{$s:()=>$e,BH:()=>it,DV:()=>Bt,Dv:()=>Gr,G6:()=>pi,GJ:()=>Si,L:()=>Ee,LL:()=>Ce,Pz:()=>Le,Sg:()=>wt,UG:()=>J,UI:()=>kn,US:()=>de,Wj:()=>Yt,Wl:()=>gt,Yr:()=>Wn,ZB:()=>me,ZR:()=>xe,aH:()=>vt,b$:()=>un,cI:()=>Jn,dS:()=>Ao,eu:()=>ue,g5:()=>B,gK:()=>an,gQ:()=>Ft,h$:()=>He,hl:()=>ne,hu:()=>re,jU:()=>Ge,lb:()=>ar,m9:()=>Cn,ne:()=>$r,p$:()=>Z,pd:()=>At,r3:()=>En,ru:()=>Vt,tV:()=>Y,uI:()=>be,ug:()=>Dt,vZ:()=>bi,w1:()=>Rn,w9:()=>ei,xO:()=>Qo,xb:()=>Fi,z$:()=>Ke,zI:()=>he,zd:()=>st});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},re=function(H,U){if(!H)throw B(U)},B=function(H){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+H)},se=function(H){const U=[];let Q=0;for(let Ie=0;Ie<H.length;Ie++){let oe=H.charCodeAt(Ie);oe<128?U[Q++]=oe:oe<2048?(U[Q++]=oe>>6|192,U[Q++]=63&oe|128):55296==(64512&oe)&&Ie+1<H.length&&56320==(64512&H.charCodeAt(Ie+1))?(oe=65536+((1023&oe)<<10)+(1023&H.charCodeAt(++Ie)),U[Q++]=oe>>18|240,U[Q++]=oe>>12&63|128,U[Q++]=oe>>6&63|128,U[Q++]=63&oe|128):(U[Q++]=oe>>12|224,U[Q++]=oe>>6&63|128,U[Q++]=63&oe|128)}return U},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,U){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let oe=0;oe<H.length;oe+=3){const ht=H[oe],Gt=oe+1<H.length,hn=Gt?H[oe+1]:0,Sr=oe+2<H.length,Zi=Sr?H[oe+2]:0;let pt=(15&hn)<<2|Zi>>6,xa=63&Zi;Sr||(xa=64,Gt||(pt=64)),Ie.push(Q[ht>>2],Q[(3&ht)<<4|hn>>4],Q[pt],Q[xa])}return Ie.join("")},encodeString(H,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(H):this.encodeByteArray(se(H),U)},decodeString(H,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(H):function(H){const U=[];let Q=0,Ie=0;for(;Q<H.length;){const oe=H[Q++];if(oe<128)U[Ie++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const ht=H[Q++];U[Ie++]=String.fromCharCode((31&oe)<<6|63&ht)}else if(oe>239&&oe<365){const Sr=((7&oe)<<18|(63&H[Q++])<<12|(63&H[Q++])<<6|63&H[Q++])-65536;U[Ie++]=String.fromCharCode(55296+(Sr>>10)),U[Ie++]=String.fromCharCode(56320+(1023&Sr))}else{const ht=H[Q++],Gt=H[Q++];U[Ie++]=String.fromCharCode((15&oe)<<12|(63&ht)<<6|63&Gt)}}return U.join("")}(this.decodeStringToByteArray(H,U))},decodeStringToByteArray(H,U){this.init_();const Q=U?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let oe=0;oe<H.length;){const ht=Q[H.charAt(oe++)],hn=oe<H.length?Q[H.charAt(oe)]:0;++oe;const Zi=oe<H.length?Q[H.charAt(oe)]:64;++oe;const jt=oe<H.length?Q[H.charAt(oe)]:64;if(++oe,null==ht||null==hn||null==Zi||null==jt)throw new Fe;Ie.push(ht<<2|hn>>4),64!==Zi&&(Ie.push(hn<<4&240|Zi>>2),64!==jt&&Ie.push(Zi<<6&192|jt))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}};class Fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const He=function(H){const U=se(H);return de.encodeByteArray(U,!0)},Ee=function(H){return He(H).replace(/\./g,"")},Y=function(H){try{return de.decodeString(H,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function Z(H){return me(void 0,H)}function me(H,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return U}for(const Q in U)!U.hasOwnProperty(Q)||!Xe(Q)||(H[Q]=me(H[Q],U[Q]));return H}function Xe(H){return"__proto__"!==H}const Ve=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const H=process.env.__FIREBASE_DEFAULTS__;return H?JSON.parse(H):void 0})()||(()=>{if(typeof document>"u")return;let H;try{H=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=H&&Y(H[1]);return U&&JSON.parse(U)})()}catch(H){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${H}`)}},vt=()=>{var H;return null===(H=Ve())||void 0===H?void 0:H.config},Le=H=>{var U;return null===(U=Ve())||void 0===U?void 0:U[`_${H}`]};class it{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,Q)=>{this.resolve=U,this.reject=Q})}wrapCallback(U){return(Q,Ie)=>{Q?this.reject(Q):this.resolve(Ie),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(Q):U(Q,Ie))}}}function wt(H,U){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=U||"demo-project",oe=H.iat||0,ht=H.sub||H.user_id;if(!ht)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Gt=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:oe,exp:oe+3600,auth_time:oe,sub:ht,user_id:ht,firebase:{sign_in_provider:"custom",identities:{}}},H);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(Gt)),""].join(".")}function Ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function J(){var H;const U=null===(H=Ve())||void 0===H?void 0:H.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ge(){return"object"==typeof self&&self.self===self}function Vt(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function un(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Rn(){const H=Ke();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Wn(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function pi(){return!J()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ne(){try{return"object"==typeof indexedDB}catch{return!1}}function ue(){return new Promise((H,U)=>{try{let Q=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(Ie);oe.onsuccess=()=>{oe.result.close(),Q||self.indexedDB.deleteDatabase(Ie),H(!0)},oe.onupgradeneeded=()=>{Q=!1},oe.onerror=()=>{var ht;U((null===(ht=oe.error)||void 0===ht?void 0:ht.message)||"")}}catch(Q){U(Q)}})}function he(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class xe extends Error{constructor(U,Q,Ie){super(Q),this.code=U,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ce.prototype.create)}}class Ce{constructor(U,Q,Ie){this.service=U,this.serviceName=Q,this.errors=Ie}create(U,...Q){const Ie=Q[0]||{},oe=`${this.service}/${U}`,ht=this.errors[U],Gt=ht?function ot(H,U){return H.replace(Xt,(Q,Ie)=>{const oe=U[Ie];return null!=oe?String(oe):`<${Ie}?>`})}(ht,Ie):"Error";return new xe(oe,`${this.serviceName}: ${Gt} (${oe}).`,Ie)}}const Xt=/\{\$([^}]+)}/g;function Jn(H){return JSON.parse(H)}function gt(H){return JSON.stringify(H)}const sn=function(H){let U={},Q={},Ie={},oe="";try{const ht=H.split(".");U=Jn(Y(ht[0])||""),Q=Jn(Y(ht[1])||""),oe=ht[2],Ie=Q.d||{},delete Q.d}catch{}return{header:U,claims:Q,data:Ie,signature:oe}},ei=function(H){const Q=sn(H).claims;return!!Q&&"object"==typeof Q&&Q.hasOwnProperty("iat")},Si=function(H){const U=sn(H).claims;return"object"==typeof U&&!0===U.admin};function En(H,U){return Object.prototype.hasOwnProperty.call(H,U)}function Bt(H,U){if(Object.prototype.hasOwnProperty.call(H,U))return H[U]}function Fi(H){for(const U in H)if(Object.prototype.hasOwnProperty.call(H,U))return!1;return!0}function kn(H,U,Q){const Ie={};for(const oe in H)Object.prototype.hasOwnProperty.call(H,oe)&&(Ie[oe]=U.call(Q,H[oe],oe,H));return Ie}function bi(H,U){if(H===U)return!0;const Q=Object.keys(H),Ie=Object.keys(U);for(const oe of Q){if(!Ie.includes(oe))return!1;const ht=H[oe],Gt=U[oe];if(oo(ht)&&oo(Gt)){if(!bi(ht,Gt))return!1}else if(ht!==Gt)return!1}for(const oe of Ie)if(!Q.includes(oe))return!1;return!0}function oo(H){return null!==H&&"object"==typeof H}function Qo(H){const U=[];for(const[Q,Ie]of Object.entries(H))Array.isArray(Ie)?Ie.forEach(oe=>{U.push(encodeURIComponent(Q)+"="+encodeURIComponent(oe))}):U.push(encodeURIComponent(Q)+"="+encodeURIComponent(Ie));return U.length?"&"+U.join("&"):""}function st(H){const U={};return H.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[oe,ht]=Ie.split("=");U[decodeURIComponent(oe)]=decodeURIComponent(ht)}}),U}function At(H){const U=H.indexOf("?");if(!U)return"";const Q=H.indexOf("#",U);return H.substring(U,Q>0?Q:void 0)}class Ft{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(U,Q){Q||(Q=0);const Ie=this.W_;if("string"==typeof U)for(let jt=0;jt<16;jt++)Ie[jt]=U.charCodeAt(Q)<<24|U.charCodeAt(Q+1)<<16|U.charCodeAt(Q+2)<<8|U.charCodeAt(Q+3),Q+=4;else for(let jt=0;jt<16;jt++)Ie[jt]=U[Q]<<24|U[Q+1]<<16|U[Q+2]<<8|U[Q+3],Q+=4;for(let jt=16;jt<80;jt++){const pt=Ie[jt-3]^Ie[jt-8]^Ie[jt-14]^Ie[jt-16];Ie[jt]=4294967295&(pt<<1|pt>>>31)}let Zi,cr,oe=this.chain_[0],ht=this.chain_[1],Gt=this.chain_[2],hn=this.chain_[3],Sr=this.chain_[4];for(let jt=0;jt<80;jt++){jt<40?jt<20?(Zi=hn^ht&(Gt^hn),cr=1518500249):(Zi=ht^Gt^hn,cr=1859775393):jt<60?(Zi=ht&Gt|hn&(ht|Gt),cr=2400959708):(Zi=ht^Gt^hn,cr=3395469782);const pt=(oe<<5|oe>>>27)+Zi+Sr+cr+Ie[jt]&4294967295;Sr=hn,hn=Gt,Gt=4294967295&(ht<<30|ht>>>2),ht=oe,oe=pt}this.chain_[0]=this.chain_[0]+oe&4294967295,this.chain_[1]=this.chain_[1]+ht&4294967295,this.chain_[2]=this.chain_[2]+Gt&4294967295,this.chain_[3]=this.chain_[3]+hn&4294967295,this.chain_[4]=this.chain_[4]+Sr&4294967295}update(U,Q){if(null==U)return;void 0===Q&&(Q=U.length);const Ie=Q-this.blockSize;let oe=0;const ht=this.buf_;let Gt=this.inbuf_;for(;oe<Q;){if(0===Gt)for(;oe<=Ie;)this.compress_(U,oe),oe+=this.blockSize;if("string"==typeof U){for(;oe<Q;)if(ht[Gt]=U.charCodeAt(oe),++Gt,++oe,Gt===this.blockSize){this.compress_(ht),Gt=0;break}}else for(;oe<Q;)if(ht[Gt]=U[oe],++Gt,++oe,Gt===this.blockSize){this.compress_(ht),Gt=0;break}}this.inbuf_=Gt,this.total_+=Q}digest(){const U=[];let Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let oe=this.blockSize-1;oe>=56;oe--)this.buf_[oe]=255&Q,Q/=256;this.compress_(this.buf_);let Ie=0;for(let oe=0;oe<5;oe++)for(let ht=24;ht>=0;ht-=8)U[Ie]=this.chain_[oe]>>ht&255,++Ie;return U}}function $r(H,U){const Q=new Zn(H,U);return Q.subscribe.bind(Q)}class Zn{constructor(U,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{U(this)}).catch(Ie=>{this.error(Ie)})}next(U){this.forEachObserver(Q=>{Q.next(U)})}error(U){this.forEachObserver(Q=>{Q.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,Q,Ie){let oe;if(void 0===U&&void 0===Q&&void 0===Ie)throw new Error("Missing Observer.");oe=function Li(H,U){if("object"!=typeof H||null===H)return!1;for(const Q of U)if(Q in H&&"function"==typeof H[Q])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:Q,complete:Ie},void 0===oe.next&&(oe.next=Ln),void 0===oe.error&&(oe.error=Ln),void 0===oe.complete&&(oe.complete=Ln);const ht=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),ht}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,U)}sendOne(U,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{Q(this.observers[U])}catch(Ie){typeof console<"u"&&console.error&&console.error(Ie)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ln(){}const Gr=function(H,U,Q,Ie){let oe;if(Ie<U?oe="at least "+U:Ie>Q&&(oe=0===Q?"none":"no more than "+Q),oe)throw new Error(H+" failed: Was called with "+Ie+(1===Ie?" argument.":" arguments.")+" Expects "+oe+".")};function an(H,U){return`${H} failed: ${U} argument `}function Yt(H,U,Q,Ie){if((!Ie||Q)&&"function"!=typeof Q)throw new Error(an(H,U)+"must be a valid function.")}function ar(H,U,Q,Ie){if((!Ie||Q)&&("object"!=typeof Q||null===Q))throw new Error(an(H,U)+"must be a valid context object.")}const Ao=function(H){const U=[];let Q=0;for(let Ie=0;Ie<H.length;Ie++){let oe=H.charCodeAt(Ie);if(oe>=55296&&oe<=56319){const ht=oe-55296;Ie++,re(Ie<H.length,"Surrogate pair missing trail surrogate."),oe=65536+(ht<<10)+(H.charCodeAt(Ie)-56320)}oe<128?U[Q++]=oe:oe<2048?(U[Q++]=oe>>6|192,U[Q++]=63&oe|128):oe<65536?(U[Q++]=oe>>12|224,U[Q++]=oe>>6&63|128,U[Q++]=63&oe|128):(U[Q++]=oe>>18|240,U[Q++]=oe>>12&63|128,U[Q++]=oe>>6&63|128,U[Q++]=63&oe|128)}return U},Dt=function(H){let U=0;for(let Q=0;Q<H.length;Q++){const Ie=H.charCodeAt(Q);Ie<128?U++:Ie<2048?U+=2:Ie>=55296&&Ie<=56319?(U+=4,Q++):U+=3}return U},Xo=1e3,_e=2,G=144e5,ge=.5;function $e(H,U=Xo,Q=_e){const Ie=U*Math.pow(Q,H),oe=Math.round(ge*Ie*(Math.random()-.5)*2);return Math.min(G,Ie+oe)}function Cn(H){return H&&H._delegate?H._delegate:H}},583:($t,qe,W)=>{var d=W(212);let re=null;function B(){return re}class fe{}const de=new d.OlP("DocumentToken");let Fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(Ee),providedIn:"platform"})}return n})();const He=new d.OlP("Location Initialized");let Ee=(()=>{class n extends Fe{constructor(){super(),this._doc=(0,d.f3M)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Y(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function me(n){return n&&"?"!==n[0]?"?"+n:n}let Xe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(ut),providedIn:"root"})}return n})();const Oe=new d.OlP("appBaseHref");let ut=(()=>{class n extends Xe{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Y(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+me(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const l=this.prepareExternalUrl(r+me(s));this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){const l=this.prepareExternalUrl(r+me(s));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Fe),d.LFG(Oe,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nt=(()=>{class n extends Xe{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Y(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let l=this.prepareExternalUrl(r+me(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,s){let l=this.prepareExternalUrl(r+me(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Fe),d.LFG(Oe,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})(),nt=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function vt(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Z(St(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+me(i))}normalize(t){return n.stripTrailingSlash(function Tt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,St(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+me(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+me(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=me;static#t=this.joinWithSlash=Y;static#n=this.stripTrailingSlash=Z;static#i=this.\u0275fac=function(i){return new(i||n)(d.LFG(Xe))};static#r=this.\u0275prov=d.Yz7({token:n,factory:()=>function Ve(){return new nt((0,d.LFG)(Xe))}(),providedIn:"root"})}return n})();function St(n){return n.replace(/\/index.html$/,"")}var Ke=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Ke||{}),be=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(be||{}),J=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(J||{}),Ge=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Ge||{});function ue(n,e){return En((0,d.cg1)(n)[d.wAp.DateFormat],e)}function he(n,e){return En((0,d.cg1)(n)[d.wAp.TimeFormat],e)}function pe(n,e){return En((0,d.cg1)(n)[d.wAp.DateTimeFormat],e)}function xe(n,e){const t=(0,d.cg1)(n),i=t[d.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===Ge.CurrencyDecimal)return t[d.wAp.NumberSymbols][Ge.Decimal];if(e===Ge.CurrencyGroup)return t[d.wAp.NumberSymbols][Ge.Group]}return i}function Zt(n){if(!n[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function En(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Bt(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const oo=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vs={},Qo=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var st=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(st||{}),At=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(At||{}),Ft=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Ft||{});function $r(n,e,t,i){let r=function U(n){if(Ie(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,l=1]=n.split("-").map(f=>+f);return Zn(r,s-1,l)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(oo))return function Q(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const l=Number(n[4]||0)-t,f=Number(n[5]||0)-i,p=Number(n[6]||0),v=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,l,f,p,v),e}(i)}const e=new Date(n);if(!Ie(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=ze(t,e)||e;let f,l=[];for(;e;){if(f=Qo.exec(e),!f){l.push(e);break}{l=l.concat(f.slice(1));const C=l.pop();if(!C)break;e=C}}let p=r.getTimezoneOffset();i&&(p=at(i,p),r=function H(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function Cn(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(at(e,r)-r))}(r,i,!0));let v="";return l.forEach(C=>{const D=function Ye(n){if($e[n])return $e[n];let e;switch(n){case"G":case"GG":case"GGG":e=Yt(Ft.Eras,be.Abbreviated);break;case"GGGG":e=Yt(Ft.Eras,be.Wide);break;case"GGGGG":e=Yt(Ft.Eras,be.Narrow);break;case"y":e=an(At.FullYear,1,0,!1,!0);break;case"yy":e=an(At.FullYear,2,0,!0,!0);break;case"yyy":e=an(At.FullYear,3,0,!1,!0);break;case"yyyy":e=an(At.FullYear,4,0,!1,!0);break;case"Y":e=ge(1);break;case"YY":e=ge(2,!0);break;case"YYY":e=ge(3);break;case"YYYY":e=ge(4);break;case"M":case"L":e=an(At.Month,1,1);break;case"MM":case"LL":e=an(At.Month,2,1);break;case"MMM":e=Yt(Ft.Months,be.Abbreviated);break;case"MMMM":e=Yt(Ft.Months,be.Wide);break;case"MMMMM":e=Yt(Ft.Months,be.Narrow);break;case"LLL":e=Yt(Ft.Months,be.Abbreviated,Ke.Standalone);break;case"LLLL":e=Yt(Ft.Months,be.Wide,Ke.Standalone);break;case"LLLLL":e=Yt(Ft.Months,be.Narrow,Ke.Standalone);break;case"w":e=G(1);break;case"ww":e=G(2);break;case"W":e=G(1,!0);break;case"d":e=an(At.Date,1);break;case"dd":e=an(At.Date,2);break;case"c":case"cc":e=an(At.Day,1);break;case"ccc":e=Yt(Ft.Days,be.Abbreviated,Ke.Standalone);break;case"cccc":e=Yt(Ft.Days,be.Wide,Ke.Standalone);break;case"ccccc":e=Yt(Ft.Days,be.Narrow,Ke.Standalone);break;case"cccccc":e=Yt(Ft.Days,be.Short,Ke.Standalone);break;case"E":case"EE":case"EEE":e=Yt(Ft.Days,be.Abbreviated);break;case"EEEE":e=Yt(Ft.Days,be.Wide);break;case"EEEEE":e=Yt(Ft.Days,be.Narrow);break;case"EEEEEE":e=Yt(Ft.Days,be.Short);break;case"a":case"aa":case"aaa":e=Yt(Ft.DayPeriods,be.Abbreviated);break;case"aaaa":e=Yt(Ft.DayPeriods,be.Wide);break;case"aaaaa":e=Yt(Ft.DayPeriods,be.Narrow);break;case"b":case"bb":case"bbb":e=Yt(Ft.DayPeriods,be.Abbreviated,Ke.Standalone,!0);break;case"bbbb":e=Yt(Ft.DayPeriods,be.Wide,Ke.Standalone,!0);break;case"bbbbb":e=Yt(Ft.DayPeriods,be.Narrow,Ke.Standalone,!0);break;case"B":case"BB":case"BBB":e=Yt(Ft.DayPeriods,be.Abbreviated,Ke.Format,!0);break;case"BBBB":e=Yt(Ft.DayPeriods,be.Wide,Ke.Format,!0);break;case"BBBBB":e=Yt(Ft.DayPeriods,be.Narrow,Ke.Format,!0);break;case"h":e=an(At.Hours,1,-12);break;case"hh":e=an(At.Hours,2,-12);break;case"H":e=an(At.Hours,1);break;case"HH":e=an(At.Hours,2);break;case"m":e=an(At.Minutes,1);break;case"mm":e=an(At.Minutes,2);break;case"s":e=an(At.Seconds,1);break;case"ss":e=an(At.Seconds,2);break;case"S":e=an(At.FractionalSeconds,1);break;case"SS":e=an(At.FractionalSeconds,2);break;case"SSS":e=an(At.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ao(st.Short);break;case"ZZZZZ":e=Ao(st.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ao(st.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ao(st.Long);break;default:return null}return $e[n]=e,e}(C);v+=D?D(r,t,p):"''"===C?"'":C.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function Zn(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function ze(n,e){const t=function un(n){return(0,d.cg1)(n)[d.wAp.LocaleId]}(n);if(vs[t]=vs[t]||{},vs[t][e])return vs[t][e];let i="";switch(e){case"shortDate":i=ue(n,J.Short);break;case"mediumDate":i=ue(n,J.Medium);break;case"longDate":i=ue(n,J.Long);break;case"fullDate":i=ue(n,J.Full);break;case"shortTime":i=he(n,J.Short);break;case"mediumTime":i=he(n,J.Medium);break;case"longTime":i=he(n,J.Long);break;case"fullTime":i=he(n,J.Full);break;case"short":const r=ze(n,"shortTime"),s=ze(n,"shortDate");i=Li(pe(n,J.Short),[r,s]);break;case"medium":const l=ze(n,"mediumTime"),f=ze(n,"mediumDate");i=Li(pe(n,J.Medium),[l,f]);break;case"long":const p=ze(n,"longTime"),v=ze(n,"longDate");i=Li(pe(n,J.Long),[p,v]);break;case"full":const C=ze(n,"fullTime"),D=ze(n,"fullDate");i=Li(pe(n,J.Full),[C,D])}return i&&(vs[t][e]=i),i}function Li(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Ln(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let l=String(n);for(;l.length<e;)l="0"+l;return i&&(l=l.slice(l.length-e)),s+l}function an(n,e,t=0,i=!1,r=!1){return function(s,l){let f=function br(n,e){switch(n){case At.FullYear:return e.getFullYear();case At.Month:return e.getMonth();case At.Date:return e.getDate();case At.Hours:return e.getHours();case At.Minutes:return e.getMinutes();case At.Seconds:return e.getSeconds();case At.FractionalSeconds:return e.getMilliseconds();case At.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||f>-t)&&(f+=t),n===At.Hours)0===f&&-12===t&&(f=12);else if(n===At.FractionalSeconds)return function Gr(n,e){return Ln(n,3).substring(0,e)}(f,e);const p=xe(l,Ge.MinusSign);return Ln(f,e,p,i,r)}}function Yt(n,e,t=Ke.Format,i=!1){return function(r,s){return function ar(n,e,t,i,r,s){switch(t){case Ft.Months:return function Pi(n,e,t){const i=(0,d.cg1)(n),s=En([i[d.wAp.MonthsFormat],i[d.wAp.MonthsStandalone]],e);return En(s,t)}(e,r,i)[n.getMonth()];case Ft.Days:return function Rn(n,e,t){const i=(0,d.cg1)(n),s=En([i[d.wAp.DaysFormat],i[d.wAp.DaysStandalone]],e);return En(s,t)}(e,r,i)[n.getDay()];case Ft.DayPeriods:const l=n.getHours(),f=n.getMinutes();if(s){const v=function Fn(n){const e=(0,d.cg1)(n);return Zt(e),(e[d.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Bt(i):[Bt(i[0]),Bt(i[1])])}(e),C=function ei(n,e,t){const i=(0,d.cg1)(n);Zt(i);const s=En([i[d.wAp.ExtraData][0],i[d.wAp.ExtraData][1]],e)||[];return En(s,t)||[]}(e,r,i),D=v.findIndex(M=>{if(Array.isArray(M)){const[P,V]=M,j=l>=P.hours&&f>=P.minutes,X=l<V.hours||l===V.hours&&f<V.minutes;if(P.hours<V.hours){if(j&&X)return!0}else if(j||X)return!0}else if(M.hours===l&&M.minutes===f)return!0;return!1});if(-1!==D)return C[D]}return function qn(n,e,t){const i=(0,d.cg1)(n),s=En([i[d.wAp.DayPeriodsFormat],i[d.wAp.DayPeriodsStandalone]],e);return En(s,t)}(e,r,i)[l<12?0:1];case Ft.Eras:return function Wn(n,e){return En((0,d.cg1)(n)[d.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function Ao(n){return function(e,t,i){const r=-1*i,s=xe(t,Ge.MinusSign),l=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case st.Short:return(r>=0?"+":"")+Ln(l,2,s)+Ln(Math.abs(r%60),2,s);case st.ShortGMT:return"GMT"+(r>=0?"+":"")+Ln(l,1,s);case st.Long:return"GMT"+(r>=0?"+":"")+Ln(l,2,s)+":"+Ln(Math.abs(r%60),2,s);case st.Extended:return 0===i?"Z":(r>=0?"+":"")+Ln(l,2,s)+":"+Ln(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const Dt=0,Ot=4;function _e(n){return Zn(n.getFullYear(),n.getMonth(),n.getDate()+(Ot-n.getDay()))}function G(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();r=1+Math.floor((l+s)/7)}else{const s=_e(t),l=function Xo(n){const e=Zn(n,Dt,1).getDay();return Zn(n,0,1+(e<=Ot?Ot:Ot+7)-e)}(s.getFullYear()),f=s.getTime()-l.getTime();r=1+Math.round(f/6048e5)}return Ln(r,n,xe(i,Ge.MinusSign))}}function ge(n,e=!1){return function(t,i){return Ln(_e(t).getFullYear(),n,xe(i,Ge.MinusSign),e)}}const $e={};function at(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ie(n){return n instanceof Date&&!isNaN(n.valueOf())}function _l(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}class lr{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hs=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new lr(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===s?void 0:s);else if(null!==s){const f=i.get(s);i.move(f,l),Bg(f,r)}});for(let r=0,s=i.length;r<s;r++){const f=i.get(r).context;f.index=r,f.count=s,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Bg(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Bg(n,e){n.context.$implicit=e.item}let ao=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new rx,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){cn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){cn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b),d.Y36(d.Rgc))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class rx{constructor(){this.$implicit=null,this.ngIf=null}}function cn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class zs{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ja=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t===this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),vl=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new zs(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(Ja,9))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),lh=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.s_b))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.TTD]})}return n})();function Nn(n,e){return new d.vHH(2100,!1)}class tc{createSubscription(e,t){return(0,d.rg0)(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){(0,d.rg0)(()=>e.unsubscribe())}}class Pd{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const dh=new Pd,sm=new tc;let Ca=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,d.QGY)(t))return dh;if((0,d.F4k)(t))return sm;throw Nn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.sBO,16))};static#t=this.\u0275pipe=d.Yjl({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Fd=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),rn=new d.OlP("DATE_PIPE_DEFAULT_OPTIONS");let nc=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,s){if(null==t||""===t||t!=t)return null;try{return $r(t,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw Nn()}}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.soG,16),d.Y36(Fd,24),d.Y36(rn,24))};static#t=this.\u0275pipe=d.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),qr=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();const Gs="browser";function oc(n){return n===Gs}function hh(n){return"server"===n}let Ws=(()=>{class n{static#e=this.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>oc((0,d.f3M)(d.Lbi))?new um((0,d.f3M)(de),window):new hm})}return n})();class um{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function Vd(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}}class hm{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class Bd{}class Py extends fe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class bh extends Py{static makeCurrent(){!function se(n){re||(re=n)}(new bh)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function mm(){return hc=hc||document.querySelector("base"),hc?hc.getAttribute("href"):null}();return null==t?null:function sx(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _l(document.cookie,e)}}let hc=null,Wg=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const pm=new d.OlP("EventManagerPlugins");let xs=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new d.vHH(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(pm),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();class Zg{constructor(e){this._doc=e}}const Ml="ng-app-id";let Kd=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=hh(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Ml}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(Ml),s;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=i,this.platformIsServer&&l.setAttribute(Ml,this.appId),t.appendChild(l),l}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),s=this.styleRef,l=s.get(i)?.elements;l?l.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(de),d.LFG(d.AFp),d.LFG(d.Ojb,8),d.LFG(d.Lbi))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const gm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ta=/%COMP%/g,Kg=new d.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function wh(n,e){return e.map(t=>t.replace(Ta,n))}let Js=(()=>{class n{constructor(t,i,r,s,l,f,p,v=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=l,this.platformId=f,this.ngZone=p,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=hh(f),this.defaultRenderer=new mc(t,l,p,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===d.ifc.ShadowDom&&(i={...i,encapsulation:d.ifc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof Yd?r.applyToHost(t):r instanceof Vi&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const l=this.doc,f=this.ngZone,p=this.eventManager,v=this.sharedStylesHost,C=this.removeStylesOnCompDestroy,D=this.platformIsServer;switch(i.encapsulation){case d.ifc.Emulated:s=new Yd(p,v,i,this.appId,C,l,f,D);break;case d.ifc.ShadowDom:return new Ol(p,v,t,i,l,f,this.nonce,D);default:s=new Vi(p,v,i,C,l,f,D)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(xs),d.LFG(Kd),d.LFG(d.AFp),d.LFG(Kg),d.LFG(de),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(d.Ojb))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();class mc{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(gm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Nl(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Nl(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new d.vHH(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=gm[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=gm[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,i,r&d.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=B().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Nl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ol extends mc{constructor(e,t,i,r,s,l,f,p){super(e,s,l,p),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=wh(r.id,r.styles);for(const C of v){const D=document.createElement("style");f&&D.setAttribute("nonce",f),D.textContent=C,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Vi extends mc{constructor(e,t,i,r,s,l,f,p){super(e,s,l,f),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=p?wh(p,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Yd extends Vi{constructor(e,t,i,r,s,l,f,p){const v=r+"-"+i.id;super(e,t,i,s,l,f,p,v),this.contentAttr=function Ro(n){return"_ngcontent-%COMP%".replace(Ta,n)}(v),this.hostAttr=function vm(n){return"_nghost-%COMP%".replace(Ta,n)}(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Qd=(()=>{class n extends Zg{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(de))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const po=["alt","control","meta","shift"],go={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Da={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ym=(()=>{class n extends Zg{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),l="code."),po.forEach(v=>{const C=i.indexOf(v);C>-1&&(i.splice(C,1),l+=v+".")}),l+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=l,p}static matchEventFullKeyCode(t,i){let r=go[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),po.forEach(l=>{l!==r&&(0,Da[l])(t)&&(s+=l+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(de))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const pc=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:Gs},{provide:d.g9A,useValue:function xm(){bh.makeCurrent()},multi:!0},{provide:de,useFactory:function xh(){return(0,d.RDi)(document),document},deps:[]}]),wi=new d.OlP(""),Cs=[{provide:d.rWj,useClass:class ax{addToWindow(e){d.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new d.vHH(5103,!1);return s},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(i=>{const r=d.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const f=function(p){l=l||p,s--,0==s&&i(l)};r.forEach(p=>{p.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],ft=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Xd(){return new d.qLn},deps:[]},{provide:pm,useClass:Qd,multi:!0,deps:[de,d.R0b,d.Lbi]},{provide:pm,useClass:ym,multi:!0,deps:[de]},Js,Kd,xs,{provide:d.FYo,useExisting:Js},{provide:Bd,useClass:Wg,deps:[]},[]];let gc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(wi,12))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[...ft,...Cs],imports:[qr,d.hGG]})}return n})(),Fl=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(de))};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function Xg(){return new Fl((0,d.LFG)(de))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let Ll=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(i){let r=null;return r=i?new(i||n):d.LFG(Vl),r},providedIn:"root"})}return n})(),Vl=(()=>{class n extends Ll{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case d.q3G.NONE:return i;case d.q3G.HTML:return(0,d.qzn)(i,"HTML")?(0,d.z3N)(i):(0,d.EiD)(this._doc,String(i)).toString();case d.q3G.STYLE:return(0,d.qzn)(i,"Style")?(0,d.z3N)(i):i;case d.q3G.SCRIPT:if((0,d.qzn)(i,"Script"))return(0,d.z3N)(i);throw new d.vHH(5200,!1);case d.q3G.URL:return(0,d.qzn)(i,"URL")?(0,d.z3N)(i):(0,d.mCW)(String(i));case d.q3G.RESOURCE_URL:if((0,d.qzn)(i,"ResourceURL"))return(0,d.z3N)(i);throw new d.vHH(5201,!1);default:throw new d.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(de))};static#t=this.\u0275prov=d.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function Fy(n){return new Vl(n.get(de))}(d.LFG(d.zs3)),r},providedIn:"root"})}return n})();var zn=W(592),gi=W(674),Oo=W(582);const eu=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function yc(n){return(0,gi.m)(n?.then)}var Bl=W(850);function Aa(n){return(0,gi.m)(n[Bl.L])}function ka(n){return Symbol.asyncIterator&&(0,gi.m)(n?.[Symbol.asyncIterator])}function Ul(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const jl=function tu(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function rs(n){return(0,gi.m)(n?.[jl])}function na(n){return(0,Oo.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Oo.qq)(t.read());if(r)return yield(0,Oo.qq)(void 0);yield yield(0,Oo.qq)(i)}}finally{t.releaseLock()}})}function Pn(n){return(0,gi.m)(n?.getReader)}var ia=W(894);function en(n){if(n instanceof zn.y)return n;if(null!=n){if(Aa(n))return function Hl(n){return new zn.y(e=>{const t=n[Bl.L]();if((0,gi.m)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(eu(n))return function nu(n){return new zn.y(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(yc(n))return function iu(n){return new zn.y(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ia.h)})}(n);if(ka(n))return zl(n);if(rs(n))return function os(n){return new zn.y(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Pn(n))return function kh(n){return zl(na(n))}(n)}throw Ul(n)}function zl(n){return new zn.y(e=>{(function ru(n,e){var t,i,r,s;return(0,Oo.mG)(this,void 0,void 0,function*(){try{for(t=(0,Oo.KL)(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(l){r={error:l}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}var xr=W(93),ou=W(137),Po=W(103);function $l(n,e){if(!n)throw new Error("Iterable cannot be null");return new zn.y(t=>{(0,Po.f)(t,e,()=>{const i=n[Symbol.asyncIterator]();(0,Po.f)(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function ln(n,e){return e?function Ma(n,e){if(null!=n){if(Aa(n))return function bc(n,e){return en(n).pipe((0,ou.R)(e),(0,xr.Q)(e))}(n,e);if(eu(n))return function xc(n,e){return new zn.y(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(yc(n))return function wc(n,e){return en(n).pipe((0,ou.R)(e),(0,xr.Q)(e))}(n,e);if(ka(n))return $l(n,e);if(rs(n))return function n_(n,e){return new zn.y(t=>{let i;return(0,Po.f)(t,e,()=>{i=n[jl](),(0,Po.f)(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(l){return void t.error(l)}s?t.complete():t.next(r)},0,!0)}),()=>(0,gi.m)(i?.return)&&i.return()})}(n,e);if(Pn(n))return function Im(n,e){return $l(na(n),e)}(n,e)}throw Ul(n)}(n,e):en(n)}function Ra(n){return n[n.length-1]}function Mh(n){return(0,gi.m)(Ra(n))?n.pop():void 0}function Na(n){return function Ly(n){return n&&(0,gi.m)(n.schedule)}(Ra(n))?n.pop():void 0}function mt(...n){return ln(n,Na(n))}var Or=W(619);const{isArray:Rh}=Array,{getPrototypeOf:Gl,prototype:Nh,keys:ql}=Object;function Oh(n){if(1===n.length){const e=n[0];if(Rh(e))return{args:e,keys:null};if(function Ec(n){return n&&"object"==typeof n&&Gl(n)===Nh}(e)){const t=ql(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Cc=W(737),dt=W(398);const{isArray:Wl}=Array;function Pr(n){return(0,dt.U)(e=>function Ph(n,e){return Wl(e)?n(...e):n(e)}(n,e))}function Ic(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Bn=W(251);function Ts(...n){const e=Na(n),t=Mh(n),{args:i,keys:r}=Oh(n);if(0===i.length)return ln([],e);const s=new zn.y(function Zl(n,e,t=Cc.y){return i=>{ra(e,()=>{const{length:r}=n,s=new Array(r);let l=r,f=r;for(let p=0;p<r;p++)ra(e,()=>{const v=ln(n[p],e);let C=!1;v.subscribe((0,Bn.x)(i,D=>{s[p]=D,C||(C=!0,f--),f||i.next(t(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,e,r?l=>Ic(r,l):Cc.y));return t?s.pipe(Pr(t)):s}function ra(n,e,t){n?(0,Po.f)(t,n,e):e()}const su=(0,W(306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var li=W(360);function Qi(n,e,t=1/0){return(0,gi.m)(e)?Qi((i,r)=>(0,dt.U)((s,l)=>e(i,s,r,l))(en(n(i,r))),t):("number"==typeof e&&(t=e),(0,li.e)((i,r)=>function i_(n,e,t,i,r,s,l,f){const p=[];let v=0,C=0,D=!1;const M=()=>{D&&!p.length&&!v&&e.complete()},P=j=>v<i?V(j):p.push(j),V=j=>{s&&e.next(j),v++;let X=!1;en(t(j,C++)).subscribe((0,Bn.x)(e,ye=>{r?.(ye),s?P(ye):e.next(ye)},()=>{X=!0},void 0,()=>{if(X)try{for(v--;p.length&&v<i;){const ye=p.shift();l?(0,Po.f)(e,l,()=>V(ye)):V(ye)}M()}catch(ye){e.error(ye)}}))};return n.subscribe((0,Bn.x)(e,P,()=>{D=!0,M()})),()=>{f?.()}}(i,r,n,t)))}function Oa(n=1/0){return Qi(Cc.y,n)}function sa(...n){return function oa(){return Oa(1)}()(ln(n,Na(n)))}function aa(n){return new zn.y(e=>{en(n()).subscribe(e)})}var Dm=W(407);function Fr(n,e){const t=(0,gi.m)(n)?n:()=>n,i=r=>r.error(t());return new zn.y(e?r=>e.schedule(i,0,r):i)}const Er=new zn.y(n=>n.complete());var Kn=W(394);function au(){return(0,li.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Bn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Fh extends zn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,li.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Kn.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Bn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Kn.w0.EMPTY)}return e}refCount(){return au()(this)}}var Mn=W(645);function di(n,e){return(0,li.e)((t,i)=>{let r=null,s=0,l=!1;const f=()=>l&&!r&&i.complete();t.subscribe((0,Bn.x)(i,p=>{r?.unsubscribe();let v=0;const C=s++;en(n(p,C)).subscribe(r=(0,Bn.x)(i,D=>i.next(e?e(p,D,C,v++):D),()=>{r=null,f()}))},()=>{l=!0,f()}))})}function I(n){return n<=0?()=>Er:(0,li.e)((e,t)=>{let i=0;e.subscribe((0,Bn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function T(...n){const e=Na(n);return(0,li.e)((t,i)=>{(e?sa(n,t,e):sa(n,t)).subscribe(i)})}function k(n,e){return(0,li.e)((t,i)=>{let r=0;t.subscribe((0,Bn.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}function L(n){return(0,li.e)((e,t)=>{let i=!1;e.subscribe((0,Bn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function q(n=ee){return(0,li.e)((e,t)=>{let i=!1;e.subscribe((0,Bn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function ee(){return new su}function ae(n,e){const t=arguments.length>=2;return i=>i.pipe(n?k((r,s)=>n(r,s,i)):Cc.y,I(1),t?L(e):q(()=>new su))}function je(n,e){return(0,gi.m)(e)?Qi(n,e,1):Qi(n,1)}var Me=W(397);function et(n){return(0,li.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,Bn.x)(t,void 0,void 0,l=>{s=en(n(l,et(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Mt(n,e){return(0,li.e)(function Ut(n,e,t,i,r){return(s,l)=>{let f=t,p=e,v=0;s.subscribe((0,Bn.x)(l,C=>{const D=v++;p=f?n(p,C,D):(f=!0,C),i&&l.next(p)},r&&(()=>{f&&l.next(p),l.complete()})))}}(n,e,arguments.length>=2,!0))}function Yr(n){return n<=0?()=>Er:(0,li.e)((e,t)=>{let i=[];e.subscribe((0,Bn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Pa(n){return(0,li.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var Qr=W(420);function Mi(n){return(0,li.e)((e,t)=>{en(n).subscribe((0,Bn.x)(t,()=>t.complete(),Qr.Z)),!t.closed&&e.subscribe(t)})}const Rt="primary",ii=Symbol("RouteTitle");class r_{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ca(n){return new r_(n)}function qT(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],f=n[s];if(l.startsWith(":"))r[l.substring(1)]=f;else if(l!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Vr(n,e){const t=n?Ql(n):void 0,i=e?Ql(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!cu(n[r],e[r]))return!1;return!0}function Ql(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function cu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function ss(n){return function Ah(n){return!!n&&(n instanceof zn.y||(0,gi.m)(n.lift)&&(0,gi.m)(n.subscribe))}(n)?n:(0,d.QGY)(n)?ln(Promise.resolve(n)):mt(n)}const o_={exact:function vo(n,e,t){if(!Fa(n.segments,e.segments)||!Ds(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!vo(n.children[i],e.children[i],t))return!1;return!0},subset:Xl},cx={exact:function WT(n,e){return Vr(n,e)},subset:function Sm(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>cu(n[t],e[t]))},ignored:()=>!0};function s_(n,e,t){return o_[t.paths](n.root,e.root,t.matrixParams)&&cx[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Xl(n,e,t){return ZT(n,e,e.segments,t)}function ZT(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Fa(r,t)||e.hasChildren()||!Ds(r,t,i))}if(n.segments.length===t.length){if(!Fa(n.segments,t)||!Ds(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Xl(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Fa(n.segments,r)&&Ds(n.segments,r,i)&&n.children[Rt])&&ZT(n.children[Rt],e,s,i)}}function Ds(n,e,t){return e.every((i,r)=>cx[t](n[r].parameters,i.parameters))}class lu{constructor(e=new $n([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ca(this.queryParams)),this._queryParamMap}toString(){return ux.serialize(this)}}class $n{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ed(this)}}class Jl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ca(this.parameters)),this._parameterMap}toString(){return Mm(this)}}function Fa(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Dc=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>new Sc,providedIn:"root"})}return n})();class Sc{parse(e){const t=new Uy(e);return new lu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${td(e.root,!0)}`,i=function du(n){const e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Am(t)}=${Am(r)}`).join("&"):`${Am(t)}=${Am(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Vy(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ux=new Sc;function ed(n){return n.segments.map(e=>Mm(e)).join("/")}function td(n,e){if(!n.hasChildren())return ed(n);if(e){const t=n.children[Rt]?td(n.children[Rt],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Rt&&i.push(`${r}:${td(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function dx(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Rt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Rt&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Rt?[td(n.children[Rt],!1)]:[`${r}:${td(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rt]?`${ed(n)}/${t[0]}`:`${ed(n)}/(${t.join("//")})`}}function Lh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Am(n){return Lh(n).replace(/%3B/gi,";")}function Vh(n){return Lh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nd(n){return decodeURIComponent(n)}function km(n){return nd(n.replace(/\+/g,"%20"))}function Mm(n){return`${Vh(n.path)}${function hx(n){return Object.entries(n).map(([e,t])=>`;${Vh(e)}=${Vh(t)}`).join("")}(n.parameters)}`}const id=/^[^\/()?;#]+/;function Bh(n){const e=n.match(id);return e?e[0]:""}const KT=/^[^\/()?;=#]+/,Rm=/^[^=?&#]+/,fx=/^[^&#]+/;class Uy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $n([],{}):new $n([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Rt]=new $n(e,t)),i}parseSegment(){const e=Bh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(e),new Jl(nd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function By(n){const e=n.match(KT);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Bh(this.remaining);r&&(i=r,this.capture(i))}e[nd(t)]=nd(i)}parseQueryParam(e){const t=function YT(n){const e=n.match(Rm);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function mx(n){const e=n.match(fx);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=km(t),s=km(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Bh(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new d.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Rt);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[Rt]:new $n([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,!1)}}function Ac(n){return n.segments.length>0?new $n([],{[Rt]:n}):n}function a_(n){const e={};for(const[i,r]of Object.entries(n.children)){const s=a_(r);if(i===Rt&&0===s.segments.length&&s.hasChildren())for(const[l,f]of Object.entries(s.children))e[l]=f;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function c_(n){if(1===n.numberOfChildren&&n.children[Rt]){const e=n.children[Rt];return new $n(n.segments.concat(e.segments),e.children)}return n}(new $n(n.segments,e))}function la(n){return n instanceof lu}function jy(n){let e;const r=Ac(function t(s){const l={};for(const p of s.children){const v=t(p);l[p.outlet]=v}const f=new $n(s.url,l);return s===n&&(e=f),f}(n.root));return e??r}function Nm(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return Hy(r,r,r,t,i);const s=function jh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new l_(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const f={};return Object.entries(s.outlets).forEach(([p,v])=>{f[p]="string"==typeof v?v.split("/"):v}),[...r,{outlets:f}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((f,p)=>{0==p&&"."===f||(0==p&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,s]},[]);return new l_(t,e,i)}(e);if(s.toRoot())return Hy(r,r,new $n([],{}),t,i);const l=function d_(n,e,t){if(n.isAbsolute)return new rd(e,!0,0);if(!t)return new rd(e,!1,NaN);if(null===t.parent)return new rd(t,!0,0);const i=Uh(n.commands[0])?0:1;return function od(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new d.vHH(4005,!1);r=i.segments.length}return new rd(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),f=l.processChildren?Ui(l.segmentGroup,l.index,s.commands):Pm(l.segmentGroup,l.index,s.commands);return Hy(r,l.segmentGroup,f,t,i)}function Uh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Mc(n){return"object"==typeof n&&null!=n&&n.outlets}function Hy(n,e,t,i,r){let l,s={};i&&Object.entries(i).forEach(([p,v])=>{s[p]=Array.isArray(v)?v.map(C=>`${C}`):`${v}`}),l=n===e?t:Om(n,e,t);const f=Ac(a_(l));return new lu(f,s,r)}function Om(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:Om(s,e,t)}),new $n(n.segments,i)}class l_{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Uh(i[0]))throw new d.vHH(4003,!1);const r=i.find(Mc);if(r&&r!==i.at(-1))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rd{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Pm(n,e,t){if(n||(n=new $n([],{})),0===n.segments.length&&n.hasChildren())return Ui(n,e,t);const i=function Hh(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const l=n.segments[r],f=t[i];if(Mc(f))break;const p=`${f}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&v&&"object"==typeof v&&void 0===v.outlets){if(!La(p,v,l))return s;i+=2}else{if(!La(p,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new $n(n.segments.slice(0,i.pathIndex),{});return s.children[Rt]=new $n(n.segments.slice(i.pathIndex),n.children),Ui(s,0,r)}return i.match&&0===r.length?new $n(n.segments,{}):i.match&&!n.hasChildren()?uu(n,e,t):i.match?Ui(n,0,r):uu(n,e,t)}function Ui(n,e,t){if(0===t.length)return new $n(n.segments,{});{const i=function u_(n){return Mc(n[0])?n[0].outlets:{[Rt]:n}}(t),r={};if(Object.keys(i).some(s=>s!==Rt)&&n.children[Rt]&&1===n.numberOfChildren&&0===n.children[Rt].segments.length){const s=Ui(n.children[Rt],e,t);return new $n(n.segments,s.children)}return Object.entries(i).forEach(([s,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(r[s]=Pm(n.children[s],e,l))}),Object.entries(n.children).forEach(([s,l])=>{void 0===i[s]&&(r[s]=l)}),new $n(n.segments,r)}}function uu(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Mc(s)){const p=Fm(s.outlets);return new $n(i,p)}if(0===r&&Uh(t[0])){i.push(new Jl(n.segments[e].path,Lo(t[0]))),r++;continue}const l=Mc(s)?s.outlets[Rt]:`${s}`,f=r<t.length-1?t[r+1]:null;l&&f&&Uh(f)?(i.push(new Jl(l,Lo(f))),r+=2):(i.push(new Jl(l,{})),r++)}return new $n(i,{})}function Fm(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=uu(new $n([],{}),0,i))}),e}function Lo(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function La(n,e,t){return n==t.path&&Vr(e,t.parameters)}const sd="imperative";class Ss{constructor(e,t){this.id=e,this.url=t}}class Lm extends Ss{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hr extends Ss{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class as extends Ss{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hu extends Ss{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Vm extends Ss{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zy extends Ss{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bm extends Ss{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yo extends Ss{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zh extends Ss{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Um extends Ss{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class px{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Va{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fu{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $y{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h_{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gx{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jm{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gy{}class Hm{constructor(e){this.url=e}}class cs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new b,this.attachRef=null}}let b=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new cs,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class g{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=_(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=x(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return x(e,this._root).map(t=>t.value)}}function _(n,e){if(n===e.value)return e;for(const t of e.children){const i=_(n,t);if(i)return i}return null}function x(n,e){if(n===e.value)return[e];for(const t of e.children){const i=x(n,t);if(i.length)return i.unshift(e),i}return[]}class A{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function N(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class $ extends g{constructor(e,t){super(e),this.snapshot=t,Xr(this,e)}toString(){return this.snapshot.toString()}}function te(n){const e=function ke(n){const s=new rt([],{},{},"",{},Rt,n,null,{});return new oi("",new A(s,[]))}(n),t=new Or.X([new Jl("",{})]),i=new Or.X({}),r=new Or.X({}),s=new Or.X({}),l=new Or.X(""),f=new Re(t,i,s,l,r,Rt,n,e.root);return f.snapshot=e.root,new $(new A(f,[]),e)}class Re{constructor(e,t,i,r,s,l,f,p){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=l,this.component=f,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,dt.U)(v=>v[ii]))??mt(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dt.U)(e=>ca(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dt.U)(e=>ca(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Je(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&f_(r)&&(i.resolve[ii]=r.title),i}class rt{get title(){return this.data?.[ii]}constructor(e,t,i,r,s,l,f,p,v){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=f,this.routeConfig=p,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ca(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ca(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oi extends g{constructor(e,t){super(t),this.url=e,Xr(this,t)}toString(){return zm(this._root)}}function Xr(n,e){e.value._routerState=n,e.children.forEach(t=>Xr(n,t))}function zm(n){const e=n.children.length>0?` { ${n.children.map(zm).join(", ")} } `:"";return`${n.value}${e}`}function $m(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Vr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Vr(e.params,t.params)||n.paramsSubject.next(t.params),function Lr(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Vr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Vr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function $h(n,e){const t=Vr(n.params,e.params)&&function lx(n,e){return Fa(n,e)&&n.every((t,i)=>Vr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||$h(n.parent,e.parent))}function f_(n){return"string"==typeof n.title||null===n.title}let Gm=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Rt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(b),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb),this.inputBinder=(0,d.f3M)(Gh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new d.vHH(4013,!1);this._activatedRoute=t;const r=this.location,l=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,p=new qm(t,f,r.injector);this.activated=r.createComponent(l,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]})}return n})();class qm{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Re?this.route:e===b?this.childContexts:this.parent.get(e,t)}}const Gh=new d.OlP("");let Wm=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Ts([i.queryParams,i.params,i.data]).pipe(di(([s,l,f],p)=>(f={...s,...l,...f},0===p?mt(f):Promise.resolve(f)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const l=(0,d.qFp)(i.component);if(l)for(const{templateName:f}of l.inputs)t.activatedComponentRef.setInput(f,s[f]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function fr(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Nc(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return fr(n,i,r);return fr(n,i)})}(n,e,t);return new A(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(f=>fr(n,f)),l}}const i=function qh(n){return new Re(new Or.X(n.url),new Or.X(n.params),new Or.X(n.queryParams),new Or.X(n.fragment),new Or.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>fr(n,s));return new A(i,r)}}const Zm="ngNavigationCancelingError";function ad(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=la(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Km(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Km(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Zm]=!0,i.cancellationCode=e,t&&(i.url=t),i}function m_(n){return n&&n[Zm]}let vx=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(i,r){1&i&&d._UZ(0,"router-outlet")},dependencies:[Gm],encapsulation:2})}return n})();function QT(n){const e=n.children&&n.children.map(QT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Rt&&(t.component=vx),t}function da(n){return n.outlet||Rt}function qy(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class W2{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),$m(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=N(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=N(e);for(const l of Object.values(s))this.deactivateRouteAndItsChildren(l,r);if(i&&i.outlet){const l=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=N(e);for(const l of Object.values(s))this.deactivateRouteAndItsChildren(l,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=N(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new gx(s.value.snapshot))}),e.children.length&&this.forwardEvent(new $y(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if($m(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(f.contexts),l.attachRef=f.componentRef,l.route=f.route.value,l.outlet&&l.outlet.attach(f.componentRef,f.route.value),$m(f.route.value),this.activateChildRoutes(e,null,l.children)}else{const f=qy(r.snapshot);l.attachRef=null,l.route=r,l.injector=f,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class XT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Wh{constructor(e,t){this.component=e,this.route=t}}function Wy(n,e,t){const i=n._root;return Ym(i,e?e._root:null,t,[i.value])}function Zh(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:i}function Ym(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=N(e);return n.children.forEach(l=>{(function p_(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const p=function v1(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Fa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fa(n.url,e.url)||!Vr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$h(n,e)||!Vr(n.queryParams,e.queryParams);default:return!$h(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new XT(i)):(s.data=l.data,s._resolvedData=l._resolvedData),Ym(n,e,s.component?f?f.children:null:t,i,r),p&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Wh(f.outlet.component,l))}else l&&Qm(e,f,r),r.canActivateChecks.push(new XT(i)),Ym(n,null,s.component?f?f.children:null:t,i,r)})(l,s[l.value.outlet],t,i.concat([l.value]),r),delete s[l.value.outlet]}),Object.entries(s).forEach(([l,f])=>Qm(f,t.getContext(l),r)),r}function Qm(n,e,t){const i=N(n),r=n.value;Object.entries(i).forEach(([s,l])=>{Qm(l,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Wh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Xm(n){return"function"==typeof n}function JT(n){return n instanceof su||"EmptyError"===n?.name}const Qy=Symbol("INITIAL_VALUE");function Jm(){return di(n=>Ts(n.map(e=>e.pipe(I(1),T(Qy)))).pipe((0,dt.U)(e=>{for(const t of e)if(!0!==t){if(t===Qy)return Qy;if(!1===t||t instanceof lu)return t}return!0}),k(e=>e!==Qy),I(1)))}function Cx(n){return(0,Dm.z)((0,Me.b)(e=>{if(la(e))throw ad(0,e)}),(0,dt.U)(e=>!0===e))}class Ix{constructor(e){this.segmentGroup=e||null}}class Xy extends Error{constructor(e){super(),this.urlTree=e}}function ep(n){return Fr(new Ix(n))}class D1{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return mt(i);if(r.numberOfChildren>1||!r.children[Rt])return Fr(new d.vHH(4e3,!1));r=r.children[Rt]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new Xy(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new lu(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const f=s.substring(1);i[r]=t[f]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let l={};return Object.entries(t.children).forEach(([f,p])=>{l[f]=this.createSegmentGroup(e,p,i,r)}),new $n(s,l)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new d.vHH(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const Tx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Dx(n,e,t,i,r){const s=__(n,e,t);return s.matched?(i=function m1(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function nD(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?mt(r.map(l=>{const f=Zh(l,n);return ss(function w1(n){return n&&Xm(n.canMatch)}(f)?f.canMatch(e,t):(0,d.r_H)(n,()=>f(e,t)))})).pipe(Jm(),Cx()):mt(!0)}(i,e,t).pipe((0,dt.U)(l=>!0===l?s:{...Tx}))):mt(s)}function __(n,e,t){if("**"===e.path)return function S1(n){return{matched:!0,parameters:n.at(-1)?.parameters??{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Tx}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||qT)(t,n,e);if(!r)return{...Tx};const s={};Object.entries(r.posParams??{}).forEach(([f,p])=>{s[f]=p.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function Kh(n,e,t,i){return t.length>0&&function Sx(n,e,t){return t.some(i=>tb(n,e,i)&&da(i)!==Rt)}(n,t,i)?{segmentGroup:new $n(e,rD(i,new $n(t,n.children))),slicedSegments:[]}:0===t.length&&function eb(n,e,t){return t.some(i=>tb(n,e,i))}(n,t,i)?{segmentGroup:new $n(n.segments,Jy(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new $n(n.segments,n.children),slicedSegments:t}}function Jy(n,e,t,i){const r={};for(const s of t)if(tb(n,e,s)&&!i[da(s)]){const l=new $n([],{});r[da(s)]=l}return{...i,...r}}function rD(n,e){const t={};t[Rt]=e;for(const i of n)if(""===i.path&&da(i)!==Rt){const r=new $n([],{});t[da(i)]=r}return t}function tb(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class k1{}class sD{constructor(e,t,i,r,s,l,f){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=l,this.urlSerializer=f,this.applyRedirects=new D1(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new d.vHH(4002,`'${e.segmentGroup}'`)}recognize(){const e=Kh(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe((0,dt.U)(t=>{const i=new rt([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rt,this.rootComponentType,null,{}),r=new A(i,t),s=new oi("",r),l=function kc(n,e,t=null,i=null){return Nm(jy(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(s._root,null),{state:s,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Rt).pipe(et(i=>{if(i instanceof Xy)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Ix?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=Je(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe((0,dt.U)(s=>s instanceof A?[s]:[]))}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return ln(r).pipe(je(s=>{const l=i.children[s],f=function G2(n,e){const t=n.filter(i=>da(i)===e);return t.push(...n.filter(i=>da(i)!==e)),t}(t,s);return this.processSegmentGroup(e,f,l,s)}),Mt((s,l)=>(s.push(...l),s)),L(null),function Bi(n,e){const t=arguments.length>=2;return i=>i.pipe(n?k((r,s)=>n(r,s,i)):Cc.y,Yr(1),t?L(e):q(()=>new su))}(),Qi(s=>{if(null===s)return ep(i);const l=ib(s);return function v_(n){n.sort((e,t)=>e.value.outlet===Rt?-1:t.value.outlet===Rt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),mt(l)}))}processSegment(e,t,i,r,s,l){return ln(t).pipe(je(f=>this.processSegmentAgainstRoute(f._injector??e,t,f,i,r,s,l).pipe(et(p=>{if(p instanceof Ix)return mt(null);throw p}))),ae(f=>!!f),et(f=>{if(JT(f))return function oD(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?mt(new k1):ep(i);throw f}))}processSegmentAgainstRoute(e,t,i,r,s,l,f){return function A1(n,e,t,i){return!!(da(n)===i||i!==Rt&&tb(e,t,n))&&__(e,n,t).matched}(i,r,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,l):this.allowRedirects&&f?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,l):ep(r):ep(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,l){const{matched:f,consumedSegments:p,positionalParamSegments:v,remainingSegments:C}=__(t,r,s);if(!f)return ep(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const D=this.applyRedirects.applyRedirectCommands(p,r.redirectTo,v);return this.applyRedirects.lineralizeSegments(r,D).pipe(Qi(M=>this.processSegment(e,i,t,M.concat(C),l,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){const l=Dx(t,i,r,e);return"**"===i.path&&(t.children={}),l.pipe(di(f=>f.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(di(({routes:p})=>{const v=i._loadedInjector??e,{consumedSegments:C,remainingSegments:D,parameters:M}=f,P=new rt(C,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function N1(n){return n.data||{}}(i),da(i),i.component??i._loadedComponent??null,i,function Ax(n){return n.resolve||{}}(i)),{segmentGroup:V,slicedSegments:j}=Kh(t,C,D,p);if(0===j.length&&V.hasChildren())return this.processChildren(v,p,V).pipe((0,dt.U)(ye=>null===ye?null:new A(P,ye)));if(0===p.length&&0===j.length)return mt(new A(P,[]));const X=da(i)===s;return this.processSegment(v,p,V,j,X?Rt:s,!0).pipe((0,dt.U)(ye=>new A(P,ye instanceof A?[ye]:[])))})):ep(t)))}getChildConfig(e,t,i){return t.children?mt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?mt({routes:t._loadedRoutes,injector:t._loadedInjector}):function g_(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?mt(!0):mt(r.map(l=>{const f=Zh(l,n);return ss(function Ky(n){return n&&Xm(n.canLoad)}(f)?f.canLoad(e,t):(0,d.r_H)(n,()=>f(e,t)))})).pipe(Jm(),Cx())}(e,t,i).pipe(Qi(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Me.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function iD(n){return Fr(Km(!1,3))}())):mt({routes:[],injector:e})}}function nb(n){const e=n.value.routeConfig;return e&&""===e.path}function ib(n){const e=[],t=new Set;for(const i of n){if(!nb(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=ib(i.children);e.push(new A(i.value,r))}return e.filter(i=>!t.has(i))}function kx(n){const e=n.children.map(t=>kx(t)).flat();return[n,...e]}function tp(n){return di(e=>{const t=n(e);return t?ln(t).pipe((0,dt.U)(()=>e)):mt(e)})}let lD=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Rt);return i}getResolvedTitleForRoute(t){return t.data[ii]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(dD),providedIn:"root"})}return n})(),dD=(()=>{class n extends lD{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Fl))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Qh=new d.OlP("",{providedIn:"root",factory:()=>({})}),Xh=new d.OlP("ROUTES");let y_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return mt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ss(t.loadComponent()).pipe((0,dt.U)(np),(0,Me.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Pa(()=>{this.componentLoaders.delete(t)})),r=new Fh(i,()=>new Mn.x).pipe(au());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return mt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function uD(n,e,t,i){return ss(n.loadChildren()).pipe((0,dt.U)(np),Qi(r=>r instanceof d.YKP||Array.isArray(r)?mt(r):ln(e.compileModuleAsync(r))),(0,dt.U)(r=>{i&&i(n);let s,l,f=!1;return Array.isArray(r)?(l=r,!0):(s=r.create(t).injector,l=s.get(Xh,[],{optional:!0,self:!0}).flat()),{routes:l.map(QT),injector:s}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Pa(()=>{this.childrenLoaders.delete(i)})),l=new Fh(s,()=>new Mn.x).pipe(au());return this.childrenLoaders.set(i,l),l}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function np(n){return function rb(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ob=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(Mx),providedIn:"root"})}return n})(),Mx=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const b_=new d.OlP(""),Rx=new d.OlP("");function Nx(n,e,t){const i=n.get(Rx),r=n.get(de);return n.get(d.R0b).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let s;const l=new Promise(v=>{s=v}),f=r.startViewTransition(()=>(s(),function sb(n){return new Promise(e=>{(0,d.T8G)(e,{injector:n})})}(n))),{onViewTransitionCreated:p}=i;return p&&(0,d.r_H)(n,()=>p({transition:f,from:e,to:t})),l})}let ab=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Mn.x,this.transitionAbortSubject=new Mn.x,this.configLoader=(0,d.f3M)(y_),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(Dc),this.rootContexts=(0,d.f3M)(b),this.location=(0,d.f3M)(nt),this.inputBindingEnabled=null!==(0,d.f3M)(Gh,{optional:!0}),this.titleStrategy=(0,d.f3M)(lD),this.options=(0,d.f3M)(Qh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.f3M)(ob),this.createViewTransition=(0,d.f3M)(b_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>mt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Va(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new px(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new Or.X({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sd,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(k(s=>0!==s.id),(0,dt.U)(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),di(s=>{this.currentTransition=s;let l=!1,f=!1;return mt(s).pipe((0,Me.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),di(p=>{const v=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!v&&"reload"!==(p.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const D="";return this.events.next(new hu(p.id,this.urlSerializer.serialize(p.rawUrl),D,0)),p.resolve(null),Er}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return mt(p).pipe(di(D=>{const M=this.transitions?.getValue();return this.events.next(new Lm(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),M!==this.transitions?.getValue()?Er:Promise.resolve(D)}),function aD(n,e,t,i,r,s){return Qi(l=>function M1(n,e,t,i,r,s,l="emptyOnly"){return new sD(n,e,t,i,r,l,s).recognize()}(n,e,t,i,l.extractedUrl,r,s).pipe((0,dt.U)(({state:f,tree:p})=>({...l,targetSnapshot:f,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Me.b)(D=>{s.targetSnapshot=D.targetSnapshot,s.urlAfterRedirects=D.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects};const M=new zy(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(M)}));if(v&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){const{id:D,extractedUrl:M,source:P,restoredState:V,extras:j}=p,X=new Lm(D,this.urlSerializer.serialize(M),P,V);this.events.next(X);const ye=te(this.rootComponentType).snapshot;return this.currentTransition=s={...p,targetSnapshot:ye,urlAfterRedirects:M,extras:{...j,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=M,mt(s)}{const D="";return this.events.next(new hu(p.id,this.urlSerializer.serialize(p.extractedUrl),D,1)),p.resolve(null),Er}}),(0,Me.b)(p=>{const v=new Bm(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}),(0,dt.U)(p=>(this.currentTransition=s={...p,guards:Wy(p.targetSnapshot,p.currentSnapshot,this.rootContexts)},s)),function eD(n,e){return Qi(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?mt({...t,guardsResult:!0}):function E1(n,e,t,i){return ln(n).pipe(Qi(r=>function bo(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?mt(s.map(f=>{const p=qy(e)??r,v=Zh(f,p);return ss(function b1(n){return n&&Xm(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,i):(0,d.r_H)(p,()=>v(n,e,t,i))).pipe(ae())})).pipe(Jm()):mt(!0)}(r.component,r.route,t,e,i)),ae(r=>!0!==r,!0))}(l,i,r,n).pipe(Qi(f=>f&&function Zy(n){return"boolean"==typeof n}(f)?function C1(n,e,t,i){return ln(e).pipe(je(r=>sa(function xx(n,e){return null!==n&&e&&e(new fu(n)),mt(!0)}(r.route.parent,i),function ls(n,e){return null!==n&&e&&e(new h_(n)),mt(!0)}(r.route,i),function Ex(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function bx(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>aa(()=>mt(l.guards.map(p=>{const v=qy(l.node)??t,C=Zh(p,v);return ss(function y1(n){return n&&Xm(n.canActivateChild)}(C)?C.canActivateChild(i,n):(0,d.r_H)(v,()=>C(i,n))).pipe(ae())})).pipe(Jm())));return mt(s).pipe(Jm())}(n,r.path,t),function tD(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return mt(!0);const r=i.map(s=>aa(()=>{const l=qy(e)??t,f=Zh(s,l);return ss(function Yy(n){return n&&Xm(n.canActivate)}(f)?f.canActivate(e,n):(0,d.r_H)(l,()=>f(e,n))).pipe(ae())}));return mt(r).pipe(Jm())}(n,r.route,t))),ae(r=>!0!==r,!0))}(i,s,n,e):mt(f)),(0,dt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,p=>this.events.next(p)),(0,Me.b)(p=>{if(s.guardsResult=p.guardsResult,la(p.guardsResult))throw ad(0,p.guardsResult);const v=new yo(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(v)}),k(p=>!!p.guardsResult||(this.cancelNavigationTransition(p,"",3),!1)),tp(p=>{if(p.guards.canActivateChecks.length)return mt(p).pipe((0,Me.b)(v=>{const C=new zh(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(C)}),di(v=>{let C=!1;return mt(v).pipe(function Yh(n,e){return Qi(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return mt(t);const s=new Set(r.map(p=>p.route)),l=new Set;for(const p of s)if(!l.has(p))for(const v of kx(p))l.add(v);let f=0;return ln(l).pipe(je(p=>s.has(p)?function cD(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!f_(r)&&(s[ii]=r.title),function O1(n,e,t,i){const r=Ql(n);if(0===r.length)return mt({});const s={};return ln(r).pipe(Qi(l=>function K2(n,e,t,i){const r=qy(e)??i,s=Zh(n,r);return ss(s.resolve?s.resolve(e,t):(0,d.r_H)(r,()=>s(e,t)))}(n[l],e,t,i).pipe(ae(),(0,Me.b)(f=>{s[l]=f}))),Yr(1),function Yl(n){return(0,dt.U)(()=>n)}(s),et(l=>JT(l)?Er:Fr(l)))}(s,n,e,i).pipe((0,dt.U)(l=>(n._resolvedData=l,n.data=Je(n,n.parent,t).resolve,null)))}(p,i,n,e):(p.data=Je(p,p.parent,n).resolve,mt(void 0))),(0,Me.b)(()=>f++),Yr(1),Qi(p=>f===l.size?mt(t):Er))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Me.b)({next:()=>C=!0,complete:()=>{C||this.cancelNavigationTransition(v,"",2)}}))}),(0,Me.b)(v=>{const C=new Um(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(C)}))}),tp(p=>{const v=C=>{const D=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(C.routeConfig).pipe((0,Me.b)(M=>{C.component=M}),(0,dt.U)(()=>{})));for(const M of C.children)D.push(...v(M));return D};return Ts(v(p.targetSnapshot.root)).pipe(L(null),I(1))}),tp(()=>this.afterPreactivation()),di(()=>{const{currentSnapshot:p,targetSnapshot:v}=s,C=this.createViewTransition?.(this.environmentInjector,p.root,v.root);return C?ln(C).pipe((0,dt.U)(()=>s)):mt(s)}),(0,dt.U)(p=>{const v=function Rc(n,e,t){const i=fr(n,e._root,t?t._root:void 0);return new $(i,e)}(t.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=s={...p,targetRouterState:v},this.currentNavigation.targetRouterState=v,s}),(0,Me.b)(()=>{this.events.next(new Gy)}),((n,e,t,i)=>(0,dt.U)(r=>(new W2(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),I(1),(0,Me.b)({next:p=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hr(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{l=!0}}),Mi(this.transitionAbortSubject.pipe((0,Me.b)(p=>{throw p}))),Pa(()=>{l||f||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),et(p=>{if(f=!0,m_(p))this.events.next(new as(s.id,this.urlSerializer.serialize(s.extractedUrl),p.message,p.cancellationCode)),function H2(n){return m_(n)&&la(n.url)}(p)?this.events.next(new Hm(p.url)):s.resolve(!1);else{this.events.next(new Vm(s.id,this.urlSerializer.serialize(s.extractedUrl),p,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(p))}catch(v){s.reject(v)}}return Er}))}))}cancelNavigationTransition(t,i,r){const s=new as(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hD(n){return n!==sd}let P1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(L1),providedIn:"root"})}return n})();class F1{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let L1=(()=>{class n extends F1{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=d.n5z(n)))(r||n)}})();static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ox=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:()=>(0,d.f3M)(fD),providedIn:"root"})}return n})(),fD=(()=>{class n extends Ox{constructor(){super(...arguments),this.location=(0,d.f3M)(nt),this.urlSerializer=(0,d.f3M)(Dc),this.options=(0,d.f3M)(Qh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.f3M)(ob),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new lu,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=te(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof Lm)this.stateMemento=this.createStateMemento();else if(t instanceof hu)this.rawUrlTree=i.initialUrl;else if(t instanceof zy){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof Gy?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof as&&(3===t.code||2===t.code)?this.restoreHistory(i):t instanceof Vm?this.restoreHistory(i,!0):t instanceof hr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=d.n5z(n)))(r||n)}})();static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mu=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(mu||{});function cb(n,e){n.events.pipe(k(t=>t instanceof hr||t instanceof as||t instanceof Vm||t instanceof hu),(0,dt.U)(t=>t instanceof hr||t instanceof hu?mu.COMPLETE:t instanceof as&&(0===t.code||1===t.code)?mu.REDIRECTING:mu.FAILED),k(t=>t!==mu.REDIRECTING),I(1)).subscribe(()=>{e()})}function ip(n){throw n}const V1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},B1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wo=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,d.f3M)(d.c2e),this.stateManager=(0,d.f3M)(Ox),this.options=(0,d.f3M)(Qh,{optional:!0})||{},this.pendingTasks=(0,d.f3M)(d.I6F),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.f3M)(ab),this.urlSerializer=(0,d.f3M)(Dc),this.location=(0,d.f3M)(nt),this.urlHandlingStrategy=(0,d.f3M)(ob),this._events=new Mn.x,this.errorHandler=this.options.errorHandler||ip,this.navigated=!1,this.routeReuseStrategy=(0,d.f3M)(P1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,d.f3M)(Xh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,d.f3M)(Gh,{optional:!0}),this.eventsSubscription=new Kn.w0,this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==r&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof as&&0!==i.code&&1!==i.code)this.navigated=!0;else if(i instanceof hr)this.navigated=!0;else if(i instanceof Hm){const l=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),f={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hD(r.source)};this.scheduleNavigation(l,sd,null,f,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function lb(n){return!(n instanceof Gy||n instanceof Hm)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const p={...r};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const f=this.parseUrl(t);this.scheduleNavigation(f,i,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(QT),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:f,preserveFragment:p}=i,v=p?this.currentUrlTree.fragment:l;let D,C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...s};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=s||null}null!==C&&(C=this.removeEmptyProps(C));try{D=jy(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),D=this.currentUrlTree.root}return Nm(D,t,C,v??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=la(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,sd,null,i)}navigate(t,i={skipLocationChange:!1}){return function U1(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new d.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...V1}:!1===i?{...B1}:i,la(t))return s_(this.currentUrlTree,t,r);const s=this.parseUrl(t);return s_(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,s])=>(null!=s&&(i[r]=s),i),{})}scheduleNavigation(t,i,r,s,l){if(this.disposed)return Promise.resolve(!1);let f,p,v;l?(f=l.resolve,p=l.reject,v=l.promise):v=new Promise((D,M)=>{f=D,p=M});const C=this.pendingTasks.add();return cb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(C))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:f,reject:p,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(D=>Promise.reject(D))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cd=(()=>{class n{constructor(t,i,r,s,l,f){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=l,this.locationStrategy=f,this.href=null,this.commands=null,this.onChanges=new Mn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const p=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof hr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(wo),d.Y36(Re),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Xe))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&d.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&i&&d.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",d.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",d.VuI],replaceUrl:["replaceUrl","replaceUrl",d.VuI],routerLink:"routerLink"},standalone:!0,features:[d.Xq5,d.TTD]})}return n})();class Px{}let j1=(()=>{class n{constructor(t,i,r,s,l){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(k(t=>t instanceof hr),je(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,d.MMx)(s.providers,t,`Route: ${s.path}`));const l=s._injector??t,f=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(f,s.children??s._loadedRoutes))}return ln(r).pipe(Oa())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):mt(null);const s=r.pipe(Qi(l=>null===l?mt(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));return i.loadComponent&&!i._loadedComponent?ln([s,this.loader.loadComponent(i)]).pipe(Oa()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(wo),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(Px),d.LFG(y_))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Fx=new d.OlP("");let gD=(()=>{class n{constructor(t,i,r,s,l={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Lm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof hu&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new jm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){d.$Z()};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function Vo(n,e){return{\u0275kind:n,\u0275providers:e}}function _D(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const i=n.get(wo),r=n.get(vD);1===n.get(db)&&i.initialNavigation(),n.get(yD,null,d.XFs.Optional)?.setUpPreloading(),n.get(Fx,null,d.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const vD=new d.OlP("",{factory:()=>new Mn.x}),db=new d.OlP("",{providedIn:"root",factory:()=>1}),yD=new d.OlP("");function ub(n){return Vo(0,[{provide:yD,useExisting:j1},{provide:Px,useExisting:n}])}function wD(n){return Vo(9,[{provide:b_,useValue:Nx},{provide:Rx,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const q1=new d.OlP("ROUTER_FORROOT_GUARD"),nV=[nt,{provide:Dc,useClass:Sc},wo,b,{provide:Re,useFactory:function Oc(n){return n.routerState.root},deps:[wo]},y_,[]];let fb=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[nV,[],{provide:Xh,multi:!0,useValue:t},{provide:q1,useFactory:xD,deps:[[wo,new d.FiY,new d.tp0]]},{provide:Qh,useValue:i||{}},i?.useHash?{provide:Xe,useClass:Nt}:{provide:Xe,useClass:ut},{provide:Fx,useFactory:()=>{const n=(0,d.f3M)(Ws),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(Qh),i=(0,d.f3M)(ab),r=(0,d.f3M)(Dc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new gD(r,i,n,e,t)}},i?.preloadingStrategy?ub(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?W1(i):[],i?.bindToComponentInputs?Vo(8,[Wm,{provide:Gh,useExisting:Wm}]).\u0275providers:[],i?.enableViewTransitions?wD().\u0275providers:[],[{provide:ED,useFactory:_D},{provide:d.tb,multi:!0,useExisting:ED}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Xh,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(q1,8))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();function xD(n){return"guarded"}function W1(n){return["disabled"===n.initialNavigation?Vo(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(wo);return()=>{e.setUpLocationChangeListener()}}},{provide:db,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Vo(2,[{provide:db,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(He,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(wo),s=e.get(vD);cb(r,()=>{i(!0)}),e.get(ab).afterPreactivation=()=>(i(!0),s.closed?mt(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const ED=new d.OlP(""),Bo="*";function ua(n,e){return{type:7,name:n,definitions:e,options:{}}}function Xi(n,e=null){return{type:4,styles:e,timings:n}}function Sn(n){return{type:6,styles:n,offset:null}}function Jh(n,e,t){return{type:0,name:n,styles:e,options:t}}function Ji(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class ef{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class sp{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,f)=>Math.max(l,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}var gu=W(321),An=W(793);function w_(){return(0,li.e)((n,e)=>{let t,i=!1;n.subscribe((0,Bn.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function cp(n,e=Cc.y){return n=n??lV,(0,li.e)((t,i)=>{let r,s=!0;t.subscribe((0,Bn.x)(i,l=>{const f=e(l);(s||!n(r,f))&&(s=!1,r=f,i.next(l))}))})}function lV(n,e){return n===e}var tt,er=W(304),SD=(W(977),W(399)),ve=W(861),_u=W(594),ha=W(537),ds=W(879),F=W(58),J1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ba={},Hx=Hx||{},zt=J1||self;function lp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function x_(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var E_="closure_uid_"+(1e9*Math.random()>>>0),gb=0;function eN(n,e,t){return n.call.apply(n.bind,arguments)}function kD(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function xo(n,e,t){return(xo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eN:kD).apply(null,arguments)}function C_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Jr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,s){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return e.prototype[r].apply(i,l)}}function vu(){this.s=this.s,this.o=this.o}vu.prototype.s=!1,vu.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function AD(n){Object.prototype.hasOwnProperty.call(n,E_)&&n[E_]||(n[E_]=++gb)}(this)},vu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const MD=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function yu(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function dp(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(lp(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let l=0;l<s;l++)n[r+l]=i[l]}else n.push(i)}}function Eo(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Eo.prototype.h=function(){this.defaultPrevented=!0};var RD=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",()=>{},e),zt.removeEventListener("test",()=>{},e)}catch{}return n}();function I_(n){return/^[\s\xa0]*$/.test(n)}function vb(){var n=zt.navigator;return n&&(n=n.userAgent)?n:""}function Pc(n){return-1!=vb().indexOf(n)}function T_(n){return T_[" "](n),n}T_[" "]=function(){};var $x,n,uV=Pc("Opera"),D_=Pc("Trident")||Pc("MSIE"),ND=Pc("Edge"),zx=ND||D_,tN=Pc("Gecko")&&!(-1!=vb().toLowerCase().indexOf("webkit")&&!Pc("Edge"))&&!(Pc("Trident")||Pc("MSIE"))&&!Pc("Edge"),yb=-1!=vb().toLowerCase().indexOf("webkit")&&!Pc("Edge");function OD(){var n=zt.document;return n?n.documentMode:void 0}e:{var S_="",bb=(n=vb(),tN?/rv:([^\);]+)(\)|;)/.exec(n):ND?/Edge\/([\d\.]+)/.exec(n):D_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):yb?/WebKit\/(\S+)/.exec(n):uV?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(bb&&(S_=bb?bb[1]:""),D_){var Gx=OD();if(null!=Gx&&Gx>parseFloat(S_)){$x=String(Gx);break e}}$x=S_}var nN=zt.document&&D_&&(OD()||parseInt($x,10))||void 0;function up(n,e){if(Eo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(tN){e:{try{T_(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:FD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&up.$.h.call(this)}}Jr(up,Eo);var FD={2:"touch",3:"pen",4:"mouse"};up.prototype.h=function(){up.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var hp="closure_listenable_"+(1e6*Math.random()|0),iN=0;function rN(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++iN,this.fa=this.ia=!1}function A_(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function k_(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Wx(n){const e={};for(const t in n)e[t]=n[t];return e}const wb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LD(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<wb.length;s++)t=wb[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function bu(n){this.src=n,this.g={},this.h=0}function xb(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=MD(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(A_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Eb(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==i)return r}return-1}bu.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=Eb(n,e,i,r);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new rN(e,this.src,s,!!i,r)).ia=t,n.push(e)),e};var Zx="closure_lm_"+(1e6*Math.random()|0),Kx={};function VD(n,e,t,i,r){if(i&&i.once)return UD(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)VD(n,e[s],t,i,r);return null}return t=Fc(t),n&&n[hp]?n.O(e,t,x_(i)?!!i.capture:!!i,r):BD(n,e,t,!1,i,r)}function BD(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var l=x_(r)?!!r.capture:!!r,f=HD(n);if(f||(n[Zx]=f=new bu(n)),(t=f.add(e,t,i,l,s)).proxy)return t;if(i=function oN(){const e=jD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)RD||(r=l),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Qx(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function UD(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)UD(n,e[s],t,i,r);return null}return t=Fc(t),n&&n[hp]?n.P(e,t,x_(i)?!!i.capture:!!i,r):BD(n,e,t,!0,i,r)}function Yx(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Yx(n,e[s],t,i,r);else i=x_(i)?!!i.capture:!!i,t=Fc(t),n&&n[hp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Eb(s=n.g[e],t,i,r))&&(A_(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=HD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Eb(e,t,i,r)),(t=-1<n?e[n]:null)&&Cb(t))}function Cb(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[hp])xb(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Qx(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=HD(e))?(xb(t,n),0==t.h&&(t.src=null,e[Zx]=null)):A_(n)}}}function Qx(n){return n in Kx?Kx[n]:Kx[n]="on"+n}function jD(n,e){if(n.fa)n=!0;else{e=new up(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Cb(n),n=t.call(i,e)}return n}function HD(n){return(n=n[Zx])instanceof bu?n:null}var M_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fc(n){return"function"==typeof n?n:(n[M_]||(n[M_]=function(e){return n.handleEvent(e)}),n[M_])}function Cr(){vu.call(this),this.i=new bu(this),this.S=this,this.J=null}function mr(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Eo(e,n);else if(e instanceof Eo)e.target=e.target||n;else{var r=e;LD(e=new Eo(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];r=R_(l,i,!0,e)&&r}if(r=R_(l=e.g=n,i,!0,e)&&r,r=R_(l,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=R_(l=e.g=t[s],i,!1,e)&&r}function R_(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.fa&&l.capture==t){var f=l.listener,p=l.la||l.src;l.ia&&xb(n.i,l),r=!1!==f.call(p,i)&&r}}return r&&!i.defaultPrevented}Jr(Cr,vu),Cr.prototype[hp]=!0,Cr.prototype.removeEventListener=function(n,e,t,i){Yx(this,n,e,t,i)},Cr.prototype.N=function(){if(Cr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)A_(t[i]);delete n.g[e],n.h--}}this.J=null},Cr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Cr.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Ib=zt.JSON.stringify;function aN(){var n=Sb;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var zD=new class sN{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new $D,n=>n.reset());class $D{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function fV(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function lN(n){zt.setTimeout(()=>{throw n},0)}let Tb,Db=!1,Sb=new class cN{constructor(){this.h=this.g=null}add(e,t){const i=zD.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Xx=()=>{const n=zt.Promise.resolve(void 0);Tb=()=>{n.then(mV)}};var mV=()=>{for(var n;n=aN();){try{n.h.call(n.g)}catch(t){lN(t)}var e=zD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Db=!1};function qt(n,e){Cr.call(this),this.h=n||1,this.g=e||zt,this.j=xo(this.qb,this),this.l=Date.now()}function Ab(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function kb(n,e,t){if("function"==typeof n)t&&(n=xo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=xo(n.handleEvent,n)}return 2147483647<Number(e)?-1:zt.setTimeout(n,e||0)}function tf(n){n.g=kb(()=>{n.g=null,n.i&&(n.i=!1,tf(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Jr(qt,Cr),(tt=qt.prototype).ga=!1,tt.T=null,tt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mr(this,"tick"),this.ga&&(Ab(this),this.start()))}},tt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.N=function(){qt.$.N.call(this),Ab(this),delete this.g};class GD extends vu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tf(this)}N(){super.N(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function N_(n){vu.call(this),this.h=n,this.g={}}Jr(N_,vu);var O_=[];function nf(n,e,t,i){Array.isArray(t)||(t&&(O_[0]=t.toString()),t=O_);for(var r=0;r<t.length;r++){var s=VD(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Mb(n){k_(n.g,function(e,t){this.g.hasOwnProperty(t)&&Cb(e)},n),n.g={}}function wu(){this.g=!0}function xu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function WD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return Ib(t)}catch{return e}}(n,t)+(i?" "+i:"")})}N_.prototype.N=function(){N_.$.N.call(this),Mb(this)},N_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wu.prototype.Ea=function(){this.g=!1},wu.prototype.info=function(){};var ld={},ZD=null;function Rb(){return ZD=ZD||new Cr}function KD(n){Eo.call(this,ld.Ta,n)}function fp(n){const e=Rb();mr(e,new KD(e))}function YD(n,e){Eo.call(this,ld.STAT_EVENT,n),this.stat=e}function Uo(n){const e=Rb();mr(e,new YD(e,n))}function QD(n,e){Eo.call(this,ld.Ua,n),this.size=e}function P_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},e)}ld.Ta="serverreachability",Jr(KD,Eo),ld.STAT_EVENT="statevent",Jr(YD,Eo),ld.Ua="timingevent",Jr(QD,Eo);var F_={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function nE(){}function us(){}nE.prototype.h=null;var V_,L_={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function iE(){Eo.call(this,"d")}function JD(){Eo.call(this,"c")}function B_(){}function U_(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new N_(this),this.P=dN,this.V=new qt(n=zx?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new eS}function eS(){this.i=null,this.g="",this.h=!1}Jr(iE,Eo),Jr(JD,Eo),Jr(B_,nE),B_.prototype.g=function(){return new XMLHttpRequest},B_.prototype.i=function(){return{}},V_=new B_;var dN=45e3,Nb={},Ob={};function rE(n,e,t){n.L=1,n.v=fa(Lc(e)),n.s=t,n.S=!0,Pb(n,null)}function Pb(n,e){n.G=Date.now(),j_(n),n.A=Lc(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),pp(t.i,"t",i),n.C=0,t=n.l.J,n.h=new eS,n.g=wS(n.l,t?e:null,!n.s),0<n.O&&(n.M=new GD(xo(n.Pa,n,n.g),n.O)),nf(n.U,n.g,"readystatechange",n.nb),e=n.I?Wx(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),fp(),function qD(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",f=s.split("&"),p=0;p<f.length;p++){var v=f[p].split("=");if(1<v.length){var C=v[0];v=v[1];var D=C.split("_");l=2<=D.length&&"type"==D[1]?l+(C+"=")+v+"&":l+(C+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function tS(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function nS(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=uN(n,t),r==Ob){4==e&&(n.o=4,Uo(14),i=!1),xu(n.j,n.m,null,"[Incomplete Response]");break}if(r==Nb){n.o=4,Uo(15),xu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}xu(n.j,n.m,r,null),Fb(n,r)}tS(n)&&r!=Ob&&r!=Nb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Uo(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),zb(e),e.M=!0,Uo(11))):(xu(n.j,n.m,t,"[Invalid Chunked Response]"),sf(n),rf(n))}function uN(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Ob:(t=Number(e.substring(t,i)),isNaN(t)?Nb:(i+=1)+t>e.length?Ob:(e=e.slice(i,i+t),n.C=i+t,e))}function j_(n){n.Y=Date.now()+n.P,iS(n,n.P)}function iS(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=P_(xo(n.lb,n),e)}function As(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function rf(n){0==n.l.H||n.J||vS(n.l,n)}function sf(n){As(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Ab(n.V),Mb(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Fb(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||lS(t.i,n)))if(!n.K&&lS(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;$b(t),Y_(t)}yp(t),Uo(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=P_(xo(t.ib,t),6e3));if(1>=bN(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else lf(t,11)}else if((n.K||t.g==n)&&$b(t),!I_(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const C=v[3];null!=C&&(t.ra=C,t.l.info("VER="+t.ra));const D=v[4];null!=D&&(t.Ga=D,t.l.info("SVER="+t.Ga));const M=v[5];null!=M&&"number"==typeof M&&0<M&&(t.L=i=1.5*M,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const P=n.g;if(P){const V=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var s=i.i;s.g||-1==V.indexOf("spdy")&&-1==V.indexOf("quic")&&-1==V.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(gp(s,s.h),s.h=null))}if(i.F){const j=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;j&&(i.Da=j,si(i.I,i.F,j))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((i=t).wa=bS(i,i.J?i.pa:null,i.Y),l.K){dS(i.i,l);var f=l,p=i.L;p&&f.setTimeout(p),f.B&&(As(f),j_(f)),i.g=l}else _S(i);0<t.j.length&&Q_(t)}else"stop"!=v[0]&&"close"!=v[0]||lf(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?lf(t,7):uE(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}fp()}catch{}}function oE(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(lp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function rS(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(lp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function hN(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(lp(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(tt=U_.prototype).setTimeout=function(n){this.P=n},tt.nb=function(n){n=n.target;const e=this.M;e&&3==Ua(n)?e.l():this.Pa(n)},tt.Pa=function(n){try{if(n==this.g)e:{const C=Ua(this.g);var e=this.g.Ia();if(this.g.da(),!(3>C)&&(3!=C||zx||this.g&&(this.h.h||this.g.ja()||lE(this.g)))){this.J||4!=C||7==e||fp(),As(this);var t=this.g.da();this.ca=t;t:if(tS(this)){var i=lE(this.g);n="";var r=i.length,s=4==Ua(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){sf(this),rf(this);var l="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function Jx(n,e,t,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.W,C,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,p=this.g;if((f=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I_(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Uo(12),sf(this),rf(this);break e}xu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fb(this,t)}this.S?(nS(this,C,l),zx&&this.i&&3==C&&(nf(this.U,this.V,"tick",this.mb),this.V.start())):(xu(this.j,this.m,l,null),Fb(this,l)),4==C&&sf(this),this.i&&!this.J&&(4==C?vS(this.l,this):(this.i=!1,j_(this)))}else(function IN(n){const e={};n=(n.g&&2<=Ua(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(I_(n[i]))continue;var t=fV(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[r]||[];e[r]=s,s.push(t)}!function hV(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Uo(12)):(this.o=0,Uo(13)),sf(this),rf(this)}}}catch{}},tt.mb=function(){if(this.g){var n=Ua(this.g),e=this.g.ja();this.C<e.length&&(As(this),nS(this,n,e),this.i&&4!=n&&j_(this))}},tt.cancel=function(){this.J=!0,sf(this)},tt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function eE(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(fp(),Uo(17)),sf(this),this.o=2,rf(this)):iS(this,this.Y-n)};var H_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mp(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof mp){this.h=n.h,z_(this,n.j),this.s=n.s,this.g=n.g,$_(this,n.m),this.l=n.l;var e=n.i,t=new W_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),G_(this,t),this.o=n.o}else n&&(e=String(n).match(H_))?(this.h=!1,z_(this,e[1]||"",!0),this.s=q_(e[2]||""),this.g=q_(e[3]||"",!0),$_(this,e[4]),this.l=q_(e[5]||"",!0),G_(this,e[6]||"",!0),this.o=q_(e[7]||"")):(this.h=!1,this.i=new W_(null,this.h))}function Lc(n){return new mp(n)}function z_(n,e,t){n.j=t?q_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function $_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function G_(n,e,t){e instanceof W_?(n.i=e,function sS(n,e){e&&!n.j&&(dd(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Lb(this,i),pp(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=af(e,oS)),n.i=new W_(e,n.h))}function si(n,e,t){n.i.set(e,t)}function fa(n){return si(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function q_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function af(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,fN),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fN(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}mp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(af(e,mN,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(af(e,mN,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(af(t,"/"==t.charAt(0)?gN:pN,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",af(t,_N)),n.join("")};var mN=/[#\/\?@]/g,pN=/[#\?:]/g,gN=/[#\?]/g,oS=/[#\?@]/g,_N=/#/g;function W_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function dd(n){n.g||(n.g=new Map,n.h=0,n.i&&function sE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Lb(n,e){dd(n),e=Vc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function aE(n,e){return dd(n),e=Vc(n,e),n.g.has(e)}function pp(n,e,t){Lb(n,e),0<t.length&&(n.i=null,n.g.set(Vc(n,e),yu(t)),n.h+=t.length)}function Vc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}(tt=W_.prototype).add=function(n,e){dd(this),this.i=null,n=Vc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},tt.forEach=function(n,e){dd(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},tt.ta=function(){dd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},tt.Z=function(n){dd(this);let e=[];if("string"==typeof n)aE(this,n)&&(e=e.concat(this.g.get(Vc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},tt.set=function(n,e){return dd(this),this.i=null,aE(this,n=Vc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},tt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=s;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var vN=class{constructor(n,e){this.g=n,this.map=e}};function aS(n){this.l=n||yN,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ka&&zt.g.Ka()&&zt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var yN=10;function cS(n){return!!n.h||!!n.g&&n.g.size>=n.j}function bN(n){return n.h?1:n.g?n.g.size:0}function lS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function gp(n,e){n.g?n.g.add(e):n.h=e}function dS(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function uS(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return yu(n.i)}aS.prototype.cancel=function(){if(this.i=uS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var pV=class{stringify(n){return zt.JSON.stringify(n,void 0)}parse(n){return zt.JSON.parse(n,void 0)}};function wN(){this.g=new pV}function xN(n,e,t){const i=t||"";try{oE(n,function(r,s){let l=r;x_(r)&&(l=Ib(r)),e.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Vb(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Z_(n){this.l=n.fc||null,this.j=n.ob||!1}function Bb(n,e){Cr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Ub,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jr(Z_,nE),Z_.prototype.g=function(){return new Bb(this.l,this.j)},Z_.prototype.i=function(n){return function(){return n}}({}),Jr(Bb,Cr);var Ub=0;function Eu(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function K_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,cf(n)}function cf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(tt=Bb.prototype).open=function(n,e){if(this.readyState!=Ub)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,cf(this)},tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||zt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,K_(this)),this.readyState=Ub},tt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,cf(this)),this.g&&(this.readyState=3,cf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Eu(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},tt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?K_(this):cf(this),3==this.readyState&&Eu(this)}},tt.Za=function(n){this.g&&(this.response=this.responseText=n,K_(this))},tt.Ya=function(n){this.g&&(this.response=n,K_(this))},tt.ka=function(){this.g&&K_(this)},tt.setRequestHeader=function(n,e){this.v.append(n,e)},tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Bb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Bc=zt.JSON.parse;function Ri(n){Cr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=hS,this.L=this.M=!1}Jr(Ri,Cr);var hS="",gV=/^https?$/i,tr=["POST","PUT"];function jb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,fS(n),_p(n)}function fS(n){n.F||(n.F=!0,mr(n,"complete"),mr(n,"error"))}function mS(n){if(n.h&&typeof Hx<"u"&&(!n.C[1]||4!=Ua(n)||2!=n.da()))if(n.v&&4==Ua(n))kb(n.La,0,n);else if(mr(n,"readystatechange"),4==Ua(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===l){var r=String(n.I).match(H_)[1]||null;!r&&zt.self&&zt.self.location&&(r=zt.self.location.protocol.slice(0,-1)),i=!gV.test(r?r.toLowerCase():"")}t=i}if(t)mr(n,"complete"),mr(n,"success");else{n.m=6;try{var s=2<Ua(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",fS(n)}}finally{_p(n)}}}function _p(n,e){if(n.g){cE(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||mr(n,"ready");try{t.onreadystatechange=i}catch{}}}function cE(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function Ua(n){return n.g?n.g.readyState:0}function lE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case hS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function pS(n){let e="";return k_(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function ud(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=pS(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):si(n,e,t))}function vp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function dE(n){this.Ga=0,this.j=[],this.l=new wu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vp("baseRetryDelayMs",5e3,n),this.hb=vp("retryDelaySeedMs",1e4,n),this.eb=vp("forwardChannelMaxRetries",2,n),this.xa=vp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new aS(n&&n.concurrentRequestLimit),this.Ja=new wN,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function uE(n){if(hE(n),3==n.H){var e=n.W++,t=Lc(n.I);if(si(t,"SID",n.K),si(t,"RID",e),si(t,"TYPE","terminate"),J_(n,t),(e=new U_(n,n.l,e)).L=2,e.v=fa(Lc(t)),t=!1,zt.navigator&&zt.navigator.sendBeacon)try{t=zt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=wS(e.l,null),e.g.ha(e.v)),e.G=Date.now(),j_(e)}yS(n)}function Y_(n){n.g&&(zb(n),n.g.cancel(),n.g=null)}function hE(n){Y_(n),n.u&&(zt.clearTimeout(n.u),n.u=null),$b(n),n.i.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function Q_(n){if(!cS(n.i)&&!n.m){n.m=!0;var e=n.Na;Tb||Xx(),Db||(Tb(),Db=!0),Sb.add(e,n),n.C=0}}function gS(n,e){var t;t=e?e.m:n.W++;const i=Lc(n.I);si(i,"SID",n.K),si(i,"RID",t),si(i,"AID",n.V),J_(n,i),n.o&&n.s&&ud(i,n.o,n.s),t=new U_(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Hb(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),gp(n.i,t),rE(t,i,e)}function J_(n,e){n.na&&k_(n.na,function(t,i){si(e,i,t)}),n.h&&oE({},function(t,i){si(e,i,t)})}function Hb(n,e,t){t=Math.min(n.j.length,t);var i=n.h?xo(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=r[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let f=!0;for(let p=0;p<t;p++){let v=r[p].g;const C=r[p].map;if(v-=s,0>v)s=Math.max(0,r[p].g-100),f=!1;else try{xN(C,l,"req"+v+"_")}catch{i&&i(C)}}if(f){i=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function _S(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Tb||Xx(),Db||(Tb(),Db=!0),Sb.add(e,n),n.A=0}}function yp(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=P_(xo(n.Ma,n),bp(n,n.A)),n.A++,0))}function zb(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function fE(n){n.g=new U_(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Lc(n.wa);si(e,"RID","rpc"),si(e,"SID",n.K),si(e,"AID",n.V),si(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&si(e,"TO",n.qa),si(e,"TYPE","xmlhttp"),J_(n,e),n.o&&n.s&&ud(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=fa(Lc(e)),t.s=null,t.S=!0,Pb(t,n)}function $b(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function vS(n,e){var t=null;if(n.g==e){$b(n),zb(n),n.g=null;var i=2}else{if(!lS(n.i,e))return;t=e.F,dS(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;mr(i=Rb(),new QD(i,t)),Q_(n)}else _S(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function X_(n,e){return!(bN(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=P_(xo(n.Na,n,e),bp(n,n.C)),n.C++,0)))}(n,e)||2==i&&yp(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:lf(n,5);break;case 4:lf(n,10);break;case 3:lf(n,6);break;default:lf(n,2)}}function bp(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function lf(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=xo(n.pb,n);t||(t=new mp("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||z_(t,"https"),fa(t)),function EN(n,e){const t=new wu;if(zt.Image){const i=new Image;i.onload=C_(Vb,t,i,"TestLoadImage: loaded",!0,e),i.onerror=C_(Vb,t,i,"TestLoadImage: error",!1,e),i.onabort=C_(Vb,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=C_(Vb,t,i,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Uo(2);n.H=0,n.h&&n.h.za(e),yS(n),hE(n)}function yS(n){if(n.H=0,n.ma=[],n.h){const e=uS(n.i);(0!=e.length||0!=n.j.length)&&(dp(n.ma,e),dp(n.ma,n.j),n.i.i.length=0,yu(n.j),n.j.length=0),n.h.ya()}}function bS(n,e,t){var i=t instanceof mp?Lc(t):new mp(t);if(""!=i.g)e&&(i.g=e+"."+i.g),$_(i,i.m);else{var r=zt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new mp(null);i&&z_(s,i),e&&(s.g=e),r&&$_(s,r),t&&(s.l=t),i=s}return e=n.Da,(t=n.F)&&e&&si(i,t,e),si(i,"VER",n.ra),J_(n,i),i}function wS(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ri(t&&n.Ha&&!n.va?new Z_({ob:!0}):n.va)).Oa(n.J),e}function xS(){}function Gb(){if(D_&&!(10<=Number(nN)))throw Error("Environmental error: no available transport.")}function ks(n,e){Cr.call(this),this.g=new dE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!I_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!I_(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Cu(this)}function ES(n){iE.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function mE(){JD.call(this),this.status=1}function Cu(n){this.g=n}function hs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function pE(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],l=(e=n.g[0])+(s^(t=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;l=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=(t=(r=(s=(e=t+(l<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^s&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(r^s&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^t)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(r^(t|~s))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~s))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~s))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~t))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((s=(e=t+((l=e+(r^(t|~s))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=s+((l=r+(e^(s|~t))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function Yn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==e||(t[r]=s,i=!1)}this.g=t}(tt=Ri.prototype).Oa=function(n){this.M=n},tt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():V_.g(),this.C=function XD(n){return n.h||(n.h=n.i())}(this.u?this.u:V_),this.g.onreadystatechange=xo(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void jb(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=zt.FormData&&n instanceof zt.FormData,!(0<=MD(tr,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of t)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cE(this),0<this.B&&((this.L=function CN(n){return D_&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xo(this.ua,this)):this.A=kb(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){jb(this,s)}},tt.ua=function(){typeof Hx<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mr(this,"timeout"),this.abort(8))},tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,mr(this,"complete"),mr(this,"abort"),_p(this))},tt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_p(this,!0)),Ri.$.N.call(this)},tt.La=function(){this.s||(this.G||this.v||this.l?mS(this):this.kb())},tt.kb=function(){mS(this)},tt.isActive=function(){return!!this.g},tt.da=function(){try{return 2<Ua(this)?this.g.status:-1}catch{return-1}},tt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},tt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Bc(e)}},tt.Ia=function(){return this.m},tt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=dE.prototype).ra=8,tt.H=1,tt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new U_(this,this.l,n);let s=this.s;if(this.U&&(s?(s=Wx(s),LD(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Hb(this,r,e),si(t=Lc(this.I),"RID",n),si(t,"CVER",22),this.F&&si(t,"X-HTTP-Session-Id",this.F),J_(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(pS(s)))+"&"+e:this.o&&ud(t,this.o,s)),gp(this.i,r),this.bb&&si(t,"TYPE","init"),this.P?(si(t,"$req",e),si(t,"SID","null"),r.aa=!0,rE(r,t,null)):rE(r,t,e),this.H=2}}else 3==this.H&&(n?gS(this,n):0==this.j.length||cS(this.i)||gS(this))},tt.Ma=function(){if(this.u=null,fE(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=P_(xo(this.jb,this),n)}},tt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Uo(10),Y_(this),fE(this))},tt.ib=function(){null!=this.v&&(this.v=null,Y_(this),yp(this),Uo(19))},tt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Uo(2)):(this.l.info("Failed to ping google.com"),Uo(1))},tt.isActive=function(){return!!this.h&&this.h.isActive(this)},(tt=xS.prototype).Ba=function(){},tt.Aa=function(){},tt.za=function(){},tt.ya=function(){},tt.isActive=function(){return!0},tt.Va=function(){},Gb.prototype.g=function(n,e){return new ks(n,e)},Jr(ks,Cr),ks.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Uo(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=bS(n,null,n.Y),Q_(n)},ks.prototype.close=function(){uE(this.g)},ks.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Ib(n),n=t);e.j.push(new vN(e.fb++,n)),3==e.H&&Q_(e)},ks.prototype.N=function(){this.g.h=null,delete this.j,uE(this.g),delete this.g,ks.$.N.call(this)},Jr(ES,iE),Jr(mE,JD),Jr(Cu,xS),Cu.prototype.Ba=function(){mr(this.g,"a")},Cu.prototype.Aa=function(n){mr(this.g,new ES(n))},Cu.prototype.za=function(n){mr(this.g,new mE)},Cu.prototype.ya=function(){mr(this.g,"b")},Jr(hs,function TN(){this.blockSize=-1}),hs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},hs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=t;)pE(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){pE(this,i),r=0;break}}else for(;s<e;)if(i[r++]=n[s++],r==this.blockSize){pE(this,i),r=0;break}}this.h=r,this.i+=e},hs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var DN={};function gE(n){return-128<=n&&128>n?function dV(n,e){var t=DN;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Yn([0|e],0>e?-1:0)}):new Yn([0|n],0>n?-1:0)}function Uc(n){if(isNaN(n)||!isFinite(n))return df;if(0>n)return Br(Uc(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=_E;return new Yn(e,0)}var _E=4294967296,df=gE(0),qb=gE(1),IS=gE(16777216);function Iu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ms(n){return-1==n.h}function Br(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Yn(t,~n.h).add(qb)}function Rs(n,e){return n.add(Br(e))}function Tu(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function xi(n,e){this.g=n,this.h=e}function jc(n,e){if(Iu(e))throw Error("division by zero");if(Iu(n))return new xi(df,df);if(Ms(n))return e=jc(Br(n),e),new xi(Br(e.g),Br(e.h));if(Ms(e))return e=jc(n,Br(e)),new xi(Br(e.g),e.h);if(30<n.g.length){if(Ms(n)||Ms(e))throw Error("slowDivide_ only works with positive integers.");for(var t=qb,i=e;0>=i.X(n);)t=ev(t),i=ev(i);var r=eo(t,1),s=eo(i,1);for(i=eo(i,2),t=eo(t,2);!Iu(i);){var l=s.add(i);0>=l.X(n)&&(r=r.add(t),s=l),i=eo(i,1),t=eo(t,1)}return e=Rs(n,r.R(e)),new xi(r,e)}for(r=df;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),l=(s=Uc(t)).R(e);Ms(l)||0<l.X(n);)l=(s=Uc(t-=i)).R(e);Iu(s)&&(s=qb),r=r.add(s),n=Rs(n,l)}return new xi(r,n)}function ev(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Yn(t,n.h)}function eo(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],s=0;s<i;s++)r[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Yn(r,n.h)}(tt=Yn.prototype).ea=function(){if(Ms(this))return-Br(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:_E+i)*e,e*=_E}return n},tt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Iu(this))return"0";if(Ms(this))return"-"+Br(this).toString(n);for(var e=Uc(Math.pow(n,6)),t=this,i="";;){var r=jc(t,e).g,s=((0<(t=Rs(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Iu(t=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},tt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},tt.X=function(n){return Ms(n=Rs(this,n))?-1:Iu(n)?0:1},tt.abs=function(){return Ms(this)?Br(this):this},tt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),l=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,t[r]=(l&=65535)<<16|(s&=65535)}return new Yn(t,-2147483648&t[t.length-1]?-1:0)},tt.R=function(n){if(Iu(this)||Iu(n))return df;if(Ms(this))return Ms(n)?Br(this).R(Br(n)):Br(Br(this).R(n));if(Ms(n))return Br(this.R(Br(n)));if(0>this.X(IS)&&0>n.X(IS))return Uc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,l=65535&this.D(i),f=n.D(r)>>>16,p=65535&n.D(r);t[2*i+2*r]+=l*p,Tu(t,2*i+2*r),t[2*i+2*r+1]+=s*p,Tu(t,2*i+2*r+1),t[2*i+2*r+1]+=l*f,Tu(t,2*i+2*r+1),t[2*i+2*r+2]+=s*f,Tu(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Yn(t,0)},tt.gb=function(n){return jc(this,n).h},tt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Yn(t,this.h&n.h)},tt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Yn(t,this.h|n.h)},tt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Yn(t,this.h^n.h)},Gb.prototype.createWebChannel=Gb.prototype.g,ks.prototype.send=ks.prototype.u,ks.prototype.open=ks.prototype.m,ks.prototype.close=ks.prototype.close,F_.NO_ERROR=0,F_.TIMEOUT=8,F_.HTTP_ERROR=6,tE.COMPLETE="complete",us.EventType=L_,L_.OPEN="a",L_.CLOSE="b",L_.ERROR="c",L_.MESSAGE="d",Cr.prototype.listen=Cr.prototype.O,Ri.prototype.listenOnce=Ri.prototype.P,Ri.prototype.getLastError=Ri.prototype.Sa,Ri.prototype.getLastErrorCode=Ri.prototype.Ia,Ri.prototype.getStatus=Ri.prototype.da,Ri.prototype.getResponseJson=Ri.prototype.Wa,Ri.prototype.getResponseText=Ri.prototype.ja,Ri.prototype.send=Ri.prototype.ha,Ri.prototype.setWithCredentials=Ri.prototype.Oa,hs.prototype.digest=hs.prototype.l,hs.prototype.reset=hs.prototype.reset,hs.prototype.update=hs.prototype.j,Yn.prototype.add=Yn.prototype.add,Yn.prototype.multiply=Yn.prototype.R,Yn.prototype.modulo=Yn.prototype.gb,Yn.prototype.compare=Yn.prototype.X,Yn.prototype.toNumber=Yn.prototype.ea,Yn.prototype.toString=Yn.prototype.toString,Yn.prototype.getBits=Yn.prototype.D,Yn.fromNumber=Uc,Yn.fromString=function CS(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Br(CS(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Uc(Math.pow(e,8)),i=df,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+s),e);8>s?(s=Uc(Math.pow(e,s)),i=i.R(s).add(Uc(l))):i=(i=i.R(t)).add(Uc(l))}return i};var vE=Ba.createWebChannelTransport=function(){return new Gb},wp=Ba.getStatEventTarget=function(){return Rb()},Du=Ba.ErrorCode=F_,xp=Ba.EventType=tE,Ep=Ba.Event=ld,uf=Ba.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Cp=Ba.FetchXmlHttpFactory=Z_,hd=Ba.WebChannel=us,Ip=Ba.XhrIo=Ri,Tp=Ba.Md5=hs,hf=Ba.Integer=Yn;const yE="@firebase/firestore";class Ir{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ir.UNAUTHENTICATED=new Ir(null),Ir.GOOGLE_CREDENTIALS=new Ir("google-credentials-uid"),Ir.FIRST_PARTY=new Ir("first-party-uid"),Ir.MOCK_USER=new Ir("mock-user");let ff="9.23.0";const fd=new ds.Yd("@firebase/firestore");function Wb(){return fd.logLevel}function Ne(n,...e){if(fd.logLevel<=ds.in.DEBUG){const t=e.map(Hc);fd.debug(`Firestore (${ff}): ${n}`,...t)}}function ji(n,...e){if(fd.logLevel<=ds.in.ERROR){const t=e.map(Hc);fd.error(`Firestore (${ff}): ${n}`,...t)}}function jo(n,...e){if(fd.logLevel<=ds.in.WARN){const t=e.map(Hc);fd.warn(`Firestore (${ff}): ${n}`,...t)}}function Hc(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function lt(n="Unexpected state"){const e=`FIRESTORE (${ff}) INTERNAL ASSERTION FAILED: `+n;throw ji(e),new Error(e)}function yt(n,e){n||lt()}function Ze(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends F.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class nr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class SN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ir.UNAUTHENTICATED))}shutdown(){}}class AN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class kN{constructor(e){this.t=e,this.currentUser=Ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let l=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new nr,e.enqueueRetryable(()=>s(this.currentUser))};const f=()=>{const v=l;e.enqueueRetryable((0,ve.Z)(function*(){yield v.promise,yield s(i.currentUser)}))},p=v=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new nr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yt("string"==typeof i.accessToken),new SN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(null===e||"string"==typeof e),new Ir(e)}}class DS{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Ir.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class MN{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new DS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SS{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=s=>{null!=s.error&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.T;return this.T=s.token,Ne("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yt("string"==typeof t.token),this.T=t.token,new pr(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function RN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class wE{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=RN(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Kt(n,e){return n<e?-1:n>e?1:0}function mf(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function xE(n){return n+"\0"}class Qn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qn.fromMillis(Date.now())}static fromDate(e){return Qn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Qn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xt(e)}static min(){return new xt(new Qn(0,0))}static max(){return new xt(new Qn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class tv{constructor(e,t,i){void 0===t?t=0:t>e.length&&lt(),void 0===i?i=e.length-t:i>e.length-t&&lt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===tv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tv?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),l=t.get(r);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tn extends tv{construct(e,t,i){return new Tn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Tn(t)}static emptyPath(){return new Tn([])}}const NN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ni extends tv{construct(e,t,i){return new Ni(e,t,i)}static isValidIdentifier(e){return NN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ni(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Se(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new Se(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Se(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===f?(l=!l,r++):"."!==f||l?(i+=f,r++):(s(),r++)}if(s(),l)throw new Se(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ni(t)}static emptyPath(){return new Ni([])}}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(Tn.fromString(e))}static fromName(e){return new Qe(Tn.fromString(e).popFirst(5))}static empty(){return new Qe(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new Tn(e.slice()))}}class Dp{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function nv(n){return n.fields.find(e=>2===e.kind)}function md(n){return n.fields.filter(e=>2!==e.kind)}Dp.UNKNOWN_ID=-1;class Ns{constructor(e,t){this.fieldPath=e,this.kind=t}}class iv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new iv(0,Oi.min())}}function ja(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xt.fromTimestamp(1e9===i?new Qn(t+1,0):new Qn(t,i));return new Oi(r,Qe.empty(),e)}function ma(n){return new Oi(n.readTime,n.key,-1)}class Oi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Oi(xt.min(),Qe.empty(),-1)}static max(){return new Oi(xt.max(),Qe.empty(),-1)}}function Zb(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:Kt(n.largestBatchId,e.largestBatchId))}const CE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Su(n){return IE.apply(this,arguments)}function IE(){return IE=(0,ve.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==CE)throw n;Ne("LocalStore","Unexpectedly lost primary lease")}),IE.apply(this,arguments)}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,i)=>{t(e)})}static reject(e){return new ie((t,i)=>{i(e)})}static waitFor(e){return new ie((t,i)=>{let r=0,s=0,l=!1;e.forEach(f=>{++r,f.next(()=>{++s,l&&s===r&&t()},p=>i(p))}),l=!0,s===r&&t()})}static or(e){let t=ie.resolve(!1);for(const i of e)t=t.next(r=>r?ie.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new ie((i,r)=>{const s=e.length,l=new Array(s);let f=0;for(let p=0;p<s;p++){const v=p;t(e[v]).next(C=>{l[v]=C,++f,f===s&&i(l)},C=>r(C))}})}static doWhile(e,t){return new ie((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class Sp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new nr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Ap(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=kp(i.target.error);this.v.reject(new Ap(e,r))}}static open(e,t,i,r){try{return new Sp(t,e.transaction(r,i))}catch(s){throw new Ap(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ne("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new FN(t)}}class Ho{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Ho.S((0,F.z$)())&&ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ne("SimpleDb","Removing database:",e),ku(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,F.hl)())return!1;if(Ho.C())return!0;const e=(0,F.z$)(),t=Ho.S(e),i=0<t&&t<10,r=Ho.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Ne("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=l=>{i(l.target.result)},s.onblocked=()=>{r(new Ap(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const f=l.target.error;r("VersionError"===f.name?new Se(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Se(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Ap(e,f))},s.onupgradeneeded=l=>{Ne("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,s.transaction,l.oldVersion,t.version).next(()=>{Ne("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,ve.Z)(function*(){const l="readonly"===t;let f=0;for(;;){++f;try{s.db=yield s.$(e);const p=Sp.open(s.db,e,l?"readonly":"readwrite",i),v=r(p).next(C=>(p.P(),C)).catch(C=>(p.abort(C),ie.reject(C))).toPromise();return v.catch(()=>{}),yield p.R,v}catch(p){const v=p,C="FirebaseError"!==v.name&&f<3;if(Ne("SimpleDb","Transaction failed with error:",v.message,"Retrying:",C),s.close(),!C)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class PN{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return ku(this.L.delete())}}class Ap extends Se{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Au(n){return"IndexedDbTransactionError"===n.name}class FN{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ne("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ne("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ku(i)}add(e){return Ne("SimpleDb","ADD",this.store.name,e,e),ku(this.store.add(e))}get(e){return ku(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ne("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ne("SimpleDb","DELETE",this.store.name,e),ku(this.store.delete(e))}count(){return Ne("SimpleDb","COUNT",this.store.name),ku(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(l,f)=>{s.push(f)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ie((s,l)=>{r.onerror=f=>{l(f.target.error)},r.onsuccess=f=>{s(f.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ie((r,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}J(e,t){Ne("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,l,f)=>f.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new ie((i,r)=>{t.onerror=s=>{const l=kp(s.target.error);r(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(f=>{f?l.continue():i()}):i()}})}W(e,t){const i=[];return new ie((r,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const f=l.target.result;if(!f)return void r();const p=new PN(f),v=t(f.primaryKey,f.value,p);if(v instanceof ie){const C=v.catch(D=>(p.done(),ie.reject(D)));i.push(C)}p.isDone?r():null===p.K?f.continue():f.continue(p.K)}}).next(()=>ie.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ku(n){return new ie((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=kp(i.target.error);t(r)}})}let TE=!1;function kp(n){const e=Ho.S((0,F.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return TE||(TE=!0,setTimeout(()=>{throw i},0)),i}}return n}class LN{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ne("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ve.Z)(function*(){t.task=null;try{Ne("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){Au(i)?Ne("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Su(i)}yield t.et(6e4)}))}}class kS{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ve.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,s=!0;return ie.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!i.has(l))return Ne("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,r).next(f=>{r-=f,i.add(l)});s=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(r,s)).next(f=>(Ne("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>l.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,s)=>{const l=ma(s);Zb(l,i)>0&&(i=l)}),new Oi(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Os=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function rv(n){return null==n}function ov(n){return 0===n&&1/n==-1/0}function MS(n){return"number"==typeof n&&Number.isInteger(n)&&!ov(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Co(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=RS(e)),e=VN(n.get(t),e);return RS(e)}function VN(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function RS(n){return n+"\x01\x01"}function zc(n){const e=n.length;if(yt(e>=2),2===e)return yt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const l=n.indexOf("\x01",s);switch((l<0||l>t)&&lt(),n.charAt(l+1)){case"\x01":const f=n.substring(s,l);let p;0===r.length?p=f:(r+=f,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,l),r+="\0";break;case"\x11":r+=n.substring(s,l+1);break;default:lt()}s=l+2}return new Tn(i)}const NS=["userId","batchId"];function Kb(n,e){return[n,Co(e)]}function Yb(n,e,t){return[n,Co(e),t]}const BN={},yV=["prefixPath","collectionGroup","readTime","documentId"],bV=["prefixPath","collectionGroup","documentId"],UN=["collectionGroup","readTime","prefixPath","documentId"],jN=["canonicalId","targetId"],wV=["targetId","path"],HN=["path","targetId"],xV=["collectionId","parent"],zN=["indexId","uid"],$N=["uid","sequenceNumber"],GN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],DE=["indexId","uid","orderedDocumentKey"],sv=["userId","collectionPath","documentId"],SE=["userId","collectionPath","largestBatchId"],Qb=["userId","collectionGroup","largestBatchId"],AE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],av=[...AE,"documentOverlays"],kE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],OS=kE,cv=[...OS,"indexConfiguration","indexState","indexEntries"];class Xb extends AS{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Ur(n,e){const t=Ze(n);return Ho.M(t.ht,e)}function ME(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ha(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ui{constructor(e,t){this.comparator=e,this.root=t||to.EMPTY}insert(e,t){return new ui(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,to.BLACK,null,null))}remove(e){return new ui(this.comparator,this.root.remove(e,this.comparator).copy(null,null,to.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jb(this.root,e,this.comparator,!0)}}class Jb{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class to{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??to.RED,this.left=r??to.EMPTY,this.right=s??to.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new to(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return to.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return to.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,to.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,to.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}to.EMPTY=null,to.RED=!0,to.BLACK=!1,to.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new to(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _i{constructor(e){this.comparator=e,this.data=new ui(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new e0(this.data.getIterator())}getIteratorFrom(e){return new e0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof _i)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _i(this.comparator);return t.data=e,t}}class e0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $c(n){return n.hasNext()?n.getNext():void 0}class no{constructor(e){this.fields=e,e.sort(Ni.comparator)}static empty(){return new no([])}unionWith(e){let t=new _i(Ni.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new no(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class lv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new lv("Invalid base64 string: "+r):r}}(e);return new Tr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const qN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gc(n){if(yt(!!n),"string"==typeof n){let e=0;const t=qN.exec(n);if(yt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Hi(n.seconds),nanos:Hi(n.nanos)}}function Hi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function qc(n){return"string"==typeof n?Tr.fromBase64String(n):Tr.fromUint8Array(n)}function t0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function n0(n){const e=n.mapValue.fields.__previous_value__;return t0(e)?n0(e):e}function Mp(n){const e=Gc(n.mapValue.fields.__local_write_time__.timestampValue);return new Qn(e.seconds,e.nanos)}class WN{constructor(e,t,i,r,s,l,f,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=v}}class Mu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}const Ps={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},r0={nullValue:"NULL_VALUE"};function Wc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?t0(n)?4:NE(n)?9007199254740991:10:lt()}function Zc(n,e){if(n===e)return!0;const t=Wc(n);if(t!==Wc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mp(n).isEqual(Mp(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Gc(i.timestampValue),l=Gc(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,qc(n.bytesValue).isEqual(qc(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Hi(i.geoPointValue.latitude)===Hi(r.geoPointValue.latitude)&&Hi(i.geoPointValue.longitude)===Hi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Hi(i.integerValue)===Hi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Hi(i.doubleValue),l=Hi(r.doubleValue);return s===l?ov(s)===ov(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return mf(n.arrayValue.values||[],e.arrayValue.values||[],Zc);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(ME(s)!==ME(l))return!1;for(const f in s)if(s.hasOwnProperty(f)&&(void 0===l[f]||!Zc(s[f],l[f])))return!1;return!0}(n,e);default:return lt()}var r}function pf(n,e){return void 0!==(n.values||[]).find(t=>Zc(t,e))}function pd(n,e){if(n===e)return 0;const t=Wc(n),i=Wc(e);if(t!==i)return Kt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const l=Hi(r.integerValue||r.doubleValue),f=Hi(s.integerValue||s.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(n,e);case 3:return RE(n.timestampValue,e.timestampValue);case 4:return RE(Mp(n),Mp(e));case 5:return Kt(n.stringValue,e.stringValue);case 6:return function(r,s){const l=qc(r),f=qc(s);return l.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const l=r.split("/"),f=s.split("/");for(let p=0;p<l.length&&p<f.length;p++){const v=Kt(l[p],f[p]);if(0!==v)return v}return Kt(l.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const l=Kt(Hi(r.latitude),Hi(s.latitude));return 0!==l?l:Kt(Hi(r.longitude),Hi(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const l=r.values||[],f=s.values||[];for(let p=0;p<l.length&&p<f.length;++p){const v=pd(l[p],f[p]);if(v)return v}return Kt(l.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Ps.mapValue&&s===Ps.mapValue)return 0;if(r===Ps.mapValue)return 1;if(s===Ps.mapValue)return-1;const l=r.fields||{},f=Object.keys(l),p=s.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let C=0;C<f.length&&C<v.length;++C){const D=Kt(f[C],v[C]);if(0!==D)return D;const M=pd(l[f[C]],p[v[C]]);if(0!==M)return M}return Kt(f.length,v.length)}(n.mapValue,e.mapValue);default:throw lt()}}function RE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kt(n,e);const t=Gc(n),i=Gc(e),r=Kt(t.seconds,i.seconds);return 0!==r?r:Kt(t.nanos,i.nanos)}function gf(n){return _f(n)}function _f(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Gc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?qc(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=_f(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const f of r)l?l=!1:s+=",",s+=`${f}:${_f(i.fields[f])}`;return s+"}"}(n.mapValue):lt();var e}function pa(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function vf(n){return!!n&&"integerValue"in n}function yf(n){return!!n&&"arrayValue"in n}function uv(n){return!!n&&"nullValue"in n}function FS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function o0(n){return!!n&&"mapValue"in n}function Rp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ha(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Rp(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function NE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function OE(n){return"nullValue"in n?r0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?pa(Mu.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:lt()}function LS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?pa(Mu.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ps:lt()}function VS(n,e){const t=pd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function PE(n,e){const t=pd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Dr{constructor(e){this.value=e}static empty(){return new Dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!o0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rp(t)}setAll(e){let t=Ni.emptyPath(),i={},r=[];e.forEach((l,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=f.popLast()}l?i[f.lastSegment()]=Rp(l):r.push(f.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());o0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];o0(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ha(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Dr(Rp(this.value))}}function FE(n){const e=[];return Ha(n.fields,(t,i)=>{const r=new Ni([t]);if(o0(i)){const s=FE(i.mapValue).fields;if(0===s.length)e.push(r);else for(const l of s)e.push(r.child(l))}else e.push(r)}),new no(e)}class hi{constructor(e,t,i,r,s,l,f){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=l,this.documentState=f}static newInvalidDocument(e){return new hi(e,0,xt.min(),xt.min(),xt.min(),Dr.empty(),0)}static newFoundDocument(e,t,i,r){return new hi(e,1,t,xt.min(),i,r,0)}static newNoDocument(e,t){return new hi(e,2,t,xt.min(),xt.min(),Dr.empty(),0)}static newUnknownDocument(e,t){return new hi(e,3,t,xt.min(),xt.min(),Dr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ru{constructor(e,t){this.position=e,this.inclusive=t}}function BS(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],l=n.position[r];if(i=s.field.isKeyField()?Qe.comparator(Qe.fromName(l.referenceValue),t.key):pd(l,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function US(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Zc(n.position[t],e.position[t]))return!1;return!0}class Np{constructor(e,t="asc"){this.field=e,this.dir=t}}function Op(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class LE{}class mn extends LE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new ZN(e,t,i):"array-contains"===t?new HE(e,i):"in"===t?new zi(e,i):"not-in"===t?new qS(e,i):"array-contains-any"===t?new YN(e,i):new mn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new jE(e,i):new KN(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(pd(t,this.value)):null!==t&&Wc(this.value)===Wc(t)&&this.matchesComparison(pd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xn extends LE{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Xn(e,t)}matches(e){return Pp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Pp(n){return"and"===n.op}function VE(n){return"or"===n.op}function BE(n){return jS(n)&&Pp(n)}function jS(n){for(const e of n.filters)if(e instanceof Xn)return!1;return!0}function UE(n){if(n instanceof mn)return n.field.canonicalString()+n.op.toString()+gf(n.value);if(BE(n))return n.filters.map(e=>UE(e)).join(",");{const e=n.filters.map(t=>UE(t)).join(",");return`${n.op}(${e})`}}function HS(n,e){return n instanceof mn?(t=n,(i=e)instanceof mn&&t.op===i.op&&t.field.isEqual(i.field)&&Zc(t.value,i.value)):n instanceof Xn?function(t,i){return i instanceof Xn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,l)=>r&&HS(s,i.filters[l]),!0)}(n,e):void lt();var t,i}function zS(n,e){const t=n.filters.concat(e);return Xn.create(t,n.op)}function $S(n){return n instanceof mn?`${(e=n).field.canonicalString()} ${e.op} ${gf(e.value)}`:n instanceof Xn?function(e){return e.op.toString()+" {"+e.getFilters().map($S).join(" ,")+"}"}(n):"Filter";var e}class ZN extends mn{constructor(e,t,i){super(e,t,i),this.key=Qe.fromName(i.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class jE extends mn{constructor(e,t){super(e,"in",t),this.keys=GS(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class KN extends mn{constructor(e,t){super(e,"not-in",t),this.keys=GS(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function GS(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Qe.fromName(i.referenceValue))}class HE extends mn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yf(t)&&pf(t.arrayValue,this.value)}}class zi extends mn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&pf(this.value.arrayValue,t)}}class qS extends mn{constructor(e,t){super(e,"not-in",t)}matches(e){if(pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!pf(this.value.arrayValue,t)}}class YN extends mn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>pf(this.value.arrayValue,i))}}class gr{constructor(e,t=null,i=[],r=[],s=null,l=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=f,this.dt=null}}function bf(n,e=null,t=[],i=[],r=null,s=null,l=null){return new gr(n,e,t,i,r,s,l)}function ga(n){const e=Ze(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>UE(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),rv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>gf(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>gf(i)).join(",")),e.dt=t}return e.dt}function Nu(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Op(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!HS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!US(n.startAt,e.startAt)&&US(n.endAt,e.endAt)}function Ou(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function wf(n,e){return n.filters.filter(t=>t instanceof mn&&t.field.isEqual(e))}function zE(n,e,t){let i=r0,r=!0;for(const s of wf(n,e)){let l=r0,f=!0;switch(s.op){case"<":case"<=":l=OE(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,f=!1;break;case"!=":case"not-in":l=r0}VS({value:i,inclusive:r},{value:l,inclusive:f})<0&&(i=l,r=f)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];VS({value:i,inclusive:r},{value:l,inclusive:t.inclusive})<0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}function $E(n,e,t){let i=Ps,r=!0;for(const s of wf(n,e)){let l=Ps,f=!0;switch(s.op){case">=":case">":l=LS(s.value),f=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,f=!1;break;case"!=":case"not-in":l=Ps}PE({value:i,inclusive:r},{value:l,inclusive:f})>0&&(i=l,r=f)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];PE({value:i,inclusive:r},{value:l,inclusive:t.inclusive})>0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}class Kc{constructor(e,t=null,i=[],r=[],s=null,l="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=f,this.endAt=p,this.wt=null,this._t=null}}function hv(n,e,t,i,r,s,l,f){return new Kc(n,e,t,i,r,s,l,f)}function Pu(n){return new Kc(n)}function GE(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Fp(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Yc(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function qE(n){return null!==n.collectionGroup}function jr(n){const e=Ze(n);if(null===e.wt){e.wt=[];const t=Yc(e),i=Fp(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Np(t)),e.wt.push(new Np(Ni.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Np(Ni.keyField(),s))}}}return e.wt}function zo(n){const e=Ze(n);if(!e._t)if("F"===e.limitType)e._t=bf(e.path,e.collectionGroup,jr(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of jr(e))t.push(new Np(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new Ru(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ru(e.startAt.position,e.startAt.inclusive):null;e._t=bf(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function WE(n,e){e.getFirstInequalityField(),Yc(n);const t=n.filters.concat([e]);return new Kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Lp(n,e,t){return new Kc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vp(n,e){return Nu(zo(n),zo(e))&&n.limitType===e.limitType}function ZE(n){return`${ga(zo(n))}|lt:${n.limitType}`}function KE(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>$S(i)).join(", ")}]`),rv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>gf(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>gf(i)).join(",")),`Target(${t})`}(zo(n))}; limitType=${n.limitType})`}function s0(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Qe.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of jr(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,l){const f=BS(r,s,l);return r.inclusive?f<=0:f<0}(t.startAt,jr(t),i)||t.endAt&&!function(r,s,l){const f=BS(r,s,l);return r.inclusive?f>=0:f>0}(t.endAt,jr(t),i)));var t,i}function WS(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fv(n){return(e,t)=>{let i=!1;for(const r of jr(n)){const s=YE(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function YE(n,e,t){const i=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(r,s,l){const f=s.data.field(r),p=l.data.field(r);return null!==f&&null!==p?pd(f,p):lt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return lt()}}class za{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return PS(this.inner)}size(){return this.innerSize}}const Bp=new ui(Qe.comparator);function $o(){return Bp}const QE=new ui(Qe.comparator);function Qc(...n){let e=QE;for(const t of n)e=e.insert(t.key,t);return e}function a0(n){let e=QE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function _a(){return Up()}function XE(){return Up()}function Up(){return new za(n=>n.toString(),(n,e)=>n.isEqual(e))}const ZS=new ui(Qe.comparator),QN=new _i(Qe.comparator);function nn(...n){let e=QN;for(const t of n)e=e.add(t);return e}const jp=new _i(Kt);function c0(){return jp}function KS(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ov(e)?"-0":e}}function YS(n){return{integerValue:""+n}}function QS(n,e){return MS(e)?YS(e):KS(n,e)}class mv{constructor(){this._=void 0}}function XS(n,e,t){return n instanceof Hp?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&t0(r)&&(r=n0(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Fu?l0(n,e):n instanceof xf?JS(n,e):function(i,r){const s=JN(i,r),l=eA(s)+eA(i.gt);return vf(s)&&vf(i.gt)?YS(l):KS(i.serializer,l)}(n,e)}function XN(n,e,t){return n instanceof Fu?l0(n,e):n instanceof xf?JS(n,e):t}function JN(n,e){return n instanceof zp?vf(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Hp extends mv{}class Fu extends mv{constructor(e){super(),this.elements=e}}function l0(n,e){const t=tA(e);for(const i of n.elements)t.some(r=>Zc(r,i))||t.push(i);return{arrayValue:{values:t}}}class xf extends mv{constructor(e){super(),this.elements=e}}function JS(n,e){let t=tA(e);for(const i of n.elements)t=t.filter(r=>!Zc(r,i));return{arrayValue:{values:t}}}class zp extends mv{constructor(e,t){super(),this.serializer=e,this.gt=t}}function eA(n){return Hi(n.integerValue||n.doubleValue)}function tA(n){return yf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class pv{constructor(e,t){this.field=e,this.transform=t}}class tO{constructor(e,t){this.version=e,this.transformResults=t}}class Ei{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function d0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class u0{}function nA(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Cf(n.key,Ei.none()):new Ef(n.key,n.data,Ei.none());{const t=n.data,i=Dr.empty();let r=new _i(Ni.comparator);for(let s of e.fields)if(!r.has(s)){let l=t.field(s);null===l&&s.length>1&&(s=s.popLast(),l=t.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new Xc(n.key,i,new no(r.toArray()),Ei.none())}}function nO(n,e,t){n instanceof Ef?function(i,r,s){const l=i.value.clone(),f=JE(i.fieldTransforms,r,s.transformResults);l.setAll(f),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Xc?function(i,r,s){if(!d0(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=JE(i.fieldTransforms,r,s.transformResults),f=r.data;f.setAll(gd(i)),f.setAll(l),r.convertToFoundDocument(s.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gv(n,e,t,i){return n instanceof Ef?function(r,s,l,f){if(!d0(r.precondition,s))return l;const p=r.value.clone(),v=rA(r.fieldTransforms,f,s);return p.setAll(v),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Xc?function(r,s,l,f){if(!d0(r.precondition,s))return l;const p=rA(r.fieldTransforms,f,s),v=s.data;return v.setAll(gd(r)),v.setAll(p),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,e,t,i):(l=t,d0(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function iO(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=JN(i.transform,r||null);null!=s&&(null===t&&(t=Dr.empty()),t.set(i.field,s))}return t||null}function iA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&mf(t,i,(r,s)=>function eO(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Fu&&i instanceof Fu||t instanceof xf&&i instanceof xf?mf(t.elements,i.elements,Zc):t instanceof zp&&i instanceof zp?Zc(t.gt,i.gt):t instanceof Hp&&i instanceof Hp);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Ef extends u0{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xc extends u0{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function gd(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function JE(n,e,t){const i=new Map;yt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],l=s.transform,f=e.data.field(s.field);i.set(s.field,XN(l,f,t[r]))}return i}function rA(n,e,t){const i=new Map;for(const r of n){const s=r.transform,l=t.data.field(r.field);i.set(r.field,XS(s,l,e))}return i}class Cf extends u0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h0 extends u0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class If{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&nO(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=gv(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=gv(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=XE();return this.mutations.forEach(r=>{const s=e.get(r.key),l=s.overlayedDocument;let f=this.applyToLocalView(l,s.mutatedFields);f=t.has(r.key)?null:f;const p=nA(l,f);null!==p&&i.set(r.key,p),l.isValidDocument()||l.convertToNoDocument(xt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nn())}isEqual(e){return this.batchId===e.batchId&&mf(this.mutations,e.mutations,(t,i)=>iA(t,i))&&mf(this.baseMutations,e.baseMutations,(t,i)=>iA(t,i))}}class _v{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){yt(e.mutations.length===i.length);let r=ZS;const s=e.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new _v(e,t,i,r)}}class Lu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $p{constructor(e,t){this.count=e,this.unchangedNames=t}}var _r,pn;function vv(n){switch(n){default:return lt();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function f0(n){if(void 0===n)return ji("GRPC error has no .code"),ce.UNKNOWN;switch(n){case _r.OK:return ce.OK;case _r.CANCELLED:return ce.CANCELLED;case _r.UNKNOWN:return ce.UNKNOWN;case _r.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case _r.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case _r.INTERNAL:return ce.INTERNAL;case _r.UNAVAILABLE:return ce.UNAVAILABLE;case _r.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case _r.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case _r.NOT_FOUND:return ce.NOT_FOUND;case _r.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case _r.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case _r.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case _r.ABORTED:return ce.ABORTED;case _r.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case _r.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case _r.DATA_LOSS:return ce.DATA_LOSS;default:return lt()}}(pn=_r||(_r={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";class m0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return p0}static getOrCreateInstance(){return null===p0&&(p0=new m0),p0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let p0=null;function sA(){return new TextEncoder}const rO=new hf([4294967295,4294967295],0);function g0(n){const e=sA().encode(n),t=new Tp;return t.update(e),new Uint8Array(t.digest())}function _0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new hf([t,i],0),new hf([r,s],0)]}class v0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Gp(`Invalid padding: ${t}`);if(i<0)throw new Gp(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Gp(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Gp(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=hf.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(hf.fromNumber(i)));return 1===r.compare(rO)&&(r=new hf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=g0(e),[i,r]=_0(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);if(!this.At(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new v0(s,r,t);return i.forEach(f=>l.insert(f)),l}insert(e){if(0===this.It)return;const t=g0(e),[i,r]=_0(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Gp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yv{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,bv.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new yv(xt.min(),r,new ui(Kt),$o(),nn())}}class bv{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new bv(i,t,nn(),nn(),nn())}}class wv{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class y0{constructor(e,t){this.targetId=e,this.Vt=t}}class eC{constructor(e,t,i=Tr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Vu{constructor(){this.St=0,this.Dt=Tf(),this.Ct=Tr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=nn(),t=nn(),i=nn();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:lt()}}),new bv(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=Tf()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class oO{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=$o(),this.zt=aA(),this.Wt=new ui(Kt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const l=s.target;if(Ou(l))if(0===r){const f=new Qe(l.path);this.Yt(i,f,hi.newNoDocument(f,xt.min()))}else yt(1===r);else{const f=this.ie(i);if(f!==r){const p=this.re(e,f);0!==p&&(this.ee(i),this.Wt=this.Wt.insert(i,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=m0.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,C,D){var M,P,V,j,X,ye;const Pe={localCacheCount:C,existenceFilterCount:D.count},De=D.unchangedNames;return De&&(Pe.bloomFilter={applied:0===v,hashCount:null!==(M=De?.hashCount)&&void 0!==M?M:0,bitmapLength:null!==(j=null===(V=null===(P=De?.bits)||void 0===P?void 0:P.bitmap)||void 0===V?void 0:V.length)&&void 0!==j?j:0,padding:null!==(ye=null===(X=De?.bits)||void 0===X?void 0:X.padding)&&void 0!==ye?ye:0}),Pe}(p,f,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:l=0},hashCount:f=0}=i;let p,v;try{p=qc(s).toUint8Array()}catch(C){if(C instanceof lv)return jo("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw C}try{v=new v0(p,l,f)}catch(C){return jo(C instanceof Gp?"BloomFilter error: ":"Applying bloom filter failed: ",C),1}return 0===v.It?1:r!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const l=this.Gt.ue(),f=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;t.vt(f)||(this.Yt(e,s,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((s,l)=>{const f=this.se(l);if(f){if(s.current&&Ou(f.target)){const p=new Qe(f.target.path);null!==this.jt.get(p)||this.ae(l,p)||this.Yt(l,p,hi.newNoDocument(p,e))}s.Mt&&(t.set(l,s.Ot()),s.Ft())}});let i=nn();this.zt.forEach((s,l)=>{let f=!0;l.forEachWhile(p=>{const v=this.se(p);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(i=i.add(s))}),this.jt.forEach((s,l)=>l.setReadTime(e));const r=new yv(e,t,this.Wt,this.jt,i);return this.jt=$o(),this.zt=aA(),this.Wt=new ui(Kt),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Vu,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new _i(Kt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Vu),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function aA(){return new ui(Qe.comparator)}function Tf(){return new ui(Qe.comparator)}const CV={asc:"ASCENDING",desc:"DESCENDING"},tC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IV={and:"AND",or:"OR"};class cA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function b0(n,e){return n.useProto3Json||rv(e)?e:{value:e}}function xv(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Df(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function sO(n,e){return xv(n,e.toTimestamp())}function ir(n){return yt(!!n),xt.fromTimestamp(function(e){const t=Gc(e);return new Qn(t.seconds,t.nanos)}(n))}function nC(n,e){return(t=n,new Tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Sf(n){const e=Tn.fromString(n);return yt(_A(e)),e}function Ev(n,e){return nC(n.databaseId,e.path)}function Fs(n,e){const t=Sf(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(iC(t))}function qp(n,e){return nC(n.databaseId,e)}function Go(n){const e=Sf(n);return 4===e.length?Tn.emptyPath():iC(e)}function Wp(n){return new Tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iC(n){return yt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function lA(n,e,t){return{name:Ev(n,e),fields:t.value.mapValue.fields}}function rC(n,e,t){const i=Fs(n,e.name),r=ir(e.updateTime),s=e.createTime?ir(e.createTime):xt.min(),l=new Dr({mapValue:{fields:e.fields}}),f=hi.newFoundDocument(i,r,s,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Zp(n,e){let t;if(e instanceof Ef)t={update:lA(n,e.key,e.value)};else if(e instanceof Cf)t={delete:Ev(n,e.key)};else if(e instanceof Xc)t={update:lA(n,e.key,e.data),updateMask:Cv(e.fieldMask)};else{if(!(e instanceof h0))return lt();t={verify:Ev(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof Hp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Fu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof xf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof zp)return{fieldPath:s.field.canonicalString(),increment:l.gt};throw lt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:sO(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:lt()),t;var r}function oC(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Ei.updateTime(ir(r.updateTime)):void 0!==r.exists?Ei.exists(r.exists):Ei.none():Ei.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,l){let f=null;"setToServerValue"in l?(yt("REQUEST_TIME"===l.setToServerValue),f=new Hp):"appendMissingElements"in l?f=new Fu(l.appendMissingElements.values||[]):"removeAllFromArray"in l?f=new xf(l.removeAllFromArray.values||[]):"increment"in l?f=new zp(s,l.increment):lt();const p=Ni.fromServerFormat(l.fieldPath);return new pv(p,f)}(n,r)):[];var r;if(e.update){const r=Fs(n,e.update.name),s=new Dr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new no((e.updateMask.fieldPaths||[]).map(v=>Ni.fromServerFormat(v)));return new Xc(r,s,l,t,i)}return new Ef(r,s,t,i)}if(e.delete){const r=Fs(n,e.delete);return new Cf(r,t)}if(e.verify){const r=Fs(n,e.verify);return new h0(r,t)}return lt()}function hA(n,e){return{documents:[qp(n,e.path)]}}function Af(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=qp(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=qp(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0!==p.length)return Yp(Xn.create(p,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(v=>{return{field:_d((C=v).field),direction:w0(C.dir)};var C})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=b0(n,e.limit);var f,p;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function fA(n){let e=Go(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){yt(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let s=[];t.where&&(s=function(C){const D=mA(C);return D instanceof Xn&&BE(D)?D.getFilters():[D]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(C=>{return new Np(Kp((D=C).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let f=null;t.limit&&(f=function(C){let D;return D="object"==typeof C?C.value:C,rv(D)?null:D}(t.limit));let p=null;var C;t.startAt&&(p=new Ru((C=t.startAt).values||[],!!C.before));let v=null;return t.endAt&&(v=function(C){return new Ru(C.values||[],!C.before)}(t.endAt)),hv(e,r,l,s,f,"F",p,v)}function mA(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Kp(e.unaryFilter.field);return mn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Kp(e.unaryFilter.field);return mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Kp(e.unaryFilter.field);return mn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Kp(e.unaryFilter.field);return mn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}(n):void 0!==n.fieldFilter?mn.create(Kp((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Xn.create(e.compositeFilter.filters.map(t=>mA(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return lt()}}(e.compositeFilter.op))}(n):lt();var e}function w0(n){return CV[n]}function pA(n){return tC[n]}function gA(n){return IV[n]}function _d(n){return{fieldPath:n.canonicalString()}}function Kp(n){return Ni.fromServerFormat(n.fieldPath)}function Yp(n){return n instanceof mn?function(e){if("=="===e.op){if(FS(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NAN"}};if(uv(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(FS(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NOT_NAN"}};if(uv(e.value))return{unaryFilter:{field:_d(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_d(e.field),op:pA(e.op),value:e.value}}}(n):n instanceof Xn?function(e){const t=e.getFilters().map(i=>Yp(i));return 1===t.length?t[0]:{compositeFilter:{op:gA(e.op),filters:t}}}(n):lt()}function Cv(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _A(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class vd{constructor(e,t,i,r,s=xt.min(),l=xt.min(),f=Tr.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new vd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vA{constructor(e){this.fe=e}}function sC(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Iv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Ev(r=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:xv(r,s.version.toTimestamp()),createTime:xv(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:kf(e.version)};else{if(!e.isUnknownDocument())return lt();i.unknownDocument={path:t.path.toArray(),version:kf(e.version)}}var r,s;return i}function Iv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function kf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bu(n){const e=new Qn(n.seconds,n.nanoseconds);return xt.fromTimestamp(e)}function Mf(n,e){const t=(e.baseMutations||[]).map(s=>oC(n.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>oC(n.fe,s)),r=Qn.fromMillis(e.localWriteTimeMs);return new If(e.batchId,r,t,i)}function Tv(n){const e=Bu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Bu(n.lastLimboFreeSnapshotVersion):xt.min();let i;var r;return void 0!==n.query.documents?(yt(1===(r=n.query).documents.length),i=zo(Pu(Go(r.documents[0])))):i=zo(fA(n.query)),new vd(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Tr.fromBase64String(n.resumeToken))}function lO(n,e){const t=kf(e.snapshotVersion),i=kf(e.lastLimboFreeSnapshotVersion);let r;r=Ou(e.target)?hA(n.fe,e.target):Af(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ga(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function bA(n){const e=fA({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Lp(e,e.limit,"L"):e}function wA(n,e){return new Lu(e.largestBatchId,oC(n.fe,e.overlayMutation))}function dO(n,e){const t=e.path.lastSegment();return[n,Co(e.path.popLast()),t]}function aC(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:kf(i.readTime),documentKey:Co(i.documentKey.path),largestBatchId:i.largestBatchId}}class x0{getBundleMetadata(e,t){return xA(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Bu(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return xA(e).put({bundleId:(i=t).id,createTime:kf(ir(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return EA(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:bA(r.bundledQuery),readTime:Bu(r.readTime)};var r})}saveNamedQuery(e,t){return EA(e).put({name:(i=t).name,readTime:kf(ir(i.readTime)),bundledQuery:i.bundledQuery});var i}}function xA(n){return Ur(n,"bundles")}function EA(n){return Ur(n,"namedQueries")}class Dv{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Dv(e,t.uid||"")}getOverlay(e,t){return yd(e).get(dO(this.userId,t)).next(i=>i?wA(this.serializer,i):null)}getOverlays(e,t){const i=_a();return ie.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,l)=>{const f=new Lu(t,l);r.push(this.we(e,f))}),ie.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(l=>r.add(Co(l.getCollectionPath())));const s=[];return r.forEach(l=>{const f=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(yd(e).J("collectionPathOverlayIndex",f))}),ie.waitFor(s)}getOverlaysForCollection(e,t,i){const r=_a(),s=Co(t),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return yd(e).j("collectionPathOverlayIndex",l).next(f=>{for(const p of f){const v=wA(this.serializer,p);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=_a();let l;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return yd(e).X({index:"collectionGroupOverlayIndex",range:f},(p,v,C)=>{const D=wA(this.serializer,v);s.size()<r||D.largestBatchId===l?(s.set(D.getKey(),D),l=D.largestBatchId):C.done()}).next(()=>s)}we(e,t){return yd(e).put(function(i,r,s){const[l,f,p]=dO(r,s.mutation.key);return{userId:r,collectionPath:f,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Zp(i.fe,s.mutation)}}(this.serializer,this.userId,t))}}function yd(n){return Ur(n,"documentOverlays")}class Rf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Hi(e.integerValue));else if("doubleValue"in e){const i=Hi(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),ov(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(qc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?NE(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):lt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),Qe.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function uO(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function CA(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=uO(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}Rf.Ve=new Rf;class hO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=CA(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=CA(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class TV{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class fO{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Qp{constructor(){this.je=new hO,this.ze=new TV(this.je),this.We=new fO(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Nf{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Nf(this.indexId,this.documentKey,this.arrayValue,i)}}function Uu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Xp(n.arrayValue,e.arrayValue),0!==t?t:(t=Xp(n.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(n.documentKey,e.documentKey)))}function Xp(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class mO{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){yt(e.collectionGroup===this.collectionId);const t=nv(e);if(void 0!==t&&!this.en(t))return!1;const i=md(e);let r=new Set,s=0,l=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const f=i[s];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[l++],f))return!1}++s}for(;s<i.length;++s)if(l>=this.Ye.length||!this.sn(this.Ye[l++],i[s]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function cC(n){var e,t;if(yt(n instanceof mn||n instanceof Xn),n instanceof mn){if(n instanceof zi){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>mn.create(n.field,"==",s)))||[];return Xn.create(r,"or")}return n}const i=n.filters.map(r=>cC(r));return Xn.create(i,n.op)}function pO(n){if(0===n.getFilters().length)return[];const e=uC(cC(n));return yt(dC(e)),E0(e)||lC(e)?[e]:e.getFilters()}function E0(n){return n instanceof mn}function lC(n){return n instanceof Xn&&BE(n)}function dC(n){return E0(n)||lC(n)||function(e){if(e instanceof Xn&&VE(e)){for(const t of e.getFilters())if(!E0(t)&&!lC(t))return!1;return!0}return!1}(n)}function uC(n){if(yt(n instanceof mn||n instanceof Xn),n instanceof mn)return n;if(1===n.filters.length)return uC(n.filters[0]);const e=n.filters.map(i=>uC(i));let t=Xn.create(e,n.op);return t=Av(t),dC(t)?t:(yt(t instanceof Xn),yt(Pp(t)),yt(t.filters.length>1),t.filters.reduce((i,r)=>Sv(i,r)))}function Sv(n,e){let t;return yt(n instanceof mn||n instanceof Xn),yt(e instanceof mn||e instanceof Xn),t=n instanceof mn?e instanceof mn?Xn.create([n,e],"and"):IA(n,e):e instanceof mn?IA(e,n):function(i,r){if(yt(i.filters.length>0&&r.filters.length>0),Pp(i)&&Pp(r))return zS(i,r.getFilters());const s=VE(i)?i:r,l=VE(i)?r:i,f=s.filters.map(p=>Sv(p,l));return Xn.create(f,"or")}(n,e),Av(t)}function IA(n,e){if(Pp(e))return zS(e,n.getFilters());{const t=e.filters.map(i=>Sv(n,i));return Xn.create(t,"or")}}function Av(n){if(yt(n instanceof mn||n instanceof Xn),n instanceof mn)return n;const e=n.getFilters();if(1===e.length)return Av(e[0]);if(jS(n))return n;const t=e.map(r=>Av(r)),i=[];return t.forEach(r=>{r instanceof mn?i.push(r):r instanceof Xn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Xn.create(i,n.op)}class TA{constructor(){this.rn=new hC}addToCollectionParentIndex(e,t){return this.rn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Oi.min())}updateCollectionGroup(e,t,i){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class hC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new _i(Tn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new _i(Tn.comparator)).toArray()}}const C0=new Uint8Array(0);class gO{constructor(e,t){this.user=e,this.databaseId=t,this.on=new hC,this.un=new za(i=>ga(i),(i,r)=>Nu(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:i,parent:Co(r)};return I0(e).put(s)}return ie.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[xE(t),""],!1,!0);return I0(e).j(r).next(s=>{for(const l of s){if(l.collectionId!==t)break;i.push(zc(l.parent))}return i})}addFieldIndex(e,t){const i=Mv(e),r={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;delete r.indexId;const s=i.add(r);if(t.indexState){const l=Rv(e);return s.next(f=>{l.put(aC(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=Mv(e),r=Rv(e),s=kv(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=kv(e);let r=!0;const s=new Map;return ie.forEach(this.cn(t),l=>this.an(e,l).next(f=>{r&&(r=!!f),s.set(l,f)})).next(()=>{if(r){let l=nn();const f=[];return ie.forEach(s,(p,v)=>{var C;Ne("IndexedDbIndexManager",`Using index ${C=p,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(De=>`${De.fieldPath}:${De.kind}`).join(",")}`} to execute ${ga(t)}`);const D=function(De,Be){const Et=nv(Be);if(void 0===Et)return null;for(const _t of wf(De,Et.fieldPath))switch(_t.op){case"array-contains-any":return _t.value.arrayValue.values||[];case"array-contains":return[_t.value]}return null}(v,p),M=function(De,Be){const Et=new Map;for(const _t of md(Be))for(const dn of wf(De,_t.fieldPath))switch(dn.op){case"==":case"in":Et.set(_t.fieldPath.canonicalString(),dn.value);break;case"not-in":case"!=":return Et.set(_t.fieldPath.canonicalString(),dn.value),Array.from(Et.values())}return null}(v,p),P=function(De,Be){const Et=[];let _t=!0;for(const dn of md(Be)){const Di=0===dn.kind?zE(De,dn.fieldPath,De.startAt):$E(De,dn.fieldPath,De.startAt);Et.push(Di.value),_t&&(_t=Di.inclusive)}return new Ru(Et,_t)}(v,p),V=function(De,Be){const Et=[];let _t=!0;for(const dn of md(Be)){const Di=0===dn.kind?$E(De,dn.fieldPath,De.endAt):zE(De,dn.fieldPath,De.endAt);Et.push(Di.value),_t&&(_t=Di.inclusive)}return new Ru(Et,_t)}(v,p),j=this.hn(p,v,P),X=this.hn(p,v,V),ye=this.ln(p,v,M),Pe=this.fn(p.indexId,D,j,P.inclusive,X,V.inclusive,ye);return ie.forEach(Pe,De=>i.H(De,t.limit).next(Be=>{Be.forEach(Et=>{const _t=Qe.fromSegments(Et.documentKey);l.has(_t)||(l=l.add(_t),f.push(_t))})}))}).next(()=>f)}return ie.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:pO(Xn.create(e.filters,"and")).map(i=>bf(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,s,l,f){const p=(null!=t?t.length:1)*Math.max(i.length,s.length),v=p/(null!=t?t.length:1),C=[];for(let D=0;D<p;++D){const M=t?this.dn(t[D/v]):C0,P=this.wn(e,M,i[D%v],r),V=this._n(e,M,s[D%v],l),j=f.map(X=>this.wn(e,M,X,!0));C.push(...this.createRange(P,V,j))}return C}wn(e,t,i,r){const s=new Nf(e,Qe.empty(),t,i);return r?s:s.Je()}_n(e,t,i,r){const s=new Nf(e,Qe.empty(),t,i);return r?s.Je():s}an(e,t){const i=new mO(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let l=null;for(const f of s)i.tn(f)&&(!l||f.fields.length>l.fields.length)&&(l=f);return l})}getIndexType(e,t){let i=2;const r=this.cn(t);return ie.forEach(r,s=>this.an(e,s).next(l=>{l?0!==i&&l.fields.length<function(f){let p=new _i(Ni.comparator),v=!1;for(const C of f.filters)for(const D of C.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?v=!0:p=p.add(D.field));for(const C of f.orderBy)C.field.isKeyField()||(p=p.add(C.field));return p.size+(v?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new Qp;for(const r of md(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const l=i.He(r.kind);Rf.Ve._e(s,l)}return i.Qe()}dn(e){const t=new Qp;return Rf.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new Qp;return Rf.Ve._e(pa(this.databaseId,t),i.He(function(r){const s=md(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new Qp);let s=0;for(const l of md(e)){const f=i[s++];for(const p of r)if(this.yn(t,l.fieldPath)&&yf(f))r=this.pn(r,l,f);else{const v=p.He(l.kind);Rf.Ve._e(f,v)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],s=[];for(const l of i.arrayValue.values||[])for(const f of r){const p=new Qp;p.seed(f.Qe()),Rf.Ve._e(l,p.He(t.kind)),s.push(p)}return s}yn(e,t){return!!e.filters.find(i=>i instanceof mn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Mv(e),r=Rv(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(s=>{const l=[];return ie.forEach(s,f=>r.get([f.indexId,this.uid]).next(p=>{l.push(function(v,C){const D=C?new iv(C.sequenceNumber,new Oi(Bu(C.readTime),new Qe(zc(C.documentKey)),C.largestBatchId)):iv.empty(),M=v.fields.map(([P,V])=>new Ns(Ni.fromServerFormat(P),V));return new Dp(v.indexId,v.collectionGroup,M,D)}(f,p))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Kt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Mv(e),s=Rv(e);return this.Tn(e).next(l=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ie.forEach(f,p=>s.put(aC(p.indexId,this.user,l,i)))))}updateIndexEntries(e,t){const i=new Map;return ie.forEach(t,(r,s)=>{const l=i.get(r.collectionGroup);return(l?ie.resolve(l):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),ie.forEach(f,p=>this.En(e,r,p).next(v=>{const C=this.An(s,p);return v.isEqual(C)?ie.resolve():this.vn(e,s,p,v,C)}))))})}Rn(e,t,i,r){return kv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return kv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=kv(e);let s=new _i(Uu);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(l,f)=>{s=s.add(new Nf(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>s)}An(e,t){let i=new _i(Uu);const r=this.mn(t,e);if(null==r)return i;const s=nv(t);if(null!=s){const l=e.data.field(s.fieldPath);if(yf(l))for(const f of l.arrayValue.values||[])i=i.add(new Nf(t.indexId,e.key,this.dn(f),r))}else i=i.add(new Nf(t.indexId,e.key,C0,r));return i}vn(e,t,i,r,s){Ne("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(f,p,v,C,D){const M=f.getIterator(),P=p.getIterator();let V=$c(M),j=$c(P);for(;V||j;){let X=!1,ye=!1;if(V&&j){const Pe=v(V,j);Pe<0?ye=!0:Pe>0&&(X=!0)}else null!=V?ye=!0:X=!0;X?(C(j),j=$c(P)):ye?(D(V),V=$c(M)):(V=$c(M),j=$c(P))}}(r,s,Uu,f=>{l.push(this.Rn(e,t,i,f))},f=>{l.push(this.Pn(e,t,i,f))}),ie.waitFor(l)}Tn(e){let t=1;return Rv(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,f)=>Uu(l,f)).filter((l,f,p)=>!f||0!==Uu(l,p[f-1]));const r=[];r.push(e);for(const l of i){const f=Uu(l,e),p=Uu(l,t);if(0===f)r[0]=e.Je();else if(f>0&&p<0)r.push(l),r.push(l.Je());else if(p>0)break}r.push(t);const s=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];s.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,C0,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,C0,[]]))}return s}bn(e,t){return Uu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(DA)}getMinOffset(e,t){return ie.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||lt())).next(DA)}}function I0(n){return Ur(n,"collectionParents")}function kv(n){return Ur(n,"indexEntries")}function Mv(n){return Ur(n,"indexConfiguration")}function Rv(n){return Ur(n,"indexState")}function DA(n){yt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Zb(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Oi(e.readTime,e.documentKey,t)}const SA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Io{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Io(e,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function AA(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],l=IDBKeyRange.only(t.batchId);let f=0;const p=i.X({range:l},(C,D,M)=>(f++,M.delete()));s.push(p.next(()=>{yt(1===f)}));const v=[];for(const C of t.mutations){const D=Yb(e,C.key.path,t.batchId);s.push(r.delete(D)),v.push(C.key)}return ie.waitFor(s).next(()=>v)}function T0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw lt();e=n.noDocument}return JSON.stringify(e).length}Io.DEFAULT_COLLECTION_PERCENTILE=10,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Io.DEFAULT=new Io(41943040,Io.DEFAULT_COLLECTION_PERCENTILE,Io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Io.DISABLED=new Io(-1,0,0);class D0{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){yt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new D0(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bd(e).X({index:"userMutationsIndex",range:i},(r,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=Of(e),l=bd(e);return l.add({}).next(f=>{yt("number"==typeof f);const p=new If(f,t,i,r),v=function(M,P,V){const j=V.baseMutations.map(ye=>Zp(M.fe,ye)),X=V.mutations.map(ye=>Zp(M.fe,ye));return{userId:P,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:j,mutations:X}}(this.serializer,this.userId,p),C=[];let D=new _i((M,P)=>Kt(M.canonicalString(),P.canonicalString()));for(const M of r){const P=Yb(this.userId,M.key.path,f);D=D.add(M.key.path.popLast()),C.push(l.put(v)),C.push(s.put(P,BN))}return D.forEach(M=>{C.push(this.indexManager.addToCollectionParentIndex(e,M))}),e.addOnCommittedListener(()=>{this.Vn[f]=p.keys()}),ie.waitFor(C).next(()=>p)})}lookupMutationBatch(e,t){return bd(e).get(t).next(i=>i?(yt(i.userId===this.userId),Mf(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?ie.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return bd(e).X({index:"userMutationsIndex",range:r},(l,f,p)=>{f.userId===this.userId&&(yt(f.batchId>=i),s=Mf(this.serializer,f)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return bd(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bd(e).j("userMutationsIndex",t).next(i=>i.map(r=>Mf(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Kb(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return Of(e).X({range:r},(l,f,p)=>{const[v,C,D]=l,M=zc(C);if(v===this.userId&&t.path.isEqual(M))return bd(e).get(D).next(P=>{if(!P)throw lt();yt(P.userId===this.userId),s.push(Mf(this.serializer,P))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new _i(Kt);const r=[];return t.forEach(s=>{const l=Kb(this.userId,s.path),f=IDBKeyRange.lowerBound(l),p=Of(e).X({range:f},(v,C,D)=>{const[M,P,V]=v,j=zc(P);M===this.userId&&s.path.isEqual(j)?i=i.add(V):D.done()});r.push(p)}),ie.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=Kb(this.userId,i),l=IDBKeyRange.lowerBound(s);let f=new _i(Kt);return Of(e).X({range:l},(p,v,C)=>{const[D,M,P]=p,V=zc(M);D===this.userId&&i.isPrefixOf(V)?V.length===r&&(f=f.add(P)):C.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(bd(e).get(s).next(l=>{if(null===l)throw lt();yt(l.userId===this.userId),i.push(Mf(this.serializer,l))}))}),ie.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return AA(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ie.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ie.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Of(e).X({range:i},(s,l,f)=>{if(s[0]===this.userId){const p=zc(s[1]);r.push(p)}else f.done()}).next(()=>{yt(0===r.length)})})}containsKey(e,t){return kA(e,this.userId,t)}xn(e){return MA(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kA(n,e,t){const i=Kb(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return Of(n).X({range:s,Y:!0},(f,p,v)=>{const[C,D,M]=f;C===e&&D===r&&(l=!0),v.done()}).next(()=>l)}function bd(n){return Ur(n,"mutations")}function Of(n){return Ur(n,"documentMutations")}function MA(n){return Ur(n,"mutationQueues")}class Pf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Pf(0)}static Mn(){return new Pf(-1)}}class RA{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new Pf(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>xt.fromTimestamp(new Qn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Jp(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(yt(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Jp(e).X((l,f)=>{const p=Tv(f);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>ie.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Jp(e).X((i,r)=>{const s=Tv(r);t(s)})}$n(e){return NA(e).get("targetGlobalKey").next(t=>(yt(null!==t),t))}On(e,t){return NA(e).put("targetGlobalKey",t)}Fn(e,t){return Jp(e).put(lO(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=ga(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Jp(e).X({range:r,index:"queryTargetsIndex"},(l,f,p)=>{const v=Tv(f);Nu(t,v.target)&&(s=v,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=Jc(e);return t.forEach(l=>{const f=Co(l.path);r.push(s.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,l))}),ie.waitFor(r)}removeMatchingKeys(e,t,i){const r=Jc(e);return ie.forEach(t,s=>{const l=Co(s.path);return ie.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=Jc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Jc(e);let s=nn();return r.X({range:i,Y:!0},(l,f,p)=>{const v=zc(l[1]),C=new Qe(v);s=s.add(C)}).next(()=>s)}containsKey(e,t){const i=Co(t.path),r=IDBKeyRange.bound([i],[xE(i)],!1,!0);let s=0;return Jc(e).X({index:"documentTargetsIndex",Y:!0,range:r},([l,f],p,v)=>{0!==l&&(s++,v.done())}).next(()=>s>0)}le(e,t){return Jp(e).get(t).next(i=>i?Tv(i):null)}}function Jp(n){return Ur(n,"targets")}function NA(n){return Ur(n,"targetGlobal")}function Jc(n){return Ur(n,"targetDocuments")}function fC([n,e],[t,i]){const r=Kt(n,t);return 0===r?Kt(e,i):r}class mC{constructor(e){this.Ln=e,this.buffer=new _i(fC),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();fC(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ve.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Au(i)?Ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Su(i)}yield t.Qn(3e5)}))}}class _O{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ie.resolve(Os.ct);const i=new mC(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(SA)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SA):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,s,l,f,p,v;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,l=Date.now(),this.nthSequenceNumber(e,r))).next(D=>(i=D,f=Date.now(),this.removeTargets(e,i,t))).next(D=>(s=D,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(D=>(v=Date.now(),Wb()<=ds.in.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-C}ms\n\tDetermined least recently used ${r} in `+(f-l)+`ms\n\tRemoved ${s} targets in `+(p-f)+`ms\n\tRemoved ${D} documents in `+(v-p)+`ms\nTotal Duration: ${v-C}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:D})))}}class OA{constructor(e,t){this.db=e,this.garbageCollector=function gC(n,e){return new _O(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return Nv(e,i)}removeReference(e,t,i){return Nv(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Nv(e,t)}Xn(e,t){return function(i,r){let s=!1;return MA(i).Z(l=>kA(i,l,r).next(f=>(f&&(s=!0),ie.resolve(!f)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(e,(l,f)=>{if(f<=t){const p=this.Xn(e,l).next(v=>{if(!v)return s++,i.getEntry(e,l).next(()=>(i.removeEntry(l,xt.min()),Jc(e).delete([0,Co(l.path)])))});r.push(p)}}).next(()=>ie.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Nv(e,t)}Yn(e,t){const i=Jc(e);let r,s=Os.ct;return i.X({index:"documentTargetsIndex"},([l,f],{path:p,sequenceNumber:v})=>{0===l?(s!==Os.ct&&t(new Qe(zc(r)),s),s=v,r=p):s=Os.ct}).next(()=>{s!==Os.ct&&t(new Qe(zc(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nv(n,e){return Jc(n).put((i=n.currentSequenceNumber,{targetId:0,path:Co(e.path),sequenceNumber:i}));var i}class _C{constructor(){this.changes=new za(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ie.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vO{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return wd(e).put(i)}removeEntry(e,t,i){return wd(e).delete(function(r,s){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Iv(s),l[l.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=hi.newInvalidDocument(t);return wd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(eg(t))},(r,s)=>{i=this.ts(t,s)}).next(()=>i)}es(e,t){let i={size:0,document:hi.newInvalidDocument(t)};return wd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(eg(t))},(r,s)=>{i={document:this.ts(t,s),size:T0(s)}}).next(()=>i)}getEntries(e,t){let i=$o();return this.ns(e,t,(r,s)=>{const l=this.ts(r,s);i=i.insert(r,l)}).next(()=>i)}ss(e,t){let i=$o(),r=new ui(Qe.comparator);return this.ns(e,t,(s,l)=>{const f=this.ts(s,l);i=i.insert(s,f),r=r.insert(s,T0(l))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return ie.resolve();let r=new _i(bC);t.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(eg(r.first()),eg(r.last())),l=r.getIterator();let f=l.getNext();return wd(e).X({index:"documentKeyIndex",range:s},(p,v,C)=>{const D=Qe.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&bC(f,D)<0;)i(f,null),f=l.getNext();f&&f.isEqual(D)&&(i(f,v),f=l.hasNext()?l.getNext():null),f?C.G(eg(f)):C.done()}).next(()=>{for(;f;)i(f,null),f=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const s=t.path,l=[s.popLast().toArray(),s.lastSegment(),Iv(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],f=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wd(e).j(IDBKeyRange.bound(l,f,!0)).next(p=>{let v=$o();for(const C of p){const D=this.ts(Qe.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);D.isFoundDocument()&&(s0(t,D)||r.has(D.key))&&(v=v.insert(D.key,D))}return v})}getAllFromCollectionGroup(e,t,i,r){let s=$o();const l=yC(t,i),f=yC(t,Oi.max());return wd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,f,!0)},(p,v,C)=>{const D=this.ts(Qe.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);s=s.insert(D.key,D),s.size===r&&C.done()}).next(()=>s)}newChangeBuffer(e){return new PA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return S0(e).get("remoteDocumentGlobalKey").next(t=>(yt(!!t),t))}Zn(e,t){return S0(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function yA(n,e){let t;if(e.document)t=rC(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Qe.fromSegments(e.noDocument.path),r=Bu(e.noDocument.readTime);t=hi.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return lt();{const i=Qe.fromSegments(e.unknownDocument.path),r=Bu(e.unknownDocument.version);t=hi.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Qn(i[0],i[1]);return xt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(xt.min()))return i}return hi.newInvalidDocument(e)}}function vC(n){return new vO(n)}class PA extends _C{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new za(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new _i((s,l)=>Kt(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const f=this.us.get(s);if(t.push(this.os.removeEntry(e,s,f.readTime)),l.isValidDocument()){const p=sC(this.os.serializer,l);r=r.add(s.path.popLast());const v=T0(p);i+=v-f.size,t.push(this.os.addEntry(e,s,p))}else if(i-=f.size,this.trackRemovals){const p=sC(this.os.serializer,l.convertToNoDocument(xt.min()));t.push(this.os.addEntry(e,s,p))}}),r.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,i)),ie.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((s,l)=>{this.us.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function S0(n){return Ur(n,"remoteDocumentGlobal")}function wd(n){return Ur(n,"remoteDocumentsV14")}function eg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function yC(n,e){const t=e.documentKey.path.toArray();return[n,Iv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function bC(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=Kt(t[s],i[s]),r)return r;return r=Kt(t.length,i.length),r||(r=Kt(t[t.length-2],i[i.length-2]),r||Kt(t[t.length-1],i[i.length-1]))}class FA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class wC{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&gv(i.mutation,r,no.empty(),Qn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,nn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=nn()){const r=_a();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let l=Qc();return s.forEach((f,p)=>{l=l.insert(f,p.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=_a();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,nn()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((l,f)=>{t.set(l,f)})})}computeViews(e,t,i,r){let s=$o();const l=Up(),f=Up();return t.forEach((p,v)=>{const C=i.get(v.key);r.has(v.key)&&(void 0===C||C.mutation instanceof Xc)?s=s.insert(v.key,v):void 0!==C?(l.set(v.key,C.mutation.getFieldMask()),gv(C.mutation,v,C.mutation.getFieldMask(),Qn.now())):l.set(v.key,no.empty())}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((v,C)=>l.set(v,C)),t.forEach((v,C)=>{var D;return f.set(v,new FA(C,null!==(D=l.get(v))&&void 0!==D?D:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Up();let r=new ui((l,f)=>l-f),s=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const f of l)f.keys().forEach(p=>{const v=t.get(p);if(null===v)return;let C=i.get(p)||no.empty();C=f.applyToLocalView(v,C),i.set(p,C);const D=(r.get(f.batchId)||nn()).add(p);r=r.insert(f.batchId,D)})}).next(()=>{const l=[],f=r.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),v=p.key,C=p.value,D=XE();C.forEach(M=>{if(!s.has(M)){const P=nA(t.get(M),i.get(M));null!==P&&D.set(M,P),s=s.add(M)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,D))}return ie.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Qe.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):qE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):ie.resolve(_a());let f=-1,p=s;return l.next(v=>ie.forEach(v,(C,D)=>(f<D.largestBatchId&&(f=D.largestBatchId),s.get(C)?ie.resolve():this.remoteDocumentCache.getEntry(e,C).next(M=>{p=p.insert(C,M)}))).next(()=>this.populateOverlays(e,v,s)).next(()=>this.computeViews(e,p,v,nn())).next(C=>({batchId:f,changes:a0(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qe(t)).next(i=>{let r=Qc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=Qc();return this.indexManager.getCollectionParents(e,r).next(l=>ie.forEach(l,f=>{const p=(v=t,C=f.child(r),new Kc(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,C;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(v=>{v.forEach((C,D)=>{s=s.insert(C,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((f,p)=>{const v=p.getKey();null===s.get(v)&&(s=s.insert(v,hi.newInvalidDocument(v)))});let l=Qc();return s.forEach((f,p)=>{const v=r.get(f);void 0!==v&&gv(v.mutation,p,no.empty(),Qn.now()),s0(t,p)&&(l=l.insert(f,p))}),l})}}class LA{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ie.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:ir(i.createTime)}),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:bA(i.bundledQuery),readTime:ir(i.readTime)}),ie.resolve();var i}}class VA{constructor(){this.overlays=new ui(Qe.comparator),this.ls=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const i=_a();return ie.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.we(e,t,s)}),ie.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),ie.resolve()}getOverlaysForCollection(e,t,i){const r=_a(),s=t.length+1,l=new Qe(t.child("")),f=this.overlays.getIteratorFrom(l);for(;f.hasNext();){const p=f.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return ie.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new ui((v,C)=>v-C);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let C=s.get(v.largestBatchId);null===C&&(C=_a(),s=s.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const f=_a(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,C)=>f.set(v,C)),!(f.size()>=r)););return ie.resolve(f)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Lu(t,i));let s=this.ls.get(t);void 0===s&&(s=nn(),this.ls.set(t,s)),this.ls.set(t,s.add(i.key))}}class A0{constructor(){this.fs=new _i(Hr.ds),this.ws=new _i(Hr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Hr(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Hr(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Qe(new Tn([])),i=new Hr(t,e),r=new Hr(t,e+1),s=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),s.push(l.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Qe(new Tn([])),i=new Hr(t,e),r=new Hr(t,e+1);let s=nn();return this.ws.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new Hr(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Hr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Qe.comparator(e.key,t.key)||Kt(e.As,t.As)}static _s(e,t){return Kt(e.As,t.As)||Qe.comparator(e.key,t.key)}}class BA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new _i(Hr.ds)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.vs;this.vs++;const l=new If(s,t,i,r);this.mutationQueue.push(l);for(const f of r)this.Rs=this.Rs.add(new Hr(f.key,s)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,t){return ie.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),s=r<0?0:r;return ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Hr(t,0),r=new Hr(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],l=>{const f=this.Ps(l.As);s.push(f)}),ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new _i(Kt);return t.forEach(r=>{const s=new Hr(r,0),l=new Hr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,l],f=>{i=i.add(f.As)})}),ie.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Qe.isDocumentKey(s)||(s=s.child(""));const l=new Hr(new Qe(s),0);let f=new _i(Kt);return this.Rs.forEachWhile(p=>{const v=p.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(f=f.add(p.As)),!0)},l),ie.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){yt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ie.forEach(t.mutations,r=>{const s=new Hr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Hr(t,0),r=this.Rs.firstAfterOrEqual(i);return ie.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ie.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class yO{constructor(e){this.Ds=e,this.docs=new ui(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,l=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ie.resolve(i?i.document.mutableCopy():hi.newInvalidDocument(t))}getEntries(e,t){let i=$o();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():hi.newInvalidDocument(r))}),ie.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=$o();const l=t.path,f=new Qe(l.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:v,value:{document:C}}=p.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||Zb(ma(C),i)<=0||(r.has(C.key)||s0(t,C))&&(s=s.insert(C.key,C.mutableCopy()))}return ie.resolve(s)}getAllFromCollectionGroup(e,t,i,r){lt()}Cs(e,t){return ie.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new bO(this)}getSize(e){return ie.resolve(this.size)}}class bO extends _C{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),ie.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class wO{constructor(e){this.persistence=e,this.xs=new za(t=>ga(t),Nu),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new A0,this.targetCount=0,this.Ms=Pf.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),ie.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Pf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Fn(t),ie.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.xs.forEach((l,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.xs.delete(l),s.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),ie.waitFor(s).next(()=>r)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return ie.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),ie.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(l=>{s.push(r.markPotentiallyOrphaned(e,l))}),ie.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return ie.resolve(i)}containsKey(e,t){return ie.resolve(this.ks.containsKey(t))}}class xC{constructor(e,t){this.$s={},this.overlays={},this.Os=new Os(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new wO(this),this.indexManager=new TA,this.remoteDocumentCache=new yO(i=>this.referenceDelegate.Ls(i)),this.serializer=new vA(t),this.qs=new LA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new BA(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Ne("MemoryPersistence","Starting transaction:",e);const r=new xO(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,t){return ie.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class xO extends AS{constructor(e){super(),this.currentSequenceNumber=e}}class k0{constructor(e){this.persistence=e,this.Qs=new A0,this.js=null}static zs(e){return new k0(e)}get Ws(){if(this.js)return this.js;throw lt()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),ie.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Ws,i=>{const r=Qe.fromPath(i);return this.Hs(e,r).next(s=>{s||t.removeEntry(r,xt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ie.or([()=>ie.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class EO{constructor(e){this.serializer=e}O(e,t,i,r){const s=new Sp("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",NS,{unique:!0}),f.createObjectStore("documentMutations"),UA(e),function(f){f.createObjectStore("remoteDocuments")}(e));let l=ie.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),UA(e)),l=l.next(()=>function(f){const p=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",v)}(s))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(f,p){return p.store("mutations").j().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",NS,{unique:!0});const C=p.store("mutations"),D=v.map(M=>C.put(M));return ie.waitFor(D)})}(e,s))),l=l.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(l=l.next(()=>this.Ys(s))),i<6&&r>=6&&(l=l.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),i<7&&r>=7&&(l=l.next(()=>this.Zs(s))),i<8&&r>=8&&(l=l.next(()=>this.ti(e,s))),i<9&&r>=9&&(l=l.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(l=l.next(()=>this.ei(s))),i<11&&r>=11&&(l=l.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(l=l.next(()=>{!function(f){const p=f.createObjectStore("documentOverlays",{keyPath:sv});p.createIndex("collectionPathOverlayIndex",SE,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",Qb,{unique:!1})}(e)})),i<13&&r>=13&&(l=l.next(()=>function(f){const p=f.createObjectStore("remoteDocumentsV14",{keyPath:yV});p.createIndex("documentKeyIndex",bV),p.createIndex("collectionGroupIndex",UN)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.si(e,s))),i<15&&r>=15&&(l=l.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:zN}).createIndex("sequenceNumberIndex",$N,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:GN}).createIndex("documentKeyIndex",DE,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=T0(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>ie.forEach(r,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",l).next(f=>ie.forEach(f,p=>{yt(p.userId===s.userId);const v=Mf(this.serializer,p);return AA(e,s.userId,v).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((l,f)=>{const p=new Tn(l),v=[0,Co(p)];s.push(t.get(v).next(C=>C?ie.resolve():t.put({targetId:0,path:Co(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ie.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:xV});const i=t.store("collectionParents"),r=new hC,s=l=>{if(r.add(l)){const f=l.lastSegment(),p=l.popLast();return i.put({collectionId:f,parent:Co(p)})}};return t.store("remoteDocuments").X({Y:!0},(l,f)=>{const p=new Tn(l);return s(p.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,f,p],v)=>{const C=zc(f);return s(C.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const s=Tv(r),l=lO(this.serializer,s);return t.put(l)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((s,l)=>{const f=t.store("remoteDocumentsV14"),p=(v=l,v.document?new Qe(Tn.fromString(v.document.name).popFirst(5)):v.noDocument?Qe.fromSegments(v.noDocument.path):v.unknownDocument?Qe.fromSegments(v.unknownDocument.path):lt()).path.toArray();var v;const C={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(f.put(C))}).next(()=>ie.waitFor(r))}si(e,t){const i=t.store("mutations"),r=vC(this.serializer),s=new xC(k0.zs,this.serializer.fe);return i.j().next(l=>{const f=new Map;return l.forEach(p=>{var v;let C=null!==(v=f.get(p.userId))&&void 0!==v?v:nn();Mf(this.serializer,p).keys().forEach(D=>C=C.add(D)),f.set(p.userId,C)}),ie.forEach(f,(p,v)=>{const C=new Ir(v),D=Dv.de(this.serializer,C),M=s.getIndexManager(C),P=D0.de(C,this.serializer,M,s.referenceDelegate);return new wC(r,P,D,M).recalculateAndSaveOverlaysForDocumentKeys(new Xb(t,Os.ct),p).next()})})}}function UA(n){n.createObjectStore("targetDocuments",{keyPath:wV}).createIndex("documentTargetsIndex",HN,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jN,{unique:!0}),n.createObjectStore("targetGlobal")}const R0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class N0{constructor(e,t,i,r,s,l,f,p,v,C,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=s,this.window=l,this.document=f,this.ri=v,this.oi=C,this.ui=D,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=M=>Promise.resolve(),!N0.D())throw new Se(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new OA(this,r),this.di=t+"main",this.serializer=new vA(p),this.wi=new Ho(this.di,this.ui,new EO(this.serializer)),this.Bs=new RA(this.referenceDelegate,this.serializer),this.remoteDocumentCache=vC(this.serializer),this.qs=new x0,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===C&&ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(ce.FAILED_PRECONDITION,R0);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Os(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,ve.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ve.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ov(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Au(e))return Ne("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return tg(e).get("owner").next(t=>ie.resolve(this.Ri(t)))}Pi(e){return Ov(e).delete(this.clientId)}bi(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Ur(i,"clientMetadata");return r.j().next(s=>{const l=e.Si(s,18e5),f=s.filter(p=>-1===l.indexOf(p));return ie.forEach(f,p=>r.delete(p.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ie.resolve(!0):tg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Se(ce.FAILED_PRECONDITION,R0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ov(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ne("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Xb(t,Os.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Ov(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return D0.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new gO(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Dv.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){Ne("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(l=this.ui)?cv:14===l?OS:13===l?kE:12===l?av:11===l?AE:void lt();var l;let f;return this.wi.runTransaction(e,r,s,p=>(f=new Xb(p,this.Os?this.Os.next():Os.ct),"readwrite-primary"===t?this.Ti(f).next(v=>!!v||this.Ei(f)).next(v=>{if(!v)throw ji(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Se(ce.FAILED_PRECONDITION,CE);return i(f)}).next(v=>this.vi(f).next(()=>v)):this.Oi(f).next(()=>i(f)))).then(p=>(f.raiseOnCommittedEvent(),p))}Oi(e){return tg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Se(ce.FAILED_PRECONDITION,R0)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tg(e).put("owner",t)}static D(){return Ho.D()}Ai(e){const t=tg(e);return t.get("owner").next(i=>this.Ri(i)?(Ne("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ie.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(ji(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,F.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ne("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ji("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){ji("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function tg(n){return Ur(n,"owner")}function Ov(n){return Ur(n,"clientMetadata")}function O0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class P0{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=nn(),r=nn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new P0(e,t.fromCache,i,r)}}class EC{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(s=>s||this.Gi(e,t,r,i)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(GE(t))return ie.resolve(null);let i=zo(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Lp(t,null,"F"),i=zo(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const l=nn(...s);return this.Ui.getDocuments(e,l).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const v=this.ji(t,f);return this.zi(t,v,l,p.readTime)?this.Ki(e,Lp(t,null,"F")):this.Wi(e,v,t,p)}))})))}Gi(e,t,i,r){return GE(t)||r.isEqual(xt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(s=>{const l=this.ji(t,s);return this.zi(t,l,i,r)?this.Qi(e,t):(Wb()<=ds.in.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),KE(t)),this.Wi(e,l,t,ja(r,-1)))})}ji(e,t){let i=new _i(fv(e));return t.forEach((r,s)=>{s0(e,s)&&(i=i.add(s))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,t){return Wb()<=ds.in.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",KE(t)),this.Ui.getDocumentsMatchingQuery(e,t,Oi.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}class jA{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new ui(Kt),this.Yi=new za(s=>ga(s),Nu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wC(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function CC(n,e,t,i){return new jA(n,e,t,i)}function IC(n,e){return F0.apply(this,arguments)}function F0(){return F0=(0,ve.Z)(function*(n,e){const t=Ze(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],f=[];let p=nn();for(const v of r){l.push(v.batchId);for(const C of v.mutations)p=p.add(C.key)}for(const v of s){f.push(v.batchId);for(const C of v.mutations)p=p.add(C.key)}return t.localDocuments.getDocuments(i,p).next(v=>({er:v,removedBatchIds:l,addedBatchIds:f}))})})}),F0.apply(this,arguments)}function HA(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Pv(n,e,t){let i=nn(),r=nn();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let l=$o();return t.forEach((f,p)=>{const v=s.get(f);p.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(f)),p.isNoDocument()&&p.version.isEqual(xt.min())?(e.removeEntry(f,p.readTime),l=l.insert(f,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||0===p.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(p),l=l.insert(f,p)):Ne("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",p.version)}),{nr:l,sr:r}})}function zA(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ju(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(s=>s?(r=s,ie.resolve(r)):t.Bs.allocateTargetId(i).next(l=>(r=new vd(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function Ff(n,e,t){return L0.apply(this,arguments)}function L0(){return L0=(0,ve.Z)(function*(n,e,t){const i=Ze(n),r=i.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Au(l))throw l;Ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),L0.apply(this,arguments)}function Fv(n,e,t){const i=Ze(n);let r=xt.min(),s=nn();return i.persistence.runTransaction("Execute query","readonly",l=>function(f,p,v){const C=Ze(f),D=C.Yi.get(v);return void 0!==D?ie.resolve(C.Ji.get(D)):C.Bs.getTargetData(p,v)}(i,l,zo(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,f.targetId).next(p=>{s=p})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,e,t?r:xt.min(),t?s:nn())).next(f=>(AC(i,WS(e),f),{documents:f,ir:s})))}function DC(n,e){const t=Ze(n),i=Ze(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.le(s,e).next(l=>l?l.target:null))}function SC(n,e){const t=Ze(n),i=t.Xi.get(e)||xt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,ja(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(AC(t,e,r),r))}function AC(n,e,t){let i=n.Xi.get(e)||xt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(e,i)}function Lv(){return Lv=(0,ve.Z)(function*(n,e,t,i){const r=Ze(n);let s=nn(),l=$o();for(const v of t){const C=e.rr(v.metadata.name);v.document&&(s=s.add(C));const D=e.ur(v);D.setReadTime(e.cr(v.metadata.readTime)),l=l.insert(C,D)}const f=r.Zi.newChangeBuffer({trackRemovals:!0}),p=yield ju(r,(v=i,zo(Pu(Tn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>Pv(v,f,l).next(C=>(f.apply(v),C)).next(C=>r.Bs.removeMatchingKeysForTargetId(v,p.targetId).next(()=>r.Bs.addMatchingKeys(v,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,C.nr,C.sr)).next(()=>C.nr)))}),Lv.apply(this,arguments)}function kC(n,e){return V0.apply(this,arguments)}function V0(){return V0=(0,ve.Z)(function*(n,e,t=nn()){const i=yield ju(n,zo(bA(e.bundledQuery))),r=Ze(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const l=ir(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.qs.saveNamedQuery(s,e);const f=i.withResumeToken(Tr.EMPTY_BYTE_STRING,l);return r.Ji=r.Ji.insert(f.targetId,f),r.Bs.updateTargetData(s,f).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,t,i.targetId)).next(()=>r.qs.saveNamedQuery(s,e))})}),V0.apply(this,arguments)}function B0(n,e){return`firestore_clients_${n}_${e}`}function $A(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function MC(n,e){return`firestore_targets_${n}_${e}`}class ng{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let s,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new Se(r.error.code,r.error.message))),l?new ng(e,t,r.state,s):(ji("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vv{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Se(i.error.code,i.error.message))),s?new Vv(e,i.state,r):(ji("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=c0();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=MS(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return r?new Bv(e,s):(ji("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class xd{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new xd(t.clientId,t.onlineState):(ji("SharedClientState",`Failed to parse online state: ${e}`),null)}}class U0{constructor(){this.activeTargetIds=c0()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RC{constructor(e,t,i,r,s){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ui(Kt),this.started=!1,this.yr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=B0(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new U0),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const s=e.getItem(B0(e.persistenceKey,r));if(s){const l=Bv.ar(r,s);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(MC(this.persistenceKey,e));if(i){const r=Vv.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(MC(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ne("SharedClientState","READ",e,t),t}setItem(e,t){Ne("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ne("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ne("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void ji("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(s){let l=Os.ct;if(null!=s)try{const f=JSON.parse(s);yt("number"==typeof f),l=f}catch(f){ji("SharedClientState","Failed to read sequence number from WebStorage",f)}return l}(i.newValue);r!==Os.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new ng(this.currentUser,e,t,i),s=$A(this.persistenceKey,this.currentUser,e);this.setItem(s,r.hr())}Cr(e){const t=$A(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=MC(this.persistenceKey,e),s=new Vv(e,t,i);this.setItem(r,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return Bv.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return ng.ar(new Ir(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return Vv.ar(r,t)}br(e){return xd.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ne("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),s=this.Sr(i),l=[],f=[];return s.forEach(p=>{r.has(p)||l.push(p)}),r.forEach(p=>{s.has(p)||f.push(p)}),this.syncEngine.Wr(l,f).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=c0();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class TO{constructor(){this.Hr=new U0,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new U0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class NC{Yr(e){}shutdown(){}}class j0{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let H0=null;function z0(){return null===H0?H0=268435456+Math.round(2147483648*Math.random()):H0++,"0x"+H0.toString(16)}const GA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DO{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const io="WebChannelConnection";class SO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,s){const l=z0(),f=this.To(e,t);Ne("RestConnection",`Sending RPC '${e}' ${l}:`,f,i);const p={};return this.Eo(p,r,s),this.Ao(e,f,p,i).then(v=>(Ne("RestConnection",`Received RPC '${e}' ${l}: `,v),v),v=>{throw jo("RestConnection",`RPC '${e}' ${l} failed with error: `,v,"url: ",f,"request:",i),v})}vo(e,t,i,r,s,l){return this.Io(e,t,i,r,s)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+ff,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,t){return`${this.mo}/v1/${t}:${GA[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const s=z0();return new Promise((l,f)=>{const p=new Ip;p.setWithCredentials(!0),p.listenOnce(xp.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Du.NO_ERROR:const C=p.getResponseJson();Ne(io,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(C)),l(C);break;case Du.TIMEOUT:Ne(io,`RPC '${e}' ${s} timed out`),f(new Se(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const D=p.getStatus();if(Ne(io,`RPC '${e}' ${s} failed with status:`,D,"response text:",p.getResponseText()),D>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const P=M?.error;if(P&&P.status&&P.message){const V=function(j){const X=j.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(X)>=0?X:ce.UNKNOWN}(P.status);f(new Se(V,P.message))}else f(new Se(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Se(ce.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Ne(io,`RPC '${e}' ${s} completed.`)}});const v=JSON.stringify(r);Ne(io,`RPC '${e}' ${s} sending request:`,r),p.send(t,"POST",v,i,15)})}Ro(e,t,i){const r=z0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=vE(),f=wp(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.xmlHttpFactory=new Cp({})),this.Eo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const C=s.join("");Ne(io,`Creating RPC '${e}' stream ${r}: ${C}`,p);const D=l.createWebChannel(C,p);let M=!1,P=!1;const V=new DO({ro:X=>{P?Ne(io,`Not sending because RPC '${e}' stream ${r} is closed:`,X):(M||(Ne(io,`Opening RPC '${e}' stream ${r} transport.`),D.open(),M=!0),Ne(io,`RPC '${e}' stream ${r} sending:`,X),D.send(X))},oo:()=>D.close()}),j=(X,ye,Pe)=>{X.listen(ye,De=>{try{Pe(De)}catch(Be){setTimeout(()=>{throw Be},0)}})};return j(D,hd.EventType.OPEN,()=>{P||Ne(io,`RPC '${e}' stream ${r} transport opened.`)}),j(D,hd.EventType.CLOSE,()=>{P||(P=!0,Ne(io,`RPC '${e}' stream ${r} transport closed`),V.wo())}),j(D,hd.EventType.ERROR,X=>{P||(P=!0,jo(io,`RPC '${e}' stream ${r} transport errored:`,X),V.wo(new Se(ce.UNAVAILABLE,"The operation could not be completed")))}),j(D,hd.EventType.MESSAGE,X=>{var ye;if(!P){const Pe=X.data[0];yt(!!Pe);const Be=Pe.error||(null===(ye=Pe[0])||void 0===ye?void 0:ye.error);if(Be){Ne(io,`RPC '${e}' stream ${r} received error:`,Be);const Et=Be.status;let _t=function(Di){const gs=_r[Di];if(void 0!==gs)return f0(gs)}(Et),dn=Be.message;void 0===_t&&(_t=ce.INTERNAL,dn="Unknown error status: "+Et+" with message "+Be.message),P=!0,V.wo(new Se(_t,dn)),D.close()}else Ne(io,`RPC '${e}' stream ${r} received:`,Pe),V._o(Pe)}}),j(f,Ep.STAT_EVENT,X=>{X.stat===uf.PROXY?Ne(io,`RPC '${e}' stream ${r} detected buffering proxy`):X.stat===uf.NOPROXY&&Ne(io,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{V.fo()},0),V}}function qA(){return typeof window<"u"?window:null}function Lf(){return typeof document<"u"?document:null}function ig(n){return new cA(n,!0)}class Uv{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&Ne("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class OC{constructor(e,t,i,r,s,l,f,p){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Uv(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ve.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ve.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,ve.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===ce.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Se(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,ve.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WA extends OC{constructor(e,t,i,r,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function uA(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:lt(),r=e.targetChange.targetIds||[],s=function(p,v){return p.useProto3Json?(yt(void 0===v||"string"==typeof v),Tr.fromBase64String(v||"")):(yt(void 0===v||v instanceof Uint8Array),Tr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,f=l&&function(p){const v=void 0===p.code?ce.UNKNOWN:f0(p.code);return new Se(v,p.message||"")}(l);t=new eC(i,r,s,f||null)}else if("documentChange"in e){const i=e.documentChange,r=Fs(n,i.document.name),s=ir(i.document.updateTime),l=i.document.createTime?ir(i.document.createTime):xt.min(),f=new Dr({mapValue:{fields:i.document.fields}}),p=hi.newFoundDocument(r,s,l,f);t=new wv(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const i=e.documentDelete,r=Fs(n,i.document),s=i.readTime?ir(i.readTime):xt.min(),l=hi.newNoDocument(r,s);t=new wv([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=Fs(n,i.document);t=new wv([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return lt();{const i=e.filter,{count:r=0,unchangedNames:s}=i,l=new $p(r,s);t=new y0(i.targetId,l)}}var p;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return xt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?xt.min():s.readTime?ir(s.readTime):xt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Wp(this.serializer),t.addTarget=function(r,s){let l;const f=s.target;if(l=Ou(f)?{documents:hA(r,f)}:{query:Af(r,f)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=Df(r,s.resumeToken);const p=b0(r,s.expectedCount);null!==p&&(l.expectedCount=p)}else if(s.snapshotVersion.compareTo(xt.min())>0){l.readTime=xv(r,s.snapshotVersion.toTimestamp());const p=b0(r,s.expectedCount);null!==p&&(l.expectedCount=p)}return l}(this.serializer,e);const i=function cO(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Wp(this.serializer),t.removeTarget=e,this.Wo(t)}}class ZA extends OC{constructor(e,t,i,r,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function aO(n,e){return n&&n.length>0?(yt(void 0!==e),n.map(t=>function(i,r){let s=ir(i.updateTime?i.updateTime:r);return s.isEqual(xt.min())&&(s=ir(r)),new tO(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=ir(e.commitTime);return this.listener.cu(i,t)}return yt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Wp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Zp(this.serializer,i))};this.Wo(t)}}class KA extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Se(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Se(ce.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.vo(e,t,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(ce.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class kO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ji(t),this.mu=!1):Ne("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class MO{constructor(e,t,i,r,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(f=>{i.enqueueAndForget((0,ve.Z)(function*(){var p;Hu(l)&&(Ne("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,ve.Z)(function*(v){const C=Ze(v);C.vu.add(4),yield Vf(C),C.bu.set("Unknown"),C.vu.delete(4),yield rg(C)}),function(v){return p.apply(this,arguments)})(l))}))}),this.bu=new kO(i,r)}}function rg(n){return YA.apply(this,arguments)}function YA(){return YA=(0,ve.Z)(function*(n){if(Hu(n))for(const e of n.Ru)yield e(!0)}),YA.apply(this,arguments)}function Vf(n){return FC.apply(this,arguments)}function FC(){return FC=(0,ve.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),FC.apply(this,arguments)}function $0(n,e){const t=Ze(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),XA(t)?QA(t):tl(t).Ko()&&LC(t,e))}function G0(n,e){const t=Ze(n),i=tl(t);t.Au.delete(e),i.Ko()&&jv(t,e),0===t.Au.size&&(i.Ko()?i.jo():Hu(t)&&t.bu.set("Unknown"))}function LC(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tl(n).su(e)}function jv(n,e){n.Vu.qt(e),tl(n).iu(e)}function QA(n){n.Vu=new oO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),tl(n).start(),n.bu.gu()}function XA(n){return Hu(n)&&!tl(n).Uo()&&n.Au.size>0}function Hu(n){return 0===Ze(n).vu.size}function JA(n){n.Vu=void 0}function RO(n){return VC.apply(this,arguments)}function VC(){return VC=(0,ve.Z)(function*(n){n.Au.forEach((e,t)=>{LC(n,e)})}),VC.apply(this,arguments)}function NO(n,e){return BC.apply(this,arguments)}function BC(){return BC=(0,ve.Z)(function*(n,e){JA(n),XA(n)?(n.bu.Iu(e),QA(n)):n.bu.set("Unknown")}),BC.apply(this,arguments)}function OO(n,e,t){return UC.apply(this,arguments)}function UC(){return UC=(0,ve.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof eC&&2===e.state&&e.cause)try{yield(i=(0,ve.Z)(function*(r,s){const l=s.cause;for(const f of s.targetIds)r.Au.has(f)&&(yield r.remoteSyncer.rejectListen(f,l),r.Au.delete(f),r.Vu.removeTarget(f))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield q0(n,i)}else if(e instanceof wv?n.Vu.Ht(e):e instanceof y0?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(xt.min()))try{const i=yield HA(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const l=r.Vu.ce(s);return l.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=r.Au.get(p);v&&r.Au.set(p,v.withResumeToken(f.resumeToken,s))}}),l.targetMismatches.forEach((f,p)=>{const v=r.Au.get(f);if(!v)return;r.Au.set(f,v.withResumeToken(Tr.EMPTY_BYTE_STRING,v.snapshotVersion)),jv(r,f);const C=new vd(v.target,f,p,v.sequenceNumber);LC(r,C)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(i){Ne("RemoteStore","Failed to raise snapshot:",i),yield q0(n,i)}var i}),UC.apply(this,arguments)}function q0(n,e,t){return jC.apply(this,arguments)}function jC(){return jC=(0,ve.Z)(function*(n,e,t){if(!Au(e))throw e;n.vu.add(1),yield Vf(n),n.bu.set("Offline"),t||(t=()=>HA(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Ne("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield rg(n)}))}),jC.apply(this,arguments)}function ek(n,e){return e().catch(t=>q0(n,t,e))}function el(n){return W0.apply(this,arguments)}function W0(){return W0=(0,ve.Z)(function*(n){const e=Ze(n),t=zu(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;tk(e);)try{const r=yield zA(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,nk(e,r)}catch(r){yield q0(e,r)}HC(e)&&zC(e)}),W0.apply(this,arguments)}function tk(n){return Hu(n)&&n.Eu.length<10}function nk(n,e){n.Eu.push(e);const t=zu(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function HC(n){return Hu(n)&&!zu(n).Uo()&&n.Eu.length>0}function zC(n){zu(n).start()}function ik(n){return $C.apply(this,arguments)}function $C(){return $C=(0,ve.Z)(function*(n){zu(n).hu()}),$C.apply(this,arguments)}function DV(n){return rk.apply(this,arguments)}function rk(){return rk=(0,ve.Z)(function*(n){const e=zu(n);for(const t of n.Eu)e.uu(t.mutations)}),rk.apply(this,arguments)}function ok(n,e,t){return Z0.apply(this,arguments)}function Z0(){return Z0=(0,ve.Z)(function*(n,e,t){const i=n.Eu.shift(),r=_v.from(i,e,t);yield ek(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield el(n)}),Z0.apply(this,arguments)}function PO(n,e){return GC.apply(this,arguments)}function GC(){return GC=(0,ve.Z)(function*(n,e){var t;e&&zu(n).ou&&(yield(t=(0,ve.Z)(function*(i,r){if(vv(s=r.code)&&s!==ce.ABORTED){const l=i.Eu.shift();zu(i).Qo(),yield ek(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield el(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),HC(n)&&zC(n)}),GC.apply(this,arguments)}function sk(n,e){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,ve.Z)(function*(n,e){const t=Ze(n);t.asyncQueue.verifyOperationInProgress(),Ne("RemoteStore","RemoteStore received new credentials");const i=Hu(t);t.vu.add(3),yield Vf(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield rg(t)}),Bf.apply(this,arguments)}function qC(n,e){return og.apply(this,arguments)}function og(){return og=(0,ve.Z)(function*(n,e){const t=Ze(n);e?(t.vu.delete(2),yield rg(t)):e||(t.vu.add(2),yield Vf(t),t.bu.set("Unknown"))}),og.apply(this,arguments)}function tl(n){return n.Su||(n.Su=function(e,t,i){const r=Ze(e);return r.fu(),new WA(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:RO.bind(null,n),ao:NO.bind(null,n),nu:OO.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Su.Qo(),XA(n)?QA(n):n.bu.set("Unknown")):(yield n.Su.stop(),JA(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function zu(n){return n.Du||(n.Du=function(e,t,i){const r=Ze(e);return r.fu(),new ZA(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:ik.bind(null,n),ao:PO.bind(null,n),au:DV.bind(null,n),cu:ok.bind(null,n)}),n.Ru.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Du.Qo(),yield el(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ne("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class WC{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,i,r,s){const l=Date.now()+i,f=new WC(e,t,l,r,s);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(n,e){if(ji("AsyncQueue",`${e}: ${n}`),Au(n))return new Se(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Ed{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Qe.comparator(t.key,i.key):(t,i)=>Qe.comparator(t.key,i.key),this.keyedMap=Qc(),this.sortedSet=new ui(this.comparator)}static emptySet(e){return new Ed(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ed)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Ed;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class K0{constructor(){this.Cu=new ui(Qe.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):lt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class $u{constructor(e,t,i,r,s,l,f,p,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,r,s){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new $u(e,t,Ed.emptySet(t),l,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class ak{constructor(){this.Nu=void 0,this.listeners=[]}}class ZC{constructor(){this.queries=new za(e=>ZE(e),Vp),this.onlineState="Unknown",this.ku=new Set}}function Hv(n,e){return KC.apply(this,arguments)}function KC(){return KC=(0,ve.Z)(function*(n,e){const t=Ze(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new ak),r)try{s.Nu=yield t.onListen(i)}catch(l){const f=sg(l,`Initialization of query '${KE(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&zv(t)}),KC.apply(this,arguments)}function YC(n,e){return QC.apply(this,arguments)}function QC(){return QC=(0,ve.Z)(function*(n,e){const t=Ze(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),QC.apply(this,arguments)}function FO(n,e){const t=Ze(n);let i=!1;for(const r of e){const l=t.queries.get(r.query);if(l){for(const f of l.listeners)f.$u(r)&&(i=!0);l.Nu=r}}i&&zv(t)}function ck(n,e,t){const i=Ze(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function zv(n){n.ku.forEach(e=>{e.next()})}class Y0{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new $u(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=$u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class lk{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class XC{constructor(e){this.serializer=e}rr(e){return Fs(this.serializer,e)}ur(e){return e.metadata.exists?rC(this.serializer,e.document,!1):hi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return ir(e)}}class dk{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=uk(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=Tn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new XC(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const l of r.metadata.queries){const f=(t.get(l)||nn()).add(s);t.set(l,f)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function IO(n,e,t,i){return Lv.apply(this,arguments)}(e.localStore,new XC(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield kC(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function uk(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class JC{constructor(e){this.key=e}}class eI{constructor(e){this.key=e}}class hk{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=nn(),this.mutatedKeys=nn(),this.tc=fv(e),this.ec=new Ed(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new K0,r=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,l=r,f=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,D)=>{const M=r.get(C),P=s0(this.query,D)?D:null,V=!!M&&this.mutatedKeys.has(M.key),j=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let X=!1;M&&P?M.data.isEqual(P.data)?V!==j&&(i.track({type:3,doc:P}),X=!0):this.rc(M,P)||(i.track({type:2,doc:P}),X=!0,(p&&this.tc(P,p)>0||v&&this.tc(P,v)<0)&&(f=!0)):!M&&P?(i.track({type:0,doc:P}),X=!0):M&&!P&&(i.track({type:1,doc:M}),X=!0,(p||v)&&(f=!0)),X&&(P?(l=l.add(P),s=j?s.add(C):s.delete(C)):(l=l.delete(C),s=s.delete(C)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const C="F"===this.query.limitType?l.last():l.first();l=l.delete(C.key),s=s.delete(C.key),i.track({type:1,doc:C})}return{ec:l,ic:i,zi:f,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((v,C)=>function(D,M){const P=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return P(D)-P(M)}(v.type,C.type)||this.tc(v.doc,C.doc)),this.oc(i);const l=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,p=f!==this.Xu;return this.Xu=f,0!==s.length||p?{snapshot:new $u(this.query,e.ec,r,s,e.mutatedKeys,0===f,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new K0,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=nn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new eI(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new JC(i))}),t}hc(e){this.Yu=e.ir,this.Zu=nn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return $u.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class fk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class mk{constructor(e){this.key=e,this.fc=!1}}class LO{constructor(e,t,i,r,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new za(f=>ZE(f),Vp),this._c=new Map,this.mc=new Set,this.gc=new ui(Qe.comparator),this.yc=new Map,this.Ic=new A0,this.Tc={},this.Ec=new Map,this.Ac=Pf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function VO(n,e){return ro.apply(this,arguments)}function ro(){return ro=(0,ve.Z)(function*(n,e){const t=Ik(n);let i,r;const s=t.wc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const l=yield ju(t.localStore,zo(e)),f=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield Gu(t,e,i,"current"===f,l.resumeToken),t.isPrimaryClient&&$0(t.remoteStore,l)}return r}),ro.apply(this,arguments)}function Gu(n,e,t,i,r){return tI.apply(this,arguments)}function tI(){return tI=(0,ve.Z)(function*(n,e,t,i,r){n.Rc=(D,M,P)=>{return(V=(0,ve.Z)(function*(j,X,ye,Pe){let De=X.view.sc(ye);De.zi&&(De=yield Fv(j.localStore,X.query,!1).then(({documents:_t})=>X.view.sc(_t,De)));const Be=Pe&&Pe.targetChanges.get(X.targetId),Et=X.view.applyChanges(De,j.isPrimaryClient,Be);return X0(j,X.targetId,Et.cc),Et.snapshot}),function(j,X,ye,Pe){return V.apply(this,arguments)})(n,D,M,P);var V};const s=yield Fv(n.localStore,e,!0),l=new hk(e,s.ir),f=l.sc(s.documents),p=bv.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),v=l.applyChanges(f,n.isPrimaryClient,p);X0(n,t,v.cc);const C=new fk(e,t,l);return n.wc.set(e,C),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),tI.apply(this,arguments)}function BO(n,e){return pk.apply(this,arguments)}function pk(){return pk=(0,ve.Z)(function*(n,e){const t=Ze(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(s=>!Vp(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ff(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),G0(t.remoteStore,i.targetId),jf(t,i.targetId)}).catch(Su))):(jf(t,i.targetId),yield Ff(t.localStore,i.targetId,!0))}),pk.apply(this,arguments)}function Uf(){return Uf=(0,ve.Z)(function*(n,e,t){const i=nw(n);try{const r=yield function(s,l){const f=Ze(s),p=Qn.now(),v=l.reduce((M,P)=>M.add(P.key),nn());let C,D;return f.persistence.runTransaction("Locally write mutations","readwrite",M=>{let P=$o(),V=nn();return f.Zi.getEntries(M,v).next(j=>{P=j,P.forEach((X,ye)=>{ye.isValidDocument()||(V=V.add(X))})}).next(()=>f.localDocuments.getOverlayedDocuments(M,P)).next(j=>{C=j;const X=[];for(const ye of l){const Pe=iO(ye,C.get(ye.key).overlayedDocument);null!=Pe&&X.push(new Xc(ye.key,Pe,FE(Pe.value.mapValue),Ei.exists(!0)))}return f.mutationQueue.addMutationBatch(M,p,X,l)}).next(j=>{D=j;const X=j.applyToLocalDocumentSet(C,V);return f.documentOverlayCache.saveOverlays(M,j.batchId,X)})}).then(()=>({batchId:D.batchId,changes:a0(C)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,f){let p=s.Tc[s.currentUser.toKey()];p||(p=new ui(Kt)),p=p.insert(l,f),s.Tc[s.currentUser.toKey()]=p}(i,r.batchId,t),yield nl(i,r.changes),yield el(i.remoteStore)}catch(r){const s=sg(r,"Failed to persist write");t.reject(s)}}),Uf.apply(this,arguments)}function gk(n,e){return $v.apply(this,arguments)}function $v(){return $v=(0,ve.Z)(function*(n,e){const t=Ze(n);try{const i=yield function TC(n,e){const t=Ze(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const f=[];e.targetChanges.forEach((C,D)=>{const M=r.get(D);if(!M)return;f.push(t.Bs.removeMatchingKeys(s,C.removedDocuments,D).next(()=>t.Bs.addMatchingKeys(s,C.addedDocuments,D)));let P=M.withSequenceNumber(s.currentSequenceNumber);var V,j,X;null!==e.targetMismatches.get(D)?P=P.withResumeToken(Tr.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):C.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(C.resumeToken,i)),r=r.insert(D,P),j=P,X=C,(0===(V=M).resumeToken.approximateByteSize()||j.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(s,P))});let p=$o(),v=nn();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(s,C))}),f.push(Pv(s,l,e.documentUpdates).next(C=>{p=C.nr,v=C.sr})),!i.isEqual(xt.min())){const C=t.Bs.getLastRemoteSnapshotVersion(s).next(D=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));f.push(C)}return ie.waitFor(f).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,v)).next(()=>p)}).then(s=>(t.Ji=r,s))}(t.localStore,e);e.targetChanges.forEach((r,s)=>{const l=t.yc.get(s);l&&(yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?yt(l.fc):r.removedDocuments.size>0&&(yt(l.fc),l.fc=!1))}),yield nl(t,i,e)}catch(i){yield Su(i)}}),$v.apply(this,arguments)}function _k(n,e,t){const i=Ze(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((s,l)=>{const f=l.view.Mu(e);f.snapshot&&r.push(f.snapshot)}),function(s,l){const f=Ze(s);f.onlineState=l;let p=!1;f.queries.forEach((v,C)=>{for(const D of C.listeners)D.Mu(l)&&(p=!0)}),p&&zv(f)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function vk(n,e,t){return nI.apply(this,arguments)}function nI(){return nI=(0,ve.Z)(function*(n,e,t){const i=Ze(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),s=r&&r.key;if(s){let l=new ui(Qe.comparator);l=l.insert(s,hi.newNoDocument(s,xt.min()));const f=nn().add(s),p=new yv(xt.min(),new Map,new ui(Kt),l,f);yield gk(i,p),i.gc=i.gc.remove(s),i.yc.delete(e),oI(i)}else yield Ff(i.localStore,e,!1).then(()=>jf(i,e,t)).catch(Su)}),nI.apply(this,arguments)}function UO(n,e){return iI.apply(this,arguments)}function iI(){return iI=(0,ve.Z)(function*(n,e){const t=Ze(n),i=e.batch.batchId;try{const r=yield function CO(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,f,p,v){const C=p.batch,D=C.keys();let M=ie.resolve();return D.forEach(P=>{M=M.next(()=>v.getEntry(f,P)).next(V=>{const j=p.docVersions.get(P);yt(null!==j),V.version.compareTo(j)<0&&(C.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),v.addEntry(V)))})}),M.next(()=>l.mutationQueue.removeMutationBatch(f,C))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let f=nn();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(f=f.add(l.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);yk(t,i,null),Gv(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield nl(t,r)}catch(r){yield Su(r)}}),iI.apply(this,arguments)}function rI(n,e,t){return Q0.apply(this,arguments)}function Q0(){return Q0=(0,ve.Z)(function*(n,e,t){const i=Ze(n);try{const r=yield function(s,l){const f=Ze(s);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return f.mutationQueue.lookupMutationBatch(p,l).next(C=>(yt(null!==C),v=C.keys(),f.mutationQueue.removeMutationBatch(p,C))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,l)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>f.localDocuments.getDocuments(p,v))})}(i.localStore,e);yk(i,e,t),Gv(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield nl(i,r)}catch(r){yield Su(r)}}),Q0.apply(this,arguments)}function ag(){return ag=(0,ve.Z)(function*(n,e){const t=Ze(n);Hu(t.remoteStore)||Ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const l=Ze(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>l.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=sg(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),ag.apply(this,arguments)}function Gv(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function yk(n,e,t){const i=Ze(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function jf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||bk(n,i)})}function bk(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(G0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),oI(n))}function X0(n,e,t){for(const i of t)i instanceof JC?(n.Ic.addReference(i.key,e),cg(n,i)):i instanceof eI?(Ne("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||bk(n,i.key)):lt()}function cg(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Ne("SyncEngine","New document in limbo: "+t),n.mc.add(i),oI(n))}function oI(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Qe(Tn.fromString(e)),i=n.Ac.next();n.yc.set(i,new mk(t)),n.gc=n.gc.insert(t,i),$0(n.remoteStore,new vd(zo(Pu(t.path)),i,"TargetPurposeLimboResolution",Os.ct))}}function nl(n,e,t){return qv.apply(this,arguments)}function qv(){return qv=(0,ve.Z)(function*(n,e,t){const i=Ze(n),r=[],s=[],l=[];var f;i.wc.isEmpty()||(i.wc.forEach((f,p)=>{l.push(i.Rc(p,e,t).then(v=>{if((v||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const C=P0.Li(p.targetId,v);s.push(C)}}))}),yield Promise.all(l),i.dc.nu(r),yield(f=(0,ve.Z)(function*(p,v){const C=Ze(p);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>ie.forEach(v,M=>ie.forEach(M.Fi,P=>C.persistence.referenceDelegate.addReference(D,M.targetId,P)).next(()=>ie.forEach(M.Bi,P=>C.persistence.referenceDelegate.removeReference(D,M.targetId,P)))))}catch(D){if(!Au(D))throw D;Ne("LocalStore","Failed to update sequence numbers: "+D)}for(const D of v){const M=D.targetId;if(!D.fromCache){const P=C.Ji.get(M),j=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);C.Ji=C.Ji.insert(M,j)}}}),function(p,v){return f.apply(this,arguments)})(i.localStore,s))}),qv.apply(this,arguments)}function AV(n,e){return sI.apply(this,arguments)}function sI(){return sI=(0,ve.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){Ne("SyncEngine","User change. New user:",e.toKey());const i=yield IC(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(l=>{l.forEach(f=>{f.reject(new Se(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield nl(t,i.er)}var r}),sI.apply(this,arguments)}function HO(n,e){const t=Ze(n),i=t.yc.get(e);if(i&&i.fc)return nn().add(i.key);{let r=nn();const s=t._c.get(e);if(!s)return r;for(const l of s){const f=t.wc.get(l);r=r.unionWith(f.view.nc)}return r}}function zO(n,e){return J0.apply(this,arguments)}function J0(){return J0=(0,ve.Z)(function*(n,e){const t=Ze(n),i=yield Fv(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&X0(t,e.targetId,r.cc),r}),J0.apply(this,arguments)}function wk(n,e){return aI.apply(this,arguments)}function aI(){return aI=(0,ve.Z)(function*(n,e){const t=Ze(n);return SC(t.localStore,e).then(i=>nl(t,i))}),aI.apply(this,arguments)}function xk(n,e,t,i){return ew.apply(this,arguments)}function ew(){return ew=(0,ve.Z)(function*(n,e,t,i){const r=Ze(n),s=yield function(l,f){const p=Ze(l),v=Ze(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",C=>v.Sn(C,f).next(D=>D?p.localDocuments.getDocuments(C,D):ie.resolve(null)))}(r.localStore,e);var f;null!==s?("pending"===t?yield el(r.remoteStore):"acknowledged"===t||"rejected"===t?(yk(r,e,i||null),Gv(r,e),f=e,Ze(Ze(r.localStore).mutationQueue).Cn(f)):lt(),yield nl(r,s)):Ne("SyncEngine","Cannot apply mutation batch with id: "+e)}),ew.apply(this,arguments)}function cI(){return cI=(0,ve.Z)(function*(n,e){const t=Ze(n);if(Ik(t),nw(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield lI(t,i.toArray());t.vc=!0,yield qC(t.remoteStore,!0);for(const s of r)$0(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(jf(t,l),Ff(t.localStore,l,!0))),G0(t.remoteStore,l)}),yield r,yield lI(t,i),function(s){const l=Ze(s);l.yc.forEach((f,p)=>{G0(l.remoteStore,p)}),l.Ic.Ts(),l.yc=new Map,l.gc=new ui(Qe.comparator)}(t),t.vc=!1,yield qC(t.remoteStore,!1)}}),cI.apply(this,arguments)}function lI(n,e,t){return dI.apply(this,arguments)}function dI(){return dI=(0,ve.Z)(function*(n,e,t){const i=Ze(n),r=[],s=[];for(const l of e){let f;const p=i._c.get(l);if(p&&0!==p.length){f=yield ju(i.localStore,zo(p[0]));for(const v of p){const C=i.wc.get(v),D=yield zO(i,C);D.snapshot&&s.push(D.snapshot)}}else{const v=yield DC(i.localStore,l);f=yield ju(i.localStore,v),yield Gu(i,uI(v),l,!1,f.resumeToken)}r.push(f)}return i.dc.nu(s),r}),dI.apply(this,arguments)}function uI(n){return hv(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Ek(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).$i()}function Ck(n,e,t,i){return tw.apply(this,arguments)}function tw(){return tw=(0,ve.Z)(function*(n,e,t,i){const r=Ze(n);if(r.vc)return void Ne("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=yield SC(r.localStore,WS(s[0])),f=yv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Tr.EMPTY_BYTE_STRING);yield nl(r,l,f);break}case"rejected":yield Ff(r.localStore,e,!0),jf(r,e,i);break;default:lt()}}),tw.apply(this,arguments)}function GO(n,e,t){return hI.apply(this,arguments)}function hI(){return hI=(0,ve.Z)(function*(n,e,t){const i=Ik(n);if(i.vc){for(const r of e){if(i._c.has(r)){Ne("SyncEngine","Adding an already active target "+r);continue}const s=yield DC(i.localStore,r),l=yield ju(i.localStore,s);yield Gu(i,uI(s),l.targetId,!1,l.resumeToken),$0(i.remoteStore,l)}for(const r of t)i._c.has(r)&&(yield Ff(i.localStore,r,!1).then(()=>{G0(i.remoteStore,r),jf(i,r)}).catch(Su))}}),hI.apply(this,arguments)}function Ik(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vk.bind(null,e),e.dc.nu=FO.bind(null,e.eventManager),e.dc.Pc=ck.bind(null,e.eventManager),e}function nw(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rI.bind(null,e),e}class iw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.serializer=ig(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return CC(this.persistence,new EC,e.initialUser,this.serializer)}createPersistence(e){return new xC(k0.zs,this.serializer)}createSharedClientState(e){return new TO}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Tk extends iw{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield nw(i.Vc.syncEngine),yield el(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return CC(this.persistence,new EC,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new pC(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new kS(t,this.persistence);return new LN(e.asyncQueue,i)}createPersistence(e){const t=O0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Io.withCacheSize(this.cacheSizeBytes):Io.DEFAULT;return new N0(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,qA(),Lf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new TO}}class qO extends Tk{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof RC&&(i.sharedClientState.syncEngine={jr:xk.bind(null,r),zr:Ck.bind(null,r),Wr:GO.bind(null,r),$i:Ek.bind(null,r),Qr:wk.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,ve.Z)(function*(l){yield function $O(n,e){return cI.apply(this,arguments)}(i.Vc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=qA();if(!RC.D(t))throw new Se(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=O0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new RC(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Wv{initialize(e,t){var i=this;return(0,ve.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>_k(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=AV.bind(null,i.syncEngine),yield qC(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ZC}createDatastore(e){const t=ig(e.databaseInfo.databaseId),i=new SO(e.databaseInfo);return new KA(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=f=>_k(this.syncEngine,f,0),l=j0.D()?new j0:new NC,new MO(t,i,r,s,l);var t,i,r,s,l}createSyncEngine(e,t){return function(i,r,s,l,f,p,v){const C=new LO(i,r,s,l,f,p);return v&&(C.vc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const i=Ze(t);Ne("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Vf(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function WO(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class fI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Dk{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new nr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const s=yield e.$c(r);return new lk(JSON.parse(s),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ve.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class ZO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Se(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ve.Z)(function*(s,l){const f=Ze(s),p=Wp(f.serializer)+"/documents",v={documents:l.map(P=>Ev(f.serializer,P))},C=yield f.vo("BatchGetDocuments",p,v,l.length),D=new Map;C.forEach(P=>{const V=function dA(n,e){return"found"in e?function(t,i){yt(!!i.found);const r=Fs(t,i.found.name),s=ir(i.found.updateTime),l=i.found.createTime?ir(i.found.createTime):xt.min(),f=new Dr({mapValue:{fields:i.found.fields}});return hi.newFoundDocument(r,s,l,f)}(n,e):"missing"in e?function(t,i){yt(!!i.missing),yt(!!i.readTime);const r=Fs(t,i.missing),s=ir(i.readTime);return hi.newNoDocument(r,s)}(n,e):lt()}(f.serializer,P);D.set(V.key.toString(),V)});const M=[];return l.forEach(P=>{const V=D.get(P.toString());yt(!!V),M.push(V)}),M}),function(s,l){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=Qe.fromPath(r);e.mutations.push(new h0(s,e.precondition(s)))}),yield(i=(0,ve.Z)(function*(r,s){const l=Ze(r),f=Wp(l.serializer)+"/documents",p={writes:s.map(v=>Zp(l.serializer,v))};yield l.Io("Commit",f,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lt();t=xt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Se(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(xt.min())?Ei.exists(!1):Ei.updateTime(t):Ei.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xt.min()))throw new Se(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ei.updateTime(t)}return Ei.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class RV{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new Uv(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ve.Z)(function*(){const t=new ZO(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Uc(s)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!rv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!vv(t)}return!1}}class Sk{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ir.UNAUTHENTICATED,this.clientId=wE.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,ve.Z)(function*(f){Ne("FirestoreClient","Received user=",f.uid),yield s.authCredentialListener(f),s.user=f});return function(f){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(Ne("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=sg(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function rw(n,e){return mI.apply(this,arguments)}function mI(){return mI=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ne("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ve.Z)(function*(s){i.isEqual(s)||(yield IC(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),mI.apply(this,arguments)}function pI(n,e){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield gI(n);Ne("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>sk(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>sk(e.remoteStore,s)),n._onlineComponents=e}),Ak.apply(this,arguments)}function Zv(n){return"FirebaseError"===n.name?n.code===ce.FAILED_PRECONDITION||n.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function gI(n){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,ve.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ne("FirestoreClient","Using user provided OfflineComponentProvider");try{yield rw(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!Zv(t))throw t;jo("Error using user provided cache. Falling back to memory cache: "+t),yield rw(n,new iw)}}else Ne("FirestoreClient","Using default OfflineComponentProvider"),yield rw(n,new iw);return n._offlineComponents}),Hf.apply(this,arguments)}function zf(n){return _I.apply(this,arguments)}function _I(){return _I=(0,ve.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ne("FirestoreClient","Using user provided OnlineComponentProvider"),yield pI(n,n._uninitializedComponentsProvider._online)):(Ne("FirestoreClient","Using default OnlineComponentProvider"),yield pI(n,new Wv))),n._onlineComponents}),_I.apply(this,arguments)}function kk(n){return gI(n).then(e=>e.persistence)}function ow(n){return gI(n).then(e=>e.localStore)}function Mk(n){return zf(n).then(e=>e.remoteStore)}function vI(n){return zf(n).then(e=>e.syncEngine)}function lg(n){return sw.apply(this,arguments)}function sw(){return sw=(0,ve.Z)(function*(n){const e=yield zf(n),t=e.eventManager;return t.onListen=VO.bind(null,e.syncEngine),t.onUnlisten=BO.bind(null,e.syncEngine),t}),sw.apply(this,arguments)}function Nk(n,e,t={}){const i=new nr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,s,l,f,p){const v=new fI({next:D=>{s.enqueueAndForget(()=>YC(r,C));const M=D.docs.has(l);!M&&D.fromCache?p.reject(new Se(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&D.fromCache&&f&&"server"===f.source?p.reject(new Se(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),C=new Y0(Pu(l.path),v,{includeMetadataChanges:!0,Ku:!0});return Hv(r,C)}(yield lg(n),n.asyncQueue,e,t,i)})),i.promise}function Ok(n,e,t={}){const i=new nr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,s,l,f,p){const v=new fI({next:D=>{s.enqueueAndForget(()=>YC(r,C)),D.fromCache&&"server"===f.source?p.reject(new Se(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),C=new Y0(l,v,{includeMetadataChanges:!0,Ku:!0});return Hv(r,C)}(yield lg(n),n.asyncQueue,e,t,i)})),i.promise}function Pk(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Fk=new Map;function yI(n,e,t){if(!t)throw new Se(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bI(n,e,t,i){if(!0===e&&!0===i)throw new Se(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function aw(n){if(!Qe.isDocumentKey(n))throw new Se(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Lk(n){if(Qe.isDocumentKey(n))throw new Se(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":lt()}function gn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cw(n);throw new Se(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Vk(n,e){if(e<=0)throw new Se(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class wI{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Se(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Se(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Pk(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lw{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Se(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wI(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new _V;switch(t.type){case"firstParty":return new MN(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Se(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Fk.get(e);t&&(Ne("ComponentProvider","Removing Datastore"),Fk.delete(e),t.terminate())}(this),Promise.resolve()}}class fi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fi(this.firestore,e,this._key)}}class zr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new zr(this.firestore,e,this._query)}}class il extends zr{constructor(e,t,i){super(e,t,Pu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fi(this.firestore,null,new Qe(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function xI(n,e,...t){if(n=(0,F.m9)(n),yI("collection","path",e),n instanceof lw){const i=Tn.fromString(e,...t);return Lk(i),new il(n,null,i)}{if(!(n instanceof fi||n instanceof il))throw new Se(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tn.fromString(e,...t));return Lk(i),new il(n.firestore,null,i)}}function dg(n,e,...t){if(n=(0,F.m9)(n),1===arguments.length&&(e=wE.A()),yI("doc","path",e),n instanceof lw){const i=Tn.fromString(e,...t);return aw(i),new fi(n,null,new Qe(i))}{if(!(n instanceof fi||n instanceof il))throw new Se(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tn.fromString(e,...t));return aw(i),new fi(n.firestore,n instanceof il?n.converter:null,new Qe(i))}}function EI(n,e){return n=(0,F.m9)(n),e=(0,F.m9)(e),(n instanceof fi||n instanceof il)&&(e instanceof fi||e instanceof il)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Kv(n,e){return n=(0,F.m9)(n),e=(0,F.m9)(e),n instanceof zr&&e instanceof zr&&n.firestore===e.firestore&&Vp(n._query,e._query)&&n.converter===e.converter}class CI{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Uv(this,"async_queue_retry"),this.Xc=()=>{const t=Lf();t&&Ne("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Lf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Lf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new nr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ve.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Au(t))throw t;Ne("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,ji("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=WC.createAndSchedule(this,e,t,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&lt()}verifyOperationInProgress(){}sa(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function II(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class NV{constructor(){this._progressObserver={},this._taskCompletionResolver=new nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class vi extends lw{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new CI,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qu(this),this._firestoreClient.terminate()}}function $i(n){return n._firestoreClient||qu(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function qu(n){var e,t,i;const r=n._freezeSettings(),s=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new WN(n._databaseId,f,n._persistenceKey,(v=r).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Pk(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;n._firestoreClient=new Sk(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function Yv(n,e,t){const i=new nr;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield rw(n,t),yield pI(n,e),i.resolve()}catch(r){const s=r;if(!Zv(s))throw s;jo("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function $k(n){if(n._initialized||n._terminated)throw new Se(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class rl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rl(Tr.fromBase64String(e))}catch(t){throw new Se(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new rl(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Se(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $f{constructor(e){this._methodName=e}}class ug{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const Gk=/^__.*__$/;class Zu{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Xc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ef(e,this.data,t,this.fieldTransforms)}}class TI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Xc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class Xv{constructor(e,t,i,r,s,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Xv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return _w(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(qk(this.ca)&&Gk.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Wk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ig(e)}ya(e,t,i,r=!1){return new Xv({ca:e,methodName:t,ga:i,path:Ni.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gf(n){const e=n._freezeSettings(),t=ig(n._databaseId);return new Wk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hg(n,e,t,i,r,s={}){const l=n.ya(s.merge||s.mergeFields?2:0,e,t,r);Yk("Data must be an object, but it was:",l,i);const f=dP(i,l);let p,v;if(s.merge)p=new no(l.fieldMask),v=l.fieldTransforms;else if(s.mergeFields){const C=[];for(const D of s.mergeFields){const M=Jv(e,D,t);if(!l.contains(M))throw new Se(ce.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);DI(C,M)||C.push(M)}p=new no(C),v=l.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,v=l.fieldTransforms;return new Zu(new Dr(f),p,v)}class hw extends $f{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hw}}function Zk(n,e,t){return new Xv({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class fw extends $f{_toFieldTransform(e){return new pv(e.path,new Hp)}isEqual(e){return e instanceof fw}}class cP extends $f{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Zk(this,e,!0),i=this.pa.map(s=>fg(s,t)),r=new Fu(i);return new pv(e.path,r)}isEqual(e){return this===e}}class FV extends $f{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=Zk(this,e,!0),i=this.pa.map(s=>fg(s,t)),r=new xf(i);return new pv(e.path,r)}isEqual(e){return this===e}}class LV extends $f{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new zp(e.serializer,QS(e.serializer,this.Ia));return new pv(e.path,t)}isEqual(e){return this===e}}function Kk(n,e,t,i){const r=n.ya(1,e,t);Yk("Data must be an object, but it was:",r,i);const s=[],l=Dr.empty();Ha(i,(p,v)=>{const C=gw(e,p,t);v=(0,F.m9)(v);const D=r.da(C);if(v instanceof hw)s.push(C);else{const M=fg(v,D);null!=M&&(s.push(C),l.set(C,M))}});const f=new no(s);return new TI(l,f,r.fieldTransforms)}function mw(n,e,t,i,r,s){const l=n.ya(1,e,t),f=[Jv(e,i,t)],p=[r];if(s.length%2!=0)throw new Se(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<s.length;M+=2)f.push(Jv(e,s[M])),p.push(s[M+1]);const v=[],C=Dr.empty();for(let M=f.length-1;M>=0;--M)if(!DI(v,f[M])){const P=f[M];let V=p[M];V=(0,F.m9)(V);const j=l.da(P);if(V instanceof hw)v.push(P);else{const X=fg(V,j);null!=X&&(v.push(P),C.set(P,X))}}const D=new no(v);return new TI(C,D,l.fieldTransforms)}function lP(n,e,t,i=!1){return fg(t,n.ya(i?4:3,e))}function fg(n,e){if(uP(n=(0,F.m9)(n)))return Yk("Unsupported field value:",e,n),dP(n,e);if(n instanceof $f)return function(t,i){if(!qk(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const l of t){let f=fg(l,i.wa(s));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,F.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return QS(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Qn.fromDate(t);return{timestampValue:xv(i.serializer,r)}}if(t instanceof Qn){const r=new Qn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:xv(i.serializer,r)}}if(t instanceof ug)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rl)return{bytesValue:Df(i.serializer,t._byteString)};if(t instanceof fi){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:nC(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${cw(t)}`)}(n,e)}function dP(n,e){const t={};return PS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(n,(i,r)=>{const s=fg(r,e.ha(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function uP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qn||n instanceof ug||n instanceof rl||n instanceof fi||n instanceof $f)}function Yk(n,e,t){if(!uP(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=cw(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Jv(n,e,t){if((e=(0,F.m9)(e))instanceof Wu)return e._internalPath;if("string"==typeof e)return gw(n,e);throw _w("Field path arguments must be of type string or ",n,!1,void 0,t)}const pw=new RegExp("[~\\*/\\[\\]]");function gw(n,e,t){if(e.search(pw)>=0)throw _w(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wu(...e.split("."))._internalPath}catch{throw _w(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _w(n,e,t,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(s||l)&&(p+=" (found",s&&(p+=` in field ${i}`),l&&(p+=` in document ${r}`),p+=")"),new Se(ce.INVALID_ARGUMENT,f+n+p)}function DI(n,e){return n.some(t=>t.isEqual(e))}class $a{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qk extends $a{data(){return super.data()}}function mg(n,e){return"string"==typeof e?gw(n,e):e instanceof Wu?e._internalPath:e._delegate._internalPath}function vw(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Se(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SI{}class qf extends SI{}function ol(n,e,...t){let i=[];e instanceof SI&&i.push(e),i=i.concat(t),function(r){const s=r.filter(f=>f instanceof ey).length,l=r.filter(f=>f instanceof Ku).length;if(s>1||s>0&&l>0)throw new Se(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Ku extends qf{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Ku(e,t,i)}_apply(e){const t=this._parse(e);return MI(e._query,t),new zr(e.firestore,e.converter,WE(e._query,t))}_parse(e){const t=Gf(e.firestore);return function(r,s,l,f,p,v,C){let D;if(p.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Se(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){kI(C,v);const M=[];for(const P of C)M.push(Jk(f,r,P));D={arrayValue:{values:M}}}else D=Jk(f,r,C)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||kI(C,v),D=lP(l,"where",C,"in"===v||"not-in"===v);return mn.create(p,v,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class ey extends SI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ey(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Xn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const l=r.getFlattenedFilters();for(const f of l)MI(s,f),s=WE(s,f)}(e._query,t),new zr(e.firestore,e.converter,WE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class AI extends qf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new AI(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Se(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Se(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new Np(r,s);return function(f,p){if(null===Fp(f)){const v=Yc(f);null!==v&&xw(0,v,p.field)}}(i,l),l}(e._query,this._field,this._direction);return new zr(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Kc(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Gi extends qf{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Gi(e,t,i)}_apply(e){return new zr(e.firestore,e.converter,Lp(e._query,this._limit,this._limitType))}}class Wf extends qf{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Wf(e,t,i)}_apply(e){const t=ww(e,this.type,this._docOrFields,this._inclusive);return new zr(e.firestore,e.converter,(r=t,new Kc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class bw extends qf{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new bw(e,t,i)}_apply(e){const t=ww(e,this.type,this._docOrFields,this._inclusive);return new zr(e.firestore,e.converter,(r=t,new Kc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function ww(n,e,t,i){if(t[0]=(0,F.m9)(t[0]),t[0]instanceof $a)return function(r,s,l,f,p){if(!f)throw new Se(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const C of jr(r))if(C.field.isKeyField())v.push(pa(s,f.key));else{const D=f.data.field(C.field);if(t0(D))throw new Se(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const M=C.field.canonicalString();throw new Se(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}v.push(D)}return new Ru(v,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Gf(n.firestore);return function(s,l,f,p,v,C){const D=s.explicitOrderBy;if(v.length>D.length)throw new Se(ce.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let P=0;P<v.length;P++){const V=v[P];if(D[P].field.isKeyField()){if("string"!=typeof V)throw new Se(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof V}`);if(!qE(s)&&-1!==V.indexOf("/"))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${V}' contains a slash.`);const j=s.path.child(Tn.fromString(V));if(!Qe.isDocumentKey(j))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const X=new Qe(j);M.push(pa(l,X))}else{const j=lP(f,p,V);M.push(j)}}return new Ru(M,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function Jk(n,e,t){if("string"==typeof(t=(0,F.m9)(t))){if(""===t)throw new Se(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qE(e)&&-1!==t.indexOf("/"))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Tn.fromString(t));if(!Qe.isDocumentKey(i))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return pa(n,new Qe(i))}if(t instanceof fi)return pa(n,t._key);throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cw(t)}.`)}function kI(n,e){if(!Array.isArray(n)||0===n.length)throw new Se(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MI(n,e){if(e.isInequality()){const i=Yc(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=Fp(n);null!==s&&xw(0,r,s)}const t=function(i,r){for(const s of i)for(const l of s.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Se(ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function xw(n,e,t){if(!t.isEqual(e))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class NI{convertValue(e,t="none"){switch(Wc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ha(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new ug(Hi(e.latitude),Hi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=n0(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Mp(e));default:return null}}convertTimestamp(e){const t=Gc(e);return new Qn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Tn.fromString(e);yt(_A(i));const r=new Mu(i.get(1),i.get(3)),s=new Qe(i.popFirst(5));return r.isEqual(t)||ji(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Ew(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class eM extends NI{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fi(this.firestore,null,t)}}class Yu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qu extends $a{constructor(e,t,i,r,s,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(mg("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Tw extends Qu{data(e={}){return super.data(e)}}class Zf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Tw(this._firestore,this._userDataWriter,i.key,i,new Yu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new Tw(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Yu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const f=new Tw(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Yu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,v=-1;return 0!==l.type&&(p=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),v=s.indexOf(l.doc.key)),{type:fP(l.type),doc:f,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function tM(n,e){return n instanceof Qu&&e instanceof Qu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zf&&e instanceof Zf&&n._firestore===e._firestore&&Kv(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Cd extends NI{constructor(e){super(),this.firestore=e}convertBytes(e){return new rl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fi(this.firestore,null,t)}}function mP(n,e,t){n=gn(n,fi);const i=gn(n.firestore,vi),r=Ew(n.converter,e,t);return iy(i,[hg(Gf(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Ei.none())])}function nM(n,e,t,...i){n=gn(n,fi);const r=gn(n.firestore,vi),s=Gf(r);let l;return l="string"==typeof(e=(0,F.m9)(e))||e instanceof Wu?mw(s,"updateDoc",n._key,e,t,i):Kk(s,"updateDoc",n._key,e),iy(r,[l.toMutation(n._key,Ei.exists(!0))])}function iM(n,...e){var t,i,r;n=(0,F.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||II(e[l])||(s=e[l],l++);const f={includeMetadataChanges:s.includeMetadataChanges};if(II(e[l])){const D=e[l];e[l]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[l+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),e[l+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let p,v,C;if(n instanceof fi)v=gn(n.firestore,vi),C=Pu(n._key.path),p={next:D=>{e[l]&&e[l](Dw(v,n,D))},error:e[l+1],complete:e[l+2]};else{const D=gn(n,zr);v=gn(D.firestore,vi),C=D._query;const M=new Cd(v);p={next:P=>{e[l]&&e[l](new Zf(v,M,D,P))},error:e[l+1],complete:e[l+2]},vw(n._query)}return function(D,M,P,V){const j=new fI(V),X=new Y0(M,j,P);return D.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return Hv(yield lg(D),X)})),()=>{j.Dc(),D.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return YC(yield lg(D),X)}))}}($i(v),C,f,p)}function iy(n,e){return function(t,i){const r=new nr;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function SV(n,e,t){return Uf.apply(this,arguments)}(yield vI(t),i,r)})),r.promise}($i(n),e)}function Dw(n,e,t){const i=t.docs.get(e._key),r=new Cd(n);return new Qu(n,r,e._key,i,new Yu(t.hasPendingWrites,t.fromCache),e.converter)}const aM={maxAttempts:5};class cM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Gf(e)}set(e,t,i){this._verifyNotCommitted();const r=Id(e,this._firestore),s=Ew(r.converter,t,i),l=hg(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,Ei.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Id(e,this._firestore);let l;return l="string"==typeof(t=(0,F.m9)(t))||t instanceof Wu?mw(this._dataReader,"WriteBatch.update",s._key,t,i,r):Kk(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,Ei.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Id(e,this._firestore);return this._mutations=this._mutations.concat(new Cf(t._key,Ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Id(n,e){if((n=(0,F.m9)(n)).firestore!==e)throw new Se(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class lM extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Gf(e)}get(e){const t=Id(e,this._firestore),i=new eM(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return lt();const s=r[0];if(s.isFoundDocument())return new $a(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new $a(this._firestore,i,t._key,null,t.converter);throw lt()})}set(e,t,i){const r=Id(e,this._firestore),s=Ew(r.converter,t,i),l=hg(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(e,t,i,...r){const s=Id(e,this._firestore);let l;return l="string"==typeof(t=(0,F.m9)(t))||t instanceof Wu?mw(this._dataReader,"Transaction.update",s._key,t,i,r):Kk(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=Id(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Id(e,this._firestore),i=new Cd(this._firestore);return super.get(e).then(r=>new Qu(this._firestore,i,t._key,r._document,new Yu(!1,!1),t.converter))}}function mM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Se("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function pM(){if(typeof Uint8Array>"u")throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function EP(){if(!function EV(){return typeof atob<"u"}())throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ff=_u.SDK_VERSION,(0,_u._registerComponent)(new ha.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),l=new vi(new kN(t.getProvider("auth-internal")),new SS(t.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Se(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(f.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,_u.registerVersion)(yE,"3.13.0",n),(0,_u.registerVersion)(yE,"3.13.0","esm2017")}();class ry{constructor(e){this._delegate=e}static fromBase64String(e){return EP(),new ry(rl.fromBase64String(e))}static fromUint8Array(e){return pM(),new ry(rl.fromUint8Array(e))}toBase64(){return EP(),this._delegate.toBase64()}toUint8Array(){return pM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function gM(n){return function rB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class CP{enableIndexedDbPersistence(e,t){return function dw(n,e){$k(n=gn(n,vi));const t=$i(n);if(t._uninitializedComponentsProvider)throw new Se(ce.FAILED_PRECONDITION,"SDK cache is already specified.");jo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Wv;return Yv(t,r,new Tk(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function jk(n){$k(n=gn(n,vi));const e=$i(n);if(e._uninitializedComponentsProvider)throw new Se(ce.FAILED_PRECONDITION,"SDK cache is already specified.");jo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new Wv;return Yv(e,i,new qO(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function oP(n){if(n._initialized&&!n._terminated)throw new Se(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new nr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(i){if(!Ho.D())return Promise.resolve();const r=i+"main";yield Ho.delete(r)}),function(i){return t.apply(this,arguments)})(O0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class _M{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&jo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function Bk(n,e,t,i={}){var r;const s=(n=gn(n,lw))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==l&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),i.mockUserToken){let f,p;if("string"==typeof i.mockUserToken)f=i.mockUserToken,p=Ir.MOCK_USER;else{f=(0,F.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Se(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ir(v)}n._authCredentials=new AN(new SN(f,p))}}(this._delegate,e,t,i)}enableNetwork(){return function OV(n){return function KO(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield kk(n),t=yield Mk(n);return e.setNetworkEnabled(!0),function(i){const r=Ze(i);return r.vu.delete(0),rg(r)}(t)}))}($i(n=gn(n,vi)))}(this._delegate)}disableNetwork(){return function Hk(n){return function YO(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield kk(n),t=yield Mk(n);return e.setNetworkEnabled(!1),(i=(0,ve.Z)(function*(r){const s=Ze(r);s.vu.add(0),yield Vf(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}($i(n=gn(n,vi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,bI("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function sP(n){return function(e){const t=new nr;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function jO(n,e){return ag.apply(this,arguments)}(yield vI(e),t)})),t.promise}($i(n=gn(n,vi)))}(this._delegate)}onSnapshotsInSync(e){return function rM(n,e){return function JO(n,e){const t=new fI(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield lg(n),r=t,Ze(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield lg(n),r=t,void Ze(i).ku.delete(r);var i,r}))}}($i(n=gn(n,vi)),II(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new a(this,xI(this._delegate,e))}catch(t){throw fs(t,"collection()","Firestore.collection()")}}doc(e){try{return new va(this,dg(this._delegate,e))}catch(t){throw fs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qo(this,function iP(n,e){if(n=gn(n,lw),yI("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Se(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zr(n,null,(t=e,new Kc(Tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw fs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function nB(n,e,t){n=gn(n,vi);const i=Object.assign(Object.assign({},aM),t);return function(r){if(r.maxAttempts<1)throw new Se(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,l){const f=new nr;return r.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const p=yield function Rk(n){return zf(n).then(e=>e.datastore)}(r);new RV(r.asyncQueue,p,l,s,f).run()})),f.promise}($i(n),r=>e(new lM(n,r)),i)}(this._delegate,t=>e(new IP(this,t)))}batch(){return $i(this._delegate),new TP(new cM(this._delegate,e=>iy(this._delegate,e)))}loadBundle(e){return function aP(n,e){const t=$i(n=gn(n,vi)),i=new NV;return function eP(n,e,t,i){const r=function(s,l){let f;return f="string"==typeof s?sA().encode(s):s,p=function(p,v){if(p instanceof Uint8Array)return WO(p,v);if(p instanceof ArrayBuffer)return WO(new Uint8Array(p),v);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new Dk(p,l);var p}(t,ig(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function kV(n,e,t){const i=Ze(n);var r;(r=(0,ve.Z)(function*(s,l,f){try{const p=yield l.getMetadata();if(yield function(M,P){const V=Ze(M),j=ir(P.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",X=>V.qs.getBundleMetadata(X,P.id)).then(X=>!!X&&X.createTime.compareTo(j)>=0)}(s.localStore,p))return yield l.close(),f._completeWith({taskState:"Success",documentsLoaded:(M=p).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);f._updateProgress(uk(p));const v=new dk(p,s.localStore,l.serializer);let C=yield l.bc();for(;C;){const M=yield v.zu(C);M&&f._updateProgress(M),C=yield l.bc()}const D=yield v.complete();return yield nl(s,D.Ju,void 0),yield function(M,P){const V=Ze(M);return V.persistence.runTransaction("Save bundle","readwrite",j=>V.qs.saveBundleMetadata(j,P))}(s.localStore,p),f._completeWith(D.progress),Promise.resolve(D.Hu)}catch(p){return jo("SyncEngine",`Loading bundle failed with ${p}`),f._failWith(p),Promise.resolve(new Set)}var M}),function(s,l,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield vI(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function zk(n,e){return function tP(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,i){const r=Ze(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield ow(n),e)}))}($i(n=gn(n,vi)),e).then(t=>t?new zr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new qo(this,t):null)}}class LI extends NI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ry(new rl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return va.forKey(t,this.firestore,null)}}class IP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new LI(e)}get(e){const t=c(e);return this._delegate.get(t).then(i=>new Aw(this._firestore,new Qu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=c(e);return i?(mM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=c(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=c(e);return this._delegate.delete(t),this}}class TP{constructor(e){this._delegate=e}set(e,t,i){const r=c(e);return i?(mM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=c(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=c(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class pg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Tw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new kw(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=pg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new pg(e,new LI(e),t),r.set(t,s)),s}}pg.INSTANCES=new WeakMap;class va{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new LI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new va(t,new fi(t._delegate,i,new Qe(e)))}static forKey(e,t,i){return new va(t,new fi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new a(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new a(this.firestore,xI(this._delegate,e))}catch(t){throw fs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,F.m9)(e))instanceof fi&&EI(this._delegate,e)}set(e,t){t=mM("DocumentReference.set",t);try{return t?mP(this._delegate,e,t):mP(this._delegate,e)}catch(i){throw fs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?nM(this._delegate,e):nM(this._delegate,e,t,...i)}catch(r){throw fs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function KV(n){return iy(gn(n.firestore,vi),[new Cf(n._key,Ei.none())])}(this._delegate)}onSnapshot(...e){const t=DP(e),i=SP(e,r=>new Aw(this.firestore,new Qu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return iM(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function OI(n){n=gn(n,fi);const e=gn(n.firestore,vi),t=$i(e),i=new Cd(e);return function QO(n,e){const t=new nr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,s,l){try{const f=yield function(p,v){const C=Ze(p);return C.persistence.runTransaction("read document","readonly",D=>C.localDocuments.getDocument(D,v))}(r,s);f.isFoundDocument()?l.resolve(f):f.isNoDocument()?l.resolve(null):l.reject(new Se(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const p=sg(f,`Failed to get document '${s} from cache`);l.reject(p)}}),function(r,s,l){return i.apply(this,arguments)})(yield ow(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Qu(e,i,n._key,r,new Yu(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function qV(n){n=gn(n,fi);const e=gn(n.firestore,vi);return Nk($i(e),n._key,{source:"server"}).then(t=>Dw(e,n,t))}(this._delegate):function GV(n){n=gn(n,fi);const e=gn(n.firestore,vi);return Nk($i(e),n._key).then(t=>Dw(e,n,t))}(this._delegate),t.then(i=>new Aw(this.firestore,new Qu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new va(this.firestore,this._delegate.withConverter(e?pg.getInstance(this.firestore,e):null))}}function fs(n,e,t){return n.message=n.message.replace(e,t),n}function DP(n){for(const e of n)if("object"==typeof e&&!gM(e))return e;return{}}function SP(n,e){var t,i;let r;return r=gM(n[0])?n[0]:gM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Aw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return tM(this._delegate,e._delegate)}}class kw extends Aw{data(e){const t=this._delegate.data(e);return function bE(n,e){n||lt()}(void 0!==t),t}}class qo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new LI(e)}where(e,t,i){try{return new qo(this.firestore,ol(this._delegate,function VV(n,e,t){const i=e,r=mg("where",n);return Ku._create(r,i,t)}(e,t,i)))}catch(r){throw fs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new qo(this.firestore,ol(this._delegate,function UV(n,e="asc"){const t=e,i=mg("orderBy",n);return AI._create(i,t)}(e,t)))}catch(i){throw fs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new qo(this.firestore,ol(this._delegate,function ty(n){return Vk("limit",n),Gi._create("limit",n,"F")}(e)))}catch(t){throw fs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new qo(this.firestore,ol(this._delegate,function yw(n){return Vk("limitToLast",n),Gi._create("limitToLast",n,"L")}(e)))}catch(t){throw fs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new qo(this.firestore,ol(this._delegate,function Xk(...n){return Wf._create("startAt",n,!0)}(...e)))}catch(t){throw fs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new qo(this.firestore,ol(this._delegate,function jV(...n){return Wf._create("startAfter",n,!1)}(...e)))}catch(t){throw fs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new qo(this.firestore,ol(this._delegate,function HV(...n){return bw._create("endBefore",n,!1)}(...e)))}catch(t){throw fs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new qo(this.firestore,ol(this._delegate,function zV(...n){return bw._create("endAt",n,!0)}(...e)))}catch(t){throw fs(t,"endAt()","Query.endAt()")}}isEqual(e){return Kv(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function WV(n){n=gn(n,zr);const e=gn(n.firestore,vi),t=$i(e),i=new Cd(e);return function XO(n,e){const t=new nr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,s,l){try{const f=yield Fv(r,s,!0),p=new hk(s,f.ir),v=p.sc(f.documents),C=p.applyChanges(v,!1);l.resolve(C.snapshot)}catch(f){const p=sg(f,`Failed to execute query '${s} against cache`);l.reject(p)}}),function(r,s,l){return i.apply(this,arguments)})(yield ow(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Zf(e,i,n,r))}(this._delegate):"server"===e?.source?function ZV(n){n=gn(n,zr);const e=gn(n.firestore,vi),t=$i(e),i=new Cd(e);return Ok(t,n._query,{source:"server"}).then(r=>new Zf(e,i,n,r))}(this._delegate):function PI(n){n=gn(n,zr);const e=gn(n.firestore,vi),t=$i(e),i=new Cd(e);return vw(n._query),Ok(t,n._query).then(r=>new Zf(e,i,n,r))}(this._delegate),t.then(i=>new o(this.firestore,new Zf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=DP(e),i=SP(e,r=>new o(this.firestore,new Zf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return iM(this._delegate,t,i)}withConverter(e){return new qo(this.firestore,this._delegate.withConverter(e?pg.getInstance(this.firestore,e):null))}}class sB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new kw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class o{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new qo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new kw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new sB(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new kw(this._firestore,i))})}isEqual(e){return tM(this._delegate,e._delegate)}}class a extends qo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new va(this.firestore,e):null}doc(e){try{return new va(this.firestore,void 0===e?dg(this._delegate):dg(this._delegate,e))}catch(t){throw fs(t,"doc()","CollectionReference.doc()")}}add(e){return function YV(n,e){const t=gn(n.firestore,vi),i=dg(n),r=Ew(n.converter,e);return iy(t,[hg(Gf(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ei.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new va(this.firestore,t))}isEqual(e){return EI(this._delegate,e._delegate)}withConverter(e){return new a(this.firestore,this._delegate.withConverter(e?pg.getInstance(this.firestore,e):null))}}function c(n){return gn(n,fi)}class u{constructor(...e){this._delegate=new Wu(...e)}static documentId(){return new u(Ni.keyField().canonicalString())}isEqual(e){return(e=(0,F.m9)(e))instanceof Wu&&this._delegate._internalPath.isEqual(e._internalPath)}}class h{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Sw(){return new fw("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new h(e)}static delete(){const e=function bP(){return new hw("deleteField")}();return e._methodName="FieldValue.delete",new h(e)}static arrayUnion(...e){const t=function dM(...n){return new cP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new h(t)}static arrayRemove(...e){const t=function uM(...n){return new FV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new h(t)}static increment(e){const t=function wP(n){return new LV("increment",n)}(e);return t._methodName="FieldValue.increment",new h(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const m={Firestore:_M,GeoPoint:ug,Timestamp:Qn,Blob:ry,Transaction:IP,WriteBatch:TP,DocumentReference:va,DocumentSnapshot:Aw,Query:qo,QueryDocumentSnapshot:kw,QuerySnapshot:o,CollectionReference:a,FieldPath:u,FieldValue:h,setLogLevel:function oB(n){!function TS(n){fd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function E(...n){const e=Na(n),t=function Tm(n,e){return"number"==typeof Ra(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?en(i[0]):Oa(t)(ln(i,e)):Er}!function w(n){(function y(n,e){n.INTERNAL.registerComponent(new ha.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},m)))})(n,(e,t)=>new _M(e,t,new CP)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(SD.Z);var S=W(552);class R extends Mn.x{constructor(e=1/0,t=1/0,i=S.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;t||(i.push(e),!r&&i.push(s.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!e.closed;l+=i?1:2)e.next(s[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const l=t.now();let f=0;for(let p=1;p<i.length&&i[p]<=l;p+=2)f=p;f&&i.splice(0,f+1)}}}var O=W(305);function z(n={}){const{connector:e=(()=>new Mn.x),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let l,f,p,v=0,C=!1,D=!1;const M=()=>{f?.unsubscribe(),f=void 0},P=()=>{M(),l=p=void 0,C=D=!1},V=()=>{const j=l;P(),j?.unsubscribe()};return(0,li.e)((j,X)=>{v++,!D&&!C&&M();const ye=p=p??e();X.add(()=>{v--,0===v&&!D&&!C&&(f=K(V,r))}),ye.subscribe(X),!l&&v>0&&(l=new O.Hp({next:Pe=>ye.next(Pe),error:Pe=>{D=!0,M(),f=K(P,t,Pe),ye.error(Pe)},complete:()=>{C=!0,M(),f=K(P,i),ye.complete()}}),en(j).subscribe(l))})(s)}}function K(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new O.Hp({next:()=>{i.unsubscribe(),n()}});return en(e(...t)).subscribe(i)}function le(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,z({connector:()=>new R(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Ae(n,e){return(0,gi.m)(e)?di(()=>n,e):di(()=>n)}W(97);var vr=W(303);const MP=new Map,aB={activated:!1,tokenObservers:[]},O6={initialized:!1,enabled:!1};function yr(n){return MP.get(n)||Object.assign({},aB)}function vM(){return O6}const RP="https://content-firebaseappcheck.googleapis.com/v1",V6="exchangeDebugToken",cB={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class U6{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new F.BH,yield function j6(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new F.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Zo=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function NP(n){if(!yr(n).activated)throw Zo.create("use-before-activation",{appName:n.name})}function wM(n,e){return PP.apply(this,arguments)}function PP(){return PP=(0,ve.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const D=yield r.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const s={method:"POST",body:JSON.stringify(e),headers:i};let l,f;try{l=yield fetch(n,s)}catch(D){throw Zo.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==l.status)throw Zo.create("fetch-status-error",{httpStatus:l.status});try{f=yield l.json()}catch(D){throw Zo.create("fetch-parse-error",{originalErrorMessage:D?.message})}const p=f.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Zo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(p[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+v,issuedAtTimeMillis:C}}),PP.apply(this,arguments)}function lB(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${RP}/projects/${t}/apps/${i}:${V6}?key=${r}`,body:{debug_token:e}}}const G6="firebase-app-check-database",q6=1,BI="firebase-app-check-store";let xM=null;function FP(){return FP=(0,ve.Z)(function*(n,e){const i=(yield function uB(){return xM||(xM=new Promise((n,e)=>{try{const t=indexedDB.open(G6,q6);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Zo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(BI,{keyPath:"compositeKey"})}}catch(t){e(Zo.create("storage-open",{originalErrorMessage:t?.message}))}}),xM)}()).transaction(BI,"readwrite"),s=i.objectStore(BI).put({compositeKey:n,value:e});return new Promise((l,f)=>{s.onsuccess=p=>{l()},i.onerror=p=>{var v;f(Zo.create("storage-set",{originalErrorMessage:null===(v=p.target.error)||void 0===v?void 0:v.message}))}})}),FP.apply(this,arguments)}const UI=new ds.Yd("@firebase/app-check");function BP(n,e){return(0,F.hl)()?function Z6(n,e){return function hB(n,e){return FP.apply(this,arguments)}(function mB(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{UI.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function jP(){return vM().enabled}function HP(){return zP.apply(this,arguments)}function zP(){return zP=(0,ve.Z)(function*(){const n=vM();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),zP.apply(this,arguments)}const e$={error:"UNKNOWN_ERROR"};function t$(n){return F.US.encodeString(JSON.stringify(n),!1)}function EM(n){return $P.apply(this,arguments)}function $P(){return $P=(0,ve.Z)(function*(n,e=!1){const t=n.app;NP(t);const i=yr(t);let s,r=i.token;if(r&&!Mw(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(Mw(p)?r=p:yield BP(t,void 0))}if(!e&&r&&Mw(r))return{token:r.token};let f,l=!1;if(jP()){i.exchangeTokenPromise||(i.exchangeTokenPromise=wM(lB(t,yield HP()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const p=yield i.exchangeTokenPromise;return yield BP(t,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield yr(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?UI.warn(p.message):UI.error(p),s=p}return r?s?f=Mw(r)?{token:r.token,internalError:s}:vB(s):(f={token:r.token},i.token=r,yield BP(t,r)):f=vB(s),l&&function _B(n,e){const t=yr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,f),f}),$P.apply(this,arguments)}function GP(){return GP=(0,ve.Z)(function*(n){const e=n.app;NP(e);const{provider:t}=yr(e);if(jP()){const i=yield HP(),{token:r}=yield wM(lB(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}}),GP.apply(this,arguments)}function WP(n,e){const t=yr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function gB(n){const{app:e}=n,t=yr(e);let i=t.tokenRefresher;i||(i=function n$(n){const{app:e}=n;return new U6((0,ve.Z)(function*(){let i;if(i=yr(e).token?yield EM(n,!0):yield EM(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=yr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},cB.RETRIAL_MIN_WAIT,cB.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Mw(n){return n.expireTimeMillis-Date.now()>0}function vB(n){return{token:t$(e$),error:n}}class i${constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=yr(this.app);for(const t of e)WP(this.app,t.next);return Promise.resolve()}}const TB="app-check-internal";!function _$(){(0,vr._registerComponent)(new ha.wA("app-check",n=>function r$(n,e){return new i$(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(TB).initialize()})),(0,vr._registerComponent)(new ha.wA(TB,n=>function o$(n){return{getToken:e=>EM(n,e),getLimitedUseToken:()=>function pB(n){return GP.apply(this,arguments)}(n),addTokenListener:e=>function qP(n,e,t,i){const{app:r}=n,s=yr(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&Mw(s.token)){const f=s.token;Promise.resolve().then(()=>{t({token:f.token}),gB(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>gB(n))}(n,"INTERNAL",e),removeTokenListener:e=>WP(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,vr.registerVersion)("@firebase/app-check","0.8.0")}();class jI{constructor(){return(0,An.vb)("app-check")}}typeof window<"u"&&window;var IM=W(120);const XP=new d.OlP("angularfire2.auth.use-emulator"),JP=new d.OlP("angularfire2.auth.settings"),eF=new d.OlP("angularfire2.auth.tenant-id"),tF=new d.OlP("angularfire2.auth.langugage-code"),nF=new d.OlP("angularfire2.auth.use-device-language"),iF=new d.OlP("angularfire.auth.persistence"),rF=(n,e,t,i,r,s,l,f)=>(0,er.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),l)for(const[v,C]of Object.entries(l))p.settings[v]=C;return f&&p.setPersistence(f),p},[t,i,r,s,l,f]);let HI=(()=>{class n{constructor(t,i,r,s,l,f,p,v,C,D,M,P){const V=new Mn.x,j=mt(void 0).pipe((0,xr.Q)(l.outsideAngular),di(()=>s.runOutsideAngular(()=>Promise.resolve().then(W.bind(W,977)))),(0,dt.U)(()=>(0,er.on)(t,s,i)),(0,dt.U)(X=>rF(X,s,f,v,C,D,p,M)),le({bufferSize:1,refCount:!1}));if(hh(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=mt(null);else{j.pipe(ae()).subscribe();const ye=j.pipe(di(Be=>Be.getRedirectResult().then(Et=>Et,()=>null)),An.iC,le({bufferSize:1,refCount:!1})),Pe=j.pipe(di(Be=>new zn.y(Et=>({unsubscribe:s.runOutsideAngular(()=>Be.onAuthStateChanged(_t=>Et.next(_t),_t=>Et.error(_t),()=>Et.complete()))})))),De=j.pipe(di(Be=>new zn.y(Et=>({unsubscribe:s.runOutsideAngular(()=>Be.onIdTokenChanged(_t=>Et.next(_t),_t=>Et.error(_t),()=>Et.complete()))}))));this.authState=ye.pipe(Ae(Pe),(0,ou.R)(l.outsideAngular),(0,xr.Q)(l.insideAngular)),this.user=ye.pipe(Ae(De),(0,ou.R)(l.outsideAngular),(0,xr.Q)(l.insideAngular)),this.idToken=this.user.pipe(di(Be=>Be?ln(Be.getIdToken()):mt(null))),this.idTokenResult=this.user.pipe(di(Be=>Be?ln(Be.getIdTokenResult()):mt(null))),this.credential=E(ye,V,this.authState.pipe(k(Be=>!Be))).pipe((0,dt.U)(Be=>Be?.user?Be:null),(0,ou.R)(l.outsideAngular),(0,xr.Q)(l.insideAngular))}return(0,er.pX)(this,j,s,{spy:{apply:(X,ye,Pe)=>{(X.startsWith("signIn")||X.startsWith("createUser"))&&Pe.then(De=>V.next(De))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(er.Dh),d.LFG(er.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(An.HU),d.LFG(XP,8),d.LFG(JP,8),d.LFG(eF,8),d.LFG(tF,8),d.LFG(nF,8),d.LFG(iF,8),d.LFG(jI,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),E$=(()=>{class n{constructor(){IM.Z.registerVersion("angularfire",An.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[HI]}),n})();function SB(n,e){return function C$(n,e=gu.z){return new zn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function oF(n,e){return SB(n,e).pipe((0,dt.U)(t=>({payload:t,type:"query"})))}function TM(n,e){return oF(n,e).pipe(T(void 0),w_(),(0,dt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,f)=>{const p=r.find(C=>C.doc.ref.isEqual(l.ref)),v=t?.payload.docs.find(C=>C.ref.isEqual(l.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(l.metadata)||!p&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:l}})}),s}))}function AB(n,e,t){return TM(n,t).pipe(Mt((i,r)=>function T$(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function D$(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return sF(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return sF(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return sF(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),cp(),(0,dt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function sF(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function kB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class MB{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=TM(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,dt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(T(void 0),w_(),k(([i,r])=>r.length>0||!i),(0,dt.U)(([i,r])=>r),An.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mt((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=kB(e);return AB(this.query,t,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(e={}){return oF(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),An.iC)}get(e){return ln(this.query.get(e)).pipe(An.iC)}add(e){return this.ref.add(e)}doc(e){return new RB(this.ref.doc(e),this.afs)}}class RB{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=PB(i,t);return new MB(r,s,this.afs)}snapshotChanges(){return function I$(n,e){return SB(n,e).pipe(T(void 0),w_(),(0,dt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return ln(this.ref.get(e)).pipe(An.iC)}}class S${constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?TM(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),k(t=>t.length>0),An.iC):TM(this.query,this.afs.schedulers.outsideAngular).pipe(An.iC)}auditTrail(e){return this.stateChanges(e).pipe(Mt((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=kB(e);return AB(this.query,t,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(e={}){return oF(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),An.iC)}get(e){return ln(this.query.get(e)).pipe(An.iC)}}const NB=new d.OlP("angularfire2.enableFirestorePersistence"),OB=new d.OlP("angularfire2.firestore.persistenceSettings"),A$=new d.OlP("angularfire2.firestore.settings"),k$=new d.OlP("angularfire2.firestore.use-emulator");function PB(n,e=(t=>t)){return{query:e(n),ref:n}}let aF,FB=(()=>{class n{constructor(t,i,r,s,l,f,p,v,C,D,M,P,V,j,X,ye,Pe){this.schedulers=p;const De=(0,er.on)(t,f,i),Be=C;D&&rF(De,f,M,V,j,X,P,ye),[this.firestore,this.persistenceEnabled$]=(0,er.cc)(`${De.name}.firestore`,"AngularFirestore",De.name,()=>{const Et=f.runOutsideAngular(()=>De.firestore());if(s&&Et.settings(s),Be&&Et.useEmulator(...Be),r&&!hh(l)){const _t=()=>{try{return ln(Et.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(dn){return typeof console<"u"&&console.warn(dn),mt(!1)}};return[Et,f.runOutsideAngular(_t)]}return[Et,mt(!1)]},[s,Be,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:l}=PB(r,i),f=this.schedulers.ngZone.run(()=>s);return new MB(f,l,this)}collectionGroup(t,i){const r=i||(l=>l),s=this.firestore.collectionGroup(t);return new S$(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new RB(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(er.Dh),d.LFG(er.xv,8),d.LFG(NB,8),d.LFG(A$,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(An.HU),d.LFG(OB,8),d.LFG(k$,8),d.LFG(HI,8),d.LFG(XP,8),d.LFG(JP,8),d.LFG(eF,8),d.LFG(tF,8),d.LFG(nF,8),d.LFG(iF,8),d.LFG(jI,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),M$=(()=>{class n{constructor(){IM.Z.registerVersion("angularfire",An.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:NB,useValue:!0},{provide:OB,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[FB]}),n})(),gg=(()=>{class n{constructor(t,i,r,s){this.afs=t,this.afAuth=i,this.router=r,this.ngZone=s,this.isAuthenticatedSubject=new Or.X(!1),this.isLoading=new Mn.x,this.isLoading$=this.isLoading.asObservable(),this.afAuth.authState.subscribe(l=>{l?(this.userData=l,localStorage.setItem("user",JSON.stringify(this.userData)),this.isAuthenticatedSubject.next(!0),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),this.isAuthenticatedSubject.next(!1),JSON.parse(localStorage.getItem("user")))})}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}SignIn(t,i){setTimeout(()=>(this.isLoading.next(!1),this.afAuth.signInWithEmailAndPassword(t,i).then(r=>{this.SetUserData(r.user),this.afAuth.authState.subscribe(s=>{s&&this.router.navigate(["top-headlines"])})}).catch(r=>{window.alert(r.message)})),2e3)}SignUp(t,i){setTimeout(()=>(this.isLoading.next(!1),this.afAuth.createUserWithEmailAndPassword(t,i).then(r=>{this.SendVerificationMail(),this.SetUserData(r.user)}).catch(r=>{window.alert(r.message)})),2e3)}SendVerificationMail(){return this.afAuth.currentUser.then(t=>t.sendEmailVerification()).then(()=>{this.router.navigate(["verify-email-address"])})}ForgotPassword(t){setTimeout(()=>(this.isLoading.next(!1),this.afAuth.sendPasswordResetEmail(t).then(()=>{window.alert("Password reset email sent, check your inbox.")}).catch(i=>{window.alert(i)})),2e3)}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}SetUserData(t){return this.afs.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified,likedArticles:[]},{merge:!0})}SignOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["login"])})}isAuthenticated(){return this.isAuthenticatedSubject.asObservable()}getUserData(){return this.afAuth.authState.pipe(di(t=>t?this.afs.doc(`users/${t.uid}`).valueChanges():mt(null)))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(FB),d.LFG(HI),d.LFG(wo),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{aF=typeof Intl<"u"&&Intl.v8BreakIterator}catch{aF=!1}let Rw,ya=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?oc(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!aF)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(d.Lbi))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const LB=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function VB(){if(Rw)return Rw;if("object"!=typeof document||!document)return Rw=new Set(LB),Rw;let n=document.createElement("input");return Rw=new Set(LB.filter(e=>(n.setAttribute("type",e),n.type===e))),Rw}let zI,cF;function $I(n){return function R$(){if(null==zI&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>zI=!0}))}finally{zI=zI||!1}return zI}()?n:!!n.capture}function Nw(n){return n.composedPath?n.composedPath()[0]:n.target}function SM(n,e=gu.z){return(0,li.e)((t,i)=>{let r=null,s=null,l=null;const f=()=>{if(r){r.unsubscribe(),r=null;const v=s;s=null,i.next(v)}};function p(){const v=l+n,C=e.now();if(C<v)return r=this.schedule(void 0,v-C),void i.add(r);f()}t.subscribe((0,Bn.x)(i,v=>{s=v,l=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{s=r=null}))})}function jB(n){return k((e,t)=>n<=t)}function mi(n){return null!=n&&"false"!=`${n}`}function GI(n,e=0){return function n5(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function HB(n){return Array.isArray(n)?n:[n]}function _g(n){return n instanceof d.SBq?n.nativeElement:n}const zB=new Set;let sy,r5=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):s5}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function o5(n,e){if(!zB.has(n))try{sy||(sy=document.createElement("style"),e&&(sy.nonce=e),sy.setAttribute("type","text/css"),document.head.appendChild(sy)),sy.sheet&&(sy.sheet.insertRule(`@media ${n} {body{ }}`,0),zB.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ya),d.LFG(d.Ojb,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function s5(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let a5=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Mn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return $B(HB(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=Ts($B(HB(t)).map(l=>this._registerQuery(l).observable));return s=sa(s.pipe(I(1)),s.pipe(jB(1),SM(0))),s.pipe((0,dt.U)(l=>{const f={matches:!1,breakpoints:{}};return l.forEach(({matches:p,query:v})=>{f.matches=f.matches||p,f.breakpoints[v]=p}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new zn.y(l=>{const f=p=>this._zone.run(()=>l.next(p));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(T(i),(0,dt.U)(({matches:l})=>({query:t,matches:l})),Mi(this._destroySubject)),mql:i};return this._queries.set(t,s),s}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(r5),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $B(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function ZB(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function KB(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const _5=new d.OlP("cdk-input-modality-detector-options"),v5={ignoreKeys:[18,17,224,91,16]},Ow=$I({passive:!0,capture:!0});let y5=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Or.X(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(f=>f===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Nw(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ZB(l)?"keyboard":"mouse"),this._mostRecentTarget=Nw(l))},this._onTouchstart=l=>{KB(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Nw(l))},this._options={...v5,...s},this.modalityDetected=this._modality.pipe(jB(1)),this.modalityChanged=this.modalityDetected.pipe(cp()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ow),r.addEventListener("mousedown",this._onMousedown,Ow),r.addEventListener("touchstart",this._onTouchstart,Ow)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ow),document.removeEventListener("mousedown",this._onMousedown,Ow),document.removeEventListener("touchstart",this._onTouchstart,Ow))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ya),d.LFG(d.R0b),d.LFG(de),d.LFG(_5,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const w5=new d.OlP("cdk-focus-monitor-default-options"),AM=$I({passive:!0,capture:!0});let lF=(()=>{class n{constructor(t,i,r,s,l){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Mn.x,this._rootNodeFocusAndBlurListener=f=>{for(let v=Nw(f);v;v=v.parentElement)"focus"===f.type?this._onFocus(f,v):this._onBlur(f,v)},this._document=s,this._detectionMode=l?.detectionMode||0}monitor(t,i=!1){const r=_g(t);if(!this._platform.isBrowser||1!==r.nodeType)return mt();const s=function O$(n){if(function N$(){if(null==cF){const n=typeof document<"u"?document.head:null;cF=!(!n||!n.createShadowRoot&&!n.attachShadow)}return cF}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const f={checkChildren:i,subject:new Mn.x,rootNode:s};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=_g(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=_g(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([f,p])=>this._originChanged(f,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Nw(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,AM),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,AM)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Mi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,AM),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,AM),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let l=0;l<s.length;l++)if(s[l].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(d.R0b),d.LFG(ya),d.LFG(y5),d.LFG(de,8),d.LFG(w5,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const QB="cdk-high-contrast-black-on-white",XB="cdk-high-contrast-white-on-black",dF="cdk-high-contrast-active";let x5=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,d.f3M)(a5).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(dF,QB,XB),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(dF,QB):2===i&&t.add(dF,XB)}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ya),d.LFG(de))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const E5=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function C5(){return(0,d.f3M)(de)}}),I5=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let D5=(()=>{class n{constructor(t){this.value="ltr",this.change=new d.vpe,t&&(this.value=function T5(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?I5.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(E5,8))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();const A5=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function S5(){return!0}});let Ci=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function F$(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(x5),d.LFG(A5,8),d.LFG(de))};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[JB,JB]})}return n})();function nU(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=mi(e)}constructor(...e){super(...e),this._disabled=!1}}}function qI(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function uF(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=mi(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function M5(n){return class extends n{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let N5=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class O5{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const iU=$I({passive:!0,capture:!0});class P5{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Nw(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,i,r){const s=this._events.get(t);if(s){const l=s.get(i);l?l.add(r):s.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,iU)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const s=r.get(t);s&&(s.delete(i),0===s.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,iU)))}}const rU={enterDuration:225,exitDuration:150},oU=$I({passive:!0,capture:!0}),sU=["mousedown","touchstart"],aU=["mouseup","mouseleave","touchend","touchcancel"];class ZI{static#e=this._eventManager=new P5;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=_g(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...rU,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const l=i.radius||function L5(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,p=t-r.top,v=s.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=f-l+"px",C.style.top=p-l+"px",C.style.height=2*l+"px",C.style.width=2*l+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(C);const D=window.getComputedStyle(C),P=D.transitionDuration,V="none"===D.transitionProperty||"0s"===P||"0s, 0s"===P||0===r.width&&0===r.height,j=new O5(this,C,i,V);C.style.transform="scale3d(1, 1, 1)",j.state=0,i.persistent||(this._mostRecentTransientRipple=j);let X=null;return!V&&(v||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ye=()=>this._finishRippleTransition(j),Pe=()=>this._destroyRipple(j);C.addEventListener("transitionend",ye),C.addEventListener("transitioncancel",Pe),X={onTransitionEnd:ye,onTransitionCancel:Pe}}),this._activeRipples.set(j,X),(V||!v)&&this._finishRippleTransition(j),j}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...rU,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=_g(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,sU.forEach(i=>{ZI._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{aU.forEach(t=>{this._triggerElement.addEventListener(t,this,oU)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=ZB(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!KB(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(sU.forEach(t=>ZI._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&aU.forEach(t=>e.removeEventListener(t,this,oU)))}}const kM=new d.OlP("mat-ripple-global-options");let hF=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,s,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new ZI(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(ya),d.Y36(kM,8),d.Y36(d.QbO,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&d.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),MM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ci,Ci]})}return n})(),V5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ci]})}return n})();const cU={capture:!0},lU=["focus","click","mouseenter","touchstart"],fF="mat-ripple-loader-uninitialized",mF="mat-ripple-loader-class-name",dU="mat-ripple-loader-centered",RM="mat-ripple-loader-disabled";let B5=(()=>{class n{constructor(){this._document=(0,d.f3M)(de,{optional:!0}),this._animationMode=(0,d.f3M)(d.QbO,{optional:!0}),this._globalRippleOptions=(0,d.f3M)(kM,{optional:!0}),this._platform=(0,d.f3M)(ya),this._ngZone=(0,d.f3M)(d.R0b),this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${fF}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of lU)this._document?.addEventListener(t,this._onInteraction,cU)})}ngOnDestroy(){for(const t of lU)this._document?.removeEventListener(t,this._onInteraction,cU)}configureRipple(t,i){t.setAttribute(fF,""),(i.className||!t.hasAttribute(mF))&&t.setAttribute(mF,i.className||""),i.centered&&t.setAttribute(dU,""),i.disabled&&t.setAttribute(RM,"")}getRipple(t){return t.matRipple?t.matRipple:this.createRipple(t)}setDisabled(t,i){const r=t.matRipple;r?r.disabled=i:i?t.setAttribute(RM,""):t.removeAttribute(RM)}createRipple(t){if(!this._document)return;t.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(mF)),t.append(i);const r=new hF(new d.SBq(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=t,r.centered=t.hasAttribute(dU),r.disabled=t.hasAttribute(RM),this.attachRipple(t,r),r}attachRipple(t,i){t.removeAttribute(fF),t.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const uU=["mat-button",""],hU=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],fU=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],H5=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],z5=qI(nU(uF(class{constructor(n){this._elementRef=n}})));let mU=(()=>{class n extends z5{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=mi(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=mi(t),this._updateRippleDisabled()}constructor(t,i,r,s){super(t),this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=(0,d.f3M)(lF),this._rippleLoader=(0,d.f3M)(B5),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const l=t.nativeElement.classList;for(const f of H5)this._hasHostAttributes(f.selector)&&f.mdcClasses.forEach(p=>{l.add(p)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){d.$Z()};static#t=this.\u0275dir=d.lG2({type:n,features:[d.qOj]})}return n})(),G5=(()=>{class n extends mU{constructor(t,i,r,s){super(t,i,r,s),this._haltDisabledEvents=l=>{this.disabled&&(l.preventDefault(),l.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}static#e=this.\u0275fac=function(i){d.$Z()};static#t=this.\u0275dir=d.lG2({type:n,features:[d.qOj]})}return n})(),Pw=(()=>{class n extends mU{constructor(t,i,r,s){super(t,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(ya),d.Y36(d.R0b),d.Y36(d.QbO,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(d.uIk("disabled",r.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:uU,ngContentSelectors:fU,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(d.F$t(hU),d._UZ(0,"span",0),d.Hsn(1),d.TgZ(2,"span",1),d.Hsn(3,1),d.qZA(),d.Hsn(4,2),d._UZ(5,"span",2)(6,"span",3)),2&i&&d.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),q5=(()=>{class n extends G5{constructor(t,i,r,s){super(t,i,r,s)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(ya),d.Y36(d.R0b),d.Y36(d.QbO,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(i,r){2&i&&(d.uIk("disabled",r.disabled||null)("tabindex",r.disabled?-1:r.tabIndex)("aria-disabled",r.disabled.toString()),d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[d.qOj],attrs:uU,ngContentSelectors:fU,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(d.F$t(hU),d._UZ(0,"span",0),d.Hsn(1),d.TgZ(2,"span",1),d.Hsn(3,1),d.qZA(),d.Hsn(4,2),d._UZ(5,"span",2)(6,"span",3)),2&i&&d.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),NM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ci,MM,Ci]})}return n})(),Fw=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=mi(t)}get inset(){return this._inset}set inset(t){this._inset=mi(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){2&i&&(d.uIk("aria-orientation",r.vertical?"vertical":"horizontal"),d.ekj("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{--mat-divider-width:1px;display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return n})(),OM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ci,Ci]})}return n})();const Z5=["*"],Q5=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],X5=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],J5=new d.OlP("MAT_CARD_CONFIG");let vg=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(J5,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&d.ekj("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Z5,decls:1,vars:0,template:function(i,r){1&i&&(d.F$t(),d.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),PM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})(),Lw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),FM=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){2&i&&d.ekj("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})(),ay=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:X5,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(d.F$t(Q5),d.Hsn(0),d.TgZ(1,"div",0),d.Hsn(2,1),d.qZA(),d.Hsn(3,2))},encapsulation:2,changeDetection:0})}return n})(),KI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"]})}return n})(),pU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ci,qr,Ci]})}return n})();class nG{constructor(e){this._box=e,this._destroyed=new Mn.x,this._resizeSubject=new Mn.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new zn.y(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(k(t=>t.some(i=>i.target===e)),le({bufferSize:1,refCount:!0}),Mi(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let iG=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,d.f3M)(d.R0b)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new nG(r)),this._observers.get(r).observe(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gU=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_U=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[gU]})}return n})();const sG=["notch"],aG=["matFormFieldNotchedOutline",""],cG=["*"],lG=["textField"],dG=["iconPrefixContainer"],uG=["textPrefixContainer"];function hG(n,e){1&n&&d._UZ(0,"span",19)}function fG(n,e){if(1&n&&(d.TgZ(0,"label",17),d.Hsn(1,1),d.YNc(2,hG,1,0,"span",18),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),d.uIk("for",t._control.id),d.xp6(2),d.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function mG(n,e){if(1&n&&d.YNc(0,fG,3,5,"label",16),2&n){const t=d.oxw();d.Q6J("ngIf",t._hasFloatingLabel())}}function pG(n,e){1&n&&d._UZ(0,"div",20)}function gG(n,e){}function _G(n,e){if(1&n&&d.YNc(0,gG,0,0,"ng-template",22),2&n){d.oxw(2);const t=d.MAs(1);d.Q6J("ngTemplateOutlet",t)}}function vG(n,e){if(1&n&&(d.TgZ(0,"div",21),d.YNc(1,_G,1,1,"ng-template",9),d.qZA()),2&n){const t=d.oxw();d.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),d.xp6(),d.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function yG(n,e){1&n&&(d.TgZ(0,"div",23,24),d.Hsn(2,2),d.qZA())}function bG(n,e){1&n&&(d.TgZ(0,"div",25,26),d.Hsn(2,3),d.qZA())}function wG(n,e){}function xG(n,e){if(1&n&&d.YNc(0,wG,0,0,"ng-template",22),2&n){d.oxw();const t=d.MAs(1);d.Q6J("ngTemplateOutlet",t)}}function EG(n,e){1&n&&(d.TgZ(0,"div",27),d.Hsn(1,4),d.qZA())}function CG(n,e){1&n&&(d.TgZ(0,"div",28),d.Hsn(1,5),d.qZA())}function IG(n,e){1&n&&d._UZ(0,"div",29)}function TG(n,e){if(1&n&&(d.TgZ(0,"div",30),d.Hsn(1,6),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function DG(n,e){if(1&n&&(d.TgZ(0,"mat-hint",34),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(),d.Oqu(t.hintLabel)}}function SG(n,e){if(1&n&&(d.TgZ(0,"div",31),d.YNc(1,DG,2,2,"mat-hint",32),d.Hsn(2,7),d._UZ(3,"div",33),d.Hsn(4,8),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(),d.Q6J("ngIf",t.hintLabel)}}const AG=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],kG=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Vw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-label"]]})}return n})();const MG=new d.OlP("MatError");let RG=0,pF=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+RG++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(d.Ikx("id",r.id),d.uIk("align",null),d.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const NG=new d.OlP("MatPrefix"),vU=new d.OlP("MatSuffix");let OG=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[d._Bn([{provide:vU,useExisting:n}])]})}return n})();const yU=new d.OlP("FloatingLabelParent");let bU=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,d.f3M)(iG),this._ngZone=(0,d.f3M)(d.R0b),this._parent=(0,d.f3M)(yU),this._resizeSubscription=new Kn.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function PG(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&d.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const wU="mdc-line-ripple--active",LM="mdc-line-ripple--deactivating";let xU=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,l=s.contains(LM);"opacity"===r.propertyName&&l&&s.remove(wU,LM)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(LM),t.add(wU)}deactivate(){this._elementRef.nativeElement.classList.add(LM)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),EU=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&d.Gf(sG,5),2&i){let s;d.iGM(s=d.CRH())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&d.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:aG,ngContentSelectors:cG,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(d.F$t(),d._UZ(0,"div",0),d.TgZ(1,"div",1,2),d.Hsn(3),d.qZA(),d._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const FG={transitionMessages:ua("transitionMessages",[Jh("enter",Sn({opacity:1,transform:"translateY(0%)"})),Ji("void => enter",[Sn({opacity:0,transform:"translateY(-5px)"}),Xi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let CU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n})}return n})();const IU=new d.OlP("MatFormField"),LG=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let TU=0,VM=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=mi(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,s,l,f,p,v){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=l,this._defaults=f,this._animationMode=p,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+TU++,this._hintLabelId="mat-mdc-hint-"+TU++,this._subscriptAnimationState="",this._destroyed=new Mn.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=!!f?.hideRequiredMarker,f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Mi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),E(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Mi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Mi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+l}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(D5),d.Y36(ya),d.Y36(LG,8),d.Y36(d.QbO,8),d.Y36(de))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(d.Suo(s,Vw,5),d.Suo(s,Vw,7),d.Suo(s,CU,5),d.Suo(s,NG,5),d.Suo(s,vU,5),d.Suo(s,MG,5),d.Suo(s,pF,5)),2&i){let l;d.iGM(l=d.CRH())&&(r._labelChildNonStatic=l.first),d.iGM(l=d.CRH())&&(r._labelChildStatic=l.first),d.iGM(l=d.CRH())&&(r._formFieldControl=l.first),d.iGM(l=d.CRH())&&(r._prefixChildren=l),d.iGM(l=d.CRH())&&(r._suffixChildren=l),d.iGM(l=d.CRH())&&(r._errorChildren=l),d.iGM(l=d.CRH())&&(r._hintChildren=l)}},viewQuery:function(i,r){if(1&i&&(d.Gf(lG,5),d.Gf(dG,5),d.Gf(uG,5),d.Gf(bU,5),d.Gf(EU,5),d.Gf(xU,5)),2&i){let s;d.iGM(s=d.CRH())&&(r._textField=s.first),d.iGM(s=d.CRH())&&(r._iconPrefixContainer=s.first),d.iGM(s=d.CRH())&&(r._textPrefixContainer=s.first),d.iGM(s=d.CRH())&&(r._floatingLabel=s.first),d.iGM(s=d.CRH())&&(r._notchedOutline=s.first),d.iGM(s=d.CRH())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&d.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:IU,useExisting:n},{provide:yU,useExisting:n}])],ngContentSelectors:kG,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(d.F$t(AG),d.YNc(0,mG,1,1,"ng-template",null,0,d.W1O),d.TgZ(2,"div",1,2),d.NdJ("click",function(l){return r._control.onContainerClick(l)}),d.YNc(4,pG,1,0,"div",3),d.TgZ(5,"div",4),d.YNc(6,vG,2,2,"div",5)(7,yG,3,0,"div",6)(8,bG,3,0,"div",7),d.TgZ(9,"div",8),d.YNc(10,xG,1,1,"ng-template",9),d.Hsn(11),d.qZA(),d.YNc(12,EG,2,0,"div",10)(13,CG,2,0,"div",11),d.qZA(),d.YNc(14,IG,1,0,"div",12),d.qZA(),d.TgZ(15,"div",13),d.YNc(16,TG,2,1,"div",14)(17,SG,5,2,"div",15),d.qZA()),2&i&&(d.xp6(2),d.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),d.xp6(2),d.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),d.xp6(2),d.Q6J("ngIf",r._hasOutline()),d.xp6(),d.Q6J("ngIf",r._hasIconPrefix),d.xp6(),d.Q6J("ngIf",r._hasTextPrefix),d.xp6(2),d.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),d.xp6(2),d.Q6J("ngIf",r._hasTextSuffix),d.xp6(),d.Q6J("ngIf",r._hasIconSuffix),d.xp6(),d.Q6J("ngIf",!r._hasOutline()),d.xp6(),d.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),d.Q6J("ngSwitch",r._getDisplayedMessages()),d.xp6(),d.Q6J("ngSwitchCase","error"),d.xp6(),d.Q6J("ngSwitchCase","hint"))},dependencies:[ao,lh,Ja,vl,pF,bU,EU,xU],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[FG.transitionMessages]},changeDetection:0})}return n})(),YI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ci,qr,_U,Ci]})}return n})();const AU=$I({passive:!0});let UG=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Er;const i=_g(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Mn.x,l="cdk-text-field-autofilled",f=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(l)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(l)&&(i.classList.remove(l),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(l),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,AU),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",f,AU)}}),s}stopMonitoring(t){const i=_g(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(ya),d.LFG(d.R0b))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();function kU(...n){const e=Mh(n),{args:t,keys:i}=Oh(n),r=new zn.y(s=>{const{length:l}=t;if(!l)return void s.complete();const f=new Array(l);let p=l,v=l;for(let C=0;C<l;C++){let D=!1;en(t[C]).subscribe((0,Bn.x)(s,M=>{D||(D=!0,v--),f[C]=M},()=>p--,void 0,()=>{(!p||!D)&&(v||s.next(i?Ic(i,f):f),s.complete())}))}});return e?r.pipe(Pr(e)):r}let MU=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.Qsj),d.Y36(d.SBq))};static#t=this.\u0275dir=d.lG2({type:n})}return n})(),cy=(()=>{class n extends MU{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=d.n5z(n)))(r||n)}})();static#t=this.\u0275dir=d.lG2({type:n,features:[d.qOj]})}return n})();const Ga=new d.OlP("NgValueAccessor"),zG={provide:Ga,useExisting:(0,d.Gpc)(()=>gF),multi:!0},GG=new d.OlP("CompositionEventMode");let gF=(()=>{class n extends MU{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $G(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(GG,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&d.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[d._Bn([zG]),d.qOj]})}return n})();function yg(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function NU(n){return null!=n&&"number"==typeof n.length}const Ko=new d.OlP("NgValidators"),bg=new d.OlP("NgAsyncValidators"),qG=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class WG{static min(e){return function OU(n){return e=>{if(yg(e.value)||yg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function PU(n){return e=>{if(yg(e.value)||yg(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function FU(n){return yg(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function LU(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function VU(n){return yg(n.value)||qG.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function BU(n){return e=>yg(e.value)||!NU(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function UU(n){return e=>NU(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function jU(n){if(!n)return BM;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(yg(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return WU(e)}static composeAsync(e){return ZU(e)}}function BM(n){return null}function HU(n){return null!=n}function zU(n){return(0,d.QGY)(n)?ln(n):n}function $U(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function GU(n,e){return e.map(t=>t(n))}function qU(n){return n.map(e=>function ZG(n){return!n.validate}(e)?e:t=>e.validate(t))}function WU(n){if(!n)return null;const e=n.filter(HU);return 0==e.length?null:function(t){return $U(GU(t,e))}}function _F(n){return null!=n?WU(qU(n)):null}function ZU(n){if(!n)return null;const e=n.filter(HU);return 0==e.length?null:function(t){return kU(GU(t,e).map(zU)).pipe((0,dt.U)($U))}}function vF(n){return null!=n?ZU(qU(n)):null}function KU(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function YU(n){return n._rawValidators}function QU(n){return n._rawAsyncValidators}function yF(n){return n?Array.isArray(n)?n:[n]:[]}function UM(n,e){return Array.isArray(n)?n.includes(e):n===e}function XU(n,e){const t=yF(e);return yF(n).forEach(r=>{UM(t,r)||t.push(r)}),t}function JU(n,e){return yF(e).filter(t=>!UM(n,t))}class ej{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_F(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ls extends ej{get formDirective(){return null}get path(){return null}}class Kf extends ej{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tj{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let nj=(()=>{class n extends tj{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Kf,2))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]})}return n})();const QI="VALID",HM="INVALID",Bw="PENDING",XI="DISABLED";function xF(n){return(zM(n)?n.validators:n)||null}function EF(n,e){return(zM(e)?e.asyncValidators:n)||null}function zM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class sj{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===QI}get invalid(){return this.status===HM}get pending(){return this.status==Bw}get disabled(){return this.status===XI}get enabled(){return this.status!==XI}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(XU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(XU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JU(e,this._rawAsyncValidators))}hasValidator(e){return UM(this._rawValidators,e)}hasAsyncValidator(e){return UM(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Bw,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=XI,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=QI,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===QI||this.status===Bw)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?XI:QI}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Bw,this._hasOwnPendingAsyncValidator=!0;const t=zU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?XI:this.errors?HM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bw)?Bw:this._anyControlsHaveStatus(HM)?HM:QI}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zM(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function JG(n){return Array.isArray(n)?_F(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function eq(n){return Array.isArray(n)?vF(n):n||null}(this._rawAsyncValidators)}}class CF extends sj{constructor(e,t,i){super(xF(t),EF(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function oj(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new d.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function rj(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new d.vHH(1e3,"");if(!i[t])throw new d.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const ly=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>JI}),JI="always";function eT(n,e,t=JI){IF(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function iq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&aj(n,e)})}(n,e),function oq(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function rq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&aj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function nq(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function GM(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),WM(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function qM(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function IF(n,e){const t=YU(n);null!==e.validator?n.setValidators(KU(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=QU(n);null!==e.asyncValidator?n.setAsyncValidators(KU(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();qM(e._rawValidators,r),qM(e._rawAsyncValidators,r)}function WM(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=YU(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=QU(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return qM(e._rawValidators,i),qM(e._rawAsyncValidators,i),t}function aj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cj(n,e){IF(n,e)}function lj(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const dq={provide:Ls,useExisting:(0,d.Gpc)(()=>ZM)},tT=(()=>Promise.resolve())();let ZM=(()=>{class n extends Ls{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new CF({},_F(t),vF(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){tT.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),eT(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){tT.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){tT.then(()=>{const i=this._findContainer(t.path),r=new CF({});cj(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){tT.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){tT.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,lj(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Ko,10),d.Y36(bg,10),d.Y36(ly,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&d.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([dq]),d.qOj]})}return n})();function dj(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function uj(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const hj=class extends sj{constructor(e=null,t,i){super(xF(t),EF(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zM(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=uj(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dj(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dj(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){uj(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},fq={provide:Kf,useExisting:(0,d.Gpc)(()=>AF)},pj=(()=>Promise.resolve())();let AF=(()=>{class n extends Kf{constructor(t,i,r,s,l,f){super(),this._changeDetectorRef=l,this.callSetDisabledState=f,this.control=new hj,this._registered=!1,this.name="",this.update=new d.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function SF(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===gF?t=s:function cq(n){return Object.getPrototypeOf(n.constructor)===cy}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function DF(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){eT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){pj.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,d.VuI)(i);pj.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function $M(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Ls,9),d.Y36(Ko,10),d.Y36(bg,10),d.Y36(Ga,10),d.Y36(d.sBO,8),d.Y36(ly,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([fq]),d.qOj,d.TTD]})}return n})(),_j=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})();const kF=new d.OlP("NgModelWithFormControlWarning"),bq={provide:Ls,useExisting:(0,d.Gpc)(()=>KM)};let KM=(()=>{class n extends Ls{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(WM(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return eT(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){GM(t.control||null,t,!1),function lq(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,lj(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(GM(i||null,t),(n=>n instanceof hj)(r)&&(eT(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);cj(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function sq(n,e){return WM(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){IF(this.form,this),this._oldForm&&WM(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Ko,10),d.Y36(bg,10),d.Y36(ly,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&d.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([bq]),d.qOj,d.TTD]})}return n})(),Nj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[_j]})}return n})(),LF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ly,useValue:t.callSetDisabledState??JI}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Nj]})}return n})(),Bq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:kF,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ly,useValue:t.callSetDisabledState??JI}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Nj]})}return n})();const Uq=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),jq=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Hq=0;const zq=M5(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Mn.x}});let YM=(()=>{class n extends zq{get disabled(){return this._disabled}set disabled(t){this._disabled=mi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(WG.required)??!1}set required(t){this._required=mi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&VB().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=mi(t)}constructor(t,i,r,s,l,f,p,v,C,D){super(f,s,l,r),this._elementRef=t,this._platform=i,this._autofillMonitor=v,this._formField=D,this._uid="mat-input-"+Hq++,this.focused=!1,this.stateChanges=new Mn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(V=>VB().has(V)),this._iOSKeyupListener=V=>{const j=V.target;!j.value&&0===j.selectionStart&&0===j.selectionEnd&&(j.setSelectionRange(1,1),j.setSelectionRange(0,0))};const M=this._elementRef.nativeElement,P=M.nodeName.toLowerCase();this._inputValueAccessor=p||M,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===P,this._isTextarea="textarea"===P,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=M.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){jq.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(ya),d.Y36(Kf,10),d.Y36(ZM,8),d.Y36(KM,8),d.Y36(N5),d.Y36(Uq,10),d.Y36(UG),d.Y36(d.R0b),d.Y36(IU,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&d.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(d.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),d.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),d.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:CU,useExisting:n}]),d.qOj,d.TTD]})}return n})(),nT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ci,YI,YI,jG,Ci]})}return n})();const $q=new d.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),qq=qI(class{constructor(n){this._elementRef=n}},"primary");let VF=(()=>{class n extends qq{constructor(t,i,r,s,l){super(t),this._ngZone=i,this._changeDetectorRef=r,this._animationMode=s,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new d.vpe,this._mode="determinate",this._transitionendHandler=f=>{0===this.animationEnd.observers.length||!f.target||!f.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===s,l&&(l.color&&(this.color=this.defaultColor=l.color),this.mode=l.mode||this.mode)}get value(){return this._value}set value(t){this._value=Oj(GI(t)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(t){this._bufferValue=Oj(GI(t)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(t){this._mode=t,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(d.sBO),d.Y36(d.QbO,8),d.Y36($q,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(i,r){2&i&&(d.uIk("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),d.ekj("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[d.qOj],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0),d._UZ(1,"div",1)(2,"div",2),d.qZA(),d.TgZ(3,"div",3),d._UZ(4,"span",4),d.qZA(),d.TgZ(5,"div",5),d._UZ(6,"span",4),d.qZA()),2&i&&(d.xp6(),d.Udp("flex-basis",r._getBufferBarFlexBasis()),d.xp6(2),d.Udp("transform",r._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill=''/%3E%3C/svg%3E\")}}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{--mdc-linear-progress-active-indicator-height:4px;--mdc-linear-progress-track-height:4px;--mdc-linear-progress-track-shape:0}.mat-mdc-progress-bar{display:block;text-align:left;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}[dir=rtl] .mat-mdc-progress-bar{text-align:right}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0})}return n})();function Oj(n,e=0,t=100){return Math.max(e,Math.min(t,n))}let Pj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ci]})}return n})();function Wq(n,e){1&n&&d._UZ(0,"mat-progress-bar",12)}let Zq=(()=>{class n{constructor(t){this.authService=t,this.isLoading=!1}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(gg))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:32,vars:4,consts:[[1,"container"],[1,"login-card"],["src","./assets/infohub_logo.png","alt","logo","width","400"],[1,"example-full-width"],["matInput","","type","text"],["userName",""],["matInput","","type","password"],["userPassword",""],["mat-raised-button","","color","primary",3,"click"],["routerLink","/forgot-password",1,"forgotPassword"],["routerLink","/register",1,"SignUp"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(i,r){if(1&i){const s=d.EpF();d.TgZ(0,"div",0)(1,"mat-card",1),d._UZ(2,"img",2),d.TgZ(3,"mat-card-header")(4,"h2"),d._uU(5,"Login"),d.qZA(),d.TgZ(6,"mat-form-field",3)(7,"mat-label"),d._uU(8,"Username"),d.qZA(),d._UZ(9,"input",4,5),d.qZA(),d.TgZ(11,"mat-form-field",3)(12,"mat-label"),d._uU(13,"Password"),d.qZA(),d._UZ(14,"input",6,7),d.qZA()(),d.TgZ(16,"mat-card-content"),d._UZ(17,"mat-divider"),d.qZA(),d.TgZ(18,"mat-card-actions")(19,"button",8),d.NdJ("click",function(){d.CHM(s);const f=d.MAs(10),p=d.MAs(15);return r.authService.show(),d.KtG(r.authService.SignIn(f.value,p.value))}),d._uU(20," Login "),d.qZA()(),d.TgZ(21,"mat-card-footer")(22,"span"),d._uU(23," Or "),d.TgZ(24,"span",9),d._uU(25,"Forgot Password?"),d.qZA()(),d.TgZ(26,"span"),d._uU(27," Don't have an account? "),d.TgZ(28,"span",10),d._uU(29,"Sign Up"),d.qZA()(),d.YNc(30,Wq,1,0,"mat-progress-bar",11),d.ALo(31,"async"),d.qZA()()()}2&i&&(d.xp6(),d.Q6J("@myInsertRemoveTrigger",void 0),d.xp6(29),d.Q6J("ngIf",d.lcZ(31,2,r.authService.isLoading$)))},dependencies:[ao,cd,Pw,Fw,vg,FM,Lw,KI,ay,VM,Vw,YM,VF,Ca],styles:["body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0;padding:0}.container[_ngcontent-%COMP%]{height:80%;display:flex;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{display:block;margin:0 auto;padding:0;overflow:hidden}h2[_ngcontent-%COMP%]{text-align:center}.login-card[_ngcontent-%COMP%]{width:400px;padding:0}button[_ngcontent-%COMP%]{display:block;margin:0 auto}.mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}.forgotPassword[_ngcontent-%COMP%], .SignUp[_ngcontent-%COMP%]{text-align:center;color:#4dd5fe;font-size:14px;cursor:pointer;margin-top:10px}"],data:{animation:[ua("myInsertRemoveTrigger",[Ji(":enter",[Sn({opacity:0}),Xi("1s",Sn({opacity:1}))]),Ji(":leave",[Xi("1s",Sn({opacity:0}))])]),ua("myOtherInsertRemoveTrigger",[Ji(":enter",[Sn({transform:"translateX(-100%)"}),Xi("0.5s",Sn({transform:"translateX(0)"}))]),Ji(":leave",[Xi("0.5s",Sn({transform:"translateX(100%)"}))])])]}})}return n})();const Fj_newsApiFive_apiKey="0266bc550d3e46f9893b52815d2118f2",Fj_firebase={apiKey:"AIzaSyCRNjlAyNOhhSpCayhj8FGHHhbw4MtkpKA",authDomain:"news-project-579a3.firebaseapp.com",projectId:"news-project-579a3",storageBucket:"news-project-579a3.appspot.com",messagingSenderId:"700119532137",appId:"1:700119532137:web:9fd58caf58aa49ded8d8f8",measurementId:"G-DNL6PZSD2R"};class QM{}class XM{}class sl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof sl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new sl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof sl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let l=this.headers.get(t);if(!l)return;l=l.filter(f=>-1===s.indexOf(f)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Kq{encodeKey(e){return Lj(e)}encodeValue(e){return Lj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Qq=/%(\d[a-f0-9])/gi,Xq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Lj(n){return encodeURIComponent(n).replace(Qq,(e,t)=>Xq[t]??e)}function JM(n){return`${n}`}class wg{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Kq,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Yq(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,f]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(l)||[];p.push(f),t.set(l,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(JM):[JM(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new wg({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(JM(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(JM(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Jq{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Vj(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Bj(n){return typeof Blob<"u"&&n instanceof Blob}function Uj(n){return typeof FormData<"u"&&n instanceof FormData}class iT{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function e8(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new sl),this.context||(this.context=new Jq),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+l}}else this.params=new wg,this.urlWithParams=t}serializeBody(){return null===this.body?null:Vj(this.body)||Bj(this.body)||Uj(this.body)||function t8(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof wg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Uj(this.body)?null:Bj(this.body)?this.body.type||null:Vj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,v=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((D,M)=>D.set(M,e.setHeaders[M]),p)),e.setParams&&(v=Object.keys(e.setParams).reduce((D,M)=>D.set(M,e.setParams[M]),v)),new iT(t,i,s,{params:v,headers:p,context:C,reportProgress:f,responseType:r,withCredentials:l})}}var xg=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(xg||{});class BF{constructor(e,t=200,i="OK"){this.headers=e.headers||new sl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class eR extends BF{constructor(e={}){super(e),this.type=xg.ResponseHeader}clone(e={}){return new eR({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class uy extends BF{constructor(e={}){super(e),this.type=xg.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new uy({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Uw extends BF{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function UF(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let tR=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof iT)s=t;else{let p,v;p=r.headers instanceof sl?r.headers:new sl(r.headers),r.params&&(v=r.params instanceof wg?r.params:new wg({fromObject:r.params})),s=new iT(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const l=mt(s).pipe(je(p=>this.handler.handle(p)));if(t instanceof iT||"events"===r.observe)return l;const f=l.pipe(k(p=>p instanceof uy));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return f.pipe((0,dt.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return f.pipe((0,dt.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return f.pipe((0,dt.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return f.pipe((0,dt.U)(p=>p.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new wg).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,UF(r,i))}post(t,i,r={}){return this.request("POST",t,UF(r,i))}put(t,i,r={}){return this.request("PUT",t,UF(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(QM))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function Hj(n,e){return e(n)}function s8(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const c8=new d.OlP(""),rT=new d.OlP(""),zj=new d.OlP(""),$j=new d.OlP("");function l8(){let n=null;return(e,t)=>{null===n&&(n=((0,d.f3M)(c8,{optional:!0})??[]).reduceRight(s8,Hj));const i=(0,d.f3M)(d.I6F),r=i.add();return n(e,t).pipe(Pa(()=>i.remove(r)))}}let Gj=(()=>{class n extends QM{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=(0,d.f3M)(d.I6F);const r=(0,d.f3M)($j,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(rT),...this.injector.get(zj,[])]));this.chain=r.reduceRight((s,l)=>function a8(n,e,t){return(i,r)=>(0,d.r_H)(t,()=>e(i,s=>n(s,r)))}(s,l,this.injector),Hj)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Pa(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(XM),d.LFG(d.lqb))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const m8=/^\)\]\}',?\n/;let Wj=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new d.vHH(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?ln(i.\u0275loadImpl()):mt(null)).pipe(di(()=>new zn.y(s=>{const l=i.build();if(l.open(t.method,t.urlWithParams),t.withCredentials&&(l.withCredentials=!0),t.headers.forEach((j,X)=>l.setRequestHeader(j,X.join(","))),t.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const j=t.detectContentTypeHeader();null!==j&&l.setRequestHeader("Content-Type",j)}if(t.responseType){const j=t.responseType.toLowerCase();l.responseType="json"!==j?j:"text"}const f=t.serializeBody();let p=null;const v=()=>{if(null!==p)return p;const j=l.statusText||"OK",X=new sl(l.getAllResponseHeaders()),ye=function p8(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||t.url;return p=new eR({headers:X,status:l.status,statusText:j,url:ye}),p},C=()=>{let{headers:j,status:X,statusText:ye,url:Pe}=v(),De=null;204!==X&&(De=typeof l.response>"u"?l.responseText:l.response),0===X&&(X=De?200:0);let Be=X>=200&&X<300;if("json"===t.responseType&&"string"==typeof De){const Et=De;De=De.replace(m8,"");try{De=""!==De?JSON.parse(De):null}catch(_t){De=Et,Be&&(Be=!1,De={error:_t,text:De})}}Be?(s.next(new uy({body:De,headers:j,status:X,statusText:ye,url:Pe||void 0})),s.complete()):s.error(new Uw({error:De,headers:j,status:X,statusText:ye,url:Pe||void 0}))},D=j=>{const{url:X}=v(),ye=new Uw({error:j,status:l.status||0,statusText:l.statusText||"Unknown Error",url:X||void 0});s.error(ye)};let M=!1;const P=j=>{M||(s.next(v()),M=!0);let X={type:xg.DownloadProgress,loaded:j.loaded};j.lengthComputable&&(X.total=j.total),"text"===t.responseType&&l.responseText&&(X.partialText=l.responseText),s.next(X)},V=j=>{let X={type:xg.UploadProgress,loaded:j.loaded};j.lengthComputable&&(X.total=j.total),s.next(X)};return l.addEventListener("load",C),l.addEventListener("error",D),l.addEventListener("timeout",D),l.addEventListener("abort",D),t.reportProgress&&(l.addEventListener("progress",P),null!==f&&l.upload&&l.upload.addEventListener("progress",V)),l.send(f),s.next({type:xg.Sent}),()=>{l.removeEventListener("error",D),l.removeEventListener("abort",D),l.removeEventListener("load",C),l.removeEventListener("timeout",D),t.reportProgress&&(l.removeEventListener("progress",P),null!==f&&l.upload&&l.upload.removeEventListener("progress",V)),l.readyState!==l.DONE&&l.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(Bd))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const zF=new d.OlP("XSRF_ENABLED"),Zj=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Kj=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Yj{}let v8=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=_l(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(de),d.LFG(d.Lbi),d.LFG(Zj))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();function y8(n,e){const t=n.url.toLowerCase();if(!(0,d.f3M)(zF)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=(0,d.f3M)(Yj).getToken(),r=(0,d.f3M)(Kj);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Eg=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Eg||{});function b8(...n){const e=[tR,Wj,Gj,{provide:QM,useExisting:Gj},{provide:XM,useExisting:Wj},{provide:rT,useValue:y8,multi:!0},{provide:zF,useValue:!0},{provide:Yj,useClass:v8}];for(const t of n)e.push(...t.\u0275providers);return(0,d.MR2)(e)}const Qj=new d.OlP("LEGACY_INTERCEPTOR_FN");function w8(){return function hy(n,e){return{\u0275kind:n,\u0275providers:e}}(Eg.LegacyInterceptors,[{provide:Qj,useFactory:l8},{provide:rT,useExisting:Qj,multi:!0}])}let x8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:[b8(w8())]})}return n})(),iR=(()=>{class n{constructor(t){this.http=t,this.apiKey=Fj_newsApiFive_apiKey,this.selectedCategory=new Mn.x,this.selectedCategory$=this.selectedCategory.asObservable()}show(t){this.selectedCategory.next(t),console.log(typeof t)}getTopHeadlines(t){return this.http.get(`https://newsapi.org/v2/top-headlines?country=US&category=${t}&apiKey=${this.apiKey}`).pipe(et(i=>(console.error("Error:",i),Fr(i))))}searchArticles(t){return this.http.get(`https://newsapi.org/v2/everything?q=${t}&sortBy=publishedAt&apiKey=${this.apiKey}`).pipe(et(i=>(console.error("API request failed:",i),Fr(i))))}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(tR))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$F=(()=>{class n{constructor(){this.categories=[{name:"General",icon:"description"},{name:"Business",icon:"add_business"},{name:"Entertainment",icon:"theater_comedy"},{name:"Health",icon:"health_and_safety"},{name:"Science",icon:"biotech"},{name:"Sports",icon:"sports_football"},{name:"Technology",icon:"important_devices"},{name:"Search",icon:"search"},{name:"Liked",icon:"favorite"}]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),o3=(()=>{class n{constructor(){this.likedArticles=[]}addLikedArticle(t){this.likedArticles.push(t)}getLikedArticles(){return this.likedArticles}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const S8=["*"];let rR;function oT(n){return function A8(){if(void 0===rR&&(rR=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(rR=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return rR}()?.createHTML(n)||n}function s3(n){return Error(`Unable to find icon with the name "${n}"`)}function a3(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function c3(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class fy{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let oR=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new fy(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const l=this._sanitizer.sanitize(d.q3G.HTML,r);if(!l)throw c3(r);const f=oT(l);return this._addSvgIconConfig(t,i,new fy("",f,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new fy(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(d.q3G.HTML,i);if(!s)throw c3(i);const l=oT(s);return this._addSvgIconSetConfig(t,new fy("",l,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,t);if(!i)throw a3(t);const r=this._cachedIconsByUrl.get(i);return r?mt(sR(r)):this._loadSvgIconFromConfig(new fy(t,null)).pipe((0,Me.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,dt.U)(s=>sR(s)))}getNamedSvgIcon(t,i=""){const r=l3(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(t,l):Fr(s3(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?mt(sR(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,dt.U)(i=>sR(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?mt(r):kU(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(et(f=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,l.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(v)),mt(null)})))).pipe((0,dt.U)(()=>{const l=this._extractIconWithNameFromAnySet(t,i);if(!l)throw s3(t);return l}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const l=this._svgElementFromConfig(s),f=this._extractSvgIconFromSet(l,t,s.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Me.b)(i=>t.svgText=i),(0,dt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?mt(null):this._fetchIcon(t).pipe((0,Me.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const l=s.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const f=this._svgElementFromString(oT("<svg></svg>"));return f.appendChild(l),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(oT("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:l,value:f}=r[s];"id"!==l&&i.setAttribute(l,f)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function k8(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,i);if(!l)throw a3(i);const f=this._inProgressUrlFetches.get(l);if(f)return f;const p=this._httpClient.get(l,{responseType:"text",withCredentials:s}).pipe((0,dt.U)(v=>oT(v)),Pa(()=>this._inProgressUrlFetches.delete(l)),z());return this._inProgressUrlFetches.set(l,p),p}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(l3(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return R8(s)?new fy(s.url,null,s.options):new fy(s,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(tR,8),d.LFG(Ll),d.LFG(de,8),d.LFG(d.qLn))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sR(n){return n.cloneNode(!0)}function l3(n,e){return n+":"+e}function R8(n){return!(!n.url||!n.options)}const N8=qI(class{constructor(n){this._elementRef=n}}),O8=new d.OlP("MAT_ICON_DEFAULT_OPTIONS"),P8=new d.OlP("mat-icon-location",{providedIn:"root",factory:function F8(){const n=(0,d.f3M)(de),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),d3=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],L8=d3.map(n=>`[${n}]`).join(", "),V8=/^url\(['"]?#(.*?)['"]?\)$/;let aR=(()=>{class n extends N8{get inline(){return this._inline}set inline(t){this._inline=mi(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,s,l,f){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Kn.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(l=>{s.setAttribute(l.name,`url('${t}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(L8),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)d3.forEach(l=>{const f=i[s],p=f.getAttribute(l),v=p?p.match(V8):null;if(v){let C=r.get(f);C||(C=[],r.set(f,C)),C.push({name:l,value:v[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(I(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(oR),d.$8M("aria-hidden"),d.Y36(P8),d.Y36(d.qLn),d.Y36(O8,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(d.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),d.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:S8,decls:1,vars:0,template:function(i,r){1&i&&(d.F$t(),d.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),cR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ci,Ci]})}return n})();function B8(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"mat-card",6)(1,"a",7)(2,"div",8),d._UZ(3,"img",9),d.qZA()(),d.TgZ(4,"mat-card-header")(5,"mat-card-title")(6,"h3")(7,"a",10),d._uU(8),d.qZA()(),d.TgZ(9,"p",11)(10,"em"),d._uU(11),d.qZA()()()(),d.TgZ(12,"a",12),d.NdJ("click",function(){const s=d.CHM(t).$implicit,l=d.oxw();return d.KtG(l.likedArticles(s.url))}),d._UZ(13,"mat-icon",13),d.qZA()()}if(2&n){const t=e.$implicit,i=d.oxw();d.xp6(),d.s9C("href",t.url,d.LSH),d.xp6(2),d.s9C("src",t.urlToImage?t.urlToImage:i.defaultImage,d.LSH),d.xp6(5),d.Oqu(t.title),d.xp6(3),d.Oqu(t.publishedAt)}}let U8=(()=>{class n{constructor(t,i,r){this.newsService=t,this.categoryService=i,this.likedService=r,this.selectedCategory="business",this.categories=this.categoryService.categories,this.selectedCategory$=this.newsService.selectedCategory$,console.log(this.selectedCategory)}ngOnInit(){this.getNews(this.selectedCategory),this.selectedCategory$.subscribe(t=>{console.log(t),this.selectedCategory=t,this.getNews(this.selectedCategory)})}getNews(t){this.newsService.getTopHeadlines(t).subscribe(i=>{this.headlines=i.articles,console.log(i)})}onCategoryChange(t){console.log(t,"received"),this.selectedCategory=t,this.getNews(this.selectedCategory)}truncatedText(t){return t.length>60?t.substring(0,60)+"...":t}likedArticles(t){this.likedService.addLikedArticle({url:t,title:"title",description:"description"}),console.log(t)}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(iR),d.Y36($F),d.Y36(o3))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-news-list"]],inputs:{selectedCategory:"selectedCategory"},decls:10,vars:2,consts:[[1,"news-list"],["id","topHeadlinesTitle"],[1,"h1Headlines"],[1,"custom-divider"],[1,"news-items"],["class","news-item",4,"ngFor","ngForOf"],[1,"news-item"],["target","_blank",3,"href"],[1,"image-container"],["alt","img","id","snapshotImg",3,"src"],["id","subtitler"],["id","articlePublished"],["target","_blank",1,"like",3,"href","click"],["aria-hidden","false","aria-label","icon","fontIcon","favorite",2,"font-size","20px"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"mat-card-title",1)(2,"h1",2),d._uU(3,"Top Headlines: "),d.TgZ(4,"small"),d._uU(5),d.qZA()(),d._UZ(6,"mat-divider",3),d.qZA(),d.TgZ(7,"div",4),d.YNc(8,B8,14,4,"mat-card",5),d._UZ(9,"mat-divider"),d.qZA()()),2&i&&(d.xp6(5),d.Oqu(r.selectedCategory),d.xp6(3),d.Q6J("ngForOf",r.headlines))},dependencies:[Hs,Fw,vg,ay,PM,aR],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-top:1rem;font-weight:700;text-align:center;text-transform:uppercase;color:#fff;padding:1vh;margin:0}h3[_ngcontent-%COMP%]{line-height:3vh}.h1Headlines[_ngcontent-%COMP%]{background-color:#0a3161;font-size:2.5vw}.custom-divider[_ngcontent-%COMP%]{height:2px;background-color:#d90429}.news-list[_ngcontent-%COMP%]{width:90%!important;margin:0 auto;width:auto}.news-items[_ngcontent-%COMP%]{width:100%;margin:0;padding:0;display:flex;flex-wrap:wrap;justify-content:space-between}mat-card[_ngcontent-%COMP%]{width:20em;overflow:hidden;margin:5px 5px 10px;padding:0;background-color:#d1d7dc;flex:0 0 calc(20% - 10px)}.mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;padding:0 10px;line-height:0}#snapshotImg[_ngcontent-%COMP%]{width:100%;padding-bottom:0}#actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0;padding:0}.cardButton[_ngcontent-%COMP%]{background-color:#003566;padding:5px 10px;text-decoration:none;border:none}#subtitler[_ngcontent-%COMP%]{color:#000!important;font-weight:bolder;font-size:14px;padding:0;margin:0}#articleDescription[_ngcontent-%COMP%], #articlePublished[_ngcontent-%COMP%]{font-size:12px;padding:0;margin:0}.image-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:0;padding:0}.like[_ngcontent-%COMP%]{color:#0862b5;position:absolute;top:0;right:0;background:transparent;border:none;cursor:pointer}.like[_ngcontent-%COMP%]:hover{color:#d90429}"]})}return n})();function j8(n,e){1&n&&d._UZ(0,"mat-progress-bar",10)}let H8=(()=>{class n{constructor(t){this.authService=t,this.isLoading=!1}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(gg))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-registration"]],decls:27,vars:4,consts:[[1,"container"],[1,"login-card"],[1,"example-full-width"],["matInput","","type","email"],["userEmail",""],["matInput","","type","password"],["userPwd",""],["mat-raised-button","","color","primary",3,"click"],["routerLink","/login",1,"redirect"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(i,r){if(1&i){const s=d.EpF();d.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"h2"),d._uU(4,"Register"),d.qZA(),d.TgZ(5,"mat-form-field",2)(6,"mat-label"),d._uU(7,"Email"),d.qZA(),d._UZ(8,"input",3,4),d.qZA(),d.TgZ(10,"mat-form-field",2)(11,"mat-label"),d._uU(12,"Password"),d.qZA(),d._UZ(13,"input",5,6),d.qZA()(),d.TgZ(15,"mat-card-content"),d._UZ(16,"mat-divider"),d.qZA(),d.TgZ(17,"mat-card-actions")(18,"button",7),d.NdJ("click",function(){d.CHM(s);const f=d.MAs(9),p=d.MAs(14);return d.KtG([r.authService.show(),r.authService.SignUp(f.value,p.value)])}),d._uU(19," Sign Up "),d.qZA()(),d.TgZ(20,"mat-card-footer")(21,"span"),d._uU(22,"Already have an account? "),d.TgZ(23,"span",8),d._uU(24,"Log In"),d.qZA()()(),d.YNc(25,j8,1,0,"mat-progress-bar",9),d.ALo(26,"async"),d.qZA()()}2&i&&(d.xp6(),d.Q6J("@myInsertRemoveTrigger",void 0),d.xp6(24),d.Q6J("ngIf",d.lcZ(26,2,r.authService.isLoading$)))},dependencies:[ao,cd,Pw,Fw,vg,FM,Lw,KI,ay,VM,Vw,YM,VF,Ca],styles:[".container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}h2[_ngcontent-%COMP%]{text-align:center}.login-card[_ngcontent-%COMP%]{width:400px}button[_ngcontent-%COMP%]{margin:0 auto}span[_ngcontent-%COMP%]{padding:.5em;text-align:center;display:block}.mat-mdc-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}.redirect[_ngcontent-%COMP%]{display:inline-block;text-align:center;color:#4dd5fe;font-size:14px;cursor:pointer}.redirect[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[ua("myInsertRemoveTrigger",[Ji(":enter",[Sn({opacity:0}),Xi("1s",Sn({opacity:1}))]),Ji(":leave",[Xi("1s",Sn({opacity:0}))])]),ua("myOtherInsertRemoveTrigger",[Ji(":enter",[Sn({transform:"translateX(-100%)"}),Xi("0.5s",Sn({transform:"translateX(0)"}))]),Ji(":leave",[Xi("0.5s",Sn({transform:"translateX(100%)"}))])])]}})}return n})();function z8(n,e){1&n&&d._UZ(0,"mat-progress-bar",11)}let $8=(()=>{class n{constructor(t){this.authService=t,this.isLoading=!1}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(gg))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-forgot-password"]],decls:24,vars:4,consts:[[1,"container"],[1,"displayTable"],[1,"displayTableCell"],[1,"text-center"],[1,"formGroup"],["matInput","","type","email","placeholder","Email Address","required","",1,"formControl"],["passwordResetEmail",""],["mat-raised-button","","color","primary","type","submit",1,"btn","btnPrimary",3,"click"],[1,"redirectToLogin"],["routerLink","/login",1,"redirect"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(i,r){if(1&i){const s=d.EpF();d.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"mat-card-header",2)(4,"h3"),d._uU(5,"Reset Password"),d.qZA(),d.TgZ(6,"p",3),d._uU(7," Please enter your email address to request a password reset. "),d.qZA()(),d.TgZ(8,"mat-form-field",4)(9,"mat-label"),d._uU(10,"Email"),d.qZA(),d._UZ(11,"input",5,6),d.qZA(),d._UZ(13,"mat-divider"),d.TgZ(14,"mat-card-actions",4)(15,"button",7),d.NdJ("click",function(){d.CHM(s);const f=d.MAs(12);return d.KtG([r.authService.show(),r.authService.ForgotPassword(f.value)])}),d._uU(16," Reset Password "),d.qZA()(),d.TgZ(17,"mat-card-footer",8)(18,"span"),d._uU(19,"Go back to ? "),d.TgZ(20,"span",9),d._uU(21," Log In"),d.qZA()()()(),d.YNc(22,z8,1,0,"mat-progress-bar",10),d.ALo(23,"async"),d.qZA()()}2&i&&(d.xp6(),d.Q6J("@myInsertRemoveTrigger",void 0),d.xp6(21),d.Q6J("ngIf",d.lcZ(23,2,r.authService.isLoading$)))},dependencies:[ao,cd,Pw,Fw,vg,FM,Lw,KI,ay,VM,Vw,YM,VF,Ca],styles:[".redirect[_ngcontent-%COMP%], .btnPrimary[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{width:500px;padding:1em;display:flex;flex-direction:column;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{margin:.5em}mat-form-field[_ngcontent-%COMP%]{width:100%}input.formControl[_ngcontent-%COMP%]{width:90%}mat-card-header[_ngcontent-%COMP%], mat-card-footer[_ngcontent-%COMP%], mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.redirect[_ngcontent-%COMP%]{display:inline-block;text-align:center;color:#4dd5fe;font-size:14px;cursor:pointer}"],data:{animation:[ua("myInsertRemoveTrigger",[Ji(":enter",[Sn({opacity:0}),Xi("1s",Sn({opacity:1}))]),Ji(":leave",[Xi("1s",Sn({opacity:0}))])]),ua("myOtherInsertRemoveTrigger",[Ji(":enter",[Sn({transform:"translateX(-100%)"}),Xi("0.5s",Sn({transform:"translateX(0)"}))]),Ji(":leave",[Xi("0.5s",Sn({transform:"translateX(100%)"}))])])]}})}return n})();function G8(n,e){if(1&n&&(d.TgZ(0,"div",9)(1,"p",10),d._uU(2," We have sent a confirmation email to "),d.TgZ(3,"strong"),d._uU(4),d.qZA(),d._uU(5,". "),d.qZA(),d.TgZ(6,"p",10),d._uU(7," Please check your email and click on the link to verify your email address. "),d.qZA()()),2&n){const t=e.ngIf;d.xp6(4),d.Oqu(t.email)}}let q8=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(gg))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-verify-email"]],decls:15,vars:2,consts:[[1,"container"],[1,"displayTableCell"],[1,"authBlock"],["class","formGroup",4,"ngIf"],[1,"button"],["type","button","mat-raised-button","","color","primary",3,"click"],[1,"fas","fa-redo-alt"],[1,"redirectToLogin"],["routerLink","/login",1,"redirect"],[1,"formGroup"],[1,"text-center"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content",2)(3,"h3"),d._uU(4,"Thank You for Registering"),d.qZA(),d.YNc(5,G8,8,1,"div",3),d.TgZ(6,"div",4)(7,"button",5),d.NdJ("click",function(){return r.authService.SendVerificationMail()}),d._UZ(8,"i",6),d._uU(9," Resend Verification Email "),d.qZA()()(),d.TgZ(10,"mat-card-footer",7)(11,"span"),d._uU(12,"Go back to? "),d.TgZ(13,"span",8),d._uU(14," Sign in"),d.qZA()()()()()),2&i&&(d.xp6(),d.Q6J("@myInsertRemoveTrigger",void 0),d.xp6(4),d.Q6J("ngIf",r.authService.userData))},dependencies:[ao,cd,Pw,vg,Lw,KI],styles:[".container[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}h3[_ngcontent-%COMP%]{text-align:center}mat-card[_ngcontent-%COMP%]{width:500px;padding:1em;display:flex;flex-direction:column;justify-content:center;align-items:center}button[_ngcontent-%COMP%]{margin:.5em}mat-card-header[_ngcontent-%COMP%], mat-card-footer[_ngcontent-%COMP%], mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.redirect[_ngcontent-%COMP%]{display:inline-block;text-align:center;color:#4dd5fe;font-size:14px;cursor:pointer}.button[_ngcontent-%COMP%]{display:flex;justify-content:center}"],data:{animation:[ua("myInsertRemoveTrigger",[Ji(":enter",[Sn({opacity:0}),Xi("1s",Sn({opacity:1}))]),Ji(":leave",[Xi("1s",Sn({opacity:0}))])]),ua("myOtherInsertRemoveTrigger",[Ji(":enter",[Sn({transform:"translateX(-100%)"}),Xi("0.5s",Sn({transform:"translateX(0)"}))]),Ji(":leave",[Xi("0.5s",Sn({transform:"translateX(100%)"}))])])]}})}return n})();function W8(n,e){if(1&n&&(d.TgZ(0,"mat-card",9)(1,"mat-card-header")(2,"mat-card-title")(3,"h3")(4,"a",10),d._uU(5),d.qZA()(),d.TgZ(6,"p"),d._uU(7),d.qZA()()(),d.TgZ(8,"mat-card-content",11)(9,"a",12),d._UZ(10,"mat-icon",13),d.qZA()()()),2&n){const t=e.$implicit,i=d.oxw();d.xp6(4),d.s9C("href",t.url,d.LSH),d.xp6(),d.hij(" ",i.truncatedText(t.title)," "),d.xp6(2),d.Oqu(t.description)}}let Z8=(()=>{class n{constructor(t,i){this.newsService=t,this.router=i,this.searchResults=[],this.searchFilter=""}ngOnInit(){this.getSearchResults()}getSearchResults(){""!==this.searchFilter.trim()&&this.newsService.searchArticles(this.searchFilter).subscribe(t=>{this.headlines=t.articles,console.log(this.headlines),this.searchResults=this.headlines.map(i=>({title:i.title,url:i.url}))},t=>{console.error("Error on API request:",t)})}onFilterChange(t){this.searchFilter=t.target.value,this.getSearchResults()}goBackToTopHeadlines(){this.router.navigate(["top-headlines"])}truncatedText(t){return t.length>60?t.substring(0,60)+"...":t}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(iR),d.Y36(wo))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-search"]],inputs:{searchFilter:"searchFilter"},decls:24,vars:1,consts:[[1,"searchInput"],["appearance","outline"],["matInput","",3,"input"],["matSuffix",""],["mat-button","",1,"cardButton","goBackButton",3,"click"],["aria-hidden","false","aria-label","icon"],["id","searchTitler"],[1,"news-list"],["class","searchResults",4,"ngFor","ngForOf"],[1,"searchResults"],["id","subtitler","target","_blank",3,"href"],["id","actions"],["mat-button","","target","_blank",1,"cardButton",3,"href"],["aria-hidden","false","aria-label","icon","fontIcon","thumb_up"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"h2"),d._uU(2,"Search by keyword"),d.qZA(),d.TgZ(3,"mat-form-field",1)(4,"mat-label"),d._uU(5,"Type a keyword to find"),d.qZA(),d.TgZ(6,"input",2),d.NdJ("input",function(l){return r.onFilterChange(l)}),d.qZA(),d.TgZ(7,"mat-icon",3),d._uU(8,"search"),d.qZA(),d.TgZ(9,"mat-hint"),d._uU(10,"can use AND / OR / NOT keywords"),d.qZA()(),d._UZ(11,"br"),d.TgZ(12,"button",4),d.NdJ("click",function(){return r.goBackToTopHeadlines()}),d.TgZ(13,"mat-icon",5),d._uU(14,"arrow_back"),d.qZA(),d.TgZ(15,"span"),d._uU(16,"Go Back"),d.qZA()(),d._UZ(17,"br"),d.qZA(),d._UZ(18,"mat-divider"),d.TgZ(19,"h2",6),d._uU(20,"Your Search Results"),d.qZA(),d.TgZ(21,"div",7),d.YNc(22,W8,11,3,"mat-card",8),d._UZ(23,"mat-divider"),d.qZA()),2&i&&(d.xp6(22),d.Q6J("ngForOf",r.searchResults))},dependencies:[Hs,q5,Pw,Fw,vg,Lw,ay,PM,aR,VM,Vw,pF,OG,YM],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:1rem;font-weight:700;text-align:center;text-transform:uppercase;color:#0a3161;padding:1vh;margin:0}h3[_ngcontent-%COMP%]   #searchTitler[_ngcontent-%COMP%]{margin:0 auto}.news-list[_ngcontent-%COMP%]{margin:0 auto;width:90%;display:flex;flex-wrap:wrap;justify-content:space-between}mat-card[_ngcontent-%COMP%]{width:15em;height:12rem;overflow:hidden;margin:10px 10px 20px;padding:10px;background-color:#d1d7dc;flex:0 0 calc(25% - 20px)}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0;padding:0}mat-icon[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;text-align:center}.cardButton[_ngcontent-%COMP%]{margin:0 auto;background-color:#003566;padding:5px 10px;text-decoration:none;border:none;color:#d1d7dc!important}#subtitler[_ngcontent-%COMP%]{color:#000!important;font-weight:bolder}.cardButton[_ngcontent-%COMP%]:hover{background-color:#d90429}.searchInput[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 auto;width:40%}.goBackButton[_ngcontent-%COMP%]{margin:0 auto;width:40%}"]})}return n})();function K8(n,e){if(1&n&&(d.TgZ(0,"mat-card",5)(1,"mat-card-header")(2,"mat-card-title")(3,"h3")(4,"a",6),d._uU(5),d.qZA()(),d.TgZ(6,"p"),d._uU(7),d.qZA()()()()),2&n){const t=e.$implicit;d.xp6(4),d.Q6J("href",t.url,d.LSH),d.xp6(),d.hij(" ",t.title," "),d.xp6(2),d.Oqu(t.description)}}const Y8=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Zq},{path:"register",component:H8},{path:"top-headlines",component:U8,canActivate:[(()=>{class n{constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return!0!==this.authService.isLoggedIn&&this.router.navigate(["login"]),!0}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(gg),d.LFG(wo))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()]},{path:"forgot-password",component:$8},{path:"verify-email-address",component:q8},{path:"search",component:Z8},{path:"Liked",component:(()=>{class n{constructor(t,i,r){this.authService=t,this.likedService=i,this.router=r,this.likedArticles=[]}ngOnInit(){this.authService.getUserData().subscribe(t=>{this.likedArticles=this.likedService.getLikedArticles()})}goBackToTopHeadlines(){this.router.navigate(["top-headlines"])}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(gg),d.Y36(o3),d.Y36(wo))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-liked"]],decls:13,vars:1,consts:[[1,"likedSection"],["mat-button","",1,"cardButton","goBackButton",3,"click"],["aria-hidden","false","aria-label","icon"],[1,"news-list"],["class","searchResults",4,"ngFor","ngForOf"],[1,"searchResults"],["id","subtitler","target","_blank",3,"href"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"h1"),d._uU(2,"User liked articles"),d.qZA(),d.TgZ(3,"button",1),d.NdJ("click",function(){return r.goBackToTopHeadlines()}),d.TgZ(4,"mat-icon",2),d._uU(5,"arrow_back"),d.qZA(),d.TgZ(6,"span"),d._uU(7,"Go Back"),d.qZA()(),d._UZ(8,"br")(9,"mat-divider"),d.qZA(),d.TgZ(10,"div",3),d.YNc(11,K8,8,3,"mat-card",4),d._UZ(12,"mat-divider"),d.qZA()),2&i&&(d.xp6(11),d.Q6J("ngForOf",r.likedArticles))},dependencies:[Hs,Pw,Fw,vg,ay,PM,aR],styles:["h1[_ngcontent-%COMP%]{margin:0 auto;text-align:center}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:1rem;font-weight:700;text-align:center;text-transform:uppercase;color:#0a3161;padding:1vh;margin:0}.news-list[_ngcontent-%COMP%]{margin:0 auto;width:90%;display:flex;flex-wrap:wrap;justify-content:space-between}mat-card[_ngcontent-%COMP%]{width:15em;height:12rem;overflow:hidden;margin:10px 10px 20px;padding:10px;background-color:#d1d7dc;flex:0 0 calc(25% - 20px)}mat-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:0;padding:0}mat-icon[_ngcontent-%COMP%]{align-items:center;justify-content:flex-end;text-align:center}.cardButton[_ngcontent-%COMP%]{margin:0 auto;background-color:#003566;padding:5px 10px;text-decoration:none;border:none;color:#d1d7dc!important}#subtitler[_ngcontent-%COMP%]{color:#000!important;font-weight:bolder}.cardButton[_ngcontent-%COMP%]:hover{background-color:#d90429}.likedSection[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0 auto;width:40%}.goBackButton[_ngcontent-%COMP%]{margin:0 auto;width:40%}"]})}return n})()}];let Q8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[fb.forRoot(Y8),fb]})}return n})();const X8=["*",[["mat-toolbar-row"]]],J8=["*","mat-toolbar-row"],eW=qI(class{constructor(n){this._elementRef=n}});let tW=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),nW=(()=>{class n extends eW{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.SBq),d.Y36(ya),d.Y36(de))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,s){if(1&i&&d.Suo(s,tW,5),2&i){let l;d.iGM(l=d.CRH())&&(r._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&d.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:J8,decls:2,vars:0,template:function(i,r){1&i&&(d.F$t(X8),d.Hsn(0),d.Hsn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),GF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ci,Ci]})}return n})();class qF{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Mn.x,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(s=>this._markSelected(s)),t.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}const iW=["button"],rW=["*"],u3=new d.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),h3=new d.OlP("MatButtonToggleGroup"),oW={provide:Ga,useExisting:(0,d.Gpc)(()=>p3),multi:!0};let f3=0;class m3{constructor(e,t){this.source=e,this.value=t}}let p3=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._markButtonsForCheck()}get vertical(){return this._vertical}set vertical(t){this._vertical=mi(t)}get value(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t.map(i=>i.value):t[0]?t[0].value:void 0}set value(t){this._setSelectionByValue(t),this.valueChange.emit(this.value)}get selected(){const t=this._selectionModel?this._selectionModel.selected:[];return this.multiple?t:t[0]||null}get multiple(){return this._multiple}set multiple(t){this._multiple=mi(t),this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(t){this._disabled=mi(t),this._markButtonsForCheck()}constructor(t,i){this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+f3++,this.valueChange=new d.vpe,this.change=new d.vpe,this.appearance=i&&i.appearance?i.appearance:"standard"}ngOnInit(){this._selectionModel=new qF(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(t=>t.checked))}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_emitChangeEvent(t){const i=new m3(t,this.value);this._rawValue=i.value,this._controlValueAccessorChangeFn(i.value),this.change.emit(i)}_syncButtonToggle(t,i,r=!1,s=!1){!this.multiple&&this.selected&&!t.checked&&(this.selected.checked=!1),this._selectionModel?i?this._selectionModel.select(t):this._selectionModel.deselect(t):s=!0,s?Promise.resolve().then(()=>this._updateModelValue(t,r)):this._updateModelValue(t,r)}_isSelected(t){return this._selectionModel&&this._selectionModel.isSelected(t)}_isPrechecked(t){return!(typeof this._rawValue>"u")&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(i=>null!=t.value&&i===t.value):t.value===this._rawValue)}_setSelectionByValue(t){this._rawValue=t,this._buttonToggles&&(this.multiple&&t?(Array.isArray(t),this._clearSelection(),t.forEach(i=>this._selectValue(i))):(this._clearSelection(),this._selectValue(t)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(t=>t.checked=!1)}_selectValue(t){const i=this._buttonToggles.find(r=>null!=r.value&&r.value===t);i&&(i.checked=!0,this._selectionModel.select(i))}_updateModelValue(t,i){i&&this._emitChangeEvent(t),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(t=>t._markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(d.sBO),d.Y36(u3,8))};static#t=this.\u0275dir=d.lG2({type:n,selectors:[["mat-button-toggle-group"]],contentQueries:function(i,r,s){if(1&i&&d.Suo(s,g3,5),2&i){let l;d.iGM(l=d.CRH())&&(r._buttonToggles=l)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(i,r){2&i&&(d.uIk("aria-disabled",r.disabled),d.ekj("mat-button-toggle-vertical",r.vertical)("mat-button-toggle-group-appearance-standard","standard"===r.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[d._Bn([oW,{provide:h3,useExisting:n}])]})}return n})();const sW=uF(class{});let g3=(()=>{class n extends sW{get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(t){this._appearance=t}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(t){const i=mi(t);i!==this._checked&&(this._checked=i,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(t){this._disabled=mi(t)}constructor(t,i,r,s,l,f){super(),this._changeDetectorRef=i,this._elementRef=r,this._focusMonitor=s,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new d.vpe;const p=Number(l);this.tabIndex=p||0===p?p:null,this.buttonToggleGroup=t,this.appearance=f&&f.appearance?f.appearance:"standard"}ngOnInit(){const t=this.buttonToggleGroup;this.id=this.id||"mat-button-toggle-"+f3++,t&&(t._isPrechecked(this)?this.checked=!0:t._isSelected(this)!==this._checked&&t._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const t=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),t&&t._isSelected(this)&&t._syncButtonToggle(this,!1,!1,!0)}focus(t){this._buttonElement.nativeElement.focus(t)}_onButtonClick(){const t=!!this._isSingleSelector()||!this._checked;t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new m3(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this._isSingleSelector()?this.buttonToggleGroup.name:this.name||null}_isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(h3,8),d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(lF),d.$8M("tabindex"),d.Y36(u3,8))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["mat-button-toggle"]],viewQuery:function(i,r){if(1&i&&d.Gf(iW,5),2&i){let s;d.iGM(s=d.CRH())&&(r._buttonElement=s.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(i,r){1&i&&d.NdJ("focus",function(){return r.focus()}),2&i&&(d.uIk("aria-label",null)("aria-labelledby",null)("id",r.id)("name",null),d.ekj("mat-button-toggle-standalone",!r.buttonToggleGroup)("mat-button-toggle-checked",r.checked)("mat-button-toggle-disabled",r.disabled)("mat-button-toggle-appearance-standard","standard"===r.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[d.qOj],ngContentSelectors:rW,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){if(1&i&&(d.F$t(),d.TgZ(0,"button",0,1),d.NdJ("click",function(){return r._onButtonClick()}),d.TgZ(2,"span",2),d.Hsn(3),d.qZA()(),d._UZ(4,"span",3)(5,"span",4)),2&i){const s=d.MAs(1);d.Q6J("id",r.buttonId)("disabled",r.disabled||null),d.uIk("tabindex",r.disabled?-1:r.tabIndex)("aria-pressed",r.checked)("name",r._getButtonName())("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),d.xp6(5),d.Q6J("matRippleTrigger",s)("matRippleDisabled",r.disableRipple||r.disabled)}},dependencies:[hF],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{--mat-legacy-button-toggle-height:36px;--mat-legacy-button-toggle-shape:2px;--mat-legacy-button-toggle-focus-state-layer-opacity:1;position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-text-font)}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color)}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{--mat-standard-button-toggle-shape:4px;--mat-standard-button-toggle-hover-state-layer-opacity:0.04;--mat-standard-button-toggle-focus-state-layer-opacity:0.12;color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-text-font)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}"],encapsulation:2,changeDetection:0})}return n})(),_3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[Ci,MM,Ci]})}return n})();function aW(n,e){if(1&n&&(d.TgZ(0,"mat-icon"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(),d.Oqu(t.icon)}}function cW(n,e){if(1&n&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit;d.xp6(),d.Oqu(t.name)}}function lW(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"mat-button-toggle",3),d.NdJ("click",function(){const s=d.CHM(t).$implicit,l=d.oxw();return d.KtG(l.newsService.show(s.name))}),d.YNc(1,aW,2,1,"mat-icon",4)(2,cW,2,1,"span",4),d.qZA()}if(2&n){const t=e.$implicit,i=d.oxw();d.Q6J("value",t.name),d.xp6(),d.Q6J("ngIf",i.isSmallScreen),d.xp6(),d.Q6J("ngIf",!i.isSmallScreen)}}function dW(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"span",5),d.NdJ("click",function(){d.CHM(t);const r=d.oxw();return d.KtG(r.authService.SignOut())}),d._UZ(1,"mat-icon",6),d._uU(2," logout "),d.qZA()}}let uW=(()=>{class n{onResize(t){this.isSmallScreen=t.target.innerWidth<860,this.windowInnerWidth=window.innerWidth}constructor(t,i,r,s){this.router=t,this.authService=i,this.categoryService=r,this.newsService=s,this.isSmallScreen=!1,this.isAuthenticated=!1,this.categories=this.categoryService.categories,this.showSearchComponent=!1,this.newsListComponent=!1,this.selectedCategory="general",this.categoryChanged=new d.vpe,this.windowInnerWidth=window.innerWidth}onCategoryChange(t){this.selectedCategory=t.value,this.categoryChanged.emit(this.selectedCategory),"Search"===t.value?this.router.navigate(["search"]):"Start"===t.value?this.router.navigate(["top-headlines"]):"Liked"===t.value&&this.router.navigate(["Liked"])}ngOnInit(){this.authService.isAuthenticated().subscribe(t=>{this.isAuthenticated=t})}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(wo),d.Y36(gg),d.Y36($F),d.Y36(iR))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-toolbar"]],hostBindings:function(i,r){1&i&&d.NdJ("resize",function(l){return r.onResize(l)},!1,d.Jf7)},outputs:{categoryChanged:"categoryChanged"},decls:4,vars:3,consts:[[3,"ngModel","ngModelChange","change"],[3,"value","click",4,"ngFor","ngForOf"],["class","material-symbols-outlined logout",3,"click",4,"ngIf"],[3,"value","click"],[4,"ngIf"],[1,"material-symbols-outlined","logout",3,"click"],["aria-hidden","false","aria-label","Example home icon","fontIcon","logout","id","logout"]],template:function(i,r){1&i&&(d.TgZ(0,"mat-toolbar")(1,"mat-button-toggle-group",0),d.NdJ("ngModelChange",function(l){return r.selectedCategory=l})("change",function(l){return r.onCategoryChange(l)}),d.YNc(2,lW,3,3,"mat-button-toggle",1),d.qZA(),d.YNc(3,dW,3,0,"span",2),d.qZA()),2&i&&(d.xp6(),d.Q6J("ngModel",r.selectedCategory),d.xp6(),d.Q6J("ngForOf",r.categories),d.xp6(),d.Q6J("ngIf",r.authService.isLoggedIn))},dependencies:[Hs,ao,nj,AF,nW,p3,g3,aR],styles:["mat-toolbar[_ngcontent-%COMP%]{font-size:15px!important;padding:0;display:flex;justify-content:space-between;background-color:transparent;border:none}mat-button-toggle-group[_ngcontent-%COMP%]{flex-direction:row;align-items:center;width:100%;margin:0 auto;height:2rem}mat-button-toggle[_ngcontent-%COMP%]:hover{background-color:#ced4da}.material-symbols-outlined[_ngcontent-%COMP%]{cursor:pointer;margin:0 auto}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto;padding:0 1rem}.api[_ngcontent-%COMP%], p[_ngcontent-%COMP%], a[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{font-size:10px;margin:0 auto;padding:0}.logout[_ngcontent-%COMP%]{display:flex;justify-content:center}"]})}return n})(),hW=(()=>{class n{constructor(){this.currentDay="",this.currentDate=new Date,this.currentTime=new Date}ngOnInit(){this.updateTime(),setInterval(()=>this.updateTime(),1e3)}updateTime(){const t=new Date;this.currentDay=this.getDayOfWeek(t.getDay()),this.currentDate=t,this.currentTime=t}getDayOfWeek(t){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-header"]],decls:14,vars:9,consts:[[1,"header"],[1,"clock"],[1,"api"],["href","https://newsapi.org/","target","_blank"],["src","./assets/news_logo.png","alt","logo","width","50"],[1,"banner"],[1,"theHeader"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0)(1,"div",1)(2,"p"),d._uU(3),d.ALo(4,"date"),d.ALo(5,"date"),d.qZA()(),d.TgZ(6,"div",2)(7,"p"),d._uU(8," Powered by: "),d.TgZ(9,"a",3),d._UZ(10,"img",4),d.qZA()()()(),d.TgZ(11,"div",5)(12,"h1",6),d._uU(13,"InfoHub News: Bringing the World to Your Screen"),d.qZA()()),2&i&&(d.xp6(3),d.lnq(" ",r.currentDay," ",d.xi3(4,3,r.currentTime,"HH:mm:ss")," MST, ",d.xi3(5,6,r.currentDate,"MM-dd-yyyy")," "))},dependencies:[nc],styles:[".clock[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:500}.header[_ngcontent-%COMP%]{background-color:#000;color:#fca311;text-align:center;display:flex;justify-content:space-between;padding:0 2rem}p[_ngcontent-%COMP%]{margin:0;padding:0}.api[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1vh;display:flex;justify-content:center;align-items:center;line-height:0;padding-top:2px}.banner[_ngcontent-%COMP%]{background-image:url(/assets/header.jpg);background-color:#023e8a;background-size:cover;background-repeat:no-repeat;background-position:center;width:100%;height:2em}.theHeader[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;color:#f8edeb;margin:0;padding:0 2rem;font-size:1rem;display:flex;justify-content:flex-end;font-weight:bolder;align-items:center;text-transform:uppercase}"]})}return n})();function fW(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"app-toolbar",2),d.NdJ("categoryChanged",function(r){d.CHM(t);const s=d.oxw();return d.KtG(s.onCategoryChanged(r))}),d.qZA()}}let mW=(()=>{class n{constructor(t,i){this.activatedRoute=t,this.router=i,this.title="newsApp",this.selectedCategory="general",this.isLoggedIn=!1,this.isLoginPage=!1,this.activatedRoute.url.subscribe(r=>{this.isLoginPage=r.some(s=>"login"===s.path)}),this.router.events.subscribe(r=>{r instanceof hr&&(this.isLoggedIn="/login"!==r.url)})}onCategoryChanged(t){this.selectedCategory=t}static#e=this.\u0275fac=function(i){return new(i||n)(d.Y36(Re),d.Y36(wo))};static#t=this.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:1,consts:[[1,"container"],[3,"categoryChanged",4,"ngIf"],[3,"categoryChanged"]],template:function(i,r){1&i&&(d.TgZ(0,"div",0),d._UZ(1,"app-header"),d.YNc(2,fW,1,0,"app-toolbar",1),d._UZ(3,"router-outlet"),d.qZA()),2&i&&(d.xp6(2),d.Q6J("ngIf",r.isLoggedIn&&!r.isLoginPage))},dependencies:[ao,Gm,uW,hW],styles:[".container[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}"]})}return n})();function v3(n){return new d.vHH(3e3,!1)}function Cg(n){switch(n.length){case 0:return new ef;case 1:return n[0];default:return new sp(n)}}function y3(n,e,t=new Map,i=new Map){const r=[],s=[];let l=-1,f=null;if(e.forEach(p=>{const v=p.get("offset"),C=v==l,D=C&&f||new Map;p.forEach((M,P)=>{let V=P,j=M;if("offset"!==P)switch(V=n.normalizePropertyName(V,r),j){case"!":j=t.get(P);break;case Bo:j=i.get(P);break;default:j=n.normalizeStyleValue(P,V,j,r)}D.set(V,j)}),C||s.push(D),f=D,l=v}),r.length)throw function LW(n){return new d.vHH(3502,!1)}();return s}function WF(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&ZF(t,"start",n)));break;case"done":n.onDone(()=>i(t&&ZF(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&ZF(t,"destroy",n)))}}function ZF(n,e,t){const s=KF(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function KF(n,e,t,i,r="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function qa(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function b3(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const KW=(()=>typeof document>"u"?null:document.documentElement)();function YF(n){const e=n.parentNode||n.host||null;return e===KW?null:e}let my=null,w3=!1;function x3(n,e){for(;e;){if(e===n)return!0;e=YF(e)}return!1}function E3(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let QF=(()=>{class n{validateStyleProperty(t){return function QW(n){my||(my=function XW(){return typeof document<"u"?document.body:null}()||{},w3=!!my.style&&"WebkitAppearance"in my.style);let e=!0;return my.style&&!function YW(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in my.style,!e&&w3&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in my.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return x3(t,i)}getParentElement(t){return YF(t)}query(t,i,r){return E3(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,l,f=[],p){return new ef(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})(),XF=(()=>{class n{static#e=this.NOOP=new QF}return n})();class JF{}const e9=1e3,eL="ng-enter",lR="ng-leave",dR="ng-trigger",uR=".ng-trigger",I3="ng-animating",tL=".ng-animating";function Yf(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:nL(parseFloat(e[1]),e[2])}function nL(n,e){return"s"===e?n*e9:n}function hR(n,e,t){return n.hasOwnProperty("duration")?n:function n9(n,e,t){let r,s=0,l="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(v3()),{duration:0,delay:0,easing:""};r=nL(parseFloat(f[1]),f[2]);const p=f[3];null!=p&&(s=nL(parseFloat(p),f[4]));const v=f[5];v&&(l=v)}else r=n;if(!t){let f=!1,p=e.length;r<0&&(e.push(function pW(){return new d.vHH(3100,!1)}()),f=!0),s<0&&(e.push(function gW(){return new d.vHH(3101,!1)}()),f=!0),f&&e.splice(p,0,v3())}return{duration:r,delay:s,easing:l}}(n,e,t)}function sT(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function T3(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Ig(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Xu(n,e,t){e.forEach((i,r)=>{const s=rL(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function py(n,e){e.forEach((t,i)=>{const r=rL(i);n.style[r]=""})}function aT(n){return Array.isArray(n)?1==n.length?n[0]:function TD(n,e=null){return{type:2,steps:n,options:e}}(n):n}const iL=new RegExp("{{\\s*(.+?)\\s*}}","g");function S3(n){let e=[];if("string"==typeof n){let t;for(;t=iL.exec(n);)e.push(t[1]);iL.lastIndex=0}return e}function cT(n,e,t){const i=n.toString(),r=i.replace(iL,(s,l)=>{let f=e[l];return null==f&&(t.push(function vW(n){return new d.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function fR(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const o9=/-+([a-z0-9])/g;function rL(n){return n.replace(o9,(...e)=>e[1].toUpperCase())}function Wa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function yW(n){return new d.vHH(3004,!1)}()}}function A3(n,e){return window.getComputedStyle(n)[e]}const c9=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class k3 extends JF{normalizePropertyName(e,t){return rL(e)}normalizeStyleValue(e,t,i,r){let s="";const l=i.toString().trim();if(c9.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function bW(n,e){return new d.vHH(3005,!1)}())}return l+s}}const mR="*";function l9(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function d9(n,e,t){if(":"==n[0]){const p=function u9(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function NW(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function RW(n){return new d.vHH(3015,!1)}()),e;const r=i[1],s=i[2],l=i[3];e.push(M3(r,l));"<"==s[0]&&!(r==mR&&l==mR)&&e.push(M3(l,r))}(i,t,e)):t.push(n),t}const pR=new Set(["true","1"]),gR=new Set(["false","0"]);function M3(n,e){const t=pR.has(n)||gR.has(n),i=pR.has(e)||gR.has(e);return(r,s)=>{let l=n==mR||n==r,f=e==mR||e==s;return!l&&t&&"boolean"==typeof r&&(l=r?pR.has(n):gR.has(n)),!f&&i&&"boolean"==typeof s&&(f=s?pR.has(e):gR.has(e)),l&&f}}const h9=new RegExp("s*:selfs*,?","g");function oL(n,e,t,i){return new f9(n).build(e,t,i)}class f9{constructor(e){this._driver=e}build(e,t,i){const r=new g9(t);return this._resetContextStyleTimingState(r),Wa(this,aT(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function wW(){return new d.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const p=f,v=p.name;v.toString().split(/\s*,\s*/).forEach(C=>{p.name=C,s.push(this.visitState(p,t))}),p.name=v}else if(1==f.type){const p=this.visitTransition(f,t);i+=p.queryCount,r+=p.depCount,l.push(p)}else t.errors.push(function xW(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(p=>{S3(p).forEach(v=>{l.hasOwnProperty(v)||s.add(v)})})}),s.size&&(fR(s.values()),t.errors.push(function EW(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Wa(this,aT(e.animation),t);return{type:1,matchers:l9(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:gy(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Wa(this,i,t)),options:gy(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(l=>{t.currentTime=i;const f=Wa(this,l,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:s,options:gy(e.options)}}visitAnimate(e,t){const i=function v9(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return sL(hR(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=sL(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=hR(t,e);return sL(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Sn({});if(5==s.type)r=this.visitKeyframes(s,t);else{let l=e.styles,f=!1;if(!l){f=!0;const v={};i.easing&&(v.easing=i.easing),l=Sn(v)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(l,t);p.isEmptyStep=f,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===Bo?i.push(f):t.errors.push(new d.vHH(3002,!1)):i.push(T3(f));let s=!1,l=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(l=f.get("easing"),f.delete("easing")),!s))for(let p of f.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((f,p)=>{const v=t.collectedStyles.get(t.currentQuerySelector),C=v.get(p);let D=!0;C&&(s!=r&&s>=C.startTime&&r<=C.endTime&&(t.errors.push(function IW(n,e,t,i,r){return new d.vHH(3010,!1)}()),D=!1),s=C.startTime),D&&v.set(p,{startTime:s,endTime:r}),t.options&&function r9(n,e,t){const i=e.params||{},r=S3(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function _W(n){return new d.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function TW(){return new d.vHH(3011,!1)}()),i;let s=0;const l=[];let f=!1,p=!1,v=0;const C=e.steps.map(ye=>{const Pe=this._makeStyleAst(ye,t);let De=null!=Pe.offset?Pe.offset:function _9(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Pe.styles),Be=0;return null!=De&&(s++,Be=Pe.offset=De),p=p||Be<0||Be>1,f=f||Be<v,v=Be,l.push(Be),Pe});p&&t.errors.push(function DW(){return new d.vHH(3012,!1)}()),f&&t.errors.push(function SW(){return new d.vHH(3200,!1)}());const D=e.steps.length;let M=0;s>0&&s<D?t.errors.push(function AW(){return new d.vHH(3202,!1)}()):0==s&&(M=1/(D-1));const P=D-1,V=t.currentTime,j=t.currentAnimateTimings,X=j.duration;return C.forEach((ye,Pe)=>{const De=M>0?Pe==P?1:M*Pe:l[Pe],Be=De*X;t.currentTime=V+j.delay+Be,j.duration=Be,this._validateStyleAst(ye,t),ye.offset=De,i.styles.push(ye)}),i}visitReference(e,t){return{type:8,animation:Wa(this,aT(e.animation),t),options:gy(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:gy(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:gy(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function m9(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(h9,"")),n=n.replace(/@\*/g,uR).replace(/@\w+/g,t=>uR+"-"+t.slice(1)).replace(/:animating/g,tL),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,qa(t.collectedStyles,t.currentQuerySelector,new Map);const f=Wa(this,aT(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:f,originalSelector:e.selector,options:gy(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function kW(){return new d.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:hR(e.timings,t.errors,!0);return{type:12,animation:Wa(this,aT(e.animation),t),timings:i,options:null}}}class g9{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gy(n){return n?(n=sT(n)).params&&(n.params=function p9(n){return n?sT(n):null}(n.params)):n={},n}function sL(n,e,t){return{duration:n,delay:e,easing:t}}function aL(n,e,t,i,r,s,l=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:f}}class _R{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const w9=new RegExp(":enter","g"),E9=new RegExp(":leave","g");function cL(n,e,t,i,r,s=new Map,l=new Map,f,p,v=[]){return(new C9).buildKeyframes(n,e,t,i,r,s,l,f,p,v)}class C9{buildKeyframes(e,t,i,r,s,l,f,p,v,C=[]){v=v||new _R;const D=new lL(e,t,v,r,s,C,[]);D.options=p;const M=p.delay?Yf(p.delay):0;D.currentTimeline.delayNextStep(M),D.currentTimeline.setStyles([l],null,D.errors,p),Wa(this,i,D);const P=D.timelines.filter(V=>V.containsAnimation());if(P.length&&f.size){let V;for(let j=P.length-1;j>=0;j--){const X=P[j];if(X.element===t){V=X;break}}V&&!V.allowOnlyTimelineStyles()&&V.setStyles([f],null,D.errors,p)}return P.length?P.map(V=>V.buildKeyframes()):[aL(t,[],[],[],0,M,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const l="number"==typeof s?s:Yf(cT(s,r?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const l=null!=i.duration?Yf(i.duration):null,f=null!=i.delay?Yf(i.delay):null;return 0!==l&&e.forEach(p=>{const v=t.appendInstructionToTimeline(p,l,f);s=Math.max(s,v.duration+v.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Wa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vR);const l=Yf(s.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Wa(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Yf(e.options.delay):0;e.steps.forEach(l=>{const f=t.createSubContext(e.options);s&&f.delayNextStep(s),Wa(this,l,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return hR(t.params?cT(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(p=>{f.forwardTime((p.offset||0)*s),f.setStyles(p.styles,p.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Yf(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=vR);let l=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let p=null;f.forEach((v,C)=>{t.currentQueryIndex=C;const D=t.createSubContext(e.options,v);s&&D.delayNextStep(s),v===t.element&&(p=D.currentTimeline),Wa(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),f=l*(t.currentQueryTotal-1);let p=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=f-p;break;case"full":p=i.currentStaggerTime}const C=t.currentTimeline;p&&C.delayNextStep(p);const D=C.currentTime;Wa(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const vR={};class lL{constructor(e,t,i,r,s,l,f,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vR,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new yR(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Yf(i.duration)),null!=i.delay&&(r.delay=Yf(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(f=>{(!t||!l.hasOwnProperty(f))&&(l[f]=cT(s[f],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new lL(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=vR,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new I9(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,l){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(w9,"."+this._enterClassName)).replace(E9,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),f.push(...v)}return!s&&0==f.length&&l.push(function MW(n){return new d.vHH(3014,!1)}()),f}}class yR{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new yR(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Bo),this._currentKeyframe.set(t,Bo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},l=function T9(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Bo)}else Ig(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,p]of l){const v=cT(p,s,i);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Bo),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,p)=>{const v=Ig(f,new Map,this._backFill);v.forEach((C,D)=>{"!"===C?e.add(D):C===Bo&&t.add(D)}),i||v.set("offset",p/this.duration),r.push(v)});const s=e.size?fR(e.values()):[],l=t.size?fR(t.values()):[];if(i){const f=r[0],p=new Map(f);f.set("offset",0),p.set("offset",1),r=[f,p]}return aL(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class I9 extends yR{constructor(e,t,i,r,s,l,f=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=f,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=i+t,f=t/l,p=Ig(e[0]);p.set("offset",0),s.push(p);const v=Ig(e[0]);v.set("offset",O3(f)),s.push(v);const C=e.length-1;for(let D=1;D<=C;D++){let M=Ig(e[D]);const P=M.get("offset");M.set("offset",O3((t+P*i)/l)),s.push(M)}i=l,t=0,r="",e=s}return aL(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function O3(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function P3(n,e,t,i,r,s,l,f,p,v,C,D,M){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:l,timelines:f,queriedElements:p,preStyleProps:v,postStyleProps:C,totalTime:D,errors:M}}const dL={};class F3{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function D9(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,l,f,p,v,C){const D=[],M=this.ast.options&&this.ast.options.params||dL,V=this.buildStyles(i,f&&f.params||dL,D),j=p&&p.params||dL,X=this.buildStyles(r,j,D),ye=new Set,Pe=new Map,De=new Map,Be="void"===r,Et={params:S9(j,M),delay:this.ast.options?.delay},_t=C?[]:cL(e,t,this.ast.animation,s,l,V,X,Et,v,D);let dn=0;if(_t.forEach(gs=>{dn=Math.max(gs.duration+gs.delay,dn)}),D.length)return P3(t,this._triggerName,i,r,Be,V,X,[],[],Pe,De,dn,D);_t.forEach(gs=>{const tm=gs.element,_6=qa(Pe,tm,new Set);gs.preStyleProps.forEach(Ay=>_6.add(Ay));const GT=qa(De,tm,new Set);gs.postStyleProps.forEach(Ay=>GT.add(Ay)),tm!==t&&ye.add(tm)});const Di=fR(ye.values());return P3(t,this._triggerName,i,r,Be,V,X,_t,Di,Pe,De,dn)}}function S9(n,e){const t=sT(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class A9{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=sT(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,f)=>{l&&(l=cT(l,r,t));const p=this.normalizer.normalizePropertyName(f,t);l=this.normalizer.normalizeStyleValue(f,p,l,t),i.set(f,l)})}),i}}class M9{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new A9(r.style,r.options&&r.options.params||{},i))}),L3(this.states,"true","1"),L3(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new F3(e,r,this.states))}),this.fallbackTransition=function R9(n,e,t){return new F3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(l=>l.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function L3(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const N9=new _R;class O9{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=oL(this._driver,t,i,[]);if(i.length)throw function VW(n){return new d.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=y3(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let l;const f=new Map;if(s?(l=cL(this._driver,t,s,eL,lR,new Map,new Map,i,N9,r),l.forEach(C=>{const D=qa(f,C.element,new Map);C.postStyleProps.forEach(M=>D.set(M,null))})):(r.push(function BW(){return new d.vHH(3300,!1)}()),l=[]),r.length)throw function UW(n){return new d.vHH(3504,!1)}();f.forEach((C,D)=>{C.forEach((M,P)=>{C.set(P,this._driver.computeStyle(D,P,Bo))})});const v=Cg(l.map(C=>{const D=f.get(C.element);return this._buildPlayer(C,new Map,D)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function jW(n){return new d.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=KF(t,"","","");return WF(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const V3="ng-animate-queued",uL="ng-animate-disabled",B9=[],B3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},U9={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Td="__ng_removed";class hL{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function $9(n){return n??null}(i?e.value:e),i){const s=sT(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const lT="void",fL=new hL(lT);class j9{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,al(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function HW(n,e){return new d.vHH(3302,!1)}();if(null==i||0==i.length)throw function zW(n){return new d.vHH(3303,!1)}();if(!function G9(n){return"start"==n||"done"==n}(i))throw function $W(n,e){return new d.vHH(3400,!1)}();const s=qa(this._elementListeners,e,[]),l={name:t,phase:i,callback:r};s.push(l);const f=qa(this._engine.statesByElement,e,new Map);return f.has(t)||(al(e,dR),al(e,dR+"-"+t),f.set(t,fL)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(l);p>=0&&s.splice(p,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function GW(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),l=new mL(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(al(e,dR),al(e,dR+"-"+t),this._engine.statesByElement.set(e,f=new Map));let p=f.get(t);const v=new hL(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&v.absorbOptions(p.options),f.set(t,v),p||(p=fL),v.value!==lT&&p.value===v.value){if(!function Z9(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,v.params)){const j=[],X=s.matchStyles(p.value,p.params,j),ye=s.matchStyles(v.value,v.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{py(e,X),Xu(e,ye)})}return}const M=qa(this._engine.playersByElement,e,[]);M.forEach(j=>{j.namespaceId==this.id&&j.triggerName==t&&j.queued&&j.destroy()});let P=s.matchTransition(p.value,v.value,e,v.params),V=!1;if(!P){if(!r)return;P=s.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:P,fromState:p,toState:v,player:l,isFallbackTransition:V}),V||(al(e,V3),l.onStart(()=>{jw(e,V3)})),l.onDone(()=>{let j=this.players.indexOf(l);j>=0&&this.players.splice(j,1);const X=this._engine.playersByElement.get(e);if(X){let ye=X.indexOf(l);ye>=0&&X.splice(ye,1)}}),this.players.push(l),M.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,uR,!0);i.forEach(r=>{if(r[Td])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const f=[];if(s.forEach((p,v)=>{if(l.set(v,p.value),this._triggers.has(v)){const C=this.trigger(e,v,lT,r);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&Cg(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const p=this._triggers.get(l).fallbackTransition,v=i.get(l)||fL,C=new hL(lT),D=new mL(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:p,fromState:v,toState:C,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Td];(!s||s===B3)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){al(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(f=>{if(f.name==i.triggerName){const p=KF(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,WF(i.player,f.phase,p,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class H9{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new j9(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,f=this.driver.getParentElement(t);for(;f;){const p=r.get(f);if(p){const v=i.indexOf(p);i.splice(v+1,0,e),l=!0;break}f=this.driver.getParentElement(f)}l||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(bR(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!bR(t))return;const s=t[Td];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),al(e,uL)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),jw(e,uL))}removeNode(e,t,i){if(bR(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Td]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return bR(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,uR,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,tL,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Cg(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Td];if(t&&t.setForRemoval){if(e[Td]=B3,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(uL)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)al(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Cg(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function qW(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new _R,r=[],s=new Map,l=[],f=new Map,p=new Map,v=new Map,C=new Set;this.disabledNodes.forEach(bt=>{C.add(bt);const Pt=this.driver.query(bt,".ng-animate-queued",!0);for(let Wt=0;Wt<Pt.length;Wt++)C.add(Pt[Wt])});const D=this.bodyNode,M=Array.from(this.statesByElement.keys()),P=H3(M,this.collectedEnterElements),V=new Map;let j=0;P.forEach((bt,Pt)=>{const Wt=eL+j++;V.set(Pt,Wt),bt.forEach(Un=>al(Un,Wt))});const X=[],ye=new Set,Pe=new Set;for(let bt=0;bt<this.collectedLeaveElements.length;bt++){const Pt=this.collectedLeaveElements[bt],Wt=Pt[Td];Wt&&Wt.setForRemoval&&(X.push(Pt),ye.add(Pt),Wt.hasAnimation?this.driver.query(Pt,".ng-star-inserted",!0).forEach(Un=>ye.add(Un)):Pe.add(Pt))}const De=new Map,Be=H3(M,Array.from(ye));Be.forEach((bt,Pt)=>{const Wt=lR+j++;De.set(Pt,Wt),bt.forEach(Un=>al(Un,Wt))}),e.push(()=>{P.forEach((bt,Pt)=>{const Wt=V.get(Pt);bt.forEach(Un=>jw(Un,Wt))}),Be.forEach((bt,Pt)=>{const Wt=De.get(Pt);bt.forEach(Un=>jw(Un,Wt))}),X.forEach(bt=>{this.processLeaveNode(bt)})});const Et=[],_t=[];for(let bt=this._namespaceList.length-1;bt>=0;bt--)this._namespaceList[bt].drainQueuedTransitions(t).forEach(Wt=>{const Un=Wt.player,So=Wt.element;if(Et.push(Un),this.collectedEnterElements.length){const _s=So[Td];if(_s&&_s.setForMove){if(_s.previousTriggersValues&&_s.previousTriggersValues.has(Wt.triggerName)){const ky=_s.previousTriggersValues.get(Wt.triggerName),ul=this.statesByElement.get(Wt.element);if(ul&&ul.has(Wt.triggerName)){const f1=ul.get(Wt.triggerName);f1.value=ky,ul.set(Wt.triggerName,f1)}}return void Un.destroy()}}const sh=!D||!this.driver.containsElement(D,So),Qa=De.get(So),Lg=V.get(So),sr=this._buildInstruction(Wt,i,Lg,Qa,sh);if(sr.errors&&sr.errors.length)return void _t.push(sr);if(sh)return Un.onStart(()=>py(So,sr.fromStyles)),Un.onDestroy(()=>Xu(So,sr.toStyles)),void r.push(Un);if(Wt.isFallbackTransition)return Un.onStart(()=>py(So,sr.fromStyles)),Un.onDestroy(()=>Xu(So,sr.toStyles)),void r.push(Un);const b6=[];sr.timelines.forEach(_s=>{_s.stretchStartingKeyframe=!0,this.disabledNodes.has(_s.element)||b6.push(_s)}),sr.timelines=b6,i.append(So,sr.timelines),l.push({instruction:sr,player:Un,element:So}),sr.queriedElements.forEach(_s=>qa(f,_s,[]).push(Un)),sr.preStyleProps.forEach((_s,ky)=>{if(_s.size){let ul=p.get(ky);ul||p.set(ky,ul=new Set),_s.forEach((f1,j2)=>ul.add(j2))}}),sr.postStyleProps.forEach((_s,ky)=>{let ul=v.get(ky);ul||v.set(ky,ul=new Set),_s.forEach((f1,j2)=>ul.add(j2))})});if(_t.length){const bt=[];_t.forEach(Pt=>{bt.push(function WW(n,e){return new d.vHH(3505,!1)}())}),Et.forEach(Pt=>Pt.destroy()),this.reportError(bt)}const dn=new Map,Di=new Map;l.forEach(bt=>{const Pt=bt.element;i.has(Pt)&&(Di.set(Pt,Pt),this._beforeAnimationBuild(bt.player.namespaceId,bt.instruction,dn))}),r.forEach(bt=>{const Pt=bt.element;this._getPreviousPlayers(Pt,!1,bt.namespaceId,bt.triggerName,null).forEach(Un=>{qa(dn,Pt,[]).push(Un),Un.destroy()})});const gs=X.filter(bt=>$3(bt,p,v)),tm=new Map;j3(tm,this.driver,Pe,v,Bo).forEach(bt=>{$3(bt,p,v)&&gs.push(bt)});const GT=new Map;P.forEach((bt,Pt)=>{j3(GT,this.driver,new Set(bt),p,"!")}),gs.forEach(bt=>{const Pt=tm.get(bt),Wt=GT.get(bt);tm.set(bt,new Map([...Pt?.entries()??[],...Wt?.entries()??[]]))});const Ay=[],v6=[],y6={};l.forEach(bt=>{const{element:Pt,player:Wt,instruction:Un}=bt;if(i.has(Pt)){if(C.has(Pt))return Wt.onDestroy(()=>Xu(Pt,Un.toStyles)),Wt.disabled=!0,Wt.overrideTotalTime(Un.totalTime),void r.push(Wt);let So=y6;if(Di.size>1){let Qa=Pt;const Lg=[];for(;Qa=Qa.parentNode;){const sr=Di.get(Qa);if(sr){So=sr;break}Lg.push(Qa)}Lg.forEach(sr=>Di.set(sr,So))}const sh=this._buildAnimation(Wt.namespaceId,Un,dn,s,GT,tm);if(Wt.setRealPlayer(sh),So===y6)Ay.push(Wt);else{const Qa=this.playersByElement.get(So);Qa&&Qa.length&&(Wt.parentPlayer=Cg(Qa)),r.push(Wt)}}else py(Pt,Un.fromStyles),Wt.onDestroy(()=>Xu(Pt,Un.toStyles)),v6.push(Wt),C.has(Pt)&&r.push(Wt)}),v6.forEach(bt=>{const Pt=s.get(bt.element);if(Pt&&Pt.length){const Wt=Cg(Pt);bt.setRealPlayer(Wt)}}),r.forEach(bt=>{bt.parentPlayer?bt.syncPlayerEvents(bt.parentPlayer):bt.destroy()});for(let bt=0;bt<X.length;bt++){const Pt=X[bt],Wt=Pt[Td];if(jw(Pt,lR),Wt&&Wt.hasAnimation)continue;let Un=[];if(f.size){let sh=f.get(Pt);sh&&sh.length&&Un.push(...sh);let Qa=this.driver.query(Pt,tL,!0);for(let Lg=0;Lg<Qa.length;Lg++){let sr=f.get(Qa[Lg]);sr&&sr.length&&Un.push(...sr)}}const So=Un.filter(sh=>!sh.destroyed);So.length?q9(this,Pt,So):this.processLeaveNode(Pt)}return X.length=0,Ay.forEach(bt=>{this.players.push(bt),bt.onDone(()=>{bt.destroy();const Pt=this.players.indexOf(bt);this.players.splice(Pt,1)}),bt.play()}),Ay}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let l=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(l=f)}else{const f=this.playersByElement.get(e);if(f){const p=!s||s==lT;f.forEach(v=>{v.queued||!p&&v.triggerName!=r||l.push(v)})}}return(i||r)&&(l=l.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),l}_beforeAnimationBuild(e,t,i){const s=t.element,l=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const v=p.element,C=v!==s,D=qa(i,v,[]);this._getPreviousPlayers(v,C,l,f,t.toState).forEach(P=>{const V=P.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),P.destroy(),D.push(P)})}py(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,l){const f=t.triggerName,p=t.element,v=[],C=new Set,D=new Set,M=t.timelines.map(V=>{const j=V.element;C.add(j);const X=j[Td];if(X&&X.removedBeforeQueried)return new ef(V.duration,V.delay);const ye=j!==p,Pe=function W9(n){const e=[];return z3(n,e),e}((i.get(j)||B9).map(dn=>dn.getRealPlayer())).filter(dn=>!!dn.element&&dn.element===j),De=s.get(j),Be=l.get(j),Et=y3(this._normalizer,V.keyframes,De,Be),_t=this._buildPlayer(V,Et,Pe);if(V.subTimeline&&r&&D.add(j),ye){const dn=new mL(e,f,j);dn.setRealPlayer(_t),v.push(dn)}return _t});v.forEach(V=>{qa(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function z9(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,V.element,V))}),C.forEach(V=>al(V,I3));const P=Cg(M);return P.onDestroy(()=>{C.forEach(V=>jw(V,I3)),Xu(p,t.toStyles)}),D.forEach(V=>{qa(r,V,[]).push(P)}),P}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new ef(e.duration,e.delay)}}class mL{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new ef,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>WF(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){qa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function bR(n){return n&&1===n.nodeType}function U3(n,e){const t=n.style.display;return n.style.display=e??"none",t}function j3(n,e,t,i,r){const s=[];t.forEach(p=>s.push(U3(p)));const l=[];i.forEach((p,v)=>{const C=new Map;p.forEach(D=>{const M=e.computeStyle(v,D,r);C.set(D,M),(!M||0==M.length)&&(v[Td]=U9,l.push(v))}),n.set(v,C)});let f=0;return t.forEach(p=>U3(p,s[f++])),l}function H3(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),s=new Map;function l(f){if(!f)return 1;let p=s.get(f);if(p)return p;const v=f.parentNode;return p=t.has(v)?v:r.has(v)?1:l(v),s.set(f,p),p}return e.forEach(f=>{const p=l(f);1!==p&&t.get(p).push(f)}),t}function al(n,e){n.classList?.add(e)}function jw(n,e){n.classList?.remove(e)}function q9(n,e,t){Cg(t).onDone(()=>n.processLeaveNode(e))}function z3(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof sp?z3(i.players,e):e.push(i)}}function $3(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class dT{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new H9(e.body,t,i),this._timelineEngine=new O9(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const l=e+"-"+r;let f=this._triggerCache[l];if(!f){const p=[],C=oL(this._driver,s,p,[]);if(p.length)throw function FW(n,e){return new d.vHH(3404,!1)}();f=function k9(n,e,t){return new M9(n,e,t)}(r,C,this._normalizer),this._triggerCache[l]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,l]=b3(i);this._timelineEngine.command(s,t,l,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[l,f]=b3(i);return this._timelineEngine.listen(l,t,f,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Y9=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Xu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xu(this._element,this._initialStyles),this._endStyles&&(Xu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(py(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(py(this._element,this._endStyles),this._endStyles=null),Xu(this._element,this._initialStyles),this._state=3)}}return n})();function pL(n){let e=null;return n.forEach((t,i)=>{(function Q9(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class G3{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:A3(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class q3{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return x3(e,t)}getParentElement(e){return YF(e)}query(e,t,i){return E3(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,l=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const v=new Map,C=l.filter(P=>P instanceof G3);(function s9(n,e){return 0===n||0===e})(i,r)&&C.forEach(P=>{P.currentSnapshot.forEach((V,j)=>v.set(j,V))});let D=function i9(n){return n.length?n[0]instanceof Map?n:n.map(e=>T3(e)):[]}(t).map(P=>Ig(P));D=function a9(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<e.length;s++){let l=e[s];r.forEach(f=>l.set(f,A3(n,f)))}}return e}(e,D,v);const M=function K9(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=pL(e[0]),e.length>1&&(i=pL(e[e.length-1]))):e instanceof Map&&(t=pL(e)),t||i?new Y9(n,t,i):null}(e,D);return new G3(e,D,p,M)}}const W3="@.disabled";class Z3{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==W3?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class X9 extends Z3{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==W3?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function J9(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function eZ(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}class tZ{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{const l=s?.parentNode(r);l&&s.removeChild(l,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const v=this._rendererCache;let C=v.get(r);return C||(C=new Z3("",r,this.engine,()=>v.delete(r)),v.set(r,C)),C}const s=t.id,l=t.id+"-"+this._currentId;this._currentId++,this.engine.register(l,e);const f=v=>{Array.isArray(v)?v.forEach(f):this.engine.registerTrigger(s,l,e,v.name,v)};return t.data.animation.forEach(f),new X9(this,l,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{const[l,f]=s;l(f)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let nZ=(()=>{class n extends dT{constructor(t,i,r,s){super(t,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(d.LFG(de),d.LFG(XF),d.LFG(JF),d.LFG(d.z2F))};static#t=this.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac})}return n})();const K3=[{provide:JF,useFactory:function iZ(){return new k3}},{provide:dT,useClass:nZ},{provide:d.FYo,useFactory:function rZ(n,e,t){return new tZ(n,e,t)},deps:[Js,dT,d.R0b]}],gL=[{provide:XF,useFactory:()=>new q3},{provide:d.QbO,useValue:"BrowserAnimations"},...K3],Y3=[{provide:XF,useClass:QF},{provide:d.QbO,useValue:"NoopAnimations"},...K3];let oZ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Y3:gL}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({providers:gL,imports:[gc]})}return n})(),vL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[_U,qr,Ci,MM,V5,OM]})}return n})(),PZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})(),BZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})(),nH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[qr,Ci,PZ,BZ]})}return n})(),UZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[qr,GF,NM,_3,OM,vL,pU,cR,LF,YI,nT,Pj,nT,nH,qr,GF,NM,_3,OM,vL,pU,cR,LF,YI,nT,Pj,nT,nH]})}return n})();class jZ{constructor(e,t){this._delegate=e,this.firebase=t,(0,vr._addComponent)(e,new ha.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,vr.deleteApp)(this._delegate)))}_getService(e,t=vr._DEFAULT_ENTRY_NAME){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&"EXPLICIT"===(null===(i=r.getComponent())||void 0===i?void 0:i.instantiationMode)&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=vr._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,vr._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,vr._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const iH=new F.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$Z=function rH(){const n=function zZ(n){const e={},t={__esModule:!0,initializeApp:function s(v,C={}){const D=vr.initializeApp(v,C);if((0,F.r3)(e,D.name))return e[D.name];const M=new n(D,t);return e[D.name]=M,M},app:r,registerVersion:vr.registerVersion,setLogLevel:vr.setLogLevel,onLog:vr.onLog,apps:null,SDK_VERSION:vr.SDK_VERSION,INTERNAL:{registerComponent:function f(v){const C=v.name,D=C.replace("-compat","");if(vr._registerComponent(v)&&"PUBLIC"===v.type){const M=(P=r())=>{if("function"!=typeof P[D])throw iH.create("invalid-app-argument",{appName:C});return P[D]()};void 0!==v.serviceProps&&(0,F.ZB)(M,v.serviceProps),t[D]=M,n.prototype[D]=function(...P){return this._getService.bind(this,C).apply(this,v.multipleInstances?P:[])}}return"PUBLIC"===v.type?t[D]:null},removeApp:function i(v){delete e[v]},useAsService:function p(v,C){return"serverAuth"===C?null:C},modularAPIs:vr}};function r(v){if(!(0,F.r3)(e,v=v||vr._DEFAULT_ENTRY_NAME))throw iH.create("no-app",{appName:v});return e[v]}return t.default=t,Object.defineProperty(t,"apps",{get:function l(){return Object.keys(e).map(v=>e[v])}}),r.App=n,t}(jZ);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:rH,extendNamespace:function e(t){(0,F.ZB)(n,t)},createSubscribe:F.ne,ErrorFactory:F.LL,deepExtend:F.ZB}),n}(),oH=new ds.Yd("@firebase/app-compat");if((0,F.jU)()&&void 0!==self.firebase){oH.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&oH.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ZZ=$Z;!function WZ(n){(0,vr.registerVersion)("@firebase/app-compat","0.2.19",n)}();const sH="firebasestorage.googleapis.com",aH="storageBucket";class rr extends F.ZR{constructor(e,t,i=0){super(yL(e),`Firebase Storage: ${t} (${yL(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yL(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var qi=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(qi||{});function yL(n){return"storage/"+n}function bL(){return new rr(qi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function cH(){return new rr(qi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lH(){return new rr(qi.CANCELED,"User canceled the upload/download.")}function dH(){return new rr(qi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Hw(n){return new rr(qi.INVALID_ARGUMENT,n)}function uH(){return new rr(qi.APP_DELETED,"The Firebase app was deleted.")}function hH(n){return new rr(qi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function uT(n,e){return new rr(qi.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function hT(n){throw new rr(qi.INTERNAL_ERROR,"Internal error: "+n)}class ms{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ms.makeFromUrl(e,t)}catch{return new ms(e,"")}if(""===i.path)return i;throw function r7(n){return new rr(qi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(Be){Be.path_=decodeURIComponent(Be.path)}const D=t.replace(/[.]/g,"\\."),De=[{regex:f,indices:{bucket:1,path:3},postModify:function s(Be){"/"===Be.path.charAt(Be.path.length-1)&&(Be.path_=Be.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===sH?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Be=0;Be<De.length;Be++){const Et=De[Be],_t=Et.regex.exec(e);if(_t){let Di=_t[Et.indices.path];Di||(Di=""),i=new ms(_t[Et.indices.bucket],Di),Et.postModify(i);break}}if(null==i)throw function i7(n){return new rr(qi.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class l7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function xR(n){return"string"==typeof n||n instanceof String}function fH(n){return wL()&&n instanceof Blob}function wL(){return typeof Blob<"u"&&!(0,F.UG)()}function xL(n,e,t,i){if(i<e)throw Hw(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Hw(`Invalid value for '${n}'. Expected ${t} or less.`)}function Qf(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function mH(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var zw=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(zw||{});function pH(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||r||s}class p7{constructor(e,t,i,r,s,l,f,p,v,C,D,M=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=f,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=C,this.connectionFactory_=D,this.retry=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,V)=>{this.resolve_=P,this.reject_=V,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,l=this.reject_,f=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());!function h7(n){return void 0!==n}(p)?s():s(p)}catch(p){l(p)}else if(null!==f){const p=bL();p.serverResponse=f.getErrorText(),l(this.errorCallback_?this.errorCallback_(f,p):p)}else l(r.canceled?this.appDelete_?uH():lH():cH())};this.canceled_?t(0,new ER(!1,null,!0)):this.backoffId_=function d7(n,e,t){let i=1,r=null,s=null,l=!1,f=0;function p(){return 2===f}let v=!1;function C(...X){v||(v=!0,e.apply(null,X))}function D(X){r=setTimeout(()=>{r=null,n(P,p())},X)}function M(){s&&clearTimeout(s)}function P(X,...ye){if(v)return void M();if(X)return M(),void C.call(null,X,...ye);if(p()||l)return M(),void C.call(null,X,...ye);let De;i<64&&(i*=2),1===f?(f=2,De=0):De=1e3*(i+Math.random()),D(De)}let V=!1;function j(X){V||(V=!0,M(),!v&&(null!==r?(X||(f=2),clearTimeout(r),D(0)):X||(f=1)))}return D(0),s=setTimeout(()=>{l=!0,j(!0)},t),j}((i,r)=>{if(r)return void i(!1,new ER(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const f=s.getErrorCode()===zw.NO_ERROR,p=s.getStatus();if(!f||pH(p,this.additionalRetryCodes_)&&this.retry){const C=s.getErrorCode()===zw.ABORT;return void i(!1,new ER(!1,null,C))}const v=-1!==this.successCodes_.indexOf(p);i(!0,new ER(v,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function u7(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ER{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function x7(...n){const e=function w7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(wL())return new Blob(n);throw new rr(qi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Za={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class EL{constructor(e,t){this.data=e,this.contentType=t||null}}function CL(n,e){switch(n){case Za.RAW:return new EL(gH(e));case Za.BASE64:case Za.BASE64URL:return new EL(_H(n,e));case Za.DATA_URL:return new EL(function T7(n){const e=new vH(n);return e.base64?_H(Za.BASE64,e.rest):function I7(n){let e;try{e=decodeURIComponent(n)}catch{throw uT(Za.DATA_URL,"Malformed data URL.")}return gH(e)}(e.rest)}(e),function D7(n){return new vH(n).contentType}(e))}throw bL()}function gH(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function _H(n,e){switch(n){case Za.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw uT(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Za.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw uT(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function C7(n){if(typeof atob>"u")throw function c7(n){return new rr(qi.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:uT(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class vH{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw uT(Za.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function S7(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Ju{constructor(e,t){let i=0,r="";fH(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(fH(this.data_)){const r=function E7(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Ju(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Ju(i,!0)}}static getBlob(...e){if(wL()){const t=e.map(i=>i instanceof Ju?i.data_:i);return new Ju(x7.apply(null,t))}{const t=e.map(l=>xR(l)?CL(Za.RAW,l).data:l.data_);let i=0;t.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(l=>{for(let f=0;f<l.length;f++)r[s++]=l[f]}),new Ju(r,!0)}}uploadData(){return this.data_}}function IL(n){let e;try{e=JSON.parse(n)}catch{return null}return function m7(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function yH(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function M7(n,e){return e}class Vs{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||M7}}let CR=null;function fT(){if(CR)return CR;const n=[];n.push(new Vs("bucket")),n.push(new Vs("generation")),n.push(new Vs("metageneration")),n.push(new Vs("name","fullPath",!0));const t=new Vs("name");t.xform=function e(s,l){return function R7(n){return!xR(n)||n.length<2?n:yH(n)}(l)},n.push(t);const r=new Vs("size");return r.xform=function i(s,l){return void 0!==l?Number(l):l},n.push(r),n.push(new Vs("timeCreated")),n.push(new Vs("updated")),n.push(new Vs("md5Hash",null,!0)),n.push(new Vs("cacheControl",null,!0)),n.push(new Vs("contentDisposition",null,!0)),n.push(new Vs("contentEncoding",null,!0)),n.push(new Vs("contentLanguage",null,!0)),n.push(new Vs("contentType",null,!0)),n.push(new Vs("metadata","customMetadata",!0)),CR=n,CR}function bH(n,e,t){const i=IL(e);return null===i?null:function O7(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const l=t[s];i[l.local]=l.xform(i,e[l.server])}return function N7(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new ms(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function TL(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const wH="prefixes",xH="items";class eh{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function th(n){if(!n)throw bL()}function IR(n,e){return function t(i,r){const s=bH(n,r,e);return th(null!==s),s}}function $w(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function t7(){return new rr(qi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function e7(){return new rr(qi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function JZ(n){return new rr(qi.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function n7(n){return new rr(qi.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function mT(n){const e=$w(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function XZ(n){return new rr(qi.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function EH(n,e,t){const r=Qf(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new eh(r,"GET",IR(n,t),l);return f.errorHandler=mT(e),f}function U7(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const f=Qf(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,C=new eh(f,"GET",function V7(n,e){return function t(i,r){const s=function L7(n,e,t){const i=IL(t);return null===i?null:function F7(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[wH])for(const r of t[wH]){const s=r.replace(/\/$/,""),l=n._makeStorageReference(new ms(e,s));i.prefixes.push(l)}if(t[xH])for(const r of t[xH]){const s=n._makeStorageReference(new ms(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return th(null!==s),s}}(n,e.bucket),v);return C.urlParams=s,C.errorHandler=$w(e),C}function IH(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function $7(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class TR{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function DL(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{th(!1)}return th(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Z7={STATE_CHANGED:"state_changed"},Bs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function SL(n){switch(n){case"running":case"pausing":case"canceling":return Bs.RUNNING;case"paused":return Bs.PAUSED;case"success":return Bs.SUCCESS;case"canceled":return Bs.CANCELED;default:return Bs.ERROR}}class K7{constructor(e,t,i){if(function f7(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function Gw(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let SH=null;class Y7{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zw.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zw.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zw.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw hT("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hT("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hT("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hT("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hT("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Q7 extends Y7{initXhr(){this.xhr_.responseType="text"}}function Dd(){return SH?SH():new Q7}class AH{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=fT(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(qi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(pH(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=cH()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(qi.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function G7(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l=IH(e,i,r),f={name:l.fullPath},p=Qf(s,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},D=TL(l,t),V=new eh(p,"POST",function P(j){let X;DL(j);try{X=j.getResponseHeader("X-Goog-Upload-URL")}catch{th(!1)}return th(xR(X)),X},n.maxUploadRetryTime);return V.urlParams=f,V.headers=C,V.body=D,V.errorHandler=$w(e),V}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Dd,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function q7(n,e,t,i){const p=new eh(t,"POST",function s(v){const C=DL(v,["active","final"]);let D=null;try{D=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{th(!1)}D||th(!1);const M=Number(D);return th(!isNaN(M)),new TR(M,i.size(),"final"===C)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=$w(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Dd,t,i);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new TR(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let l;try{l=function W7(n,e,t,i,r,s,l,f){const p=new TR(0,0);if(l?(p.current=l.current,p.total=l.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function s7(){return new rr(qi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const v=p.total-p.current;let C=v;r>0&&(C=Math.min(C,r));const D=p.current;let P="";P=0===C?"finalize":v===C?"upload, finalize":"upload";const V={"X-Goog-Upload-Command":P,"X-Goog-Upload-Offset":`${p.current}`},j=i.slice(D,D+C);if(null===j)throw dH();const De=new eh(t,"POST",function X(Be,Et){const _t=DL(Be,["active","final"]),dn=p.current+C,Di=i.size();let gs;return gs="final"===_t?IR(e,s)(Be,Et):null,new TR(dn,Di,"final"===_t,gs)},e.maxUploadRetryTime);return De.headers=V,De.body=j.uploadData(),De.progressCallback=f||null,De.errorHandler=$w(n),De}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const f=this._ref.storage._makeRequest(l,Dd,r,s,!1);this._request=f,f.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=EH(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Dd,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function TH(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"},p=function f(){let De="";for(let Be=0;Be<2;Be++)De+=Math.random().toString().slice(2);return De}();l["Content-Type"]="multipart/related; boundary="+p;const v=IH(e,i,r),C=TL(v,t),P=Ju.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+p+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===P)throw dH();const V={name:v.fullPath},j=Qf(s,n.host,n._protocol),ye=n.maxUploadRetryTime,Pe=new eh(j,"POST",IR(n,t),ye);return Pe.urlParams=V,Pe.headers=l,Pe.body=P.uploadData(),Pe.errorHandler=$w(e),Pe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Dd,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=lH(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=SL(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new K7(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(SL(this._state)){case Bs.SUCCESS:Gw(this._resolve.bind(null,this.snapshot))();break;case Bs.CANCELED:case Bs.ERROR:Gw(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(SL(this._state)){case Bs.RUNNING:case Bs.PAUSED:e.next&&Gw(e.next.bind(e,this.snapshot))();break;case Bs.SUCCESS:e.complete&&Gw(e.complete.bind(e))();break;default:e.error&&Gw(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class _y{constructor(e,t){this._service=e,this._location=t instanceof ms?t:ms.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new _y(e,t)}get root(){const e=new ms(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yH(this._location.path)}get storage(){return this._service}get parent(){const e=function A7(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ms(this._location.bucket,e);return new _y(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw hH(e)}}function MH(n,e,t){return AL.apply(this,arguments)}function AL(){return AL=(0,ve.Z)(function*(n,e,t){const r=yield RH(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield MH(n,e,r.nextPageToken))}),AL.apply(this,arguments)}function RH(n,e){null!=e&&"number"==typeof e.maxResults&&xL("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=U7(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Dd)}function lK(n){n._throwIfRoot("getDownloadURL");const e=function j7(n,e,t){const r=Qf(e.fullServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,f=new eh(r,"GET",function B7(n,e){return function t(i,r){const s=bH(n,r,e);return th(null!==s),function P7(n,e,t,i){const r=IL(e);if(null===r||!xR(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const l=encodeURIComponent;return s.split(",").map(v=>{const D=n.fullPath;return Qf("/b/"+l(n.bucket)+"/o/"+l(D),t,i)+mH({alt:"media",token:v})})[0]}(s,r,n.host,n._protocol)}}(n,t),l);return f.errorHandler=mT(e),f}(n.storage,n._location,fT());return n.storage.makeRequestWithTokens(e,Dd).then(t=>{if(null===t)throw function a7(){return new rr(qi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function NH(n,e){const t=function k7(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new ms(n._location.bucket,t);return new _y(n.storage,i)}function OH(n,e){if(n instanceof kL){const t=n;if(null==t._bucket)throw function o7(){return new rr(qi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aH+"' property when initializing the app?")}();const i=new _y(t,t._bucket);return null!=e?OH(i,e):i}return void 0!==e?NH(n,e):n}function fK(n,e){if(e&&function uK(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof kL)return function hK(n,e){return new _y(n,e)}(n,e);throw Hw("To use ref(service, url), the first argument must be a Storage instance.")}return OH(n,e)}function PH(n,e){const t=e?.[aH];return null==t?null:ms.makeFromBucketSpec(t,n)}class kL{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=sH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ms.makeFromBucketSpec(r,this._host):PH(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ms.makeFromBucketSpec(this._url,e):PH(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ve.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ve.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _y(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new l7(uH());{const l=function b7(n,e,t,i,r,s,l=!0){const f=mH(n.urlParams),p=n.url+f,v=Object.assign({},n.headers);return function v7(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function g7(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function _7(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,s),function y7(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,i),new p7(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l)}(e,this._appId,i,r,t,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var i=this;return(0,ve.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const FH="@firebase/storage";function BH(n,e){return fK(n=(0,F.m9)(n),e)}function EK(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new kL(t,i,r,e,vr.SDK_VERSION)}!function CK(){(0,vr._registerComponent)(new ha.wA("storage",EK,"PUBLIC").setMultipleInstances(!0)),(0,vr.registerVersion)(FH,"0.11.2",""),(0,vr.registerVersion)(FH,"0.11.2","esm2017")}();class DR{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class jH{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new DR(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new DR(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?l=>t(new DR(l,this,this._ref)):{next:t.next?l=>t.next(new DR(l,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class HH{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Xf(e,this._service))}get items(){return this._delegate.items.map(e=>new Xf(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Xf{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function xK(n,e){return NH(n,e)}(this._delegate,e);return new Xf(t,this.storage)}get root(){return new Xf(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Xf(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new jH(function pK(n,e,t){return function rK(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new AH(n,new Ju(e),t)}(n=(0,F.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Za.RAW,i){this._throwIfRoot("putString");const r=CL(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new jH(new AH(this._delegate,new Ju(r.data,!0),s),this)}listAll(){return function yK(n){return function sK(n){const e={prefixes:[],items:[]};return MH(n,e).then(()=>e)}(n=(0,F.m9)(n))}(this._delegate).then(e=>new HH(e,this.storage))}list(e){return function vK(n,e){return RH(n=(0,F.m9)(n),e)}(this._delegate,e||void 0).then(t=>new HH(t,this.storage))}getMetadata(){return function gK(n){return function aK(n){n._throwIfRoot("getMetadata");const e=EH(n.storage,n._location,fT());return n.storage.makeRequestWithTokens(e,Dd)}(n=(0,F.m9)(n))}(this._delegate)}updateMetadata(e){return function _K(n,e){return function cK(n,e){n._throwIfRoot("updateMetadata");const t=function H7(n,e,t,i){const s=Qf(e.fullServerUrl(),n.host,n._protocol),f=TL(t,i),v=n.maxOperationRetryTime,C=new eh(s,"PATCH",IR(n,i),v);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=f,C.errorHandler=mT(e),C}(n.storage,n._location,e,fT());return n.storage.makeRequestWithTokens(t,Dd)}(n=(0,F.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function bK(n){return lK(n=(0,F.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function wK(n){return function dK(n){n._throwIfRoot("deleteObject");const e=function z7(n,e){const i=Qf(e.fullServerUrl(),n.host,n._protocol),f=new eh(i,"DELETE",function l(p,v){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=mT(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Dd)}(n=(0,F.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw hH(e)}}class zH{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if($H(e))throw Hw("ref() expected a child path but got a URL, use refFromURL instead.");return new Xf(BH(this._delegate,e),this)}refFromURL(e){if(!$H(e))throw Hw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ms.makeFromUrl(e,this._delegate.host)}catch{throw Hw("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xf(BH(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function UH(n,e,t,i={}){!function mK(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,F.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function $H(n){return/^[A-Za-z]+:\/\//.test(n)}function SK(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new zH(t,i)}function GH(n){const e=function kK(n){return new zn.y(e=>{const t=l=>e.next(l);t(n.snapshot);const s=n.on("state_changed",t);return n.then(l=>{t(l),e.complete()},l=>{t(n.snapshot),(l=>{e.error(l)})(l)}),function(){s()}}).pipe(SM(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,dt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function SR(n){return{getDownloadURL:()=>mt(void 0).pipe(An.fc,di(()=>n.getDownloadURL()),An.iC),getMetadata:()=>mt(void 0).pipe(An.fc,di(()=>n.getMetadata()),An.iC),delete:()=>ln(n.delete()),child:e=>SR(n.child(e)),updateMetadata:e=>ln(n.updateMetadata(e)),put:(e,t)=>GH(n.put(e,t)),putString:(e,t,i)=>GH(n.putString(e,t,i)),list:e=>ln(n.list(e)),listAll:()=>ln(n.listAll())}}!function AK(n){const e={TaskState:Bs,TaskEvent:Z7,StringFormat:Za,Storage:zH,Reference:Xf};n.INTERNAL.registerComponent(new ha.wA("storage-compat",SK,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(ZZ);const MK=new d.OlP("angularfire2.storageBucket"),RK=new d.OlP("angularfire2.storage.maxUploadRetryTime"),NK=new d.OlP("angularfire2.storage.maxOperationRetryTime"),OK=new d.OlP("angularfire2.storage.use-emulator");let PK=(()=>{class n{constructor(t,i,r,s,l,f,p,v,C,D){const M=(0,er.on)(t,l,i);this.storage=(0,er.cc)(`${M.name}.storage.${r}`,"AngularFireStorage",M.name,()=>{const P=l.runOutsideAngular(()=>M.storage(r||void 0)),V=C;return V&&P.useEmulator(...V),p&&P.setMaxUploadRetryTime(p),v&&P.setMaxOperationRetryTime(v),P},[p,v])}ref(t){return SR(this.storage.ref(t))}refFromURL(t){return SR(this.storage.refFromURL(t))}upload(t,i,r){return SR(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(er.Dh),d.LFG(er.xv,8),d.LFG(MK,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(An.HU),d.LFG(RK,8),d.LFG(NK,8),d.LFG(OK,8),d.LFG(jI,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),FK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),LK=(()=>{class n{constructor(){IM.Z.registerVersion("angularfire",An.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[PK],imports:[FK]}),n})();const qH="@firebase/database";let ML="";function ZH(n){ML=n}class UK{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,F.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,F.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class jK{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,F.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const KH=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new UK(e)}}catch{}return new jK},vy=KH("localStorage"),RL=KH("sessionStorage"),qw=new ds.Yd("@firebase/database"),YH=function(){let n=1;return function(){return n++}}(),QH=function(n){const e=(0,F.dS)(n),t=new F.gQ;t.update(e);const i=t.digest();return F.US.encodeByteArray(i)},pT=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=pT.apply(null,i):e+="object"==typeof i?(0,F.Wl)(i):i,e+=" "}return e};let yy=null,XH=!0;const JH=function(n,e){(0,F.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(qw.logLevel=ds.in.VERBOSE,yy=qw.log.bind(qw),e&&RL.set("logging_enabled",!0)):"function"==typeof n?yy=n:(yy=null,RL.remove("logging_enabled"))},To=function(...n){if(!0===XH&&(XH=!1,null===yy&&!0===RL.get("logging_enabled")&&JH(!0)),yy){const e=pT.apply(null,n);yy(e)}},gT=function(n){return function(...e){To(n,...e)}},NL=function(...n){const e="FIREBASE INTERNAL ERROR: "+pT(...n);qw.error(e)},nh=function(...n){const e=`FIREBASE FATAL ERROR: ${pT(...n)}`;throw qw.error(e),new Error(e)},ps=function(...n){const e="FIREBASE WARNING: "+pT(...n);qw.warn(e)},AR=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Tg="[MIN_NAME]",Jf="[MAX_NAME]",by=function(n,e){if(n===e)return 0;if(n===Tg||e===Jf)return-1;if(e===Tg||n===Jf)return 1;{const t=n4(n),i=n4(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},$K=function(n,e){return n===e?0:n<e?-1:1},_T=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Wl)(e))},OL=function(n){if("object"!=typeof n||null===n)return(0,F.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,F.Wl)(e[i]),t+=":",t+=OL(n[e[i]]);return t+="}",t},e4=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Do(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const t4=function(n){(0,F.hu)(!AR(n),"Invalid JSON number");const i=1023;let r,s,l,f,p;0===n?(s=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=f+i,l=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(s=0,l=Math.round(n/Math.pow(2,-1074))));const v=[];for(p=52;p;p-=1)v.push(l%2?1:0),l=Math.floor(l/2);for(p=11;p;p-=1)v.push(s%2?1:0),s=Math.floor(s/2);v.push(r?1:0),v.reverse();const C=v.join("");let D="";for(p=0;p<64;p+=8){let M=parseInt(C.substr(p,8),2).toString(16);1===M.length&&(M="0"+M),D+=M}return D.toLowerCase()},ZK=new RegExp("^-?(0*)\\d{1,10}$"),n4=function(n){if(ZK.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Ww=function(n){try{n()}catch(e){setTimeout(()=>{throw ps("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},vT=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class XK{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){ps(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class JK{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(To("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ps(e)}}let yT=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const c4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,u4="websocket",h4="long_polling";class FL{constructor(e,t,i,r,s=!1,l="",f=!1,p=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vy.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&vy.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function f4(n,e,t){let i;if((0,F.hu)("string"==typeof e,"typeof type must == string"),(0,F.hu)("object"==typeof t,"typeof params must == object"),e===u4)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==h4)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function eY(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Do(t,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class tY{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,F.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,F.p$)(this.counters_)}}const LL={},VL={};function BL(n){const e=n.toString();return LL[e]||(LL[e]=new tY),LL[e]}class iY{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ww(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Dg{constructor(e,t,i,r,s,l,f){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=gT(e),this.stats_=BL(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),f4(t,h4,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new iY(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new UL((...s)=>{const[l,f,p,v,C]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=f,this.password=p;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,f]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,f)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&c4.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Dg.forceAllow_=!0}static forceDisallow(){Dg.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!Dg.forceAllow_&&(Dg.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,F.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,F.h$)(t),r=e4(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,F.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class UL{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=YH(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=UL.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(f){To("frame writing exception"),f.stack&&To(f.stack),To(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||To("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,F.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{To("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let MR=null;typeof MozWebSocket<"u"?MR=MozWebSocket:typeof WebSocket<"u"&&(MR=WebSocket);let Zw=(()=>{class n{constructor(t,i,r,s,l,f,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=gT(this.connId),this.stats_=BL(i),this.connURL=n.connectionURL_(i,f,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,l){const f={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&c4.test(location.hostname)&&(f.r="f"),i&&(f.s=i),r&&(f.ls=r),s&&(f.ac=s),l&&(f.p=l),f4(t,u4,f)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vy.set("previous_websocket_failure",!0);try{let r;if((0,F.Yr)()){r={headers:{"User-Agent":`Firebase/5/${ML}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,f=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;f&&(r.proxy={origin:f})}this.mySock=new MR(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==MR&&!n.forceDisallow_}static previouslyFailed(){return vy.isInMemoryStorage||!0===vy.get("previous_websocket_failure")}markConnectionHealthy(){vy.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,F.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,F.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=e4(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),b4=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Dg,Zw]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=Zw&&Zw.isAvailable();let r=i&&!Zw.previouslyFailed();if(t.webSocketOnly&&(i||ps("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Zw];else{const s=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class D4{constructor(e,t,i,r,s,l,f,p,v,C){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=f,this.onDisconnect_=p,this.onKill_=v,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=gT("c:"+this.id+":"),this.transportManager_=new b4(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=vT(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=_T("t",e),i=_T("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=_T("t",e),i=_T("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=_T("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?NL("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):NL("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&ps("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),vT(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vT(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vy.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class S4{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class A4{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,F.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,F.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class RR extends A4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new RR}getInitialEvent(e){return(0,F.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ri{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Gn(){return new ri("")}function yn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Sg(n){return n.pieces_.length-n.pieceNum_}function yi(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ri(n.pieces_,e)}function HL(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function bT(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function R4(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ri(e,0)}function Wi(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof ri)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new ri(t,0)}function bn(n){return n.pieceNum_>=n.pieces_.length}function Us(n,e){const t=yn(n),i=yn(e);if(null===t)return e;if(t===i)return Us(yi(n),yi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function IY(n,e){const t=bT(n,0),i=bT(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=by(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function zL(n,e){if(Sg(n)!==Sg(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function cl(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Sg(n)>Sg(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class TY{constructor(e,t){this.errorPrefix_=t,this.parts_=bT(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);N4(this)}}function N4(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+wy(n))}function wy(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class $L extends A4{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new $L}getInitialEvent(e){return(0,F.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const wT=1e3;let OR,xy=(()=>{class n extends S4{constructor(t,i,r,s,l,f,p,v){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=f,this.appCheckTokenProvider_=p,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=gT("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wT,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$L.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&RR.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,l={r:s,a:t,b:i};this.log_((0,F.Wl)(l)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new F.BH,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const p=f.d;"ok"===f.s?i.resolve(p):i.reject(p)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,s){this.initConnection_();const l=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+l),this.listens.has(f)||this.listens.set(f,new Map),(0,F.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(f).has(l),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(f).set(l,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};t.tag&&(l.q=i._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,p=>{const v=p.d,C=p.s;n.warnOnListenWarnings_(v,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==C&&this.removeListen_(r,s),t.onComplete&&t.onComplete(C,v))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,F.r3)(t,"w")){const r=(0,F.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();ps(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,F.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,F.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,f=s.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,F.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const l={p:t};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,f=>{s&&setTimeout(()=>{s(f.s,f.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,l){this.initConnection_();const f={p:i,d:r};void 0!==l&&(f.h=l),this.outstandingPuts_.push({action:t,request:f,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,F.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):NL("Unrecognized action received from server: "+(0,F.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wT,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=wT,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=wT),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,ve.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,f=t.lastSessionId;let p=!1,v=null;const C=function(){v?v.close():(p=!0,s())};t.realtime_={close:C,sendRequest:function(P){(0,F.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(P)}};const M=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[P,V]=yield Promise.all([t.authTokenProvider_.getToken(M),t.appCheckTokenProvider_.getToken(M)]);p?To("getToken() completed but was canceled"):(To("getToken() completed. Creating connection."),t.authToken_=P&&P.accessToken,t.appCheckToken_=V&&V.token,v=new D4(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,j=>{ps(j+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},f))}catch(P){t.log_("Failed to get token: "+P),p||(t.repoInfo_.nodeAdmin&&ps(P),C())}}})()}interrupt(t){To("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){To("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=wT,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(l=>OL(l)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new ri(t).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){To("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){To("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+ML.replace(/\./g,"-")]=1,(0,F.uI)()?t["framework.cordova"]=1:(0,F.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=RR.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class xn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new xn(e,t)}}class NR{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new xn(Tg,e),r=new xn(Tg,t);return 0!==this.compare(i,r)}minPost(){return xn.MIN}}class F4 extends NR{static get __EMPTY_NODE(){return OR}static set __EMPTY_NODE(e){OR=e}compare(e,t){return by(e.name,t.name)}isDefinedOn(e){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return xn.MIN}maxPost(){return new xn(Jf,OR)}makePost(e,t){return(0,F.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new xn(e,OR)}toString(){return".key"}}const ih=new F4;class PR{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,r&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let qL,Sd=(()=>{class n{constructor(t,i,r,s,l){this.key=t,this.value=i,this.color=r??n.RED,this.left=s??ba.EMPTY_NODE,this.right=l??ba.EMPTY_NODE}copy(t,i,r,s,l){return new n(t??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const l=r(t,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ba.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return ba.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ba{constructor(e,t=ba.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ba(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Sd.BLACK,null,null))}remove(e){return new ba(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Sd.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new PR(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new PR(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new PR(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new PR(this.root_,null,this.comparator_,!0,e)}}function OY(n,e){return by(n.name,e.name)}function GL(n,e){return by(n,e)}ba.EMPTY_NODE=new class NY{copy(e,t,i,r,s){return this}insert(e,t,i){return new Sd(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const L4=function(n){return"number"==typeof n?"number:"+t4(n):"string:"+n},V4=function(n){if(n.isLeafNode()){const e=n.val();(0,F.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,F.r3)(e,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===qL||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===qL||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let B4,U4,j4,Kw=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),V4(this.priorityNode_)}static set __childrenNodeConstructor(t){B4=t}static get __childrenNodeConstructor(){return B4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return bn(t)?this:".priority"===yn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=yn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,F.hu)(".priority"!==r||1===Sg(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(yi(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+L4(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?t4(this.value_):this.value_,this.lazyHash_=QH(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,F.hu)(s>=0,"Unknown leaf type: "+i),(0,F.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ii=new class VY extends NR{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?by(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return xn.MIN}maxPost(){return new xn(Jf,new Kw("[PRIORITY-POST]",j4))}makePost(e,t){const i=U4(e);return new xn(t,new Kw("[PRIORITY-POST]",i))}toString(){return".priority"}},BY=Math.log(2);class UY{constructor(e){this.count=parseInt(Math.log(e+1)/BY,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const FR=function(n,e,t,i){n.sort(e);const r=function(p,v){const C=v-p;let D,M;if(0===C)return null;if(1===C)return D=n[p],M=t?t(D):D,new Sd(M,D.node,Sd.BLACK,null,null);{const P=parseInt(C/2,10)+p,V=r(p,P),j=r(P+1,v);return D=n[P],M=t?t(D):D,new Sd(M,D.node,Sd.BLACK,V,j)}},f=function(p){let v=null,C=null,D=n.length;const M=function(V,j){const X=D-V,ye=D;D-=V;const Pe=r(X+1,ye),De=n[X],Be=t?t(De):De;P(new Sd(Be,De.node,j,null,Pe))},P=function(V){v?(v.left=V,v=V):(C=V,v=V)};for(let V=0;V<p.count;++V){const j=p.nextBitIsOne(),X=Math.pow(2,p.count-(V+1));j?M(X,Sd.BLACK):(M(X,Sd.BLACK),M(X,Sd.RED))}return C}(new UY(n.length));return new ba(i||e,f)};let WL;const Yw={};class em{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,F.hu)(Yw&&Ii,"ChildrenNode.ts has not been loaded"),WL=WL||new em({".priority":Yw},{".priority":Ii}),WL}get(e){const t=(0,F.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ba?t:null}hasIndex(e){return(0,F.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,F.hu)(e!==ih,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(xn.Wrap);let f,l=s.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=s.getNext();f=r?FR(i,e.getCompare()):Yw;const p=e.toString(),v=Object.assign({},this.indexSet_);v[p]=e;const C=Object.assign({},this.indexes_);return C[p]=f,new em(C,v)}addToIndexes(e,t){const i=(0,F.UI)(this.indexes_,(r,s)=>{const l=(0,F.DV)(this.indexSet_,s);if((0,F.hu)(l,"Missing index implementation for "+s),r===Yw){if(l.isDefinedOn(e.node)){const f=[],p=t.getIterator(xn.Wrap);let v=p.getNext();for(;v;)v.name!==e.name&&f.push(v),v=p.getNext();return f.push(e),FR(f,l.getCompare())}return Yw}{const f=t.get(e.name);let p=r;return f&&(p=p.remove(new xn(e.name,f))),p.insert(e,e.node)}});return new em(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,F.UI)(this.indexes_,r=>{if(r===Yw)return r;{const s=t.get(e.name);return s?r.remove(new xn(e.name,s)):r}});return new em(i,this.indexSet_)}}let xT,on=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&V4(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xT||(xT=new n(new ba(GL),null,em.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xT}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?xT:i}}getChild(t){const i=yn(t);return null===i?this:this.getImmediateChild(i).getChild(yi(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new xn(t,i);let s,l;i.isEmpty()?(s=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),l=this.indexMap_.addToIndexes(r,this.children_));const f=s.isEmpty()?xT:this.priorityNode_;return new n(s,f,l)}}updateChild(t,i){const r=yn(t);if(null===r)return i;{(0,F.hu)(".priority"!==yn(t)||1===Sg(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(yi(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(Ii,(f,p)=>{i[f]=p.val(t),r++,l&&n.INTEGER_REGEXP_.test(f)?s=Math.max(s,Number(f)):l=!1}),!t&&l&&s<2*r){const f=[];for(const p in i)f[p]=i[p];return f}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+L4(this.getPriority().val())+":"),this.forEachChild(Ii,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":QH(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new xn(t,i));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new xn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new xn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,xn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,xn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,t)>0;)s.getNext(),l=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ET?-1:0}withIndex(t){if(t===ih||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ih||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ii),s=i.getIterator(Ii);let l=r.getNext(),f=s.getNext();for(;l&&f;){if(l.name!==f.name||!l.node.equals(f.node))return!1;l=r.getNext(),f=s.getNext()}return null===l&&null===f}return!1}return!1}}resolveIndex_(t){return t===ih?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const ET=new class jY extends on{constructor(){super(new ba(GL),on.EMPTY_NODE,em.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return on.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(xn,{MIN:{value:new xn(Tg,on.EMPTY_NODE)},MAX:{value:new xn(Jf,ET)}}),F4.__EMPTY_NODE=on.EMPTY_NODE,Kw.__childrenNodeConstructor=on,function PY(n){qL=n}(ET),function LY(n){j4=n}(ET);const HY=!0;function or(n,e=null){if(null===n)return on.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,F.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Kw(n,or(e));if(n instanceof Array||!HY){let t=on.EMPTY_NODE;return Do(n,(i,r)=>{if((0,F.r3)(n,i)&&"."!==i.substring(0,1)){const s=or(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(or(e))}{const t=[];let i=!1;if(Do(n,(l,f)=>{if("."!==l.substring(0,1)){const p=or(f);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new xn(l,p)))}}),0===t.length)return on.EMPTY_NODE;const s=FR(t,OY,l=>l.name,GL);if(i){const l=FR(t,Ii.getCompare());return new on(s,or(e),new em({".priority":l},{".priority":Ii}))}return new on(s,or(e),em.Default)}}!function FY(n){U4=n}(or);class ZL extends NR{constructor(e){super(),this.indexPath_=e,(0,F.hu)(!bn(e)&&".priority"!==yn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?by(e.name,t.name):s}makePost(e,t){const i=or(e),r=on.EMPTY_NODE.updateChild(this.indexPath_,i);return new xn(t,r)}maxPost(){const e=on.EMPTY_NODE.updateChild(this.indexPath_,ET);return new xn(Jf,e)}toString(){return bT(this.indexPath_,0).join("/")}}const KL=new class zY extends NR{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?by(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return xn.MIN}maxPost(){return xn.MAX}makePost(e,t){const i=or(e);return new xn(t,i)}toString(){return".value"}};function H4(n){return{type:"value",snapshotNode:n}}function Qw(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function CT(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function IT(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class YL{constructor(e){this.index_=e}updateChild(e,t,i,r,s,l){(0,F.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(t);return f.getChild(r).equals(i.getChild(r))&&f.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(CT(t,f)):(0,F.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?l.trackChildChange(Qw(t,i)):l.trackChildChange(IT(t,i,f))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Ii,(r,s)=>{t.hasChild(r)||i.trackChildChange(CT(r,s))}),t.isLeafNode()||t.forEachChild(Ii,(r,s)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(s)||i.trackChildChange(IT(r,s,l))}else i.trackChildChange(Qw(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?on.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class TT{constructor(e){this.indexedFilter_=new YL(e.getIndex()),this.index_=e.getIndex(),this.startPost_=TT.getStartPost_(e),this.endPost_=TT.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,s,l){return this.matches(new xn(t,i))||(i=on.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=on.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(on.EMPTY_NODE);const s=this;return t.forEachChild(Ii,(l,f)=>{s.matches(new xn(l,f))||(r=r.updateImmediateChild(l,on.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class GY{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new TT(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,s,l){return this.rangedFilter_.matches(new xn(t,i))||(i=on.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,l):this.fullLimitUpdateChild_(e,t,i,s,l)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=on.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=on.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;s.hasNext()&&l<this.limit_;){const f=s.getNext();if(this.withinDirectionalStart(f)){if(!this.withinDirectionalEnd(f))break;r=r.updateImmediateChild(f.name,f.node),l++}}}else{let s;r=t.withIndex(this.index_),r=r.updatePriority(on.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let l=0;for(;s.hasNext();){const f=s.getNext();l<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?l++:r=r.updateImmediateChild(f.name,on.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let l;if(this.reverse_){const D=this.index_.getCompare();l=(M,P)=>D(P,M)}else l=this.index_.getCompare();const f=e;(0,F.hu)(f.numChildren()===this.limit_,"");const p=new xn(t,i),v=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),C=this.rangedFilter_.matches(p);if(f.hasChild(t)){const D=f.getImmediateChild(t);let M=r.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=M&&(M.name===t||f.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const P=null==M?1:l(M,p);if(C&&!i.isEmpty()&&P>=0)return s?.trackChildChange(IT(t,i,D)),f.updateImmediateChild(t,i);{s?.trackChildChange(CT(t,D));const j=f.updateImmediateChild(t,on.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(s?.trackChildChange(Qw(M.name,M.node)),j.updateImmediateChild(M.name,M.node)):j}}return i.isEmpty()?e:C&&l(v,p)>=0?(null!=s&&(s.trackChildChange(CT(v.name,v.node)),s.trackChildChange(Qw(t,i))),f.updateImmediateChild(t,i).updateImmediateChild(v.name,on.EMPTY_NODE)):e}}class LR{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ii}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Tg}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ii}copy(){const e=new LR;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function QL(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function XL(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function VR(n,e){const t=n.copy();return t.index_=e,t}function z4(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Ii?t="$priority":n.index_===KL?t="$value":n.index_===ih?t="$key":((0,F.hu)(n.index_ instanceof ZL,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,F.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,F.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,F.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,F.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,F.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function $4(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Ii&&(e.i=n.index_.toString()),e}class BR extends S4{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=gT("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,F.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=BR.getListenId_(e,i),f={};this.listens_[l]=f;const p=z4(e._queryParams);this.restRequest_(s+".json",p,(v,C)=>{let D=C;if(404===v&&(D=null,v=null),null===v&&this.onDataUpdate_(s,D,!1,i),(0,F.DV)(this.listens_,l)===f){let M;M=v?401===v?"permission_denied":"rest_error:"+v:"ok",r(M,null)}})}unlisten(e,t){const i=BR.getListenId_(e,t);delete this.listens_[i]}get(e){const t=z4(e._queryParams),i=e._path.toString(),r=new F.BH;return this.restRequest_(i+".json",t,(s,l)=>{let f=l;404===s&&(f=null,s=null),null===s?(this.onDataUpdate_(i,f,!1,null),r.resolve(f)):r.reject(new Error(f))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,F.xO)(t);this.log_("Sending REST request for "+l);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(i&&4===f.readyState){this.log_("REST Response for "+l+" received. status:",f.status,"response:",f.responseText);let p=null;if(f.status>=200&&f.status<300){try{p=(0,F.cI)(f.responseText)}catch{ps("Failed to parse JSON response for "+l+": "+f.responseText)}i(null,p)}else 401!==f.status&&404!==f.status&&ps("Got unsuccessful REST response for "+l+" Status: "+f.status),i(f.status);i=null}},f.open("GET",l,!0),f.send()})}}class QY{constructor(){this.rootNode_=on.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function UR(){return{value:null,children:new Map}}function Xw(n,e,t){if(bn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=yn(e);n.children.has(i)||n.children.set(i,UR()),Xw(n.children.get(i),e=yi(e),t)}}function JL(n,e){if(bn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Ii,(i,r)=>{Xw(n,new ri(i),r)}),JL(n,e)}}if(n.children.size>0){const t=yn(e);return e=yi(e),n.children.has(t)&&JL(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function e2(n,e,t){null!==n.value?t(e,n.value):function XY(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{e2(r,new ri(e.toString()+"/"+i),t)})}class JY{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Do(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class nQ{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new JY(e);const i=1e4+2e4*Math.random();vT(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Do(e,(r,s)=>{s>0&&(0,F.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),vT(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var rh=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(rh||{});function r2(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class jR{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=rh.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(bn(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ri(e));return new jR(Gn(),t,this.revert)}}return(0,F.hu)(yn(this.path)===e,"operationForChild called for unrelated child."),new jR(yi(this.path),this.affectedTree,this.revert)}}class DT{constructor(e,t){this.source=e,this.path=t,this.type=rh.LISTEN_COMPLETE}operationForChild(e){return bn(this.path)?new DT(this.source,Gn()):new DT(this.source,yi(this.path))}}class Ey{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=rh.OVERWRITE}operationForChild(e){return bn(this.path)?new Ey(this.source,Gn(),this.snap.getImmediateChild(e)):new Ey(this.source,yi(this.path),this.snap)}}class Jw{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=rh.MERGE}operationForChild(e){if(bn(this.path)){const t=this.children.subtree(new ri(e));return t.isEmpty()?null:t.value?new Ey(this.source,Gn(),t.value):new Jw(this.source,Gn(),t)}return(0,F.hu)(yn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Jw(this.source,yi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ag{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(bn(e))return this.isFullyInitialized()&&!this.filtered_;const t=yn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class iQ{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ST(n,e,t,i,r,s){const l=i.filter(f=>f.type===t);l.sort((f,p)=>function sQ(n,e,t){if(null==e.childName||null==t.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new xn(e.childName,e.snapshotNode),r=new xn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,f,p)),l.forEach(f=>{const p=function oQ(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,f,s);r.forEach(v=>{v.respondsTo(f.type)&&e.push(v.createEvent(p,n.query_))})})}function HR(n,e){return{eventCache:n,serverCache:e}}function AT(n,e,t,i){return HR(new Ag(e,t,i),n.serverCache)}function q4(n,e,t,i){return HR(n.eventCache,new Ag(e,t,i))}function zR(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Cy(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let o2;class Ti{constructor(e,t=(()=>(o2||(o2=new ba($K)),o2))()){this.value=e,this.children=t}static fromObject(e){let t=new Ti(null);return Do(e,(i,r)=>{t=t.set(new ri(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Gn(),value:this.value};if(bn(e))return null;{const i=yn(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(yi(e),t);return null!=s?{path:Wi(new ri(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(bn(e))return this;{const t=yn(e),i=this.children.get(t);return null!==i?i.subtree(yi(e)):new Ti(null)}}set(e,t){if(bn(e))return new Ti(t,this.children);{const i=yn(e),s=(this.children.get(i)||new Ti(null)).set(yi(e),t),l=this.children.insert(i,s);return new Ti(this.value,l)}}remove(e){if(bn(e))return this.children.isEmpty()?new Ti(null):new Ti(null,this.children);{const t=yn(e),i=this.children.get(t);if(i){const r=i.remove(yi(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Ti(null):new Ti(this.value,s)}return this}}get(e){if(bn(e))return this.value;{const t=yn(e),i=this.children.get(t);return i?i.get(yi(e)):null}}setTree(e,t){if(bn(e))return t;{const i=yn(e),s=(this.children.get(i)||new Ti(null)).setTree(yi(e),t);let l;return l=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Ti(this.value,l)}}fold(e){return this.fold_(Gn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Wi(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Gn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(bn(e))return null;{const s=yn(e),l=this.children.get(s);return l?l.findOnPath_(yi(e),Wi(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Gn(),t)}foreachOnPath_(e,t,i){if(bn(e))return this;{this.value&&i(t,this.value);const r=yn(e),s=this.children.get(r);return s?s.foreachOnPath_(yi(e),Wi(t,r),i):new Ti(null)}}foreach(e){this.foreach_(Gn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Wi(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Ad{constructor(e){this.writeTree_=e}static empty(){return new Ad(new Ti(null))}}function kT(n,e,t){if(bn(e))return new Ad(new Ti(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const l=Us(r,e);return s=s.updateChild(l,t),new Ad(n.writeTree_.set(r,s))}{const r=new Ti(t),s=n.writeTree_.setTree(e,r);return new Ad(s)}}}function s2(n,e,t){let i=n;return Do(t,(r,s)=>{i=kT(i,Wi(e,r),s)}),i}function W4(n,e){if(bn(e))return Ad.empty();{const t=n.writeTree_.setTree(e,new Ti(null));return new Ad(t)}}function a2(n,e){return null!=Iy(n,e)}function Iy(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Us(t.path,e)):null}function Z4(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ii,(i,r)=>{e.push(new xn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new xn(i,r.value))}),e}function kg(n,e){if(bn(e))return n;{const t=Iy(n,e);return new Ad(null!=t?new Ti(t):n.writeTree_.subtree(e))}}function c2(n){return n.writeTree_.isEmpty()}function ex(n,e){return K4(Gn(),n.writeTree_,e)}function K4(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,F.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=K4(Wi(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Wi(n,".priority"),i)),t}}function $R(n,e){return ez(e,n)}function hQ(n,e){if(n.snap)return cl(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&cl(Wi(n.path,t),e))return!0;return!1}function mQ(n){return n.visible}function Y4(n,e,t){let i=Ad.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const l=s.path;let f;if(s.snap)cl(t,l)?(f=Us(t,l),i=kT(i,f,s.snap)):cl(l,t)&&(f=Us(l,t),i=kT(i,Gn(),s.snap.getChild(f)));else{if(!s.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(cl(t,l))f=Us(t,l),i=s2(i,f,s.children);else if(cl(l,t))if(f=Us(l,t),bn(f))i=s2(i,Gn(),s.children);else{const p=(0,F.DV)(s.children,yn(f));if(p){const v=p.getChild(yi(f));i=kT(i,Gn(),v)}}}}}return i}function Q4(n,e,t,i,r){if(i||r){const s=kg(n.visibleWrites,e);return!r&&c2(s)?t:r||null!=t||a2(s,Gn())?ex(Y4(n.allWrites,function(v){return(v.visible||r)&&(!i||!~i.indexOf(v.writeId))&&(cl(v.path,e)||cl(e,v.path))},e),t||on.EMPTY_NODE):null}{const s=Iy(n.visibleWrites,e);if(null!=s)return s;{const l=kg(n.visibleWrites,e);return c2(l)?t:null!=t||a2(l,Gn())?ex(l,t||on.EMPTY_NODE):null}}}function GR(n,e,t,i){return Q4(n.writeTree,n.treePath,e,t,i)}function l2(n,e){return function pQ(n,e,t){let i=on.EMPTY_NODE;const r=Iy(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ii,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(t){const s=kg(n.visibleWrites,e);return t.forEachChild(Ii,(l,f)=>{const p=ex(kg(s,new ri(l)),f);i=i.updateImmediateChild(l,p)}),Z4(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return Z4(kg(n.visibleWrites,e)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,e)}function X4(n,e,t,i){return function gQ(n,e,t,i,r){(0,F.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Wi(e,t);if(a2(n.visibleWrites,s))return null;{const l=kg(n.visibleWrites,s);return c2(l)?r.getChild(t):ex(l,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function qR(n,e){return function vQ(n,e){return Iy(n.visibleWrites,e)}(n.writeTree,Wi(n.treePath,e))}function d2(n,e,t){return function _Q(n,e,t,i){const r=Wi(e,t),s=Iy(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?ex(kg(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function J4(n,e){return ez(Wi(n.treePath,e),n.writeTree)}function ez(n,e){return{treePath:n,writeTree:e}}class xQ{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,F.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,IT(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,CT(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,Qw(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,F.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,IT(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const tz=new class EQ{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class u2{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Ag(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return d2(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Cy(this.viewCache_),s=function wQ(n,e,t,i,r,s){return function yQ(n,e,t,i,r,s,l){let f;const p=kg(n.visibleWrites,e),v=Iy(p,Gn());if(null!=v)f=v;else{if(null==t)return[];f=ex(p,t)}if(f=f.withIndex(l),f.isEmpty()||f.isLeafNode())return[];{const C=[],D=l.getCompare(),M=s?f.getReverseIteratorFrom(i,l):f.getIteratorFrom(i,l);let P=M.getNext();for(;P&&C.length<r;)0!==D(P,i)&&C.push(P),P=M.getNext();return C}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function nz(n,e,t,i,r,s){const l=e.eventCache;if(null!=qR(i,t))return e;{let f,p;if(bn(t))if((0,F.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=Cy(e),D=l2(i,v instanceof on?v:on.EMPTY_NODE);f=n.filter.updateFullNode(e.eventCache.getNode(),D,s)}else{const v=GR(i,Cy(e));f=n.filter.updateFullNode(e.eventCache.getNode(),v,s)}else{const v=yn(t);if(".priority"===v){(0,F.hu)(1===Sg(t),"Can't have a priority with additional path components");const C=l.getNode();p=e.serverCache.getNode();const D=X4(i,t,C,p);f=null!=D?n.filter.updatePriority(C,D):l.getNode()}else{const C=yi(t);let D;if(l.isCompleteForChild(v)){p=e.serverCache.getNode();const M=X4(i,t,l.getNode(),p);D=null!=M?l.getNode().getImmediateChild(v).updateChild(C,M):l.getNode().getImmediateChild(v)}else D=d2(i,v,e.serverCache);f=null!=D?n.filter.updateChild(l.getNode(),v,D,C,r,s):l.getNode()}}return AT(e,f,l.isFullyInitialized()||bn(t),n.filter.filtersNodes())}}function WR(n,e,t,i,r,s,l,f){const p=e.serverCache;let v;const C=l?n.filter:n.filter.getIndexedFilter();if(bn(t))v=C.updateFullNode(p.getNode(),i,null);else if(C.filtersNodes()&&!p.isFiltered()){const P=p.getNode().updateChild(t,i);v=C.updateFullNode(p.getNode(),P,null)}else{const P=yn(t);if(!p.isCompleteForPath(t)&&Sg(t)>1)return e;const V=yi(t),X=p.getNode().getImmediateChild(P).updateChild(V,i);v=".priority"===P?C.updatePriority(p.getNode(),X):C.updateChild(p.getNode(),P,X,V,tz,null)}const D=q4(e,v,p.isFullyInitialized()||bn(t),C.filtersNodes());return nz(n,D,t,r,new u2(r,D,s),f)}function h2(n,e,t,i,r,s,l){const f=e.eventCache;let p,v;const C=new u2(r,e,s);if(bn(t))v=n.filter.updateFullNode(e.eventCache.getNode(),i,l),p=AT(e,v,!0,n.filter.filtersNodes());else{const D=yn(t);if(".priority"===D)v=n.filter.updatePriority(e.eventCache.getNode(),i),p=AT(e,v,f.isFullyInitialized(),f.isFiltered());else{const M=yi(t),P=f.getNode().getImmediateChild(D);let V;if(bn(M))V=i;else{const j=C.getCompleteChild(D);V=null!=j?".priority"===HL(M)&&j.getChild(R4(M)).isEmpty()?j:j.updateChild(M,i):on.EMPTY_NODE}p=P.equals(V)?e:AT(e,n.filter.updateChild(f.getNode(),D,V,M,C,l),f.isFullyInitialized(),n.filter.filtersNodes())}}return p}function iz(n,e){return n.eventCache.isCompleteForChild(e)}function rz(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function f2(n,e,t,i,r,s,l,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,p=e;v=bn(t)?i:new Ti(null).setTree(t,i);const C=e.serverCache.getNode();return v.children.inorderTraversal((D,M)=>{if(C.hasChild(D)){const V=rz(0,e.serverCache.getNode().getImmediateChild(D),M);p=WR(n,p,new ri(D),V,r,s,l,f)}}),v.children.inorderTraversal((D,M)=>{const P=!e.serverCache.isCompleteForChild(D)&&null===M.value;if(!C.hasChild(D)&&!P){const j=rz(0,e.serverCache.getNode().getImmediateChild(D),M);p=WR(n,p,new ri(D),j,r,s,l,f)}}),p}class RQ{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new YL(i.getIndex()),s=function qY(n){return n.loadsAllData()?new YL(n.getIndex()):n.hasLimit()?new GY(n):new TT(n)}(i);this.processor_=function CQ(n){return{filter:n}}(s);const l=t.serverCache,f=t.eventCache,p=r.updateFullNode(on.EMPTY_NODE,l.getNode(),null),v=s.updateFullNode(on.EMPTY_NODE,f.getNode(),null),C=new Ag(p,l.isFullyInitialized(),r.filtersNodes()),D=new Ag(v,f.isFullyInitialized(),s.filtersNodes());this.viewCache_=HR(D,C),this.eventGenerator_=new iQ(this.query_)}get query(){return this.query_}}function PQ(n,e){const t=Cy(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!bn(e)&&!t.getImmediateChild(yn(e)).isEmpty())?t.getChild(e):null}function oz(n){return 0===n.eventRegistrations_.length}function sz(n,e,t){const i=[];if(t){(0,F.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const l=s.createCancelEvent(t,r);l&&i.push(l)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const l=n.eventRegistrations_[s];if(l.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function az(n,e,t,i){e.type===rh.MERGE&&null!==e.source.queryId&&((0,F.hu)(Cy(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(zR(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function TQ(n,e,t,i,r){const s=new xQ;let l,f;if(t.type===rh.OVERWRITE){const v=t;v.source.fromUser?l=h2(n,e,v.path,v.snap,i,r,s):((0,F.hu)(v.source.fromServer,"Unknown source."),f=v.source.tagged||e.serverCache.isFiltered()&&!bn(v.path),l=WR(n,e,v.path,v.snap,i,r,f,s))}else if(t.type===rh.MERGE){const v=t;v.source.fromUser?l=function SQ(n,e,t,i,r,s,l){let f=e;return i.foreach((p,v)=>{const C=Wi(t,p);iz(e,yn(C))&&(f=h2(n,f,C,v,r,s,l))}),i.foreach((p,v)=>{const C=Wi(t,p);iz(e,yn(C))||(f=h2(n,f,C,v,r,s,l))}),f}(n,e,v.path,v.children,i,r,s):((0,F.hu)(v.source.fromServer,"Unknown source."),f=v.source.tagged||e.serverCache.isFiltered(),l=f2(n,e,v.path,v.children,i,r,f,s))}else if(t.type===rh.ACK_USER_WRITE){const v=t;l=v.revert?function MQ(n,e,t,i,r,s){let l;if(null!=qR(i,t))return e;{const f=new u2(i,e,r),p=e.eventCache.getNode();let v;if(bn(t)||".priority"===yn(t)){let C;if(e.serverCache.isFullyInitialized())C=GR(i,Cy(e));else{const D=e.serverCache.getNode();(0,F.hu)(D instanceof on,"serverChildren would be complete if leaf node"),C=l2(i,D)}v=n.filter.updateFullNode(p,C,s)}else{const C=yn(t);let D=d2(i,C,e.serverCache);null==D&&e.serverCache.isCompleteForChild(C)&&(D=p.getImmediateChild(C)),v=null!=D?n.filter.updateChild(p,C,D,yi(t),f,s):e.eventCache.getNode().hasChild(C)?n.filter.updateChild(p,C,on.EMPTY_NODE,yi(t),f,s):p,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=GR(i,Cy(e)),l.isLeafNode()&&(v=n.filter.updateFullNode(v,l,s)))}return l=e.serverCache.isFullyInitialized()||null!=qR(i,Gn()),AT(e,v,l,n.filter.filtersNodes())}}(n,e,v.path,i,r,s):function AQ(n,e,t,i,r,s,l){if(null!=qR(r,t))return e;const f=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(bn(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return WR(n,e,t,p.getNode().getChild(t),r,s,f,l);if(bn(t)){let v=new Ti(null);return p.getNode().forEachChild(ih,(C,D)=>{v=v.set(new ri(C),D)}),f2(n,e,t,v,r,s,f,l)}return e}{let v=new Ti(null);return i.foreach((C,D)=>{const M=Wi(t,C);p.isCompleteForPath(M)&&(v=v.set(C,p.getNode().getChild(M)))}),f2(n,e,t,v,r,s,f,l)}}(n,e,v.path,v.affectedTree,i,r,s)}else{if(t.type!==rh.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+t.type);l=function kQ(n,e,t,i,r){const s=e.serverCache;return nz(n,q4(e,s.getNode(),s.isFullyInitialized()||bn(t),s.isFiltered()),t,i,tz,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function DQ(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=zR(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(H4(zR(e)))}}(e,l,p),{viewCache:l,changes:p}}(n.processor_,r,e,t,i);return function IQ(n,e){(0,F.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,F.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,cz(n,s.changes,s.viewCache.eventCache.getNode(),null)}function cz(n,e,t,i){return function rQ(n,e,t,i){const r=[],s=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function $Y(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),ST(n,r,"child_removed",e,i,t),ST(n,r,"child_added",e,i,t),ST(n,r,"child_moved",s,i,t),ST(n,r,"child_changed",e,i,t),ST(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let ZR,YR;class lz{constructor(){this.views=new Map}}function m2(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,F.hu)(null!=s,"SyncTree gave us an op for an invalid query."),az(s,e,t,i)}{let s=[];for(const l of n.views.values())s=s.concat(az(l,e,t,i));return s}}function dz(n,e,t,i,r){const l=n.views.get(e._queryIdentifier);if(!l){let f=GR(t,r?i:null),p=!1;f?p=!0:i instanceof on?(f=l2(t,i),p=!1):(f=on.EMPTY_NODE,p=!1);const v=HR(new Ag(f,p,!1),new Ag(i,r,!1));return new RQ(e,v)}return l}function uz(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Mg(n,e){let t=null;for(const i of n.views.values())t=t||PQ(i,e);return t}function hz(n,e){return e._queryParams.loadsAllData()?KR(n):n.views.get(e._queryIdentifier)}function fz(n,e){return null!=hz(n,e)}function Rg(n){return null!=KR(n)}function KR(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let GQ=1;class mz{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ti(null),this.pendingWriteTree_=function bQ(){return{visibleWrites:Ad.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function p2(n,e,t,i,r){return function cQ(n,e,t,i,r){(0,F.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=kT(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?tx(n,new Ey({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Ng(n,e,t=!1){const i=function dQ(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function uQ(n,e){const t=n.allWrites.findIndex(f=>f.writeId===e);(0,F.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const f=n.allWrites[l];f.visible&&(l>=t&&hQ(f,i.path)?r=!1:cl(i.path,f.path)&&(s=!0)),l--}return!!r&&(s?(function fQ(n){n.visibleWrites=Y4(n.allWrites,mQ,Gn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=W4(n.visibleWrites,i.path):Do(i.children,p=>{n.visibleWrites=W4(n.visibleWrites,Wi(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new Ti(null);return null!=i.snap?s=s.set(Gn(),!0):Do(i.children,l=>{s=s.set(new ri(l),!0)}),tx(n,new jR(i.path,s,t))}return[]}function MT(n,e,t){return tx(n,new Ey({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function QR(n,e,t,i,r=!1){const s=e._path,l=n.syncPointTree_.get(s);let f=[];if(l&&("default"===e._queryIdentifier||fz(l,e))){const p=function HQ(n,e,t,i){const r=e._queryIdentifier,s=[];let l=[];const f=Rg(n);if("default"===r)for(const[p,v]of n.views.entries())l=l.concat(sz(v,t,i)),oz(v)&&(n.views.delete(p),v.query._queryParams.loadsAllData()||s.push(v.query));else{const p=n.views.get(r);p&&(l=l.concat(sz(p,t,i)),oz(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return f&&!Rg(n)&&s.push(new(function BQ(){return(0,F.hu)(ZR,"Reference.ts has not been loaded"),ZR}())(e._repo,e._path)),{removed:s,events:l}}(l,e,t,i);(function UQ(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const v=p.removed;if(f=p.events,!r){const C=-1!==v.findIndex(M=>M._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(s,(M,P)=>Rg(P));if(C&&!D){const M=n.syncPointTree_.subtree(s);if(!M.isEmpty()){const P=function XQ(n){return n.fold((e,t,i)=>{if(t&&Rg(t))return[KR(t)];{let r=[];return t&&(r=uz(t)),Do(i,(s,l)=>{r=r.concat(l)}),r}})}(M);for(let V=0;V<P.length;++V){const j=P[V],X=j.query,ye=vz(n,j);n.listenProvider_.startListening(NT(X),RT(n,X),ye.hashFn,ye.onComplete)}}}!D&&v.length>0&&!i&&(C?n.listenProvider_.stopListening(NT(e),null):v.forEach(M=>{const P=n.queryToTagMap.get(JR(M));n.listenProvider_.stopListening(NT(M),P)}))}!function JQ(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=JR(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,v)}return f}function pz(n,e,t,i){const r=_2(n,i);if(null!=r){const s=v2(r),l=s.path,f=s.queryId,p=Us(l,e);return y2(n,l,new Ey(r2(f),p,t))}return[]}function g2(n,e,t,i=!1){const r=e._path;let s=null,l=!1;n.syncPointTree_.foreachOnPath(r,(M,P)=>{const V=Us(M,r);s=s||Mg(P,V),l=l||Rg(P)});let p,f=n.syncPointTree_.get(r);f?(l=l||Rg(f),s=s||Mg(f,Gn())):(f=new lz,n.syncPointTree_=n.syncPointTree_.set(r,f)),null!=s?p=!0:(p=!1,s=on.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((P,V)=>{const j=Mg(V,Gn());j&&(s=s.updateImmediateChild(P,j))}));const v=fz(f,e);if(!v&&!e._queryParams.loadsAllData()){const M=JR(e);(0,F.hu)(!n.queryToTagMap.has(M),"View does not exist, but we have a tag");const P=function eX(){return GQ++}();n.queryToTagMap.set(M,P),n.tagToQueryMap.set(P,M)}let D=function jQ(n,e,t,i,r,s){const l=dz(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),function FQ(n,e){n.eventRegistrations_.push(e)}(l,t),function LQ(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ii,(s,l)=>{i.push(Qw(s,l))}),t.isFullyInitialized()&&i.push(H4(t.getNode())),cz(n,i,t.getNode(),e)}(l,t)}(f,e,t,$R(n.pendingWriteTree_,r),s,p);if(!v&&!l&&!i){const M=hz(f,e);D=D.concat(function tX(n,e,t){const i=e._path,r=RT(n,e),s=vz(n,t),l=n.listenProvider_.startListening(NT(e),r,s.hashFn,s.onComplete),f=n.syncPointTree_.subtree(i);if(r)(0,F.hu)(!Rg(f.value),"If we're adding a query, it shouldn't be shadowed");else{const p=f.fold((v,C,D)=>{if(!bn(v)&&C&&Rg(C))return[KR(C).query];{let M=[];return C&&(M=M.concat(uz(C).map(P=>P.query))),Do(D,(P,V)=>{M=M.concat(V)}),M}});for(let v=0;v<p.length;++v){const C=p[v];n.listenProvider_.stopListening(NT(C),RT(n,C))}}return l}(n,e,M))}return D}function XR(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(l,f)=>{const v=Mg(f,Us(l,e));if(v)return v});return Q4(r,e,s,t,!0)}function tx(n,e){return gz(e,n.syncPointTree_,null,$R(n.pendingWriteTree_,Gn()))}function gz(n,e,t,i){if(bn(n.path))return _z(n,e,t,i);{const r=e.get(Gn());null==t&&null!=r&&(t=Mg(r,Gn()));let s=[];const l=yn(n.path),f=n.operationForChild(l),p=e.children.get(l);if(p&&f){const v=t?t.getImmediateChild(l):null,C=J4(i,l);s=s.concat(gz(f,p,v,C))}return r&&(s=s.concat(m2(r,n,i,t))),s}}function _z(n,e,t,i){const r=e.get(Gn());null==t&&null!=r&&(t=Mg(r,Gn()));let s=[];return e.children.inorderTraversal((l,f)=>{const p=t?t.getImmediateChild(l):null,v=J4(i,l),C=n.operationForChild(l);C&&(s=s.concat(_z(C,f,p,v)))}),r&&(s=s.concat(m2(r,n,i,t))),s}function vz(n,e){const t=e.query,i=RT(n,t);return{hashFn:()=>(function NQ(n){return n.viewCache_.serverCache.getNode()}(e)||on.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function KQ(n,e,t){const i=_2(n,t);if(i){const r=v2(i),s=r.path,l=r.queryId,f=Us(s,e);return y2(n,s,new DT(r2(l),f))}return[]}(n,t._path,i):function ZQ(n,e){return tx(n,new DT({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function WK(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return QR(n,t,null,s)}}}}function RT(n,e){const t=JR(e);return n.queryToTagMap.get(t)}function JR(n){return n._path.toString()+"$"+n._queryIdentifier}function _2(n,e){return n.tagToQueryMap.get(e)}function v2(n){const e=n.indexOf("$");return(0,F.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ri(n.substr(0,e))}}function y2(n,e,t){const i=n.syncPointTree_.get(e);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),m2(i,t,$R(n.pendingWriteTree_,e),null)}function NT(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function $Q(){return(0,F.hu)(YR,"Reference.ts has not been loaded"),YR}())(n._repo,n._path):n}class b2{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new b2(t)}node(){return this.node_}}class w2{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Wi(this.path_,e);return new w2(this.syncTree_,t)}node(){return XR(this.syncTree_,this.path_)}}const nX=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},yz=function(n,e,t){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?iX(n[".sv"],e,t):"object"==typeof n[".sv"]?rX(n[".sv"],e):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},iX=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},rX=function(n,e,t){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,F.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},bz=function(n,e,t,i){return E2(e,new w2(t,n),i)},x2=function(n,e,t){return E2(n,new b2(e),t)};function E2(n,e,t){const i=n.getPriority().val(),r=yz(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const l=n,f=yz(l.getValue(),e,t);return f!==l.getValue()||r!==l.getPriority().val()?new Kw(f,or(r)):n}{const l=n;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new Kw(r))),l.forEachChild(Ii,(f,p)=>{const v=E2(p,e.getImmediateChild(f),t);v!==p&&(s=s.updateImmediateChild(f,v))}),s}}class C2{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function e1(n,e){let t=e instanceof ri?e:new ri(e),i=n,r=yn(t);for(;null!==r;){const s=(0,F.DV)(i.node.children,r)||{children:{},childCount:0};i=new C2(r,i,s),t=yi(t),r=yn(t)}return i}function Ty(n){return n.node.value}function I2(n,e){n.node.value=e,T2(n)}function wz(n){return n.node.childCount>0}function t1(n,e){Do(n.node.children,(t,i)=>{e(new C2(t,n,i))})}function xz(n,e,t,i){t&&!i&&e(n),t1(n,r=>{xz(r,e,!0,i)}),t&&i&&e(n)}function OT(n){return new ri(null===n.parent?n.name:OT(n.parent)+"/"+n.name)}function T2(n){null!==n.parent&&function aX(n,e,t){const i=function oX(n){return void 0===Ty(n)&&!wz(n)}(t),r=(0,F.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,T2(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,T2(n))}(n.parent,n.name,n)}const cX=/[\[\].#$\/\u0000-\u001F\u007F]/,lX=/[\[\].#$\u0000-\u001F\u007F]/,D2=10485760,n1=function(n){return"string"==typeof n&&0!==n.length&&!cX.test(n)},Ez=function(n){return"string"==typeof n&&0!==n.length&&!lX.test(n)},PT=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!AR(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},oh=function(n,e,t,i){i&&void 0===e||FT((0,F.gK)(n,"value"),e,t)},FT=function(n,e,t){const i=t instanceof ri?new TY(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+wy(i));if("function"==typeof e)throw new Error(n+"contains a function "+wy(i)+" with contents = "+e.toString());if(AR(e))throw new Error(n+"contains "+e.toString()+" "+wy(i));if("string"==typeof e&&e.length>D2/3&&(0,F.ug)(e)>D2)throw new Error(n+"contains a string greater than "+D2+" utf8 bytes "+wy(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Do(e,(l,f)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!n1(l)))throw new Error(n+" contains an invalid key ("+l+") "+wy(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function DY(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,F.ug)(e),N4(n)})(i,l),FT(n,f,i),function SY(n){const e=n.parts_.pop();n.byteLength_-=(0,F.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+wy(i)+" in addition to actual children.")}},Cz=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,F.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Do(e,(l,f)=>{const p=new ri(l);if(FT(r,f,Wi(t,p)),".priority"===HL(p)&&!PT(f))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=bT(i);for(let l=0;l<s.length;l++)if((".priority"!==s[l]||l!==s.length-1)&&!n1(s[l]))throw new Error(n+"contains an invalid key ("+s[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(IY);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&cl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},S2=function(n,e,t){if(!t||void 0!==e){if(AR(e))throw new Error((0,F.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!PT(e))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},LT=function(n,e,t,i){if(!(i&&void 0===t||n1(t)))throw new Error((0,F.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},VT=function(n,e,t,i){if(!(i&&void 0===t||Ez(t)))throw new Error((0,F.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},hX=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),VT(n,e,t,i)},ll=function(n,e){if(".info"===yn(e))throw new Error(n+" failed = Can't modify data under /.info/")},Iz=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!n1(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ez(n)}(t))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class fX{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function r1(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!zL(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function Tz(n,e,t){r1(n,t),Dz(n,i=>zL(i,e))}function Ka(n,e,t){r1(n,t),Dz(n,i=>cl(i,e)||cl(e,i))}function Dz(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(mX(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function mX(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();yy&&To("event: "+t.toString()),Ww(i)}}}const Sz="repo_interrupt",pX=25;class gX{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fX,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=UR(),this.transactionQueueTree_=new C2,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Az(n){const t=n.infoData_.getNode(new ri(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function BT(n){return nX({timestamp:Az(n)})}function kz(n,e,t,i,r){n.dataUpdateCount++;const s=new ri(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(r)if(i){const p=(0,F.UI)(t,v=>or(v));l=function YQ(n,e,t,i){const r=_2(n,i);if(r){const s=v2(r),l=s.path,f=s.queryId,p=Us(l,e),v=Ti.fromObject(t);return y2(n,l,new Jw(r2(f),p,v))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=or(t);l=pz(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,F.UI)(t,v=>or(v));l=function WQ(n,e,t){const i=Ti.fromObject(t);return tx(n,new Jw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=or(t);l=MT(n.serverSyncTree_,s,p)}let f=s;l.length>0&&(f=ix(n,s)),Ka(n.eventQueue_,f,l)}function Mz(n,e){A2(n,"connected",e),!1===e&&function wX(n){nx(n,"onDisconnectEvents");const e=BT(n),t=UR();e2(n.onDisconnect_,Gn(),(r,s)=>{const l=bz(r,s,n.serverSyncTree_,e);Xw(t,r,l)});let i=[];e2(t,Gn(),(r,s)=>{i=i.concat(MT(n.serverSyncTree_,r,s));const l=N2(n,r);ix(n,l)}),n.onDisconnect_=UR(),Ka(n.eventQueue_,Gn(),i)}(n)}function A2(n,e,t){const i=new ri("/.info/"+e),r=or(t);n.infoData_.updateSnapshot(i,r);const s=MT(n.infoSyncTree_,i,r);Ka(n.eventQueue_,i,s)}function o1(n){return n.nextWriteId_++}function k2(n,e,t,i,r){nx(n,"set",{path:e.toString(),value:t,priority:i});const s=BT(n),l=or(t,i),f=XR(n.serverSyncTree_,e),p=x2(l,f,s),v=o1(n),C=p2(n.serverSyncTree_,e,p,v,!0);r1(n.eventQueue_,C),n.server_.put(e.toString(),l.val(!0),(M,P)=>{const V="ok"===M;V||ps("set at "+e+" failed: "+M);const j=Ng(n.serverSyncTree_,v,!V);Ka(n.eventQueue_,e,j),Og(0,r,M,P)});const D=N2(n,e);ix(n,D),Ka(n.eventQueue_,D,[])}function xX(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&JL(n.onDisconnect_,e),Og(0,t,i,r)})}function Rz(n,e,t,i){const r=or(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,l)=>{"ok"===s&&Xw(n.onDisconnect_,e,r),Og(0,i,s,l)})}function M2(n,e,t){let i;i=".info"===yn(e._path)?QR(n.infoSyncTree_,e,t):QR(n.serverSyncTree_,e,t),Tz(n.eventQueue_,e._path,i)}function Nz(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Sz)}function nx(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),To(t,...e)}function Og(n,e,t,i){e&&Ww(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const l=new Error(s);l.code=r,e(l)}})}function R2(n,e,t){return XR(n.serverSyncTree_,e,t)||on.EMPTY_NODE}function s1(n,e=n.transactionQueueTree_){if(e||a1(n,e),Ty(e)){const t=Pz(n,e);(0,F.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function SX(n,e,t){const i=t.map(v=>v.currentWriteId),r=R2(n,e,i);let s=r;const l=r.hash();for(let v=0;v<t.length;v++){const C=t[v];(0,F.hu)(0===C.status,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const D=Us(e,C.path);s=s.updateChild(D,C.currentOutputSnapshotRaw)}const f=s.val(!0),p=e;n.server_.put(p.toString(),f,v=>{nx(n,"transaction put response",{path:p.toString(),status:v});let C=[];if("ok"===v){const D=[];for(let M=0;M<t.length;M++)t[M].status=2,C=C.concat(Ng(n.serverSyncTree_,t[M].currentWriteId)),t[M].onComplete&&D.push(()=>t[M].onComplete(null,!0,t[M].currentOutputSnapshotResolved)),t[M].unwatcher();a1(n,e1(n.transactionQueueTree_,e)),s1(n,n.transactionQueueTree_),Ka(n.eventQueue_,e,C);for(let M=0;M<D.length;M++)Ww(D[M])}else{if("datastale"===v)for(let D=0;D<t.length;D++)t[D].status=3===t[D].status?4:0;else{ps("transaction at "+p.toString()+" failed: "+v);for(let D=0;D<t.length;D++)t[D].status=4,t[D].abortReason=v}ix(n,e)}},l)}(n,OT(e),t)}else wz(e)&&t1(e,t=>{s1(n,t)})}function ix(n,e){const t=Oz(n,e),i=OT(t);return function AX(n,e,t){if(0===e.length)return;const i=[];let r=[];const l=e.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const p=e[f],v=Us(t,p.path);let D,C=!1;if((0,F.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)C=!0,D=p.abortReason,r=r.concat(Ng(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=pX)C=!0,D="maxretry",r=r.concat(Ng(n.serverSyncTree_,p.currentWriteId,!0));else{const M=R2(n,p.path,l);p.currentInputSnapshot=M;const P=e[f].update(M.val());if(void 0!==P){FT("transaction failed: Data returned ",P,p.path);let V=or(P);"object"==typeof P&&null!=P&&(0,F.r3)(P,".priority")||(V=V.updatePriority(M.getPriority()));const X=p.currentWriteId,ye=BT(n),Pe=x2(V,M,ye);p.currentOutputSnapshotRaw=V,p.currentOutputSnapshotResolved=Pe,p.currentWriteId=o1(n),l.splice(l.indexOf(X),1),r=r.concat(p2(n.serverSyncTree_,p.path,Pe,p.currentWriteId,p.applyLocally)),r=r.concat(Ng(n.serverSyncTree_,X,!0))}else C=!0,D="nodata",r=r.concat(Ng(n.serverSyncTree_,p.currentWriteId,!0))}Ka(n.eventQueue_,t,r),r=[],C&&(e[f].status=2,setTimeout(e[f].unwatcher,Math.floor(0)),e[f].onComplete&&i.push("nodata"===D?()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot):()=>e[f].onComplete(new Error(D),!1,null)))}a1(n,n.transactionQueueTree_);for(let f=0;f<i.length;f++)Ww(i[f]);s1(n,n.transactionQueueTree_)}(n,Pz(n,t),i),i}function Oz(n,e){let t,i=n.transactionQueueTree_;for(t=yn(e);null!==t&&void 0===Ty(i);)i=e1(i,t),t=yn(e=yi(e));return i}function Pz(n,e){const t=[];return Fz(n,e,t),t.sort((i,r)=>i.order-r.order),t}function Fz(n,e,t){const i=Ty(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);t1(e,r=>{Fz(n,r,t)})}function a1(n,e){const t=Ty(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,I2(e,t.length>0?t:void 0)}t1(e,i=>{a1(n,i)})}function N2(n,e){const t=OT(Oz(n,e)),i=e1(n.transactionQueueTree_,e);return function sX(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{O2(n,r)}),O2(n,i),xz(i,r=>{O2(n,r)}),t}function O2(n,e){const t=Ty(e);if(t){const i=[];let r=[],s=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,F.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,t[l].status=3,t[l].abortReason="set"):((0,F.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),r=r.concat(Ng(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?I2(e,void 0):t.length=s+1,Ka(n.eventQueue_,OT(e),r);for(let l=0;l<i.length;l++)Ww(i[l])}}const P2=function(n,e){const t=RX(n),i=t.namespace;return"firebase.com"===t.domain&&nh(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&nh("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ps("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new FL(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new ri(t.pathString)}},RX=function(n){let e="",t="",i="",r="",s="",l=!0,f="https",p=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(f=n.substring(0,v-1),n=n.substring(v+2));let C=n.indexOf("/");-1===C&&(C=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),e=n.substring(0,Math.min(C,D)),C<D&&(r=function kX(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(C,D)));const M=function MX(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ps(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,D)));v=e.indexOf(":"),v>=0?(l="https"===f||"wss"===f,p=parseInt(e.substring(v+1),10)):v=e.length;const P=e.slice(0,v);if("localhost"===P.toLowerCase())t="localhost";else if(P.split(".").length<=2)t=P;else{const V=e.indexOf(".");i=e.substring(0,V).toLowerCase(),t=e.substring(V+1),s=i}"ns"in M&&(s=M.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:l,scheme:f,pathString:r,namespace:s}},Lz="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",NX=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Lz.charAt(t%64),t=Math.floor(t/64);(0,F.hu)(0===t,"Cannot push at time == 0");let l=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=Lz.charAt(e[r]);return(0,F.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class Vz{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class Bz{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class F2{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Uz{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new F.BH;return xX(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){ll("OnDisconnect.remove",this._path);const e=new F.BH;return Rz(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){ll("OnDisconnect.set",this._path),oh("OnDisconnect.set",e,this._path,!1);const t=new F.BH;return Rz(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){ll("OnDisconnect.setWithPriority",this._path),oh("OnDisconnect.setWithPriority",e,this._path,!1),S2("OnDisconnect.setWithPriority",t,!1);const i=new F.BH;return function EX(n,e,t,i,r){const s=or(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(l,f)=>{"ok"===l&&Xw(n.onDisconnect_,e,s),Og(0,r,l,f)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){ll("OnDisconnect.update",this._path),Cz("OnDisconnect.update",e,this._path,!1);const t=new F.BH;return function CX(n,e,t,i){if((0,F.xb)(t))return To("onDisconnect().update() called with empty data.  Don't do anything."),void Og(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&Do(t,(l,f)=>{const p=or(f);Xw(n.onDisconnect_,Wi(e,l),p)}),Og(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class wa{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return bn(this._path)?null:HL(this._path)}get ref(){return new dl(this._repo,this._path)}get _queryIdentifier(){const e=$4(this._queryParams),t=OL(e);return"{}"===t?"default":t}get _queryObject(){return $4(this._queryParams)}isEqual(e){if(!((e=(0,F.m9)(e))instanceof wa))return!1;const t=this._repo===e._repo,i=zL(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function CY(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function c1(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Pg(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===ih){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Tg)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Jf)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Ii){if(null!=e&&!PT(e)||null!=t&&!PT(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof ZL||n.getIndex()===KL,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function l1(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class dl extends wa{constructor(e,t){super(e,t,new LR,!1)}get parent(){const e=R4(this._path);return null===e?null:new dl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Dy{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ri(e),i=Sy(this.ref,e);return new Dy(this._node.getChild(t),i,Ii)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Dy(r,Sy(this.ref,i),Ii)))}hasChild(e){const t=new ri(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function jz(n,e){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==e?Sy(n._root,e):n._root}function Hz(n,e){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const t=P2(e,n._repo.repoInfo_.nodeAdmin);Iz("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&nh("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),jz(n,t.path.toString())}function Sy(n,e){return null===yn((n=(0,F.m9)(n))._path)?hX("child","path",e,!1):VT("child","path",e,!1),new dl(n._repo,Wi(n._path,e))}function L2(n,e){n=(0,F.m9)(n),ll("set",n._path),oh("set",e,n._path,!1);const t=new F.BH;return k2(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function VX(n,e){Cz("update",e,n._path,!1);const t=new F.BH;return function bX(n,e,t,i){nx(n,"update",{path:e.toString(),value:t});let r=!0;const s=BT(n),l={};if(Do(t,(f,p)=>{r=!1,l[f]=bz(Wi(e,f),or(p),n.serverSyncTree_,s)}),r)To("update() called with empty data.  Don't do anything."),Og(0,i,"ok",void 0);else{const f=o1(n),p=function qQ(n,e,t,i){!function lQ(n,e,t,i){(0,F.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=s2(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=Ti.fromObject(t);return tx(n,new Jw({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,l,f);r1(n.eventQueue_,p),n.server_.merge(e.toString(),t,(v,C)=>{const D="ok"===v;D||ps("update at "+e+" failed: "+v);const M=Ng(n.serverSyncTree_,f,!D),P=M.length>0?ix(n,e):e;Ka(n.eventQueue_,P,M),Og(0,i,v,C)}),Do(t,v=>{const C=N2(n,Wi(e,v));ix(n,C)}),Ka(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function BX(n){n=(0,F.m9)(n);const e=new F2(()=>{}),t=new UT(e);return function yX(n,e,t){const i=function QQ(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(v,C)=>{const D=Us(v,t);i=i||Mg(C,D)});let r=n.syncPointTree_.get(t);r?i=i||Mg(r,Gn()):(r=new lz,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,l=s?new Ag(i,!0,!1):null;return function OQ(n){return zR(n.viewCache_)}(dz(r,e,$R(n.pendingWriteTree_,e._path),s?l.getNode():on.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const s=or(r).withIndex(e._queryParams.getIndex());let l;if(g2(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())l=MT(n.serverSyncTree_,e._path,s);else{const f=RT(n.serverSyncTree_,e);l=pz(n.serverSyncTree_,e._path,s,f)}return Ka(n.eventQueue_,e._path,l),QR(n.serverSyncTree_,e,t,null,!0),s},r=>(nx(n,"get for query "+(0,F.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new Dy(i,new dl(n._repo,n._path),n._queryParams.getIndex()))}class UT{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new Vz("value",this,new Dy(e.snapshotNode,new dl(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Bz(this,e,t):null}matches(e){return e instanceof UT&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class d1{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Bz(this,e,t):null}createEvent(e,t){(0,F.hu)(null!=e.childName,"Child events should have a childName.");const i=Sy(new dl(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Vz(e.type,this,new Dy(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof d1&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function jT(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,v=(C,D)=>{M2(n._repo,n,f),p(C,D)};v.userCallback=t.userCallback,v.context=t.context,t=v}const l=new F2(t,s||void 0),f="value"===e?new UT(l):new d1(e,l);return function IX(n,e,t){let i;i=".info"===yn(e._path)?g2(n.infoSyncTree_,e,t):g2(n.serverSyncTree_,e,t),Tz(n.eventQueue_,e._path,i)}(n._repo,n,f),()=>M2(n._repo,n,f)}function V2(n,e,t,i){return jT(n,"value",e,t,i)}function zz(n,e,t,i){return jT(n,"child_added",e,t,i)}function $z(n,e,t,i){return jT(n,"child_changed",e,t,i)}function Gz(n,e,t,i){return jT(n,"child_moved",e,t,i)}function qz(n,e,t,i){return jT(n,"child_removed",e,t,i)}function Wz(n,e,t){let i=null;const r=t?new F2(t):null;"value"===e?i=new UT(r):e&&(i=new d1(e,r)),M2(n._repo,n,i)}class kd{}class Zz extends kd{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){oh("endAt",this._value,e._path,!0);const t=XL(e._queryParams,this._value,this._key);if(l1(t),Pg(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wa(e._repo,e._path,t,e._orderByCalled)}}class jX extends kd{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){oh("endBefore",this._value,e._path,!1);const t=function YY(n,e,t){let i;return i=XL(n,e,n.index_===ih||t?t:Tg),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(l1(t),Pg(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new wa(e._repo,e._path,t,e._orderByCalled)}}class Kz extends kd{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){oh("startAt",this._value,e._path,!0);const t=QL(e._queryParams,this._value,this._key);if(l1(t),Pg(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new wa(e._repo,e._path,t,e._orderByCalled)}}class $X extends kd{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){oh("startAfter",this._value,e._path,!1);const t=function KY(n,e,t){let i;return i=QL(n,e,n.index_===ih||t?t:Jf),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(l1(t),Pg(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new wa(e._repo,e._path,t,e._orderByCalled)}}class qX extends kd{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new wa(e._repo,e._path,function WY(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class ZX extends kd{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new wa(e._repo,e._path,function ZY(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class YX extends kd{constructor(e){super(),this._path=e}_apply(e){c1(e,"orderByChild");const t=new ri(this._path);if(bn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new ZL(t),r=VR(e._queryParams,i);return Pg(r),new wa(e._repo,e._path,r,!0)}}class XX extends kd{_apply(e){c1(e,"orderByKey");const t=VR(e._queryParams,ih);return Pg(t),new wa(e._repo,e._path,t,!0)}}class eJ extends kd{_apply(e){c1(e,"orderByPriority");const t=VR(e._queryParams,Ii);return Pg(t),new wa(e._repo,e._path,t,!0)}}class nJ extends kd{_apply(e){c1(e,"orderByValue");const t=VR(e._queryParams,KL);return Pg(t),new wa(e._repo,e._path,t,!0)}}class rJ extends kd{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(oh("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Zz(this._value,this._key)._apply(new Kz(this._value,this._key)._apply(e))}}function Md(n,...e){let t=(0,F.m9)(n);for(const i of e)t=i._apply(t);return t}(function VQ(n){(0,F.hu)(!ZR,"__referenceConstructor has already been defined"),ZR=n})(dl),function zQ(n){(0,F.hu)(!YR,"__referenceConstructor has already been defined"),YR=n}(dl);const B2={};function Qz(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||nh("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),To("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,v,l=P2(s,r),f=l.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(p=!0,s=`http://${v}?ns=${f.namespace}`,l=P2(s,r),f=l.repoInfo):p=!l.repoInfo.secure;const C=r&&p?new yT(yT.OWNER):new JK(n.name,n.options,e);Iz("Invalid Firebase Database URL",l),bn(l.path)||nh("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function lJ(n,e,t,i){let r=B2[e.name];r||(r={},B2[e.name]=r);let s=r[n.toURLString()];return s&&nh("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new gX(n,false,t,i),r[n.toURLString()]=s,s}(f,n,C,new XK(n.name,t));return new uJ(D,n)}class uJ{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function _X(n,e,t){if(n.stats_=BL(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new BR(n.repoInfo_,(i,r,s,l)=>{kz(n,i,r,s,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Mz(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new xy(n.repoInfo_,e,(i,r,s,l)=>{kz(n,i,r,s,l)},i=>{Mz(n,i)},i=>{!function vX(n,e){Do(e,(t,i)=>{A2(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function nY(n,e){const t=n.toString();return VL[t]||(VL[t]=e()),VL[t]}(n.repoInfo_,()=>new nQ(n.stats_,n.server_)),n.infoData_=new QY,n.infoSyncTree_=new mz({startListening:(i,r,s,l)=>{let f=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(f=MT(n.infoSyncTree_,i._path,p),setTimeout(()=>{l("ok")},0)),f},stopListening:()=>{}}),A2(n,"connected",!1),n.serverSyncTree_=new mz({startListening:(i,r,s,l)=>(n.server_.listen(i,s,r,(f,p)=>{const v=l(f,p);Ka(n.eventQueue_,i._path,v)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dl(this._repo,Gn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function cJ(n,e){const t=B2[e];(!t||t[n.key]!==n)&&nh(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Nz(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&nh("Cannot call "+e+" on a deleted database.")}}function Xz(){b4.IS_TRANSPORT_INITIALIZED&&ps("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function hJ(){Xz(),Dg.forceDisallow()}function fJ(){Xz(),Zw.forceDisallow(),Dg.forceAllow()}function gJ(n,e){JH(n,e)}const vJ={".sv":"timestamp"};class wJ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}xy.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},xy.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function _J(n){ZH(_u.SDK_VERSION),(0,_u._registerComponent)(new ha.wA("database",(e,{instanceIdentifier:t})=>Qz(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,_u.registerVersion)(qH,"0.14.4",n),(0,_u.registerVersion)(qH,"0.14.4","esm2017")}();const IJ=new ds.Yd("@firebase/database-compat"),e6=function(n){IJ.warn("FIREBASE WARNING: "+n)};class SJ{constructor(e){this._delegate=e}cancel(e){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,e6("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class AJ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Fg{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),VT("DataSnapshot.child","path",e,!1),new Fg(this._database,this._delegate.child(e))}hasChild(e){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),VT("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Fg(this._database,t)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ya(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Yo{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",t,!1);const l=Yo.getCancelAndContextArgs_("Query.on",i,r),f=(v,C)=>{t.call(l.context,new Fg(this.database,v),C)};f.userCallback=t,f.context=l.context;const p=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(e){case"value":return V2(this._delegate,f,p),t;case"child_added":return zz(this._delegate,f,p),t;case"child_removed":return qz(this._delegate,f,p),t;case"child_changed":return $z(this._delegate,f,p),t;case"child_moved":return Gz(this._delegate,f,p),t;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,F.Wj)("Query.off","callback",t,!0),(0,F.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,Wz(this._delegate,e,r)}else Wz(this._delegate,e)}get(){return BX(this._delegate).then(e=>new Fg(this.database,e))}once(e,t,i,r){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",t,!0);const s=Yo.getCancelAndContextArgs_("Query.once",i,r),l=new F.BH,f=(v,C)=>{const D=new Fg(this.database,v);t&&t.call(s.context,D,C),l.resolve(D)};f.userCallback=t,f.context=s.context;const p=v=>{s.cancel&&s.cancel.call(s.context,v),l.reject(v)};switch(e){case"value":V2(this._delegate,f,p,{onlyOnce:!0});break;case"child_added":zz(this._delegate,f,p,{onlyOnce:!0});break;case"child_removed":qz(this._delegate,f,p,{onlyOnce:!0});break;case"child_changed":$z(this._delegate,f,p,{onlyOnce:!0});break;case"child_moved":Gz(this._delegate,f,p,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(e){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new Yo(this.database,Md(this._delegate,function WX(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new qX(n)}(e)))}limitToLast(e){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new Yo(this.database,Md(this._delegate,function KX(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ZX(n)}(e)))}orderByChild(e){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new Yo(this.database,Md(this._delegate,function QX(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return VT("orderByChild","path",n,!1),new YX(n)}(e)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new Yo(this.database,Md(this._delegate,function JX(){return new XX}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new Yo(this.database,Md(this._delegate,function tJ(){return new eJ}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new Yo(this.database,Md(this._delegate,function iJ(){return new nJ}()))}startAt(e=null,t){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new Yo(this.database,Md(this._delegate,function zX(n=null,e){return LT("startAt","key",e,!0),new Kz(n,e)}(e,t)))}startAfter(e=null,t){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new Yo(this.database,Md(this._delegate,function GX(n,e){return LT("startAfter","key",e,!0),new $X(n,e)}(e,t)))}endAt(e=null,t){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new Yo(this.database,Md(this._delegate,function UX(n,e){return LT("endAt","key",e,!0),new Zz(n,e)}(e,t)))}endBefore(e=null,t){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new Yo(this.database,Md(this._delegate,function HX(n,e){return LT("endBefore","key",e,!0),new jX(n,e)}(e,t)))}equalTo(e,t){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new Yo(this.database,Md(this._delegate,function oJ(n,e){return LT("equalTo","key",e,!0),new rJ(n,e)}(e,t)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Yo))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,F.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,F.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,F.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Ya(this.database,new dl(this._delegate._repo,this._delegate._path))}}class Ya extends Yo{constructor(e,t){super(e,new wa(t._repo,t._path,new LR,!1)),this.database=e,this._delegate=t}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Ya(this.database,Sy(this._delegate,e))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ya(this.database,e):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new Ya(this.database,this._delegate.root)}set(e,t){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",t,!0);const i=L2(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,e6("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ll("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",t,!0);const i=VX(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function LX(n,e,t){if(ll("setWithPriority",n._path),oh("setWithPriority",e,n._path,!1),S2("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new F.BH;return k2(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",e,!0);const t=function PX(n){return ll("remove",n._path),L2(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,F.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function xJ(n,e,t){var i;if(n=(0,F.m9)(n),ll("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,s=new F.BH,f=V2(n,()=>{});return function DX(n,e,t,i,r,s){nx(n,"transaction on "+e);const l={path:e,update:t,onComplete:i,status:null,order:YH(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},f=R2(n,e,void 0);l.currentInputSnapshot=f;const p=l.update(f.val());if(void 0===p)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{FT("transaction failed: Data returned ",p,l.path),l.status=0;const v=e1(n.transactionQueueTree_,e),C=Ty(v)||[];let D;C.push(l),I2(v,C),"object"==typeof p&&null!==p&&(0,F.r3)(p,".priority")?(D=(0,F.DV)(p,".priority"),(0,F.hu)(PT(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(XR(n.serverSyncTree_,e)||on.EMPTY_NODE).getPriority().val();const M=BT(n),P=or(p,D),V=x2(P,f,M);l.currentOutputSnapshotRaw=P,l.currentOutputSnapshotResolved=V,l.currentWriteId=o1(n);const j=p2(n.serverSyncTree_,e,V,l.currentWriteId,l.applyLocally);Ka(n.eventQueue_,e,j),s1(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,v,C)=>{let D=null;p?s.reject(p):(D=new Dy(C,new dl(n._repo,n._path),Ii),s.resolve(new wJ(v,D)))},f,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new AJ(s.committed,new Fg(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",t,!0);const i=function FX(n,e){n=(0,F.m9)(n),ll("setPriority",n._path),S2("setPriority",e,!1);const t=new F.BH;return k2(n._repo,Wi(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",t,!0);const i=function OX(n,e){n=(0,F.m9)(n),ll("push",n._path),oh("push",e,n._path,!0);const t=Az(n._repo),i=NX(t),r=Sy(n,i),s=Sy(n,i);let l;return l=null!=e?L2(s,e).then(()=>s):Promise.resolve(s),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,e),r=i.then(l=>new Ya(this.database,l));t&&r.then(()=>t(null),l=>t(l));const s=new Ya(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return ll("Reference.onDisconnect",this._delegate._path),new SJ(new Uz(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class HT{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:hJ,forceLongPolling:fJ}}useEmulator(e,t,i={}){!function Jz(n,e,t,i={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&nh("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&nh('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new yT(yT.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,n.app.options.projectId);s=new yT(l)}!function aJ(n,e,t,i){n.repoInfo_=new FL(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,F.Dv)("database.ref",0,1,arguments.length),e instanceof Ya){const t=Hz(this._delegate,e.toString());return new Ya(this,t)}{const t=jz(this._delegate,e);return new Ya(this,t)}}refFromURL(e){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=Hz(this._delegate,e);return new Ya(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function mJ(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),Nz(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function pJ(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function TX(n){n.persistentConnection_&&n.persistentConnection_.resume(Sz)}(n._repo)}(this._delegate)}}HT.ServerValue={TIMESTAMP:function yJ(){return vJ}(),increment:n=>function bJ(n){return{".sv":{increment:n}}}(n)};var MJ=Object.freeze({__proto__:null,initStandalone:function kJ({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){ZH(t);const l=new ha.zt("auth-internal",new ha.H0("database-standalone"));return l.setComponent(new ha.wA("auth-internal",()=>i,"PRIVATE")),{instance:new HT(Qz(n,l,void 0,e,s),n),namespace:r}}});const RJ=HT.ServerValue;function t6(n){return null==n}function n6(n){return"function"==typeof n.set}function i6(n,e){return n6(e)?e:n.ref(e)}function r6(n,e){if(function OJ(n){return"string"==typeof n}(n))return e.stringCase();if(n6(n))return e.firebaseCase();if(function PJ(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function zT(n,e,t="on",i=gu.z){return new zn.y(r=>{let s=null;return s=n[t](e,(l,f)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:f})}),"once"===t&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,dt.U)(r=>{const{snapshot:s,prevKey:l}=r;let f=null;return s.exists()&&(f=s.key),{type:e,payload:s,prevKey:l,key:f}}),z())}function o6(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function VJ(n,e){const{payload:t,prevKey:i,key:r}=e,s=o6(n,r),l=function LJ(n,e){if(t6(e))return 0;{const t=o6(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let f=null;e.payload.forEach(p=>{const v={payload:p,type:"value",prevKey:f,key:p.key};return f=p.key,n=[...n,v],!1})}return n;case"child_added":if(s>-1){const f=n[s-1];(f&&f.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(l,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(l,0,e)}return n;case"child_removed":return n.filter(f=>f.payload.key!==t.key);case"child_changed":return n.map(f=>f.payload.key===r?e:f);case"child_moved":if(s>-1){const f=n.splice(s,1)[0];return(n=n.slice()).splice(l,0,f),n}return n;default:return n}}function s6(n){return(t6(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function a6(n,e,t){return function FJ(n,e,t){return zT(n,"value","once",t).pipe(di(i=>{const r=[mt(i)];return e.forEach(s=>r.push(zT(n,s,"on",t))),E(...r).pipe(Mt(VJ,[]))}),cp())}(n,e=s6(e),t)}function c6(n,e,t){return E(...(e=s6(e)).map(r=>zT(n,r,"on",t)))}function l6(n,e){return function(i,r){return r6(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function HJ(n){return function(t){return t?r6(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function d6(n,e){return function(){return zT(n,"value","on",e)}}!function NJ(n){n.INTERNAL.registerComponent(new ha.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new HT(r,i)},"PUBLIC").setServiceProps({Reference:Ya,Query:Yo,Database:HT,DataSnapshot:Fg,enableLogging:gJ,INTERNAL:MJ,ServerValue:RJ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(SD.Z);const GJ=new d.OlP("angularfire2.realtimeDatabaseURL"),qJ=new d.OlP("angularfire2.database.use-emulator");let WJ=(()=>{class n{constructor(t,i,r,s,l,f,p,v,C,D,M,P,V,j,X){this.schedulers=f;const ye=p,Pe=(0,er.on)(t,l,i);v&&rF(Pe,l,C,M,P,V,D,j),this.database=(0,er.cc)(`${Pe.name}.database.${r}`,"AngularFireDatabase",Pe.name,()=>{const De=l.runOutsideAngular(()=>Pe.database(r||void 0));return ye&&De.useEmulator(...ye),De},[ye])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>i6(this.database,t));let s=r;return i&&(s=i(r)),function zJ(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:l6(i,"update"),set:l6(i,"set"),push:r=>i.push(r),remove:HJ(i),snapshotChanges:r=>a6(n,r,t).pipe(An.iC),stateChanges:r=>c6(n,r,t).pipe(An.iC),auditTrail:r=>function BJ(n,e,t){return function jJ(n,e,t){return function UJ(n,e){return zT(n,"value","on",e).pipe((0,dt.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function VK(...n){const e=Mh(n);return(0,li.e)((t,i)=>{const r=n.length,s=new Array(r);let l=n.map(()=>!1),f=!1;for(let p=0;p<r;p++)en(n[p]).subscribe((0,Bn.x)(i,v=>{s[p]=v,!f&&!l[p]&&(l[p]=!0,(f=l.every(Cc.y))&&(l=null))},Qr.Z));t.subscribe((0,Bn.x)(i,p=>{if(f){const v=[p,...s];i.next(e?e(...v):v)}}))})}(e),(0,dt.U)(([r,s])=>{const l=r.lastKeyToLoad,f=s.map(p=>p.key);return{actions:s,lastKeyToLoad:l,loadedKeys:f}}),function BK(n){return(0,li.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,Bn.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,dt.U)(r=>r.actions))}(n,c6(n,e).pipe(Mt((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(An.iC),valueChanges:(r,s)=>a6(n,r,t).pipe((0,dt.U)(f=>f.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),An.iC)}}(s,this)}object(t){return function $J(n,e){return{query:n,snapshotChanges:()=>d6(n,e.schedulers.outsideAngular)().pipe(An.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>d6(n,e.schedulers.outsideAngular)().pipe(An.iC,(0,dt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>i6(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(er.Dh),d.LFG(er.xv,8),d.LFG(GJ,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(An.HU),d.LFG(qJ,8),d.LFG(HI,8),d.LFG(XP,8),d.LFG(JP,8),d.LFG(eF,8),d.LFG(tF,8),d.LFG(nF,8),d.LFG(iF,8),d.LFG(jI,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZJ=(()=>{class n{constructor(){IM.Z.registerVersion("angularfire",An.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[WJ]}),n})();var u6=W(954);const $T={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=$T;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Kn.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=$T;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=$T;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var h6=W(631);new class YJ extends h6.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class KJ extends u6.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=$T.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&($T.cancelAnimationFrame(t),e._scheduled=void 0)}});let U2,XJ=1;const u1={};function f6(n){return n in u1&&(delete u1[n],!0)}const JJ={setImmediate(n){const e=XJ++;return u1[e]=!0,U2||(U2=Promise.resolve()),U2.then(()=>f6(e)&&n()),e},clearImmediate(n){f6(n)}},{setImmediate:eee,clearImmediate:tee}=JJ,h1={setImmediate(...n){const{delegate:e}=h1;return(e?.setImmediate||eee)(...n)},clearImmediate(n){const{delegate:e}=h1;return(e?.clearImmediate||tee)(n)},delegate:void 0};new class iee extends h6.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class nee extends u6.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=h1.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(h1.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});let m6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})(),see=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[qr,Ci,m6,m6,Ci]})}return n})(),g6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({})}return n})(),vee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n});static#n=this.\u0275inj=d.cJS({imports:[g6,Ci,MM,qr,g6,Ci]})}return n})(),yee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=d.oAB({type:n,bootstrap:[mW]});static#n=this.\u0275inj=d.cJS({providers:[gg,iR,$F],imports:[gc,Q8,x8,oZ,LF,UZ,er.hO.initializeApp(Fj_firebase),M$,E$,LK,ZJ,cR,Bq,nT,NM,cR,YI,NM,GF,see,vL,OM,vee]})}return n})();pc().bootstrapModule(yee).catch(n=>console.error(n))},619:($t,qe,W)=>{W.d(qe,{X:()=>re});var d=W(645);class re extends d.x{constructor(se){super(),this._value=se}get value(){return this.getValue()}_subscribe(se){const fe=super._subscribe(se);return!fe.closed&&se.next(this._value),fe}getValue(){const{hasError:se,thrownError:fe,_value:de}=this;if(se)throw fe;return this._throwIfClosed(),de}next(se){super.next(this._value=se)}}},592:($t,qe,W)=>{W.d(qe,{y:()=>He});var d=W(305),re=W(394),B=W(850),se=W(407),fe=W(653),de=W(674),Fe=W(441);let He=(()=>{class me{constructor(Oe){Oe&&(this._subscribe=Oe)}lift(Oe){const ut=new me;return ut.source=this,ut.operator=Oe,ut}subscribe(Oe,ut,Nt){const nt=function Z(me){return me&&me instanceof d.Lv||function Y(me){return me&&(0,de.m)(me.next)&&(0,de.m)(me.error)&&(0,de.m)(me.complete)}(me)&&(0,re.Nn)(me)}(Oe)?Oe:new d.Hp(Oe,ut,Nt);return(0,Fe.x)(()=>{const{operator:Ve,source:Tt}=this;nt.add(Ve?Ve.call(nt,Tt):Tt?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(Oe){try{return this._subscribe(Oe)}catch(ut){Oe.error(ut)}}forEach(Oe,ut){return new(ut=Ee(ut))((Nt,nt)=>{const Ve=new d.Hp({next:Tt=>{try{Oe(Tt)}catch(St){nt(St),Ve.unsubscribe()}},error:nt,complete:Nt});this.subscribe(Ve)})}_subscribe(Oe){var ut;return null===(ut=this.source)||void 0===ut?void 0:ut.subscribe(Oe)}[B.L](){return this}pipe(...Oe){return(0,se.U)(Oe)(this)}toPromise(Oe){return new(Oe=Ee(Oe))((ut,Nt)=>{let nt;this.subscribe(Ve=>nt=Ve,Ve=>Nt(Ve),()=>ut(nt))})}}return me.create=Xe=>new me(Xe),me})();function Ee(me){var Xe;return null!==(Xe=me??fe.config.Promise)&&void 0!==Xe?Xe:Promise}},645:($t,qe,W)=>{W.d(qe,{x:()=>Fe});var d=W(592),re=W(394);const se=(0,W(306).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=W(39),de=W(441);let Fe=(()=>{class Ee extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const me=new He(this,this);return me.operator=Z,me}_throwIfClosed(){if(this.closed)throw new se}next(Z){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(Z)}})}error(Z){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:me}=this;for(;me.length;)me.shift().error(Z)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:me,isStopped:Xe,observers:Oe}=this;return me||Xe?re.Lc:(this.currentObservers=null,Oe.push(Z),new re.w0(()=>{this.currentObservers=null,(0,fe.P)(Oe,Z)}))}_checkFinalizedStatuses(Z){const{hasError:me,thrownError:Xe,isStopped:Oe}=this;me?Z.error(Xe):Oe&&Z.complete()}asObservable(){const Z=new d.y;return Z.source=this,Z}}return Ee.create=(Y,Z)=>new He(Y,Z),Ee})();class He extends Fe{constructor(Y,Z){super(),this.destination=Y,this.source=Z}next(Y){var Z,me;null===(me=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===me||me.call(Z,Y)}error(Y){var Z,me;null===(me=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===me||me.call(Z,Y)}complete(){var Y,Z;null===(Z=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===Z||Z.call(Y)}_subscribe(Y){var Z,me;return null!==(me=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(Y))&&void 0!==me?me:re.Lc}}},305:($t,qe,W)=>{W.d(qe,{Hp:()=>Nt,Lv:()=>me});var d=W(674),re=W(394),B=W(653),se=W(894),fe=W(420);const de=Ee("C",void 0,void 0);function Ee(vt,Le,it){return{kind:vt,value:Le,error:it}}var Y=W(599),Z=W(441);class me extends re.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,re.Nn)(Le)&&Le.add(this)):this.destination=St}static create(Le,it,wt){return new Nt(Le,it,wt)}next(Le){this.isStopped?Tt(function He(vt){return Ee("N",vt,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?Tt(function Fe(vt){return Ee("E",void 0,vt)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?Tt(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xe=Function.prototype.bind;function Oe(vt,Le){return Xe.call(vt,Le)}class ut{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:it}=this;if(it.next)try{it.next(Le)}catch(wt){nt(wt)}}error(Le){const{partialObserver:it}=this;if(it.error)try{it.error(Le)}catch(wt){nt(wt)}else nt(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(it){nt(it)}}}class Nt extends me{constructor(Le,it,wt){let Ke;if(super(),(0,d.m)(Le)||!Le)Ke={next:Le??void 0,error:it??void 0,complete:wt??void 0};else{let be;this&&B.config.useDeprecatedNextContext?(be=Object.create(Le),be.unsubscribe=()=>this.unsubscribe(),Ke={next:Le.next&&Oe(Le.next,be),error:Le.error&&Oe(Le.error,be),complete:Le.complete&&Oe(Le.complete,be)}):Ke=Le}this.destination=new ut(Ke)}}function nt(vt){B.config.useDeprecatedSynchronousErrorHandling?(0,Z.O)(vt):(0,se.h)(vt)}function Tt(vt,Le){const{onStoppedNotification:it}=B.config;it&&Y.z.setTimeout(()=>it(vt,Le))}const St={closed:!0,next:fe.Z,error:function Ve(vt){throw vt},complete:fe.Z}},394:($t,qe,W)=>{W.d(qe,{Lc:()=>de,w0:()=>fe,Nn:()=>Fe});var d=W(674);const B=(0,W(306).d)(Ee=>function(Z){Ee(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((me,Xe)=>`${Xe+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var se=W(39);class fe{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Oe of Z)Oe.remove(this);else Z.remove(this);const{initialTeardown:me}=this;if((0,d.m)(me))try{me()}catch(Oe){Y=Oe instanceof B?Oe.errors:[Oe]}const{_finalizers:Xe}=this;if(Xe){this._finalizers=null;for(const Oe of Xe)try{He(Oe)}catch(ut){Y=Y??[],ut instanceof B?Y=[...Y,...ut.errors]:Y.push(ut)}}if(Y)throw new B(Y)}}add(Y){var Z;if(Y&&Y!==this)if(this.closed)He(Y);else{if(Y instanceof fe){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(Y)}}_hasParent(Y){const{_parentage:Z}=this;return Z===Y||Array.isArray(Z)&&Z.includes(Y)}_addParent(Y){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(Y),Z):Z?[Z,Y]:Y}_removeParent(Y){const{_parentage:Z}=this;Z===Y?this._parentage=null:Array.isArray(Z)&&(0,se.P)(Z,Y)}remove(Y){const{_finalizers:Z}=this;Z&&(0,se.P)(Z,Y),Y instanceof fe&&Y._removeParent(this)}}fe.EMPTY=(()=>{const Ee=new fe;return Ee.closed=!0,Ee})();const de=fe.EMPTY;function Fe(Ee){return Ee instanceof fe||Ee&&"closed"in Ee&&(0,d.m)(Ee.remove)&&(0,d.m)(Ee.add)&&(0,d.m)(Ee.unsubscribe)}function He(Ee){(0,d.m)(Ee)?Ee():Ee.unsubscribe()}},653:($t,qe,W)=>{W.d(qe,{config:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},251:($t,qe,W)=>{W.d(qe,{x:()=>re});var d=W(305);function re(se,fe,de,Fe,He){return new B(se,fe,de,Fe,He)}class B extends d.Lv{constructor(fe,de,Fe,He,Ee,Y){super(fe),this.onFinalize=Ee,this.shouldUnsubscribe=Y,this._next=de?function(Z){try{de(Z)}catch(me){fe.error(me)}}:super._next,this._error=He?function(Z){try{He(Z)}catch(me){fe.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=Fe?function(){try{Fe()}catch(Z){fe.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},398:($t,qe,W)=>{W.d(qe,{U:()=>B});var d=W(360),re=W(251);function B(se,fe){return(0,d.e)((de,Fe)=>{let He=0;de.subscribe((0,re.x)(Fe,Ee=>{Fe.next(se.call(fe,Ee,He++))}))})}},93:($t,qe,W)=>{W.d(qe,{Q:()=>se});var d=W(103),re=W(360),B=W(251);function se(fe,de=0){return(0,re.e)((Fe,He)=>{Fe.subscribe((0,B.x)(He,Ee=>(0,d.f)(He,fe,()=>He.next(Ee),de),()=>(0,d.f)(He,fe,()=>He.complete(),de),Ee=>(0,d.f)(He,fe,()=>He.error(Ee),de)))})}},137:($t,qe,W)=>{W.d(qe,{R:()=>re});var d=W(360);function re(B,se=0){return(0,d.e)((fe,de)=>{de.add(B.schedule(()=>fe.subscribe(de),se))})}},397:($t,qe,W)=>{W.d(qe,{b:()=>fe});var d=W(674),re=W(360),B=W(251),se=W(737);function fe(de,Fe,He){const Ee=(0,d.m)(de)||Fe||He?{next:de,error:Fe,complete:He}:de;return Ee?(0,re.e)((Y,Z)=>{var me;null===(me=Ee.subscribe)||void 0===me||me.call(Ee);let Xe=!0;Y.subscribe((0,B.x)(Z,Oe=>{var ut;null===(ut=Ee.next)||void 0===ut||ut.call(Ee,Oe),Z.next(Oe)},()=>{var Oe;Xe=!1,null===(Oe=Ee.complete)||void 0===Oe||Oe.call(Ee),Z.complete()},Oe=>{var ut;Xe=!1,null===(ut=Ee.error)||void 0===ut||ut.call(Ee,Oe),Z.error(Oe)},()=>{var Oe,ut;Xe&&(null===(Oe=Ee.unsubscribe)||void 0===Oe||Oe.call(Ee)),null===(ut=Ee.finalize)||void 0===ut||ut.call(Ee)}))}):se.y}},954:($t,qe,W)=>{W.d(qe,{o:()=>fe});var d=W(394);class re extends d.w0{constructor(Fe,He){super()}schedule(Fe,He=0){return this}}const B={setInterval(de,Fe,...He){const{delegate:Ee}=B;return Ee?.setInterval?Ee.setInterval(de,Fe,...He):setInterval(de,Fe,...He)},clearInterval(de){const{delegate:Fe}=B;return(Fe?.clearInterval||clearInterval)(de)},delegate:void 0};var se=W(39);class fe extends re{constructor(Fe,He){super(Fe,He),this.scheduler=Fe,this.work=He,this.pending=!1}schedule(Fe,He=0){var Ee;if(this.closed)return this;this.state=Fe;const Y=this.id,Z=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(Z,Y,He)),this.pending=!0,this.delay=He,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(Z,this.id,He),this}requestAsyncId(Fe,He,Ee=0){return B.setInterval(Fe.flush.bind(Fe,this),Ee)}recycleAsyncId(Fe,He,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return He;null!=He&&B.clearInterval(He)}execute(Fe,He){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Fe,He);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Fe,He){let Y,Ee=!1;try{this.work(Fe)}catch(Z){Ee=!0,Y=Z||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:Fe,scheduler:He}=this,{actions:Ee}=He;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(Ee,this),null!=Fe&&(this.id=this.recycleAsyncId(He,Fe,null)),this.delay=null,super.unsubscribe()}}}},631:($t,qe,W)=>{W.d(qe,{v:()=>B});var d=W(552);class re{constructor(fe,de=re.now){this.schedulerActionCtor=fe,this.now=de}schedule(fe,de=0,Fe){return new this.schedulerActionCtor(this,fe).schedule(Fe,de)}}re.now=d.l.now;class B extends re{constructor(fe,de=re.now){super(fe,de),this.actions=[],this._active=!1}flush(fe){const{actions:de}=this;if(this._active)return void de.push(fe);let Fe;this._active=!0;do{if(Fe=fe.execute(fe.state,fe.delay))break}while(fe=de.shift());if(this._active=!1,Fe){for(;fe=de.shift();)fe.unsubscribe();throw Fe}}}},321:($t,qe,W)=>{W.d(qe,{z:()=>B});var d=W(954);const B=new(W(631).v)(d.o)},552:($t,qe,W)=>{W.d(qe,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},599:($t,qe,W)=>{W.d(qe,{z:()=>d});const d={setTimeout(re,B,...se){const{delegate:fe}=d;return fe?.setTimeout?fe.setTimeout(re,B,...se):setTimeout(re,B,...se)},clearTimeout(re){const{delegate:B}=d;return(B?.clearTimeout||clearTimeout)(re)},delegate:void 0}},850:($t,qe,W)=>{W.d(qe,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},39:($t,qe,W)=>{function d(re,B){if(re){const se=re.indexOf(B);0<=se&&re.splice(se,1)}}W.d(qe,{P:()=>d})},306:($t,qe,W)=>{function d(re){const se=re(fe=>{Error.call(fe),fe.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}W.d(qe,{d:()=>d})},441:($t,qe,W)=>{W.d(qe,{O:()=>se,x:()=>B});var d=W(653);let re=null;function B(fe){if(d.config.useDeprecatedSynchronousErrorHandling){const de=!re;if(de&&(re={errorThrown:!1,error:null}),fe(),de){const{errorThrown:Fe,error:He}=re;if(re=null,Fe)throw He}}else fe()}function se(fe){d.config.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=fe)}},103:($t,qe,W)=>{function d(re,B,se,fe=0,de=!1){const Fe=B.schedule(function(){se(),de?re.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(re.add(Fe),!de)return Fe}W.d(qe,{f:()=>d})},737:($t,qe,W)=>{function d(re){return re}W.d(qe,{y:()=>d})},674:($t,qe,W)=>{function d(re){return"function"==typeof re}W.d(qe,{m:()=>d})},360:($t,qe,W)=>{W.d(qe,{A:()=>re,e:()=>B});var d=W(674);function re(se){return(0,d.m)(se?.lift)}function B(se){return fe=>{if(re(fe))return fe.lift(function(de){try{return se(de,this)}catch(Fe){this.error(Fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},420:($t,qe,W)=>{function d(){}W.d(qe,{Z:()=>d})},407:($t,qe,W)=>{W.d(qe,{U:()=>B,z:()=>re});var d=W(737);function re(...se){return B(se)}function B(se){return 0===se.length?d.y:1===se.length?se[0]:function(de){return se.reduce((Fe,He)=>He(Fe),de)}}},894:($t,qe,W)=>{W.d(qe,{h:()=>B});var d=W(653),re=W(599);function B(se){re.z.setTimeout(()=>{const{onUnhandledError:fe}=d.config;if(!fe)throw se;fe(se)})}},212:($t,qe,W)=>{W.d(qe,{QbO:()=>$m,tb:()=>CI,AFp:()=>Je,ip1:()=>EI,hGG:()=>AI,z2F:()=>qu,Ojb:()=>$h,sBO:()=>sS,Sil:()=>mI,EJc:()=>rl,Xts:()=>Ac,SBq:()=>dp,lqb:()=>Lo,qLn:()=>Fc,vpe:()=>Bc,XFs:()=>tn,OlP:()=>cn,zs3:()=>cs,ZZ4:()=>k_,aQg:()=>wb,soG:()=>uw,YKP:()=>U0,h0i:()=>xd,R0b:()=>tr,FiY:()=>ed,Lbi:()=>Xr,g9A:()=>oi,n_E:()=>og,Qsj:()=>I_,FYo:()=>RD,JOm:()=>Yy,q3G:()=>Bo,tp0:()=>Lh,Rgc:()=>tl,dDg:()=>il,eoX:()=>xI,q4F:()=>ZO,GfV:()=>Dk,s_b:()=>uv,ifc:()=>$s,T8G:()=>Y_,VuI:()=>_M,MMx:()=>GA,Lck:()=>RC,eFA:()=>Xv,Gpc:()=>Qo,f3M:()=>rn,X6Q:()=>cP,$WT:()=>Zs,MR2:()=>kc,_c5:()=>BV,qFp:()=>qo,r_H:()=>yo,rg0:()=>zx,c2e:()=>Sk,zSh:()=>Pm,wAp:()=>Df,I6F:()=>Zv,vHH:()=>ze,lri:()=>fi,rWj:()=>zr,JZr:()=>Zn,EiD:()=>Y1,mCW:()=>ub,qzn:()=>Vo,JVY:()=>X2,pB0:()=>vD,eBb:()=>eV,L6k:()=>J2,LAX:()=>_D,cg1:()=>tC,kuF:()=>Li,kL8:()=>cA,dqk:()=>Jt,Z0I:()=>ml,eJc:()=>g,QGY:()=>Jc,F4k:()=>fC,RDi:()=>ke,AaK:()=>kn,z3N:()=>Oc,qOj:()=>Cu,Xq5:()=>Br,TTD:()=>Ml,_Bn:()=>Bv,jDz:()=>io,xp6:()=>Ab,uIk:()=>vE,ekj:()=>EE,Suo:()=>XC,Xpm:()=>Ud,lG2:()=>zg,Yz7:()=>Dn,cJS:()=>fl,oAB:()=>Ai,Yjl:()=>Hd,Y36:()=>tf,_UZ:()=>f0,qZA:()=>vv,TgZ:()=>pn,EpF:()=>wv,n5z:()=>Fh,Ikx:()=>y0,LFG:()=>dr,$8M:()=>T,$Z:()=>GD,NdJ:()=>mC,CRH:()=>dk,kcU:()=>iu,O4$:()=>Hl,oxw:()=>_C,ALo:()=>ik,lcZ:()=>ok,xi3:()=>Z0,Hsn:()=>PA,F$t:()=>vC,Q6J:()=>Dp,s9C:()=>S0,iGM:()=>Y0,MAs:()=>BA,KtG:()=>Th,Jf7:()=>qm,CHM:()=>_c,LSH:()=>ID,P3R:()=>Q1,Udp:()=>md,YNc:()=>Op,W1O:()=>mk,_uU:()=>IC,Oqu:()=>TC,hij:()=>Pv,lnq:()=>ju,Gf:()=>lk});let re=null,se=1;function de(o){const a=re;return re=o,a}function Xe(o){if((!it(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==se)){if(!o.producerMustRecompute(o)&&!Tt(o))return o.dirty=!1,void(o.lastCleanEpoch=se);o.producerRecomputeValue(o),o.dirty=!1,o.lastCleanEpoch=se}}function Tt(o){wt(o);for(let a=0;a<o.producerNode.length;a++){const c=o.producerNode[a],u=o.producerLastReadVersion[a];if(u!==c.version||(Xe(c),u!==c.version))return!0}return!1}function Le(o,a){if(function Ke(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),wt(o),1===o.liveConsumerNode.length)for(let u=0;u<o.producerNode.length;u++)Le(o.producerNode[u],o.producerIndexOfThis[u]);const c=o.liveConsumerNode.length-1;if(o.liveConsumerNode[a]=o.liveConsumerNode[c],o.liveConsumerIndexOfThis[a]=o.liveConsumerIndexOfThis[c],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,a<o.liveConsumerNode.length){const u=o.liveConsumerIndexOfThis[a],h=o.liveConsumerNode[a];wt(h),h.producerIndexOfThis[u]=a}}function it(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function wt(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let Rn=null;var Fn=W(645),ei=W(394),Si=W(619),En=W(398);function Bt(o){for(let a in o)if(o[a]===Bt)return a;throw Error("Could not find renamed property on target object.")}function Fi(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function kn(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(kn).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function bi(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const vs=Bt({__forward_ref__:Bt});function Qo(o){return o.__forward_ref__=Qo,o.toString=function(){return kn(this())},o}function st(o){return At(o)?o():o}function At(o){return"function"==typeof o&&o.hasOwnProperty(vs)&&o.__forward_ref__===Qo}function Ft(o){return o&&!!o.\u0275providers}const Zn="https://g.co/ng/security#xss";class ze extends Error{constructor(a,c){super(Li(a,c)),this.code=a}}function Li(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}const Ln=Bt({\u0275cmp:Bt}),Gr=Bt({\u0275dir:Bt}),an=Bt({\u0275pipe:Bt}),br=Bt({\u0275mod:Bt}),Yt=Bt({\u0275fac:Bt}),ar=Bt({__NG_ELEMENT_ID__:Bt}),Ao=Bt({__NG_ENV_ID__:Bt});function Dt(o){return"string"==typeof o?o:null==o?"":String(o)}function Ye(o,a){throw new ze(-201,!1)}function jt(o,a){null==o&&function pt(o,a,c,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${c} ${u} ${a} <=Actual]`))}(a,o,null,"!=")}function Dn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function fl(o){return{providers:o.providers||[],imports:o.imports||[]}}function js(o){return pl(o,gl)||pl(o,Xa)}function ml(o){return null!==js(o)}function pl(o,a){return o.hasOwnProperty(a)?o[a]:null}function Rd(o){return o&&(o.hasOwnProperty(_l)||o.hasOwnProperty(im))?o[_l]:null}const gl=Bt({\u0275prov:Bt}),_l=Bt({\u0275inj:Bt}),Xa=Bt({ngInjectableDef:Bt}),im=Bt({ngInjectorDef:Bt});var tn=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(tn||{});let Nd;function so(){return Nd}function lr(o){const a=Nd;return Nd=o,a}function Hs(o,a,c){const u=js(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&tn.Optional?null:void 0!==a?a:void Ye()}const Jt=globalThis;class cn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Dn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ec={},Nn="__NG_DI_FLAG__",tc="ngTempTokenPath",dh=/\n/gm,Ca="__source";let Jo;function es(o){const a=Jo;return Jo=o,a}function bl(o,a=tn.Default){if(void 0===Jo)throw new ze(-203,!1);return null===Jo?Hs(o,void 0,a):Jo.get(o,a&tn.Optional?null:void 0,a)}function dr(o,a=tn.Default){return(so()||bl)(st(o),a)}function rn(o,a=tn.Default){return dr(o,nc(a))}function nc(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function cm(o){const a=[];for(let c=0;c<o.length;c++){const u=st(o[c]);if(Array.isArray(u)){if(0===u.length)throw new ze(900,!1);let h,m=tn.Default;for(let y=0;y<u.length;y++){const w=u[y],E=Ld(w);"number"==typeof E?-1===E?h=w.token:m|=E:h=w}a.push(dr(h,m))}else a.push(dr(u))}return a}function ic(o,a){return o[Nn]=a,o.prototype[Nn]=a,o}function Ld(o){return o[Nn]}function ys(o){return{toString:o}.toString()}var Ar=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Ar||{}),$s=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}($s||{});const lo={},wn=[];function rc(o,a,c){let u=o.length;for(;;){const h=o.indexOf(a,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=a.length;if(h+m===u||o.charCodeAt(h+m)<=32)return h}c=h+1}}function wl(o,a,c){let u=0;for(;u<c.length;){const h=c[u];if("number"==typeof h){if(0!==h)break;u++;const m=c[u++],y=c[u++],w=c[u++];o.setAttribute(a,y,w,m)}else{const m=h,y=c[++u];jg(m)?o.setProperty(a,m,y):o.setAttribute(a,m,y),u++}}return u}function uh(o){return 3===o||4===o||6===o}function jg(o){return 64===o.charCodeAt(0)}function qr(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let u=0;u<a.length;u++){const h=a[u];"number"==typeof h?c=h:0===c||Gs(o,c,h,null,-1===c||2===c?a[++u]:null)}}return o}function Gs(o,a,c,u,h){let m=0,y=o.length;if(-1===a)y=-1;else for(;m<o.length;){const w=o[m++];if("number"==typeof w){if(w===a){y=-1;break}if(w>a){y=m-1;break}}}for(;m<o.length;){const w=o[m];if("number"==typeof w)break;if(w===c){if(null===u)return void(null!==h&&(o[m+1]=h));if(u===o[m+1])return void(o[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==y&&(o.splice(y,0,a),m=y+1),o.splice(m++,0,c),null!==u&&o.splice(m++,0,u),null!==h&&o.splice(m++,0,h)}const kr="ng-template";function Hg(o,a,c){let u=0,h=!0;for(;u<o.length;){let m=o[u++];if("string"==typeof m&&h){const y=o[u++];if(c&&"class"===m&&-1!==rc(y.toLowerCase(),a,0))return!0}else{if(1===m){for(;u<o.length&&"string"==typeof(m=o[u++]);)if(m.toLowerCase()===a)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function dm(o){return 4===o.type&&o.value!==kr}function oc(o,a,c){return a===(4!==o.type||c?o.value:kr)}function hh(o,a,c){let u=4;const h=o.attrs||[],m=function um(o){for(let a=0;a<o.length;a++)if(uh(o[a]))return a;return o.length}(h);let y=!1;for(let w=0;w<a.length;w++){const E=a[w];if("number"!=typeof E){if(!y)if(4&u){if(u=2|1&u,""!==E&&!oc(o,E,c)||""===E&&1===a.length){if(uo(u))return!1;y=!0}}else{const S=8&u?E:a[++w];if(8&u&&null!==o.attrs){if(!Hg(o.attrs,S,c)){if(uo(u))return!1;y=!0}continue}const O=qs(8&u?"class":E,h,dm(o),c);if(-1===O){if(uo(u))return!1;y=!0;continue}if(""!==S){let z;z=O>m?"":h[O+1].toLowerCase();const K=8&u?z:null;if(K&&-1!==rc(K,S,0)||2&u&&S!==z){if(uo(u))return!1;y=!0}}}}else{if(!y&&!uo(u)&&!uo(E))return!1;if(y&&uo(E))continue;y=!1,u=E|1&u}}return uo(u)||y}function uo(o){return 0==(1&o)}function qs(o,a,c,u){if(null===a)return-1;let h=0;if(u||!c){let m=!1;for(;h<a.length;){const y=a[h];if(y===o)return h;if(3===y||6===y)m=!0;else{if(1===y||2===y){let w=a[++h];for(;"string"==typeof w;)w=a[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=m?1:2}return-1}return function Vd(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const u=o[c];if("number"==typeof u)return-1;if(u===a)return c;c++}return-1}(a,o)}function xl(o,a,c=!1){for(let u=0;u<a.length;u++)if(hh(o,a[u],c))return!0;return!1}function hm(o,a){e:for(let c=0;c<a.length;c++){const u=a[c];if(o.length===u.length){for(let h=0;h<o.length;h++)if(o[h]!==u[h])continue e;return!0}}return!1}function Bd(o,a){return o?":not("+a.trim()+")":a}function sc(o){let a=o[0],c=1,u=2,h="",m=!1;for(;c<o.length;){let y=o[c];if("string"==typeof y)if(2&u){const w=o[++c];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?h+="."+y:4&u&&(h+=" "+y);else""!==h&&!uo(y)&&(a+=Bd(m,h),h=""),u=y,m=m||!uo(u);c++}return""!==h&&(a+=Bd(m,h)),a}function Ud(o){return ys(()=>{const a=cc(o),c={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Ar.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||$s.Emulated,styles:o.styles||wn,_:null,schemas:o.schemas||null,tView:null,id:""};zd(c);const u=o.dependencies;return c.directiveDefs=Ks(u,!1),c.pipeDefs=Ks(u,!0),c.id=function fm(o){let a=0;const c=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of c)a=Math.imul(31,a)+h.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function ac(o){return Ht(o)||ki(o)}function jd(o){return null!==o}function Ai(o){return ys(()=>({type:o.type,bootstrap:o.bootstrap||wn,declarations:o.declarations||wn,imports:o.imports||wn,exports:o.exports||wn,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function El(o,a){if(null==o)return lo;const c={};for(const u in o)if(o.hasOwnProperty(u)){let h=o[u],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),c[h]=u,a&&(a[h]=m)}return c}function zg(o){return ys(()=>{const a=cc(o);return zd(a),a})}function Hd(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Ht(o){return o[Ln]||null}function ki(o){return o[Gr]||null}function Ki(o){return o[an]||null}function Zs(o){const a=Ht(o)||ki(o)||Ki(o);return null!==a&&a.standalone}function jn(o,a){const c=o[br]||null;if(!c&&!0===a)throw new Error(`Type ${kn(o)} does not have '\u0275mod' property.`);return c}function cc(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||lo,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||wn,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:El(o.inputs,a),outputs:El(o.outputs),debugInfo:null}}function zd(o){o.features?.forEach(a=>a(o))}function Ks(o,a){if(!o)return null;const c=a?Ki:ac;return()=>("function"==typeof o?o():o).map(u=>c(u)).filter(jd)}const Hn=0,Ue=1,Ct=2,ti=3,Mr=4,Yi=5,Wr=6,lc=7,kt=8,Rr=9,ko=10,Lt=11,Nr=12,Cl=13,bs=14,ni=15,Mo=16,Il=17,Zr=18,$d=19,Tl=20,Ys=21,ho=22,fo=23,It=25,gh=1,Kr=7,Dl=9,ai=10;var Ia=function(o){return o[o.None=0]="None",o[o.HasTransplantedViews=2]="HasTransplantedViews",o}(Ia||{});function wr(o){return Array.isArray(o)&&"object"==typeof o[gh]}function In(o){return Array.isArray(o)&&!0===o[gh]}function Gd(o){return 0!=(4&o.flags)}function Xs(o){return o.componentOffset>-1}function Sl(o){return 1==(1&o.flags)}function mo(o){return!!o.template}function Al(o){return 0!=(512&o[Ct])}function xs(o,a){return o.hasOwnProperty(Yt)?o[Yt]:null}class Zg{constructor(a,c,u){this.previousValue=a,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ml(){return Kd}function Kd(o){return o.type.prototype.ngOnChanges&&(o.setInput=Ta),gm}function gm(){const o=fc(this),a=o?.current;if(a){const c=o.previous;if(c===lo)o.previous=a;else for(let u in a)c[u]=a[u];o.current=null,this.ngOnChanges(a)}}function Ta(o,a,c,u){const h=this.declaredInputs[c],m=fc(o)||function _m(o,a){return o[Es]=a}(o,{previous:lo,current:null}),y=m.current||(m.current={}),w=m.previous,E=w[h];y[h]=new Zg(E&&E.currentValue,a,w===lo),o[u]=a}Ml.ngInherit=!0;const Es="__ngSimpleChanges__";function fc(o){return o[Es]||null}const Ro=function(o,a,c){},vm="svg";let Js=!1;function On(o){for(;Array.isArray(o);)o=o[Hn];return o}function Ol(o,a){return On(a[o])}function Vi(o,a){return On(a[o.index])}function Qd(o,a){return o.data[a]}function po(o,a){return o[a]}function go(o,a){const c=a[o];return wr(c)?c:c[Hn]}function ym(o){return 128==(128&o[Ct])}function _o(o,a){return null==a?null:o[a]}function wm(o){o[Il]=0}function ci(o){1024&o[Ct]||(o[Ct]|=1024,ym(o)&&ea(o))}function Xd(o){return 9216&o[Ct]||o[fo]?.dirty}function xh(o){Xd(o)?ea(o):64&o[Ct]&&(function mc(){return Js}()?(o[Ct]|=1024,ea(o)):o[ko].changeDetectionScheduler?.notify())}function ea(o){o[ko].changeDetectionScheduler?.notify();let a=Cs(o);for(;null!==a&&!(8192&a[Ct])&&(a[Ct]|=8192,ym(a));)a=Cs(a)}function pc(o,a){if(256==(256&o[Ct]))throw new ze(911,!1);null===o[Ys]&&(o[Ys]=[]),o[Ys].push(a)}function Cs(o){const a=o[ti];return In(a)?a[ti]:a}const ft={lFrame:Ul(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Fl(){return ft.bindingsEnabled}function ts(){return null!==ft.skipHydrationRootTNode}function we(){return ft.lFrame.lView}function fn(){return ft.lFrame.tView}function _c(o){return ft.lFrame.contextLView=o,o[kt]}function Th(o){return ft.lFrame.contextLView=null,o}function Vn(){let o=Jg();for(;null!==o&&64===o.type;)o=o.parent;return o}function Jg(){return ft.lFrame.currentTNode}function Is(o,a){const c=ft.lFrame;c.currentTNode=o,c.isParent=a}function Sa(){return ft.lFrame.isParent}function Dh(){ft.lFrame.isParent=!1}function ur(){const o=ft.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function No(){return ft.lFrame.bindingIndex++}function ta(o){const a=ft.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function Cm(o,a){const c=ft.lFrame;c.bindingIndex=c.bindingRootIndex=o,gi(a)}function gi(o){ft.lFrame.currentDirectiveIndex=o}function Oo(){return ft.lFrame.currentQueryIndex}function eu(o){ft.lFrame.currentQueryIndex=o}function yc(o){const a=o[Ue];return 2===a.type?a.declTNode:1===a.type?o[Yi]:null}function Bl(o,a,c){if(c&tn.SkipSelf){let h=a,m=o;for(;!(h=h.parent,null!==h||c&tn.Host||(h=yc(m),null===h||(m=m[bs],10&h.type))););if(null===h)return!1;a=h,o=m}const u=ft.lFrame=ka();return u.currentTNode=a,u.lView=o,!0}function Aa(o){const a=ka(),c=o[Ue];ft.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function ka(){const o=ft.lFrame,a=null===o?null:o.child;return null===a?Ul(o):a}function Ul(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function tu(){const o=ft.lFrame;return ft.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const jl=tu;function rs(){const o=tu();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Pn(){return ft.lFrame.selectedIndex}function ia(o){ft.lFrame.selectedIndex=o}function en(){const o=ft.lFrame;return Qd(o.tView,o.selectedIndex)}function Hl(){ft.lFrame.currentNamespace=vm}function iu(){!function os(){ft.lFrame.currentNamespace=null}()}let kh=!0;function ru(){return kh}function xr(o){kh=o}function bc(o,a){for(let c=a.directiveStart,u=a.directiveEnd;c<u;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:S,ngOnDestroy:R}=m;y&&(o.contentHooks??=[]).push(-c,y),w&&((o.contentHooks??=[]).push(c,w),(o.contentCheckHooks??=[]).push(c,w)),E&&(o.viewHooks??=[]).push(-c,E),S&&((o.viewHooks??=[]).push(c,S),(o.viewCheckHooks??=[]).push(c,S)),null!=R&&(o.destroyHooks??=[]).push(c,R)}}function wc(o,a,c){n_(o,a,3,c)}function xc(o,a,c,u){(3&o[Ct])===c&&n_(o,a,c,u)}function Po(o,a){let c=o[Ct];(3&c)===a&&(c&=16383,c+=1,o[Ct]=c)}function n_(o,a,c,u){const m=u??-1,y=a.length-1;let w=0;for(let E=void 0!==u?65535&o[Il]:0;E<y;E++)if("number"==typeof a[E+1]){if(w=a[E],null!=u&&w>=u)break}else a[E]<0&&(o[Il]+=65536),(w<m||-1==m)&&(Im(o,c,a,E),o[Il]=(4294901760&o[Il])+E+2),E++}function $l(o,a){Ro(4,o,a);const c=de(null);try{a.call(o)}finally{de(c),Ro(5,o,a)}}function Im(o,a,c,u){const h=c[u]<0,m=c[u+1],w=o[h?-c[u]:c[u]];h?o[Ct]>>14<o[Il]>>16&&(3&o[Ct])===a&&(o[Ct]+=16384,$l(w,m)):$l(w,m)}const Ma=-1;class ln{constructor(a,c,u){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function Rh(o){return o!==Ma}function Gl(o){return 32767&o}function ql(o,a){let c=function Nh(o){return o>>16}(o),u=a;for(;c>0;)u=u[bs],c--;return u}let Oh=!0;function Ec(o){const a=Oh;return Oh=o,a}const dt=255,Wl=5;let Ph=0;const Pr={};function Bn(o,a){const c=Zl(o,a);if(-1!==c)return c;const u=a[Ue];u.firstCreatePass&&(o.injectorIndex=a.length,Ts(u.data,o),Ts(a,null),Ts(u.blueprint,null));const h=ra(o,a),m=o.injectorIndex;if(Rh(h)){const y=Gl(h),w=ql(h,a),E=w[Ue].data;for(let S=0;S<8;S++)a[m+S]=w[y+S]|E[y+S]}return a[m+8]=h,m}function Ts(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Zl(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function ra(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,u=null,h=a;for(;null!==h;){if(u=I(h),null===u)return Ma;if(c++,h=h[bs],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return Ma}function Kl(o,a,c){!function Ic(o,a,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(ar)&&(u=c[ar]),null==u&&(u=c[ar]=Ph++);const h=u&dt;a.data[o+(h>>Wl)]|=1<<h}(o,a,c)}function li(o,a,c){if(c&tn.Optional||void 0!==o)return o;Ye()}function i_(o,a,c,u){if(c&tn.Optional&&void 0===u&&(u=null),!(c&(tn.Self|tn.Host))){const h=o[Rr],m=lr(void 0);try{return h?h.get(a,u,c&tn.Optional):Hs(a,u,c&tn.Optional)}finally{lr(m)}}return li(u,0,c)}function Qi(o,a,c,u=tn.Default,h){if(null!==o){if(2048&a[Ct]&&!(u&tn.Self)){const y=function di(o,a,c,u,h){let m=o,y=a;for(;null!==m&&null!==y&&2048&y[Ct]&&!(512&y[Ct]);){const w=Oa(m,y,c,u|tn.Self,Pr);if(w!==Pr)return w;let E=m.parent;if(!E){const S=y[Tl];if(S){const R=S.get(c,Pr,u);if(R!==Pr)return R}E=I(y),y=y[bs]}m=E}return h}(o,a,c,u,Pr);if(y!==Pr)return y}const m=Oa(o,a,c,u,Pr);if(m!==Pr)return m}return i_(a,c,u,h)}function Oa(o,a,c,u,h){const m=function Dm(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(ar)?o[ar]:void 0;return"number"==typeof a?a>=0?a&dt:au:a}(c);if("function"==typeof m){if(!Bl(a,o,u))return u&tn.Host?li(h,0,u):i_(a,c,u,h);try{let y;if(y=m(u),null!=y||u&tn.Optional)return y;Ye()}finally{jl()}}else if("number"==typeof m){let y=null,w=Zl(o,a),E=Ma,S=u&tn.Host?a[ni][Yi]:null;for((-1===w||u&tn.SkipSelf)&&(E=-1===w?ra(o,a):a[w+8],E!==Ma&&Er(u,!1)?(y=a[Ue],w=Gl(E),a=ql(E,a)):w=-1);-1!==w;){const R=a[Ue];if(Fr(m,w,R.data)){const O=oa(w,a,c,y,u,S);if(O!==Pr)return O}E=a[w+8],E!==Ma&&Er(u,a[Ue].data[w+8]===S)&&Fr(m,w,a)?(y=R,w=Gl(E),a=ql(E,a)):w=-1}}return h}function oa(o,a,c,u,h,m){const y=a[Ue],w=y.data[o+8],R=sa(w,y,c,null==u?Xs(w)&&Oh:u!=y&&0!=(3&w.type),h&tn.Host&&m===w);return null!==R?aa(a,y,R,w):Pr}function sa(o,a,c,u,h){const m=o.providerIndexes,y=a.data,w=1048575&m,E=o.directiveStart,R=m>>20,z=h?w+R:o.directiveEnd;for(let K=u?w:w+R;K<z;K++){const le=y[K];if(K<E&&c===le||K>=E&&le.type===c)return K}if(h){const K=y[E];if(K&&mo(K)&&K.type===c)return E}return null}function aa(o,a,c,u){let h=o[c];const m=a.data;if(function Ly(o){return o instanceof ln}(h)){const y=h;y.resolving&&function G(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new ze(-200,`Circular dependency in DI detected for ${o}${c}`)}(function Ot(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Dt(o)}(m[c]));const w=Ec(y.canSeeViewProviders);y.resolving=!0;const S=y.injectImpl?lr(y.injectImpl):null;Bl(o,u,tn.Default);try{h=o[c]=y.factory(void 0,m,o,u),a.firstCreatePass&&c>=u.directiveStart&&function ou(o,a,c){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=a.type.prototype;if(u){const y=Kd(a);(c.preOrderHooks??=[]).push(o,y),(c.preOrderCheckHooks??=[]).push(o,y)}h&&(c.preOrderHooks??=[]).push(0-o,h),m&&((c.preOrderHooks??=[]).push(o,m),(c.preOrderCheckHooks??=[]).push(o,m))}(c,m[c],a)}finally{null!==S&&lr(S),Ec(w),y.resolving=!1,jl()}}return h}function Fr(o,a,c){return!!(c[a+(o>>Wl)]&1<<o)}function Er(o,a){return!(o&tn.Self||o&tn.Host&&a)}class Kn{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,u){return Qi(this._tNode,this._lView,a,nc(u),c)}}function au(){return new Kn(Vn(),we())}function Fh(o){return ys(()=>{const a=o.prototype.constructor,c=a[Yt]||Mn(a),u=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==u;){const m=h[Yt]||Mn(h);if(m&&m!==c)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Mn(o){return At(o)?()=>{const a=Mn(st(o));return a&&a()}:xs(o)}function I(o){const a=o[Ue],c=a.type;return 2===c?a.declTNode:1===c?o[Yi]:null}function T(o){return function su(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const u=c.length;let h=0;for(;h<u;){const m=c[h];if(uh(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof c[h];)h++;else{if(m===a)return c[h+1];h+=2}}}return null}(Vn(),o)}const L="__parameters__";function je(o,a,c){return ys(()=>{const u=function ae(o){return function(...c){if(o){const u=o(...c);for(const h in u)this[h]=u[h]}}}(a);function h(...m){if(this instanceof h)return u.apply(this,m),this;const y=new h(...m);return w.annotation=y,w;function w(E,S,R){const O=E.hasOwnProperty(L)?E[L]:Object.defineProperty(E,L,{value:[]})[L];for(;O.length<=R;)O.push(null);return(O[R]=O[R]||[]).push(y),E}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}function Vr(o,a){o.forEach(c=>Array.isArray(c)?Vr(c,a):a(c))}function Ql(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function cu(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function vo(o,a,c){let u=Xl(o,a);return u>=0?o[1|u]=c:(u=~u,function s_(o,a,c,u){let h=o.length;if(h==a)o.push(c,u);else if(1===h)o.push(u,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=c,o[a+1]=u}}(o,u,a,c)),u}function Sm(o,a){const c=Xl(o,a);if(c>=0)return o[1|c]}function Xl(o,a){return function Ds(o,a,c){let u=0,h=o.length>>c;for(;h!==u;){const m=u+(h-u>>1),y=o[m<<c];if(a===y)return m<<c;y>a?h=m:u=m+1}return~(h<<c)}(o,a,1)}const ed=ic(je("Optional"),8),Lh=ic(je("SkipSelf"),4),Ac=new cn("ENVIRONMENT_INITIALIZER"),a_=new cn("INJECTOR",-1),c_=new cn("INJECTOR_DEF_TYPES");class la{get(a,c=ec){if(c===ec){const u=new Error(`NullInjectorError: No provider for ${kn(a)}!`);throw u.name="NullInjectorError",u}return c}}function kc(o){return{\u0275providers:o}}function jy(...o){return{\u0275providers:Nm(0,o),\u0275fromNgModule:!0}}function Nm(o,...a){const c=[],u=new Set;let h;const m=y=>{c.push(y)};return Vr(a,y=>{const w=y;Mc(w,m,[],u)&&(h||=[],h.push(w))}),void 0!==h&&Uh(h,m),c}function Uh(o,a){for(let c=0;c<o.length;c++){const{ngModule:u,providers:h}=o[c];Om(h,m=>{a(m,u)})}}function Mc(o,a,c,u){if(!(o=st(o)))return!1;let h=null,m=Rd(o);const y=!m&&Ht(o);if(m||y){if(y&&!y.standalone)return!1;h=o}else{const E=o.ngModule;if(m=Rd(E),!m)return!1;h=E}const w=u.has(h);if(y){if(w)return!1;if(u.add(h),y.dependencies){const E="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of E)Mc(S,a,c,u)}}else{if(!m)return!1;{if(null!=m.imports&&!w){let S;u.add(h);try{Vr(m.imports,R=>{Mc(R,a,c,u)&&(S||=[],S.push(R))})}finally{}void 0!==S&&Uh(S,a)}if(!w){const S=xs(h)||(()=>new h);a({provide:h,useFactory:S,deps:wn},h),a({provide:c_,useValue:h,multi:!0},h),a({provide:Ac,useValue:()=>dr(h),multi:!0},h)}const E=m.providers;if(null!=E&&!w){const S=o;Om(E,R=>{a(R,S)})}}}return h!==o&&void 0!==o.providers}function Om(o,a){for(let c of o)Ft(c)&&(c=c.\u0275providers),Array.isArray(c)?Om(c,a):a(c)}const l_=Bt({provide:String,useValue:Bt});function jh(o){return null!==o&&"object"==typeof o&&l_ in o}function od(o){return"function"==typeof o}const Pm=new cn("Set Injector scope."),Ui={},Hh={};let uu;function Fm(){return void 0===uu&&(uu=new la),uu}class Lo{}class La extends Lo{get destroyed(){return this._destroyed}constructor(a,c,u,h){super(),this.parent=c,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bm(a,y=>this.processProvider(y)),this.records.set(a_,as(void 0,this)),h.has("environment")&&this.records.set(Lo,as(void 0,this));const m=this.records.get(Pm);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(c_,wn,tn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=es(this),u=lr(void 0);try{return a()}finally{es(c),lr(u)}}get(a,c=ec,u=tn.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(Ao))return a[Ao](this);u=nc(u);const m=es(this),y=lr(void 0);try{if(!(u&tn.SkipSelf)){let E=this.records.get(a);if(void 0===E){const S=function zy(o){return"function"==typeof o||"object"==typeof o&&o instanceof cn}(a)&&js(a);E=S&&this.injectableDefInScope(S)?as(sd(a),Ui):null,this.records.set(a,E)}if(null!=E)return this.hydrate(a,E)}return(u&tn.Self?Fm():this.parent).get(a,c=u&tn.Optional&&c===ec?null:c)}catch(w){if("NullInjectorError"===w.name){if((w[tc]=w[tc]||[]).unshift(kn(a)),m)throw w;return function co(o,a,c,u){const h=o[tc];throw a[Ca]&&h.unshift(a[Ca]),o.message=function lm(o,a,c,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=kn(a);if(Array.isArray(a))h=a.map(kn).join(" -> ");else if("object"==typeof a){let m=[];for(let y in a)if(a.hasOwnProperty(y)){let w=a[y];m.push(y+":"+("string"==typeof w?JSON.stringify(w):kn(w)))}h=`{${m.join(", ")}}`}return`${c}${u?"("+u+")":""}[${h}]: ${o.replace(dh,"\n  ")}`}("\n"+o.message,h,c,u),o.ngTokenPath=h,o[tc]=null,o}(w,a,"R3InjectorError",this.source)}throw w}finally{lr(y),es(m)}}resolveInjectorInitializers(){const a=es(this),c=lr(void 0);try{const h=this.get(Ac,wn,tn.Self);for(const m of h)m()}finally{es(a),lr(c)}}toString(){const a=[],c=this.records;for(const u of c.keys())a.push(kn(u));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(a){let c=od(a=st(a))?a:st(a&&a.provide);const u=function Lm(o){return jh(o)?as(void 0,o.useValue):as(hr(o),Ui)}(a);if(!od(a)&&!0===a.multi){let h=this.records.get(c);h||(h=as(void 0,Ui,!0),h.factory=()=>cm(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,u)}hydrate(a,c){return c.value===Ui&&(c.value=Hh,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Vm(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=st(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function sd(o){const a=js(o),c=null!==a?a.factory:xs(o);if(null!==c)return c;if(o instanceof cn)throw new ze(204,!1);if(o instanceof Function)return function Ss(o){if(o.length>0)throw new ze(204,!1);const c=function ch(o){return o&&(o[gl]||o[Xa])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new ze(204,!1)}function hr(o,a,c){let u;if(od(o)){const h=st(o);return xs(h)||sd(h)}if(jh(o))u=()=>st(o.useValue);else if(function d_(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...cm(o.deps||[]));else if(function rd(o){return!(!o||!o.useExisting)}(o))u=()=>dr(st(o.useExisting));else{const h=st(o&&(o.useClass||o.provide));if(!function hu(o){return!!o.deps}(o))return xs(h)||sd(h);u=()=>new h(...cm(o.deps))}return u}function as(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function Bm(o,a){for(const c of o)Array.isArray(c)?Bm(c,a):c&&Ft(c)?Bm(c.\u0275providers,a):a(c)}function yo(o,a){o instanceof La&&o.assertNotDestroyed();const u=es(o),h=lr(void 0);try{return a()}finally{es(u),lr(h)}}function Hm(o,a=null,c=null,u){const h=_x(o,a,c,u);return h.resolveInjectorInitializers(),h}function _x(o,a=null,c=null,u,h=new Set){const m=[c||wn,jy(o)];return u=u||("object"==typeof o?void 0:kn(o)),new La(m,a||Fm(),u||null,h)}let te,cs=(()=>{class o{static#e=this.THROW_IF_NOT_FOUND=ec;static#t=this.NULL=new la;static create(c,u){if(Array.isArray(c))return Hm({name:""},u,c,"");{const h=c.name??"";return Hm({name:h},c.parent,c.providers,h)}}static#n=this.\u0275prov=Dn({token:o,providedIn:"any",factory:()=>dr(a_)});static#i=this.__NG_ELEMENT_ID__=-1}return o})();function g(o){return!!jn(o)}function ke(o){te=o}const Je=new cn("AppId",{providedIn:"root",factory:()=>rt}),rt="ng",oi=new cn("Platform Initializer"),Xr=new cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$m=new cn("AnimationModuleType"),$h=new cn("CSP nonce",{providedIn:"root",factory:()=>function Re(){if(void 0!==te)return te;if(typeof document<"u")return document;throw new ze(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function qm(o){return o.ownerDocument.defaultView}function fr(o){return o instanceof Function?o():o}function Zy(o){return 128==(128&o.flags)}var Yy=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(Yy||{});const wx=new Map;let JT=0;const Ex="__ngContext__";function bo(o,a){wr(a)?(o[Ex]=a[$d],function Jm(o){wx.set(o[$d],o)}(a)):o[Ex]=a}let Dx;function __(o,a){return Dx(o,a)}function Kh(o,a,c,u,h){if(null!=u){let m,y=!1;In(u)?m=u:wr(u)&&(y=!0,u=u[Hn]);const w=On(u);0===o&&null!==c?null==h?kx(a,c,w):Yh(a,c,w,h||null,!0):1===o&&null!==c?Yh(a,c,w,h||null,!0):2===o?function b_(o,a,c){const u=tp(o,a);u&&function O1(o,a,c,u){o.removeChild(a,c,u)}(o,u,a,c)}(a,w,y):3===o&&a.destroyNode(w),null!=m&&function P1(o,a,c,u,h){const m=c[Kr];m!==On(c)&&Kh(a,o,u,m,h);for(let w=ai;w<c.length;w++){const E=c[w];sb(E[Ue],E,o,a,u,m)}}(a,o,m,c,h)}}function eb(o,a,c){return o.createElement(a,c)}function oD(o,a){a[ko].changeDetectionScheduler?.notify(),sb(o,a,a[Lt],2,null,null)}function sD(o,a){const c=o[Dl],u=c.indexOf(a);c.splice(u,1)}function v_(o,a){if(o.length<=ai)return;const c=ai+a,u=o[c];if(u){const h=u[Mo];null!==h&&h!==o&&sD(h,u),a>0&&(o[c-1][Mr]=u[Mr]);const m=cu(o,ai+a);!function tb(o,a){oD(o,a),a[Hn]=null,a[Yi]=null}(u[Ue],u);const y=m[Zr];null!==y&&y.detachView(m[Ue]),u[ti]=null,u[Mr]=null,u[Ct]&=-129}return u}function nb(o,a){if(!(256&a[Ct])){const c=a[Lt];c.destroyNode&&sb(o,a,c,3,null,null),function k1(o){let a=o[Nr];if(!a)return ib(o[Ue],o);for(;a;){let c=null;if(wr(a))c=a[Nr];else{const u=a[ai];u&&(c=u)}if(!c){for(;a&&!a[Mr]&&a!==o;)wr(a)&&ib(a[Ue],a),a=a[ti];null===a&&(a=o),wr(a)&&ib(a[Ue],a),c=a&&a[Mr]}a=c}}(a)}}function ib(o,a){if(!(256&a[Ct])){a[Ct]&=-129,a[Ct]|=256,a[fo]&&function St(o){if(wt(o),it(o))for(let a=0;a<o.producerNode.length;a++)Le(o.producerNode[a],o.producerIndexOfThis[a]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}(a[fo]),function N1(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let u=0;u<c.length;u+=2){const h=a[c[u]];if(!(h instanceof ln)){const m=c[u+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const w=h[m[y]],E=m[y+1];Ro(4,w,E);try{E.call(w)}finally{Ro(5,w,E)}}else{Ro(4,h,m);try{m.call(h)}finally{Ro(5,h,m)}}}}}(o,a),function Z2(o,a){const c=o.cleanup,u=a[lc];if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const y=c[m+3];y>=0?u[y]():u[-y].unsubscribe(),m+=2}else c[m].call(u[c[m+1]]);null!==u&&(a[lc]=null);const h=a[Ys];if(null!==h){a[Ys]=null;for(let m=0;m<h.length;m++)(0,h[m])()}}(o,a),1===a[Ue].type&&a[Lt].destroy();const c=a[Mo];if(null!==c&&In(a[ti])){c!==a[ti]&&sD(c,a);const u=a[Zr];null!==u&&u.detachView(o)}!function E1(o){wx.delete(o[$d])}(a)}}function Ax(o,a,c){return function aD(o,a,c){let u=a;for(;null!==u&&40&u.type;)u=(a=u).parent;if(null===u)return c[Hn];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:m}=o.data[u.directiveStart+h];if(m===$s.None||m===$s.Emulated)return null}return Vi(u,c)}}(o,a.parent,c)}function Yh(o,a,c,u,h){o.insertBefore(a,c,u,h)}function kx(o,a,c){o.appendChild(a,c)}function cD(o,a,c,u,h){null!==u?Yh(o,a,c,u,h):kx(o,a,c)}function tp(o,a){return o.parentNode(a)}function dD(o,a,c){return Xh(o,a,c)}let y_,mu,lb,Xh=function Qh(o,a,c){return 40&o.type?Vi(o,c):null};function rb(o,a,c,u){const h=Ax(o,u,a),m=a[Lt],w=dD(u.parent||a[Yi],u,a);if(null!=h)if(Array.isArray(c))for(let E=0;E<c.length;E++)cD(m,h,c[E],w,!1);else cD(m,h,c,w,!1);void 0!==y_&&y_(m,u,a,c,h)}function np(o,a){if(null!==a){const c=a.type;if(3&c)return Vi(a,o);if(4&c)return Mx(-1,o[a.index]);if(8&c){const u=a.child;if(null!==u)return np(o,u);{const h=o[a.index];return In(h)?Mx(-1,h):On(h)}}if(32&c)return __(a,o)()||On(o[a.index]);{const u=ob(o,a);return null!==u?Array.isArray(u)?u[0]:np(Cs(o[ni]),u):np(o,a.next)}}return null}function ob(o,a){return null!==a?o[ni][Yi].projection[a.projection]:null}function Mx(o,a){const c=ai+o+1;if(c<a.length){const u=a[c],h=u[Ue].firstChild;if(null!==h)return np(u,h)}return a[Kr]}function Nx(o,a,c,u,h,m,y){for(;null!=c;){const w=u[c.index],E=c.type;if(y&&0===a&&(w&&bo(On(w),u),c.flags|=2),32!=(32&c.flags))if(8&E)Nx(o,a,c.child,u,h,m,!1),Kh(a,o,h,w,m);else if(32&E){const S=__(c,u);let R;for(;R=S();)Kh(a,o,h,R,m);Kh(a,o,h,w,m)}else 16&E?hD(o,a,u,c,h,m):Kh(a,o,h,w,m);c=y?c.projectionNext:c.next}}function sb(o,a,c,u,h,m){Nx(c,u,o.firstChild,a,h,m,!1)}function hD(o,a,c,u,h,m){const y=c[ni],E=y[Yi].projection[u.projection];if(Array.isArray(E))for(let S=0;S<E.length;S++)Kh(a,o,h,E[S],m);else{let S=E;const R=y[ti];Zy(u)&&(S.flags|=128),Nx(o,a,S,R,h,m,!0)}}function Ox(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function fD(o,a,c){const{mergedAttrs:u,classes:h,styles:m}=c;null!==u&&wl(o,a,u),null!==h&&Ox(o,a,h),null!==m&&function L1(o,a,c){o.setAttribute(a,"style",c)}(o,a,m)}function ip(o){return function cb(){if(void 0===mu&&(mu=null,Jt.trustedTypes))try{mu=Jt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return mu}()?.createHTML(o)||o}function Px(o){return function cd(){if(void 0===lb&&(lb=null,Jt.trustedTypes))try{lb=Jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return lb}()?.createScriptURL(o)||o}class rp{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Zn})`}}class Y2 extends rp{getTypeName(){return"HTML"}}class j1 extends rp{getTypeName(){return"Style"}}class Fx extends rp{getTypeName(){return"Script"}}class gD extends rp{getTypeName(){return"URL"}}class Q2 extends rp{getTypeName(){return"ResourceURL"}}function Oc(o){return o instanceof rp?o.changingThisBreaksApplicationSecurity:o}function Vo(o,a){const c=function H1(o){return o instanceof rp&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${Zn})`)}return c===a}function X2(o){return new Y2(o)}function J2(o){return new j1(o)}function eV(o){return new Fx(o)}function _D(o){return new gD(o)}function vD(o){return new Q2(o)}class z1{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(ip(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class $1{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=ip(a),c}}const yD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ub(o){return(o=String(o)).match(yD)?o:"unsafe:"+o}function pu(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function hb(...o){const a={};for(const c of o)for(const u in c)c.hasOwnProperty(u)&&(a[u]=!0);return a}const G1=pu("area,br,col,hr,img,wbr"),bD=pu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),wD=pu("rp,rt"),fb=hb(G1,hb(bD,pu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hb(wD,pu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hb(wD,bD)),Lx=pu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xD=hb(Lx,pu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),W1=pu("script,style,template");class ED{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,u=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!fb.hasOwnProperty(c))return this.sanitizedSomething=!0,!W1.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=a.attributes;for(let h=0;h<u.length;h++){const m=u.item(h),y=m.name,w=y.toLowerCase();if(!xD.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=m.value;Lx[w]&&(E=ub(E)),this.buf.push(" ",y,'="',K1(E),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();fb.hasOwnProperty(c)&&!G1.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(K1(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Z1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oV=/([^\#-~ |!])/g;function K1(o){return o.replace(/&/g,"&amp;").replace(Z1,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(oV,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vx;function Y1(o,a){let c=null;try{Vx=Vx||function db(o){const a=new $1(o);return function tV(){try{return!!(new window.DOMParser).parseFromString(ip(""),"text/html")}catch{return!1}}()?new z1(a):a}(o);let u=a?String(a):"";c=Vx.getInertBodyElement(u);let h=5,m=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=m,m=c.innerHTML,c=Vx.getInertBodyElement(u)}while(u!==m);return ip((new ED).sanitizeChildren(CD(c)||c))}finally{if(c){const u=CD(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function CD(o){return"content"in o&&function sV(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Bo=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(Bo||{});function ID(o){const a=mb();return a?a.sanitize(Bo.URL,o)||"":Vo(o,"URL")?Oc(o):ub(Dt(o))}function TD(o){const a=mb();if(a)return Px(a.sanitize(Bo.RESOURCE_URL,o)||"");if(Vo(o,"ResourceURL"))return Px(Oc(o));throw new ze(904,!1)}function Q1(o,a,c){return function Ji(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?TD:ID}(a,c)(o)}function mb(){const o=we();return o&&o[ko].sanitizer}class X1{}let ve=()=>null;function ds(o,a,c=!1){return ve(o,a,c)}class eN{}class kD{}class vu{resolveComponentFactory(a){throw function xo(o){const a=Error(`No component factory found for ${kn(o)}.`);return a.ngComponent=o,a}(a)}}let _b=(()=>{class o{static#e=this.NULL=new vu}return o})();function MD(){return yu(Vn(),we())}function yu(o,a){return new dp(Vi(o,a))}let dp=(()=>{class o{constructor(c){this.nativeElement=c}static#e=this.__NG_ELEMENT_ID__=MD}return o})();function Eo(o){return o instanceof dp?o.nativeElement:o}class RD{}let I_=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function vb(){const o=we(),c=go(Vn().index,o);return(wr(c)?c:o)[Lt]}()}return o})(),Pc=(()=>{class o{static#e=this.\u0275prov=Dn({token:o,providedIn:"root",factory:()=>null})}return o})();const T_={};function zx(o){const a=de(null);try{return o()}finally{de(a)}}function yb(o){return!!S_(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function S_(o){return null!==o&&("function"==typeof o||"object"==typeof o)}class bb{constructor(){}supports(a){return yb(a)}create(a){return new qx(a)}}const Gx=(o,a)=>a;class qx{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Gx}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,u=this._removalsHead,h=0,m=null;for(;c||u;){const y=!u||c&&c.currentIndex<FD(u,h,m)?c:u,w=FD(y,h,m),E=y.currentIndex;if(y===u)h--,u=u._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{m||(m=[]);const S=w-h,R=E-h;if(S!=R){for(let z=0;z<S;z++){const K=z<m.length?m[z]:m[z]=0,le=K+z;R<=le&&le<S&&(m[z]=K+1)}m[y.previousIndex]=R-S}}w!==E&&a(y,w,E)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!yb(a))throw new ze(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,m,y,c=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)m=a[w],y=this._trackByFn(w,m),null!==c&&Object.is(c.trackById,y)?(u&&(c=this._verifyReinsertion(c,m,y,w)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,y,w),u=!0),c=c._next}else h=0,function $x(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Symbol.iterator]();let u;for(;!(u=c.next()).done;)a(u.value)}}(a,w=>{y=this._trackByFn(h,w),null!==c&&Object.is(c.trackById,y)?(u&&(c=this._verifyReinsertion(c,w,y,h)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,h),u=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,u,h){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,m,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,m,h)):a=this._addAfter(new PD(c,u),m,h),a}_verifyReinsertion(a,c,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?a=this._reinsertAfter(m,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,m=a._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(a,c,u),this._addToMoves(a,u),a}_moveAfter(a,c,u){return this._unlink(a),this._insertAfter(a,c,u),this._addToMoves(a,u),a}_addAfter(a,c,u){return this._insertAfter(a,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,u){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new up),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,u=a._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new up),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class PD{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nN{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const c=a._prevDup,u=a._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class up{constructor(){this.map=new Map}put(a){const c=a.trackById;let u=this.map.get(c);u||(u=new nN,this.map.set(c,u)),u.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FD(o,a,c){const u=o.previousIndex;if(null===u)return u;let h=0;return c&&u<c.length&&(h=c[u]),u+a+h}class hp{constructor(){}supports(a){return a instanceof Map||S_(a)}create(){return new iN}}class iN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||S_(a)))throw new ze(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(h,u);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const u=a._prev;return c._next=a,c._prev=u,a._prev=c,u&&(u._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const m=h._prev,y=h._next;return m&&(m._next=y),y&&(y._prev=m),h._next=null,h._prev=null,h}const u=new rN(a);return this._records.set(a,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(u=>c(a[u],u))}}class rN{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function A_(){return new k_([new bb])}let k_=(()=>{class o{static#e=this.\u0275prov=Dn({token:o,providedIn:"root",factory:A_});constructor(c){this.factories=c}static create(c,u){if(null!=u){const h=u.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||A_()),deps:[[o,new Lh,new ed]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(null!=u)return u;throw new ze(901,!1)}}return o})();function Wx(){return new wb([new hp])}let wb=(()=>{class o{static#e=this.\u0275prov=Dn({token:o,providedIn:"root",factory:Wx});constructor(c){this.factories=c}static create(c,u){if(u){const h=u.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||Wx()),deps:[[o,new Lh,new ed]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(u)return u;throw new ze(901,!1)}}return o})();function bu(o,a,c,u,h=!1){for(;null!==c;){const m=a[c.index];null!==m&&u.push(On(m)),In(m)&&xb(m,u);const y=c.type;if(8&y)bu(o,a,c.child,u);else if(32&y){const w=__(c,a);let E;for(;E=w();)u.push(E)}else if(16&y){const w=ob(a,c);if(Array.isArray(w))u.push(...w);else{const E=Cs(a[ni]);bu(E[Ue],E,w,u,!0)}}c=h?c.projectionNext:c.next}return u}function xb(o,a){for(let c=ai;c<o.length;c++){const u=o[c],h=u[Ue].firstChild;null!==h&&bu(u[Ue],u,h,a)}o[Kr]!==o[Hn]&&a.push(o[Kr])}let Eb=[];const BD={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{ea(o.lView)},consumerOnSignalRead(){this.lView[fo]=this}};function Yx(o){return Qx(o[Nr])}function Cb(o){return Qx(o[Mr])}function Qx(o){for(;null!==o&&!In(o);)o=o[Mr];return o}function M_(o){return o.ngOriginalError}class Fc{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&M_(a);for(;c&&M_(c);)c=M_(c);return c||null}}const Cr=new cn("",{providedIn:"root",factory:()=>rn(Fc).handleError.bind(void 0)}),Ib=new cn("",{providedIn:"root",factory:()=>!1}),qt={};function Ab(o=1){kb(fn(),we(),Pn()+o,!1)}function kb(o,a,c,u){if(!u)if(3==(3&a[Ct])){const m=o.preOrderCheckHooks;null!==m&&wc(a,m,c)}else{const m=o.preOrderHooks;null!==m&&xc(a,m,0,c)}ia(c)}function tf(o,a=tn.Default){const c=we();return null===c?dr(o,a):Qi(Vn(),c,st(o),a)}function GD(){throw new Error("invalid")}function O_(o,a,c,u,h,m,y,w,E,S,R){const O=a.blueprint.slice();return O[Hn]=h,O[Ct]=204|u,(null!==S||o&&2048&o[Ct])&&(O[Ct]|=2048),wm(O),O[ti]=O[bs]=o,O[kt]=c,O[ko]=y||o&&o[ko],O[Lt]=w||o&&o[Lt],O[Rr]=E||o&&o[Rr]||null,O[Yi]=m,O[$d]=function Qy(){return JT++}(),O[Wr]=R,O[Tl]=S,O[ni]=2==a.type?o[ni]:O,O}function nf(o,a,c,u,h){let m=o.data[a];if(null===m)m=function Mb(o,a,c,u,h){const m=Jg(),y=Sa(),E=o.data[a]=function P_(o,a,c,u,h,m){let y=a?a.injectorIndex:-1,w=0;return ts()&&(w|=128),{type:c,index:u,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,c,a,u,h);return null===o.firstChild&&(o.firstChild=E),null!==m&&(y?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E,E.prev=m)),E}(o,a,c,u,h),function Sh(){return ft.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=u,m.attrs=h;const y=function vc(){const o=ft.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return Is(m,!0),m}function wu(o,a,c,u){if(0===c)return-1;const h=a.length;for(let m=0;m<c;m++)a.push(u),o.blueprint.push(u),o.data.push(null);return h}function qD(o,a,c,u,h){const m=Pn(),y=2&u;try{ia(-1),y&&a.length>It&&kb(o,a,It,!1),Ro(y?2:0,h),c(u,h)}finally{ia(m),Ro(y?3:1,h)}}function Jx(o,a,c){if(Gd(a)){const u=de(null);try{const m=a.directiveEnd;for(let y=a.directiveStart;y<m;y++){const w=o.data[y];w.contentQueries&&w.contentQueries(1,c[y],y)}}finally{de(u)}}}function xu(o,a,c){Fl()&&(function dN(o,a,c,u){const h=c.directiveStart,m=c.directiveEnd;Xs(c)&&function iS(o,a,c){const u=Vi(a,o),h=WD(c);let y=16;c.signals?y=4096:c.onPush&&(y=64);const w=H_(o,O_(o,h,null,y,u,a,null,o[ko].rendererFactory.createRenderer(u,c),null,null,null));o[a.index]=w}(a,c,o.data[h+c.componentOffset]),o.firstCreatePass||Bn(c,a),bo(u,a);const y=c.initialInputs;for(let w=h;w<m;w++){const E=o.data[w],S=aa(a,o,w,c);bo(S,a),null!==y&&sf(0,w-h,S,E,0,y),mo(E)&&(go(c.index,a)[kt]=aa(a,o,w,c))}}(o,a,c,Vi(c,a)),64==(64&c.flags)&&Nb(o,a,c))}function eE(o,a,c=Vi){const u=a.localNames;if(null!==u){let h=a.index+1;for(let m=0;m<u.length;m+=2){const y=u[m+1],w=-1===y?c(a,o):o[y];o[h++]=w}}}function WD(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=ld(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function ld(o,a,c,u,h,m,y,w,E,S,R){const O=It+u,z=O+h,K=function ZD(o,a){const c=[];for(let u=0;u<a;u++)c.push(u<o?null:qt);return c}(O,z),le="function"==typeof S?S():S;return K[Ue]={type:o,blueprint:K,template:c,queries:null,viewQuery:w,declTNode:a,data:K.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:le,incompleteFirstPass:!1,ssrId:R}}let fp=()=>null;function F_(o,a,c,u){for(let h in o)if(o.hasOwnProperty(h)){c=null===c?{}:c;const m=o[h];null===u?tE(c,a,h,m):u.hasOwnProperty(h)&&tE(c,a,u[h],m)}return c}function tE(o,a,c,u){o.hasOwnProperty(c)?o[c].push(a,u):o[c]=[a,u]}function us(o,a,c,u,h,m,y,w){const E=Vi(a,c);let R,S=a.inputs;!w&&null!=S&&(R=S[u])?(si(o,c,R,u,h),Xs(a)&&function L_(o,a){const c=go(a,o);16&c[Ct]||(c[Ct]|=64)}(c,a.index)):3&a.type&&(u=function XD(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),h=null!=y?y(h,a.value||"",u):h,m.setProperty(E,u,h))}function V_(o,a,c,u){if(Fl()){const h=null===u?null:{"":-1},m=function rE(o,a){const c=o.directiveRegistry;let u=null,h=null;if(c)for(let m=0;m<c.length;m++){const y=c[m];if(xl(a,y.selectors,!1))if(u||(u=[]),mo(y))if(null!==y.findHostDirectiveDefs){const w=[];h=h||new Map,y.findHostDirectiveDefs(y,w,h),u.unshift(...w,y),Pb(o,a,w.length)}else u.unshift(y),Pb(o,a,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,u,h),u.push(y)}return null===u?null:[u,h]}(o,c);let y,w;null===m?y=w=null:[y,w]=m,null!==y&&B_(o,a,c,y,h,w),h&&function tS(o,a,c){if(a){const u=o.localNames=[];for(let h=0;h<a.length;h+=2){const m=c[a[h+1]];if(null==m)throw new ze(-301,!1);u.push(a[h],m)}}}(c,u,h)}c.mergedAttrs=qr(c.mergedAttrs,c.attrs)}function B_(o,a,c,u,h,m){for(let S=0;S<u.length;S++)Kl(Bn(c,a),o,u[S].type);!function uN(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}(c,o.data.length,u.length);for(let S=0;S<u.length;S++){const R=u[S];R.providersResolver&&R.providersResolver(R)}let y=!1,w=!1,E=wu(o,a,u.length,null);for(let S=0;S<u.length;S++){const R=u[S];c.mergedAttrs=qr(c.mergedAttrs,R.hostAttrs),j_(o,c,a,E,R),nS(E,R,h),null!==R.contentQueries&&(c.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(c.flags|=64);const O=R.type.prototype;!y&&(O.ngOnChanges||O.ngOnInit||O.ngDoCheck)&&((o.preOrderHooks??=[]).push(c.index),y=!0),!w&&(O.ngOnChanges||O.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(c.index),w=!0),E++}!function nE(o,a,c){const h=a.directiveEnd,m=o.data,y=a.attrs,w=[];let E=null,S=null;for(let R=a.directiveStart;R<h;R++){const O=m[R],z=c?c.get(O):null,le=z?z.outputs:null;E=F_(O.inputs,R,E,z?z.inputs:null),S=F_(O.outputs,R,S,le);const Ae=null===E||null===y||dm(a)?null:hN(E,R,y);w.push(Ae)}null!==E&&(E.hasOwnProperty("class")&&(a.flags|=8),E.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=w,a.inputs=E,a.outputs=S}(o,c,m)}function Nb(o,a,c){const u=c.directiveStart,h=c.directiveEnd,m=c.index,y=function zn(){return ft.lFrame.currentDirectiveIndex}();try{ia(m);for(let w=u;w<h;w++){const E=o.data[w],S=a[w];gi(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Ob(E,S)}}finally{ia(-1),gi(y)}}function Ob(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Pb(o,a,c){a.componentOffset=c,(o.components??=[]).push(a.index)}function nS(o,a,c){if(c){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)c[a.exportAs[u]]=o;mo(a)&&(c[""]=o)}}function j_(o,a,c,u,h){o.data[u]=h;const m=h.factory||(h.factory=xs(h.type)),y=new ln(m,mo(h),tf);o.blueprint[u]=y,c[u]=y,function U_(o,a,c,u,h){const m=h.hostBindings;if(m){let y=o.hostBindingOpCodes;null===y&&(y=o.hostBindingOpCodes=[]);const w=~a.index;(function eS(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(y)!=w&&y.push(w),y.push(c,u,m)}}(o,a,u,wu(o,c,h.hostVars,qt),h)}function As(o,a,c,u,h,m){const y=Vi(o,a);!function rf(o,a,c,u,h,m,y){if(null==m)o.removeAttribute(a,h,c);else{const w=null==y?Dt(m):y(m,u||"",h);o.setAttribute(a,h,w,c)}}(a[Lt],y,m,o.value,c,u,h)}function sf(o,a,c,u,h,m){const y=m[a];if(null!==y)for(let w=0;w<y.length;)Fb(u,c,y[w++],y[w++],y[w++])}function Fb(o,a,c,u,h){const m=de(null);try{const y=o.inputTransforms;null!==y&&y.hasOwnProperty(u)&&(h=y[u].call(a,h)),null!==o.setInput?o.setInput(a,h,c,u):a[u]=h}finally{de(m)}}function hN(o,a,c){let u=null,h=0;for(;h<c.length;){const m=c[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===u&&(u=[]);const y=o[m];for(let w=0;w<y.length;w+=2)if(y[w]===a){u.push(m,y[w+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function rS(o,a,c,u){return[o,!0,0,a,null,u,null,c,null,null]}function oE(o,a){const c=o.contentQueries;if(null!==c){const u=de(null);try{for(let h=0;h<c.length;h+=2){const y=c[h+1];if(-1!==y){const w=o.data[y];eu(c[h]),w.contentQueries(2,a[y],y)}}}finally{de(u)}}}function H_(o,a){return o[Nr]?o[Cl][Mr]=a:o[Nr]=a,o[Cl]=a,a}function sE(o,a,c){eu(0);const u=de(null);try{a(o,c)}finally{de(u)}}function Lc(o){return o[lc]||(o[lc]=[])}function z_(o){return o.cleanup||(o.cleanup=[])}function G_(o,a){const c=o[Rr],u=c?c.get(Fc,null):null;u&&u.handleError(a)}function si(o,a,c,u,h){for(let m=0;m<c.length;){const y=c[m++],w=c[m++];Fb(o.data[y],a[y],u,w,h)}}function fa(o,a,c){const u=Ol(a,o);!function rD(o,a,c){o.setValue(a,c)}(o[Lt],u,c)}function pN(o,a,c,u){const h=a[Ct];if(256==(256&h))return;a[ko].inlineEffectRunner?.flush(),Aa(a);let y=null,w=null;(function gN(o){return 2!==o.type})(o)&&(w=function Zx(o){return o[fo]??function Kx(o){const a=Eb.pop()??Object.create(BD);return a.lView=o,a}(o)}(a),y=function nt(o){return o&&(o.nextProducerIndex=0),de(o)}(w));try{wm(a),function e_(o){return ft.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&qD(o,a,c,2,u);const E=3==(3&h);if(E){const O=o.preOrderCheckHooks;null!==O&&wc(a,O,null)}else{const O=o.preOrderHooks;null!==O&&xc(a,O,0,null),Po(a,0)}if(function _N(o){for(let a=Yx(o);null!==a;a=Cb(a)){if(!(a[Ct]&Ia.HasTransplantedViews))continue;const c=a[Dl];for(let u=0;u<c.length;u++){ci(c[u])}}}(a),oS(a,0),null!==o.contentQueries&&oE(o,a),E){const O=o.contentCheckHooks;null!==O&&wc(a,O)}else{const O=o.contentHooks;null!==O&&xc(a,O,1),Po(a,1)}!function N_(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let u=0;u<c.length;u++){const h=c[u];if(h<0)ia(~h);else{const m=h,y=c[++u],w=c[++u];Cm(y,m),w(2,a[m])}}}finally{ia(-1)}}(o,a);const S=o.components;null!==S&&aE(a,S,0);const R=o.viewQuery;if(null!==R&&sE(2,R,u),E){const O=o.viewCheckHooks;null!==O&&wc(a,O)}else{const O=o.viewHooks;null!==O&&xc(a,O,2),Po(a,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[ho]){for(const O of a[ho])O();a[ho]=null}a[Ct]&=-73}catch(E){throw ea(a),E}finally{null!==w&&(function Ve(o,a){if(de(a),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(it(o))for(let c=o.nextProducerIndex;c<o.producerNode.length;c++)Le(o.producerNode[c],o.producerIndexOfThis[c]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}(w,y),function VD(o){o.lView[fo]!==o&&(o.lView=null,Eb.push(o))}(w)),rs()}}function oS(o,a){for(let c=Yx(o);null!==c;c=Cb(c))for(let u=ai;u<c.length;u++)dd(c[u],a)}function W_(o,a,c){dd(go(a,o),c)}function dd(o,a){ym(o)&&Lb(o,a)}function Lb(o,a){const u=o[Ue],h=o[Ct],m=o[fo];let y=!!(0===a&&16&h);if(y||=!!(64&h&&0===a),y||=!!(1024&h),y||=!(!m?.dirty||!Tt(m)),m&&(m.dirty=!1),o[Ct]&=-9217,y)pN(u,o,u.template,o[kt]);else if(8192&h){oS(o,1);const w=u.components;null!==w&&aE(o,w,1)}}function aE(o,a,c){for(let u=0;u<a.length;u++)W_(o,a[u],c)}function pp(o){for(o[ko].changeDetectionScheduler?.notify();o;){o[Ct]|=64;const a=Cs(o);if(Al(o)&&!a)return o;o=a}return null}class Vc{get rootNodes(){const a=this._lView,c=a[Ue];return bu(c,a,c.firstChild,[])}constructor(a,c,u=!0){this._lView=a,this._cdRefInjectingView=c,this.notifyErrorHandler=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kt]}set context(a){this._lView[kt]=a}get destroyed(){return 256==(256&this._lView[Ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[ti];if(In(a)){const c=a[8],u=c?c.indexOf(this):-1;u>-1&&(v_(a,u),cu(c,u))}this._attachedToViewContainer=!1}nb(this._lView[Ue],this._lView)}onDestroy(a){pc(this._lView,a)}markForCheck(){pp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ct]&=-129}reattach(){xh(this._lView),this._lView[Ct]|=128}detectChanges(){this._lView[Ct]|=1024,function af(o,a=!0){const c=o[ko],u=c.rendererFactory;u.begin?.();try{!function fN(o){Lb(o,0);let a=0;for(;Xd(o);){if(100===a)throw new ze(103,!1);a++,Lb(o,1)}}(o)}catch(m){throw a&&G_(o,m),m}finally{u.end?.(),c.inlineEffectRunner?.flush()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,oD(this._lView[Ue],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=a,xh(this._lView)}}let sS=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=vN}return o})();function vN(o){return function aS(o,a,c){if(Xs(o)&&!c){const u=go(o.index,a);return new Vc(u,u)}return 47&o.type?new Vc(a[ni],a):null}(Vn(),we(),16==(16&o))}let gp=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=uS;static#t=this.__NG_ENV_ID__=c=>c}return o})();class dS extends gp{constructor(a){super(),this._lView=a}onDestroy(a){return pc(this._lView,a),()=>function wi(o,a){if(null===o[Ys])return;const c=o[Ys].indexOf(a);-1!==c&&o[Ys].splice(c,1)}(this._lView,a)}}function uS(){return new dS(we())}const Ub=new Set;function Eu(o){Ub.has(o)||(Ub.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}function cf(o){return a=>{setTimeout(o,void 0,a)}}const Bc=class K_ extends Fn.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,u){let h=a,m=c||(()=>null),y=u;if(a&&"object"==typeof a){const E=a;h=E.next?.bind(E),m=E.error?.bind(E),y=E.complete?.bind(E)}this.__isAsync&&(m=cf(m),h&&(h=cf(h)),y&&(y=cf(y)));const w=super.subscribe({next:h,error:m,complete:y});return a instanceof ei.w0&&a.add(w),w}};function Ri(...o){}class tr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bc(!1),this.onMicrotaskEmpty=new Bc(!1),this.onStable=new Bc(!1),this.onError=new Bc(!1),typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&c,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function hS(){const o="function"==typeof Jt.requestAnimationFrame;let a=Jt[o?"requestAnimationFrame":"setTimeout"],c=Jt[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=c[Zone.__symbol__("OriginalDelegate")];h&&(c=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function mS(o){const a=()=>{!function fS(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Jt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,_p(o),o.isCheckStableRunning=!0,jb(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),_p(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,h,m,y,w)=>{if(function IN(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(w))return c.invokeTask(h,m,y,w);try{return cE(o),c.invokeTask(h,m,y,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),Ua(o)}},onInvoke:(c,u,h,m,y,w,E)=>{try{return cE(o),c.invoke(h,m,y,w,E)}finally{o.shouldCoalesceRunChangeDetection&&a(),Ua(o)}},onHasTask:(c,u,h,m)=>{c.hasTask(h,m),u===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,_p(o),jb(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,u,h,m)=>(c.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tr.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(tr.isInAngularZone())throw new ze(909,!1)}run(a,c,u){return this._inner.run(a,c,u)}runTask(a,c,u,h){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+h,a,CN,Ri,Ri);try{return m.runTask(y,c,u)}finally{m.cancelTask(y)}}runGuarded(a,c,u){return this._inner.runGuarded(a,c,u)}runOutsideAngular(a){return this._outer.run(a)}}const CN={};function jb(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function _p(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function cE(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Ua(o){o._nesting--,jb(o)}class lE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bc,this.onMicrotaskEmpty=new Bc,this.onStable=new Bc,this.onError=new Bc}run(a,c,u){return a.apply(c,u)}runGuarded(a,c,u){return a.apply(c,u)}runOutsideAngular(a){return a()}runTask(a,c,u,h){return a.apply(c,u)}}var ud=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(ud||{});const vp={destroy(){}};function Y_(o,a){!a&&function zh(o){if(!so()&&!function am(){return Jo}())throw new ze(-203,!1)}();const c=a?.injector??rn(cs);if(!function Nc(o){return"browser"===(o??rn(cs)).get(Xr)}(c))return vp;Eu("NgAfterNextRender");const u=c.get(X_),h=u.handler??=new Q_,m=a?.phase??ud.MixedReadWrite,y=()=>{h.unregister(E),w()},w=c.get(gp).onDestroy(y),E=new hE(c,m,()=>{y(),o()});return h.register(E),{destroy:y}}class hE{constructor(a,c,u){this.phase=c,this.callbackFn=u,this.zone=a.get(tr),this.errorHandler=a.get(Fc,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(a){this.errorHandler?.handleError(a)}}}class Q_{constructor(){this.executingCallbacks=!1,this.buckets={[ud.EarlyRead]:new Set,[ud.Write]:new Set,[ud.MixedReadWrite]:new Set,[ud.Read]:new Set},this.deferredCallbacks=new Set}register(a){(this.executingCallbacks?this.deferredCallbacks:this.buckets[a.phase]).add(a)}unregister(a){this.buckets[a.phase].delete(a),this.deferredCallbacks.delete(a)}execute(){let a=!1;this.executingCallbacks=!0;for(const c of Object.values(this.buckets))for(const u of c)a=!0,u.invoke();this.executingCallbacks=!1;for(const c of this.deferredCallbacks)this.buckets[c.phase].add(c);return this.deferredCallbacks.clear(),a}destroy(){for(const a of Object.values(this.buckets))a.clear();this.deferredCallbacks.clear()}}let X_=(()=>{class o{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){const c=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const h of c)h();return!!this.handler?.execute()||c.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Dn({token:o,providedIn:"root",factory:()=>new o})}return o})();function gS(o,a){const c=go(a,o),u=c[Ue];!function J_(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])}(u,c);const h=c[Hn];null!==h&&null===c[Wr]&&(c[Wr]=ds(h,c[Rr])),Hb(u,c,c[kt])}function Hb(o,a,c){Aa(a);try{const u=o.viewQuery;null!==u&&sE(1,u,c);const h=o.template;null!==h&&qD(o,a,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&oE(o,a),o.staticViewQueries&&sE(2,o.viewQuery,c);const m=o.components;null!==m&&function _S(o,a){for(let c=0;c<a.length;c++)gS(o,a[c])}(a,m)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{a[Ct]&=-5,rs()}}function yp(o,a,c){let u=c?o.styles:null,h=c?o.classes:null,m=0;if(null!==a)for(let y=0;y<a.length;y++){const w=a[y];"number"==typeof w?m=w:1==m?h=bi(h,w):2==m&&(u=bi(u,w+": "+a[++y]+";"))}c?o.styles=u:o.stylesWithoutHost=u,c?o.classes=h:o.classesWithoutHost=h}class zb extends _b{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Ht(a);return new bp(c,this.ngModule)}}function fE(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class vS{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,u){u=nc(u);const h=this.injector.get(a,T_,u);return h!==T_||c===T_?h:this.parentInjector.get(a,c,u)}}class bp extends kD{get inputs(){const a=this.componentDef,c=a.inputTransforms,u=fE(a.inputs);if(null!==c)for(const h of u)c.hasOwnProperty(h.propName)&&(h.transform=c[h.propName]);return u}get outputs(){return fE(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function fh(o){return o.map(sc).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,u,h){let m=(h=h||this.ngModule)instanceof Lo?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new vS(a,m):a,w=y.get(RD,null);if(null===w)throw new ze(407,!1);const O={rendererFactory:w,sanitizer:y.get(Pc,null),inlineEffectRunner:null,afterRenderEventManager:y.get(X_,null),changeDetectionScheduler:y.get(X1,null)},z=w.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",le=u?function Rb(o,a,c,u){const m=u.get(Ib,!1)||c===$s.ShadowDom,y=o.selectRootElement(a,m);return function KD(o){fp(o)}(y),y}(z,u,this.componentDef.encapsulation,y):eb(z,K,function $b(o){const a=o.toLowerCase();return"svg"===a?vm:"math"===a?"math":null}(K));let Ae=512;this.componentDef.signals?Ae|=4096:this.componentDef.onPush||(Ae|=16);let We=null;null!==le&&(We=ds(le,y,!0));const ct=ld(0,null,null,1,0,null,null,null,null,null,null),Te=O_(null,ct,null,Ae,null,null,O,z,y,null,We);let Qt,_n;Aa(Te);try{const vn=this.componentDef;let Wo,VI=null;vn.findHostDirectiveDefs?(Wo=[],VI=new Map,vn.findHostDirectiveDefs(vn,Wo,VI),Wo.push(vn)):Wo=[vn];const AP=function yS(o,a){const c=o[Ue],u=It;return o[u]=a,nf(c,u,2,"#host",null)}(Te,le),kP=function bS(o,a,c,u,h,m,y){const w=h[Ue];!function wS(o,a,c,u){for(const h of o)a.mergedAttrs=qr(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(yp(a,a.mergedAttrs,!0),null!==c&&fD(u,c,a))}(u,o,a,y);let E=null;null!==a&&(E=ds(a,h[Rr]));const S=m.rendererFactory.createRenderer(a,c);let R=16;c.signals?R=4096:c.onPush&&(R=64);const O=O_(h,WD(c),null,R,h[o.index],o,m,S,null,null,E);return w.firstCreatePass&&Pb(w,o,u.length-1),H_(h,O),h[o.index]=O}(AP,le,vn,Wo,Te,O,z);_n=Qd(ct,It),le&&function Gb(o,a,c,u){if(u)wl(o,c,["ng-version","17.0.9"]);else{const{attrs:h,classes:m}=function mh(o){const a=[],c=[];let u=1,h=2;for(;u<o.length;){let m=o[u];if("string"==typeof m)2===h?""!==m&&a.push(m,o[++u]):8===h&&c.push(m);else{if(!uo(h))break;h=m}u++}return{attrs:a,classes:c}}(a.selectors[0]);h&&wl(o,c,h),m&&m.length>0&&Ox(o,c,m.join(" "))}}(z,vn,le,u),void 0!==c&&function ks(o,a,c){const u=o.projection=[];for(let h=0;h<a.length;h++){const m=c[h];u.push(null!=m?Array.from(m):null)}}(_n,this.ngContentSelectors,c),Qt=function xS(o,a,c,u,h,m){const y=Vn(),w=h[Ue],E=Vi(y,h);B_(w,h,y,c,null,u);for(let R=0;R<c.length;R++)bo(aa(h,w,y.directiveStart+R,y),h);Nb(w,h,y),E&&bo(E,h);const S=aa(h,w,y.directiveStart+y.componentOffset,y);if(o[kt]=h[kt]=S,null!==m)for(const R of m)R(S,a);return Jx(w,y,o),S}(kP,vn,Wo,VI,Te,[ES]),Hb(ct,Te,null)}finally{rs()}return new lf(this.componentType,Qt,yu(_n,Te),Te,_n)}}class lf extends eN{constructor(a,c,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new Vc(h,void 0,!1),this.componentType=a}setInput(a,c){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const m=this._rootLView;si(m[Ue],m,h,a,c),this.previousInputValues.set(a,c),pp(go(this._tNode.index,m))}}get injector(){return new Kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function ES(){const o=Vn();bc(we()[Ue],o)}function Cu(o){let a=function mE(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const u=[o];for(;a;){let h;if(mo(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ze(903,!1);h=a.\u0275dir}if(h){if(c){u.push(h);const y=o;y.inputs=hs(o.inputs),y.inputTransforms=hs(o.inputTransforms),y.declaredInputs=hs(o.declaredInputs),y.outputs=hs(o.outputs);const w=h.hostBindings;w&&DN(o,w);const E=h.viewQuery,S=h.contentQueries;if(E&&pE(o,E),S&&Yn(o,S),Fi(o.inputs,h.inputs),Fi(o.declaredInputs,h.declaredInputs),Fi(o.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),Fi(y.inputTransforms,h.inputTransforms)),mo(h)&&h.data.animation){const R=o.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let y=0;y<m.length;y++){const w=m[y];w&&w.ngInherit&&w(o),w===Cu&&(c=!1)}}a=Object.getPrototypeOf(a)}!function TN(o){let a=0,c=null;for(let u=o.length-1;u>=0;u--){const h=o[u];h.hostVars=a+=h.hostVars,h.hostAttrs=qr(h.hostAttrs,c=qr(c,h.hostAttrs))}}(u)}function hs(o){return o===lo?{}:o===wn?[]:o}function pE(o,a){const c=o.viewQuery;o.viewQuery=c?(u,h)=>{a(u,h),c(u,h)}:a}function Yn(o,a){const c=o.contentQueries;o.contentQueries=c?(u,h,m)=>{a(u,h,m),c(u,h,m)}:a}function DN(o,a){const c=o.hostBindings;o.hostBindings=c?(u,h)=>{a(u,h),c(u,h)}:a}function Br(o){const a=o.inputConfig,c={};for(const u in a)if(a.hasOwnProperty(u)){const h=a[u];Array.isArray(h)&&h[2]&&(c[u]=h[2])}o.inputTransforms=c}function Rs(o,a,c){return o[a]=c}function xi(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function jc(o,a,c,u){const h=xi(o,a,c);return xi(o,a+1,u)||h}function vE(o,a,c,u){const h=we();return xi(h,No(),a)&&(fn(),As(en(),h,o,a,c,u)),vE}function Du(o,a,c,u){return xi(o,No(),c)?a+Dt(c)+u:qt}function Ep(o,a,c,u,h,m,y,w){const S=function ev(o,a,c,u,h){const m=jc(o,a,c,u);return xi(o,a+2,h)||m}(o,function is(){return ft.lFrame.bindingIndex}(),c,h,y);return ta(3),S?a+Dt(c)+u+Dt(h)+m+Dt(y)+w:qt}function jo(o,a){return o<<17|a<<2}function Hc(o){return o>>17&32767}function bE(o){return 2|o}function Ze(o){return(131068&o)>>2}function ce(o,a){return-131069&o|a<<2}function nr(o){return 1|o}function DS(o,a,c,u){const h=o[c+1],m=null===a;let y=u?Hc(h):Ze(h),w=!1;for(;0!==y&&(!1===w||m);){const S=o[y+1];MN(o[y],a)&&(w=!0,o[y+1]=u?nr(S):bE(S)),y=u?Hc(S):Ze(S)}w&&(o[c+1]=u?bE(h):nr(h))}function MN(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Xl(o,a)>=0}function Dp(o,a,c){const u=we();return xi(u,No(),a)&&us(fn(),en(),u,o,a,u[Lt],c,!1),Dp}function nv(o,a,c,u,h){const y=h?"class":"style";si(o,c,a.inputs[y],y,u)}function md(o,a,c){return ma(o,a,c,!1),md}function EE(o,a){return ma(o,a,null,!0),EE}function ma(o,a,c,u){const h=we(),m=fn(),y=ta(2);m.firstUpdatePass&&function CE(o,a,c,u){const h=o.data;if(null===h[c+1]){const m=h[Pn()],y=function Zb(o,a){return a>=o.expandoStartIndex}(o,c);(function kS(o,a){return 0!=(o.flags&(a?8:16))})(m,u)&&null===a&&!y&&(a=!1),a=function AS(o,a,c,u){const h=function Ah(o){const a=ft.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let m=u?a.residualClasses:a.residualStyles;if(null===h)0===(u?a.classBindings:a.styleBindings)&&(c=Ho(c=Sp(null,o,a,c,u),a.attrs,u),m=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==h)if(c=Sp(h,o,a,c,u),null===m){let E=function Su(o,a,c){const u=c?a.classBindings:a.styleBindings;if(0!==Ze(u))return o[Hc(u)]}(o,a,u);void 0!==E&&Array.isArray(E)&&(E=Sp(null,o,a,E[1],u),E=Ho(E,a.attrs,u),function IE(o,a,c,u){o[Hc(c?a.classBindings:a.styleBindings)]=u}(o,a,u,E))}else m=function ie(o,a,c){let u;const h=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<h;m++)u=Ho(u,o[m].hostAttrs,c);return Ho(u,a.attrs,c)}(o,a,u)}return void 0!==m&&(u?a.residualClasses=m:a.residualStyles=m),c}(h,m,a,u),function AN(o,a,c,u,h,m){let y=m?a.classBindings:a.styleBindings,w=Hc(y),E=Ze(y);o[u]=c;let R,S=!1;if(Array.isArray(c)?(R=c[1],(null===R||Xl(c,R)>0)&&(S=!0)):R=c,h)if(0!==E){const z=Hc(o[w+1]);o[u+1]=jo(z,w),0!==z&&(o[z+1]=ce(o[z+1],u)),o[w+1]=function yt(o,a){return 131071&o|a<<17}(o[w+1],u)}else o[u+1]=jo(w,0),0!==w&&(o[w+1]=ce(o[w+1],u)),w=u;else o[u+1]=jo(E,0),0===w?w=u:o[E+1]=ce(o[E+1],u),E=u;S&&(o[u+1]=bE(o[u+1])),DS(o,R,u,!0),DS(o,R,u,!1),function kN(o,a,c,u,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&Xl(m,a)>=0&&(c[u+1]=nr(c[u+1]))}(a,R,o,u,m),y=jo(w,E),m?a.classBindings=y:a.styleBindings=y}(h,m,a,c,y,u)}}(m,o,y,u),a!==qt&&xi(h,y,a)&&function ku(o,a,c,u,h,m,y,w){if(!(3&a.type))return;const E=o.data,S=E[w+1],R=function Se(o){return 1==(1&o)}(S)?TE(E,a,c,h,Ze(S),y):void 0;kp(R)||(kp(m)||function lt(o){return 2==(2&o)}(S)&&(m=TE(E,null,c,h,w,y)),function F1(o,a,c,u,h){if(a)h?o.addClass(c,u):o.removeClass(c,u);else{let m=-1===u.indexOf("-")?void 0:Yy.DashCase;null==h?o.removeStyle(c,u,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Yy.Important),o.setStyle(c,u,h,m))}}(u,y,Ol(Pn(),c),h,m))}(m,m.data[Pn()],h,h[Lt],o,h[y+1]=function LN(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=kn(Oc(o)))),o}(a,c),u,y)}function Sp(o,a,c,u,h){let m=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(m=a[w],u=Ho(u,m.hostAttrs,h),m!==o);)w++;return null!==o&&(c.directiveStylingLast=w),u}function Ho(o,a,c){const u=c?1:2;let h=-1;if(null!==a)for(let m=0;m<a.length;m++){const y=a[m];"number"==typeof y?h=y:h===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),vo(o,y,!!c||a[++m]))}return void 0===o?null:o}function TE(o,a,c,u,h,m){const y=null===a;let w;for(;h>0;){const E=o[h],S=Array.isArray(E),R=S?E[1]:E,O=null===R;let z=c[h+1];z===qt&&(z=O?wn:void 0);let K=O?Sm(z,u):R===u?z:void 0;if(S&&!kp(K)&&(K=Sm(E,u)),kp(K)&&(w=K,y))return w;const le=o[h+1];h=y?Hc(le):Ze(le)}if(null!==a){let E=m?a.residualClasses:a.residualStyles;null!=E&&(w=Sm(E,u))}return w}function kp(o){return void 0!==o}function pa(o,a){return!a||null===a.firstChild||Zy(o)}function vf(o,a,c,u=!0){const h=a[Ue];if(function M1(o,a,c,u){const h=ai+u,m=c.length;u>0&&(c[h-1][Mr]=a),u<m-ai?(a[Mr]=c[h],Ql(c,ai+u,a)):(c.push(a),a[Mr]=null),a[ti]=c;const y=a[Mo];null!==y&&c!==y&&function R1(o,a){const c=o[Dl];a[ni]!==a[ti][ti][ni]&&(o[Ct]|=Ia.HasTransplantedViews),null===c?o[Dl]=[a]:c.push(a)}(y,a);const w=a[Zr];null!==w&&w.insertView(o),xh(a),a[Ct]|=128}(h,a,o,c),u){const y=Mx(c,o),w=a[Lt],E=tp(w,o[Kr]);null!==E&&function A1(o,a,c,u,h,m){u[Hn]=h,u[Yi]=a,sb(o,u,c,1,h,m)}(h,o[Yi],w,a,E,y)}const m=a[Wr];null!==m&&null!==m.firstChild&&(m.firstChild=null)}let uv=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=FS}return o})();function FS(){return LS(Vn(),we())}const o0=uv,Rp=class extends o0{constructor(a,c,u){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=u}get element(){return yu(this._hostTNode,this._hostLView)}get injector(){return new Kn(this._hostTNode,this._hostLView)}get parentInjector(){const a=ra(this._hostTNode,this._hostLView);if(Rh(a)){const c=ql(a,this._hostLView),u=Gl(a);return new Kn(c[Ue].data[u+8],c)}return new Kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=NE(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-ai}createEmbeddedView(a,c,u){let h,m;"number"==typeof u?h=u:null!=u&&(h=u.index,m=u.injector);const w=a.createEmbeddedViewImpl(c||{},m,null);return this.insertImpl(w,h,pa(this._hostTNode,null)),w}createComponent(a,c,u,h,m){const y=a&&!function ca(o){return"function"==typeof o}(a);let w;if(y)w=c;else{const le=c||{};w=le.index,u=le.injector,h=le.projectableNodes,m=le.environmentInjector||le.ngModuleRef}const E=y?a:new bp(Ht(a)),S=u||this.parentInjector;if(!m&&null==E.ngModule){const Ae=(y?S:this.parentInjector).get(Lo,null);Ae&&(m=Ae)}Ht(E.componentType??{});const K=E.create(S,h,null,m);return this.insertImpl(K.hostView,w,pa(this._hostTNode,null)),K}insert(a,c){return this.insertImpl(a,c,!0)}insertImpl(a,c,u){const h=a._lView;if(function bm(o){return In(o[ti])}(h)){const w=this.indexOf(a);if(-1!==w)this.detach(w);else{const E=h[ti],S=new Rp(E,E[Yi],E[ti]);S.detach(S.indexOf(a))}}const m=this._adjustIndex(c),y=this._lContainer;return vf(y,h,m,u),a.attachToViewContainerRef(),Ql(OE(y),m,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=NE(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),u=v_(this._lContainer,c);u&&(cu(OE(this._lContainer),c),nb(u[Ue],u))}detach(a){const c=this._adjustIndex(a,-1),u=v_(this._lContainer,c);return u&&null!=cu(OE(this._lContainer),c)?new Vc(u):null}_adjustIndex(a,c=0){return a??this.length+c}};function NE(o){return o[8]}function OE(o){return o[8]||(o[8]=[])}function LS(o,a){let c;const u=a[o.index];return In(u)?c=u:(c=rS(u,a,null,o),a[o.index]=c,H_(a,c)),PE(c,a,o,u),new Rp(c,o,a)}let PE=function hi(o,a,c,u){if(o[Kr])return;let h;h=8&c.type?On(u):function VS(o,a){const c=o[Lt],u=c.createComment(""),h=Vi(a,o);return Yh(c,tp(c,h),u,function lD(o,a){return o.nextSibling(a)}(c,h),!1),u}(a,c),o[Kr]=h},Dr=()=>!1;function Op(o,a,c,u,h,m,y,w){const E=we(),S=fn(),R=o+It,O=S.firstCreatePass?function Np(o,a,c,u,h,m,y,w,E){const S=a.consts,R=nf(a,o,4,y||null,_o(S,w));V_(a,c,R,_o(S,E)),bc(a,R);const O=R.tView=ld(2,R,u,h,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S,null);return null!==a.queries&&(a.queries.template(a,R),O.queries=a.queries.embeddedTView(R)),R}(R,S,E,a,c,u,h,m,y):S.data[R];Is(O,!1);const z=LE(S,E,O,o);ru()&&rb(S,E,z,O),bo(z,E);const K=rS(z,E,z,O);return E[R]=K,H_(E,K),function FE(o,a,c){return Dr(o,a,c)}(K,O,E),Sl(O)&&xu(S,E,O),null!=y&&eE(E,O,w),Op}let LE=function mn(o,a,c,u){return xr(!0),a[Lt].createComment("")};function pn(o,a,c,u){const h=we(),m=fn(),y=It+o,w=h[Lt],E=m.firstCreatePass?function _r(o,a,c,u,h,m){const y=a.consts,E=nf(a,o,2,u,_o(y,h));return V_(a,c,E,_o(y,m)),null!==E.attrs&&yp(E,E.attrs,!1),null!==E.mergedAttrs&&yp(E,E.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,E),E}(y,m,h,a,c,u):m.data[y],S=m0(m,h,E,w,a,o);h[y]=S;const R=Sl(E);return Is(E,!0),fD(w,S,E),32!=(32&E.flags)&&ru()&&rb(m,h,S,E),0===function Pl(){return ft.lFrame.elementDepthCount}()&&bo(S,h),function Eh(){ft.lFrame.elementDepthCount++}(),R&&(xu(m,h,E),Jx(m,E,h)),null!==u&&eE(h,E),pn}function vv(){let o=Vn();Sa()?Dh():(o=o.parent,Is(o,!1));const a=o;(function ns(o){return ft.skipHydrationRootTNode===o})(a)&&function Em(){ft.skipHydrationRootTNode=null}(),function Xg(){ft.lFrame.elementDepthCount--}();const c=fn();return c.firstCreatePass&&(bc(c,o),Gd(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Na(o){return 0!=(8&o.flags)}(a)&&nv(c,a,we(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Tm(o){return 0!=(16&o.flags)}(a)&&nv(c,a,we(),a.stylesWithoutHost,!1),vv}function f0(o,a,c,u){return pn(o,a,c,u),vv(),f0}let m0=(o,a,c,u,h,m)=>(xr(!0),eb(u,h,function zl(){return ft.lFrame.currentNamespace}()));function wv(){return we()}function y0(o,a,c){const u=we();return xi(u,No(),a)&&us(fn(),en(),u,o,a,u[Lt],c,!0),y0}const Vu=void 0;var aA=["en",[["a","p"],["AM","PM"],Vu],[["AM","PM"],Vu,Vu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vu,"{1} 'at' {0}",Vu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function oO(o){const c=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let Tf={};function tC(o){const a=function sO(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=b0(a);if(c)return c;const u=a.split("-")[0];if(c=b0(u),c)return c;if("en"===u)return aA;throw new ze(701,!1)}function cA(o){return tC(o)[Df.PluralCase]}function b0(o){return o in Tf||(Tf[o]=Jt.ng&&Jt.ng.common&&Jt.ng.common.locales&&Jt.ng.common.locales[o]),Tf[o]}var Df=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Df||{});const Sf="en-US";let Wp=Sf;function Jc(o){return!!o&&"function"==typeof o.then}function fC(o){return!!o&&"function"==typeof o.subscribe}function mC(o,a,c,u){const h=we(),m=fn(),y=Vn();return function gC(o,a,c,u,h,m,y){const w=Sl(u),S=o.firstCreatePass&&z_(o),R=a[kt],O=Lc(a);let z=!0;if(3&u.type||y){const Ae=Vi(u,a),We=y?y(Ae):Ae,ct=O.length,Te=y?_n=>y(On(_n[u.index])):u.index;let Qt=null;if(!y&&w&&(Qt=function _O(o,a,c,u){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const y=h[m];if(y===c&&h[m+1]===u){const w=a[lc],E=h[m+2];return w.length>E?w[E]:null}"string"==typeof y&&(m+=2)}return null}(o,a,h,u.index)),null!==Qt)(Qt.__ngLastListenerFn__||Qt).__ngNextListenerFn__=m,Qt.__ngLastListenerFn__=m,z=!1;else{m=Nv(u,a,R,m,!1);const _n=c.listen(We,h,m);O.push(m,_n),S&&S.push(h,Te,ct,ct+1)}}else m=Nv(u,a,R,m,!1);const K=u.outputs;let le;if(z&&null!==K&&(le=K[h])){const Ae=le.length;if(Ae)for(let We=0;We<Ae;We+=2){const vn=a[le[We]][le[We+1]].subscribe(m),Wo=O.length;O.push(m,vn),S&&S.push(h,u.index,Wo,-(Wo+1))}}}(m,h,h[Lt],y,o,a,u),mC}function OA(o,a,c,u){try{return Ro(6,a,c),!1!==c(u)}catch(h){return G_(o,h),!1}finally{Ro(7,a,c)}}function Nv(o,a,c,u,h){return function m(y){if(y===Function)return u;pp(o.componentOffset>-1?go(o.index,a):a);let E=OA(a,c,u,y),S=m.__ngNextListenerFn__;for(;S;)E=OA(a,c,S,y)&&E,S=S.__ngNextListenerFn__;return h&&!1===E&&y.preventDefault(),E}}function _C(o=1){return function na(o){return(ft.lFrame.contextLView=function xm(o,a){for(;o>0;)a=a[bs],o--;return a}(o,ft.lFrame.contextLView))[kt]}(o)}function vO(o,a){let c=null;const u=function Ws(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(o);for(let h=0;h<a.length;h++){const m=a[h];if("*"!==m){if(null===u?xl(o,m,!0):hm(u,m))return h}else c=h}return c}function vC(o){const a=we()[ni][Yi];if(!a.projection){const u=a.projection=function ss(o,a){const c=[];for(let u=0;u<o;u++)c.push(a);return c}(o?o.length:1,null),h=u.slice();let m=a.child;for(;null!==m;){const y=o?vO(m,o):0;null!==y&&(h[y]?h[y].projectionNext=m:u[y]=m,h[y]=m),m=m.next}}}function PA(o,a=0,c){const u=we(),h=fn(),m=nf(h,It+o,16,null,c||null);null===m.projection&&(m.projection=a),Dh(),(!u[Wr]||ts())&&32!=(32&m.flags)&&function ab(o,a,c){hD(a[Lt],0,a,c,Ax(o,c,a),dD(c.parent||a[Yi],c,a))}(h,u,m)}function S0(o,a,c){return wd(o,"",a,"",c),S0}function wd(o,a,c,u,h){const m=we(),y=Du(m,a,c,u);return y!==qt&&us(fn(),en(),m,o,y,m[Lt],h,!1),wd}function BA(o){return po(function Ll(){return ft.lFrame.contextLView}(),It+o)}function IC(o,a=""){const c=we(),u=fn(),h=o+It,m=u.firstCreatePass?nf(u,h,1,a,null):u.data[h],y=F0(u,c,m,a,o);c[h]=y,ru()&&rb(u,c,y,m),Is(m,!1)}let F0=(o,a,c,u,h)=>(xr(!0),function Jy(o,a){return o.createText(a)}(a[Lt],u));function TC(o){return Pv("",o,""),TC}function Pv(o,a,c){const u=we(),h=Du(u,o,a,c);return h!==qt&&fa(u,Pn(),h),Pv}function ju(o,a,c,u,h,m,y){const w=we(),E=Ep(w,o,a,c,u,h,m,y);return E!==qt&&fa(w,Pn(),E),ju}function Lv(o,a,c,u,h){if(o=st(o),Array.isArray(o))for(let m=0;m<o.length;m++)Lv(o[m],a,c,u,h);else{const m=fn(),y=we(),w=Vn();let E=od(o)?o:st(o.provide);const S=hr(o),R=1048575&w.providerIndexes,O=w.directiveStart,z=w.providerIndexes>>20;if(od(o)||!o.multi){const K=new ln(S,h,tf),le=B0(E,a,h?R:R+z,O);-1===le?(Kl(Bn(w,y),m,E),kC(m,o,a.length),a.push(E),w.directiveStart++,w.directiveEnd++,h&&(w.providerIndexes+=1048576),c.push(K),y.push(K)):(c[le]=K,y[le]=K)}else{const K=B0(E,a,R+z,O),le=B0(E,a,R,R+z),We=le>=0&&c[le];if(h&&!We||!h&&!(K>=0&&c[K])){Kl(Bn(w,y),m,E);const ct=function Vv(o,a,c,u,h){const m=new ln(o,c,tf);return m.multi=[],m.index=a,m.componentProviders=0,V0(m,h,u&&!c),m}(h?MC:$A,c.length,h,u,S);!h&&We&&(c[le].providerFactory=ct),kC(m,o,a.length,0),a.push(E),w.directiveStart++,w.directiveEnd++,h&&(w.providerIndexes+=1048576),c.push(ct),y.push(ct)}else kC(m,o,K>-1?K:le,V0(c[h?le:K],S,!h&&u));!h&&u&&We&&c[le].componentProviders++}}}function kC(o,a,c,u){const h=od(a),m=function u_(o){return!!o.useClass}(a);if(h||m){const E=(m?st(a.useClass):a).prototype.ngOnDestroy;if(E){const S=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const R=S.indexOf(c);-1===R?S.push(c,[u,E]):S[R+1].push(u,E)}else S.push(c,E)}}}function V0(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function B0(o,a,c,u){for(let h=c;h<u;h++)if(a[h]===o)return h;return-1}function $A(o,a,c,u){return ng(this.multi,[])}function MC(o,a,c,u){const h=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=aa(c,c[Ue],this.providerFactory.index,u);m=w.slice(0,y),ng(h,m);for(let E=y;E<w.length;E++)m.push(w[E])}else m=[],ng(h,m);return m}function ng(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function Bv(o,a=[]){return c=>{c.providersResolver=(u,h)=>function IO(o,a,c){const u=fn();if(u.firstCreatePass){const h=mo(o);Lv(c,u.data,u.blueprint,h,!0),Lv(a,u.data,u.blueprint,h,!1)}}(u,h?h(o):o,a)}}class xd{}class U0{}function RC(o,a){return new NC(o,a??null,[])}class NC extends xd{constructor(a,c,u){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zb(this);const h=jn(a);this._bootstrapComponents=fr(h.bootstrap),this._r3Injector=_x(a,c,[{provide:xd,useValue:this},{provide:_b,useValue:this.componentFactoryResolver},...u],kn(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class j0 extends U0{constructor(a){super(),this.moduleType=a}create(a){return new NC(this.moduleType,a,[])}}class z0 extends xd{constructor(a){super(),this.componentFactoryResolver=new zb(this),this.instance=null;const c=new La([...a.providers,{provide:xd,useValue:this},{provide:_b,useValue:this.componentFactoryResolver}],a.parent||Fm(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function GA(o,a,c=null){return new z0({providers:o,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let DO=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const u=Nm(0,c.type),h=u.length>0?GA([u],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,h)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Dn({token:o,providedIn:"environment",factory:()=>new o(dr(Lo))})}return o})();function io(o){Eu("NgStandalone"),o.getStandaloneInjector=a=>a.get(DO).getOrCreateStandaloneInjector(o)}function el(o,a){const c=o[a];return c===qt?void 0:c}function ik(o,a){const c=fn();let u;const h=o+It;c.firstCreatePass?(u=function $C(o,a){if(a)for(let c=a.length-1;c>=0;c--){const u=a[c];if(o===u.name)return u}}(a,c.pipeRegistry),c.data[h]=u,u.onDestroy&&(c.destroyHooks??=[]).push(h,u.onDestroy)):u=c.data[h];const m=u.factory||(u.factory=xs(u.type)),w=lr(tf);try{const E=Ec(!1),S=m();return Ec(E),function Hr(o,a,c,u){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=u}(c,we(),h,S),S}finally{lr(w)}}function ok(o,a,c){const u=o+It,h=we(),m=po(h,u);return Bf(h,u)?function W0(o,a,c,u,h,m){const y=a+c;return xi(o,y,h)?Rs(o,y+1,m?u.call(m,h):u(h)):el(o,y+1)}(h,ur(),a,m.transform,c,m):m.transform(c)}function Z0(o,a,c,u){const h=o+It,m=we(),y=po(m,h);return Bf(m,h)?function tk(o,a,c,u,h,m,y){const w=a+c;return jc(o,w,h,m)?Rs(o,w+2,y?u.call(y,h,m):u(h,m)):el(o,w+2)}(m,ur(),a,y.transform,c,u,y):y.transform(c,u)}function Bf(o,a){return o[Ue].data[a].pure}function qC(){return this._results[Symbol.iterator]()}class og{static#e=Symbol.iterator;get changes(){return this._changes??=new Bc}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const c=og.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=qC)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){this.dirty=!1;const u=function Lr(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function qT(o,a,c){if(o.length!==a.length)return!1;for(let u=0;u<o.length;u++){let h=o[u],m=a[u];if(c&&(h=c(h),m=c(m)),m!==h)return!1}return!0}(this._results,u,c))&&(this._results=u,this.length=u.length,this.last=u[this.length-1],this.first=u[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let tl=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=sg}return o})();const zu=tl,WC=class extends zu{constructor(a,c,u){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c)}createEmbeddedViewImpl(a,c,u){const h=function _f(o,a,c,u){const h=a.tView,w=O_(o,h,c,4096&o[Ct]?4096:16,null,a,null,null,null,u?.injector??null,u?.dehydratedView??null);w[Mo]=o[a.index];const S=o[Zr];return null!==S&&(w[Zr]=S.createEmbeddedView(h)),Hb(h,w,c),w}(this._declarationLView,this._declarationTContainer,a,{injector:c,dehydratedView:u});return new Vc(h)}};function sg(){return Ed(Vn(),we())}function Ed(o,a){return 4&o.type?new WC(a,o,yu(o,a)):null}class K0{constructor(a){this.queryList=a,this.matches=null}clone(){return new K0(this.queryList)}setDirty(){this.queryList.setDirty()}}class $u{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const u=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let m=0;m<u;m++){const y=c.getByIndex(m);h.push(this.queries[y.indexInDeclarationView].clone())}return new $u(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==fk(a,c).matches&&this.queries[c].setDirty()}}class ak{constructor(a,c,u=null){this.predicate=a,this.flags=c,this.read=u}}class ZC{constructor(a=[]){this.queries=a}elementStart(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let u=0;u<this.length;u++){const h=null!==c?c.length:0,m=this.getByIndex(u).embeddedTView(a,h);m&&(m.indexInDeclarationView=u,null!==c?c.push(m):c=[m])}return null!==c?new ZC(c):null}template(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Hv{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Hv(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(a,c,KC(c,m)),this.matchTNodeWithReadOption(a,c,sa(c,a,m,!1,!1))}else u===tl?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,sa(c,a,u,!1,!1))}matchTNodeWithReadOption(a,c,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===dp||h===uv||h===tl&&4&c.type)this.addMatch(c.index,-2);else{const m=sa(c,a,h,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,u)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function KC(o,a){const c=o.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===a)return c[u+1];return null}function QC(o,a,c,u){return-1===c?function YC(o,a){return 11&o.type?yu(o,a):4&o.type?Ed(o,a):null}(a,o):-2===c?function FO(o,a,c){return c===dp?yu(a,o):c===tl?Ed(a,o):c===uv?LS(a,o):void 0}(o,a,u):aa(o,o[Ue],c,a)}function ck(o,a,c,u){const h=a[Zr].queries[u];if(null===h.matches){const m=o.data,y=c.matches,w=[];for(let E=0;E<y.length;E+=2){const S=y[E];w.push(S<0?null:QC(a,m[S],y[E+1],c.metadata.read))}h.matches=w}return h.matches}function zv(o,a,c,u){const h=o.queries.getByIndex(c),m=h.matches;if(null!==m){const y=ck(o,a,h,c);for(let w=0;w<m.length;w+=2){const E=m[w];if(E>0)u.push(y[w/2]);else{const S=m[w+1],R=a[-E];for(let O=ai;O<R.length;O++){const z=R[O];z[Mo]===z[ti]&&zv(z[Ue],z,S,u)}if(null!==R[Dl]){const O=R[Dl];for(let z=0;z<O.length;z++){const K=O[z];zv(K[Ue],K,S,u)}}}}}return u}function Y0(o){const a=we(),c=fn(),u=Oo();eu(u+1);const h=fk(c,u);if(o.dirty&&function Da(o){return 4==(4&o[Ct])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const m=h.crossesNgTemplate?zv(c,a,u,[]):ck(c,a,h,u);o.reset(m,Eo),o.notifyOnChanges()}return!0}return!1}function lk(o,a,c){const u=fn();u.firstCreatePass&&(eI(u,new ak(o,a,c),-1),2==(2&a)&&(u.staticViewQueries=!0)),JC(u,we(),a)}function XC(o,a,c,u){const h=fn();if(h.firstCreatePass){const m=Vn();eI(h,new ak(a,c,u),m.index),function hk(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}JC(h,we(),c)}function dk(){return function uk(o,a){return o[Zr].queries[a].queryList}(we(),Oo())}function JC(o,a,c){const u=new og(4==(4&c));(function QD(o,a,c,u){const h=Lc(a);h.push(c),o.firstCreatePass&&z_(o).push(u,h.length-1)})(o,a,u,u.destroy),null===a[Zr]&&(a[Zr]=new $u),a[Zr].queries.push(new K0(u))}function eI(o,a,c){null===o.queries&&(o.queries=new ZC),o.queries.track(new Hv(a,c))}function fk(o,a){return o.queries.getByIndex(a)}function mk(o,a){return Ed(o,a)}class Dk{constructor(a){this.full=a;const c=a.split(".");this.major=c[0],this.minor=c[1],this.patch=c.slice(2).join(".")}}const ZO=new Dk("17.0.9");let Sk=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Dn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();class rw{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let mI=(()=>{class o{compileModuleSync(c){return new j0(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),m=fr(jn(c).declarations).reduce((y,w)=>{const E=Ht(w);return E&&y.push(new bp(E)),y},[]);return new rw(u,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Dn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Zv=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Si.X(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Dn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const fi=new cn(""),zr=new cn("");let dg,il=(()=>{class o{constructor(c,u,h){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,dg||(function iP(o){dg=o}(h),h.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:h})}whenStable(c,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,h){return[]}static#e=this.\u0275fac=function(u){return new(u||o)(dr(tr),dr(xI),dr(zr))};static#t=this.\u0275prov=Dn({token:o,factory:o.\u0275fac})}return o})(),xI=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return dg?.findTestabilityInTree(this,c,u)??null}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Dn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const EI=new cn("Application Initializer");let Kv=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u}),this.appInits=rn(EI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const m=h();if(Jc(m))c.push(m);else if(fC(m)){const y=new Promise((w,E)=>{m.subscribe({complete:w,error:E})});c.push(y)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{u()}).catch(h=>{this.reject(h)}),0===c.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Dn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const CI=new cn("appBootstrapListener");function $i(o,a){return Array.isArray(a)?a.reduce($i,o):{...o,...a}}let qu=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=rn(Cr),this.afterRenderEffectManager=rn(X_),this.componentTypes=[],this.components=[],this.isStable=rn(Zv).hasPendingTasks.pipe((0,En.U)(c=>!c)),this._injector=rn(Lo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,u){const h=c instanceof kD;if(!this._injector.get(Kv).done)throw!h&&Zs(c),new ze(405,!1);let y;y=h?c:this._injector.get(_b).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const w=function vi(o){return o.isBoundToModule}(y)?void 0:this._injector.get(xd),S=y.create(cs.NULL,[],u||y.selector,w),R=S.location.nativeElement,O=S.injector.get(fi,null);return O?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),dw(this.components,S),O?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ze(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{try{this.afterRenderEffectManager.execute()}catch(c){this.internalErrorHandler(c)}this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;dw(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get(CI,[]);[...this._bootstrapListeners,...u].forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>dw(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new ze(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Dn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function dw(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}let sP=(()=>{class o{constructor(){this.zone=rn(tr),this.applicationRef=rn(qu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Dn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function PV(){const o=rn(tr),a=rn(Fc);return c=>o.runOutsideAngular(()=>a.handleError(c))}let $k=(()=>{class o{constructor(){this.subscription=new ei.w0,this.initialized=!1,this.zone=rn(tr),this.pendingTasks=rn(Zv)}initialize(){if(this.initialized)return;this.initialized=!0;let c=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(c=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{tr.assertNotInAngularZone(),queueMicrotask(()=>{null!==c&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(c),c=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{tr.assertInAngularZone(),c??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Dn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const uw=new cn("LocaleId",{providedIn:"root",factory:()=>rn(uw,tn.Optional|tn.SkipSelf)||function Qv(){return typeof $localize<"u"&&$localize.locale||Sf}()}),rl=new cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),ug=new cn("PlatformDestroyListeners");let Gk=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const h=function pS(o="zone.js",a){return"noop"===o?new lE:"zone.js"===o?new tr(a):o}(u?.ngZone,function zk(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return h.run(()=>{const m=function H0(o,a,c){return new NC(o,a,c)}(c.moduleType,this.injector,function Hk(o){return[{provide:tr,useFactory:o},{provide:Ac,multi:!0,useFactory:()=>{const a=rn(sP,{optional:!0});return()=>a.initialize()}},{provide:Ac,multi:!0,useFactory:()=>{const a=rn($k);return()=>{a.initialize()}}},{provide:Cr,useFactory:PV}]}(()=>h)),y=m.injector.get(Fc,null);return h.runOutsideAngular(()=>{const w=h.onError.subscribe({next:E=>{y.handleError(E)}});m.onDestroy(()=>{dw(this._modules,m),w.unsubscribe()})}),function rP(o,a,c){try{const u=c();return Jc(u)?u.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):u}catch(u){throw a.runOutsideAngular(()=>o.handleError(u)),u}}(y,h,()=>{const w=m.injector.get(Kv);return w.runInitializers(),w.donePromise.then(()=>(function iC(o){jt(o,"Expected localeId to be defined"),"string"==typeof o&&(Wp=o.toLowerCase().replace(/_/g,"-"))}(m.injector.get(uw,Sf)||Sf),this._moduleDoBootstrap(m),m))})})}bootstrapModule(c,u=[]){const h=$i({},u);return function II(o,a,c){const u=new j0(c);return Promise.resolve(u)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(c){const u=c.injector.get(qu);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new ze(-403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get(ug,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(u){return new(u||o)(dr(cs))};static#t=this.\u0275prov=Dn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})(),Zu=null;const TI=new cn("AllowMultipleToken");function Xv(o,a,c=[]){const u=`Platform: ${a}`,h=new cn(u);return(m=[])=>{let y=hg();if(!y||y.injector.get(TI,!1)){const w=[...c,...m,{provide:h,useValue:!0}];o?o(w):function qk(o){if(Zu&&!Zu.get(TI,!1))throw new ze(400,!1);(function Uk(){!function Wn(o){Rn=o}(()=>{throw new ze(600,!1)})})(),Zu=o;const a=o.get(Gk);(function fw(o){o.get(oi,null)?.forEach(c=>c())})(o)}(function Wk(o=[],a){return cs.create({name:a,providers:[{provide:Pm,useValue:"platform"},{provide:ug,useValue:new Set([()=>Zu=null])},...o]})}(w,u))}return function Gf(o){const a=hg();if(!a)throw new ze(401,!1);return a}()}}function hg(){return Zu?.get(Gk)??null}function cP(){return!1}const BV=Xv(null,"core",[]);let AI=(()=>{class o{constructor(c){}static#e=this.\u0275fac=function(u){return new(u||o)(dr(qu))};static#t=this.\u0275mod=Ai({type:o});static#n=this.\u0275inj=fl({})}return o})();function _M(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function qo(o){const a=Ht(o);if(!a)return null;const c=new bp(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},399:($t,qe,W)=>{W.d(qe,{Z:()=>ut});var d=W(58),re=W(537),B=W(594),se=W(879);class fe{constructor(nt,Ve){this._delegate=nt,this.firebase=Ve,(0,B._addComponent)(nt,new re.wA("app-compat",()=>this,"PUBLIC")),this.container=nt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this._delegate.automaticDataCollectionEnabled=nt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nt=>{this._delegate.checkDestroyed(),nt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(nt,Ve=B._DEFAULT_ENTRY_NAME){var Tt;this._delegate.checkDestroyed();const St=this._delegate.container.getProvider(nt);return!St.isInitialized()&&"EXPLICIT"===(null===(Tt=St.getComponent())||void 0===Tt?void 0:Tt.instantiationMode)&&St.initialize(),St.getImmediate({identifier:Ve})}_removeServiceInstance(nt,Ve=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nt).clearInstance(Ve)}_addComponent(nt){(0,B._addComponent)(this._delegate,nt)}_addOrOverwriteComponent(nt){(0,B._addOrOverwriteComponent)(this._delegate,nt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Fe=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function Ee(){const Nt=function He(Nt){const nt={},Ve={__esModule:!0,initializeApp:function vt(Ke,be={}){const J=B.initializeApp(Ke,be);if((0,d.r3)(nt,J.name))return nt[J.name];const Ge=new Nt(J,Ve);return nt[J.name]=Ge,Ge},app:St,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function it(Ke){const be=Ke.name,J=be.replace("-compat","");if(B._registerComponent(Ke)&&"PUBLIC"===Ke.type){const Ge=(Vt=St())=>{if("function"!=typeof Vt[J])throw Fe.create("invalid-app-argument",{appName:be});return Vt[J]()};void 0!==Ke.serviceProps&&(0,d.ZB)(Ge,Ke.serviceProps),Ve[J]=Ge,Nt.prototype[J]=function(...Vt){return this._getService.bind(this,be).apply(this,Ke.multipleInstances?Vt:[])}}return"PUBLIC"===Ke.type?Ve[J]:null},removeApp:function Tt(Ke){delete nt[Ke]},useAsService:function wt(Ke,be){return"serverAuth"===be?null:be},modularAPIs:B}};function St(Ke){if(!(0,d.r3)(nt,Ke=Ke||B._DEFAULT_ENTRY_NAME))throw Fe.create("no-app",{appName:Ke});return nt[Ke]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function Le(){return Object.keys(nt).map(Ke=>nt[Ke])}}),St.App=Nt,Ve}(fe);return Nt.INTERNAL=Object.assign(Object.assign({},Nt.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function nt(Ve){(0,d.ZB)(Nt,Ve)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Nt}(),Z=new se.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Nt=self.firebase.SDK_VERSION;Nt&&Nt.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ut=Y;!function Oe(Nt){(0,B.registerVersion)("@firebase/app-compat","0.2.13",Nt)}()},594:($t,qe,W)=>{W.r(qe),W.d(qe,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>ei,_DEFAULT_ENTRY_NAME:()=>ne,_addComponent:()=>xe,_addOrOverwriteComponent:()=>Ce,_apps:()=>he,_clearComponents:()=>gt,_components:()=>pe,_getProvider:()=>Xt,_registerComponent:()=>ot,_removeServiceInstance:()=>Jn,deleteApp:()=>Fi,getApp:()=>En,getApps:()=>Bt,initializeApp:()=>Si,onLog:()=>oo,registerVersion:()=>bi,setLogLevel:()=>vs});var d=W(861),re=W(537),B=W(879),se=W(58),fe=W(878);class de{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map(ge=>{if(function Fe(_e){const G=_e.getComponent();return"VERSION"===G?.type}(ge)){const $e=ge.getImmediate();return`${$e.library}/${$e.version}`}return null}).filter(ge=>ge).join(" ")}}const He="@firebase/app",Y=new B.Yd("@firebase/app"),ne="[DEFAULT]",ue={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},he=new Map,pe=new Map;function xe(_e,G){try{_e.container.addComponent(G)}catch(ge){Y.debug(`Component ${G.name} failed to register with FirebaseApp ${_e.name}`,ge)}}function Ce(_e,G){_e.container.addOrOverwriteComponent(G)}function ot(_e){const G=_e.name;if(pe.has(G))return Y.debug(`There were multiple attempts to register component ${G}.`),!1;pe.set(G,_e);for(const ge of he.values())xe(ge,_e);return!0}function Xt(_e,G){const ge=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return ge&&ge.triggerHeartbeat(),_e.container.getProvider(G)}function Jn(_e,G,ge=ne){Xt(_e,G).clearInstance(ge)}function gt(){pe.clear()}const Zt=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Fn{constructor(G,ge,$e){this._isDeleted=!1,this._options=Object.assign({},G),this._config=Object.assign({},ge),this._name=ge.name,this._automaticDataCollectionEnabled=ge.automaticDataCollectionEnabled,this._container=$e,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this.checkDestroyed(),this._automaticDataCollectionEnabled=G}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(G){this._isDeleted=G}checkDestroyed(){if(this.isDeleted)throw Zt.create("app-deleted",{appName:this._name})}}const ei="9.23.0";function Si(_e,G={}){let ge=_e;"object"!=typeof G&&(G={name:G});const $e=Object.assign({name:ne,automaticDataCollectionEnabled:!1},G),Ye=$e.name;if("string"!=typeof Ye||!Ye)throw Zt.create("bad-app-name",{appName:String(Ye)});if(ge||(ge=(0,se.aH)()),!ge)throw Zt.create("no-options");const at=he.get(Ye);if(at){if((0,se.vZ)(ge,at.options)&&(0,se.vZ)($e,at.config))return at;throw Zt.create("duplicate-app",{appName:Ye})}const Cn=new re.H0(Ye);for(const U of pe.values())Cn.addComponent(U);const H=new Fn(ge,$e,Cn);return he.set(Ye,H),H}function En(_e=ne){const G=he.get(_e);if(!G&&_e===ne&&(0,se.aH)())return Si();if(!G)throw Zt.create("no-app",{appName:_e});return G}function Bt(){return Array.from(he.values())}function Fi(_e){return kn.apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(_e){const G=_e.name;he.has(G)&&(he.delete(G),yield Promise.all(_e.container.getProviders().map(ge=>ge.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function bi(_e,G,ge){var $e;let Ye=null!==($e=ue[_e])&&void 0!==$e?$e:_e;ge&&(Ye+=`-${ge}`);const at=Ye.match(/\s|\//),Cn=G.match(/\s|\//);if(at||Cn){const H=[`Unable to register library "${Ye}" with version "${G}":`];return at&&H.push(`library name "${Ye}" contains illegal characters (whitespace or "/")`),at&&Cn&&H.push("and"),Cn&&H.push(`version name "${G}" contains illegal characters (whitespace or "/")`),void Y.warn(H.join(" "))}ot(new re.wA(`${Ye}-version`,()=>({library:Ye,version:G}),"VERSION"))}function oo(_e,G){if(null!==_e&&"function"!=typeof _e)throw Zt.create("invalid-log-argument");(0,B.Am)(_e,G)}function vs(_e){(0,B.Ub)(_e)}const Qo="firebase-heartbeat-database",st=1,At="firebase-heartbeat-store";let Ft=null;function $r(){return Ft||(Ft=(0,fe.X3)(Qo,st,{upgrade:(_e,G)=>{0===G&&_e.createObjectStore(At)}}).catch(_e=>{throw Zt.create("idb-open",{originalErrorMessage:_e.message})})),Ft}function ze(){return(ze=(0,d.Z)(function*(_e){try{return yield(yield $r()).transaction(At).objectStore(At).get(Gr(_e))}catch(G){if(G instanceof se.ZR)Y.warn(G.message);else{const ge=Zt.create("idb-get",{originalErrorMessage:G?.message});Y.warn(ge.message)}}})).apply(this,arguments)}function Li(_e,G){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,d.Z)(function*(_e,G){try{const $e=(yield $r()).transaction(At,"readwrite");yield $e.objectStore(At).put(G,Gr(_e)),yield $e.done}catch(ge){if(ge instanceof se.ZR)Y.warn(ge.message);else{const $e=Zt.create("idb-set",{originalErrorMessage:ge?.message});Y.warn($e.message)}}})).apply(this,arguments)}function Gr(_e){return`${_e.name}!${_e.options.appId}`}class Yt{constructor(G){this.container=G,this._heartbeatsCache=null;const ge=this.container.getProvider("app").getImmediate();this._storage=new Dt(ge),this._heartbeatsCachePromise=this._storage.read().then($e=>(this._heartbeatsCache=$e,$e))}triggerHeartbeat(){var G=this;return(0,d.Z)(function*(){const $e=G.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ye=ar();if(null===G._heartbeatsCache&&(G._heartbeatsCache=yield G._heartbeatsCachePromise),G._heartbeatsCache.lastSentHeartbeatDate!==Ye&&!G._heartbeatsCache.heartbeats.some(at=>at.date===Ye))return G._heartbeatsCache.heartbeats.push({date:Ye,agent:$e}),G._heartbeatsCache.heartbeats=G._heartbeatsCache.heartbeats.filter(at=>{const Cn=new Date(at.date).valueOf();return Date.now()-Cn<=2592e6}),G._storage.overwrite(G._heartbeatsCache)})()}getHeartbeatsHeader(){var G=this;return(0,d.Z)(function*(){if(null===G._heartbeatsCache&&(yield G._heartbeatsCachePromise),null===G._heartbeatsCache||0===G._heartbeatsCache.heartbeats.length)return"";const ge=ar(),{heartbeatsToSend:$e,unsentEntries:Ye}=function Ao(_e,G=1024){const ge=[];let $e=_e.slice();for(const Ye of _e){const at=ge.find(Cn=>Cn.agent===Ye.agent);if(at){if(at.dates.push(Ye.date),Ot(ge)>G){at.dates.pop();break}}else if(ge.push({agent:Ye.agent,dates:[Ye.date]}),Ot(ge)>G){ge.pop();break}$e=$e.slice(1)}return{heartbeatsToSend:ge,unsentEntries:$e}}(G._heartbeatsCache.heartbeats),at=(0,se.L)(JSON.stringify({version:2,heartbeats:$e}));return G._heartbeatsCache.lastSentHeartbeatDate=ge,Ye.length>0?(G._heartbeatsCache.heartbeats=Ye,yield G._storage.overwrite(G._heartbeatsCache)):(G._heartbeatsCache.heartbeats=[],G._storage.overwrite(G._heartbeatsCache)),at})()}}function ar(){return(new Date).toISOString().substring(0,10)}class Dt{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var G=this;return(0,d.Z)(function*(){return(yield G._canUseIndexedDBPromise)&&(yield function Zn(_e){return ze.apply(this,arguments)}(G.app))||{heartbeats:[]}})()}overwrite(G){var ge=this;return(0,d.Z)(function*(){var $e;if(yield ge._canUseIndexedDBPromise){const at=yield ge.read();return Li(ge.app,{lastSentHeartbeatDate:null!==($e=G.lastSentHeartbeatDate)&&void 0!==$e?$e:at.lastSentHeartbeatDate,heartbeats:G.heartbeats})}})()}add(G){var ge=this;return(0,d.Z)(function*(){var $e;if(yield ge._canUseIndexedDBPromise){const at=yield ge.read();return Li(ge.app,{lastSentHeartbeatDate:null!==($e=G.lastSentHeartbeatDate)&&void 0!==$e?$e:at.lastSentHeartbeatDate,heartbeats:[...at.heartbeats,...G.heartbeats]})}})()}}function Ot(_e){return(0,se.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function Xo(_e){ot(new re.wA("platform-logger",G=>new de(G),"PRIVATE")),ot(new re.wA("heartbeat",G=>new Yt(G),"PRIVATE")),bi(He,"0.9.13",_e),bi(He,"0.9.13","esm2017"),bi("fire-js","")}("")},97:($t,qe,W)=>{W.d(qe,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=W(594);(0,d.registerVersion)("firebase","9.23.0","app")},120:($t,qe,W)=>{W.d(qe,{Z:()=>d.Z});var d=W(399);d.Z.registerVersion("firebase","9.23.0","app-compat")},977:($t,qe,W)=>{W.r(qe);var d=W(861),re=W(399),B=W(58),se=W(594),fe=W(582),de=W(879),Fe=W(537);const Ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const ut=function Xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Nt=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nt=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tt=new de.Yd("@firebase/auth");function vt(b,...g){Tt.logLevel<=de.in.ERROR&&Tt.error(`Auth (${se.SDK_VERSION}): ${b}`,...g)}function Le(b,...g){throw be(b,...g)}function it(b,...g){return be(b,...g)}function wt(b,g,_){const x=Object.assign(Object.assign({},Nt()),{[g]:_});return new B.LL("auth","Firebase",x).create(g,{appName:b.name})}function Ke(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Le(b,"argument-error"),wt(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function be(b,...g){if("string"!=typeof b){const _=g[0],x=[...g.slice(1)];return x[0]&&(x[0].appName=b.name),b._errorFactory.create(_,...x)}return nt.create(b,...g)}function J(b,g,..._){if(!b)throw be(g,..._)}function Ge(b){const g="INTERNAL ASSERTION FAILED: "+b;throw vt(g),new Error(g)}function Vt(b,g){b||Ge(g)}function un(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function qn(){return"http:"===Rn()||"https:"===Rn()}function Rn(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class pi{constructor(g,_){this.shortDelay=g,this.longDelay=_,Vt(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Pi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qn()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ne(b,g){Vt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class ue{static initialize(g,_,x){this.fetchImpl=g,_&&(this.headersImpl=_),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const he={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},pe=new pi(3e4,6e4);function xe(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function Ce(b,g,_,x){return ot.apply(this,arguments)}function ot(){return(ot=(0,d.Z)(function*(b,g,_,x,A={}){return Xt(b,A,(0,d.Z)(function*(){let N={},$={};x&&("GET"===g?$=x:N={body:JSON.stringify(x)});const te=(0,B.xO)(Object.assign({key:b.config.apiKey},$)).slice(1),ke=yield b._getAdditionalHeaders();return ke["Content-Type"]="application/json",b.languageCode&&(ke["X-Firebase-Locale"]=b.languageCode),ue.fetch()(Zt(b,b.config.apiHost,_,te),Object.assign({method:g,headers:ke,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Xt(b,g,_){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,d.Z)(function*(b,g,_){b._canInitEmulator=!1;const x=Object.assign(Object.assign({},he),g);try{const A=new Fn(b),N=yield Promise.race([_(),A.promise]);A.clearNetworkTimeout();const $=yield N.json();if("needConfirmation"in $)throw ei(b,"account-exists-with-different-credential",$);if(N.ok&&!("errorMessage"in $))return $;{const te=N.ok?$.errorMessage:$.error.message,[ke,Re]=te.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ke)throw ei(b,"credential-already-in-use",$);if("EMAIL_EXISTS"===ke)throw ei(b,"email-already-in-use",$);if("USER_DISABLED"===ke)throw ei(b,"user-disabled",$);const Je=x[ke]||ke.toLowerCase().replace(/[_\s]+/g,"-");if(Re)throw wt(b,Je,Re);Le(b,Je)}}catch(A){if(A instanceof B.ZR)throw A;Le(b,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function gt(b,g,_,x){return sn.apply(this,arguments)}function sn(){return(sn=(0,d.Z)(function*(b,g,_,x,A={}){const N=yield Ce(b,g,_,x,A);return"mfaPendingCredential"in N&&Le(b,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Zt(b,g,_,x){const A=`${g}${_}?${x}`;return b.config.emulator?ne(b.config,A):`${b.config.apiScheme}://${A}`}class Fn{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,x)=>{this.timer=setTimeout(()=>x(it(this.auth,"network-request-failed")),pe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ei(b,g,_){const x={appName:b.name};_.email&&(x.email=_.email),_.phoneNumber&&(x.phoneNumber=_.phoneNumber);const A=it(b,g,x);return A.customData._tokenResponse=_,A}function En(){return(En=(0,d.Z)(function*(b,g){return Ce(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Fi(){return(Fi=(0,d.Z)(function*(b,g){return Ce(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function bi(){return(bi=(0,d.Z)(function*(b,g){return Ce(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function oo(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function st(){return(st=(0,d.Z)(function*(b,g=!1){const _=(0,B.m9)(b),x=yield _.getIdToken(g),A=Ft(x);J(A&&A.exp&&A.auth_time&&A.iat,_.auth,"internal-error");const N="object"==typeof A.firebase?A.firebase:void 0,$=N?.sign_in_provider;return{claims:A,token:x,authTime:oo(At(A.auth_time)),issuedAtTime:oo(At(A.iat)),expirationTime:oo(At(A.exp)),signInProvider:$||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function At(b){return 1e3*Number(b)}function Ft(b){const[g,_,x]=b.split(".");if(void 0===g||void 0===_||void 0===x)return vt("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,B.tV)(_);return A?JSON.parse(A):(vt("Failed to decode base64 JWT payload"),null)}catch(A){return vt("Caught error parsing JWT payload as JSON",A?.toString()),null}}function Zn(b,g){return ze.apply(this,arguments)}function ze(){return(ze=(0,d.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(x){throw x instanceof B.ZR&&function Li({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(x)&&b.auth.currentUser===b&&(yield b.auth.signOut()),x}})).apply(this,arguments)}class Ln{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const A=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const x=this.getInterval(g);this.timerId=setTimeout((0,d.Z)(function*(){yield _.iteration()}),x)}iteration(){var g=this;return(0,d.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&g.schedule(!0))}g.schedule()})()}}class Gr{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=oo(this.lastLoginAt),this.creationTime=oo(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function an(b){return br.apply(this,arguments)}function br(){return br=(0,d.Z)(function*(b){var g;const _=b.auth,x=yield b.getIdToken(),A=yield Zn(b,function kn(b,g){return bi.apply(this,arguments)}(_,{idToken:x}));J(A?.users.length,_,"internal-error");const N=A.users[0];b._notifyReloadListener(N);const $=null!==(g=N.providerUserInfo)&&void 0!==g&&g.length?function Dt(b){return b.map(g=>{var{providerId:_}=g,x=(0,fe._T)(g,["providerId"]);return{providerId:_,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}(N.providerUserInfo):[],te=function Ao(b,g){return[...b.filter(x=>!g.some(A=>A.providerId===x.providerId)),...g]}(b.providerData,$),Je=!!b.isAnonymous&&!(b.email&&N.passwordHash||te?.length),rt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:te,metadata:new Gr(N.createdAt,N.lastLoginAt),isAnonymous:Je};Object.assign(b,rt)}),br.apply(this,arguments)}function ar(){return(ar=(0,d.Z)(function*(b){const g=(0,B.m9)(b);yield an(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Xo(){return(Xo=(0,d.Z)(function*(b,g){const _=yield Xt(b,{},(0,d.Z)(function*(){const x=(0,B.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:A,apiKey:N}=b.config,$=Zt(b,A,"/v1/token",`key=${N}`),te=yield b._getAdditionalHeaders();return te["Content-Type"]="application/x-www-form-urlencoded",ue.fetch()($,{method:"POST",headers:te,body:x})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class _e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){J(g.idToken,"internal-error"),J(typeof g.idToken<"u","internal-error"),J(typeof g.refreshToken<"u","internal-error");const _="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function $r(b){const g=Ft(b);return J(g,"internal-error"),J(typeof g.exp<"u","internal-error"),J(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var x=this;return(0,d.Z)(function*(){return J(!x.accessToken||x.refreshToken,g,"user-token-expired"),_||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(g,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var x=this;return(0,d.Z)(function*(){const{accessToken:A,refreshToken:N,expiresIn:$}=yield function Ot(b,g){return Xo.apply(this,arguments)}(g,_);x.updateTokensAndExpiration(A,N,Number($))})()}updateTokensAndExpiration(g,_,x){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(g,_){const{refreshToken:x,accessToken:A,expirationTime:N}=_,$=new _e;return x&&(J("string"==typeof x,"internal-error",{appName:g}),$.refreshToken=x),A&&(J("string"==typeof A,"internal-error",{appName:g}),$.accessToken=A),N&&(J("number"==typeof N,"internal-error",{appName:g}),$.expirationTime=N),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new _e,this.toJSON())}_performRefresh(){return Ge("not implemented")}}function G(b,g){J("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class ge{constructor(g){var{uid:_,auth:x,stsTokenManager:A}=g,N=(0,fe._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ln(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=x,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Gr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,d.Z)(function*(){const x=yield Zn(_,_.stsTokenManager.getToken(_.auth,g));return J(x,_.auth,"internal-error"),_.accessToken!==x&&(_.accessToken=x,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),x})()}getIdTokenResult(g){return function Qo(b){return st.apply(this,arguments)}(this,g)}reload(){return function Yt(b){return ar.apply(this,arguments)}(this)}_assign(g){this!==g&&(J(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const _=new ge(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(g){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var x=this;return(0,d.Z)(function*(){let A=!1;g.idToken&&g.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(g),A=!0),_&&(yield an(x)),yield x.auth._persistUserIfCurrent(x),A&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var g=this;return(0,d.Z)(function*(){const _=yield g.getIdToken();return yield Zn(g,function Si(b,g){return En.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var x,A,N,$,te,ke,Re,Je;const rt=null!==(x=_.displayName)&&void 0!==x?x:void 0,oi=null!==(A=_.email)&&void 0!==A?A:void 0,Xr=null!==(N=_.phoneNumber)&&void 0!==N?N:void 0,zm=null!==($=_.photoURL)&&void 0!==$?$:void 0,$m=null!==(te=_.tenantId)&&void 0!==te?te:void 0,$h=null!==(ke=_._redirectEventId)&&void 0!==ke?ke:void 0,f_=null!==(Re=_.createdAt)&&void 0!==Re?Re:void 0,Gm=null!==(Je=_.lastLoginAt)&&void 0!==Je?Je:void 0,{uid:qm,emailVerified:Gh,isAnonymous:Wm,providerData:Rc,stsTokenManager:fr}=_;J(qm&&fr,g,"internal-error");const Nc=_e.fromJSON(this.name,fr);J("string"==typeof qm,g,"internal-error"),G(rt,g.name),G(oi,g.name),J("boolean"==typeof Gh,g,"internal-error"),J("boolean"==typeof Wm,g,"internal-error"),G(Xr,g.name),G(zm,g.name),G($m,g.name),G($h,g.name),G(f_,g.name),G(Gm,g.name);const qh=new ge({uid:qm,auth:g,email:oi,emailVerified:Gh,displayName:rt,isAnonymous:Wm,photoURL:zm,phoneNumber:Xr,tenantId:$m,stsTokenManager:Nc,createdAt:f_,lastLoginAt:Gm});return Rc&&Array.isArray(Rc)&&(qh.providerData=Rc.map(Zm=>Object.assign({},Zm))),$h&&(qh._redirectEventId=$h),qh}static _fromIdTokenResponse(g,_,x=!1){return(0,d.Z)(function*(){const A=new _e;A.updateFromServerResponse(_);const N=new ge({uid:_.localId,auth:g,stsTokenManager:A,isAnonymous:x});return yield an(N),N})()}}const $e=new Map;function Ye(b){Vt(b instanceof Function,"Expected a class definition");let g=$e.get(b);return g?(Vt(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,$e.set(b,g),g)}const Cn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(_,x){var A=this;return(0,d.Z)(function*(){A.storage[_]=x})()}_get(_){var x=this;return(0,d.Z)(function*(){const A=x.storage[_];return void 0===A?null:A})()}_remove(_){var x=this;return(0,d.Z)(function*(){delete x.storage[_]})()}_addListener(_,x){}_removeListener(_,x){}}return b.type="NONE",b})();function H(b,g,_){return`firebase:${b}:${g}:${_}`}class U{constructor(g,_,x){this.persistence=g,this.auth=_,this.userKey=x;const{config:A,name:N}=this.auth;this.fullUserKey=H(this.userKey,A.apiKey,N),this.fullPersistenceKey=H("persistence",A.apiKey,N),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,d.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?ge._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,d.Z)(function*(){if(_.persistence===g)return;const x=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,x?_.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,x="authUser"){return(0,d.Z)(function*(){if(!_.length)return new U(Ye(Cn),g,x);const A=(yield Promise.all(_.map(function(){var Re=(0,d.Z)(function*(Je){if(yield Je._isAvailable())return Je});return function(Je){return Re.apply(this,arguments)}}()))).filter(Re=>Re);let N=A[0]||Ye(Cn);const $=H(x,g.config.apiKey,g.name);let te=null;for(const Re of _)try{const Je=yield Re._get($);if(Je){const rt=ge._fromJSON(g,Je);Re!==N&&(te=rt),N=Re;break}}catch{}const ke=A.filter(Re=>Re._shouldAllowMigration);return N._shouldAllowMigration&&ke.length?(N=ke[0],te&&(yield N._set($,te.toJSON())),yield Promise.all(_.map(function(){var Re=(0,d.Z)(function*(Je){if(Je!==N)try{yield Je._remove($)}catch{}});return function(Je){return Re.apply(this,arguments)}}())),new U(N,g,x)):new U(N,g,x)})()}}function Q(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Gt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Ie(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Sr(g))return"Blackberry";if(Zi(g))return"Webos";if(oe(g))return"Safari";if((g.includes("chrome/")||ht(g))&&!g.includes("edge/"))return"Chrome";if(hn(g))return"Android";{const x=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===x?.length)return x[1]}return"Other"}function Ie(b=(0,B.z$)()){return/firefox\//i.test(b)}function oe(b=(0,B.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function ht(b=(0,B.z$)()){return/crios\//i.test(b)}function Gt(b=(0,B.z$)()){return/iemobile/i.test(b)}function hn(b=(0,B.z$)()){return/android/i.test(b)}function Sr(b=(0,B.z$)()){return/blackberry/i.test(b)}function Zi(b=(0,B.z$)()){return/webos/i.test(b)}function cr(b=(0,B.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function hl(b=(0,B.z$)()){return cr(b)||hn(b)||Zi(b)||Sr(b)||/windows phone/i.test(b)||Gt(b)}function Vg(b,g=[]){let _;switch(b){case"Browser":_=Q((0,B.z$)());break;case"Worker":_=`${Q((0,B.z$)())}-${b}`;break;default:_=b}const x=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${se.SDK_VERSION}/${x}`}function ah(){return(ah=(0,d.Z)(function*(b){return(yield Ce(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fl(b,g){return js.apply(this,arguments)}function js(){return(js=(0,d.Z)(function*(b,g){return Ce(b,"GET","/v2/recaptchaConfig",xe(b,g))})).apply(this,arguments)}function ml(b){return void 0!==b&&void 0!==b.getResponse}function pl(b){return void 0!==b&&void 0!==b.enterprise}class ch{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function gl(b){return new Promise((g,_)=>{const x=document.createElement("script");x.setAttribute("src",b),x.onload=g,x.onerror=A=>{const N=it("internal-error");N.customData=A,_(N)},x.type="text/javascript",x.charset="UTF-8",function Rd(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(x)})}function _l(b){return`__${b}${Math.floor(1e6*Math.random())}`}class Nd{constructor(g){this.type="recaptcha-enterprise",this.auth=Jt(g)}verify(g="verify",_=!1){var x=this;return(0,d.Z)(function*(){function N(){return N=(0,d.Z)(function*(te){if(!_){if(null==te.tenantId&&null!=te._agentRecaptchaConfig)return te._agentRecaptchaConfig.siteKey;if(null!=te.tenantId&&void 0!==te._tenantRecaptchaConfigs[te.tenantId])return te._tenantRecaptchaConfigs[te.tenantId].siteKey}return new Promise(function(){var ke=(0,d.Z)(function*(Re,Je){fl(te,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rt=>{if(void 0!==rt.recaptchaKey){const oi=new ch(rt);return null==te.tenantId?te._agentRecaptchaConfig=oi:te._tenantRecaptchaConfigs[te.tenantId]=oi,Re(oi.siteKey)}Je(new Error("recaptcha Enterprise site key undefined"))}).catch(rt=>{Je(rt)})});return function(Re,Je){return ke.apply(this,arguments)}}())}),N.apply(this,arguments)}function $(te,ke,Re){const Je=window.grecaptcha;pl(Je)?Je.enterprise.ready(()=>{Je.enterprise.execute(te,{action:g}).then(rt=>{ke(rt)}).catch(()=>{ke("NO_RECAPTCHA")})}):Re(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((te,ke)=>{(function A(te){return N.apply(this,arguments)})(x.auth).then(Re=>{if(!_&&pl(window.grecaptcha))$(Re,te,ke);else{if(typeof window>"u")return void ke(new Error("RecaptchaVerifier is only supported in browser"));gl("https://www.google.com/recaptcha/enterprise.js?render="+Re).then(()=>{$(Re,te,ke)}).catch(Je=>{ke(Je)})}}).catch(Re=>{ke(Re)})})})()}}function so(b,g,_){return lr.apply(this,arguments)}function lr(){return(lr=(0,d.Z)(function*(b,g,_,x=!1){const A=new Nd(b);let N;try{N=yield A.verify(_)}catch{N=yield A.verify(_,!0)}const $=Object.assign({},g);return Object.assign($,x?{captchaResp:N}:{captchaResponse:N}),Object.assign($,{clientType:"CLIENT_TYPE_WEB"}),Object.assign($,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),$})).apply(this,arguments)}class Hs{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const x=N=>new Promise(($,te)=>{try{$(g(N))}catch(ke){te(ke)}});x.onAbort=_,this.queue.push(x);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,d.Z)(function*(){if(_.auth.currentUser===g)return;const x=[];try{for(const A of _.queue)yield A(g),A.onAbort&&x.push(A.onAbort)}catch(A){x.reverse();for(const N of x)try{N()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class Bg{constructor(g,_,x,A){this.app=g,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=x,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ao(this),this.idTokenSubscription=new ao(this),this.beforeStateQueue=new Hs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(g,_){var x=this;return _&&(this._popupRedirectResolver=Ye(_)),this._initializationPromise=this.queue((0,d.Z)(function*(){var A,N;if(!x._deleted&&(x.persistenceManager=yield U.create(x,g),!x._deleted)){if(null!==(A=x._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch{}yield x.initializeCurrentUser(_),x.lastNotifiedUid=(null===(N=x.currentUser)||void 0===N?void 0:N.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,d.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,d.Z)(function*(){var x;const A=yield _.assertedPersistence.getCurrentUser();let N=A,$=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const te=null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId,ke=N?._redirectEventId,Re=yield _.tryRedirectSignIn(g);(!te||te===ke)&&Re?.user&&(N=Re.user,$=!0)}if(!N)return _.directlySetCurrentUser(null);if(!N._redirectEventId){if($)try{yield _.beforeStateQueue.runMiddleware(N)}catch(te){N=A,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(te))}return N?_.reloadAndSetCurrentUserOrClear(N):_.directlySetCurrentUser(null)}return J(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===N._redirectEventId?_.directlySetCurrentUser(N):_.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(g){var _=this;return(0,d.Z)(function*(){let x=null;try{x=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch{yield _._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,d.Z)(function*(){try{yield an(g)}catch(x){if("auth/network-request-failed"!==x?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Wn(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,d.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,d.Z)(function*(){const x=g?(0,B.m9)(g):null;return x&&J(x.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(x&&x._clone(_))})()}_updateCurrentUser(g,_=!1){var x=this;return(0,d.Z)(function*(){if(!x._deleted)return g&&J(x.tenantId===g.tenantId,x,"tenant-id-mismatch"),_||(yield x.beforeStateQueue.runMiddleware(g)),x.queue((0,d.Z)(function*(){yield x.directlySetCurrentUser(g),x.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,d.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,d.Z)(function*(){yield _.assertedPersistence.setPersistence(Ye(g))}))}initializeRecaptchaConfig(){var g=this;return(0,d.Z)(function*(){const _=yield fl(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),x=new ch(_);null==g.tenantId?g._agentRecaptchaConfig=x:g._tenantRecaptchaConfigs[g.tenantId]=x,x.emailPasswordEnabled&&new Nd(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new B.LL("auth","Firebase",g())}onAuthStateChanged(g,_,x){return this.registerStateListener(this.authStateSubscription,g,_,x)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,x){return this.registerStateListener(this.idTokenSubscription,g,_,x)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var x=this;return(0,d.Z)(function*(){const A=yield x.getOrInitRedirectPersistenceManager(_);return null===g?A.removeCurrentUser():A.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,d.Z)(function*(){if(!_.redirectPersistenceManager){const x=g&&Ye(g)||_._popupRedirectResolver;J(x,_,"argument-error"),_.redirectPersistenceManager=yield U.create(_,[Ye(x._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,d.Z)(function*(){var x,A;return _._isInitialized&&(yield _.queue((0,d.Z)(function*(){}))),(null===(x=_._currentUser)||void 0===x?void 0:x._redirectEventId)===g?_._currentUser:(null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,d.Z)(function*(){if(g===_.currentUser)return _.queue((0,d.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,x,A){if(this._deleted)return()=>{};const N="function"==typeof _?_:_.next.bind(_),$=this._isInitialized?Promise.resolve():this._initializationPromise;return J($,this,"internal-error"),$.then(()=>N(this.currentUser)),"function"==typeof _?g.addObserver(_,x,A):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,d.Z)(function*(){_.currentUser&&_.currentUser!==g&&_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh(),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Vg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,d.Z)(function*(){var _;const x={"X-Client-Version":g.clientVersion};g.app.options.appId&&(x["X-Firebase-gmpid"]=g.app.options.appId);const A=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();A&&(x["X-Firebase-Client"]=A);const N=yield g._getAppCheckToken();return N&&(x["X-Firebase-AppCheck"]=N),x})()}_getAppCheckToken(){var g=this;return(0,d.Z)(function*(){var _;const x=yield null===(_=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return x?.error&&function St(b,...g){Tt.logLevel<=de.in.WARN&&Tt.warn(`Auth (${se.SDK_VERSION}): ${b}`,...g)}(`Error while retrieving App Check token: ${x.error}`),x?.token})()}}function Jt(b){return(0,B.m9)(b)}class ao{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zs(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function vl(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class Ea{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return Ge("not implemented")}_getIdTokenResponse(g){return Ge("not implemented")}_linkToIdToken(g,_){return Ge("not implemented")}_getReauthenticationResolver(g){return Ge("not implemented")}}function My(b,g){return yl.apply(this,arguments)}function yl(){return(yl=(0,d.Z)(function*(b,g){return Ce(b,"POST","/v1/accounts:resetPassword",xe(b,g))})).apply(this,arguments)}function rm(b,g){return om.apply(this,arguments)}function om(){return(om=(0,d.Z)(function*(b,g){return Ce(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ec(){return(ec=(0,d.Z)(function*(b,g){return Ce(b,"POST","/v1/accounts:update",xe(b,g))})).apply(this,arguments)}function Nn(b,g){return tc.apply(this,arguments)}function tc(){return(tc=(0,d.Z)(function*(b,g){return gt(b,"POST","/v1/accounts:signInWithPassword",xe(b,g))})).apply(this,arguments)}function Pd(b,g){return dh.apply(this,arguments)}function dh(){return(dh=(0,d.Z)(function*(b,g){return Ce(b,"POST","/v1/accounts:sendOobCode",xe(b,g))})).apply(this,arguments)}function Ca(){return(Ca=(0,d.Z)(function*(b,g){return Pd(b,g)})).apply(this,arguments)}function Jo(b,g){return am.apply(this,arguments)}function am(){return(am=(0,d.Z)(function*(b,g){return Pd(b,g)})).apply(this,arguments)}function es(b,g){return bl.apply(this,arguments)}function bl(){return(bl=(0,d.Z)(function*(b,g){return Pd(b,g)})).apply(this,arguments)}function Fd(){return(Fd=(0,d.Z)(function*(b,g){return Pd(b,g)})).apply(this,arguments)}function nc(){return(nc=(0,d.Z)(function*(b,g){return gt(b,"POST","/v1/accounts:signInWithEmailLink",xe(b,g))})).apply(this,arguments)}function ic(){return(ic=(0,d.Z)(function*(b,g){return gt(b,"POST","/v1/accounts:signInWithEmailLink",xe(b,g))})).apply(this,arguments)}class Ld extends Ea{constructor(g,_,x,A=null){super("password",x),this._email=g,this._password=_,this._tenantId=A}static _fromEmailAndPassword(g,_){return new Ld(g,_,"password")}static _fromEmailAndCode(g,_,x=null){return new Ld(g,_,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,d.Z)(function*(){var x;switch(_.signInMethod){case"password":const A={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(x=g._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const N=yield so(g,A,"signInWithPassword");return Nn(g,N)}return Nn(g,A).catch(function(){var N=(0,d.Z)(function*($){if("auth/missing-recaptcha-token"===$.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const te=yield so(g,A,"signInWithPassword");return Nn(g,te)}return Promise.reject($)});return function($){return N.apply(this,arguments)}}());case"emailLink":return function rn(b,g){return nc.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Le(g,"internal-error")}})()}_linkToIdToken(g,_){var x=this;return(0,d.Z)(function*(){switch(x.signInMethod){case"password":return rm(g,{idToken:_,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function cm(b,g){return ic.apply(this,arguments)}(g,{idToken:_,email:x._email,oobCode:x._password});default:Le(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function co(b,g){return lm.apply(this,arguments)}function lm(){return(lm=(0,d.Z)(function*(b,g){return gt(b,"POST","/v1/accounts:signInWithIdp",xe(b,g))})).apply(this,arguments)}class Ar extends Ea{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Ar(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Le("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:A}=_,N=(0,fe._T)(_,["providerId","signInMethod"]);if(!x||!A)return null;const $=new Ar(x,A);return $.idToken=N.idToken||void 0,$.accessToken=N.accessToken||void 0,$.secret=N.secret,$.nonce=N.nonce,$.pendingToken=N.pendingToken||null,$}_getIdTokenResponse(g){return co(g,this.buildRequest())}_linkToIdToken(g,_){const x=this.buildRequest();return x.idToken=_,co(g,x)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,co(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,B.xO)(_)}return g}}function lo(){return(lo=(0,d.Z)(function*(b,g){return Ce(b,"POST","/v1/accounts:sendVerificationCode",xe(b,g))})).apply(this,arguments)}function rc(){return(rc=(0,d.Z)(function*(b,g){return gt(b,"POST","/v1/accounts:signInWithPhoneNumber",xe(b,g))})).apply(this,arguments)}function uh(){return(uh=(0,d.Z)(function*(b,g){const _=yield gt(b,"POST","/v1/accounts:signInWithPhoneNumber",xe(b,g));if(_.temporaryProof)throw ei(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const jg={USER_NOT_FOUND:"user-not-found"};function Gs(){return(Gs=(0,d.Z)(function*(b,g){return gt(b,"POST","/v1/accounts:signInWithPhoneNumber",xe(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),jg)})).apply(this,arguments)}class kr extends Ea{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new kr({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new kr({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function wn(b,g){return rc.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function wl(b,g){return uh.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function qr(b,g){return Gs.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:x,verificationCode:A}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:x,code:A}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:x,phoneNumber:A,temporaryProof:N}=g;return x||_||A||N?new kr({verificationId:_,verificationCode:x,phoneNumber:A,temporaryProof:N}):null}}class oc{constructor(g){var _,x,A,N,$,te;const ke=(0,B.zd)((0,B.pd)(g)),Re=null!==(_=ke.apiKey)&&void 0!==_?_:null,Je=null!==(x=ke.oobCode)&&void 0!==x?x:null,rt=function Hg(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=ke.mode)&&void 0!==A?A:null);J(Re&&Je&&rt,"argument-error"),this.apiKey=Re,this.operation=rt,this.code=Je,this.continueUrl=null!==(N=ke.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==($=ke.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(te=ke.tenantId)&&void 0!==te?te:null}static parseLink(g){const _=function dm(b){const g=(0,B.zd)((0,B.pd)(b)).link,_=g?(0,B.zd)((0,B.pd)(g)).deep_link_id:null,x=(0,B.zd)((0,B.pd)(b)).deep_link_id;return(x?(0,B.zd)((0,B.pd)(x)).link:null)||x||_||g||b}(g);try{return new oc(_)}catch{return null}}}let uo=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,x){return Ld._fromEmailAndPassword(_,x)}static credentialWithLink(_,x){const A=oc.parseLink(x);return J(A,"argument-error"),Ld._fromEmailAndCode(_,A.code,A.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class qs{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class xl extends qs{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ws extends xl{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return J("providerId"in _&&"signInMethod"in _,"argument-error"),Ar._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return J(g.idToken||g.accessToken,"argument-error"),Ar._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ws.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ws.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:x,oauthTokenSecret:A,pendingToken:N,nonce:$,providerId:te}=g;if(!x&&!A&&!_&&!N||!te)return null;try{return new Ws(te)._credential({idToken:_,accessToken:x,nonce:$,pendingToken:N})}catch{return null}}}let um=(()=>{class b extends xl{constructor(){super("facebook.com")}static credential(_){return Ar._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Vd=(()=>{class b extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(_,x){return Ar._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:x})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:x,oauthAccessToken:A}=_;if(!x&&!A)return null;try{return b.credential(x,A)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),hm=(()=>{class b extends xl{constructor(){super("github.com")}static credential(_){return Ar._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class sc extends Ea{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return co(g,this.buildRequest())}_linkToIdToken(g,_){const x=this.buildRequest();return x.idToken=_,co(g,x)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,co(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:x,signInMethod:A,pendingToken:N}=_;return x&&A&&N&&x===A?new sc(x,N):null}static _create(g,_){return new sc(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mh extends qs{constructor(g){J(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return mh.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return mh.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=sc.fromJSON(g);return J(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:x}=g;if(!_||!x)return null;try{return sc._create(x,_)}catch{return null}}}let Ud=(()=>{class b extends xl{constructor(){super("twitter.com")}static credential(_,x){return Ar._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:x})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:x,oauthTokenSecret:A}=_;if(!x||!A)return null;try{return b.credential(x,A)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ac(b,g){return jd.apply(this,arguments)}function jd(){return(jd=(0,d.Z)(function*(b,g){return gt(b,"POST","/v1/accounts:signUp",xe(b,g))})).apply(this,arguments)}class Ai{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,x,A=!1){return(0,d.Z)(function*(){const N=yield ge._fromIdTokenResponse(g,x,A),$=El(x);return new Ai({user:N,providerId:$,_tokenResponse:x,operationType:_})})()}static _forOperation(g,_,x){return(0,d.Z)(function*(){yield g._updateTokensIfNecessary(x,!0);const A=El(x);return new Ai({user:g,providerId:A,_tokenResponse:x,operationType:_})})()}}function El(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Hd(){return(Hd=(0,d.Z)(function*(b){var g;const _=Jt(b);if(yield _._initializationPromise,null!==(g=_.currentUser)&&void 0!==g&&g.isAnonymous)return new Ai({user:_.currentUser,providerId:null,operationType:"signIn"});const x=yield ac(_,{returnSecureToken:!0}),A=yield Ai._fromIdTokenResponse(_,"signIn",x,!0);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class Ht extends B.ZR{constructor(g,_,x,A){var N;super(_.code,_.message),this.operationType=x,this.user=A,Object.setPrototypeOf(this,Ht.prototype),this.customData={appName:g.name,tenantId:null!==(N=g.tenantId)&&void 0!==N?N:void 0,_serverResponse:_.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(g,_,x,A){return new Ht(g,_,x,A)}}function ki(b,g,_,x){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?Ht._fromErrorAndOperation(b,N,g,x):N})}function Ki(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function jn(){return jn=(0,d.Z)(function*(b,g){const _=(0,B.m9)(b);yield Ks(!0,_,g);const{providerUserInfo:x}=yield function Bt(b,g){return Fi.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),A=Ki(x||[]);return _.providerData=_.providerData.filter(N=>A.has(N.providerId)),A.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),jn.apply(this,arguments)}function cc(b,g){return zd.apply(this,arguments)}function zd(){return(zd=(0,d.Z)(function*(b,g,_=!1){const x=yield Zn(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return Ai._forOperation(b,"link",x)})).apply(this,arguments)}function Ks(b,g,_){return ph.apply(this,arguments)}function ph(){return(ph=(0,d.Z)(function*(b,g,_){yield an(g);const A=!1===b?"provider-already-linked":"no-such-provider";J(Ki(g.providerData).has(_)===b,g.auth,A)})).apply(this,arguments)}function fm(b,g){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,d.Z)(function*(b,g,_=!1){const{auth:x}=b,A="reauthenticate";try{const N=yield Zn(b,ki(x,A,g,b),_);J(N.idToken,x,"internal-error");const $=Ft(N.idToken);J($,x,"internal-error");const{sub:te}=$;return J(b.uid===te,x,"user-mismatch"),Ai._forOperation(b,A,N)}catch(N){throw"auth/user-not-found"===N?.code&&Le(x,"user-mismatch"),N}})).apply(this,arguments)}function Ue(b,g){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,d.Z)(function*(b,g,_=!1){const x="signIn",A=yield ki(b,x,g),N=yield Ai._fromIdTokenResponse(b,x,A);return _||(yield b._updateCurrentUser(N.user)),N})).apply(this,arguments)}function ti(b,g){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,d.Z)(function*(b,g){return Ue(Jt(b),g)})).apply(this,arguments)}function Yi(b,g){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,d.Z)(function*(b,g){const _=(0,B.m9)(b);return yield Ks(!1,_,g.providerId),cc(_,g)})).apply(this,arguments)}function lc(b,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(b,g){return fm((0,B.m9)(b),g)})).apply(this,arguments)}function ko(){return(ko=(0,d.Z)(function*(b,g){return gt(b,"POST","/v1/accounts:signInWithCustomToken",xe(b,g))})).apply(this,arguments)}function Nr(){return Nr=(0,d.Z)(function*(b,g){const _=Jt(b),x=yield function Rr(b,g){return ko.apply(this,arguments)}(_,{token:g,returnSecureToken:!0}),A=yield Ai._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(A.user),A}),Nr.apply(this,arguments)}class Cl{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?bs._fromServerResponse(g,_):"totpInfo"in _?ni._fromServerResponse(g,_):Le(g,"internal-error")}}class bs extends Cl{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new bs(_)}}class ni extends Cl{constructor(g){super("totp",g)}static _fromServerResponse(g,_){return new ni(_)}}function Mo(b,g,_){var x;J((null===(x=_.url)||void 0===x?void 0:x.length)>0,b,"invalid-continue-uri"),J(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(J(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(J(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Zr(){return Zr=(0,d.Z)(function*(b,g,_){var x;const A=Jt(b),N={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(x=A._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const $=yield so(A,N,"getOobCode",!0);_&&Mo(A,$,_),yield Jo(A,$)}else _&&Mo(A,N,_),yield Jo(A,N).catch(function(){var $=(0,d.Z)(function*(te){if("auth/missing-recaptcha-token"!==te.code)return Promise.reject(te);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const ke=yield so(A,N,"getOobCode",!0);_&&Mo(A,ke,_),yield Jo(A,ke)}});return function(te){return $.apply(this,arguments)}}())}),Zr.apply(this,arguments)}function Tl(){return(Tl=(0,d.Z)(function*(b,g,_){yield My((0,B.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function ho(){return ho=(0,d.Z)(function*(b,g){yield function lh(b,g){return ec.apply(this,arguments)}((0,B.m9)(b),{oobCode:g})}),ho.apply(this,arguments)}function fo(b,g){return It.apply(this,arguments)}function It(){return(It=(0,d.Z)(function*(b,g){const _=(0,B.m9)(b),x=yield My(_,{oobCode:g}),A=x.requestType;switch(J(A,_,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(x.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(x.mfaInfo,_,"internal-error");default:J(x.email,_,"internal-error")}let N=null;return x.mfaInfo&&(N=Cl._fromServerResponse(Jt(_),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:N},operation:A}})).apply(this,arguments)}function Qs(){return(Qs=(0,d.Z)(function*(b,g){const{data:_}=yield fo((0,B.m9)(b),g);return _.email})).apply(this,arguments)}function ws(){return ws=(0,d.Z)(function*(b,g,_){var x;const A=Jt(b),N={returnSecureToken:!0,email:g,password:_,clientType:"CLIENT_TYPE_WEB"};let $;if(null!==(x=A._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const Re=yield so(A,N,"signUpPassword");$=ac(A,Re)}else $=ac(A,N).catch(function(){var Re=(0,d.Z)(function*(Je){if("auth/missing-recaptcha-token"===Je.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const rt=yield so(A,N,"signUpPassword");return ac(A,rt)}return Promise.reject(Je)});return function(Je){return Re.apply(this,arguments)}}());const te=yield $.catch(Re=>Promise.reject(Re)),ke=yield Ai._fromIdTokenResponse(A,"signIn",te);return yield A._updateCurrentUser(ke.user),ke}),ws.apply(this,arguments)}function Ia(){return Ia=(0,d.Z)(function*(b,g,_){var x;const A=Jt(b),N={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function $(te,ke){J(ke.handleCodeInApp,A,"argument-error"),ke&&Mo(A,te,ke)}if(null!==(x=A._getRecaptchaConfig())&&void 0!==x&&x.emailPasswordEnabled){const te=yield so(A,N,"getOobCode",!0);$(te,_),yield es(A,te)}else $(N,_),yield es(A,N).catch(function(){var te=(0,d.Z)(function*(ke){if("auth/missing-recaptcha-token"!==ke.code)return Promise.reject(ke);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Re=yield so(A,N,"getOobCode",!0);$(Re,_),yield es(A,Re)}});return function(ke){return te.apply(this,arguments)}}())}),Ia.apply(this,arguments)}function Gd(){return(Gd=(0,d.Z)(function*(b,g,_){const x=(0,B.m9)(b),A=uo.credentialWithLink(g,_||un());return J(A._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),ti(x,A)})).apply(this,arguments)}function Sl(){return(Sl=(0,d.Z)(function*(b,g){return Ce(b,"POST","/v1/accounts:createAuthUri",xe(b,g))})).apply(this,arguments)}function Al(){return Al=(0,d.Z)(function*(b,g){const x={identifier:g,continueUri:qn()?un():"http://localhost"},{signinMethods:A}=yield function Xs(b,g){return Sl.apply(this,arguments)}((0,B.m9)(b),x);return A||[]}),Al.apply(this,arguments)}function qd(){return qd=(0,d.Z)(function*(b,g){const _=(0,B.m9)(b),A={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&Mo(_.auth,A,g);const{email:N}=yield function sm(b,g){return Ca.apply(this,arguments)}(_.auth,A);N!==b.email&&(yield b.reload())}),qd.apply(this,arguments)}function dc(){return dc=(0,d.Z)(function*(b,g,_){const x=(0,B.m9)(b),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&Mo(x.auth,N,_);const{email:$}=yield function dr(b,g){return Fd.apply(this,arguments)}(x.auth,N);$!==b.email&&(yield b.reload())}),dc.apply(this,arguments)}function Wd(){return(Wd=(0,d.Z)(function*(b,g){return Ce(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function vh(){return vh=(0,d.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const x=(0,B.m9)(b),N={idToken:yield x.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},$=yield Zn(x,function $g(b,g){return Wd.apply(this,arguments)}(x.auth,N));x.displayName=$.displayName||null,x.photoURL=$.photoUrl||null;const te=x.providerData.find(({providerId:ke})=>"password"===ke);te&&(te.displayName=x.displayName,te.photoURL=x.photoURL),yield x._updateTokensIfNecessary($)}),vh.apply(this,arguments)}function Ny(b,g,_){return yh.apply(this,arguments)}function yh(){return(yh=(0,d.Z)(function*(b,g,_){const{auth:x}=b,N={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(N.email=g),_&&(N.password=_);const $=yield Zn(b,rm(x,N));yield b._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class uc{constructor(g,_,x={}){this.isNewUser=g,this.providerId=_,this.profile=x}}class Zd extends uc{constructor(g,_,x,A){super(g,_,x),this.username=A}}class qg extends uc{constructor(g,_){super(g,"facebook.com",_)}}class Py extends Zd{constructor(g,_){super(g,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class bh extends uc{constructor(g,_){super(g,"google.com",_)}}class hc extends Zd{constructor(g,_,x){super(g,"twitter.com",_,x)}}function mm(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Oy(b){var g,_;if(!b)return null;const{providerId:x}=b,A=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},N=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!x&&b?.idToken){const $=null===(_=null===(g=Ft(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if($)return new uc(N,"anonymous"!==$&&"custom"!==$?$:null)}if(!x)return null;switch(x){case"facebook.com":return new qg(N,A);case"github.com":return new Py(N,A);case"google.com":return new bh(N,A);case"twitter.com":return new hc(N,A,b.screenName||null);case"custom":case"anonymous":return new uc(N,null);default:return new uc(N,x,A)}}(_)}class Es{constructor(g,_,x){this.type=g,this.credential=_,this.auth=x}static _fromIdtoken(g,_){return new Es("enroll",g,_)}static _fromMfaPendingCredential(g){return new Es("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,x;if(g?.multiFactorSession){if(null!==(_=g.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Es._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(x=g.multiFactorSession)&&void 0!==x&&x.idToken)return Es._fromIdtoken(g.multiFactorSession.idToken)}return null}}class fc{constructor(g,_,x){this.session=g,this.hints=_,this.signInResolver=x}static _fromError(g,_){const x=Jt(g),A=_.customData._serverResponse,N=(A.mfaInfo||[]).map(te=>Cl._fromServerResponse(x,te));J(A.mfaPendingCredential,x,"internal-error");const $=Es._fromMfaPendingCredential(A.mfaPendingCredential);return new fc($,N,function(){var te=(0,d.Z)(function*(ke){const Re=yield ke._process(x,$);delete A.mfaInfo,delete A.mfaPendingCredential;const Je=Object.assign(Object.assign({},A),{idToken:Re.idToken,refreshToken:Re.refreshToken});switch(_.operationType){case"signIn":const rt=yield Ai._fromIdTokenResponse(x,_.operationType,Je);return yield x._updateCurrentUser(rt.user),rt;case"reauthenticate":return J(_.user,x,"internal-error"),Ai._forOperation(_.user,_.operationType,Je);default:Le(x,"internal-error")}});return function(ke){return te.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,d.Z)(function*(){return _.signInResolver(g)})()}}class Js{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(x=>Cl._fromServerResponse(g.auth,x)))})}static _fromUser(g){return new Js(g)}getSession(){var g=this;return(0,d.Z)(function*(){return Es._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,_){var x=this;return(0,d.Z)(function*(){const A=g,N=yield x.getSession(),$=yield Zn(x.user,A._process(x.user.auth,N,_));return yield x.user._updateTokensIfNecessary($),x.user.reload()})()}unenroll(g){var _=this;return(0,d.Z)(function*(){const x="string"==typeof g?g:g.uid,A=yield _.user.getIdToken();try{const N=yield Zn(_.user,function wh(b,g){return Ce(b,"POST","/v2/accounts/mfaEnrollment:withdraw",xe(b,g))}(_.user.auth,{idToken:A,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:$})=>$!==x),yield _.user._updateTokensIfNecessary(N),yield _.user.reload()}catch(N){throw N}})()}}const mc=new WeakMap,On="__sak";class Nl{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(On,"1"),this.storage.removeItem(On),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const po=(()=>{class b extends Nl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,x)=>this.onStorageEvent(_,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ol(){const b=(0,B.z$)();return oe(b)||cr(b)}()&&function nm(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=hl(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const x of Object.keys(this.listeners)){const A=this.storage.getItem(x),N=this.localCache[x];A!==N&&_(x,N,A)}}onStorageEvent(_,x=!1){if(!_.key)return void this.forAllChangedKeys((te,ke,Re)=>{this.notifyListeners(te,Re)});const A=_.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const te=this.storage.getItem(A);if(_.newValue!==te)null!==_.newValue?this.storage.setItem(A,_.newValue):this.storage.removeItem(A);else if(this.localCache[A]===_.newValue&&!x)return}const N=()=>{const te=this.storage.getItem(A);!x&&this.localCache[A]===te||this.notifyListeners(A,te)},$=this.storage.getItem(A);!function xa(){return(0,B.w1)()&&10===document.documentMode}()||$===_.newValue||_.newValue===_.oldValue?N():setTimeout(N,10)}notifyListeners(_,x){this.localCache[_]=x;const A=this.listeners[_];if(A)for(const N of Array.from(A))N(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,x,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:x,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,x){var A=()=>super._set,N=this;return(0,d.Z)(function*(){yield A().call(N,_,x),N.localCache[_]=JSON.stringify(x)})()}_get(_){var x=()=>super._get,A=this;return(0,d.Z)(function*(){const N=yield x().call(A,_);return A.localCache[_]=JSON.stringify(N),N})()}_remove(_){var x=()=>super._remove,A=this;return(0,d.Z)(function*(){yield x().call(A,_),delete A.localCache[_]})()}}return b.type="LOCAL",b})(),Da=(()=>{class b extends Nl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,x){}_removeListener(_,x){}}return b.type="SESSION",b})();let bm=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const x=this.receivers.find(N=>N.isListeningto(_));if(x)return x;const A=new b(_);return this.receivers.push(A),A}isListeningto(_){return this.eventTarget===_}handleEvent(_){var x=this;return(0,d.Z)(function*(){const A=_,{eventId:N,eventType:$,data:te}=A.data,ke=x.handlersMap[$];if(!ke?.size)return;A.ports[0].postMessage({status:"ack",eventId:N,eventType:$});const Re=Array.from(ke).map(function(){var rt=(0,d.Z)(function*(oi){return oi(A.origin,te)});return function(oi){return rt.apply(this,arguments)}}()),Je=yield function ym(b){return Promise.all(b.map(function(){var g=(0,d.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(x){return{fulfilled:!1,reason:x}}});return function(_){return g.apply(this,arguments)}}()))}(Re);A.ports[0].postMessage({status:"done",eventId:N,eventType:$,response:Je})})()}_subscribe(_,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(x)}_unsubscribe(_,x){this.handlersMap[_]&&x&&this.handlersMap[_].delete(x),(!x||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function _o(b="",g=10){let _="";for(let x=0;x<g;x++)_+=Math.floor(10*Math.random());return b+_}class wm{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,x=50){var A=this;return(0,d.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let $,te;return new Promise((ke,Re)=>{const Je=_o("",20);N.port1.start();const rt=setTimeout(()=>{Re(new Error("unsupported_event"))},x);te={messageChannel:N,onMessage(oi){const Xr=oi;if(Xr.data.eventId===Je)switch(Xr.data.status){case"ack":clearTimeout(rt),$=setTimeout(()=>{Re(new Error("timeout"))},3e3);break;case"done":clearTimeout($),ke(Xr.data.response);break;default:clearTimeout(rt),clearTimeout($),Re(new Error("invalid_response"))}}},A.handlers.add(te),N.port1.addEventListener("message",te.onMessage),A.target.postMessage({eventType:g,eventId:Je,data:_},[N.port2])}).finally(()=>{te&&A.removeMessageHandler(te)})})()}}function ci(){return window}function Xd(){return typeof ci().WorkerGlobalScope<"u"&&"function"==typeof ci().importScripts}function ea(){return(ea=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Cs="firebaseLocalStorageDb",gc="firebaseLocalStorage",Qg="fbase_key";class Pl{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Eh(b,g){return b.transaction([gc],g?"readwrite":"readonly").objectStore(gc)}function Fl(){const b=indexedDB.open(Cs,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const x=b.result;try{x.createObjectStore(gc,{keyPath:Qg})}catch(A){_(A)}}),b.addEventListener("success",(0,d.Z)(function*(){const x=b.result;x.objectStoreNames.contains(gc)?g(x):(x.close(),yield function Xg(){const b=indexedDB.deleteDatabase(Cs);return new Pl(b).toPromise()}(),g(yield Fl()))}))})}function ts(b,g,_){return ns.apply(this,arguments)}function ns(){return(ns=(0,d.Z)(function*(b,g,_){const x=Eh(b,!0).put({[Qg]:g,value:_});return new Pl(x).toPromise()})).apply(this,arguments)}function Ih(){return(Ih=(0,d.Z)(function*(b,g){const _=Eh(b,!1).get(g),x=yield new Pl(_).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function Jd(b,g){const _=Eh(b,!0).delete(g);return new Pl(_).toPromise()}const _c=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.Z)(function*(){return _.db||(_.db=yield Fl()),_.db})()}_withRetries(_){var x=this;return(0,d.Z)(function*(){let A=0;for(;;)try{const N=yield x._openDb();return yield _(N)}catch(N){if(A++>3)throw N;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.Z)(function*(){return Xd()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.Z)(function*(){_.receiver=bm._getInstance(function wi(){return Xd()?self:null}()),_.receiver._subscribe("keyChanged",function(){var x=(0,d.Z)(function*(A,N){return{keyProcessed:(yield _._poll()).includes(N.key)}});return function(A,N){return x.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var x=(0,d.Z)(function*(A,N){return["keyChanged"]});return function(A,N){return x.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.Z)(function*(){var x,A;if(_.activeServiceWorker=yield function xh(){return ea.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new wm(_.activeServiceWorker);const N=yield _.sender._send("ping",{},800);N&&null!==(x=N[0])&&void 0!==x&&x.fulfilled&&null!==(A=N[0])&&void 0!==A&&A.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var x=this;return(0,d.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function pc(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:_},x.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Fl();return yield ts(_,On,"1"),yield Jd(_,On),!0}catch{}return!1})()}_withPendingWrite(_){var x=this;return(0,d.Z)(function*(){x.pendingWrites++;try{yield _()}finally{x.pendingWrites--}})()}_set(_,x){var A=this;return(0,d.Z)(function*(){return A._withPendingWrite((0,d.Z)(function*(){return yield A._withRetries(N=>ts(N,_,x)),A.localCache[_]=x,A.notifyServiceWorker(_)}))})()}_get(_){var x=this;return(0,d.Z)(function*(){const A=yield x._withRetries(N=>function Ch(b,g){return Ih.apply(this,arguments)}(N,_));return x.localCache[_]=A,A})()}_remove(_){var x=this;return(0,d.Z)(function*(){return x._withPendingWrite((0,d.Z)(function*(){return yield x._withRetries(A=>Jd(A,_)),delete x.localCache[_],x.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.Z)(function*(){const x=yield _._withRetries($=>{const te=Eh($,!1).getAll();return new Pl(te).toPromise()});if(!x)return[];if(0!==_.pendingWrites)return[];const A=[],N=new Set;for(const{fbase_key:$,value:te}of x)N.add($),JSON.stringify(_.localCache[$])!==JSON.stringify(te)&&(_.notifyListeners($,te),A.push($));for(const $ of Object.keys(_.localCache))_.localCache[$]&&!N.has($)&&(_.notifyListeners($,null),A.push($));return A})()}notifyListeners(_,x){this.localCache[_]=x;const A=this.listeners[_];if(A)for(const N of Array.from(A))N(x)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Sa=1e12;class Dh{constructor(g){this.auth=g,this.counter=Sa,this._widgets=new Map}render(g,_){const x=this.counter;return this._widgets.set(x,new Ll(g,this.auth.name,_||{})),this.counter++,x}reset(g){var _;const x=g||Sa;null===(_=this._widgets.get(x))||void 0===_||_.delete(),this._widgets.delete(x)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Sa))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,d.Z)(function*(){var x;return null===(x=_._widgets.get(g||Sa))||void 0===x||x.execute(),""})()}}class Ll{constructor(g,_,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof g?document.getElementById(g):g;J(A,"argument-error",{appName:_}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Fy(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<b;x++)g.push(_.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vl=_l("rcb"),ur=new pi(3e4,6e4);class e_{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ci().grecaptcha)||void 0===g||!g.render)}load(g,_=""){return J(function No(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),g,"argument-error"),this.shouldResolveImmediately(_)&&ml(ci().grecaptcha)?Promise.resolve(ci().grecaptcha):new Promise((x,A)=>{const N=ci().setTimeout(()=>{A(it(g,"network-request-failed"))},ur.get());ci()[Vl]=()=>{ci().clearTimeout(N),delete ci()[Vl];const te=ci().grecaptcha;if(!te||!ml(te))return void A(it(g,"internal-error"));const ke=te.render;te.render=(Re,Je)=>{const rt=ke(Re,Je);return this.counter++,rt},this.hostLanguage=_,x(te)},gl(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Vl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(N),A(it(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var _;return!(null===(_=ci().grecaptcha)||void 0===_||!_.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ta{load(g){return(0,d.Z)(function*(){return new Dh(g)})()}clearedOneInstance(){}}const Sh="recaptcha",t_={theme:"light",type:"image"};class Cm{constructor(g,_=Object.assign({},t_),x){this.parameters=_,this.type=Sh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Jt(x),this.isInvisible="invisible"===this.parameters.size,J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof g?document.getElementById(g):g;J(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ta:new e_,this.validateStartingState()}verify(){var g=this;return(0,d.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),x=g.getAssertedRecaptcha();return x.getResponse(_)||new Promise(N=>{const $=te=>{te&&(g.tokenChangeListeners.delete($),N(te))};g.tokenChangeListeners.add($),g.isInvisible&&x.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(x=>x(_)),"function"==typeof g)g(_);else if("string"==typeof g){const x=ci()[g];"function"==typeof x&&x(_)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,d.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const x=document.createElement("div");_.appendChild(x),_=x}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,d.Z)(function*(){J(qn()&&!Xd(),g.auth,"internal-error"),yield function zn(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function Dn(b){return ah.apply(this,arguments)}(g.auth);J(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gi{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=kr._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Oo(){return(Oo=(0,d.Z)(function*(b,g,_){const x=Jt(b),A=yield ka(x,g,(0,B.m9)(_));return new gi(A,N=>ti(x,N))})).apply(this,arguments)}function yc(){return(yc=(0,d.Z)(function*(b,g,_){const x=(0,B.m9)(b);yield Ks(!1,x,"phone");const A=yield ka(x.auth,g,(0,B.m9)(_));return new gi(A,N=>Yi(x,N))})).apply(this,arguments)}function Aa(){return(Aa=(0,d.Z)(function*(b,g,_){const x=(0,B.m9)(b),A=yield ka(x.auth,g,(0,B.m9)(_));return new gi(A,N=>lc(x,N))})).apply(this,arguments)}function ka(b,g,_){return Ul.apply(this,arguments)}function Ul(){return Ul=(0,d.Z)(function*(b,g,_){var x;const A=yield _.verify();try{let N;if(J("string"==typeof A,b,"argument-error"),J(_.type===Sh,b,"argument-error"),N="string"==typeof g?{phoneNumber:g}:g,"session"in N){const $=N.session;if("phoneNumber"in N)return J("enroll"===$.type,b,"internal-error"),(yield function Rl(b,g){return Ce(b,"POST","/v2/accounts/mfaEnrollment:start",xe(b,g))}(b,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{J("signin"===$.type,b,"internal-error");const te=(null===(x=N.multiFactorHint)||void 0===x?void 0:x.uid)||N.multiFactorUid;return J(te,b,"missing-multi-factor-info"),(yield function Th(b,g){return Ce(b,"POST","/v2/accounts/mfaSignIn:start",xe(b,g))}(b,{mfaPendingCredential:$.credential,mfaEnrollmentId:te,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield function $s(b,g){return lo.apply(this,arguments)}(b,{phoneNumber:N.phoneNumber,recaptchaToken:A});return $}}finally{_._reset()}}),Ul.apply(this,arguments)}function jl(){return(jl=(0,d.Z)(function*(b,g){yield cc((0,B.m9)(b),g)})).apply(this,arguments)}let rs=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Jt(_)}verifyPhoneNumber(_,x){return ka(this.auth,_,(0,B.m9)(x))}static credential(_,x){return kr._fromVerification(_,x)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:x,temporaryProof:A}=_;return x&&A?kr._fromTokenResponse(x,A):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function na(b,g){return g?Ye(g):(J(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Pn extends Ea{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return co(g,this._buildIdpRequest())}_linkToIdToken(g,_){return co(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return co(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function ia(b){return Ue(b.auth,new Pn(b),b.bypassAuthState)}function en(b){const{auth:g,user:_}=b;return J(_,g,"internal-error"),fm(_,new Pn(b),b.bypassAuthState)}function Hl(b){return nu.apply(this,arguments)}function nu(){return(nu=(0,d.Z)(function*(b){const{auth:g,user:_}=b;return J(_,g,"internal-error"),cc(_,new Pn(b),b.bypassAuthState)})).apply(this,arguments)}class iu{constructor(g,_,x,A,N=!1){this.auth=g,this.resolver=x,this.user=A,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,d.Z)(function*(x,A){g.pendingPromise={resolve:x,reject:A};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(N){g.reject(N)}});return function(x,A){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,d.Z)(function*(){const{urlResponse:x,sessionId:A,postBody:N,tenantId:$,error:te,type:ke}=g;if(te)return void _.reject(te);const Re={auth:_.auth,requestUri:x,sessionId:A,tenantId:$||void 0,postBody:N||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ke)(Re))}catch(Je){_.reject(Je)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return ia;case"linkViaPopup":case"linkViaRedirect":return Hl;case"reauthViaPopup":case"reauthViaRedirect":return en;default:Le(this.auth,"internal-error")}}resolve(g){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const os=new pi(2e3,1e4);function kh(){return(kh=(0,d.Z)(function*(b,g,_){const x=Jt(b);Ke(b,g,qs);const A=na(x,_);return new wc(x,"signInViaPopup",g,A).executeNotNull()})).apply(this,arguments)}function xr(){return(xr=(0,d.Z)(function*(b,g,_){const x=(0,B.m9)(b);Ke(x.auth,g,qs);const A=na(x.auth,_);return new wc(x.auth,"reauthViaPopup",g,A,x).executeNotNull()})).apply(this,arguments)}function bc(){return(bc=(0,d.Z)(function*(b,g,_){const x=(0,B.m9)(b);Ke(x.auth,g,qs);const A=na(x.auth,_);return new wc(x.auth,"linkViaPopup",g,A,x).executeNotNull()})).apply(this,arguments)}let wc=(()=>{class b extends iu{constructor(_,x,A,N,$){super(_,x,N,$),this.provider=A,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.Z)(function*(){const x=yield _.execute();return J(x,_.auth,"internal-error"),x})()}onExecution(){var _=this;return(0,d.Z)(function*(){Vt(1===_.filter.length,"Popup operations only handle one event");const x=_o();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],x),_.authWindow.associatedEvent=x,_.resolver._originValidation(_.auth).catch(A=>{_.reject(A)}),_.resolver._isIframeWebStorageSupported(_.auth,A=>{A||_.reject(it(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(it(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var x,A;this.pollId=null!==(A=null===(x=this.authWindow)||void 0===x?void 0:x.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(it(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,os.get())};_()}}return b.currentPopupAction=null,b})();const xc="pendingRedirect",Po=new Map;class n_ extends iu{constructor(g,_,x=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,x),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,d.Z)(function*(){let x=Po.get(_.auth._key());if(!x){try{const N=(yield function $l(b,g){return Im.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;x=()=>Promise.resolve(N)}catch(A){x=()=>Promise.reject(A)}Po.set(_.auth._key(),x)}return _.bypassAuthState||Po.set(_.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,x=this;return(0,d.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(x,g);if("unknown"!==g.type){if(g.eventId){const A=yield x.auth._redirectUserForId(g.eventId);if(A)return x.user=A,_().call(x,g);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Im(){return(Im=(0,d.Z)(function*(b,g){const _=Na(g),x=Mh(b);if(!(yield x._isAvailable()))return!1;const A="true"===(yield x._get(_));return yield x._remove(_),A})).apply(this,arguments)}function Ma(b,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,d.Z)(function*(b,g){return Mh(b)._set(Na(g),"true")})).apply(this,arguments)}function Ra(b,g){Po.set(b._key(),g)}function Mh(b){return Ye(b._redirectPersistence)}function Na(b){return H(xc,b.config.apiKey,b.name)}function Tm(b,g,_){return function mt(b,g,_){return Or.apply(this,arguments)}(b,g,_)}function Or(){return(Or=(0,d.Z)(function*(b,g,_){const x=Jt(b);Ke(b,g,qs),yield x._initializationPromise;const A=na(x,_);return yield Ma(A,x),A._openRedirect(x,g,"signInViaRedirect")})).apply(this,arguments)}function Rh(b,g,_){return function Gl(b,g,_){return Nh.apply(this,arguments)}(b,g,_)}function Nh(){return(Nh=(0,d.Z)(function*(b,g,_){const x=(0,B.m9)(b);Ke(x.auth,g,qs),yield x.auth._initializationPromise;const A=na(x.auth,_);yield Ma(A,x.auth);const N=yield Pr(x);return A._openRedirect(x.auth,g,"reauthViaRedirect",N)})).apply(this,arguments)}function ql(b,g,_){return function Oh(b,g,_){return Ec.apply(this,arguments)}(b,g,_)}function Ec(){return(Ec=(0,d.Z)(function*(b,g,_){const x=(0,B.m9)(b);Ke(x.auth,g,qs),yield x.auth._initializationPromise;const A=na(x.auth,_);yield Ks(!1,x,g.providerId),yield Ma(A,x.auth);const N=yield Pr(x);return A._openRedirect(x.auth,g,"linkViaRedirect",N)})).apply(this,arguments)}function dt(){return(dt=(0,d.Z)(function*(b,g){return yield Jt(b)._initializationPromise,Wl(b,g,!1)})).apply(this,arguments)}function Wl(b,g){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,d.Z)(function*(b,g,_=!1){const x=Jt(b),A=na(x,g),$=yield new n_(x,A,_).execute();return $&&!_&&(delete $.user._redirectEventId,yield x._persistUserIfCurrent($.user),yield x._setRedirectUser(null,g)),$})).apply(this,arguments)}function Pr(b){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,d.Z)(function*(b){const g=_o(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Ts{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(g,x)&&(_=!0,this.sendToConsumer(g,x),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Kl(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ra(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var x;if(g.error&&!ra(g)){const A=(null===(x=g.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";_.onError(it(this.auth,A))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const x=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&x}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zl(g))}saveEventToCache(g){this.cachedEventUids.add(Zl(g)),this.lastProcessedEventTime=Date.now()}}function Zl(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function ra({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function su(b){return li.apply(this,arguments)}function li(){return(li=(0,d.Z)(function*(b,g={}){return Ce(b,"GET","/v1/projects",g)})).apply(this,arguments)}const i_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qi=/^https?/;function oa(){return(oa=(0,d.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield su(b);for(const _ of g)try{if(sa(_))return}catch{}Le(b,"unauthorized-domain")})).apply(this,arguments)}function sa(b){const g=un(),{protocol:_,hostname:x}=new URL(g);if(b.startsWith("chrome-extension://")){const $=new URL(b);return""===$.hostname&&""===x?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&$.hostname===x}if(!Qi.test(_))return!1;if(i_.test(b))return x===b;const A=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(x)}const aa=new pi(3e4,6e4);function Dm(){const b=ci().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Er=null;const Tc=new pi(5e3,15e3),Kn="__/auth/iframe",au="emulator/auth/iframe",Fh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function di(b){const g=b.config;J(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?ne(g,au):`https://${b.config.authDomain}/${Kn}`,x={apiKey:g.apiKey,appName:b.name,v:se.SDK_VERSION},A=Mn.get(b.config.apiHost);A&&(x.eid=A);const N=b._getFrameworks();return N.length&&(x.fw=N.join(",")),`${_}?${(0,B.xO)(x).slice(1)}`}function T(){return T=(0,d.Z)(function*(b){const g=yield function Fo(b){return Er=Er||function Fr(b){return new Promise((g,_)=>{var x,A,N;function $(){Dm(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Dm(),_(it(b,"network-request-failed"))},timeout:aa.get()})}if(null!==(A=null===(x=ci().gapi)||void 0===x?void 0:x.iframes)&&void 0!==A&&A.Iframe)g(gapi.iframes.getContext());else{if(null===(N=ci().gapi)||void 0===N||!N.load){const te=_l("iframefcb");return ci()[te]=()=>{gapi.load?$():_(it(b,"network-request-failed"))},gl(`https://apis.google.com/js/api.js?onload=${te}`).catch(ke=>_(ke))}$()}}).catch(g=>{throw Er=null,g})}(b),Er}(b),_=ci().gapi;return J(_,b,"internal-error"),g.open({where:document.body,url:di(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fh,dontclear:!0},x=>new Promise(function(){var A=(0,d.Z)(function*(N,$){yield x.restyle({setHideOnLeave:!1});const te=it(b,"network-request-failed"),ke=ci().setTimeout(()=>{$(te)},Tc.get());function Re(){ci().clearTimeout(ke),N(x)}x.ping(Re).then(Re,()=>{$(te)})});return function(N,$){return A.apply(this,arguments)}}()))}),T.apply(this,arguments)}const k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class je{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ut="__/auth/handler",Mt="emulator/auth/handler",Yr=encodeURIComponent("fac");function Bi(b,g,_,x,A,N){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,d.Z)(function*(b,g,_,x,A,N){J(b.config.authDomain,b,"auth-domain-config-required"),J(b.config.apiKey,b,"invalid-api-key");const $={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:x,v:se.SDK_VERSION,eventId:A};if(g instanceof qs){g.setDefaultLanguage(b.languageCode),$.providerId=g.providerId||"",(0,B.xb)(g.getCustomParameters())||($.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Je,rt]of Object.entries(N||{}))$[Je]=rt}if(g instanceof xl){const Je=g.getScopes().filter(rt=>""!==rt);Je.length>0&&($.scopes=Je.join(","))}b.tenantId&&($.tid=b.tenantId);const te=$;for(const Je of Object.keys(te))void 0===te[Je]&&delete te[Je];const ke=yield b._getAppCheckToken(),Re=ke?`#${Yr}=${encodeURIComponent(ke)}`:"";return`${function Pa({config:b}){return b.emulator?ne(b,Mt):`https://${b.authDomain}/${Ut}`}(b)}?${(0,B.xO)(te).slice(1)}${Re}`})).apply(this,arguments)}const Qr="webStorageSupport",Rt=class Mi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Da,this._completeRedirectFn=Wl,this._overrideRedirectResult=Ra}_openPopup(g,_,x,A){var N=this;return(0,d.Z)(function*(){var $;Vt(null===($=N.eventManagers[g._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const te=yield Bi(g,_,x,un(),A);return function Me(b,g,_,x=500,A=600){const N=Math.max((window.screen.availHeight-A)/2,0).toString(),$=Math.max((window.screen.availWidth-x)/2,0).toString();let te="";const ke=Object.assign(Object.assign({},k),{width:x.toString(),height:A.toString(),top:N,left:$}),Re=(0,B.z$)().toLowerCase();_&&(te=ht(Re)?"_blank":_),Ie(Re)&&(g=g||"http://localhost",ke.scrollbars="yes");const Je=Object.entries(ke).reduce((oi,[Xr,zm])=>`${oi}${Xr}=${zm},`,"");if(function pt(b=(0,B.z$)()){var g;return cr(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Re)&&"_self"!==te)return function et(b,g){const _=document.createElement("a");_.href=b,_.target=g;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(x)}(g||"",te),new je(null);const rt=window.open(g||"",te,Je);J(rt,b,"popup-blocked");try{rt.focus()}catch{}return new je(rt)}(g,te,_o())})()}_openRedirect(g,_,x,A){var N=this;return(0,d.Z)(function*(){return yield N._originValidation(g),function xm(b){ci().location.href=b}(yield Bi(g,_,x,un(),A)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:A,promise:N}=this.eventManagers[_];return A?Promise.resolve(A):(Vt(N,"If manager is not set, promise should be"),N)}const x=this.initAndGetManager(g);return this.eventManagers[_]={promise:x},x.catch(()=>{delete this.eventManagers[_]}),x}initAndGetManager(g){var _=this;return(0,d.Z)(function*(){const x=yield function I(b){return T.apply(this,arguments)}(g),A=new Ts(g);return x.register("authEvent",N=>(J(N?.authEvent,g,"invalid-auth-event"),{status:A.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:A},_.iframes[g._key()]=x,A})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Qr,{type:Qr},A=>{var N;const $=null===(N=A?.[0])||void 0===N?void 0:N[Qr];void 0!==$&&_(!!$),Le(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Oa(b){return oa.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return hl()||oe()||cr()}};class ii{constructor(g){this.factorId=g}_process(g,_,x){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,x);case"signin":return this._finalizeSignIn(g,_.credential);default:return Ge("unexpected MultiFactorSessionType")}}}class r_ extends ii{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new r_(g)}_finalizeEnroll(g,_,x){return function Kg(b,g){return Ce(b,"POST","/v2/accounts/mfaEnrollment:finalize",xe(b,g))}(g,{idToken:_,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Vn(b,g){return Ce(b,"POST","/v2/accounts/mfaSignIn:finalize",xe(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ca=(()=>{class b{constructor(){}static assertion(_){return r_._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var cu="@firebase/auth";class o_{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,d.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(x=>{g(x?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);_&&(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ds(){return window}(0,B.Pz)("authIdTokenMaxAge"),function s_(b){(0,se._registerComponent)(new Fe.wA("auth",(g,{options:_})=>{const x=g.getProvider("app").getImmediate(),A=g.getProvider("heartbeat"),N=g.getProvider("app-check-internal"),{apiKey:$,authDomain:te}=x.options;J($&&!$.includes(":"),"invalid-api-key",{appName:x.name});const ke={apiKey:$,authDomain:te,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vg(b)},Re=new Bg(x,A,N,ke);return function cn(b,g){const _=g?.persistence||[],x=(Array.isArray(_)?_:[_]).map(Ye);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(x,g?.popupRedirectResolver)}(Re,_),Re},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,x)=>{g.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new Fe.wA("auth-internal",g=>{const _=Jt(g.getProvider("auth").getImmediate());return new o_(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(cu,"0.23.2",function cx(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,se.registerVersion)(cu,"0.23.2","esm2017")}("Browser");function Jl(){return Jl=(0,d.Z)(function*(b,g,_){var x;const{BuildInfo:A}=Ds();Vt(g.sessionId,"AuthEvent did not contain a session ID");const N=yield function ed(b){return td.apply(this,arguments)}(g.sessionId),$={};return cr()?$.ibi=A.packageName:hn()?$.apn=A.packageName:Le(b,"operation-not-supported-in-this-environment"),A.displayName&&($.appDisplayName=A.displayName),$.sessionId=N,Bi(b,_,g.type,void 0,null!==(x=g.eventId)&&void 0!==x?x:void 0,$)}),Jl.apply(this,arguments)}function Fa(){return(Fa=(0,d.Z)(function*(b){const{BuildInfo:g}=Ds(),_={};cr()?_.iosBundleId=g.packageName:hn()?_.androidPackageName=g.packageName:Le(b,"operation-not-supported-in-this-environment"),yield su(b,_)})).apply(this,arguments)}function Sc(){return(Sc=(0,d.Z)(function*(b,g,_){const{cordova:x}=Ds();let A=()=>{};try{yield new Promise((N,$)=>{let te=null;function ke(){var rt;N();const oi=null===(rt=x.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof oi&&oi(),"function"==typeof _?.close&&_.close()}function Re(){te||(te=window.setTimeout(()=>{$(it(b,"redirect-cancelled-by-user"))},2e3))}function Je(){"visible"===document?.visibilityState&&Re()}g.addPassiveListener(ke),document.addEventListener("resume",Re,!1),hn()&&document.addEventListener("visibilitychange",Je,!1),A=()=>{g.removePassiveListener(ke),document.removeEventListener("resume",Re,!1),document.removeEventListener("visibilitychange",Je,!1),te&&window.clearTimeout(te)}})}finally{A()}})).apply(this,arguments)}function td(){return(td=(0,d.Z)(function*(b){const g=function Lh(b){if(Vt(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const g=new ArrayBuffer(b.length),_=new Uint8Array(g);for(let x=0;x<b.length;x++)_[x]=b.charCodeAt(x);return _}(b),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Vy extends Ts{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,d.Z)(function*(){yield g.initPromise})()}}function km(b){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,d.Z)(function*(b){const g=yield id()._get(Bh(b));return g&&(yield id()._remove(Bh(b))),g})).apply(this,arguments)}function du(){const b=[];for(let _=0;_<20;_++){const x=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(x))}return b.join("")}function id(){return Ye(po)}function Bh(b){return H("authEvent",b.config.apiKey,b.name)}function Rm(b){if(!b?.includes("?"))return{};const[g,..._]=b.split("?");return(0,B.zd)(_.join("?"))}const mx=class fx{constructor(){this._redirectPersistence=Da,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wl,this._overrideRedirectResult=Ra}_initialize(g){var _=this;return(0,d.Z)(function*(){const x=g._key();let A=_.eventManagers.get(x);return A||(A=new Vy(g),_.eventManagers.set(x,A),_.attachCallbackListeners(g,A)),A})()}_openPopup(g){Le(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,x,A){var N=this;return(0,d.Z)(function*(){!function ux(b){var g,_,x,A,N,$,te,ke,Re,Je;const rt=Ds();J("function"==typeof(null===(g=rt?.universalLinks)||void 0===g?void 0:g.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(typeof(null===(_=rt?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J("function"==typeof(null===(N=null===(A=null===(x=rt?.cordova)||void 0===x?void 0:x.plugins)||void 0===A?void 0:A.browsertab)||void 0===N?void 0:N.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(ke=null===(te=null===($=rt?.cordova)||void 0===$?void 0:$.plugins)||void 0===te?void 0:te.browsertab)||void 0===ke?void 0:ke.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(Je=null===(Re=rt?.cordova)||void 0===Re?void 0:Re.InAppBrowser)||void 0===Je?void 0:Je.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const $=yield N._initialize(g);yield $.initialized(),$.resetRedirect(),function Ly(){Po.clear()}(),yield N._originValidation(g);const te=function Vh(b,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:du(),postBody:null,tenantId:b.tenantId,error:it(b,"no-auth-event")}}(g,x,A);yield function nd(b,g){return id()._set(Bh(b),g)}(g,te);const ke=yield function $n(b,g,_){return Jl.apply(this,arguments)}(g,te,_),Re=yield function dx(b){const{cordova:g}=Ds();return new Promise(_=>{g.plugins.browsertab.isAvailable(x=>{let A=null;x?g.plugins.browsertab.openUrl(b):A=g.InAppBrowser.open(b,function jt(b=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(A)})})}(ke);return function Dc(b,g,_){return Sc.apply(this,arguments)}(g,$,Re)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function lx(b){return Fa.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:x,handleOpenURL:A,BuildInfo:N}=Ds(),$=setTimeout((0,d.Z)(function*(){yield km(g),_.onEvent(Uy())}),500),te=function(){var Je=(0,d.Z)(function*(rt){clearTimeout($);const oi=yield km(g);let Xr=null;oi&&rt?.url&&(Xr=function hx(b,g){var _,x;const A=function By(b){const g=Rm(b),_=g.link?decodeURIComponent(g.link):void 0,x=Rm(_).link,A=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Rm(A).link||A||x||_||b}(g);if(A.includes("/__/auth/callback")){const N=Rm(A),$=N.firebaseError?function KT(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,te=null===(x=null===(_=$?.code)||void 0===_?void 0:_.split("auth/"))||void 0===x?void 0:x[1],ke=te?it(te):null;return ke?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:A,postBody:null}}return null}(oi,rt.url)),_.onEvent(Xr||Uy())});return function(oi){return Je.apply(this,arguments)}}();typeof x<"u"&&"function"==typeof x.subscribe&&x.subscribe(null,te);const ke=A,Re=`${N.packageName.toLowerCase()}://`;Ds().handleOpenURL=function(){var Je=(0,d.Z)(function*(rt){if(rt.toLowerCase().startsWith(Re)&&te({url:rt}),"function"==typeof ke)try{ke(rt)}catch(oi){console.error(oi)}});return function(rt){return Je.apply(this,arguments)}}()}};function Uy(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:it("no-auth-event")}}function kc(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function Nm(b=(0,B.z$)()){return!("file:"!==kc()&&"ionic:"!==kc()&&"capacitor:"!==kc()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function l_(){try{const b=self.localStorage,g=_o();if(b)return b.setItem(g,"1"),b.removeItem(g),!function Om(b=(0,B.z$)()){return function Mc(){return(0,B.w1)()&&11===document?.documentMode}()||function Hy(b=(0,B.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,B.hl)()}catch{return jh()&&(0,B.hl)()}return!1}function jh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rd(){return(function jy(){return"http:"===kc()||"https:"===kc()}()||(0,B.ru)()||Nm())&&!function Uh(){return(0,B.b$)()||(0,B.UG)()}()&&l_()&&!jh()}function d_(){return Nm()&&typeof document<"u"}function u_(){return(u_=(0,d.Z)(function*(){return!!d_()&&new Promise(b=>{const g=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),b(!0)})})})).apply(this,arguments)}const Ui={LOCAL:"local",NONE:"none",SESSION:"session"},Hh=J,uu="persistence";function Lo(b){return La.apply(this,arguments)}function La(){return(La=(0,d.Z)(function*(b){yield b._initializationPromise;const g=Ss(),_=H(uu,b.config.apiKey,b.name);g&&g.setItem(_,b._getPersistence())})).apply(this,arguments)}function Ss(){var b;try{return(null===(b=function Pm(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const Lm=J;class hr{constructor(){this.browserResolver=Ye(Rt),this.cordovaResolver=Ye(mx),this.underlyingResolver=null,this._redirectPersistence=Da,this._completeRedirectFn=Wl,this._overrideRedirectResult=Ra}_initialize(g){var _=this;return(0,d.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,x,A){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(g,_,x,A)})()}_openRedirect(g,_,x,A){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(g,_,x,A)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return d_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Lm(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,d.Z)(function*(){if(g.underlyingResolver)return;const _=yield function od(){return u_.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function as(b){return b.unwrap()}function Vm(b){return Bm(b)}function Bm(b){const{_tokenResponse:g}=b instanceof B.ZR?b.customData:b;if(!g)return null;if(!(b instanceof B.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return rs.credentialFromResult(b);const _=g.providerId;if(!_||_===Ee.PASSWORD)return null;let x;switch(_){case Ee.GOOGLE:x=Vd;break;case Ee.FACEBOOK:x=um;break;case Ee.GITHUB:x=hm;break;case Ee.TWITTER:x=Ud;break;default:const{oauthIdToken:A,oauthAccessToken:N,oauthTokenSecret:$,pendingToken:te,nonce:ke}=g;return N||$||A||te?te?_.startsWith("saml.")?sc._create(_,te):Ar._fromParams({providerId:_,signInMethod:_,pendingToken:te,idToken:A,accessToken:N}):new Ws(_).credential({idToken:A,accessToken:N,rawNonce:ke}):null}return b instanceof B.ZR?x.credentialFromError(b):x.credentialFromResult(b)}function yo(b,g){return g.catch(_=>{throw _ instanceof B.ZR&&function zy(b,g){var _;const x=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g?.code)g.resolver=new px(b,function _m(b,g){var _;const x=(0,B.m9)(b),A=g;return J(g.customData.operationType,x,"argument-error"),J(null===(_=A.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,x,"argument-error"),fc._fromError(x,A)}(b,g));else if(x){const A=Bm(g),N=g;A&&(N.credential=A,N.tenantId=x.tenantId||void 0,N.email=x.email||void 0,N.phoneNumber=x.phoneNumber||void 0)}}(b,_),_}).then(_=>{const A=_.user;return{operationType:_.operationType,credential:Vm(_),additionalUserInfo:mm(_),user:Va.getOrCreate(A)}})}function zh(b,g){return Um.apply(this,arguments)}function Um(){return(Um=(0,d.Z)(function*(b,g){const _=yield g;return{verificationId:_.verificationId,confirm:x=>yo(b,_.confirm(x))}})).apply(this,arguments)}class px{constructor(g,_){this.resolver=_,this.auth=function hu(b){return b.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return yo(as(this.auth),this.resolver.resolveSignIn(g))}}class Va{constructor(g){this._delegate=g,this.multiFactor=function Yg(b){const g=(0,B.m9)(b);return mc.has(g)||mc.set(g,Js._fromUser(g)),mc.get(g)}(g)}static getOrCreate(g){return Va.USER_MAP.has(g)||Va.USER_MAP.set(g,new Va(g)),Va.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,d.Z)(function*(){return yo(_.auth,Yi(_._delegate,g))})()}linkWithPhoneNumber(g,_){var x=this;return(0,d.Z)(function*(){return zh(x.auth,function eu(b,g,_){return yc.apply(this,arguments)}(x._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,d.Z)(function*(){return yo(_.auth,function ou(b,g,_){return bc.apply(this,arguments)}(_._delegate,g,hr))})()}linkWithRedirect(g){var _=this;return(0,d.Z)(function*(){return yield Lo(Jt(_.auth)),ql(_._delegate,g,hr)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,d.Z)(function*(){return yo(_.auth,lc(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return zh(this.auth,function Bl(b,g,_){return Aa.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return yo(this.auth,function ru(b,g,_){return xr.apply(this,arguments)}(this._delegate,g,hr))}reauthenticateWithRedirect(g){var _=this;return(0,d.Z)(function*(){return yield Lo(Jt(_.auth)),Rh(_._delegate,g,hr)})()}sendEmailVerification(g){return function _h(b,g){return qd.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,d.Z)(function*(){return yield function Zs(b,g){return jn.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function Ry(b,g){return Ny((0,B.m9)(b),g,null)}(this._delegate,g)}updatePassword(g){return function Gg(b,g){return Ny((0,B.m9)(b),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function tu(b,g){return jl.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function ox(b,g){return vh.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function kl(b,g,_){return dc.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Va.USER_MAP=new WeakMap;const fu=J;let $y=(()=>{class b{constructor(_,x){if(this.app=_,x.isInitialized())return this._delegate=x.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=_.options;fu(A,"invalid-api-key",{appName:_.name}),fu(A,"invalid-api-key",{appName:_.name});const N=typeof window<"u"?hr:void 0;this._delegate=x.initialize({options:{persistence:gx(A,_.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(ut),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Va.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,x){!function Od(b,g,_){const x=Jt(b);J(x._canInitEmulator,x,"emulator-config-failed"),J(/^https?:\/\//.test(g),x,"invalid-emulator-scheme");const A=!!_?.disableWarnings,N=zs(g),{host:$,port:te}=function Ja(b){const g=zs(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const x=_[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(x);if(A){const N=A[1];return{host:N,port:vl(x.substr(N.length+1))}}{const[N,$]=x.split(":");return{host:N,port:vl($)}}}(g);x.config.emulator={url:`${N}//${$}${null===te?"":`:${te}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:$,port:te,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Ug(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,_,x)}applyActionCode(_){return function Ys(b,g){return ho.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return fo(this._delegate,_)}confirmPasswordReset(_,x){return function $d(b,g,_){return Tl.apply(this,arguments)}(this._delegate,_,x)}createUserWithEmailAndPassword(_,x){var A=this;return(0,d.Z)(function*(){return yo(A._delegate,function Kr(b,g,_){return ws.apply(this,arguments)}(A._delegate,_,x))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function mo(b,g){return Al.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function wr(b,g){const _=oc.parseLink(g);return"EMAIL_SIGNIN"===_?.operation}(0,_)}getRedirectResult(){var _=this;return(0,d.Z)(function*(){fu(rd(),_._delegate,"operation-not-supported-in-this-environment");const x=yield function Cc(b,g){return dt.apply(this,arguments)}(_._delegate,hr);return x?yo(_._delegate,Promise.resolve(x)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Ac(b,g){Jt(b)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,x,A){const{next:N,error:$,complete:te}=h_(_,x,A);return this._delegate.onAuthStateChanged(N,$,te)}onIdTokenChanged(_,x,A){const{next:N,error:$,complete:te}=h_(_,x,A);return this._delegate.onIdTokenChanged(N,$,te)}sendSignInLinkToEmail(_,x){return function ai(b,g,_){return Ia.apply(this,arguments)}(this._delegate,_,x)}sendPasswordResetEmail(_,x){return function Il(b,g,_){return Zr.apply(this,arguments)}(this._delegate,_,x||void 0)}setPersistence(_){var x=this;return(0,d.Z)(function*(){let A;switch(function Fm(b,g){Hh(Object.values(Ui).includes(g),b,"invalid-persistence-type"),(0,B.b$)()?Hh(g!==Ui.SESSION,b,"unsupported-persistence-type"):(0,B.UG)()?Hh(g===Ui.NONE,b,"unsupported-persistence-type"):jh()?Hh(g===Ui.NONE||g===Ui.LOCAL&&(0,B.hl)(),b,"unsupported-persistence-type"):Hh(g===Ui.NONE||l_(),b,"unsupported-persistence-type")}(x._delegate,_),_){case Ui.SESSION:A=Da;break;case Ui.LOCAL:A=(yield Ye(_c)._isAvailable())?_c:po;break;case Ui.NONE:A=Cn;break;default:return Le("argument-error",{appName:x._delegate.name})}return x._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return yo(this._delegate,function zg(b){return Hd.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return yo(this._delegate,ti(this._delegate,_))}signInWithCustomToken(_){return yo(this._delegate,function Lt(b,g){return Nr.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,x){return yo(this._delegate,function Dl(b,g,_){return ti((0,B.m9)(b),uo.credential(g,_))}(this._delegate,_,x))}signInWithEmailLink(_,x){return yo(this._delegate,function In(b,g,_){return Gd.apply(this,arguments)}(this._delegate,_,x))}signInWithPhoneNumber(_,x){return zh(this._delegate,function Ah(b,g,_){return Oo.apply(this,arguments)}(this._delegate,_,x))}signInWithPopup(_){var x=this;return(0,d.Z)(function*(){return fu(rd(),x._delegate,"operation-not-supported-in-this-environment"),yo(x._delegate,function zl(b,g,_){return kh.apply(this,arguments)}(x._delegate,_,hr))})()}signInWithRedirect(_){var x=this;return(0,d.Z)(function*(){return fu(rd(),x._delegate,"operation-not-supported-in-this-environment"),yield Lo(x._delegate),Tm(x._delegate,_,hr)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function gh(b,g){return Qs.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=Ui,b})();function h_(b,g,_){let x=b;"function"!=typeof b&&({next:x,error:g,complete:_}=b);const A=x;return{next:$=>A($&&Va.getOrCreate($)),error:g,complete:_}}function gx(b,g){const _=function sd(b,g){const _=Ss();if(!_)return[];const x=H(uu,b,g);switch(_.getItem(x)){case Ui.NONE:return[Cn];case Ui.LOCAL:return[_c,Da];case Ui.SESSION:return[Da];default:return[]}}(b,g);if(typeof self<"u"&&!_.includes(_c)&&_.push(_c),typeof window<"u")for(const x of[po,Da])_.includes(x)||_.push(x);return _.includes(Cn)||_.push(Cn),_}class jm{constructor(){this.providerId="phone",this._delegate=new rs(as(re.Z.auth()))}static credential(g,_){return rs.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}jm.PHONE_SIGN_IN_METHOD=rs.PHONE_SIGN_IN_METHOD,jm.PROVIDER_ID=rs.PROVIDER_ID;const Gy=J;class Hm{constructor(g,_,x=re.Z.app()){var A;Gy(null===(A=x.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:x.name}),this._delegate=new Cm(g,_,x.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function cs(b){b.INTERNAL.registerComponent(new Fe.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),x=g.getProvider("auth");return new $y(_,x)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:uo,FacebookAuthProvider:um,GithubAuthProvider:hm,GoogleAuthProvider:Vd,OAuthProvider:Ws,SAMLAuthProvider:mh,PhoneAuthProvider:jm,PhoneMultiFactorGenerator:ca,RecaptchaVerifier:Hm,TwitterAuthProvider:Ud,Auth:$y,AuthCredential:Ea,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.4.2")}(re.Z)},303:($t,qe,W)=>{W.r(qe),W.d(qe,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>ei,_DEFAULT_ENTRY_NAME:()=>ne,_addComponent:()=>xe,_addOrOverwriteComponent:()=>Ce,_apps:()=>he,_clearComponents:()=>gt,_components:()=>pe,_getProvider:()=>Xt,_registerComponent:()=>ot,_removeServiceInstance:()=>Jn,deleteApp:()=>Fi,getApp:()=>En,getApps:()=>Bt,initializeApp:()=>Si,onLog:()=>oo,registerVersion:()=>bi,setLogLevel:()=>vs});var d=W(861),re=W(537),B=W(879),se=W(58),fe=W(878);class de{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map(ge=>{if(function Fe(_e){const G=_e.getComponent();return"VERSION"===G?.type}(ge)){const $e=ge.getImmediate();return`${$e.library}/${$e.version}`}return null}).filter(ge=>ge).join(" ")}}const He="@firebase/app",Y=new B.Yd("@firebase/app"),ne="[DEFAULT]",ue={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},he=new Map,pe=new Map;function xe(_e,G){try{_e.container.addComponent(G)}catch(ge){Y.debug(`Component ${G.name} failed to register with FirebaseApp ${_e.name}`,ge)}}function Ce(_e,G){_e.container.addOrOverwriteComponent(G)}function ot(_e){const G=_e.name;if(pe.has(G))return Y.debug(`There were multiple attempts to register component ${G}.`),!1;pe.set(G,_e);for(const ge of he.values())xe(ge,_e);return!0}function Xt(_e,G){const ge=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return ge&&ge.triggerHeartbeat(),_e.container.getProvider(G)}function Jn(_e,G,ge=ne){Xt(_e,G).clearInstance(ge)}function gt(){pe.clear()}const Zt=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Fn{constructor(G,ge,$e){this._isDeleted=!1,this._options=Object.assign({},G),this._config=Object.assign({},ge),this._name=ge.name,this._automaticDataCollectionEnabled=ge.automaticDataCollectionEnabled,this._container=$e,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this.checkDestroyed(),this._automaticDataCollectionEnabled=G}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(G){this._isDeleted=G}checkDestroyed(){if(this.isDeleted)throw Zt.create("app-deleted",{appName:this._name})}}const ei="10.4.0";function Si(_e,G={}){let ge=_e;"object"!=typeof G&&(G={name:G});const $e=Object.assign({name:ne,automaticDataCollectionEnabled:!1},G),Ye=$e.name;if("string"!=typeof Ye||!Ye)throw Zt.create("bad-app-name",{appName:String(Ye)});if(ge||(ge=(0,se.aH)()),!ge)throw Zt.create("no-options");const at=he.get(Ye);if(at){if((0,se.vZ)(ge,at.options)&&(0,se.vZ)($e,at.config))return at;throw Zt.create("duplicate-app",{appName:Ye})}const Cn=new re.H0(Ye);for(const U of pe.values())Cn.addComponent(U);const H=new Fn(ge,$e,Cn);return he.set(Ye,H),H}function En(_e=ne){const G=he.get(_e);if(!G&&_e===ne&&(0,se.aH)())return Si();if(!G)throw Zt.create("no-app",{appName:_e});return G}function Bt(){return Array.from(he.values())}function Fi(_e){return kn.apply(this,arguments)}function kn(){return(kn=(0,d.Z)(function*(_e){const G=_e.name;he.has(G)&&(he.delete(G),yield Promise.all(_e.container.getProviders().map(ge=>ge.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function bi(_e,G,ge){var $e;let Ye=null!==($e=ue[_e])&&void 0!==$e?$e:_e;ge&&(Ye+=`-${ge}`);const at=Ye.match(/\s|\//),Cn=G.match(/\s|\//);if(at||Cn){const H=[`Unable to register library "${Ye}" with version "${G}":`];return at&&H.push(`library name "${Ye}" contains illegal characters (whitespace or "/")`),at&&Cn&&H.push("and"),Cn&&H.push(`version name "${G}" contains illegal characters (whitespace or "/")`),void Y.warn(H.join(" "))}ot(new re.wA(`${Ye}-version`,()=>({library:Ye,version:G}),"VERSION"))}function oo(_e,G){if(null!==_e&&"function"!=typeof _e)throw Zt.create("invalid-log-argument");(0,B.Am)(_e,G)}function vs(_e){(0,B.Ub)(_e)}const Qo="firebase-heartbeat-database",st=1,At="firebase-heartbeat-store";let Ft=null;function $r(){return Ft||(Ft=(0,fe.X3)(Qo,st,{upgrade:(_e,G)=>{0===G&&_e.createObjectStore(At)}}).catch(_e=>{throw Zt.create("idb-open",{originalErrorMessage:_e.message})})),Ft}function ze(){return(ze=(0,d.Z)(function*(_e){try{return yield(yield $r()).transaction(At).objectStore(At).get(Gr(_e))}catch(G){if(G instanceof se.ZR)Y.warn(G.message);else{const ge=Zt.create("idb-get",{originalErrorMessage:G?.message});Y.warn(ge.message)}}})).apply(this,arguments)}function Li(_e,G){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,d.Z)(function*(_e,G){try{const $e=(yield $r()).transaction(At,"readwrite");yield $e.objectStore(At).put(G,Gr(_e)),yield $e.done}catch(ge){if(ge instanceof se.ZR)Y.warn(ge.message);else{const $e=Zt.create("idb-set",{originalErrorMessage:ge?.message});Y.warn($e.message)}}})).apply(this,arguments)}function Gr(_e){return`${_e.name}!${_e.options.appId}`}class Yt{constructor(G){this.container=G,this._heartbeatsCache=null;const ge=this.container.getProvider("app").getImmediate();this._storage=new Dt(ge),this._heartbeatsCachePromise=this._storage.read().then($e=>(this._heartbeatsCache=$e,$e))}triggerHeartbeat(){var G=this;return(0,d.Z)(function*(){const $e=G.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ye=ar();if(null===G._heartbeatsCache&&(G._heartbeatsCache=yield G._heartbeatsCachePromise),G._heartbeatsCache.lastSentHeartbeatDate!==Ye&&!G._heartbeatsCache.heartbeats.some(at=>at.date===Ye))return G._heartbeatsCache.heartbeats.push({date:Ye,agent:$e}),G._heartbeatsCache.heartbeats=G._heartbeatsCache.heartbeats.filter(at=>{const Cn=new Date(at.date).valueOf();return Date.now()-Cn<=2592e6}),G._storage.overwrite(G._heartbeatsCache)})()}getHeartbeatsHeader(){var G=this;return(0,d.Z)(function*(){if(null===G._heartbeatsCache&&(yield G._heartbeatsCachePromise),null===G._heartbeatsCache||0===G._heartbeatsCache.heartbeats.length)return"";const ge=ar(),{heartbeatsToSend:$e,unsentEntries:Ye}=function Ao(_e,G=1024){const ge=[];let $e=_e.slice();for(const Ye of _e){const at=ge.find(Cn=>Cn.agent===Ye.agent);if(at){if(at.dates.push(Ye.date),Ot(ge)>G){at.dates.pop();break}}else if(ge.push({agent:Ye.agent,dates:[Ye.date]}),Ot(ge)>G){ge.pop();break}$e=$e.slice(1)}return{heartbeatsToSend:ge,unsentEntries:$e}}(G._heartbeatsCache.heartbeats),at=(0,se.L)(JSON.stringify({version:2,heartbeats:$e}));return G._heartbeatsCache.lastSentHeartbeatDate=ge,Ye.length>0?(G._heartbeatsCache.heartbeats=Ye,yield G._storage.overwrite(G._heartbeatsCache)):(G._heartbeatsCache.heartbeats=[],G._storage.overwrite(G._heartbeatsCache)),at})()}}function ar(){return(new Date).toISOString().substring(0,10)}class Dt{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var G=this;return(0,d.Z)(function*(){return(yield G._canUseIndexedDBPromise)&&(yield function Zn(_e){return ze.apply(this,arguments)}(G.app))||{heartbeats:[]}})()}overwrite(G){var ge=this;return(0,d.Z)(function*(){var $e;if(yield ge._canUseIndexedDBPromise){const at=yield ge.read();return Li(ge.app,{lastSentHeartbeatDate:null!==($e=G.lastSentHeartbeatDate)&&void 0!==$e?$e:at.lastSentHeartbeatDate,heartbeats:G.heartbeats})}})()}add(G){var ge=this;return(0,d.Z)(function*(){var $e;if(yield ge._canUseIndexedDBPromise){const at=yield ge.read();return Li(ge.app,{lastSentHeartbeatDate:null!==($e=G.lastSentHeartbeatDate)&&void 0!==$e?$e:at.lastSentHeartbeatDate,heartbeats:[...at.heartbeats,...G.heartbeats]})}})()}}function Ot(_e){return(0,se.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function Xo(_e){ot(new re.wA("platform-logger",G=>new de(G),"PRIVATE")),ot(new re.wA("heartbeat",G=>new Yt(G),"PRIVATE")),bi(He,"0.9.19",_e),bi(He,"0.9.19","esm2017"),bi("fire-js","")}("")},537:($t,qe,W)=>{W.d(qe,{H0:()=>He,wA:()=>B,zt:()=>fe});var d=W(861),re=W(58);class B{constructor(Y,Z,me){this.name=Y,this.instanceFactory=Z,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const se="[DEFAULT]";class fe{constructor(Y,Z){this.name=Y,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const Z=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(Z)){const me=new re.BH;if(this.instancesDeferred.set(Z,me),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Xe=this.getOrInitializeService({instanceIdentifier:Z});Xe&&me.resolve(Xe)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(Y){var Z;const me=this.normalizeInstanceIdentifier(Y?.identifier),Xe=null!==(Z=Y?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(Xe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(Oe){if(Xe)return null;throw Oe}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function Fe(Ee){return"EAGER"===Ee.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[Z,me]of this.instancesDeferred.entries()){const Xe=this.normalizeInstanceIdentifier(Z);try{const Oe=this.getOrInitializeService({instanceIdentifier:Xe});me.resolve(Oe)}catch{}}}}clearInstance(Y=se){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,d.Z)(function*(){const Z=Array.from(Y.instances.values());yield Promise.all([...Z.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...Z.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=se){return this.instances.has(Y)}getOptions(Y=se){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:Z={}}=Y,me=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Xe=this.getOrInitializeService({instanceIdentifier:me,options:Z});for(const[Oe,ut]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(Oe)&&ut.resolve(Xe);return Xe}onInit(Y,Z){var me;const Xe=this.normalizeInstanceIdentifier(Z),Oe=null!==(me=this.onInitCallbacks.get(Xe))&&void 0!==me?me:new Set;Oe.add(Y),this.onInitCallbacks.set(Xe,Oe);const ut=this.instances.get(Xe);return ut&&Y(ut,Xe),()=>{Oe.delete(Y)}}invokeOnInitCallbacks(Y,Z){const me=this.onInitCallbacks.get(Z);if(me)for(const Xe of me)try{Xe(Y,Z)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:Z={}}){let me=this.instances.get(Y);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=Y,Ee===se?void 0:Ee),options:Z}),this.instances.set(Y,me),this.instancesOptions.set(Y,Z),this.invokeOnInitCallbacks(me,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,me)}catch{}var Ee;return me||null}normalizeInstanceIdentifier(Y=se){return this.component?this.component.multipleInstances?Y:se:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const Z=this.getProvider(Y.name);if(Z.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);Z.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const Z=new fe(Y,this);return this.providers.set(Y,Z),Z}getProviders(){return Array.from(this.providers.values())}}},879:($t,qe,W)=>{W.d(qe,{Am:()=>Ee,Ub:()=>He,Yd:()=>Fe,in:()=>re});const d=[];var re=function(Y){return Y[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",Y}(re||{});const B={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},se=re.INFO,fe={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},de=(Y,Z,...me)=>{if(Z<Y.logLevel)return;const Xe=(new Date).toISOString(),Oe=fe[Z];if(!Oe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Oe](`[${Xe}]  ${Y.name}:`,...me)};class Fe{constructor(Z){this.name=Z,this._logLevel=se,this._logHandler=de,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in re))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?B[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...Z),this._logHandler(this,re.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...Z),this._logHandler(this,re.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,re.INFO,...Z),this._logHandler(this,re.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,re.WARN,...Z),this._logHandler(this,re.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...Z),this._logHandler(this,re.ERROR,...Z)}}function He(Y){d.forEach(Z=>{Z.setLogLevel(Y)})}function Ee(Y,Z){for(const me of d){let Xe=null;Z&&Z.level&&(Xe=B[Z.level]),me.userLogHandler=null===Y?null:(Oe,ut,...Nt)=>{const nt=Nt.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");ut>=(Xe??Oe.logLevel)&&Y({level:re[ut].toLowerCase(),message:nt,args:Nt,type:Oe.name})}}}},878:($t,qe,W)=>{W.d(qe,{X3:()=>St});var d=W(861);const re=(be,J)=>J.some(Ge=>be instanceof Ge);let B,se;const Fe=new WeakMap,He=new WeakMap,Ee=new WeakMap,Y=new WeakMap,Z=new WeakMap;let Oe={get(be,J,Ge){if(be instanceof IDBTransaction){if("done"===J)return He.get(be);if("objectStoreNames"===J)return be.objectStoreNames||Ee.get(be);if("store"===J)return Ge.objectStoreNames[1]?void 0:Ge.objectStore(Ge.objectStoreNames[0])}return Ve(be[J])},set:(be,J,Ge)=>(be[J]=Ge,!0),has:(be,J)=>be instanceof IDBTransaction&&("done"===J||"store"===J)||J in be};function nt(be){return"function"==typeof be?function Nt(be){return be!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return se||(se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(be)?function(...J){return be.apply(Tt(this),J),Ve(Fe.get(this))}:function(...J){return Ve(be.apply(Tt(this),J))}:function(J,...Ge){const Vt=be.call(Tt(this),J,...Ge);return Ee.set(Vt,J.sort?J.sort():[J]),Ve(Vt)}}(be):(be instanceof IDBTransaction&&function Xe(be){if(He.has(be))return;const J=new Promise((Ge,Vt)=>{const un=()=>{be.removeEventListener("complete",qn),be.removeEventListener("error",Rn),be.removeEventListener("abort",Rn)},qn=()=>{Ge(),un()},Rn=()=>{Vt(be.error||new DOMException("AbortError","AbortError")),un()};be.addEventListener("complete",qn),be.addEventListener("error",Rn),be.addEventListener("abort",Rn)});He.set(be,J)}(be),re(be,function fe(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(be,Oe):be)}function Ve(be){if(be instanceof IDBRequest)return function me(be){const J=new Promise((Ge,Vt)=>{const un=()=>{be.removeEventListener("success",qn),be.removeEventListener("error",Rn)},qn=()=>{Ge(Ve(be.result)),un()},Rn=()=>{Vt(be.error),un()};be.addEventListener("success",qn),be.addEventListener("error",Rn)});return J.then(Ge=>{Ge instanceof IDBCursor&&Fe.set(Ge,be)}).catch(()=>{}),Z.set(J,be),J}(be);if(Y.has(be))return Y.get(be);const J=nt(be);return J!==be&&(Y.set(be,J),Z.set(J,be)),J}const Tt=be=>Z.get(be);function St(be,J,{blocked:Ge,upgrade:Vt,blocking:un,terminated:qn}={}){const Rn=indexedDB.open(be,J),Pi=Ve(Rn);return Vt&&Rn.addEventListener("upgradeneeded",Wn=>{Vt(Ve(Rn.result),Wn.oldVersion,Wn.newVersion,Ve(Rn.transaction),Wn)}),Ge&&Rn.addEventListener("blocked",Wn=>Ge(Wn.oldVersion,Wn.newVersion,Wn)),Pi.then(Wn=>{qn&&Wn.addEventListener("close",()=>qn()),un&&Wn.addEventListener("versionchange",pi=>un(pi.oldVersion,pi.newVersion,pi))}).catch(()=>{}),Pi}const Le=["get","getKey","getAll","getAllKeys","count"],it=["put","add","delete","clear"],wt=new Map;function Ke(be,J){if(!(be instanceof IDBDatabase)||J in be||"string"!=typeof J)return;if(wt.get(J))return wt.get(J);const Ge=J.replace(/FromIndex$/,""),Vt=J!==Ge,un=it.includes(Ge);if(!(Ge in(Vt?IDBIndex:IDBObjectStore).prototype)||!un&&!Le.includes(Ge))return;const qn=function(){var Rn=(0,d.Z)(function*(Pi,...Wn){const pi=this.transaction(Pi,un?"readwrite":"readonly");let ne=pi.store;return Vt&&(ne=ne.index(Wn.shift())),(yield Promise.all([ne[Ge](...Wn),un&&pi.done]))[0]});return function(Wn){return Rn.apply(this,arguments)}}();return wt.set(J,qn),qn}!function ut(be){Oe=be(Oe)}(be=>({...be,get:(J,Ge,Vt)=>Ke(J,Ge)||be.get(J,Ge,Vt),has:(J,Ge)=>!!Ke(J,Ge)||be.has(J,Ge)}))},861:($t,qe,W)=>{function d(B,se,fe,de,Fe,He,Ee){try{var Y=B[He](Ee),Z=Y.value}catch(me){return void fe(me)}Y.done?se(Z):Promise.resolve(Z).then(de,Fe)}function re(B){return function(){var se=this,fe=arguments;return new Promise(function(de,Fe){var He=B.apply(se,fe);function Ee(Z){d(He,de,Fe,Ee,Y,"next",Z)}function Y(Z){d(He,de,Fe,Ee,Y,"throw",Z)}Ee(void 0)})}}W.d(qe,{Z:()=>re})},582:($t,qe,W)=>{function se(ne,ue){var he={};for(var pe in ne)Object.prototype.hasOwnProperty.call(ne,pe)&&ue.indexOf(pe)<0&&(he[pe]=ne[pe]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(pe=Object.getOwnPropertySymbols(ne);xe<pe.length;xe++)ue.indexOf(pe[xe])<0&&Object.prototype.propertyIsEnumerable.call(ne,pe[xe])&&(he[pe[xe]]=ne[pe[xe]])}return he}function me(ne,ue,he,pe){return new(he||(he=Promise))(function(Ce,ot){function Xt(sn){try{gt(pe.next(sn))}catch(Zt){ot(Zt)}}function Jn(sn){try{gt(pe.throw(sn))}catch(Zt){ot(Zt)}}function gt(sn){sn.done?Ce(sn.value):function xe(Ce){return Ce instanceof he?Ce:new he(function(ot){ot(Ce)})}(sn.value).then(Xt,Jn)}gt((pe=pe.apply(ne,ue||[])).next())})}function vt(ne){return this instanceof vt?(this.v=ne,this):new vt(ne)}function Le(ne,ue,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,pe=he.apply(ne,ue||[]),Ce=[];return xe={},ot("next"),ot("throw"),ot("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function ot(Fn){pe[Fn]&&(xe[Fn]=function(ei){return new Promise(function(Si,En){Ce.push([Fn,ei,Si,En])>1||Xt(Fn,ei)})})}function Xt(Fn,ei){try{!function Jn(Fn){Fn.value instanceof vt?Promise.resolve(Fn.value.v).then(gt,sn):Zt(Ce[0][2],Fn)}(pe[Fn](ei))}catch(Si){Zt(Ce[0][3],Si)}}function gt(Fn){Xt("next",Fn)}function sn(Fn){Xt("throw",Fn)}function Zt(Fn,ei){Fn(ei),Ce.shift(),Ce.length&&Xt(Ce[0][0],Ce[0][1])}}function wt(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,ue=ne[Symbol.asyncIterator];return ue?ue.call(ne):(ne=function Nt(ne){var ue="function"==typeof Symbol&&Symbol.iterator,he=ue&&ne[ue],pe=0;if(he)return he.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&pe>=ne.length&&(ne=void 0),{value:ne&&ne[pe++],done:!ne}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),he={},pe("next"),pe("throw"),pe("return"),he[Symbol.asyncIterator]=function(){return this},he);function pe(Ce){he[Ce]=ne[Ce]&&function(ot){return new Promise(function(Xt,Jn){!function xe(Ce,ot,Xt,Jn){Promise.resolve(Jn).then(function(gt){Ce({value:gt,done:Xt})},ot)}(Xt,Jn,(ot=ne[Ce](ot)).done,ot.value)})}}}W.d(qe,{FC:()=>Le,KL:()=>wt,_T:()=>se,mG:()=>me,qq:()=>vt}),"function"==typeof SuppressedError&&SuppressedError}},$t=>{$t($t.s=583)}]);